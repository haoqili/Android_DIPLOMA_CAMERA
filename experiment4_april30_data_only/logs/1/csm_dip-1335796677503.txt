1335796677510: *** Opened log file for writing ***
1335796677511: Android build: SAMSUNG-SGH-I717
1335796677511: NET_NAME set to: eth0
1335796677511: starting Mux with id = -1
1335796677512: areButtonsEnabled --> true
1335796677513: *** Application started ***
1335796677514: HI I'm in ONRESUME()
1335796677517: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1335796677521: ************ GPS turned OFF *************
1335796677524: mux: Mux.java run() beginning -------------
1335796677536: mux: Mux.java's nodeId is5005
1335796677537: mux: starting vncDaemon ........
1335796677554: mux: vncDaemon started
1335796677538: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1335796677554: VCoreDaemon.java onStart() ....
1335796677555: started, mId = 5005
1335796677555: VCoreDaemon.java inside stateTransition ..........
1335796677555: removing leaderRequestRetryR because I'm doing a stateTransition
1335796677555: ..... VCoreDaemon.java out of bounds
1335796677555: region (-1, -1) out of bounds, dormant
1335796677556: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335796780796: Received UDP payload: 446
1335796781076: Received UDP payload: 446
1335796781213: moving from region (-1,-1), to (3,0)
1335796781213: VCoreDaemon.java inside stateTransition ..........
1335796781214: removing leaderRequestRetryR because I'm doing a stateTransition
1335796781214: ..... VCoreDaemon.java targetState = JOINING (3,0)
1335796781214: posting leaderRequestRetryR because I'm joining
1335796781215: sending LEADER_REQUEST
1335796781215: inside sendPacket(Packet p)
1335796781215: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335796781222: Sending UDP payload: 446
1335796781223: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335796781381: Received UDP payload: 446
1335796781516: sending LEADER_REQUEST
1335796781516: inside sendPacket(Packet p)
1335796781517: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335796781519: Sending UDP payload: 446
1335796781678: Received UDP payload: 446
1335796781817: sending LEADER_REQUEST
1335796781818: inside sendPacket(Packet p)
1335796781818: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335796781822: Sending UDP payload: 446
1335796782119: sending LEADER_REQUEST
1335796782119: inside sendPacket(Packet p)
1335796782120: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335796782126: Sending UDP payload: 446
1335796782224: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335796782224: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335796782224: VCoreDaemon.java inside stateTransition ..........
1335796782225: removing leaderRequestRetryR because I'm doing a stateTransition
1335796782225: ..... VCoreDaemon.java targetState = LEADER
1335796782226: trying to take leadership (3,0) to the cloud
1335796783429: Received UDP payload: 446
1335796783736: Received UDP payload: 446
1335796784044: Received UDP payload: 446
1335796784348: Received UDP payload: 446
1335796784600: cloud accepted leadership request, no csm data included.
1335796784600: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1335796784600: *** Starting CSM Layer ***
1335796784600: *** CSM Layer starting with cache disabled ***
1335796784600: *** CSM Layer starting with forwarding disabled ***
1335796784632: DSMLayer starting
1335796784643: UserApp started.
1335796784645: UserApp for Camera Diploma initialized and waiting for requests.
1335796784818: inside sendPacket(Packet p)
1335796784831: Sending UDP payload: 22318
1335796784835: now fully up as LEADER (id=5005) of (3,0)
1335796784835: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335796784835: inside sendPacket(Packet p)
1335796784836: Sending UDP payload: 446
1335796784837: heard LEADER_REQUEST from node 5011, responding LEADER_REPLY
1335796784937: inside sendPacket(Packet p)
1335796784946: Sending UDP payload: 22335
1335796784955: heard LEADER_REQUEST from node 5011, responding LEADER_REPLY
1335796785090: inside sendPacket(Packet p)
1335796785102: Sending UDP payload: 22335
1335796785103: heard LEADER_REQUEST from node 5011, responding LEADER_REPLY
1335796785188: inside sendPacket(Packet p)
1335796785198: Sending UDP payload: 22335
1335796785197: heard LEADER_REQUEST from node 5011, responding LEADER_REPLY
1335796785275: inside sendPacket(Packet p)
1335796785276: Sending UDP payload: 22335
1335796786165: Received UDP payload: 446
1335796786378: Received UDP payload: 446
1335796786434: Received UDP payload: 446
1335796786742: Received UDP payload: 446
1335796787042: Received UDP payload: 446
1335796788407: Received UDP payload: 446
1335796788702: Received UDP payload: 446
1335796789003: Received UDP payload: 446
1335796789233: Received UDP payload: 446
1335796789306: Received UDP payload: 446
1335796789536: Received UDP payload: 446
1335796789829: Received UDP payload: 446
1335796789838: inside sendPacket(Packet p)
1335796789862: Sending UDP payload: 446
1335796790642: Received UDP payload: 22335
1335796791446: Received UDP payload: 446
1335796792982: canPressButton = TRUE
1335796792982: areButtonsEnabled --> false
1335796792982: disabling buttons ...
1335796792982: took picture disableButtonsR
1335796792983: areButtonsEnabled --> false
1335796793094: one more takeNum: 1
1335796793095: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335796793096: Clicked take picture button ..
1335796793235: Received UDP payload: 7157
1335796793251: mux: GOT CSM_Msg
1335796793252: Received UDP payload: 989
1335796793255: forwarding disabled, not forwarding packets
1335796793261: mux: GOT CSM_Msg
1335796793261: forwarding disabled, not forwarding packets
1335796793810: Received UDP payload: 446
1335796794112: Received UDP payload: 446
1335796794313: inside HandlePictureStorage onPictureTaken()
1335796794314: one more takeCamGood: 1
1335796794315: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335796794586: Picture successfully taken, ORIG BYTE LENGTH = 2313102
1335796794821: Our new height x width: 306 x 408
1335796794821: Show photo from handle my camera take
1335796794822: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335796794822: change local requestCounter to 1
1335796794850: BYTE SIZE AFTER COMPRESSION: 5481
1335796794856: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5005001 Client in region: 3 Client nodID: 5005
1335796794416: Received UDP payload: 446
1335796794717: Received UDP payload: 446
1335796794838: inside sendPacket(Packet p)
1335796794845: Sending UDP payload: 446
1335796794897: ----------------------------
1335796794897: inside sendRequestPacketRepeatingRunnable for requestCount = 5005001
1335796794898: I'm a leader, my requesting photos packet going to mux directly
1335796794908: --- Finished one round of sending REQUEST Packet ---------
1335796794899: mux: Inside mux Packet.CLIENT_REQUEST
1335796794899: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796794952: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796794899: inside handleClientRequest. Originator leader of region 3
1335796794899: got new request, requestCounter = 5005001
1335796794899: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796794900: Sending PROC_REQUEST 10:0 (3,0)->(3,0)
1335796794900: Dispatching Atom PROC_REQUEST 10:0 (3,0)->(3,0)
1335796794901: mux: I got a CSM packet at a leader 

1335796794955: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796794956: I'm a leader and I successfully saved my client's new photo
1335796794957: now showing in UI the new photo I just saved ... 
1335796794957: the photo length: 5481
1335796794997: end of server show photo aside %%%%%%%%%
1335796794901: Note down new request by adding requestCounter=5005001 to HashMap processedRequests
1335796794901: Make FirstLeg Ack regardless of new or already-processed requests
1335796794901: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796794907: Sending UDP payload: 6492
1335796794916: removed replies before id 0 from sentReplies of size 0
1335796794916: inside handleDSMRequest. At requests's remote leader of region 3
1335796794918: Inside UPLOAD_PHOTO!!
1335796794927: my_gpinfo.isSuccess is now (should be true): true
1335796794927: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796794929: Received PROC_REQUEST 10:0 (3,0)->(3,0), replying PROC_REPLY 10:0 (3,0)->(3,0)
1335796794935: Dispatching Atom PROC_REPLY 10:0 (3,0)->(3,0)
1335796794935: mux: I got a CSM packet at a leader 

1335796795000: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335796795001: disabling progressdialog due to successful new photo upload
1335796795001: Inside _enableButtons
1335796795001: areButtonsEnabled --> true
1335796795002: send final leg ack regardless of new or already-processed reply
1335796795002: inside finalLegAck: change requestCounter to 2
1335796795003: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005002 Client in region: (3,0) Client nodID: 5005
1335796795003: I'm a leader client, my final_leg packet going to mux directly
1335796795006: new client_upload_photo_ack reply with replyCounter 500500001
1335796795006: note down new reply by adding replyCounter=500500001 to HashMap processedReplies
1335796795007: leader upload new photo latency = 101
1335796795007: = leader upload start 1335796794899 ~ stop 1335796795000
1335796795010: one more takeGoodSave: 1
1335796795011: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335796795011: SUCCESS Client now knows saving photo on its leader succeeded
1335796794937: Sending UDP payload: 989
1335796794945: Received PROC_REPLY 10:0 (3,0)->(3,0), handing to UserApp
1335796794945: inside handleDSMReply. Now back in originator leader of region 3
1335796794946: DSM layer: Going to and from remote region took latency = 46
1335796794946: DSM layer: orig leader sent packet at 1335796794899 ~ received reply from remote leader at 1335796794945
1335796794947: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796794947: change leader replyCounter to: 1
1335796794947: reply packet contains the success info for UPLOAD_PHOTO
1335796794948: inside sendReplies of replyCount = 500500001
1335796794948: =======================
1335796794948: inside sendReplyRepeatingRunnable for replyCount = 500500001
1335796794949: Leader about to send REPLY packet, number: 500500001 type: 16 Leader in region: (3,0) to Client nodID: 5005
1335796794949: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796794949: === Finished one round of sending REPLY Packet =======
1335796795004: mux: Inside mux Packet.CLIENT_REQUEST
1335796795004: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796795004: inside handleClientRequest. Originator leader of region 3
1335796795004: got new request, requestCounter = 5005002
1335796795004: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500001
1335796795004: Yay the last leg succeeded. Removing reply runnables ...
1335796795005: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500001
1335796795005: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500001
1335796795005: do not send ack for received final_leg_ack
1335796795105: Received UDP payload: 4952
1335796795111: mux: Inside mux Packet.CLIENT_REQUEST
1335796795112: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796795112: inside handleClientRequest. Originator leader of region 3
1335796795112: got new request, requestCounter = 5011001
1335796795112: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796795112: Sending PROC_REQUEST 10:1 (3,0)->(3,0)
1335796795113: Dispatching Atom PROC_REQUEST 10:1 (3,0)->(3,0)
1335796795113: mux: I got a CSM packet at a leader 

1335796795178: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796795180: I'm a leader and I successfully saved my client's new photo
1335796795180: now showing in UI the new photo I just saved ... 
1335796795180: the photo length: 4305
1335796795227: end of server show photo aside %%%%%%%%%
1335796795113: Note down new request by adding requestCounter=5011001 to HashMap processedRequests
1335796795113: Make FirstLeg Ack regardless of new or already-processed requests
1335796795113: The leader sending a First Leg ack to originator client (which id = 5011)
1335796795113: inside sendPacket(Packet p)
1335796795133: Sending UDP payload: 5316
1335796795137: removed replies before id 1 from sentReplies of size 0
1335796795137: inside handleDSMRequest. At requests's remote leader of region 3
1335796795139: Inside UPLOAD_PHOTO!!
1335796795141: my_gpinfo.isSuccess is now (should be true): true
1335796795144: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796795146: Received PROC_REQUEST 10:1 (3,0)->(3,0), replying PROC_REPLY 10:1 (3,0)->(3,0)
1335796795146: Dispatching Atom PROC_REPLY 10:1 (3,0)->(3,0)
1335796795163: mux: I got a CSM packet at a leader 

1335796795147: Sending UDP payload: 446
1335796795165: Sending UDP payload: 989
1335796795167: Received PROC_REPLY 10:1 (3,0)->(3,0), handing to UserApp
1335796795169: inside handleDSMReply. Now back in originator leader of region 3
1335796795169: DSM layer: Going to and from remote region took latency = 57
1335796795169: DSM layer: orig leader sent packet at 1335796795112 ~ received reply from remote leader at 1335796795169
1335796795170: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796795171: change leader replyCounter to: 2
1335796795171: reply packet contains the success info for UPLOAD_PHOTO
1335796795171: inside sendReplies of replyCount = 500500002
1335796795171: =======================
1335796795171: inside sendReplyRepeatingRunnable for replyCount = 500500002
1335796795171: Leader about to send REPLY packet, number: 500500002 type: 16 Leader in region: (3,0) to Client nodID: 5011
1335796795172: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796795172: inside sendPacket(Packet p)
1335796795172: === Finished one round of sending REPLY Packet =======
1335796795173: Sending UDP payload: 642
1335796795294: Received UDP payload: 446
1335796795296: mux: Inside mux Packet.CLIENT_REQUEST
1335796795296: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796795296: inside handleClientRequest. Originator leader of region 3
1335796795296: got new request, requestCounter = 5011002
1335796795296: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500002
1335796795297: Yay the last leg succeeded. Removing reply runnables ...
1335796795297: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500002
1335796795297: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500002
1335796795297: do not send ack for received final_leg_ack
1335796796390: Received UDP payload: 446
1335796796437: Received UDP payload: 446
1335796796987: Received UDP payload: 446
1335796796998: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1335796797137: inside sendPacket(Packet p)
1335796797148: Sending UDP payload: 27422
1335796797296: Received UDP payload: 446
1335796797298: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1335796797369: inside sendPacket(Packet p)
1335796797372: Sending UDP payload: 27422
1335796797631: Received UDP payload: 446
1335796797634: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1335796797810: inside sendPacket(Packet p)
1335796797825: Sending UDP payload: 27422
1335796797972: Received UDP payload: 446
1335796797976: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1335796798167: inside sendPacket(Packet p)
1335796798179: Sending UDP payload: 28037
1335796798985: Received UDP payload: 446
1335796799839: inside sendPacket(Packet p)
1335796799842: Sending UDP payload: 446
1335796801388: Received UDP payload: 989
1335796801409: mux: GOT CSM_Msg
1335796801410: forwarding disabled, not forwarding packets
1335796801425: Received UDP payload: 446
1335796801481: Received UDP payload: 446
1335796801965: Received UDP payload: 7048
1335796801971: mux: Inside mux Packet.CLIENT_REQUEST
1335796802085: Received UDP payload: 7412
1335796802101: mux: GOT CSM_Msg
1335796802103: forwarding disabled, not forwarding packets
1335796802113: Received UDP payload: 446
1335796802137: mux: Inside Packet.SERVER_REPLY
1335796802137: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796802137: Received UDP payload: 989
1335796802141: mux: GOT CSM_Msg
1335796802141: forwarding disabled, not forwarding packets
1335796802141: Received UDP payload: 642
1335796802143: mux: Inside Packet.SERVER_REPLY
1335796802143: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796802398: Received UDP payload: 642
1335796802401: mux: Inside Packet.SERVER_REPLY
1335796802402: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796802431: Received UDP payload: 446
1335796802434: mux: Inside mux Packet.CLIENT_REQUEST
1335796803035: Received UDP payload: 4093
1335796803042: mux: Inside mux Packet.CLIENT_REQUEST
1335796803070: Received UDP payload: 989
1335796803085: mux: GOT CSM_Msg
1335796803086: forwarding disabled, not forwarding packets
1335796803179: Received UDP payload: 989
1335796803185: mux: GOT CSM_Msg
1335796803185: forwarding disabled, not forwarding packets
1335796803240: Received UDP payload: 4457
1335796803244: mux: GOT CSM_Msg
1335796803244: forwarding disabled, not forwarding packets
1335796803247: Received UDP payload: 642
1335796803250: mux: Inside Packet.SERVER_REPLY
1335796803250: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796803266: Received UDP payload: 446
1335796803269: mux: Inside mux Packet.CLIENT_REQUEST
1335796803404: Received UDP payload: 4093
1335796803406: mux: Inside mux Packet.CLIENT_REQUEST
1335796803455: Received UDP payload: 446
1335796803754: Received UDP payload: 446
1335796804058: Received UDP payload: 446
1335796804841: inside sendPacket(Packet p)
1335796804846: Sending UDP payload: 446
1335796806261: Received UDP payload: 625
1335796806270: mux: Inside mux Packet.CLIENT_REQUEST
1335796806271: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796806271: inside handleClientRequest. Originator leader of region 3
1335796806272: got new request, requestCounter = 5011003
1335796806272: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796806292: Sending to region: 0
1335796806294: Sending PROC_REQUEST 11:0 (3,0)->(0,0)
1335796806303: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(0,0)
1335796806306: mux: I got a CSM packet at a leader 

1335796806303: Note down new request by adding requestCounter=5011003 to HashMap processedRequests
1335796806306: Make FirstLeg Ack regardless of new or already-processed requests
1335796806306: The leader sending a First Leg ack to originator client (which id = 5011)
1335796806306: inside sendPacket(Packet p)
1335796806323: Sending UDP payload: 989
1335796806325: forwarding disabled, not forwarding packets
1335796806326: Sending UDP payload: 446
1335796806392: Received UDP payload: 446
1335796806519: Received UDP payload: 625
1335796806521: mux: Inside mux Packet.CLIENT_REQUEST
1335796806563: Received UDP payload: 625
1335796806566: mux: Inside mux Packet.CLIENT_REQUEST
1335796806566: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796806566: inside handleClientRequest. Originator leader of region 3
1335796806566: discarding repeated requestCounter=5011003, but still send an ack back
1335796806566: Note down new request by adding requestCounter=5011003 to HashMap processedRequests
1335796806567: Make FirstLeg Ack regardless of new or already-processed requests
1335796806567: The leader sending a First Leg ack to originator client (which id = 5011)
1335796806567: inside sendPacket(Packet p)
1335796806568: Sending UDP payload: 446
1335796806600: Received UDP payload: 989
1335796806604: mux: GOT CSM_Msg
1335796806604: forwarding disabled, not forwarding packets
1335796806823: Received UDP payload: 625
1335796806825: mux: Inside mux Packet.CLIENT_REQUEST
1335796806848: Received UDP payload: 446
1335796806850: mux: Inside Packet.SERVER_REPLY
1335796806850: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796807053: Retrying PROC_REQUEST 11:0 (3,0)->(0,0)
1335796807053: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(0,0)
1335796807055: mux: I got a CSM packet at a leader 

1335796807058: Sending UDP payload: 989
1335796807060: forwarding disabled, not forwarding packets
1335796807135: Received UDP payload: 4457
1335796807141: mux: GOT CSM_Msg
1335796807142: Received PROC_REPLY 11:0 (0,0)->(3,0), handing to UserApp
1335796807142: inside handleDSMReply. Now back in originator leader of region 3
1335796807142: DSM layer: Going to and from remote region took latency = 850
1335796807143: DSM layer: orig leader sent packet at 1335796806292 ~ received reply from remote leader at 1335796807142
1335796807146: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796807147: change leader replyCounter to: 3
1335796807147: reply packet contains the newest photo/success info from the remote region
1335796807147: inside sendReplies of replyCount = 500500003
1335796807148: =======================
1335796807148: inside sendReplyRepeatingRunnable for replyCount = 500500003
1335796807148: Leader about to send REPLY packet, number: 500500003 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796807149: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796807149: inside sendPacket(Packet p)
1335796807149: === Finished one round of sending REPLY Packet =======
1335796807153: Sending UDP payload: 4110
1335796807290: Received UDP payload: 989
1335796807297: mux: GOT CSM_Msg
1335796807298: forwarding disabled, not forwarding packets
1335796807351: Received UDP payload: 4457
1335796807361: mux: GOT CSM_Msg
1335796807361: forwarding disabled, not forwarding packets
1335796807385: Received UDP payload: 989
1335796807397: mux: GOT CSM_Msg
1335796807397: forwarding disabled, not forwarding packets
1335796807449: =======================
1335796807450: inside sendReplyRepeatingRunnable for replyCount = 500500003
1335796807450: Leader about to send REPLY packet, number: 500500003 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796807450: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796807450: inside sendPacket(Packet p)
1335796807450: === Finished one round of sending REPLY Packet =======
1335796807452: Sending UDP payload: 4110
1335796807496: Received UDP payload: 4457
1335796807500: mux: GOT CSM_Msg
1335796807500: forwarding disabled, not forwarding packets
1335796807563: Received UDP payload: 446
1335796807565: mux: Inside mux Packet.CLIENT_REQUEST
1335796807565: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796807566: inside handleClientRequest. Originator leader of region 3
1335796807566: got new request, requestCounter = 5011004
1335796807566: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500003
1335796807566: Yay the last leg succeeded. Removing reply runnables ...
1335796807566: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500003
1335796807566: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500003
1335796807567: do not send ack for received final_leg_ack
1335796807733: Received UDP payload: 4110
1335796807735: mux: Inside Packet.SERVER_REPLY
1335796807735: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796807749: Received UDP payload: 446
1335796807751: mux: Inside mux Packet.CLIENT_REQUEST
1335796808781: Received UDP payload: 446
1335796809843: inside sendPacket(Packet p)
1335796809847: Sending UDP payload: 446
1335796811401: Received UDP payload: 446
1335796811435: Received UDP payload: 446
1335796811502: Received UDP payload: 989
1335796811513: mux: GOT CSM_Msg
1335796811514: forwarding disabled, not forwarding packets
1335796811525: Received UDP payload: 989
1335796811550: mux: GOT CSM_Msg
1335796811550: forwarding disabled, not forwarding packets
1335796812531: Received UDP payload: 989
1335796812542: mux: GOT CSM_Msg
1335796812542: forwarding disabled, not forwarding packets
1335796812605: Received UDP payload: 989
1335796812616: mux: GOT CSM_Msg
1335796812617: forwarding disabled, not forwarding packets
1335796813801: Received UDP payload: 446
1335796813814: canPressButton = TRUE
1335796813815: areButtonsEnabled --> false 
1335796813815: get picture disableButtonsR
1335796813816: areButtonsEnabled --> false
1335796813844: one more getNum: 1
1335796813845: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1335796813845: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335796813845: change local requestCounter to 3
1335796813848: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005003 Client in region: 3 Client nodID: 5005
1335796813878: ----------------------------
1335796813879: inside sendRequestPacketRepeatingRunnable for requestCount = 5005003
1335796813879: I'm a leader, my requesting photos packet going to mux directly
1335796813880: --- Finished one round of sending REQUEST Packet ---------
1335796813880: mux: Inside mux Packet.CLIENT_REQUEST
1335796813880: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796813941: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796813880: inside handleClientRequest. Originator leader of region 3
1335796813880: got new request, requestCounter = 5005003
1335796813881: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796813883: Sending to region: 3
1335796813885: Sending PROC_REQUEST 11:2 (3,0)->(3,0)
1335796813886: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(3,0)
1335796813887: mux: I got a CSM packet at a leader 

1335796813886: Note down new request by adding requestCounter=5005003 to HashMap processedRequests
1335796813887: Make FirstLeg Ack regardless of new or already-processed requests
1335796813887: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796813889: Sending UDP payload: 989
1335796813890: removed replies before id 2 from sentReplies of size 0
1335796813890: inside handleDSMRequest. At requests's remote leader of region 3
1335796813891: INSIDE SERVER_GET_PHOTO!!!
1335796813894: dst_region == src_region = 3
1335796813894:  1 self to self atomRequest
1335796813896: Received PROC_REQUEST 11:2 (3,0)->(3,0), replying PROC_REPLY 11:2 (3,0)->(3,0)
1335796813897: Dispatching Atom PROC_REPLY 11:2 (3,0)->(3,0)
1335796813897: mux: I got a CSM packet at a leader 

1335796813949: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796813949: disabling progressdialog due to successful new photo get
1335796813949: Inside _enableButtons
1335796813950: areButtonsEnabled --> true
1335796813950: send final leg ack regardless of new or already-processed reply
1335796813950: inside finalLegAck: change requestCounter to 4
1335796813951: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005004 Client in region: (3,0) Client nodID: 5005
1335796813951: I'm a leader client, my final_leg packet going to mux directly
1335796813951: new client_show_remotephoto reply with replyCounter 500500004
1335796813952: note down new reply by adding replyCounter=500500004 to HashMap processedReplies
1335796813952: leader download remote photo latency = 69
1335796813953: = leader download start 1335796813880 ~ stop 1335796813949
1335796813955: one more getGood: 1
1335796813955: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335796813956: successful reply for client get photo
1335796813956: Success! Client getting photo from remote region, showing photo...
1335796813956: Remote photo's length: 4305
1335796813899: Sending UDP payload: 5316
1335796813901: Received PROC_REPLY 11:2 (3,0)->(3,0), handing to UserApp
1335796813901: inside handleDSMReply. Now back in originator leader of region 3
1335796813901: DSM layer: Going to and from remote region took latency = 18
1335796813902: DSM layer: orig leader sent packet at 1335796813883 ~ received reply from remote leader at 1335796813901
1335796813918: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796813919: change leader replyCounter to: 4
1335796813919: reply packet contains the newest photo/success info from the remote region
1335796813919: inside sendReplies of replyCount = 500500004
1335796813920: =======================
1335796813920: inside sendReplyRepeatingRunnable for replyCount = 500500004
1335796813921: Leader about to send REPLY packet, number: 500500004 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335796813921: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796813921: === Finished one round of sending REPLY Packet =======
1335796813951: mux: Inside mux Packet.CLIENT_REQUEST
1335796813952: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796813952: inside handleClientRequest. Originator leader of region 3
1335796813952: got new request, requestCounter = 5005004
1335796813952: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500004
1335796813952: Yay the last leg succeeded. Removing reply runnables ...
1335796813952: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500004
1335796813953: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500004
1335796813953: do not send ack for received final_leg_ack
1335796814218: Received UDP payload: 4987
1335796814222: mux: Inside mux Packet.CLIENT_REQUEST
1335796814322: Received UDP payload: 446
1335796814562: Received UDP payload: 446
1335796814665: Received UDP payload: 4987
1335796814672: mux: Inside mux Packet.CLIENT_REQUEST
1335796814825: Received UDP payload: 5351
1335796814846: inside sendPacket(Packet p)
1335796814914: mux: GOT CSM_Msg
1335796814872: Received UDP payload: 446
1335796814906: Sending UDP payload: 446
1335796814915: mux: Inside Packet.SERVER_REPLY
1335796814915: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796814909: Received UDP payload: 446
1335796814911: Received UDP payload: 989
1335796814915: mux: GOT CSM_Msg
1335796814915: forwarding disabled, not forwarding packets
1335796814916: forwarding disabled, not forwarding packets
1335796814922: Received UDP payload: 642
1335796814925: mux: Inside Packet.SERVER_REPLY
1335796814926: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796815174: Received UDP payload: 446
1335796815272: Received UDP payload: 642
1335796815274: mux: Inside Packet.SERVER_REPLY
1335796815274: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796815417: Received UDP payload: 642
1335796815419: mux: Inside Packet.SERVER_REPLY
1335796815419: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796815458: Received UDP payload: 446
1335796815461: mux: Inside mux Packet.CLIENT_REQUEST
1335796815589: Received UDP payload: 989
1335796815596: mux: GOT CSM_Msg
1335796815596: removed replies before id 0 from sentReplies of size 0
1335796815597: inside handleDSMRequest. At requests's remote leader of region 3
1335796815600: INSIDE SERVER_GET_PHOTO!!!
1335796815611: Received UDP payload: 989
1335796815626: Received PROC_REQUEST 11:0 (1,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(1,0)
1335796815627: Dispatching Atom PROC_REPLY 11:0 (3,0)->(1,0)
1335796815627: mux: I got a CSM packet at a leader 

1335796815660: mux: GOT CSM_Msg
1335796815630: Received UDP payload: 989
1335796815652: Sending UDP payload: 5316
1335796815663: mux: GOT CSM_Msg
1335796815654: Received UDP payload: 989
1335796815653: forwarding disabled, not forwarding packets
1335796815661: removed replies before id 0 from sentReplies of size 1
1335796815662: Received DUPLICATE PROC_REQUEST 11:0 (1,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(1,0)
1335796815663: Dispatching Atom PROC_REPLY 11:0 (3,0)->(1,0)
1335796815677: mux: I got a CSM packet at a leader 

1335796815663: removed replies before id 0 from sentReplies of size 1
1335796815690: mux: GOT CSM_Msg
1335796815676: Received DUPLICATE PROC_REQUEST 11:0 (1,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(1,0)
1335796815677: Dispatching Atom PROC_REPLY 11:0 (3,0)->(1,0)
1335796815699: mux: I got a CSM packet at a leader 

1335796815680: Sending UDP payload: 5316
1335796815689: forwarding disabled, not forwarding packets
1335796815691: removed replies before id 0 from sentReplies of size 1
1335796815693: Received DUPLICATE PROC_REQUEST 11:0 (1,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(1,0)
1335796815694: Dispatching Atom PROC_REPLY 11:0 (3,0)->(1,0)
1335796815707: mux: I got a CSM packet at a leader 

1335796815702: Sending UDP payload: 5316
1335796815706: forwarding disabled, not forwarding packets
1335796815710: Sending UDP payload: 5316
1335796815721: forwarding disabled, not forwarding packets
1335796815809: Received UDP payload: 989
1335796815815: mux: GOT CSM_Msg
1335796815816: removed replies before id 0 from sentReplies of size 1
1335796815817: Received DUPLICATE PROC_REQUEST 11:0 (1,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(1,0)
1335796815818: Dispatching Atom PROC_REPLY 11:0 (3,0)->(1,0)
1335796815818: mux: I got a CSM packet at a leader 

1335796815821: Sending UDP payload: 5316
1335796815824: forwarding disabled, not forwarding packets
1335796816119: Received UDP payload: 625
1335796816126: mux: Inside mux Packet.CLIENT_REQUEST
1335796816172: Received UDP payload: 989
1335796816187: mux: GOT CSM_Msg
1335796816187: forwarding disabled, not forwarding packets
1335796816214: Received UDP payload: 446
1335796816216: mux: Inside Packet.SERVER_REPLY
1335796816216: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796816434: Received UDP payload: 446
1335796816939: Received UDP payload: 446
1335796816947: mux: Inside mux Packet.CLIENT_REQUEST
1335796818186: Received UDP payload: 4977
1335796818201: mux: GOT CSM_Msg
1335796818201: forwarding disabled, not forwarding packets
1335796818212: Received UDP payload: 989
1335796818223: mux: GOT CSM_Msg
1335796818224: forwarding disabled, not forwarding packets
1335796818797: Received UDP payload: 446
1335796819846: inside sendPacket(Packet p)
1335796819851: Sending UDP payload: 446
1335796821395: Received UDP payload: 446
1335796821432: Received UDP payload: 446
1335796821531: Received UDP payload: 989
1335796821543: mux: GOT CSM_Msg
1335796821543: forwarding disabled, not forwarding packets
1335796821603: Received UDP payload: 4977
1335796821606: mux: GOT CSM_Msg
1335796821606: forwarding disabled, not forwarding packets
1335796822083: Received UDP payload: 625
1335796822088: mux: Inside mux Packet.CLIENT_REQUEST
1335796822131: Received UDP payload: 989
1335796822137: mux: GOT CSM_Msg
1335796822137: forwarding disabled, not forwarding packets
1335796822368: Received UDP payload: 625
1335796822376: mux: Inside mux Packet.CLIENT_REQUEST
1335796822376: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796822377: inside handleClientRequest. Originator leader of region 3
1335796822377: got new request, requestCounter = 5013001
1335796822378: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796822380: Sending to region: 3
1335796822382: Sending PROC_REQUEST 11:3 (3,0)->(3,0)
1335796822389: Dispatching Atom PROC_REQUEST 11:3 (3,0)->(3,0)
1335796822393: mux: I got a CSM packet at a leader 

1335796822389: Note down new request by adding requestCounter=5013001 to HashMap processedRequests
1335796822390: Make FirstLeg Ack regardless of new or already-processed requests
1335796822390: The leader sending a First Leg ack to originator client (which id = 5013)
1335796822390: inside sendPacket(Packet p)
1335796822399: Sending UDP payload: 989
1335796822401: removed replies before id 3 from sentReplies of size 0
1335796822402: inside handleDSMRequest. At requests's remote leader of region 3
1335796822410: INSIDE SERVER_GET_PHOTO!!!
1335796822412: dst_region == src_region = 3
1335796822413:  1 self to self atomRequest
1335796822423: Received PROC_REQUEST 11:3 (3,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(3,0)
1335796822425: Dispatching Atom PROC_REPLY 11:3 (3,0)->(3,0)
1335796822431: mux: I got a CSM packet at a leader 

1335796822429: Sending UDP payload: 446
1335796822439: Received UDP payload: 625
1335796822441: Sending UDP payload: 5316
1335796822461: mux: Inside mux Packet.CLIENT_REQUEST
1335796822456: Received PROC_REPLY 11:3 (3,0)->(3,0), handing to UserApp
1335796822457: inside handleDSMReply. Now back in originator leader of region 3
1335796822457: DSM layer: Going to and from remote region took latency = 77
1335796822457: DSM layer: orig leader sent packet at 1335796822380 ~ received reply from remote leader at 1335796822457
1335796822459: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796822459: change leader replyCounter to: 5
1335796822459: reply packet contains the newest photo/success info from the remote region
1335796822459: inside sendReplies of replyCount = 500500005
1335796822460: =======================
1335796822460: inside sendReplyRepeatingRunnable for replyCount = 500500005
1335796822460: Leader about to send REPLY packet, number: 500500005 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796822460: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796822461: inside sendPacket(Packet p)
1335796822461: === Finished one round of sending REPLY Packet =======
1335796822463: Sending UDP payload: 4969
1335796822471: Received UDP payload: 446
1335796822474: mux: Inside Packet.SERVER_REPLY
1335796822474: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796822762: =======================
1335796822762: inside sendReplyRepeatingRunnable for replyCount = 500500005
1335796822763: Leader about to send REPLY packet, number: 500500005 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796822763: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796822763: inside sendPacket(Packet p)
1335796822764: === Finished one round of sending REPLY Packet =======
1335796822768: Sending UDP payload: 4969
1335796822798: Received UDP payload: 989
1335796822807: mux: GOT CSM_Msg
1335796822808: removed replies before id 1 from sentReplies of size 0
1335796822808: inside handleDSMRequest. At requests's remote leader of region 3
1335796822810: INSIDE SERVER_GET_PHOTO!!!
1335796822813: Received PROC_REQUEST 11:1 (1,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(1,0)
1335796822814: Dispatching Atom PROC_REPLY 11:1 (3,0)->(1,0)
1335796822814: mux: I got a CSM packet at a leader 

1335796822818: Sending UDP payload: 5316
1335796822819: forwarding disabled, not forwarding packets
1335796822870: Received UDP payload: 989
1335796822891: mux: GOT CSM_Msg
1335796822891: forwarding disabled, not forwarding packets
1335796822926: Received UDP payload: 989
1335796822933: mux: GOT CSM_Msg
1335796822933: forwarding disabled, not forwarding packets
1335796823031: Received UDP payload: 625
1335796823038: mux: Inside mux Packet.CLIENT_REQUEST
1335796823045: Received UDP payload: 989
1335796823053: mux: GOT CSM_Msg
1335796823054: forwarding disabled, not forwarding packets
1335796823063: =======================
1335796823064: inside sendReplyRepeatingRunnable for replyCount = 500500005
1335796823065: Leader about to send REPLY packet, number: 500500005 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796823065: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796823065: inside sendPacket(Packet p)
1335796823065: === Finished one round of sending REPLY Packet =======
1335796823082: Sending UDP payload: 4969
1335796823148: Received UDP payload: 989
1335796823152: mux: GOT CSM_Msg
1335796823152: forwarding disabled, not forwarding packets
1335796823252: Received UDP payload: 989
1335796823262: mux: GOT CSM_Msg
1335796823263: forwarding disabled, not forwarding packets
1335796823297: Received UDP payload: 7412
1335796823310: mux: GOT CSM_Msg
1335796823310: Received UDP payload: 989
1335796823310: forwarding disabled, not forwarding packets
1335796823321: mux: GOT CSM_Msg
1335796823322: forwarding disabled, not forwarding packets
1335796823331: Received UDP payload: 446
1335796823337: mux: Inside Packet.SERVER_REPLY
1335796823338: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796823351: Received UDP payload: 989
1335796823363: mux: GOT CSM_Msg
1335796823363: forwarding disabled, not forwarding packets
1335796823376: =======================
1335796823378: inside sendReplyRepeatingRunnable for replyCount = 500500005
1335796823379: Leader about to send REPLY packet, number: 500500005 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796823379: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796823380: inside sendPacket(Packet p)
1335796823380: === Finished one round of sending REPLY Packet =======
1335796823385: Sending UDP payload: 4969
1335796823462: inside sendReplyTimeoutR
1335796823463: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500005
1335796823466: Received UDP payload: 989
1335796823476: mux: GOT CSM_Msg
1335796823477: forwarding disabled, not forwarding packets
1335796823613: Received UDP payload: 446
1335796823616: mux: Inside mux Packet.CLIENT_REQUEST
1335796823616: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796823617: inside handleClientRequest. Originator leader of region 3
1335796823617: got new request, requestCounter = 5013002
1335796823618: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500005
1335796823618: Yay the last leg succeeded. Removing reply runnables ...
1335796823619: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500005
1335796823619: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500005
1335796823620: do not send ack for received final_leg_ack
1335796823827: Received UDP payload: 4977
1335796823841: mux: GOT CSM_Msg
1335796823841: forwarding disabled, not forwarding packets
1335796823841: Received UDP payload: 625
1335796823850: mux: Inside mux Packet.CLIENT_REQUEST
1335796823877: Received UDP payload: 989
1335796823897: mux: GOT CSM_Msg
1335796823898: forwarding disabled, not forwarding packets
1335796823900: Received UDP payload: 989
1335796823919: mux: GOT CSM_Msg
1335796823919: forwarding disabled, not forwarding packets
1335796823920: Received UDP payload: 989
1335796823931: mux: GOT CSM_Msg
1335796823931: forwarding disabled, not forwarding packets
1335796823979: Received UDP payload: 989
1335796823993: mux: GOT CSM_Msg
1335796823994: forwarding disabled, not forwarding packets
1335796823996: Received UDP payload: 625
1335796824003: mux: Inside mux Packet.CLIENT_REQUEST
1335796824018: Received UDP payload: 446
1335796824055: Received UDP payload: 989
1335796824064: mux: GOT CSM_Msg
1335796824065: forwarding disabled, not forwarding packets
1335796824151: Received UDP payload: 989
1335796824156: mux: GOT CSM_Msg
1335796824157: forwarding disabled, not forwarding packets
1335796824250: Received UDP payload: 989
1335796824260: mux: GOT CSM_Msg
1335796824261: forwarding disabled, not forwarding packets
1335796824263: Received UDP payload: 642
1335796824269: mux: Inside Packet.SERVER_REPLY
1335796824270: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796824286: Received UDP payload: 446
1335796824297: mux: Inside mux Packet.CLIENT_REQUEST
1335796824530: Received UDP payload: 7412
1335796824543: mux: GOT CSM_Msg
1335796824544: forwarding disabled, not forwarding packets
1335796824655: Received UDP payload: 625
1335796824664: mux: Inside mux Packet.CLIENT_REQUEST
1335796824664: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796824665: inside handleClientRequest. Originator leader of region 3
1335796824665: got new request, requestCounter = 5011005
1335796824666: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796824673: Sending to region: 3
1335796824676: Sending PROC_REQUEST 11:4 (3,0)->(3,0)
1335796824677: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(3,0)
1335796824689: mux: I got a CSM packet at a leader 

1335796824678: Note down new request by adding requestCounter=5011005 to HashMap processedRequests
1335796824678: Make FirstLeg Ack regardless of new or already-processed requests
1335796824678: The leader sending a First Leg ack to originator client (which id = 5011)
1335796824686: inside sendPacket(Packet p)
1335796824706: Sending UDP payload: 989
1335796824708: removed replies before id 4 from sentReplies of size 0
1335796824709: inside handleDSMRequest. At requests's remote leader of region 3
1335796824711: INSIDE SERVER_GET_PHOTO!!!
1335796824716: dst_region == src_region = 3
1335796824716:  1 self to self atomRequest
1335796824717: Received PROC_REQUEST 11:4 (3,0)->(3,0), replying PROC_REPLY 11:4 (3,0)->(3,0)
1335796824717: Dispatching Atom PROC_REPLY 11:4 (3,0)->(3,0)
1335796824727: mux: I got a CSM packet at a leader 

1335796824725: Sending UDP payload: 446
1335796824733: Sending UDP payload: 5316
1335796824742: Received PROC_REPLY 11:4 (3,0)->(3,0), handing to UserApp
1335796824743: inside handleDSMReply. Now back in originator leader of region 3
1335796824743: DSM layer: Going to and from remote region took latency = 69
1335796824744: DSM layer: orig leader sent packet at 1335796824674 ~ received reply from remote leader at 1335796824743
1335796824745: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796824745: change leader replyCounter to: 6
1335796824746: reply packet contains the newest photo/success info from the remote region
1335796824746: inside sendReplies of replyCount = 500500006
1335796824746: =======================
1335796824746: inside sendReplyRepeatingRunnable for replyCount = 500500006
1335796824747: Leader about to send REPLY packet, number: 500500006 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796824747: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796824748: inside sendPacket(Packet p)
1335796824748: === Finished one round of sending REPLY Packet =======
1335796824753: Sending UDP payload: 4969
1335796824848: inside sendPacket(Packet p)
1335796824850: Sending UDP payload: 446
1335796824876: Received UDP payload: 7412
1335796824881: mux: GOT CSM_Msg
1335796824882: forwarding disabled, not forwarding packets
1335796825024: Received UDP payload: 446
1335796825027: mux: Inside mux Packet.CLIENT_REQUEST
1335796825027: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796825027: inside handleClientRequest. Originator leader of region 3
1335796825028: got new request, requestCounter = 5011006
1335796825028: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500006
1335796825028: Yay the last leg succeeded. Removing reply runnables ...
1335796825028: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500006
1335796825028: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500006
1335796825028: do not send ack for received final_leg_ack
1335796825099: Received UDP payload: 446
1335796825104: mux: Inside Packet.SERVER_REPLY
1335796825104: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796825326: Received UDP payload: 446
1335796825332: mux: Inside Packet.SERVER_REPLY
1335796825332: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796825468: Received UDP payload: 7412
1335796825480: mux: GOT CSM_Msg
1335796825480: forwarding disabled, not forwarding packets
1335796825568: Received UDP payload: 7412
1335796825581: mux: GOT CSM_Msg
1335796825582: forwarding disabled, not forwarding packets
1335796825684: Received UDP payload: 3982
1335796825691: mux: Inside mux Packet.CLIENT_REQUEST
1335796825751: Received UDP payload: 4346
1335796825763: mux: GOT CSM_Msg
1335796825764: forwarding disabled, not forwarding packets
1335796825809: Received UDP payload: 446
1335796825815: mux: Inside Packet.SERVER_REPLY
1335796825816: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796825857: Received UDP payload: 989
1335796825860: mux: GOT CSM_Msg
1335796825860: forwarding disabled, not forwarding packets
1335796825950: Received UDP payload: 642
1335796825952: mux: Inside Packet.SERVER_REPLY
1335796825952: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796825987: Received UDP payload: 3982
1335796825989: mux: Inside mux Packet.CLIENT_REQUEST
1335796826041: Received UDP payload: 3982
1335796826043: mux: Inside mux Packet.CLIENT_REQUEST
1335796826070: Received UDP payload: 446
1335796826074: mux: Inside Packet.SERVER_REPLY
1335796826074: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796826073: Received UDP payload: 7412
1335796826076: mux: GOT CSM_Msg
1335796826077: forwarding disabled, not forwarding packets
1335796826096: Received UDP payload: 642
1335796826098: mux: Inside Packet.SERVER_REPLY
1335796826099: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796826127: Received UDP payload: 446
1335796826129: mux: Inside mux Packet.CLIENT_REQUEST
1335796826190: Received UDP payload: 446
1335796826192: mux: Inside Packet.SERVER_REPLY
1335796826192: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796826285: Received UDP payload: 7412
1335796826289: mux: GOT CSM_Msg
1335796826289: forwarding disabled, not forwarding packets
1335796826443: Received UDP payload: 7412
1335796826459: mux: GOT CSM_Msg
1335796826460: forwarding disabled, not forwarding packets
1335796826471: Received UDP payload: 446
1335796826516: Received UDP payload: 4630
1335796826526: mux: Inside Packet.SERVER_REPLY
1335796826527: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796826594: Received UDP payload: 446
1335796826621: Received UDP payload: 446
1335796826625: mux: Inside mux Packet.CLIENT_REQUEST
1335796828793: Received UDP payload: 446
1335796828980: Received UDP payload: 6754
1335796828989: mux: Inside mux Packet.CLIENT_REQUEST
1335796829273: Received UDP payload: 6754
1335796829300: mux: Inside mux Packet.CLIENT_REQUEST
1335796829414: Received UDP payload: 7118
1335796829436: mux: GOT CSM_Msg
1335796829436: forwarding disabled, not forwarding packets
1335796829436: Received UDP payload: 446
1335796829447: mux: Inside Packet.SERVER_REPLY
1335796829447: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796829443: Received UDP payload: 989
1335796829462: mux: GOT CSM_Msg
1335796829462: Received UDP payload: 642
1335796829462: forwarding disabled, not forwarding packets
1335796829466: mux: Inside Packet.SERVER_REPLY
1335796829467: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796829466: Received UDP payload: 625
1335796829469: mux: Inside mux Packet.CLIENT_REQUEST
1335796829479: canPressButton = TRUE
1335796829480: areButtonsEnabled --> false
1335796829480: disabling buttons ...
1335796829481: took picture disableButtonsR
1335796829481: areButtonsEnabled --> false
1335796829511: one more takeNum: 2
1335796829513: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335796829513: Clicked take picture button ..
1335796829490: Received UDP payload: 446
1335796829492: mux: Inside mux Packet.CLIENT_REQUEST
1335796829536: Received UDP payload: 989
1335796829539: mux: GOT CSM_Msg
1335796829540: removed replies before id 2 from sentReplies of size 0
1335796829540: inside handleDSMRequest. At requests's remote leader of region 3
1335796829543: INSIDE SERVER_GET_PHOTO!!!
1335796829546: Received UDP payload: 446
1335796829553: mux: Inside Packet.SERVER_REPLY
1335796829553: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796829552: Received PROC_REQUEST 11:2 (1,0)->(3,0), replying PROC_REPLY 11:2 (3,0)->(1,0)
1335796829552: Dispatching Atom PROC_REPLY 11:2 (3,0)->(1,0)
1335796829553: mux: I got a CSM packet at a leader 

1335796829560: Sending UDP payload: 5316
1335796829561: forwarding disabled, not forwarding packets
1335796829756: Received UDP payload: 4969
1335796829758: mux: Inside Packet.SERVER_REPLY
1335796829758: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796829849: inside sendPacket(Packet p)
1335796829850: Sending UDP payload: 446
1335796830052: Received UDP payload: 4969
1335796830054: mux: Inside Packet.SERVER_REPLY
1335796830055: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796830358: Received UDP payload: 4969
1335796830360: mux: Inside Packet.SERVER_REPLY
1335796830360: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796830379: Received UDP payload: 446
1335796830380: mux: Inside mux Packet.CLIENT_REQUEST
1335796830429: Received UDP payload: 989
1335796830432: mux: GOT CSM_Msg
1335796830432: forwarding disabled, not forwarding packets
1335796830854: inside HandlePictureStorage onPictureTaken()
1335796830855: one more takeCamGood: 2
1335796830855: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335796831118: Picture successfully taken, ORIG BYTE LENGTH = 2667265
1335796831345: Our new height x width: 306 x 408
1335796831345: Show photo from handle my camera take
1335796831346: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335796831346: change local requestCounter to 5
1335796831365: BYTE SIZE AFTER COMPRESSION: 6002
1335796831373: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5005005 Client in region: 3 Client nodID: 5005
1335796831414: ----------------------------
1335796831416: inside sendRequestPacketRepeatingRunnable for requestCount = 5005005
1335796831416: I'm a leader, my requesting photos packet going to mux directly
1335796831424: --- Finished one round of sending REQUEST Packet ---------
1335796831389: Received UDP payload: 446
1335796831416: mux: Inside mux Packet.CLIENT_REQUEST
1335796831416: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796831470: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796831417: inside handleClientRequest. Originator leader of region 3
1335796831417: got new request, requestCounter = 5005005
1335796831417: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796831417: Sending PROC_REQUEST 10:5 (3,0)->(3,0)
1335796831418: Dispatching Atom PROC_REQUEST 10:5 (3,0)->(3,0)
1335796831418: mux: I got a CSM packet at a leader 

1335796831472: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796831473: I'm a leader and I successfully saved my client's new photo
1335796831473: now showing in UI the new photo I just saved ... 
1335796831473: the photo length: 6002
1335796831530: end of server show photo aside %%%%%%%%%
1335796831418: Note down new request by adding requestCounter=5005005 to HashMap processedRequests
1335796831418: Make FirstLeg Ack regardless of new or already-processed requests
1335796831418: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796831434: Sending UDP payload: 7013
1335796831439: removed replies before id 5 from sentReplies of size 0
1335796831439: inside handleDSMRequest. At requests's remote leader of region 3
1335796831445: Inside UPLOAD_PHOTO!!
1335796831449: my_gpinfo.isSuccess is now (should be true): true
1335796831450: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796831460: Received PROC_REQUEST 10:5 (3,0)->(3,0), replying PROC_REPLY 10:5 (3,0)->(3,0)
1335796831461: Dispatching Atom PROC_REPLY 10:5 (3,0)->(3,0)
1335796831461: mux: I got a CSM packet at a leader 

1335796831562: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335796831562: disabling progressdialog due to successful new photo upload
1335796831563: Inside _enableButtons
1335796831563: areButtonsEnabled --> true
1335796831563: send final leg ack regardless of new or already-processed reply
1335796831564: inside finalLegAck: change requestCounter to 6
1335796831564: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005006 Client in region: (3,0) Client nodID: 5005
1335796831564: I'm a leader client, my final_leg packet going to mux directly
1335796831566: new client_upload_photo_ack reply with replyCounter 500500007
1335796831567: note down new reply by adding replyCounter=500500007 to HashMap processedReplies
1335796831567: leader upload new photo latency = 146
1335796831568: = leader upload start 1335796831416 ~ stop 1335796831562
1335796831569: one more takeGoodSave: 2
1335796831570: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335796831570: SUCCESS Client now knows saving photo on its leader succeeded
1335796831463: Sending UDP payload: 989
1335796831518: Received PROC_REPLY 10:5 (3,0)->(3,0), handing to UserApp
1335796831518: inside handleDSMReply. Now back in originator leader of region 3
1335796831519: DSM layer: Going to and from remote region took latency = 101
1335796831519: DSM layer: orig leader sent packet at 1335796831417 ~ received reply from remote leader at 1335796831518
1335796831520: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796831520: change leader replyCounter to: 7
1335796831520: reply packet contains the success info for UPLOAD_PHOTO
1335796831521: inside sendReplies of replyCount = 500500007
1335796831521: =======================
1335796831521: inside sendReplyRepeatingRunnable for replyCount = 500500007
1335796831522: Leader about to send REPLY packet, number: 500500007 type: 16 Leader in region: (3,0) to Client nodID: 5005
1335796831522: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796831522: === Finished one round of sending REPLY Packet =======
1335796831565: mux: Inside mux Packet.CLIENT_REQUEST
1335796831565: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796831565: inside handleClientRequest. Originator leader of region 3
1335796831565: got new request, requestCounter = 5005006
1335796831565: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500007
1335796831565: Yay the last leg succeeded. Removing reply runnables ...
1335796831566: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500007
1335796831566: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500007
1335796831566: do not send ack for received final_leg_ack
1335796832797: Received UDP payload: 989
1335796832823: mux: GOT CSM_Msg
1335796832825: forwarding disabled, not forwarding packets
1335796832903: Received UDP payload: 4346
1335796832907: mux: GOT CSM_Msg
1335796832907: forwarding disabled, not forwarding packets
1335796833813: Received UDP payload: 625
1335796833828: mux: Inside mux Packet.CLIENT_REQUEST
1335796833845: Received UDP payload: 446
1335796833860: Received UDP payload: 625
1335796833878: mux: Inside mux Packet.CLIENT_REQUEST
1335796833878: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796833878: inside handleClientRequest. Originator leader of region 3
1335796833878: got new request, requestCounter = 5013003
1335796833878: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796833879: Sending to region: 2
1335796833879: Sending PROC_REQUEST 11:0 (3,0)->(2,0)
1335796833880: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796833880: mux: I got a CSM packet at a leader 

1335796833880: Note down new request by adding requestCounter=5013003 to HashMap processedRequests
1335796833880: Make FirstLeg Ack regardless of new or already-processed requests
1335796833880: The leader sending a First Leg ack to originator client (which id = 5013)
1335796833880: inside sendPacket(Packet p)
1335796833881: Sending UDP payload: 989
1335796833882: forwarding disabled, not forwarding packets
1335796833883: Sending UDP payload: 446
1335796833884: Received UDP payload: 989
1335796833895: mux: GOT CSM_Msg
1335796833896: removed replies before id 0 from sentReplies of size 0
1335796833896: inside handleDSMRequest. At requests's remote leader of region 3
1335796833896: INSIDE SERVER_GET_PHOTO!!!
1335796833899: Received PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796833899: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796833900: mux: I got a CSM packet at a leader 

1335796833901: Sending UDP payload: 7013
1335796833903: forwarding disabled, not forwarding packets
1335796833917: Received UDP payload: 446
1335796833919: mux: Inside Packet.SERVER_REPLY
1335796833919: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796834634: Received UDP payload: 989
1335796834641: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796834642: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796834644: mux: I got a CSM packet at a leader 

1335796834666: Sending UDP payload: 989
1335796834671: forwarding disabled, not forwarding packets
1335796834684: mux: GOT CSM_Msg
1335796834685: removed replies before id 0 from sentReplies of size 1
1335796834688: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796834689: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796834690: mux: I got a CSM packet at a leader 

1335796834698: Sending UDP payload: 7013
1335796834703: forwarding disabled, not forwarding packets
1335796834713: Received UDP payload: 989
1335796834738: mux: GOT CSM_Msg
1335796834739: removed replies before id 0 from sentReplies of size 1
1335796834741: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796834742: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796834742: mux: I got a CSM packet at a leader 

1335796834745: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796834746: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796834762: mux: I got a CSM packet at a leader 

1335796834750: Sending UDP payload: 7013
1335796834762: forwarding disabled, not forwarding packets
1335796834768: Sending UDP payload: 989
1335796834798: forwarding disabled, not forwarding packets
1335796834828: Received UDP payload: 989
1335796834841: mux: GOT CSM_Msg
1335796834842: removed replies before id 0 from sentReplies of size 1
1335796834844: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796834846: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796834846: mux: I got a CSM packet at a leader 

1335796834848: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796834849: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796834866: mux: I got a CSM packet at a leader 

1335796834850: inside sendPacket(Packet p)
1335796834864: Sending UDP payload: 7013
1335796834866: forwarding disabled, not forwarding packets
1335796834872: Received UDP payload: 989
1335796834878: Sending UDP payload: 989
1335796834896: forwarding disabled, not forwarding packets
1335796834905: Sending UDP payload: 446
1335796834907: mux: GOT CSM_Msg
1335796834909: removed replies before id 0 from sentReplies of size 1
1335796834911: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796834912: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796834912: mux: I got a CSM packet at a leader 

1335796834925: Sending UDP payload: 7013
1335796834938: forwarding disabled, not forwarding packets
1335796834950: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796834951: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796834952: mux: I got a CSM packet at a leader 

1335796834958: Sending UDP payload: 989
1335796834960: forwarding disabled, not forwarding packets
1335796834989: Received UDP payload: 989
1335796835005: mux: GOT CSM_Msg
1335796835006: removed replies before id 0 from sentReplies of size 1
1335796835008: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796835010: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796835010: mux: I got a CSM packet at a leader 

1335796835026: Sending UDP payload: 7013
1335796835027: forwarding disabled, not forwarding packets
1335796835055: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835055: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835056: mux: I got a CSM packet at a leader 

1335796835057: Sending UDP payload: 989
1335796835059: forwarding disabled, not forwarding packets
1335796835091: Received UDP payload: 989
1335796835096: mux: GOT CSM_Msg
1335796835096: removed replies before id 0 from sentReplies of size 1
1335796835096: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796835097: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796835097: mux: I got a CSM packet at a leader 

1335796835101: Sending UDP payload: 7013
1335796835102: forwarding disabled, not forwarding packets
1335796835156: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835157: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835157: mux: I got a CSM packet at a leader 

1335796835159: Sending UDP payload: 989
1335796835160: forwarding disabled, not forwarding packets
1335796835174: Received UDP payload: 989
1335796835177: mux: GOT CSM_Msg
1335796835178: removed replies before id 0 from sentReplies of size 1
1335796835178: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796835179: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796835179: mux: I got a CSM packet at a leader 

1335796835181: Sending UDP payload: 7013
1335796835182: forwarding disabled, not forwarding packets
1335796835257: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835258: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835258: mux: I got a CSM packet at a leader 

1335796835260: Sending UDP payload: 989
1335796835260: forwarding disabled, not forwarding packets
1335796835282: Received UDP payload: 989
1335796835285: mux: GOT CSM_Msg
1335796835286: removed replies before id 0 from sentReplies of size 1
1335796835287: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796835287: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796835288: mux: I got a CSM packet at a leader 

1335796835290: Sending UDP payload: 7013
1335796835290: forwarding disabled, not forwarding packets
1335796835358: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835359: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835359: mux: I got a CSM packet at a leader 

1335796835361: Sending UDP payload: 989
1335796835362: forwarding disabled, not forwarding packets
1335796835376: Received UDP payload: 989
1335796835379: mux: GOT CSM_Msg
1335796835379: removed replies before id 0 from sentReplies of size 1
1335796835380: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796835381: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796835381: mux: I got a CSM packet at a leader 

1335796835382: Sending UDP payload: 7013
1335796835383: forwarding disabled, not forwarding packets
1335796835460: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835460: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835460: mux: I got a CSM packet at a leader 

1335796835462: Sending UDP payload: 989
1335796835462: forwarding disabled, not forwarding packets
1335796835494: Received UDP payload: 989
1335796835503: mux: GOT CSM_Msg
1335796835503: removed replies before id 0 from sentReplies of size 1
1335796835504: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796835504: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796835505: mux: I got a CSM packet at a leader 

1335796835507: Sending UDP payload: 7013
1335796835507: forwarding disabled, not forwarding packets
1335796835561: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835561: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835562: mux: I got a CSM packet at a leader 

1335796835565: Sending UDP payload: 989
1335796835577: forwarding disabled, not forwarding packets
1335796835625: Received UDP payload: 989
1335796835630: mux: GOT CSM_Msg
1335796835631: removed replies before id 0 from sentReplies of size 1
1335796835631: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796835632: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796835632: mux: I got a CSM packet at a leader 

1335796835649: Sending UDP payload: 7013
1335796835650: forwarding disabled, not forwarding packets
1335796835663: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835663: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835664: mux: I got a CSM packet at a leader 

1335796835667: Sending UDP payload: 989
1335796835671: forwarding disabled, not forwarding packets
1335796835708: Received UDP payload: 989
1335796835713: mux: GOT CSM_Msg
1335796835713: removed replies before id 0 from sentReplies of size 1
1335796835714: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796835715: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796835715: mux: I got a CSM packet at a leader 

1335796835719: Sending UDP payload: 7013
1335796835720: forwarding disabled, not forwarding packets
1335796835764: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835765: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835765: mux: I got a CSM packet at a leader 

1335796835767: Sending UDP payload: 989
1335796835769: forwarding disabled, not forwarding packets
1335796835866: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835866: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835867: mux: I got a CSM packet at a leader 

1335796835869: Sending UDP payload: 989
1335796835872: forwarding disabled, not forwarding packets
1335796835969: Retrying PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835970: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(2,0)
1335796835970: mux: I got a CSM packet at a leader 

1335796835972: Sending UDP payload: 989
1335796835973: forwarding disabled, not forwarding packets
1335796836071: DSM Layer: Request timed out, send failure PROC_REPLY 11:0 (2,0)->(3,0)
1335796836072: Dispatching Atom PROC_REPLY 11:0 (2,0)->(3,0)
1335796836072: mux: I got a CSM packet at a leader 

1335796836076: Sending UDP payload: 989
1335796836079: Received PROC_REPLY 11:0 (2,0)->(3,0), handing to UserApp
1335796836079: inside handleDSMReply. Now back in originator leader of region 3
1335796836079: DSM layer timed out, don't log dsm layer latency stuff.
1335796836081: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796836081: change leader replyCounter to: 8
1335796836081: reply packet contains the newest photo/success info from the remote region
1335796836081: inside sendReplies of replyCount = 500500008
1335796836082: =======================
1335796836083: inside sendReplyRepeatingRunnable for replyCount = 500500008
1335796836084: Leader about to send REPLY packet, number: 500500008 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796836085: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796836085: inside sendPacket(Packet p)
1335796836085: === Finished one round of sending REPLY Packet =======
1335796836098: Sending UDP payload: 642
1335796836135: Received UDP payload: 6666
1335796836138: mux: Inside Packet.SERVER_REPLY
1335796836138: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796836149: Received UDP payload: 625
1335796836151: mux: Inside mux Packet.CLIENT_REQUEST
1335796836151: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796836151: inside handleClientRequest. Originator leader of region 3
1335796836152: got new request, requestCounter = 5011007
1335796836152: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796836152: Sending to region: 1
1335796836153: Sending PROC_REQUEST 11:0 (3,0)->(1,0)
1335796836153: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796836153: mux: I got a CSM packet at a leader 

1335796836153: Note down new request by adding requestCounter=5011007 to HashMap processedRequests
1335796836153: Make FirstLeg Ack regardless of new or already-processed requests
1335796836153: The leader sending a First Leg ack to originator client (which id = 5011)
1335796836153: inside sendPacket(Packet p)
1335796836155: Sending UDP payload: 989
1335796836156: Received UDP payload: 625
1335796836156: forwarding disabled, not forwarding packets
1335796836157: Sending UDP payload: 446
1335796836159: mux: Inside mux Packet.CLIENT_REQUEST
1335796836219: Received UDP payload: 989
1335796836244: mux: GOT CSM_Msg
1335796836244: forwarding disabled, not forwarding packets
1335796836252: Received UDP payload: 446
1335796836253: mux: Inside Packet.SERVER_REPLY
1335796836254: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796836386: =======================
1335796836386: inside sendReplyRepeatingRunnable for replyCount = 500500008
1335796836386: Leader about to send REPLY packet, number: 500500008 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796836386: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796836387: inside sendPacket(Packet p)
1335796836387: === Finished one round of sending REPLY Packet =======
1335796836392: Sending UDP payload: 642
1335796836452: Received UDP payload: 625
1335796836456: mux: Inside mux Packet.CLIENT_REQUEST
1335796836456: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796836456: inside handleClientRequest. Originator leader of region 3
1335796836456: discarding repeated requestCounter=5011007, but still send an ack back
1335796836456: Note down new request by adding requestCounter=5011007 to HashMap processedRequests
1335796836457: Make FirstLeg Ack regardless of new or already-processed requests
1335796836457: The leader sending a First Leg ack to originator client (which id = 5011)
1335796836457: inside sendPacket(Packet p)
1335796836458: Sending UDP payload: 446
1335796836474: Received UDP payload: 3999
1335796836476: mux: Inside Packet.SERVER_REPLY
1335796836477: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796836653: Received UDP payload: 6666
1335796836655: mux: Inside Packet.SERVER_REPLY
1335796836655: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796836661: Received UDP payload: 446
1335796836686: =======================
1335796836687: inside sendReplyRepeatingRunnable for replyCount = 500500008
1335796836687: Leader about to send REPLY packet, number: 500500008 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796836687: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796836687: inside sendPacket(Packet p)
1335796836687: === Finished one round of sending REPLY Packet =======
1335796836689: Sending UDP payload: 642
1335796836879: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796836879: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796836880: mux: I got a CSM packet at a leader 

1335796836884: Sending UDP payload: 989
1335796836885: forwarding disabled, not forwarding packets
1335796836952: Received UDP payload: 6666
1335796836956: mux: Inside Packet.SERVER_REPLY
1335796836956: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796836965: Received UDP payload: 989
1335796836971: mux: GOT CSM_Msg
1335796836971: forwarding disabled, not forwarding packets
1335796836981: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796836982: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796836982: mux: I got a CSM packet at a leader 

1335796836984: Sending UDP payload: 989
1335796836986: forwarding disabled, not forwarding packets
1335796836987: =======================
1335796836988: inside sendReplyRepeatingRunnable for replyCount = 500500008
1335796836988: Leader about to send REPLY packet, number: 500500008 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796836988: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796836988: inside sendPacket(Packet p)
1335796836989: === Finished one round of sending REPLY Packet =======
1335796836992: Sending UDP payload: 642
1335796837002: Received UDP payload: 3999
1335796837005: mux: Inside Packet.SERVER_REPLY
1335796837006: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796837018: Received UDP payload: 625
1335796837021: mux: Inside mux Packet.CLIENT_REQUEST
1335796837021: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796837021: inside handleClientRequest. Originator leader of region 3
1335796837021: discarding repeated requestCounter=5011007, but still send an ack back
1335796837021: Note down new request by adding requestCounter=5011007 to HashMap processedRequests
1335796837022: Make FirstLeg Ack regardless of new or already-processed requests
1335796837022: The leader sending a First Leg ack to originator client (which id = 5011)
1335796837022: inside sendPacket(Packet p)
1335796837023: Sending UDP payload: 446
1335796837079: Received UDP payload: 625
1335796837081: mux: Inside mux Packet.CLIENT_REQUEST
1335796837082: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796837082: inside handleClientRequest. Originator leader of region 3
1335796837082: discarding repeated requestCounter=5011007, but still send an ack back
1335796837082: Note down new request by adding requestCounter=5011007 to HashMap processedRequests
1335796837082: Make FirstLeg Ack regardless of new or already-processed requests
1335796837082: The leader sending a First Leg ack to originator client (which id = 5011)
1335796837083: inside sendPacket(Packet p)
1335796837085: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837085: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837086: mux: I got a CSM packet at a leader 

1335796837084: Sending UDP payload: 446
1335796837088: Sending UDP payload: 989
1335796837089: forwarding disabled, not forwarding packets
1335796837096: inside sendReplyTimeoutR
1335796837097: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500008
1335796837186: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837187: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837187: mux: I got a CSM packet at a leader 

1335796837189: Sending UDP payload: 989
1335796837190: forwarding disabled, not forwarding packets
1335796837227: Received UDP payload: 625
1335796837231: mux: Inside mux Packet.CLIENT_REQUEST
1335796837288: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837288: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837288: mux: I got a CSM packet at a leader 

1335796837289: Sending UDP payload: 989
1335796837290: forwarding disabled, not forwarding packets
1335796837389: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837389: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837390: mux: I got a CSM packet at a leader 

1335796837391: Sending UDP payload: 989
1335796837392: forwarding disabled, not forwarding packets
1335796837408: Received UDP payload: 446
1335796837411: mux: Inside mux Packet.CLIENT_REQUEST
1335796837415: Received UDP payload: 625
1335796837419: mux: Inside mux Packet.CLIENT_REQUEST
1335796837428: Received UDP payload: 446
1335796837430: mux: Inside mux Packet.CLIENT_REQUEST
1335796837437: Received UDP payload: 446
1335796837440: mux: Inside mux Packet.CLIENT_REQUEST
1335796837442: Received UDP payload: 446
1335796837444: mux: Inside mux Packet.CLIENT_REQUEST
1335796837449: Received UDP payload: 446
1335796837452: mux: Inside Packet.SERVER_REPLY
1335796837452: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796837490: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837491: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837491: mux: I got a CSM packet at a leader 

1335796837494: Sending UDP payload: 989
1335796837495: forwarding disabled, not forwarding packets
1335796837536: Received UDP payload: 625
1335796837538: mux: Inside mux Packet.CLIENT_REQUEST
1335796837592: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837592: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837592: mux: I got a CSM packet at a leader 

1335796837595: Sending UDP payload: 989
1335796837596: forwarding disabled, not forwarding packets
1335796837612: Received UDP payload: 989
1335796837616: mux: GOT CSM_Msg
1335796837617: forwarding disabled, not forwarding packets
1335796837659: Received UDP payload: 625
1335796837662: mux: Inside mux Packet.CLIENT_REQUEST
1335796837693: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837694: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837695: mux: I got a CSM packet at a leader 

1335796837698: Sending UDP payload: 989
1335796837699: forwarding disabled, not forwarding packets
1335796837736: Received UDP payload: 625
1335796837738: mux: Inside mux Packet.CLIENT_REQUEST
1335796837795: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837796: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837796: mux: I got a CSM packet at a leader 

1335796837798: Sending UDP payload: 989
1335796837798: forwarding disabled, not forwarding packets
1335796837897: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837898: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837899: mux: I got a CSM packet at a leader 

1335796837901: Sending UDP payload: 989
1335796837902: forwarding disabled, not forwarding packets
1335796837935: Received UDP payload: 989
1335796837958: mux: GOT CSM_Msg
1335796837958: forwarding disabled, not forwarding packets
1335796837999: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796837999: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796838000: mux: I got a CSM packet at a leader 

1335796838001: Sending UDP payload: 989
1335796838001: forwarding disabled, not forwarding packets
1335796838021: Received UDP payload: 989
1335796838023: mux: GOT CSM_Msg
1335796838023: forwarding disabled, not forwarding packets
1335796838100: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796838100: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796838100: mux: I got a CSM packet at a leader 

1335796838101: Sending UDP payload: 989
1335796838102: forwarding disabled, not forwarding packets
1335796838122: Received UDP payload: 989
1335796838125: mux: GOT CSM_Msg
1335796838125: forwarding disabled, not forwarding packets
1335796838132: Received UDP payload: 446
1335796838134: mux: Inside mux Packet.CLIENT_REQUEST
1335796838134: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796838134: inside handleClientRequest. Originator leader of region 3
1335796838134: got new request, requestCounter = 5013004
1335796838134: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500008
1335796838134: Yay the last leg succeeded. Removing reply runnables ...
1335796838134: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500008
1335796838135: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500008
1335796838135: do not send ack for received final_leg_ack
1335796838137: Received UDP payload: 446
1335796838139: mux: Inside mux Packet.CLIENT_REQUEST
1335796838139: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796838139: inside handleClientRequest. Originator leader of region 3
1335796838139: got new request, requestCounter = 5013005
1335796838139: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500008
1335796838140: Yay the last leg succeeded. Removing reply runnables ...
1335796838140: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500008
1335796838140: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500008
1335796838140: do not send ack for received final_leg_ack
1335796838202: Retrying PROC_REQUEST 11:0 (3,0)->(1,0)
1335796838202: Dispatching Atom PROC_REQUEST 11:0 (3,0)->(1,0)
1335796838203: mux: I got a CSM packet at a leader 

1335796838204: Sending UDP payload: 989
1335796838204: forwarding disabled, not forwarding packets
1335796838217: Received UDP payload: 989
1335796838220: mux: GOT CSM_Msg
1335796838220: forwarding disabled, not forwarding packets
1335796838303: DSM Layer: Request timed out, send failure PROC_REPLY 11:0 (1,0)->(3,0)
1335796838303: Dispatching Atom PROC_REPLY 11:0 (1,0)->(3,0)
1335796838304: mux: I got a CSM packet at a leader 

1335796838305: Sending UDP payload: 989
1335796838306: Received PROC_REPLY 11:0 (1,0)->(3,0), handing to UserApp
1335796838306: inside handleDSMReply. Now back in originator leader of region 3
1335796838306: DSM layer timed out, don't log dsm layer latency stuff.
1335796838308: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796838309: change leader replyCounter to: 9
1335796838309: reply packet contains the newest photo/success info from the remote region
1335796838309: inside sendReplies of replyCount = 500500009
1335796838309: =======================
1335796838309: inside sendReplyRepeatingRunnable for replyCount = 500500009
1335796838309: Leader about to send REPLY packet, number: 500500009 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796838309: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796838309: inside sendPacket(Packet p)
1335796838310: === Finished one round of sending REPLY Packet =======
1335796838311: Sending UDP payload: 642
1335796838323: Received UDP payload: 989
1335796838326: mux: GOT CSM_Msg
1335796838326: forwarding disabled, not forwarding packets
1335796838424: Received UDP payload: 989
1335796838427: mux: GOT CSM_Msg
1335796838427: forwarding disabled, not forwarding packets
1335796838435: Received UDP payload: 446
1335796838436: mux: Inside mux Packet.CLIENT_REQUEST
1335796838436: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796838436: inside handleClientRequest. Originator leader of region 3
1335796838437: got new request, requestCounter = 5011008
1335796838437: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500009
1335796838437: Yay the last leg succeeded. Removing reply runnables ...
1335796838437: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500009
1335796838437: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500009
1335796838437: do not send ack for received final_leg_ack
1335796838528: Received UDP payload: 989
1335796838531: mux: GOT CSM_Msg
1335796838531: forwarding disabled, not forwarding packets
1335796838628: Received UDP payload: 989
1335796838637: mux: GOT CSM_Msg
1335796838638: forwarding disabled, not forwarding packets
1335796838729: Received UDP payload: 989
1335796838731: mux: GOT CSM_Msg
1335796838731: forwarding disabled, not forwarding packets
1335796838746: Received UDP payload: 7412
1335796838752: mux: GOT CSM_Msg
1335796838752: Received DUPLICATE PROC_REPLY 11:0 (1,0)->(3,0)
1335796838843: Received UDP payload: 989
1335796838848: mux: GOT CSM_Msg
1335796838849: forwarding disabled, not forwarding packets
1335796838962: Received UDP payload: 989
1335796838968: mux: GOT CSM_Msg
1335796838969: forwarding disabled, not forwarding packets
1335796838978: Received UDP payload: 7412
1335796838999: mux: GOT CSM_Msg
1335796839000: Received DUPLICATE PROC_REPLY 11:0 (1,0)->(3,0)
1335796839046: Received UDP payload: 989
1335796839051: mux: GOT CSM_Msg
1335796839051: forwarding disabled, not forwarding packets
1335796839458: Received UDP payload: 989
1335796839480: mux: GOT CSM_Msg
1335796839480: forwarding disabled, not forwarding packets
1335796839646: canPressButton = TRUE
1335796839647: areButtonsEnabled --> false 
1335796839647: get picture disableButtonsR
1335796839647: areButtonsEnabled --> false
1335796839677: one more getNum: 2
1335796839680: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=0 getTimedout=0 getPercent=50%
1335796839680: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335796839680: change local requestCounter to 7
1335796839685: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005007 Client in region: 3 Client nodID: 5005
1335796839723: ----------------------------
1335796839730: inside sendRequestPacketRepeatingRunnable for requestCount = 5005007
1335796839730: I'm a leader, my requesting photos packet going to mux directly
1335796839735: --- Finished one round of sending REQUEST Packet ---------
1335796839730: mux: Inside mux Packet.CLIENT_REQUEST
1335796839730: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796839772: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796839730: inside handleClientRequest. Originator leader of region 3
1335796839730: got new request, requestCounter = 5005007
1335796839731: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796839731: Sending to region: 1
1335796839732: Sending PROC_REQUEST 11:1 (3,0)->(1,0)
1335796839732: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(1,0)
1335796839732: mux: I got a CSM packet at a leader 

1335796839732: Note down new request by adding requestCounter=5005007 to HashMap processedRequests
1335796839732: Make FirstLeg Ack regardless of new or already-processed requests
1335796839732: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796839733: Sending UDP payload: 989
1335796839735: forwarding disabled, not forwarding packets
1335796839785: Received UDP payload: 5313
1335796839788: mux: GOT CSM_Msg
1335796839788: forwarding disabled, not forwarding packets
1335796839849: inside sendPacket(Packet p)
1335796839850: Received UDP payload: 7412
1335796839856: Sending UDP payload: 446
1335796839857: mux: GOT CSM_Msg
1335796839857: Received DUPLICATE PROC_REPLY 11:0 (1,0)->(3,0)
1335796839970: Received UDP payload: 625
1335796839971: mux: Inside mux Packet.CLIENT_REQUEST
1335796839972: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796839972: inside handleClientRequest. Originator leader of region 3
1335796839972: got new request, requestCounter = 5013007
1335796839972: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796839972: Sending to region: 1
1335796839973: Sending PROC_REQUEST 11:2 (3,0)->(1,0)
1335796839973: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796839974: mux: I got a CSM packet at a leader 

1335796839973: Note down new request by adding requestCounter=5013007 to HashMap processedRequests
1335796839973: Make FirstLeg Ack regardless of new or already-processed requests
1335796839974: The leader sending a First Leg ack to originator client (which id = 5013)
1335796839974: inside sendPacket(Packet p)
1335796839978: Sending UDP payload: 989
1335796839979: forwarding disabled, not forwarding packets
1335796839979: Sending UDP payload: 446
1335796840027: Received UDP payload: 446
1335796840028: mux: Inside Packet.SERVER_REPLY
1335796840028: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796840296: Received UDP payload: 446
1335796840298: mux: Inside Packet.SERVER_REPLY
1335796840298: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796840364: Received UDP payload: 5313
1335796840366: mux: GOT CSM_Msg
1335796840366: forwarding disabled, not forwarding packets
1335796840421: Received UDP payload: 5313
1335796840424: mux: GOT CSM_Msg
1335796840424: forwarding disabled, not forwarding packets
1335796840437: Retrying PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840438: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840444: mux: I got a CSM packet at a leader 

1335796840446: Sending UDP payload: 989
1335796840446: forwarding disabled, not forwarding packets
1335796840447: Received UDP payload: 989
1335796840452: mux: GOT CSM_Msg
1335796840452: forwarding disabled, not forwarding packets
1335796840538: Retrying PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840539: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840539: mux: I got a CSM packet at a leader 

1335796840555: Sending UDP payload: 989
1335796840560: forwarding disabled, not forwarding packets
1335796840574: Received UDP payload: 4346
1335796840583: mux: GOT CSM_Msg
1335796840583: forwarding disabled, not forwarding packets
1335796840584: Received UDP payload: 7412
1335796840589: mux: GOT CSM_Msg
1335796840590: Received DUPLICATE PROC_REPLY 11:0 (1,0)->(3,0)
1335796840640: Retrying PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840640: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840640: mux: I got a CSM packet at a leader 

1335796840641: Sending UDP payload: 989
1335796840642: forwarding disabled, not forwarding packets
1335796840741: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796840741: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796840742: mux: I got a CSM packet at a leader 

1335796840741: Retrying PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840742: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840744: mux: I got a CSM packet at a leader 

1335796840743: Sending UDP payload: 989
1335796840744: forwarding disabled, not forwarding packets
1335796840745: Sending UDP payload: 989
1335796840755: forwarding disabled, not forwarding packets
1335796840842: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796840843: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796840844: mux: I got a CSM packet at a leader 

1335796840843: Retrying PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840843: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840855: mux: I got a CSM packet at a leader 

1335796840854: Sending UDP payload: 989
1335796840855: forwarding disabled, not forwarding packets
1335796840856: Sending UDP payload: 989
1335796840859: forwarding disabled, not forwarding packets
1335796840927: Received UDP payload: 7412
1335796840930: mux: GOT CSM_Msg
1335796840930: Received DUPLICATE PROC_REPLY 11:0 (1,0)->(3,0)
1335796840944: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796840945: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796840946: mux: I got a CSM packet at a leader 

1335796840945: Retrying PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840946: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(1,0)
1335796840948: mux: I got a CSM packet at a leader 

1335796840947: Sending UDP payload: 989
1335796840948: forwarding disabled, not forwarding packets
1335796840950: Sending UDP payload: 989
1335796840950: forwarding disabled, not forwarding packets
1335796841047: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841047: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841048: mux: I got a CSM packet at a leader 

1335796841047: Retrying PROC_REQUEST 11:1 (3,0)->(1,0)
1335796841048: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(1,0)
1335796841051: mux: I got a CSM packet at a leader 

1335796841049: Sending UDP payload: 989
1335796841050: forwarding disabled, not forwarding packets
1335796841052: Sending UDP payload: 989
1335796841052: forwarding disabled, not forwarding packets
1335796841149: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841149: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841152: mux: I got a CSM packet at a leader 

1335796841150: Retrying PROC_REQUEST 11:1 (3,0)->(1,0)
1335796841151: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(1,0)
1335796841157: mux: I got a CSM packet at a leader 

1335796841155: Sending UDP payload: 989
1335796841156: forwarding disabled, not forwarding packets
1335796841161: Sending UDP payload: 989
1335796841163: forwarding disabled, not forwarding packets
1335796841252: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841252: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841253: mux: I got a CSM packet at a leader 

1335796841253: Retrying PROC_REQUEST 11:1 (3,0)->(1,0)
1335796841254: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(1,0)
1335796841261: mux: I got a CSM packet at a leader 

1335796841258: Sending UDP payload: 989
1335796841260: forwarding disabled, not forwarding packets
1335796841264: Sending UDP payload: 989
1335796841266: forwarding disabled, not forwarding packets
1335796841347: Received UDP payload: 7412
1335796841353: mux: GOT CSM_Msg
1335796841380: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796841381: disabling progressdialog due to successful new photo get
1335796841382: Inside _enableButtons
1335796841383: areButtonsEnabled --> true
1335796841384: send final leg ack regardless of new or already-processed reply
1335796841384: inside finalLegAck: change requestCounter to 8
1335796841385: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005008 Client in region: (3,0) Client nodID: 5005
1335796841386: I'm a leader client, my final_leg packet going to mux directly
1335796841387: new client_show_remotephoto reply with replyCounter 500500010
1335796841388: note down new reply by adding replyCounter=500500010 to HashMap processedReplies
1335796841388: leader download remote photo latency = 1650
1335796841389: = leader download start 1335796839730 ~ stop 1335796841380
1335796841398: one more getGood: 2
1335796841400: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=2 getBad=0 getTimedout=0 getPercent=100%
1335796841401: successful reply for client get photo
1335796841401: Success! Client getting photo from remote region, showing photo...
1335796841402: Remote photo's length: 6401
1335796841355: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841356: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841381: mux: I got a CSM packet at a leader 

1335796841357: Retrying PROC_REQUEST 11:1 (3,0)->(1,0)
1335796841357: Received PROC_REPLY 11:1 (1,0)->(3,0), handing to UserApp
1335796841358: inside handleDSMReply. Now back in originator leader of region 3
1335796841358: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(1,0)
1335796841358: DSM layer: Going to and from remote region took latency = 1385
1335796841387: mux: I got a CSM packet at a leader 

1335796841358: DSM layer: orig leader sent packet at 1335796839973 ~ received reply from remote leader at 1335796841358
1335796841373: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796841374: change leader replyCounter to: 10
1335796841374: reply packet contains the newest photo/success info from the remote region
1335796841374: inside sendReplies of replyCount = 500500010
1335796841375: =======================
1335796841375: inside sendReplyRepeatingRunnable for replyCount = 500500010
1335796841376: Leader about to send REPLY packet, number: 500500010 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335796841379: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796841379: === Finished one round of sending REPLY Packet =======
1335796841385: Sending UDP payload: 989
1335796841386: forwarding disabled, not forwarding packets
1335796841396: mux: Inside mux Packet.CLIENT_REQUEST
1335796841396: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796841393: Sending UDP payload: 989
1335796841395: forwarding disabled, not forwarding packets
1335796841397: inside handleClientRequest. Originator leader of region 3
1335796841399: got new request, requestCounter = 5005008
1335796841399: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500010
1335796841399: Yay the last leg succeeded. Removing reply runnables ...
1335796841400: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500010
1335796841401: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500010
1335796841401: do not send ack for received final_leg_ack
1335796841460: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841461: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841465: mux: I got a CSM packet at a leader 

1335796841461: Received UDP payload: 446
1335796841484: Sending UDP payload: 989
1335796841485: forwarding disabled, not forwarding packets
1335796841564: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841565: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841566: mux: I got a CSM packet at a leader 

1335796841570: Sending UDP payload: 989
1335796841571: forwarding disabled, not forwarding packets
1335796841667: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841667: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841668: mux: I got a CSM packet at a leader 

1335796841671: Sending UDP payload: 989
1335796841672: forwarding disabled, not forwarding packets
1335796841768: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841769: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841771: mux: I got a CSM packet at a leader 

1335796841774: Sending UDP payload: 989
1335796841776: forwarding disabled, not forwarding packets
1335796841825: Received UDP payload: 5313
1335796841829: mux: GOT CSM_Msg
1335796841829: forwarding disabled, not forwarding packets
1335796841855: Received UDP payload: 7412
1335796841858: mux: GOT CSM_Msg
1335796841859: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(3,0)
1335796841871: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841872: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841873: mux: I got a CSM packet at a leader 

1335796841877: Sending UDP payload: 989
1335796841877: forwarding disabled, not forwarding packets
1335796841974: Retrying PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841974: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(1,0)
1335796841975: mux: I got a CSM packet at a leader 

1335796841979: Sending UDP payload: 989
1335796841980: forwarding disabled, not forwarding packets
1335796842076: DSM Layer: Request timed out, send failure PROC_REPLY 11:2 (1,0)->(3,0)
1335796842077: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335796842078: mux: I got a CSM packet at a leader 

1335796842080: Sending UDP payload: 989
1335796842081: Received PROC_REPLY 11:2 (1,0)->(3,0), handing to UserApp
1335796842081: inside handleDSMReply. Now back in originator leader of region 3
1335796842082: DSM layer timed out, don't log dsm layer latency stuff.
1335796842086: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796842087: change leader replyCounter to: 11
1335796842087: reply packet contains the newest photo/success info from the remote region
1335796842087: inside sendReplies of replyCount = 500500011
1335796842088: =======================
1335796842088: inside sendReplyRepeatingRunnable for replyCount = 500500011
1335796842090: Leader about to send REPLY packet, number: 500500011 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796842091: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796842091: inside sendPacket(Packet p)
1335796842091: === Finished one round of sending REPLY Packet =======
1335796842094: Sending UDP payload: 642
1335796842127: Received UDP payload: 446
1335796842131: mux: Inside mux Packet.CLIENT_REQUEST
1335796842131: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796842132: inside handleClientRequest. Originator leader of region 3
1335796842132: got new request, requestCounter = 5013008
1335796842132: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500011
1335796842132: Yay the last leg succeeded. Removing reply runnables ...
1335796842132: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500011
1335796842132: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500011
1335796842132: do not send ack for received final_leg_ack
1335796842270: Received UDP payload: 989
1335796842274: mux: GOT CSM_Msg
1335796842274: forwarding disabled, not forwarding packets
1335796842411: Received UDP payload: 989
1335796842414: mux: GOT CSM_Msg
1335796842414: forwarding disabled, not forwarding packets
1335796842511: Received UDP payload: 5313
1335796842516: mux: GOT CSM_Msg
1335796842516: forwarding disabled, not forwarding packets
1335796842762: Received UDP payload: 989
1335796842774: mux: GOT CSM_Msg
1335796842774: forwarding disabled, not forwarding packets
1335796842896: Received UDP payload: 989
1335796842909: mux: GOT CSM_Msg
1335796842909: forwarding disabled, not forwarding packets
1335796843012: Received UDP payload: 4346
1335796843021: mux: GOT CSM_Msg
1335796843022: forwarding disabled, not forwarding packets
1335796843045: Received UDP payload: 989
1335796843061: mux: GOT CSM_Msg
1335796843062: forwarding disabled, not forwarding packets
1335796843213: Received UDP payload: 446
1335796843339: Received UDP payload: 989
1335796843342: mux: GOT CSM_Msg
1335796843342: forwarding disabled, not forwarding packets
1335796843349: Received UDP payload: 989
1335796843352: mux: GOT CSM_Msg
1335796843352: forwarding disabled, not forwarding packets
1335796843370: Received UDP payload: 989
1335796843373: mux: GOT CSM_Msg
1335796843373: forwarding disabled, not forwarding packets
1335796843421: Received UDP payload: 4346
1335796843424: mux: GOT CSM_Msg
1335796843424: forwarding disabled, not forwarding packets
1335796843490: Received UDP payload: 989
1335796843493: mux: GOT CSM_Msg
1335796843493: forwarding disabled, not forwarding packets
1335796843496: Received UDP payload: 625
1335796843498: mux: Inside mux Packet.CLIENT_REQUEST
1335796843498: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796843498: inside handleClientRequest. Originator leader of region 3
1335796843498: got new request, requestCounter = 5013009
1335796843498: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796843499: Sending to region: 0
1335796843499: Sending PROC_REQUEST 11:1 (3,0)->(0,0)
1335796843500: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(0,0)
1335796843501: mux: I got a CSM packet at a leader 

1335796843500: Note down new request by adding requestCounter=5013009 to HashMap processedRequests
1335796843500: Make FirstLeg Ack regardless of new or already-processed requests
1335796843501: The leader sending a First Leg ack to originator client (which id = 5013)
1335796843501: inside sendPacket(Packet p)
1335796843502: Sending UDP payload: 989
1335796843503: Received UDP payload: 642
1335796843503: forwarding disabled, not forwarding packets
1335796843505: Sending UDP payload: 446
1335796843508: mux: Inside Packet.SERVER_REPLY
1335796843508: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796843510: Received UDP payload: 642
1335796843511: mux: Inside Packet.SERVER_REPLY
1335796843512: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796843529: Received UDP payload: 642
1335796843531: mux: Inside Packet.SERVER_REPLY
1335796843531: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796843540: Received UDP payload: 642
1335796843542: mux: Inside Packet.SERVER_REPLY
1335796843543: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796843595: Received UDP payload: 446
1335796843596: mux: Inside mux Packet.CLIENT_REQUEST
1335796843621: Received UDP payload: 446
1335796843623: mux: Inside mux Packet.CLIENT_REQUEST
1335796843645: Received UDP payload: 446
1335796843647: mux: Inside mux Packet.CLIENT_REQUEST
1335796843662: Received UDP payload: 5244
1335796843669: mux: GOT CSM_Msg
1335796843669: forwarding disabled, not forwarding packets
1335796843674: Received UDP payload: 989
1335796843677: mux: GOT CSM_Msg
1335796843677: forwarding disabled, not forwarding packets
1335796843694: Received UDP payload: 989
1335796843696: mux: GOT CSM_Msg
1335796843696: forwarding disabled, not forwarding packets
1335796843796: Received UDP payload: 446
1335796844153: Received UDP payload: 7412
1335796844155: mux: GOT CSM_Msg
1335796844156: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(3,0)
1335796844260: Received UDP payload: 7412
1335796844270: mux: GOT CSM_Msg
1335796844271: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(3,0)
1335796844290: Retrying PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844292: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844292: mux: I got a CSM packet at a leader 

1335796844296: Sending UDP payload: 989
1335796844300: forwarding disabled, not forwarding packets
1335796844393: Retrying PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844395: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844395: mux: I got a CSM packet at a leader 

1335796844399: Sending UDP payload: 989
1335796844401: forwarding disabled, not forwarding packets
1335796844496: Retrying PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844498: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844500: mux: I got a CSM packet at a leader 

1335796844504: Sending UDP payload: 989
1335796844507: forwarding disabled, not forwarding packets
1335796844572: Received UDP payload: 6884
1335796844586: mux: GOT CSM_Msg
1335796844581: Received UDP payload: 446
1335796844588: mux: Inside Packet.SERVER_REPLY
1335796844588: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796844588: forwarding disabled, not forwarding packets
1335796844602: Received UDP payload: 989
1335796844613: Retrying PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844614: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844615: mux: I got a CSM packet at a leader 

1335796844628: Sending UDP payload: 989
1335796844630: forwarding disabled, not forwarding packets
1335796844632: mux: GOT CSM_Msg
1335796844631: Received UDP payload: 642
1335796844632: forwarding disabled, not forwarding packets
1335796844650: mux: Inside Packet.SERVER_REPLY
1335796844650: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796844651: Received UDP payload: 446
1335796844656: mux: Inside mux Packet.CLIENT_REQUEST
1335796844657: Received UDP payload: 446
1335796844716: Retrying PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844717: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844718: mux: I got a CSM packet at a leader 

1335796844722: Sending UDP payload: 989
1335796844724: forwarding disabled, not forwarding packets
1335796844818: Retrying PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844818: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844819: mux: I got a CSM packet at a leader 

1335796844820: Sending UDP payload: 989
1335796844820: forwarding disabled, not forwarding packets
1335796844850: inside sendPacket(Packet p)
1335796844854: Sending UDP payload: 446
1335796844920: Retrying PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844922: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(0,0)
1335796844923: mux: I got a CSM packet at a leader 

1335796844926: Sending UDP payload: 989
1335796844930: forwarding disabled, not forwarding packets
1335796845030: Retrying PROC_REQUEST 11:1 (3,0)->(0,0)
1335796845031: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(0,0)
1335796845032: mux: I got a CSM packet at a leader 

1335796845037: Sending UDP payload: 989
1335796845040: forwarding disabled, not forwarding packets
1335796845132: Retrying PROC_REQUEST 11:1 (3,0)->(0,0)
1335796845133: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(0,0)
1335796845134: mux: I got a CSM packet at a leader 

1335796845138: Sending UDP payload: 989
1335796845142: forwarding disabled, not forwarding packets
1335796845233: Received UDP payload: 7412
1335796845237: Retrying PROC_REQUEST 11:1 (3,0)->(0,0)
1335796845238: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(0,0)
1335796845239: mux: I got a CSM packet at a leader 

1335796845250: Sending UDP payload: 989
1335796845251: forwarding disabled, not forwarding packets
1335796845254: mux: GOT CSM_Msg
1335796845256: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(3,0)
1335796845260: Received UDP payload: 4346
1335796845285: mux: GOT CSM_Msg
1335796845286: Received PROC_REPLY 11:1 (0,0)->(3,0), handing to UserApp
1335796845286: inside handleDSMReply. Now back in originator leader of region 3
1335796845286: DSM layer: Going to and from remote region took latency = 1787
1335796845287: DSM layer: orig leader sent packet at 1335796843499 ~ received reply from remote leader at 1335796845286
1335796845290: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796845290: change leader replyCounter to: 12
1335796845290: reply packet contains the newest photo/success info from the remote region
1335796845291: inside sendReplies of replyCount = 500500012
1335796845291: =======================
1335796845291: inside sendReplyRepeatingRunnable for replyCount = 500500012
1335796845292: Leader about to send REPLY packet, number: 500500012 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796845293: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796845293: inside sendPacket(Packet p)
1335796845293: === Finished one round of sending REPLY Packet =======
1335796845298: Sending UDP payload: 3999
1335796845460: Received UDP payload: 4346
1335796845472: mux: GOT CSM_Msg
1335796845473: Received DUPLICATE PROC_REPLY 11:1 (0,0)->(3,0)
1335796845594: =======================
1335796845594: inside sendReplyRepeatingRunnable for replyCount = 500500012
1335796845595: Leader about to send REPLY packet, number: 500500012 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796845596: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796845596: inside sendPacket(Packet p)
1335796845596: === Finished one round of sending REPLY Packet =======
1335796845617: Sending UDP payload: 3999
1335796845620: Received UDP payload: 642
1335796845626: mux: Inside Packet.SERVER_REPLY
1335796845626: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796845627: Received UDP payload: 446
1335796845642: mux: Inside Packet.SERVER_REPLY
1335796845642: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796845742: Received UDP payload: 446
1335796845744: mux: Inside mux Packet.CLIENT_REQUEST
1335796845744: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796845745: inside handleClientRequest. Originator leader of region 3
1335796845745: got new request, requestCounter = 5013010
1335796845745: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500012
1335796845745: Yay the last leg succeeded. Removing reply runnables ...
1335796845745: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500012
1335796845745: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500012
1335796845745: do not send ack for received final_leg_ack
1335796845889: Received UDP payload: 7412
1335796845892: mux: GOT CSM_Msg
1335796845892: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(3,0)
1335796846064: Received UDP payload: 7412
1335796846067: mux: GOT CSM_Msg
1335796846067: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(3,0)
1335796846075: Received UDP payload: 642
1335796846077: mux: Inside Packet.SERVER_REPLY
1335796846077: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796846204: Received UDP payload: 7412
1335796846207: mux: GOT CSM_Msg
1335796846207: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(3,0)
1335796846278: Received UDP payload: 446
1335796846285: mux: Inside mux Packet.CLIENT_REQUEST
1335796846353: Received UDP payload: 642
1335796846357: mux: Inside Packet.SERVER_REPLY
1335796846357: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796846408: Received UDP payload: 989
1335796846414: mux: GOT CSM_Msg
1335796846414: forwarding disabled, not forwarding packets
1335796846445: Received UDP payload: 446
1335796846493: Received UDP payload: 989
1335796846500: mux: GOT CSM_Msg
1335796846501: forwarding disabled, not forwarding packets
1335796846547: Received UDP payload: 5244
1335796846553: mux: GOT CSM_Msg
1335796846553: forwarding disabled, not forwarding packets
1335796846642: Received UDP payload: 446
1335796846646: mux: Inside mux Packet.CLIENT_REQUEST
1335796847213: Received UDP payload: 989
1335796847222: mux: GOT CSM_Msg
1335796847222: forwarding disabled, not forwarding packets
1335796847301: Received UDP payload: 5244
1335796847305: mux: GOT CSM_Msg
1335796847305: forwarding disabled, not forwarding packets
1335796847311: Received UDP payload: 989
1335796847313: mux: GOT CSM_Msg
1335796847314: forwarding disabled, not forwarding packets
1335796847381: Received UDP payload: 5244
1335796847383: mux: GOT CSM_Msg
1335796847384: forwarding disabled, not forwarding packets
1335796848395: Received UDP payload: 989
1335796848407: mux: GOT CSM_Msg
1335796848408: forwarding disabled, not forwarding packets
1335796848419: Received UDP payload: 642
1335796848436: mux: Inside Packet.SERVER_REPLY
1335796848437: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796848470: Received UDP payload: 446
1335796848472: mux: Inside mux Packet.CLIENT_REQUEST
1335796848545: Received UDP payload: 625
1335796848547: mux: Inside mux Packet.CLIENT_REQUEST
1335796848547: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796848547: inside handleClientRequest. Originator leader of region 3
1335796848547: got new request, requestCounter = 5013011
1335796848548: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796848548: Sending to region: 2
1335796848548: Sending PROC_REQUEST 11:1 (3,0)->(2,0)
1335796848549: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(2,0)
1335796848549: mux: I got a CSM packet at a leader 

1335796848549: Note down new request by adding requestCounter=5013011 to HashMap processedRequests
1335796848549: Make FirstLeg Ack regardless of new or already-processed requests
1335796848549: The leader sending a First Leg ack to originator client (which id = 5013)
1335796848549: inside sendPacket(Packet p)
1335796848556: Sending UDP payload: 989
1335796848558: forwarding disabled, not forwarding packets
1335796848561: Sending UDP payload: 446
1335796848583: Received UDP payload: 6384
1335796848586: mux: Inside mux Packet.CLIENT_REQUEST
1335796848658: Received UDP payload: 446
1335796848661: mux: Inside Packet.SERVER_REPLY
1335796848661: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796848778: Received UDP payload: 989
1335796848780: mux: GOT CSM_Msg
1335796848781: forwarding disabled, not forwarding packets
1335796848878: Received UDP payload: 5244
1335796848881: mux: GOT CSM_Msg
1335796848881: forwarding disabled, not forwarding packets
1335796848890: Received UDP payload: 446
1335796848923: Received UDP payload: 625
1335796848925: mux: Inside mux Packet.CLIENT_REQUEST
1335796848956: Received UDP payload: 989
1335796848960: mux: GOT CSM_Msg
1335796848961: forwarding disabled, not forwarding packets
1335796849023: Received UDP payload: 4346
1335796849029: mux: GOT CSM_Msg
1335796849029: forwarding disabled, not forwarding packets
1335796849264: Retrying PROC_REQUEST 11:1 (3,0)->(2,0)
1335796849265: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(2,0)
1335796849266: mux: I got a CSM packet at a leader 

1335796849268: Sending UDP payload: 989
1335796849273: forwarding disabled, not forwarding packets
1335796849366: Retrying PROC_REQUEST 11:1 (3,0)->(2,0)
1335796849367: Dispatching Atom PROC_REQUEST 11:1 (3,0)->(2,0)
1335796849367: mux: I got a CSM packet at a leader 

1335796849369: Sending UDP payload: 989
1335796849371: forwarding disabled, not forwarding packets
1335796849376: Received UDP payload: 5244
1335796849382: mux: GOT CSM_Msg
1335796849383: Received PROC_REPLY 11:1 (2,0)->(3,0), handing to UserApp
1335796849383: inside handleDSMReply. Now back in originator leader of region 3
1335796849383: DSM layer: Going to and from remote region took latency = 835
1335796849383: DSM layer: orig leader sent packet at 1335796848548 ~ received reply from remote leader at 1335796849383
1335796849385: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796849386: change leader replyCounter to: 13
1335796849386: reply packet contains the newest photo/success info from the remote region
1335796849386: inside sendReplies of replyCount = 500500013
1335796849386: =======================
1335796849386: inside sendReplyRepeatingRunnable for replyCount = 500500013
1335796849387: Leader about to send REPLY packet, number: 500500013 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796849387: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796849387: inside sendPacket(Packet p)
1335796849387: === Finished one round of sending REPLY Packet =======
1335796849390: Sending UDP payload: 4897
1335796849427: Received UDP payload: 3999
1335796849430: mux: Inside Packet.SERVER_REPLY
1335796849431: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796849485: Received UDP payload: 446
1335796849488: mux: Inside mux Packet.CLIENT_REQUEST
1335796849511: Received UDP payload: 5244
1335796849517: mux: GOT CSM_Msg
1335796849518: Received DUPLICATE PROC_REPLY 11:1 (2,0)->(3,0)
1335796849566: Received UDP payload: 625
1335796849570: mux: Inside mux Packet.CLIENT_REQUEST
1335796849613: Received UDP payload: 446
1335796849616: mux: Inside mux Packet.CLIENT_REQUEST
1335796849616: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796849616: inside handleClientRequest. Originator leader of region 3
1335796849617: got new request, requestCounter = 5013012
1335796849617: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500013
1335796849617: Yay the last leg succeeded. Removing reply runnables ...
1335796849617: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500013
1335796849618: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500013
1335796849618: do not send ack for received final_leg_ack
1335796849851: inside sendPacket(Packet p)
1335796849852: Sending UDP payload: 446
1335796849890: Received UDP payload: 446
1335796849892: mux: Inside Packet.SERVER_REPLY
1335796849892: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796850477: canPressButton = TRUE
1335796850477: areButtonsEnabled --> false 
1335796850478: get picture disableButtonsR
1335796850478: areButtonsEnabled --> false
1335796850514: one more getNum: 3
1335796850516: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=0 getTimedout=0 getPercent=66%
1335796850516: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335796850517: change local requestCounter to 9
1335796850523: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005009 Client in region: 3 Client nodID: 5005
1335796850554: ----------------------------
1335796850555: inside sendRequestPacketRepeatingRunnable for requestCount = 5005009
1335796850555: I'm a leader, my requesting photos packet going to mux directly
1335796850561: --- Finished one round of sending REQUEST Packet ---------
1335796850556: mux: Inside mux Packet.CLIENT_REQUEST
1335796850556: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796850599: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796850556: inside handleClientRequest. Originator leader of region 3
1335796850556: got new request, requestCounter = 5005009
1335796850556: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796850557: Sending to region: 0
1335796850557: Sending PROC_REQUEST 11:2 (3,0)->(0,0)
1335796850558: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(0,0)
1335796850559: mux: I got a CSM packet at a leader 

1335796850558: Note down new request by adding requestCounter=5005009 to HashMap processedRequests
1335796850558: Make FirstLeg Ack regardless of new or already-processed requests
1335796850559: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796850560: Sending UDP payload: 989
1335796850561: forwarding disabled, not forwarding packets
1335796850642: Received UDP payload: 4346
1335796850647: mux: GOT CSM_Msg
1335796850651: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796850651: disabling progressdialog due to successful new photo get
1335796850652: Inside _enableButtons
1335796850652: areButtonsEnabled --> true
1335796850653: send final leg ack regardless of new or already-processed reply
1335796850653: inside finalLegAck: change requestCounter to 10
1335796850653: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005010 Client in region: (3,0) Client nodID: 5005
1335796850653: I'm a leader client, my final_leg packet going to mux directly
1335796850655: new client_show_remotephoto reply with replyCounter 500500014
1335796850658: note down new reply by adding replyCounter=500500014 to HashMap processedReplies
1335796850659: leader download remote photo latency = 95
1335796850659: = leader download start 1335796850556 ~ stop 1335796850651
1335796850660: one more getGood: 3
1335796850661: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=3 getBad=0 getTimedout=0 getPercent=100%
1335796850662: successful reply for client get photo
1335796850662: Success! Client getting photo from remote region, showing photo...
1335796850662: Remote photo's length: 3335
1335796850648: Received PROC_REPLY 11:2 (0,0)->(3,0), handing to UserApp
1335796850648: inside handleDSMReply. Now back in originator leader of region 3
1335796850648: DSM layer: Going to and from remote region took latency = 91
1335796850648: DSM layer: orig leader sent packet at 1335796850557 ~ received reply from remote leader at 1335796850648
1335796850649: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796850649: change leader replyCounter to: 14
1335796850649: reply packet contains the newest photo/success info from the remote region
1335796850649: inside sendReplies of replyCount = 500500014
1335796850649: =======================
1335796850649: inside sendReplyRepeatingRunnable for replyCount = 500500014
1335796850649: Leader about to send REPLY packet, number: 500500014 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335796850650: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796850650: === Finished one round of sending REPLY Packet =======
1335796850653: mux: Inside mux Packet.CLIENT_REQUEST
1335796850654: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796850654: inside handleClientRequest. Originator leader of region 3
1335796850654: got new request, requestCounter = 5005010
1335796850654: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500014
1335796850654: Yay the last leg succeeded. Removing reply runnables ...
1335796850654: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500014
1335796850654: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500014
1335796850654: do not send ack for received final_leg_ack
1335796851418: Received UDP payload: 446
1335796851441: Received UDP payload: 446
1335796852499: Received UDP payload: 5416
1335796852514: mux: Inside mux Packet.CLIENT_REQUEST
1335796852515: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796852515: inside handleClientRequest. Originator leader of region 3
1335796852515: got new request, requestCounter = 5011009
1335796852516: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796852517: Sending PROC_REQUEST 10:6 (3,0)->(3,0)
1335796852528: Dispatching Atom PROC_REQUEST 10:6 (3,0)->(3,0)
1335796852532: mux: I got a CSM packet at a leader 

1335796852600: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796852603: I'm a leader and I successfully saved my client's new photo
1335796852604: now showing in UI the new photo I just saved ... 
1335796852605: the photo length: 4769
1335796852639: end of server show photo aside %%%%%%%%%
1335796852530: Note down new request by adding requestCounter=5011009 to HashMap processedRequests
1335796852531: Make FirstLeg Ack regardless of new or already-processed requests
1335796852531: The leader sending a First Leg ack to originator client (which id = 5011)
1335796852531: inside sendPacket(Packet p)
1335796852567: Sending UDP payload: 5780
1335796852568: removed replies before id 6 from sentReplies of size 0
1335796852568: inside handleDSMRequest. At requests's remote leader of region 3
1335796852570: Inside UPLOAD_PHOTO!!
1335796852583: my_gpinfo.isSuccess is now (should be true): true
1335796852583: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796852584: Received PROC_REQUEST 10:6 (3,0)->(3,0), replying PROC_REPLY 10:6 (3,0)->(3,0)
1335796852584: Dispatching Atom PROC_REPLY 10:6 (3,0)->(3,0)
1335796852592: mux: I got a CSM packet at a leader 

1335796852585: Sending UDP payload: 446
1335796852593: Sending UDP payload: 989
1335796852594: Received PROC_REPLY 10:6 (3,0)->(3,0), handing to UserApp
1335796852594: inside handleDSMReply. Now back in originator leader of region 3
1335796852595: DSM layer: Going to and from remote region took latency = 78
1335796852595: DSM layer: orig leader sent packet at 1335796852516 ~ received reply from remote leader at 1335796852594
1335796852595: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796852596: change leader replyCounter to: 15
1335796852596: reply packet contains the success info for UPLOAD_PHOTO
1335796852596: inside sendReplies of replyCount = 500500015
1335796852597: =======================
1335796852597: inside sendReplyRepeatingRunnable for replyCount = 500500015
1335796852597: Leader about to send REPLY packet, number: 500500015 type: 16 Leader in region: (3,0) to Client nodID: 5011
1335796852597: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796852597: inside sendPacket(Packet p)
1335796852597: === Finished one round of sending REPLY Packet =======
1335796852599: Sending UDP payload: 642
1335796852686: Received UDP payload: 989
1335796852693: mux: GOT CSM_Msg
1335796852693: forwarding disabled, not forwarding packets
1335796852714: Received UDP payload: 446
1335796852716: mux: Inside mux Packet.CLIENT_REQUEST
1335796852716: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796852716: inside handleClientRequest. Originator leader of region 3
1335796852716: got new request, requestCounter = 5011010
1335796852717: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500015
1335796852717: Yay the last leg succeeded. Removing reply runnables ...
1335796852717: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500015
1335796852717: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500015
1335796852717: do not send ack for received final_leg_ack
1335796853659: Received UDP payload: 625
1335796853663: mux: Inside mux Packet.CLIENT_REQUEST
1335796853706: Received UDP payload: 625
1335796853713: mux: Inside mux Packet.CLIENT_REQUEST
1335796853719: Received UDP payload: 989
1335796853722: mux: GOT CSM_Msg
1335796853722: forwarding disabled, not forwarding packets
1335796853731: Received UDP payload: 989
1335796853733: mux: GOT CSM_Msg
1335796853733: forwarding disabled, not forwarding packets
1335796853743: Received UDP payload: 446
1335796853744: mux: Inside Packet.SERVER_REPLY
1335796853744: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796853820: Received UDP payload: 446
1335796854020: Received UDP payload: 625
1335796854021: mux: Inside mux Packet.CLIENT_REQUEST
1335796854040: Received UDP payload: 446
1335796854042: mux: Inside Packet.SERVER_REPLY
1335796854042: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796854454: Received UDP payload: 989
1335796854463: mux: GOT CSM_Msg
1335796854464: forwarding disabled, not forwarding packets
1335796854630: Received UDP payload: 989
1335796854642: mux: GOT CSM_Msg
1335796854642: forwarding disabled, not forwarding packets
1335796854663: Received UDP payload: 989
1335796854673: mux: GOT CSM_Msg
1335796854674: forwarding disabled, not forwarding packets
1335796854695: Received UDP payload: 989
1335796854703: mux: GOT CSM_Msg
1335796854703: forwarding disabled, not forwarding packets
1335796854750: Received UDP payload: 4346
1335796854761: mux: GOT CSM_Msg
1335796854761: forwarding disabled, not forwarding packets
1335796854777: Received UDP payload: 989
1335796854791: mux: GOT CSM_Msg
1335796854792: forwarding disabled, not forwarding packets
1335796854851: inside sendPacket(Packet p)
1335796854856: Sending UDP payload: 446
1335796854905: Received UDP payload: 989
1335796854908: mux: GOT CSM_Msg
1335796854908: forwarding disabled, not forwarding packets
1335796854926: Received UDP payload: 6748
1335796854929: mux: GOT CSM_Msg
1335796854929: forwarding disabled, not forwarding packets
1335796854940: Received UDP payload: 989
1335796854943: mux: GOT CSM_Msg
1335796854943: forwarding disabled, not forwarding packets
1335796855070: Received UDP payload: 3999
1335796855072: mux: Inside Packet.SERVER_REPLY
1335796855072: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796855083: Received UDP payload: 6401
1335796855085: mux: Inside Packet.SERVER_REPLY
1335796855085: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796855097: Received UDP payload: 446
1335796855098: mux: Inside mux Packet.CLIENT_REQUEST
1335796855104: Received UDP payload: 446
1335796855106: mux: Inside mux Packet.CLIENT_REQUEST
1335796855248: Received UDP payload: 3999
1335796855250: mux: Inside Packet.SERVER_REPLY
1335796855250: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796855307: Received UDP payload: 446
1335796855309: mux: Inside mux Packet.CLIENT_REQUEST
1335796856439: Received UDP payload: 446
1335796856447: Received UDP payload: 446
1335796857696: Received UDP payload: 989
1335796857708: mux: GOT CSM_Msg
1335796857708: forwarding disabled, not forwarding packets
1335796858451: Received UDP payload: 989
1335796858462: mux: GOT CSM_Msg
1335796858463: forwarding disabled, not forwarding packets
1335796858517: Received UDP payload: 4346
1335796858523: mux: GOT CSM_Msg
1335796858523: forwarding disabled, not forwarding packets
1335796858644: Received UDP payload: 625
1335796858647: mux: Inside mux Packet.CLIENT_REQUEST
1335796858717: Received UDP payload: 989
1335796858720: mux: GOT CSM_Msg
1335796858720: forwarding disabled, not forwarding packets
1335796858813: Received UDP payload: 446
1335796858939: Received UDP payload: 6401
1335796858941: mux: Inside Packet.SERVER_REPLY
1335796858942: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796858951: Received UDP payload: 625
1335796858954: mux: Inside mux Packet.CLIENT_REQUEST
1335796858958: Received UDP payload: 446
1335796858977: mux: Inside mux Packet.CLIENT_REQUEST
1335796859851: inside sendPacket(Packet p)
1335796859854: Sending UDP payload: 446
1335796860827: Received UDP payload: 4636
1335796860856: mux: Inside mux Packet.CLIENT_REQUEST
1335796860856: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796860857: inside handleClientRequest. Originator leader of region 3
1335796860857: got new request, requestCounter = 5013013
1335796860858: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796860859: Sending PROC_REQUEST 10:7 (3,0)->(3,0)
1335796860860: Dispatching Atom PROC_REQUEST 10:7 (3,0)->(3,0)
1335796860862: mux: I got a CSM packet at a leader 

1335796860923: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796860926: I'm a leader and I successfully saved my client's new photo
1335796860930: now showing in UI the new photo I just saved ... 
1335796860930: the photo length: 3989
1335796860981: end of server show photo aside %%%%%%%%%
1335796860860: Note down new request by adding requestCounter=5013013 to HashMap processedRequests
1335796860860: Make FirstLeg Ack regardless of new or already-processed requests
1335796860861: The leader sending a First Leg ack to originator client (which id = 5013)
1335796860861: inside sendPacket(Packet p)
1335796860911: Sending UDP payload: 5000
1335796860913: removed replies before id 7 from sentReplies of size 0
1335796860913: inside handleDSMRequest. At requests's remote leader of region 3
1335796860917: Inside UPLOAD_PHOTO!!
1335796860920: my_gpinfo.isSuccess is now (should be true): true
1335796860920: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796860928: Received PROC_REQUEST 10:7 (3,0)->(3,0), replying PROC_REPLY 10:7 (3,0)->(3,0)
1335796860928: Dispatching Atom PROC_REPLY 10:7 (3,0)->(3,0)
1335796860961: mux: I got a CSM packet at a leader 

1335796860929: Sending UDP payload: 446
1335796860969: Sending UDP payload: 989
1335796860975: Received PROC_REPLY 10:7 (3,0)->(3,0), handing to UserApp
1335796860975: inside handleDSMReply. Now back in originator leader of region 3
1335796860975: DSM layer: Going to and from remote region took latency = 117
1335796860975: DSM layer: orig leader sent packet at 1335796860858 ~ received reply from remote leader at 1335796860975
1335796860977: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796860977: change leader replyCounter to: 16
1335796860977: reply packet contains the success info for UPLOAD_PHOTO
1335796860977: inside sendReplies of replyCount = 500500016
1335796860977: =======================
1335796860977: inside sendReplyRepeatingRunnable for replyCount = 500500016
1335796860978: Leader about to send REPLY packet, number: 500500016 type: 16 Leader in region: (3,0) to Client nodID: 5013
1335796860978: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796860978: inside sendPacket(Packet p)
1335796860978: === Finished one round of sending REPLY Packet =======
1335796860980: Sending UDP payload: 642
1335796861033: Received UDP payload: 446
1335796861036: mux: Inside mux Packet.CLIENT_REQUEST
1335796861036: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796861036: inside handleClientRequest. Originator leader of region 3
1335796861036: got new request, requestCounter = 5013014
1335796861036: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500016
1335796861036: Yay the last leg succeeded. Removing reply runnables ...
1335796861036: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500016
1335796861036: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500016
1335796861037: do not send ack for received final_leg_ack
1335796861428: Received UDP payload: 446
1335796861437: Received UDP payload: 446
1335796861595: canPressButton = TRUE
1335796861595: areButtonsEnabled --> false 
1335796861596: get picture disableButtonsR
1335796861596: areButtonsEnabled --> false
1335796861622: one more getNum: 4
1335796861624: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=3 getBad=0 getTimedout=0 getPercent=75%
1335796861624: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335796861624: change local requestCounter to 11
1335796861628: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005011 Client in region: 3 Client nodID: 5005
1335796861660: ----------------------------
1335796861661: inside sendRequestPacketRepeatingRunnable for requestCount = 5005011
1335796861662: I'm a leader, my requesting photos packet going to mux directly
1335796861673: --- Finished one round of sending REQUEST Packet ---------
1335796861662: mux: Inside mux Packet.CLIENT_REQUEST
1335796861662: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796861723: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796861662: inside handleClientRequest. Originator leader of region 3
1335796861663: got new request, requestCounter = 5005011
1335796861663: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796861663: Sending to region: 3
1335796861664: Sending PROC_REQUEST 11:8 (3,0)->(3,0)
1335796861664: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(3,0)
1335796861665: mux: I got a CSM packet at a leader 

1335796861664: Note down new request by adding requestCounter=5005011 to HashMap processedRequests
1335796861664: Make FirstLeg Ack regardless of new or already-processed requests
1335796861664: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796861666: Sending UDP payload: 989
1335796861668: removed replies before id 8 from sentReplies of size 0
1335796861668: inside handleDSMRequest. At requests's remote leader of region 3
1335796861669: INSIDE SERVER_GET_PHOTO!!!
1335796861670: dst_region == src_region = 3
1335796861670:  1 self to self atomRequest
1335796861671: Received PROC_REQUEST 11:8 (3,0)->(3,0), replying PROC_REPLY 11:8 (3,0)->(3,0)
1335796861672: Dispatching Atom PROC_REPLY 11:8 (3,0)->(3,0)
1335796861672: mux: I got a CSM packet at a leader 

1335796861729: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796861729: disabling progressdialog due to successful new photo get
1335796861730: Inside _enableButtons
1335796861731: areButtonsEnabled --> true
1335796861731: send final leg ack regardless of new or already-processed reply
1335796861731: inside finalLegAck: change requestCounter to 12
1335796861732: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005012 Client in region: (3,0) Client nodID: 5005
1335796861732: I'm a leader client, my final_leg packet going to mux directly
1335796861734: new client_show_remotephoto reply with replyCounter 500500017
1335796861734: note down new reply by adding replyCounter=500500017 to HashMap processedReplies
1335796861735: leader download remote photo latency = 67
1335796861735: = leader download start 1335796861662 ~ stop 1335796861729
1335796861737: one more getGood: 4
1335796861738: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=4 getBad=0 getTimedout=0 getPercent=100%
1335796861738: successful reply for client get photo
1335796861739: Success! Client getting photo from remote region, showing photo...
1335796861739: Remote photo's length: 3989
1335796861686: Sending UDP payload: 5000
1335796861688: Received PROC_REPLY 11:8 (3,0)->(3,0), handing to UserApp
1335796861688: inside handleDSMReply. Now back in originator leader of region 3
1335796861688: DSM layer: Going to and from remote region took latency = 25
1335796861688: DSM layer: orig leader sent packet at 1335796861663 ~ received reply from remote leader at 1335796861688
1335796861689: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796861689: change leader replyCounter to: 17
1335796861689: reply packet contains the newest photo/success info from the remote region
1335796861689: inside sendReplies of replyCount = 500500017
1335796861689: =======================
1335796861690: inside sendReplyRepeatingRunnable for replyCount = 500500017
1335796861690: Leader about to send REPLY packet, number: 500500017 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335796861690: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796861690: === Finished one round of sending REPLY Packet =======
1335796861733: mux: Inside mux Packet.CLIENT_REQUEST
1335796861733: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796861733: inside handleClientRequest. Originator leader of region 3
1335796861733: got new request, requestCounter = 5005012
1335796861733: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500017
1335796861733: Yay the last leg succeeded. Removing reply runnables ...
1335796861734: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500017
1335796861734: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500017
1335796861734: do not send ack for received final_leg_ack
1335796863806: Received UDP payload: 446
1335796864093: Received UDP payload: 625
1335796864103: mux: Inside mux Packet.CLIENT_REQUEST
1335796864103: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796864104: inside handleClientRequest. Originator leader of region 3
1335796864104: got new request, requestCounter = 5013015
1335796864104: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796864111: Sending to region: 0
1335796864135: Sending PROC_REQUEST 11:3 (3,0)->(0,0)
1335796864138: Dispatching Atom PROC_REQUEST 11:3 (3,0)->(0,0)
1335796864140: mux: I got a CSM packet at a leader 

1335796864138: Note down new request by adding requestCounter=5013015 to HashMap processedRequests
1335796864139: Make FirstLeg Ack regardless of new or already-processed requests
1335796864139: The leader sending a First Leg ack to originator client (which id = 5013)
1335796864139: inside sendPacket(Packet p)
1335796864167: Sending UDP payload: 989
1335796864168: forwarding disabled, not forwarding packets
1335796864169: Sending UDP payload: 446
1335796864249: Received UDP payload: 4346
1335796864255: mux: GOT CSM_Msg
1335796864256: Received PROC_REPLY 11:3 (0,0)->(3,0), handing to UserApp
1335796864256: inside handleDSMReply. Now back in originator leader of region 3
1335796864256: DSM layer: Going to and from remote region took latency = 145
1335796864256: DSM layer: orig leader sent packet at 1335796864111 ~ received reply from remote leader at 1335796864256
1335796864257: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796864257: change leader replyCounter to: 18
1335796864257: reply packet contains the newest photo/success info from the remote region
1335796864257: inside sendReplies of replyCount = 500500018
1335796864257: =======================
1335796864257: inside sendReplyRepeatingRunnable for replyCount = 500500018
1335796864258: Leader about to send REPLY packet, number: 500500018 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796864258: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796864258: inside sendPacket(Packet p)
1335796864258: === Finished one round of sending REPLY Packet =======
1335796864263: Sending UDP payload: 3999
1335796864362: Received UDP payload: 446
1335796864363: mux: Inside mux Packet.CLIENT_REQUEST
1335796864363: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796864363: inside handleClientRequest. Originator leader of region 3
1335796864363: got new request, requestCounter = 5013016
1335796864364: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500018
1335796864364: Yay the last leg succeeded. Removing reply runnables ...
1335796864364: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500018
1335796864364: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500018
1335796864364: do not send ack for received final_leg_ack
1335796864853: inside sendPacket(Packet p)
1335796864856: Sending UDP payload: 446
1335796865219: Received UDP payload: 5403
1335796865227: mux: Inside mux Packet.CLIENT_REQUEST
1335796865240: Received UDP payload: 625
1335796865252: mux: Inside mux Packet.CLIENT_REQUEST
1335796865281: Received UDP payload: 989
1335796865284: mux: GOT CSM_Msg
1335796865284: forwarding disabled, not forwarding packets
1335796865505: Received UDP payload: 5403
1335796865506: mux: Inside mux Packet.CLIENT_REQUEST
1335796865512: Received UDP payload: 5244
1335796865514: mux: GOT CSM_Msg
1335796865515: forwarding disabled, not forwarding packets
1335796865534: Received UDP payload: 625
1335796865536: mux: Inside mux Packet.CLIENT_REQUEST
1335796865674: Received UDP payload: 4897
1335796865675: mux: Inside Packet.SERVER_REPLY
1335796865676: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796865683: Received UDP payload: 446
1335796865685: mux: Inside Packet.SERVER_REPLY
1335796865685: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796865695: Received UDP payload: 446
1335796865697: mux: Inside mux Packet.CLIENT_REQUEST
1335796866221: Received UDP payload: 989
1335796866226: mux: GOT CSM_Msg
1335796866226: forwarding disabled, not forwarding packets
1335796866259: Received UDP payload: 625
1335796866262: mux: Inside mux Packet.CLIENT_REQUEST
1335796866262: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796866262: inside handleClientRequest. Originator leader of region 3
1335796866263: got new request, requestCounter = 5013017
1335796866263: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796866264: Sending to region: 1
1335796866265: Sending PROC_REQUEST 11:3 (3,0)->(1,0)
1335796866265: Dispatching Atom PROC_REQUEST 11:3 (3,0)->(1,0)
1335796866266: mux: I got a CSM packet at a leader 

1335796866265: Note down new request by adding requestCounter=5013017 to HashMap processedRequests
1335796866266: Make FirstLeg Ack regardless of new or already-processed requests
1335796866266: The leader sending a First Leg ack to originator client (which id = 5013)
1335796866266: inside sendPacket(Packet p)
1335796866269: Sending UDP payload: 989
1335796866274: forwarding disabled, not forwarding packets
1335796866276: Sending UDP payload: 446
1335796866468: Received UDP payload: 446
1335796867049: Retrying PROC_REQUEST 11:3 (3,0)->(1,0)
1335796867050: Dispatching Atom PROC_REQUEST 11:3 (3,0)->(1,0)
1335796867051: mux: I got a CSM packet at a leader 

1335796867067: Sending UDP payload: 989
1335796867069: forwarding disabled, not forwarding packets
1335796867150: Retrying PROC_REQUEST 11:3 (3,0)->(1,0)
1335796867151: Dispatching Atom PROC_REQUEST 11:3 (3,0)->(1,0)
1335796867151: mux: I got a CSM packet at a leader 

1335796867152: Sending UDP payload: 989
1335796867158: forwarding disabled, not forwarding packets
1335796867251: Retrying PROC_REQUEST 11:3 (3,0)->(1,0)
1335796867252: Dispatching Atom PROC_REQUEST 11:3 (3,0)->(1,0)
1335796867252: mux: I got a CSM packet at a leader 

1335796867253: Sending UDP payload: 989
1335796867254: forwarding disabled, not forwarding packets
1335796867353: Retrying PROC_REQUEST 11:3 (3,0)->(1,0)
1335796867353: Dispatching Atom PROC_REQUEST 11:3 (3,0)->(1,0)
1335796867353: mux: I got a CSM packet at a leader 

1335796867355: Sending UDP payload: 989
1335796867356: forwarding disabled, not forwarding packets
1335796867391: Received UDP payload: 6748
1335796867396: mux: GOT CSM_Msg
1335796867397: Received PROC_REPLY 11:3 (1,0)->(3,0), handing to UserApp
1335796867397: inside handleDSMReply. Now back in originator leader of region 3
1335796867397: DSM layer: Going to and from remote region took latency = 1133
1335796867397: DSM layer: orig leader sent packet at 1335796866264 ~ received reply from remote leader at 1335796867397
1335796867398: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796867398: change leader replyCounter to: 19
1335796867398: reply packet contains the newest photo/success info from the remote region
1335796867399: inside sendReplies of replyCount = 500500019
1335796867399: =======================
1335796867399: inside sendReplyRepeatingRunnable for replyCount = 500500019
1335796867399: Leader about to send REPLY packet, number: 500500019 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796867399: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796867399: inside sendPacket(Packet p)
1335796867399: === Finished one round of sending REPLY Packet =======
1335796867401: Sending UDP payload: 6401
1335796867551: Received UDP payload: 625
1335796867552: mux: Inside mux Packet.CLIENT_REQUEST
1335796867552: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796867553: inside handleClientRequest. Originator leader of region 3
1335796867553: got new request, requestCounter = 5011011
1335796867553: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796867555: Sending to region: 0
1335796867556: Sending PROC_REQUEST 11:4 (3,0)->(0,0)
1335796867557: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796867559: mux: I got a CSM packet at a leader 

1335796867557: Note down new request by adding requestCounter=5011011 to HashMap processedRequests
1335796867558: Make FirstLeg Ack regardless of new or already-processed requests
1335796867558: The leader sending a First Leg ack to originator client (which id = 5011)
1335796867558: inside sendPacket(Packet p)
1335796867563: Sending UDP payload: 989
1335796867564: forwarding disabled, not forwarding packets
1335796867567: Sending UDP payload: 446
1335796867700: =======================
1335796867700: inside sendReplyRepeatingRunnable for replyCount = 500500019
1335796867701: Leader about to send REPLY packet, number: 500500019 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796867701: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796867701: inside sendPacket(Packet p)
1335796867701: === Finished one round of sending REPLY Packet =======
1335796867709: Sending UDP payload: 6401
1335796867929: Received UDP payload: 446
1335796867933: mux: Inside mux Packet.CLIENT_REQUEST
1335796867934: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796867934: inside handleClientRequest. Originator leader of region 3
1335796867934: got new request, requestCounter = 5013018
1335796867935: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500019
1335796867935: Yay the last leg succeeded. Removing reply runnables ...
1335796867935: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500019
1335796867935: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500019
1335796867935: do not send ack for received final_leg_ack
1335796868234: Received UDP payload: 5692
1335796868241: mux: Inside mux Packet.CLIENT_REQUEST
1335796868259: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868260: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868262: mux: I got a CSM packet at a leader 

1335796868266: Sending UDP payload: 989
1335796868269: forwarding disabled, not forwarding packets
1335796868361: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868362: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868362: mux: I got a CSM packet at a leader 

1335796868363: Sending UDP payload: 989
1335796868364: forwarding disabled, not forwarding packets
1335796868464: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868464: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868464: mux: I got a CSM packet at a leader 

1335796868466: Sending UDP payload: 989
1335796868466: forwarding disabled, not forwarding packets
1335796868565: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868565: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868565: mux: I got a CSM packet at a leader 

1335796868567: Sending UDP payload: 989
1335796868567: forwarding disabled, not forwarding packets
1335796868666: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868667: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868667: mux: I got a CSM packet at a leader 

1335796868668: Sending UDP payload: 989
1335796868669: forwarding disabled, not forwarding packets
1335796868750: Received UDP payload: 6056
1335796868753: mux: GOT CSM_Msg
1335796868753: forwarding disabled, not forwarding packets
1335796868757: Received UDP payload: 446
1335796868759: mux: Inside Packet.SERVER_REPLY
1335796868759: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796868766: Received UDP payload: 989
1335796868768: mux: GOT CSM_Msg
1335796868768: forwarding disabled, not forwarding packets
1335796868769: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868769: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868769: mux: I got a CSM packet at a leader 

1335796868771: Sending UDP payload: 989
1335796868771: forwarding disabled, not forwarding packets
1335796868775: Received UDP payload: 989
1335796868778: mux: GOT CSM_Msg
1335796868778: forwarding disabled, not forwarding packets
1335796868870: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868871: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868871: mux: I got a CSM packet at a leader 

1335796868873: Sending UDP payload: 989
1335796868875: forwarding disabled, not forwarding packets
1335796868938: Received UDP payload: 625
1335796868942: mux: Inside mux Packet.CLIENT_REQUEST
1335796868942: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796868942: inside handleClientRequest. Originator leader of region 3
1335796868943: got new request, requestCounter = 5013019
1335796868943: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796868944: Sending to region: 2
1335796868945: Sending PROC_REQUEST 11:2 (3,0)->(2,0)
1335796868945: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(2,0)
1335796868947: mux: I got a CSM packet at a leader 

1335796868946: Note down new request by adding requestCounter=5013019 to HashMap processedRequests
1335796868946: Make FirstLeg Ack regardless of new or already-processed requests
1335796868946: The leader sending a First Leg ack to originator client (which id = 5013)
1335796868946: inside sendPacket(Packet p)
1335796868948: Sending UDP payload: 989
1335796868954: forwarding disabled, not forwarding packets
1335796868956: Sending UDP payload: 446
1335796868973: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868973: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796868974: mux: I got a CSM packet at a leader 

1335796868976: Sending UDP payload: 989
1335796868979: forwarding disabled, not forwarding packets
1335796869075: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869075: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869076: mux: I got a CSM packet at a leader 

1335796869078: Sending UDP payload: 989
1335796869079: forwarding disabled, not forwarding packets
1335796869177: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869178: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869179: mux: I got a CSM packet at a leader 

1335796869182: Sending UDP payload: 989
1335796869204: forwarding disabled, not forwarding packets
1335796869279: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869280: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869280: mux: I got a CSM packet at a leader 

1335796869281: Sending UDP payload: 989
1335796869282: forwarding disabled, not forwarding packets
1335796869326: Received UDP payload: 625
1335796869328: mux: Inside mux Packet.CLIENT_REQUEST
1335796869381: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869381: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869381: mux: I got a CSM packet at a leader 

1335796869382: Sending UDP payload: 989
1335796869383: forwarding disabled, not forwarding packets
1335796869482: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869482: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869482: mux: I got a CSM packet at a leader 

1335796869483: Sending UDP payload: 989
1335796869484: forwarding disabled, not forwarding packets
1335796869494: Received UDP payload: 6268
1335796869497: mux: GOT CSM_Msg
1335796869497: forwarding disabled, not forwarding packets
1335796869546: Received UDP payload: 642
1335796869547: mux: Inside Packet.SERVER_REPLY
1335796869548: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796869558: Received UDP payload: 642
1335796869560: mux: Inside Packet.SERVER_REPLY
1335796869560: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796869572: Received UDP payload: 446
1335796869578: Received UDP payload: 642
1335796869580: mux: Inside Packet.SERVER_REPLY
1335796869580: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796869583: Retrying PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869583: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(0,0)
1335796869584: mux: I got a CSM packet at a leader 

1335796869585: Sending UDP payload: 989
1335796869586: forwarding disabled, not forwarding packets
1335796869587: Received UDP payload: 446
1335796869589: mux: Inside Packet.SERVER_REPLY
1335796869589: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796869684: Retrying PROC_REQUEST 11:2 (3,0)->(2,0)
1335796869684: Dispatching Atom PROC_REQUEST 11:2 (3,0)->(2,0)
1335796869685: mux: I got a CSM packet at a leader 

1335796869685: DSM Layer: Request timed out, send failure PROC_REPLY 11:4 (0,0)->(3,0)
1335796869685: Dispatching Atom PROC_REPLY 11:4 (0,0)->(3,0)
1335796869688: mux: I got a CSM packet at a leader 

1335796869686: Sending UDP payload: 989
1335796869687: forwarding disabled, not forwarding packets
1335796869689: Sending UDP payload: 989
1335796869690: Received PROC_REPLY 11:4 (0,0)->(3,0), handing to UserApp
1335796869690: inside handleDSMReply. Now back in originator leader of region 3
1335796869690: DSM layer timed out, don't log dsm layer latency stuff.
1335796869691: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796869691: change leader replyCounter to: 20
1335796869691: reply packet contains the newest photo/success info from the remote region
1335796869691: inside sendReplies of replyCount = 500500020
1335796869691: =======================
1335796869691: inside sendReplyRepeatingRunnable for replyCount = 500500020
1335796869691: Leader about to send REPLY packet, number: 500500020 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796869691: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796869692: inside sendPacket(Packet p)
1335796869692: === Finished one round of sending REPLY Packet =======
1335796869693: Sending UDP payload: 642
1335796869777: Received UDP payload: 6056
1335796869779: mux: GOT CSM_Msg
1335796869779: Received PROC_REPLY 11:2 (2,0)->(3,0), handing to UserApp
1335796869780: inside handleDSMReply. Now back in originator leader of region 3
1335796869780: DSM layer: Going to and from remote region took latency = 836
1335796869780: DSM layer: orig leader sent packet at 1335796868944 ~ received reply from remote leader at 1335796869780
1335796869781: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796869781: change leader replyCounter to: 21
1335796869781: reply packet contains the newest photo/success info from the remote region
1335796869781: inside sendReplies of replyCount = 500500021
1335796869781: =======================
1335796869781: inside sendReplyRepeatingRunnable for replyCount = 500500021
1335796869781: Leader about to send REPLY packet, number: 500500021 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796869781: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796869782: inside sendPacket(Packet p)
1335796869782: === Finished one round of sending REPLY Packet =======
1335796869783: Sending UDP payload: 5709
1335796869797: Received UDP payload: 642
1335796869800: mux: Inside Packet.SERVER_REPLY
1335796869800: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796869804: Received UDP payload: 446
1335796869806: mux: Inside mux Packet.CLIENT_REQUEST
1335796869807: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796869807: inside handleClientRequest. Originator leader of region 3
1335796869807: got new request, requestCounter = 5011012
1335796869807: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500020
1335796869807: Yay the last leg succeeded. Removing reply runnables ...
1335796869807: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500020
1335796869808: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500020
1335796869808: do not send ack for received final_leg_ack
1335796869853: inside sendPacket(Packet p)
1335796869854: Sending UDP payload: 446
1335796869936: Received UDP payload: 625
1335796869938: mux: Inside mux Packet.CLIENT_REQUEST
1335796870081: =======================
1335796870081: inside sendReplyRepeatingRunnable for replyCount = 500500021
1335796870082: Leader about to send REPLY packet, number: 500500021 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796870082: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796870082: inside sendPacket(Packet p)
1335796870082: === Finished one round of sending REPLY Packet =======
1335796870083: Sending UDP payload: 5709
1335796870238: Received UDP payload: 989
1335796870240: mux: GOT CSM_Msg
1335796870240: removed replies before id 1 from sentReplies of size 0
1335796870240: inside handleDSMRequest. At requests's remote leader of region 3
1335796870241: INSIDE SERVER_GET_PHOTO!!!
1335796870245: Received PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796870245: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796870245: mux: I got a CSM packet at a leader 

1335796870246: Sending UDP payload: 5000
1335796870253: Received UDP payload: 625
1335796870255: mux: Inside mux Packet.CLIENT_REQUEST
1335796870255: forwarding disabled, not forwarding packets
1335796870382: =======================
1335796870382: inside sendReplyRepeatingRunnable for replyCount = 500500021
1335796870382: Leader about to send REPLY packet, number: 500500021 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796870383: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796870383: inside sendPacket(Packet p)
1335796870383: === Finished one round of sending REPLY Packet =======
1335796870384: Sending UDP payload: 5709
1335796870527: Received UDP payload: 446
1335796870531: mux: Inside mux Packet.CLIENT_REQUEST
1335796870537: Received UDP payload: 446
1335796870541: mux: Inside mux Packet.CLIENT_REQUEST
1335796870683: =======================
1335796870684: inside sendReplyRepeatingRunnable for replyCount = 500500021
1335796870684: Leader about to send REPLY packet, number: 500500021 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796870685: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796870685: inside sendPacket(Packet p)
1335796870685: === Finished one round of sending REPLY Packet =======
1335796870687: Sending UDP payload: 5709
1335796870757: Received UDP payload: 989
1335796870763: mux: GOT CSM_Msg
1335796870763: removed replies before id 1 from sentReplies of size 1
1335796870765: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796870765: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796870765: mux: I got a CSM packet at a leader 

1335796870768: Sending UDP payload: 5000
1335796870771: forwarding disabled, not forwarding packets
1335796870782: inside sendReplyTimeoutR
1335796870782: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500021
1335796870870: Received UDP payload: 446
1335796870873: mux: Inside mux Packet.CLIENT_REQUEST
1335796870873: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796870873: inside handleClientRequest. Originator leader of region 3
1335796870874: got new request, requestCounter = 5013020
1335796870874: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500021
1335796870874: Yay the last leg succeeded. Removing reply runnables ...
1335796870875: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500021
1335796870875: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500021
1335796870875: do not send ack for received final_leg_ack
1335796870910: Received UDP payload: 989
1335796870916: mux: GOT CSM_Msg
1335796870917: removed replies before id 1 from sentReplies of size 1
1335796870918: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796870918: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796870919: mux: I got a CSM packet at a leader 

1335796870922: Sending UDP payload: 5000
1335796870923: forwarding disabled, not forwarding packets
1335796871052: Received UDP payload: 6268
1335796871056: mux: GOT CSM_Msg
1335796871056: Received DUPLICATE PROC_REPLY 11:4 (0,0)->(3,0)
1335796871115: Received UDP payload: 625
1335796871117: mux: Inside mux Packet.CLIENT_REQUEST
1335796871214: Received UDP payload: 6056
1335796871217: mux: GOT CSM_Msg
1335796871217: forwarding disabled, not forwarding packets
1335796871219: Received UDP payload: 446
1335796871221: mux: Inside Packet.SERVER_REPLY
1335796871221: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796871379: Received UDP payload: 625
1335796871381: mux: Inside mux Packet.CLIENT_REQUEST
1335796871421: Received UDP payload: 989
1335796871425: mux: GOT CSM_Msg
1335796871425: removed replies before id 0 from sentReplies of size 0
1335796871425: inside handleDSMRequest. At requests's remote leader of region 3
1335796871426: INSIDE SERVER_GET_PHOTO!!!
1335796871427: Received PROC_REQUEST 11:0 (2,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(2,0)
1335796871428: Dispatching Atom PROC_REPLY 11:0 (3,0)->(2,0)
1335796871428: mux: I got a CSM packet at a leader 

1335796871429: Sending UDP payload: 5000
1335796871431: forwarding disabled, not forwarding packets
1335796871669: Received UDP payload: 989
1335796871679: mux: GOT CSM_Msg
1335796871680: removed replies before id 1 from sentReplies of size 1
1335796871681: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796871682: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796871683: mux: I got a CSM packet at a leader 

1335796871692: Sending UDP payload: 5000
1335796871699: forwarding disabled, not forwarding packets
1335796871837: Received UDP payload: 6268
1335796871842: mux: GOT CSM_Msg
1335796871843: Received DUPLICATE PROC_REPLY 11:4 (0,0)->(3,0)
1335796871849: Received UDP payload: 989
1335796871853: mux: GOT CSM_Msg
1335796871854: removed replies before id 1 from sentReplies of size 1
1335796871855: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796871855: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796871856: mux: I got a CSM packet at a leader 

1335796871858: Sending UDP payload: 5000
1335796871860: forwarding disabled, not forwarding packets
1335796871862: Received UDP payload: 625
1335796871865: mux: Inside mux Packet.CLIENT_REQUEST
1335796871865: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796871866: inside handleClientRequest. Originator leader of region 3
1335796871866: got new request, requestCounter = 5013021
1335796871866: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796871867: Sending to region: 3
1335796871868: Sending PROC_REQUEST 11:9 (3,0)->(3,0)
1335796871868: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(3,0)
1335796871869: mux: I got a CSM packet at a leader 

1335796871868: Note down new request by adding requestCounter=5013021 to HashMap processedRequests
1335796871869: Make FirstLeg Ack regardless of new or already-processed requests
1335796871869: The leader sending a First Leg ack to originator client (which id = 5013)
1335796871869: inside sendPacket(Packet p)
1335796871891: Sending UDP payload: 989
1335796871893: removed replies before id 9 from sentReplies of size 0
1335796871893: inside handleDSMRequest. At requests's remote leader of region 3
1335796871895: INSIDE SERVER_GET_PHOTO!!!
1335796871896: dst_region == src_region = 3
1335796871896:  1 self to self atomRequest
1335796871899: Received PROC_REQUEST 11:9 (3,0)->(3,0), replying PROC_REPLY 11:9 (3,0)->(3,0)
1335796871899: Dispatching Atom PROC_REPLY 11:9 (3,0)->(3,0)
1335796871902: mux: I got a CSM packet at a leader 

1335796871901: Sending UDP payload: 446
1335796871906: Received UDP payload: 989
1335796871905: Sending UDP payload: 5000
1335796871929: mux: GOT CSM_Msg
1335796871914: Received PROC_REPLY 11:9 (3,0)->(3,0), handing to UserApp
1335796871915: inside handleDSMReply. Now back in originator leader of region 3
1335796871915: DSM layer: Going to and from remote region took latency = 48
1335796871915: DSM layer: orig leader sent packet at 1335796871867 ~ received reply from remote leader at 1335796871915
1335796871924: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796871925: change leader replyCounter to: 22
1335796871925: reply packet contains the newest photo/success info from the remote region
1335796871925: inside sendReplies of replyCount = 500500022
1335796871925: =======================
1335796871926: inside sendReplyRepeatingRunnable for replyCount = 500500022
1335796871926: Leader about to send REPLY packet, number: 500500022 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796871926: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796871926: inside sendPacket(Packet p)
1335796871926: === Finished one round of sending REPLY Packet =======
1335796871929: removed replies before id 1 from sentReplies of size 1
1335796871930: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796871931: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796871938: mux: I got a CSM packet at a leader 

1335796871933: Sending UDP payload: 4653
1335796871940: Sending UDP payload: 5000
1335796871948: forwarding disabled, not forwarding packets
1335796871956: Received UDP payload: 989
1335796871960: mux: GOT CSM_Msg
1335796871961: removed replies before id 1 from sentReplies of size 1
1335796871962: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796871962: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796871962: mux: I got a CSM packet at a leader 

1335796871965: Sending UDP payload: 5000
1335796871966: forwarding disabled, not forwarding packets
1335796871967: Received UDP payload: 989
1335796871971: mux: GOT CSM_Msg
1335796871972: removed replies before id 0 from sentReplies of size 1
1335796871973: Received DUPLICATE PROC_REQUEST 11:0 (2,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(2,0)
1335796871973: Dispatching Atom PROC_REPLY 11:0 (3,0)->(2,0)
1335796871974: mux: I got a CSM packet at a leader 

1335796871982: Sending UDP payload: 5000
1335796871988: forwarding disabled, not forwarding packets
1335796872007: Received UDP payload: 989
1335796872012: mux: GOT CSM_Msg
1335796872012: removed replies before id 1 from sentReplies of size 1
1335796872013: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796872016: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796872016: mux: I got a CSM packet at a leader 

1335796872019: Sending UDP payload: 5000
1335796872020: forwarding disabled, not forwarding packets
1335796872126: Received UDP payload: 989
1335796872130: mux: GOT CSM_Msg
1335796872130: removed replies before id 0 from sentReplies of size 1
1335796872131: Received DUPLICATE PROC_REQUEST 11:0 (2,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(2,0)
1335796872132: Dispatching Atom PROC_REPLY 11:0 (3,0)->(2,0)
1335796872132: mux: I got a CSM packet at a leader 

1335796872146: Sending UDP payload: 5000
1335796872147: forwarding disabled, not forwarding packets
1335796872159: Received UDP payload: 989
1335796872164: mux: GOT CSM_Msg
1335796872164: removed replies before id 0 from sentReplies of size 1
1335796872165: Received DUPLICATE PROC_REQUEST 11:0 (2,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(2,0)
1335796872166: Dispatching Atom PROC_REPLY 11:0 (3,0)->(2,0)
1335796872166: mux: I got a CSM packet at a leader 

1335796872168: Sending UDP payload: 5000
1335796872169: forwarding disabled, not forwarding packets
1335796872227: =======================
1335796872227: inside sendReplyRepeatingRunnable for replyCount = 500500022
1335796872227: Leader about to send REPLY packet, number: 500500022 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796872227: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796872228: inside sendPacket(Packet p)
1335796872228: === Finished one round of sending REPLY Packet =======
1335796872230: Sending UDP payload: 4653
1335796872260: Received UDP payload: 446
1335796872265: mux: Inside Packet.SERVER_REPLY
1335796872265: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796872298: Received UDP payload: 989
1335796872303: mux: GOT CSM_Msg
1335796872304: removed replies before id 0 from sentReplies of size 1
1335796872305: Received DUPLICATE PROC_REQUEST 11:0 (2,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(2,0)
1335796872305: Dispatching Atom PROC_REPLY 11:0 (3,0)->(2,0)
1335796872306: mux: I got a CSM packet at a leader 

1335796872308: Sending UDP payload: 5000
1335796872309: forwarding disabled, not forwarding packets
1335796872396: Received UDP payload: 989
1335796872400: mux: GOT CSM_Msg
1335796872400: removed replies before id 0 from sentReplies of size 1
1335796872401: Received DUPLICATE PROC_REQUEST 11:0 (2,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(2,0)
1335796872402: Dispatching Atom PROC_REPLY 11:0 (3,0)->(2,0)
1335796872402: mux: I got a CSM packet at a leader 

1335796872406: Sending UDP payload: 5000
1335796872408: forwarding disabled, not forwarding packets
1335796872449: Received UDP payload: 989
1335796872457: mux: GOT CSM_Msg
1335796872457: forwarding disabled, not forwarding packets
1335796872481: Received UDP payload: 989
1335796872493: mux: GOT CSM_Msg
1335796872493: removed replies before id 0 from sentReplies of size 1
1335796872495: Received DUPLICATE PROC_REQUEST 11:0 (2,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(2,0)
1335796872496: Dispatching Atom PROC_REPLY 11:0 (3,0)->(2,0)
1335796872497: mux: I got a CSM packet at a leader 

1335796872505: Sending UDP payload: 5000
1335796872507: forwarding disabled, not forwarding packets
1335796872529: =======================
1335796872530: inside sendReplyRepeatingRunnable for replyCount = 500500022
1335796872530: Leader about to send REPLY packet, number: 500500022 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796872530: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796872531: inside sendPacket(Packet p)
1335796872531: === Finished one round of sending REPLY Packet =======
1335796872535: Sending UDP payload: 4653
1335796872669: Received UDP payload: 6056
1335796872696: mux: GOT CSM_Msg
1335796872697: forwarding disabled, not forwarding packets
1335796872697: Received UDP payload: 989
1335796872707: mux: GOT CSM_Msg
1335796872707: removed replies before id 0 from sentReplies of size 1
1335796872709: Received DUPLICATE PROC_REQUEST 11:0 (2,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(2,0)
1335796872710: Dispatching Atom PROC_REPLY 11:0 (3,0)->(2,0)
1335796872710: mux: I got a CSM packet at a leader 

1335796872715: Sending UDP payload: 5000
1335796872718: forwarding disabled, not forwarding packets
1335796872788: Received UDP payload: 446
1335796872795: mux: Inside mux Packet.CLIENT_REQUEST
1335796872795: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796872795: inside handleClientRequest. Originator leader of region 3
1335796872796: got new request, requestCounter = 5013022
1335796872796: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500022
1335796872796: Yay the last leg succeeded. Removing reply runnables ...
1335796872796: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500022
1335796872796: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500022
1335796872796: do not send ack for received final_leg_ack
1335796872864: Received UDP payload: 989
1335796872868: mux: GOT CSM_Msg
1335796872869: removed replies before id 1 from sentReplies of size 1
1335796872869: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796872869: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796872870: mux: I got a CSM packet at a leader 

1335796872876: Sending UDP payload: 5000
1335796872876: forwarding disabled, not forwarding packets
1335796872899: Received UDP payload: 446
1335796873201: Received UDP payload: 446
1335796873224: Received UDP payload: 446
1335796873228: mux: Inside mux Packet.CLIENT_REQUEST
1335796873228: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796873228: inside handleClientRequest. Originator leader of region 3
1335796873229: got new request, requestCounter = 5013023
1335796873229: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500022
1335796873229: Yay the last leg succeeded. Removing reply runnables ...
1335796873229: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500022
1335796873230: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500022
1335796873230: do not send ack for received final_leg_ack
1335796873237: Received UDP payload: 989
1335796873242: mux: GOT CSM_Msg
1335796873242: forwarding disabled, not forwarding packets
1335796873247: Received UDP payload: 989
1335796873252: mux: GOT CSM_Msg
1335796873252: removed replies before id 0 from sentReplies of size 1
1335796873253: Received DUPLICATE PROC_REQUEST 11:0 (2,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(2,0)
1335796873254: Dispatching Atom PROC_REPLY 11:0 (3,0)->(2,0)
1335796873255: mux: I got a CSM packet at a leader 

1335796873257: Sending UDP payload: 5000
1335796873259: forwarding disabled, not forwarding packets
1335796873271: Received UDP payload: 989
1335796873276: mux: GOT CSM_Msg
1335796873276: forwarding disabled, not forwarding packets
1335796873281: Received UDP payload: 989
1335796873293: mux: GOT CSM_Msg
1335796873294: forwarding disabled, not forwarding packets
1335796873497: Received UDP payload: 446
1335796873600: Received UDP payload: 446
1335796873607: mux: Inside Packet.SERVER_REPLY
1335796873608: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796873689: Received UDP payload: 6056
1335796873697: mux: GOT CSM_Msg
1335796873698: forwarding disabled, not forwarding packets
1335796873764: Received UDP payload: 989
1335796873771: mux: GOT CSM_Msg
1335796873772: removed replies before id 1 from sentReplies of size 1
1335796873774: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796873776: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796873777: mux: I got a CSM packet at a leader 

1335796873780: Sending UDP payload: 5000
1335796873797: forwarding disabled, not forwarding packets
1335796873797: Received UDP payload: 989
1335796873808: mux: GOT CSM_Msg
1335796873808: forwarding disabled, not forwarding packets
1335796873809: Received UDP payload: 989
1335796873822: mux: GOT CSM_Msg
1335796873822: removed replies before id 1 from sentReplies of size 1
1335796873823: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796873823: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796873823: mux: I got a CSM packet at a leader 

1335796873824: Sending UDP payload: 5000
1335796873825: forwarding disabled, not forwarding packets
1335796873885: Received UDP payload: 989
1335796873887: mux: GOT CSM_Msg
1335796873888: forwarding disabled, not forwarding packets
1335796873992: Received UDP payload: 989
1335796873994: mux: GOT CSM_Msg
1335796873994: forwarding disabled, not forwarding packets
1335796874002: Received UDP payload: 989
1335796874006: mux: GOT CSM_Msg
1335796874006: forwarding disabled, not forwarding packets
1335796874025: Received UDP payload: 989
1335796874028: mux: GOT CSM_Msg
1335796874028: forwarding disabled, not forwarding packets
1335796874031: Received UDP payload: 446
1335796874059: Received UDP payload: 989
1335796874061: mux: GOT CSM_Msg
1335796874061: forwarding disabled, not forwarding packets
1335796874093: Received UDP payload: 989
1335796874095: mux: GOT CSM_Msg
1335796874095: forwarding disabled, not forwarding packets
1335796874113: Received UDP payload: 989
1335796874115: mux: GOT CSM_Msg
1335796874116: forwarding disabled, not forwarding packets
1335796874131: Received UDP payload: 989
1335796874133: mux: GOT CSM_Msg
1335796874134: forwarding disabled, not forwarding packets
1335796874181: Received UDP payload: 989
1335796874184: mux: GOT CSM_Msg
1335796874184: forwarding disabled, not forwarding packets
1335796874194: Received UDP payload: 989
1335796874196: mux: GOT CSM_Msg
1335796874197: removed replies before id 3 from sentReplies of size 0
1335796874197: inside handleDSMRequest. At requests's remote leader of region 3
1335796874198: INSIDE SERVER_GET_PHOTO!!!
1335796874201: Received PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796874201: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796874202: mux: I got a CSM packet at a leader 

1335796874203: Sending UDP payload: 5000
1335796874203: Received UDP payload: 446
1335796874210: mux: Inside Packet.SERVER_REPLY
1335796874210: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796874210: forwarding disabled, not forwarding packets
1335796874214: Received UDP payload: 446
1335796874215: mux: Inside Packet.SERVER_REPLY
1335796874216: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796874301: Received UDP payload: 446
1335796874339: Received UDP payload: 446
1335796874369: Received UDP payload: 989
1335796874372: mux: GOT CSM_Msg
1335796874372: removed replies before id 3 from sentReplies of size 1
1335796874373: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796874373: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796874374: mux: I got a CSM packet at a leader 

1335796874375: Sending UDP payload: 5000
1335796874376: forwarding disabled, not forwarding packets
1335796874386: Received UDP payload: 989
1335796874388: mux: GOT CSM_Msg
1335796874388: removed replies before id 3 from sentReplies of size 1
1335796874389: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796874389: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796874390: mux: I got a CSM packet at a leader 

1335796874391: Sending UDP payload: 5000
1335796874392: forwarding disabled, not forwarding packets
1335796874490: Received UDP payload: 446
1335796874493: mux: Inside mux Packet.CLIENT_REQUEST
1335796874551: Received UDP payload: 5709
1335796874555: mux: Inside Packet.SERVER_REPLY
1335796874556: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796874714: Received UDP payload: 989
1335796874719: mux: GOT CSM_Msg
1335796874719: removed replies before id 3 from sentReplies of size 1
1335796874721: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796874721: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796874721: mux: I got a CSM packet at a leader 

1335796874723: Sending UDP payload: 5000
1335796874726: forwarding disabled, not forwarding packets
1335796874789: Received UDP payload: 6056
1335796874793: mux: GOT CSM_Msg
1335796874794: forwarding disabled, not forwarding packets
1335796874853: inside sendPacket(Packet p)
1335796874855: Sending UDP payload: 446
1335796874895: Received UDP payload: 989
1335796874900: mux: GOT CSM_Msg
1335796874901: removed replies before id 3 from sentReplies of size 1
1335796874902: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796874902: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796874902: mux: I got a CSM packet at a leader 

1335796874905: Sending UDP payload: 5000
1335796874912: forwarding disabled, not forwarding packets
1335796875147: Received UDP payload: 989
1335796875158: mux: GOT CSM_Msg
1335796875159: removed replies before id 3 from sentReplies of size 1
1335796875161: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796875162: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796875162: mux: I got a CSM packet at a leader 

1335796875168: Sending UDP payload: 5000
1335796875174: forwarding disabled, not forwarding packets
1335796875361: Received UDP payload: 6056
1335796875365: mux: GOT CSM_Msg
1335796875366: forwarding disabled, not forwarding packets
1335796875397: Received UDP payload: 989
1335796875400: mux: GOT CSM_Msg
1335796875401: removed replies before id 3 from sentReplies of size 1
1335796875401: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796875402: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796875402: mux: I got a CSM packet at a leader 

1335796875403: Sending UDP payload: 5000
1335796875409: forwarding disabled, not forwarding packets
1335796875456: Received UDP payload: 989
1335796875460: mux: GOT CSM_Msg
1335796875460: removed replies before id 3 from sentReplies of size 1
1335796875461: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796875461: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796875461: mux: I got a CSM packet at a leader 

1335796875463: Sending UDP payload: 5000
1335796875465: forwarding disabled, not forwarding packets
1335796875490: Received UDP payload: 989
1335796875493: mux: GOT CSM_Msg
1335796875494: removed replies before id 3 from sentReplies of size 1
1335796875494: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796875495: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796875495: mux: I got a CSM packet at a leader 

1335796875497: Sending UDP payload: 5000
1335796875501: forwarding disabled, not forwarding packets
1335796875543: Received UDP payload: 989
1335796875546: mux: GOT CSM_Msg
1335796875546: removed replies before id 3 from sentReplies of size 1
1335796875547: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796875548: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796875548: mux: I got a CSM packet at a leader 

1335796875550: Sending UDP payload: 5000
1335796875550: forwarding disabled, not forwarding packets
1335796875562: Received UDP payload: 989
1335796875566: mux: GOT CSM_Msg
1335796875566: removed replies before id 3 from sentReplies of size 1
1335796875567: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796875567: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796875567: mux: I got a CSM packet at a leader 

1335796875587: Received UDP payload: 6056
1335796875588: Sending UDP payload: 5000
1335796875588: forwarding disabled, not forwarding packets
1335796875592: mux: GOT CSM_Msg
1335796875592: forwarding disabled, not forwarding packets
1335796875665: Received UDP payload: 989
1335796875668: mux: GOT CSM_Msg
1335796875669: removed replies before id 3 from sentReplies of size 1
1335796875669: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796875670: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796875670: mux: I got a CSM packet at a leader 

1335796875671: Sending UDP payload: 5000
1335796875677: forwarding disabled, not forwarding packets
1335796875678: Received UDP payload: 989
1335796875689: mux: GOT CSM_Msg
1335796875689: removed replies before id 3 from sentReplies of size 1
1335796875690: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(1,0)
1335796875690: Dispatching Atom PROC_REPLY 11:3 (3,0)->(1,0)
1335796875691: mux: I got a CSM packet at a leader 

1335796875748: Sending UDP payload: 5000
1335796875749: forwarding disabled, not forwarding packets
1335796875798: Received UDP payload: 6056
1335796875802: mux: GOT CSM_Msg
1335796875802: forwarding disabled, not forwarding packets
1335796875888: Received UDP payload: 989
1335796875893: mux: GOT CSM_Msg
1335796875894: forwarding disabled, not forwarding packets
1335796876030: Received UDP payload: 6056
1335796876035: mux: GOT CSM_Msg
1335796876036: forwarding disabled, not forwarding packets
1335796876159: Received UDP payload: 6056
1335796876168: mux: GOT CSM_Msg
1335796876169: forwarding disabled, not forwarding packets
1335796876179: Received UDP payload: 989
1335796876188: mux: GOT CSM_Msg
1335796876189: removed replies before id 1 from sentReplies of size 0
1335796876190: inside handleDSMRequest. At requests's remote leader of region 3
1335796876192: INSIDE SERVER_GET_PHOTO!!!
1335796876203: Received PROC_REQUEST 11:1 (2,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(2,0)
1335796876204: Dispatching Atom PROC_REPLY 11:1 (3,0)->(2,0)
1335796876205: mux: I got a CSM packet at a leader 

1335796876212: Sending UDP payload: 5000
1335796876213: forwarding disabled, not forwarding packets
1335796876501: Received UDP payload: 446
1335796876553: Received UDP payload: 989
1335796876560: mux: GOT CSM_Msg
1335796876561: removed replies before id 1 from sentReplies of size 1
1335796876563: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(2,0)
1335796876564: Dispatching Atom PROC_REPLY 11:1 (3,0)->(2,0)
1335796876564: mux: I got a CSM packet at a leader 

1335796876568: Sending UDP payload: 5000
1335796876571: forwarding disabled, not forwarding packets
1335796876676: Received UDP payload: 989
1335796876682: mux: GOT CSM_Msg
1335796876682: forwarding disabled, not forwarding packets
1335796876707: Received UDP payload: 989
1335796876716: mux: GOT CSM_Msg
1335796876717: removed replies before id 1 from sentReplies of size 1
1335796876718: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(2,0)
1335796876719: Dispatching Atom PROC_REPLY 11:1 (3,0)->(2,0)
1335796876720: mux: I got a CSM packet at a leader 

1335796876724: Sending UDP payload: 5000
1335796876724: forwarding disabled, not forwarding packets
1335796876794: Received UDP payload: 989
1335796876802: mux: GOT CSM_Msg
1335796876802: forwarding disabled, not forwarding packets
1335796876922: Received UDP payload: 989
1335796876926: mux: GOT CSM_Msg
1335796876927: removed replies before id 1 from sentReplies of size 1
1335796876928: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(2,0)
1335796876929: Dispatching Atom PROC_REPLY 11:1 (3,0)->(2,0)
1335796876930: mux: I got a CSM packet at a leader 

1335796876933: Sending UDP payload: 5000
1335796876934: forwarding disabled, not forwarding packets
1335796876976: Received UDP payload: 989
1335796876981: mux: GOT CSM_Msg
1335796876981: forwarding disabled, not forwarding packets
1335796877007: Received UDP payload: 989
1335796877014: mux: GOT CSM_Msg
1335796877014: forwarding disabled, not forwarding packets
1335796877072: Received UDP payload: 989
1335796877081: mux: GOT CSM_Msg
1335796877081: forwarding disabled, not forwarding packets
1335796877156: Received UDP payload: 989
1335796877162: mux: GOT CSM_Msg
1335796877163: removed replies before id 1 from sentReplies of size 1
1335796877165: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(2,0)
1335796877166: Dispatching Atom PROC_REPLY 11:1 (3,0)->(2,0)
1335796877167: mux: I got a CSM packet at a leader 

1335796877170: Sending UDP payload: 5000
1335796877172: forwarding disabled, not forwarding packets
1335796877192: Received UDP payload: 989
1335796877200: mux: GOT CSM_Msg
1335796877201: removed replies before id 1 from sentReplies of size 1
1335796877203: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(2,0)
1335796877204: Dispatching Atom PROC_REPLY 11:1 (3,0)->(2,0)
1335796877204: mux: I got a CSM packet at a leader 

1335796877210: Sending UDP payload: 5000
1335796877212: forwarding disabled, not forwarding packets
1335796877314: Received UDP payload: 6056
1335796877316: mux: GOT CSM_Msg
1335796877316: forwarding disabled, not forwarding packets
1335796877421: canPressButton = TRUE
1335796877422: areButtonsEnabled --> false 
1335796877422: get picture disableButtonsR
1335796877423: areButtonsEnabled --> false
1335796877461: one more getNum: 5
1335796877462: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=0 getTimedout=0 getPercent=80%
1335796877462: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335796877463: change local requestCounter to 13
1335796877465: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005013 Client in region: 3 Client nodID: 5005
1335796877501: ----------------------------
1335796877501: inside sendRequestPacketRepeatingRunnable for requestCount = 5005013
1335796877502: I'm a leader, my requesting photos packet going to mux directly
1335796877507: --- Finished one round of sending REQUEST Packet ---------
1335796877502: mux: Inside mux Packet.CLIENT_REQUEST
1335796877502: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796877558: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796877502: inside handleClientRequest. Originator leader of region 3
1335796877502: got new request, requestCounter = 5005013
1335796877502: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796877503: Sending to region: 2
1335796877503: Sending PROC_REQUEST 11:3 (3,0)->(2,0)
1335796877504: Dispatching Atom PROC_REQUEST 11:3 (3,0)->(2,0)
1335796877504: mux: I got a CSM packet at a leader 

1335796877504: Note down new request by adding requestCounter=5005013 to HashMap processedRequests
1335796877504: Make FirstLeg Ack regardless of new or already-processed requests
1335796877504: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796877506: Sending UDP payload: 989
1335796877507: forwarding disabled, not forwarding packets
1335796877540: Received UDP payload: 6056
1335796877544: mux: GOT CSM_Msg
1335796877545: forwarding disabled, not forwarding packets
1335796877587: Received UDP payload: 989
1335796877590: mux: GOT CSM_Msg
1335796877590: removed replies before id 1 from sentReplies of size 1
1335796877592: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(2,0)
1335796877592: Dispatching Atom PROC_REPLY 11:1 (3,0)->(2,0)
1335796877593: mux: I got a CSM packet at a leader 

1335796877596: Sending UDP payload: 5000
1335796877605: forwarding disabled, not forwarding packets
1335796877887: Received UDP payload: 6056
1335796877890: mux: GOT CSM_Msg
1335796877890: forwarding disabled, not forwarding packets
1335796878077: Received UDP payload: 6056
1335796878081: mux: GOT CSM_Msg
1335796878082: Received PROC_REPLY 11:3 (2,0)->(3,0), handing to UserApp
1335796878082: inside handleDSMReply. Now back in originator leader of region 3
1335796878082: DSM layer: Going to and from remote region took latency = 579
1335796878083: DSM layer: orig leader sent packet at 1335796877503 ~ received reply from remote leader at 1335796878082
1335796878085: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796878085: change leader replyCounter to: 23
1335796878085: reply packet contains the newest photo/success info from the remote region
1335796878086: inside sendReplies of replyCount = 500500023
1335796878086: =======================
1335796878086: inside sendReplyRepeatingRunnable for replyCount = 500500023
1335796878101: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796878101: disabling progressdialog due to successful new photo get
1335796878102: Inside _enableButtons
1335796878102: areButtonsEnabled --> true
1335796878102: send final leg ack regardless of new or already-processed reply
1335796878102: inside finalLegAck: change requestCounter to 14
1335796878103: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005014 Client in region: (3,0) Client nodID: 5005
1335796878103: I'm a leader client, my final_leg packet going to mux directly
1335796878103: new client_show_remotephoto reply with replyCounter 500500023
1335796878104: note down new reply by adding replyCounter=500500023 to HashMap processedReplies
1335796878107: leader download remote photo latency = 599
1335796878107: = leader download start 1335796877502 ~ stop 1335796878101
1335796878108: one more getGood: 5
1335796878111: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=5 getBad=0 getTimedout=0 getPercent=100%
1335796878111: successful reply for client get photo
1335796878111: Success! Client getting photo from remote region, showing photo...
1335796878112: Remote photo's length: 5045
1335796878086: Leader about to send REPLY packet, number: 500500023 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335796878087: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796878087: === Finished one round of sending REPLY Packet =======
1335796878104: mux: Inside mux Packet.CLIENT_REQUEST
1335796878105: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796878105: inside handleClientRequest. Originator leader of region 3
1335796878105: got new request, requestCounter = 5005014
1335796878106: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500023
1335796878106: Yay the last leg succeeded. Removing reply runnables ...
1335796878106: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500023
1335796878107: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500023
1335796878107: do not send ack for received final_leg_ack
1335796878322: Received UDP payload: 989
1335796878325: mux: GOT CSM_Msg
1335796878325: forwarding disabled, not forwarding packets
1335796878368: Received UDP payload: 642
1335796878370: mux: Inside Packet.SERVER_REPLY
1335796878370: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796878398: Received UDP payload: 446
1335796878400: mux: Inside mux Packet.CLIENT_REQUEST
1335796878812: Received UDP payload: 446
1335796879087: Received UDP payload: 642
1335796879093: mux: Inside Packet.SERVER_REPLY
1335796879094: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796879101: Received UDP payload: 642
1335796879114: mux: Inside Packet.SERVER_REPLY
1335796879115: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796879116: Received UDP payload: 642
1335796879121: mux: Inside Packet.SERVER_REPLY
1335796879123: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796879134: Received UDP payload: 446
1335796879171: Received UDP payload: 446
1335796879172: mux: Inside mux Packet.CLIENT_REQUEST
1335796879173: Received UDP payload: 446
1335796879174: mux: Inside mux Packet.CLIENT_REQUEST
1335796879266: Received UDP payload: 625
1335796879267: mux: Inside mux Packet.CLIENT_REQUEST
1335796879291: Received UDP payload: 989
1335796879293: mux: GOT CSM_Msg
1335796879293: removed replies before id 2 from sentReplies of size 0
1335796879293: inside handleDSMRequest. At requests's remote leader of region 3
1335796879294: INSIDE SERVER_GET_PHOTO!!!
1335796879295: Received PROC_REQUEST 11:2 (2,0)->(3,0), replying PROC_REPLY 11:2 (3,0)->(2,0)
1335796879296: Dispatching Atom PROC_REPLY 11:2 (3,0)->(2,0)
1335796879296: mux: I got a CSM packet at a leader 

1335796879298: Sending UDP payload: 5000
1335796879299: forwarding disabled, not forwarding packets
1335796879301: Received UDP payload: 446
1335796879302: mux: Inside Packet.SERVER_REPLY
1335796879302: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796879496: Received UDP payload: 446
1335796879498: mux: Inside mux Packet.CLIENT_REQUEST
1335796879853: inside sendPacket(Packet p)
1335796879855: Sending UDP payload: 446
1335796880384: Received UDP payload: 625
1335796880393: mux: Inside mux Packet.CLIENT_REQUEST
1335796880430: Received UDP payload: 989
1335796880439: mux: GOT CSM_Msg
1335796880439: removed replies before id 4 from sentReplies of size 0
1335796880440: inside handleDSMRequest. At requests's remote leader of region 3
1335796880440: INSIDE SERVER_GET_PHOTO!!!
1335796880442: Received PROC_REQUEST 11:4 (1,0)->(3,0), replying PROC_REPLY 11:4 (3,0)->(1,0)
1335796880442: Dispatching Atom PROC_REPLY 11:4 (3,0)->(1,0)
1335796880442: mux: I got a CSM packet at a leader 

1335796880444: Sending UDP payload: 5000
1335796880446: forwarding disabled, not forwarding packets
1335796880446: Received UDP payload: 446
1335796880448: mux: Inside Packet.SERVER_REPLY
1335796880448: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796881117: Received UDP payload: 4103
1335796881124: mux: Inside mux Packet.CLIENT_REQUEST
1335796881244: Received UDP payload: 446
1335796881248: mux: Inside Packet.SERVER_REPLY
1335796881249: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796881253: Received UDP payload: 989
1335796881268: mux: GOT CSM_Msg
1335796881268: forwarding disabled, not forwarding packets
1335796881277: Received UDP payload: 642
1335796881288: mux: Inside Packet.SERVER_REPLY
1335796881288: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796881281: Received UDP payload: 989
1335796881289: mux: GOT CSM_Msg
1335796881289: removed replies before id 4 from sentReplies of size 1
1335796881291: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(3,0), replying PROC_REPLY 11:4 (3,0)->(1,0)
1335796881292: Dispatching Atom PROC_REPLY 11:4 (3,0)->(1,0)
1335796881292: mux: I got a CSM packet at a leader 

1335796881298: Sending UDP payload: 5000
1335796881307: forwarding disabled, not forwarding packets
1335796881334: Received UDP payload: 446
1335796881338: mux: Inside mux Packet.CLIENT_REQUEST
1335796881346: Received UDP payload: 989
1335796881352: mux: GOT CSM_Msg
1335796881353: removed replies before id 4 from sentReplies of size 1
1335796881355: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(3,0), replying PROC_REPLY 11:4 (3,0)->(1,0)
1335796881356: Dispatching Atom PROC_REPLY 11:4 (3,0)->(1,0)
1335796881358: mux: I got a CSM packet at a leader 

1335796881361: Sending UDP payload: 5000
1335796881368: forwarding disabled, not forwarding packets
1335796881442: Received UDP payload: 446
1335796881566: Received UDP payload: 989
1335796881577: mux: GOT CSM_Msg
1335796881577: removed replies before id 4 from sentReplies of size 1
1335796881580: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(3,0), replying PROC_REPLY 11:4 (3,0)->(1,0)
1335796881581: Dispatching Atom PROC_REPLY 11:4 (3,0)->(1,0)
1335796881582: mux: I got a CSM packet at a leader 

1335796881593: Received UDP payload: 446
1335796881594: Sending UDP payload: 5000
1335796881601: forwarding disabled, not forwarding packets
1335796881747: Received UDP payload: 446
1335796881749: mux: Inside mux Packet.CLIENT_REQUEST
1335796882206: Received UDP payload: 989
1335796882208: mux: GOT CSM_Msg
1335796882208: forwarding disabled, not forwarding packets
1335796882298: Received UDP payload: 6056
1335796882306: mux: GOT CSM_Msg
1335796882306: forwarding disabled, not forwarding packets
1335796883226: Received UDP payload: 625
1335796883231: mux: Inside mux Packet.CLIENT_REQUEST
1335796883266: Received UDP payload: 446
1335796883270: mux: Inside Packet.SERVER_REPLY
1335796883271: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796883536: Received UDP payload: 625
1335796883541: mux: Inside mux Packet.CLIENT_REQUEST
1335796883570: Received UDP payload: 446
1335796883578: mux: Inside Packet.SERVER_REPLY
1335796883578: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796883824: Received UDP payload: 446
1335796883911: Received UDP payload: 989
1335796883919: mux: GOT CSM_Msg
1335796883919: forwarding disabled, not forwarding packets
1335796884030: Received UDP payload: 989
1335796884038: mux: GOT CSM_Msg
1335796884039: forwarding disabled, not forwarding packets
1335796884144: Received UDP payload: 6056
1335796884150: mux: GOT CSM_Msg
1335796884151: forwarding disabled, not forwarding packets
1335796884153: Received UDP payload: 989
1335796884169: mux: GOT CSM_Msg
1335796884169: forwarding disabled, not forwarding packets
1335796884232: Received UDP payload: 5709
1335796884237: mux: Inside Packet.SERVER_REPLY
1335796884237: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796884264: Received UDP payload: 446
1335796884265: mux: Inside mux Packet.CLIENT_REQUEST
1335796884326: Received UDP payload: 6056
1335796884328: mux: GOT CSM_Msg
1335796884328: forwarding disabled, not forwarding packets
1335796884854: inside sendPacket(Packet p)
1335796884855: Sending UDP payload: 446
1335796885089: Received UDP payload: 625
1335796885093: mux: Inside mux Packet.CLIENT_REQUEST
1335796885094: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796885094: inside handleClientRequest. Originator leader of region 3
1335796885095: got new request, requestCounter = 5011013
1335796885095: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796885097: Sending to region: 3
1335796885099: Sending PROC_REQUEST 11:10 (3,0)->(3,0)
1335796885100: Dispatching Atom PROC_REQUEST 11:10 (3,0)->(3,0)
1335796885116: mux: I got a CSM packet at a leader 

1335796885100: Note down new request by adding requestCounter=5011013 to HashMap processedRequests
1335796885100: Make FirstLeg Ack regardless of new or already-processed requests
1335796885115: The leader sending a First Leg ack to originator client (which id = 5011)
1335796885115: inside sendPacket(Packet p)
1335796885120: Sending UDP payload: 989
1335796885122: removed replies before id 10 from sentReplies of size 0
1335796885123: inside handleDSMRequest. At requests's remote leader of region 3
1335796885131: INSIDE SERVER_GET_PHOTO!!!
1335796885133: dst_region == src_region = 3
1335796885134:  1 self to self atomRequest
1335796885137: Received PROC_REQUEST 11:10 (3,0)->(3,0), replying PROC_REPLY 11:10 (3,0)->(3,0)
1335796885145: Dispatching Atom PROC_REPLY 11:10 (3,0)->(3,0)
1335796885156: mux: I got a CSM packet at a leader 

1335796885148: Sending UDP payload: 446
1335796885161: Sending UDP payload: 5000
1335796885183: Received PROC_REPLY 11:10 (3,0)->(3,0), handing to UserApp
1335796885183: inside handleDSMReply. Now back in originator leader of region 3
1335796885183: DSM layer: Going to and from remote region took latency = 85
1335796885184: DSM layer: orig leader sent packet at 1335796885098 ~ received reply from remote leader at 1335796885183
1335796885186: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796885187: change leader replyCounter to: 24
1335796885187: reply packet contains the newest photo/success info from the remote region
1335796885187: inside sendReplies of replyCount = 500500024
1335796885188: =======================
1335796885188: inside sendReplyRepeatingRunnable for replyCount = 500500024
1335796885188: Leader about to send REPLY packet, number: 500500024 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796885189: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796885189: inside sendPacket(Packet p)
1335796885189: === Finished one round of sending REPLY Packet =======
1335796885200: Sending UDP payload: 4653
1335796885320: Received UDP payload: 446
1335796885324: mux: Inside mux Packet.CLIENT_REQUEST
1335796885324: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796885325: inside handleClientRequest. Originator leader of region 3
1335796885325: got new request, requestCounter = 5011014
1335796885326: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500024
1335796885326: Yay the last leg succeeded. Removing reply runnables ...
1335796885326: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500024
1335796885327: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500024
1335796885327: do not send ack for received final_leg_ack
1335796885609: Received UDP payload: 625
1335796885613: mux: Inside mux Packet.CLIENT_REQUEST
1335796885635: Received UDP payload: 989
1335796885644: mux: GOT CSM_Msg
1335796885644: forwarding disabled, not forwarding packets
1335796885649: Received UDP payload: 446
1335796885653: mux: Inside Packet.SERVER_REPLY
1335796885654: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796885747: Received UDP payload: 6062
1335796885750: mux: GOT CSM_Msg
1335796885750: forwarding disabled, not forwarding packets
1335796885864: Received UDP payload: 5715
1335796885866: mux: Inside Packet.SERVER_REPLY
1335796885866: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796885877: Received UDP payload: 446
1335796885880: mux: Inside mux Packet.CLIENT_REQUEST
1335796885960: Received UDP payload: 625
1335796885961: mux: Inside mux Packet.CLIENT_REQUEST
1335796885973: Received UDP payload: 446
1335796885975: mux: Inside Packet.SERVER_REPLY
1335796885975: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796886048: canPressButton = TRUE
1335796886049: areButtonsEnabled --> false 
1335796886050: get picture disableButtonsR
1335796886050: areButtonsEnabled --> false
1335796886091: one more getNum: 6
1335796886093: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=5 getBad=0 getTimedout=0 getPercent=83%
1335796886094: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335796886094: change local requestCounter to 15
1335796886096: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005015 Client in region: 3 Client nodID: 5005
1335796886163: ----------------------------
1335796886164: inside sendRequestPacketRepeatingRunnable for requestCount = 5005015
1335796886164: I'm a leader, my requesting photos packet going to mux directly
1335796886164: --- Finished one round of sending REQUEST Packet ---------
1335796886165: mux: Inside mux Packet.CLIENT_REQUEST
1335796886165: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796886208: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796886165: inside handleClientRequest. Originator leader of region 3
1335796886166: got new request, requestCounter = 5005015
1335796886166: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796886170: Sending to region: 0
1335796886171: Sending PROC_REQUEST 11:5 (3,0)->(0,0)
1335796886172: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(0,0)
1335796886173: mux: I got a CSM packet at a leader 

1335796886172: Note down new request by adding requestCounter=5005015 to HashMap processedRequests
1335796886172: Make FirstLeg Ack regardless of new or already-processed requests
1335796886173: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796886177: Sending UDP payload: 989
1335796886178: forwarding disabled, not forwarding packets
1335796886269: Received UDP payload: 4467
1335796886271: mux: GOT CSM_Msg
1335796886272: Received PROC_REPLY 11:5 (0,0)->(3,0), handing to UserApp
1335796886272: inside handleDSMReply. Now back in originator leader of region 3
1335796886273: DSM layer: Going to and from remote region took latency = 102
1335796886273: DSM layer: orig leader sent packet at 1335796886170 ~ received reply from remote leader at 1335796886272
1335796886276: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796886276: change leader replyCounter to: 25
1335796886276: reply packet contains the newest photo/success info from the remote region
1335796886277: inside sendReplies of replyCount = 500500025
1335796886277: =======================
1335796886278: inside sendReplyRepeatingRunnable for replyCount = 500500025
1335796886286: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796886286: disabling progressdialog due to successful new photo get
1335796886286: Inside _enableButtons
1335796886286: areButtonsEnabled --> true
1335796886287: send final leg ack regardless of new or already-processed reply
1335796886301: inside finalLegAck: change requestCounter to 16
1335796886302: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005016 Client in region: (3,0) Client nodID: 5005
1335796886303: I'm a leader client, my final_leg packet going to mux directly
1335796886309: new client_show_remotephoto reply with replyCounter 500500025
1335796886310: note down new reply by adding replyCounter=500500025 to HashMap processedReplies
1335796886311: leader download remote photo latency = 122
1335796886311: = leader download start 1335796886164 ~ stop 1335796886286
1335796886313: one more getGood: 6
1335796886315: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1335796886316: successful reply for client get photo
1335796886317: Success! Client getting photo from remote region, showing photo...
1335796886318: Remote photo's length: 3456
1335796886278: Leader about to send REPLY packet, number: 500500025 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335796886278: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796886278: === Finished one round of sending REPLY Packet =======
1335796886304: mux: Inside mux Packet.CLIENT_REQUEST
1335796886304: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796886305: inside handleClientRequest. Originator leader of region 3
1335796886306: got new request, requestCounter = 5005016
1335796886306: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500025
1335796886307: Yay the last leg succeeded. Removing reply runnables ...
1335796886307: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500025
1335796886308: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500025
1335796886308: do not send ack for received final_leg_ack
1335796886440: Received UDP payload: 446
1335796887358: Received UDP payload: 625
1335796887370: mux: Inside mux Packet.CLIENT_REQUEST
1335796887404: Received UDP payload: 989
1335796887425: mux: GOT CSM_Msg
1335796887425: forwarding disabled, not forwarding packets
1335796887558: Received UDP payload: 4120
1335796887559: mux: Inside Packet.SERVER_REPLY
1335796887560: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796887579: Received UDP payload: 446
1335796887580: mux: Inside mux Packet.CLIENT_REQUEST
1335796887610: Received UDP payload: 989
1335796887613: mux: GOT CSM_Msg
1335796887613: forwarding disabled, not forwarding packets
1335796889056: Received UDP payload: 446
1335796889747: Received UDP payload: 989
1335796889758: mux: GOT CSM_Msg
1335796889759: forwarding disabled, not forwarding packets
1335796889855: inside sendPacket(Packet p)
1335796889858: Received UDP payload: 6062
1335796889860: Sending UDP payload: 446
1335796889863: mux: GOT CSM_Msg
1335796889863: forwarding disabled, not forwarding packets
1335796891475: Received UDP payload: 446
1335796891480: Received UDP payload: 446
1335796891821: Received UDP payload: 5199
1335796891829: mux: GOT CSM_Msg
1335796891829: forwarding disabled, not forwarding packets
1335796891839: Received UDP payload: 989
1335796891856: mux: GOT CSM_Msg
1335796891857: forwarding disabled, not forwarding packets
1335796892793: Received UDP payload: 989
1335796892801: mux: GOT CSM_Msg
1335796892801: forwarding disabled, not forwarding packets
1335796893551: Received UDP payload: 989
1335796893562: mux: GOT CSM_Msg
1335796893562: forwarding disabled, not forwarding packets
1335796894004: Received UDP payload: 989
1335796894011: mux: GOT CSM_Msg
1335796894012: forwarding disabled, not forwarding packets
1335796894038: Received UDP payload: 446
1335796894057: Received UDP payload: 989
1335796894063: mux: GOT CSM_Msg
1335796894063: forwarding disabled, not forwarding packets
1335796894076: Received UDP payload: 989
1335796894083: mux: GOT CSM_Msg
1335796894083: forwarding disabled, not forwarding packets
1335796894143: Received UDP payload: 989
1335796894145: mux: GOT CSM_Msg
1335796894145: forwarding disabled, not forwarding packets
1335796894249: Received UDP payload: 989
1335796894251: mux: GOT CSM_Msg
1335796894251: forwarding disabled, not forwarding packets
1335796894483: Received UDP payload: 6062
1335796894485: mux: GOT CSM_Msg
1335796894485: forwarding disabled, not forwarding packets
1335796894856: inside sendPacket(Packet p)
1335796894858: Sending UDP payload: 446
1335796896074: Received UDP payload: 989
1335796896080: mux: GOT CSM_Msg
1335796896081: forwarding disabled, not forwarding packets
1335796896225: Received UDP payload: 6062
1335796896232: mux: GOT CSM_Msg
1335796896232: forwarding disabled, not forwarding packets
1335796896322: Received UDP payload: 4167
1335796896327: mux: Inside mux Packet.CLIENT_REQUEST
1335796896446: Received UDP payload: 446
1335796896497: Received UDP payload: 446
1335796896611: Received UDP payload: 4167
1335796896617: mux: Inside mux Packet.CLIENT_REQUEST
1335796896690: Received UDP payload: 446
1335796896691: mux: Inside Packet.SERVER_REPLY
1335796896691: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796896741: Received UDP payload: 989
1335796896743: mux: GOT CSM_Msg
1335796896743: forwarding disabled, not forwarding packets
1335796896757: Received UDP payload: 642
1335796896759: mux: Inside Packet.SERVER_REPLY
1335796896760: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796896773: Received UDP payload: 446
1335796896775: mux: Inside mux Packet.CLIENT_REQUEST
1335796896921: Received UDP payload: 4167
1335796896923: mux: Inside mux Packet.CLIENT_REQUEST
1335796896936: Received UDP payload: 446
1335796896938: mux: Inside Packet.SERVER_REPLY
1335796896938: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796897584: Received UDP payload: 7055
1335796897594: mux: Inside mux Packet.CLIENT_REQUEST
1335796898198: Received UDP payload: 7055
1335796898202: mux: Inside mux Packet.CLIENT_REQUEST
1335796898412: Received UDP payload: 625
1335796898417: mux: Inside mux Packet.CLIENT_REQUEST
1335796898417: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796898417: inside handleClientRequest. Originator leader of region 3
1335796898418: got new request, requestCounter = 5011015
1335796898418: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796898424: Sending to region: 2
1335796898425: Sending PROC_REQUEST 11:4 (3,0)->(2,0)
1335796898426: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(2,0)
1335796898436: mux: I got a CSM packet at a leader 

1335796898434: Note down new request by adding requestCounter=5011015 to HashMap processedRequests
1335796898435: Make FirstLeg Ack regardless of new or already-processed requests
1335796898435: The leader sending a First Leg ack to originator client (which id = 5011)
1335796898435: inside sendPacket(Packet p)
1335796898451: Sending UDP payload: 989
1335796898462: forwarding disabled, not forwarding packets
1335796898468: Sending UDP payload: 446
1335796898833: Received UDP payload: 446
1335796899126: Retrying PROC_REQUEST 11:4 (3,0)->(2,0)
1335796899126: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(2,0)
1335796899127: mux: I got a CSM packet at a leader 

1335796899128: Sending UDP payload: 989
1335796899139: forwarding disabled, not forwarding packets
1335796899217: Received UDP payload: 5696
1335796899219: mux: GOT CSM_Msg
1335796899220: Received PROC_REPLY 11:4 (2,0)->(3,0), handing to UserApp
1335796899220: inside handleDSMReply. Now back in originator leader of region 3
1335796899220: DSM layer: Going to and from remote region took latency = 796
1335796899220: DSM layer: orig leader sent packet at 1335796898424 ~ received reply from remote leader at 1335796899220
1335796899221: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796899221: change leader replyCounter to: 26
1335796899221: reply packet contains the newest photo/success info from the remote region
1335796899221: inside sendReplies of replyCount = 500500026
1335796899221: =======================
1335796899221: inside sendReplyRepeatingRunnable for replyCount = 500500026
1335796899222: Leader about to send REPLY packet, number: 500500026 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796899222: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796899222: inside sendPacket(Packet p)
1335796899222: === Finished one round of sending REPLY Packet =======
1335796899223: Sending UDP payload: 5349
1335796899302: Received UDP payload: 446
1335796899303: mux: Inside mux Packet.CLIENT_REQUEST
1335796899303: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796899303: inside handleClientRequest. Originator leader of region 3
1335796899304: got new request, requestCounter = 5011016
1335796899304: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500026
1335796899304: Yay the last leg succeeded. Removing reply runnables ...
1335796899304: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500026
1335796899304: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500026
1335796899304: do not send ack for received final_leg_ack
1335796899857: inside sendPacket(Packet p)
1335796899861: Sending UDP payload: 446
1335796901446: Received UDP payload: 446
1335796901508: Received UDP payload: 989
1335796901518: mux: GOT CSM_Msg
1335796901518: forwarding disabled, not forwarding packets
1335796901528: Received UDP payload: 446
1335796901588: Received UDP payload: 5696
1335796901589: mux: GOT CSM_Msg
1335796901590: forwarding disabled, not forwarding packets
1335796903257: Received UDP payload: 989
1335796903263: mux: GOT CSM_Msg
1335796903264: forwarding disabled, not forwarding packets
1335796903810: Received UDP payload: 446
1335796904064: Received UDP payload: 446
1335796904068: mux: Inside Packet.SERVER_REPLY
1335796904068: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796904337: Received UDP payload: 989
1335796904343: mux: GOT CSM_Msg
1335796904343: forwarding disabled, not forwarding packets
1335796904361: Received UDP payload: 625
1335796904365: mux: Inside mux Packet.CLIENT_REQUEST
1335796904366: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796904366: inside handleClientRequest. Originator leader of region 3
1335796904366: got new request, requestCounter = 5013024
1335796904367: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796904369: Sending to region: 1
1335796904370: Sending PROC_REQUEST 11:4 (3,0)->(1,0)
1335796904371: Dispatching Atom PROC_REQUEST 11:4 (3,0)->(1,0)
1335796904373: mux: I got a CSM packet at a leader 

1335796904371: Note down new request by adding requestCounter=5013024 to HashMap processedRequests
1335796904371: Make FirstLeg Ack regardless of new or already-processed requests
1335796904372: The leader sending a First Leg ack to originator client (which id = 5013)
1335796904372: inside sendPacket(Packet p)
1335796904400: Sending UDP payload: 989
1335796904402: forwarding disabled, not forwarding packets
1335796904407: Sending UDP payload: 446
1335796904452: Received UDP payload: 5631
1335796904454: mux: GOT CSM_Msg
1335796904454: forwarding disabled, not forwarding packets
1335796904810: Received UDP payload: 989
1335796904812: mux: GOT CSM_Msg
1335796904812: forwarding disabled, not forwarding packets
1335796904834: leader to cloud hearbeat...
1335796904923: Received UDP payload: 989
1335796904925: mux: GOT CSM_Msg
1335796904925: forwarding disabled, not forwarding packets
1335796904954: Received UDP payload: 6062
1335796904956: mux: GOT CSM_Msg
1335796904956: forwarding disabled, not forwarding packets
1335796905061: Received UDP payload: 6062
1335796905066: mux: GOT CSM_Msg
1335796905066: forwarding disabled, not forwarding packets
1335796905115: Received UDP payload: 989
1335796905121: mux: GOT CSM_Msg
1335796905122: forwarding disabled, not forwarding packets
1335796905195: Received UDP payload: 6062
1335796905198: mux: GOT CSM_Msg
1335796905199: forwarding disabled, not forwarding packets
1335796905229: Received UDP payload: 989
1335796905232: mux: GOT CSM_Msg
1335796905232: forwarding disabled, not forwarding packets
1335796905348: Received UDP payload: 6062
1335796905351: mux: GOT CSM_Msg
1335796905351: forwarding disabled, not forwarding packets
1335796905361: Received UDP payload: 5715
1335796905363: mux: Inside Packet.SERVER_REPLY
1335796905364: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796905445: Received UDP payload: 446
1335796905447: mux: Inside mux Packet.CLIENT_REQUEST
1335796906113: canPressButton = TRUE
1335796906114: areButtonsEnabled --> false
1335796906115: disabling buttons ...
1335796906115: took picture disableButtonsR
1335796906116: areButtonsEnabled --> false
1335796906154: one more takeNum: 3
1335796906156: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1335796906158: Clicked take picture button ..
1335796906450: Received UDP payload: 446
1335796906703: Received UDP payload: 446
1335796907020: inside sendPacket(Packet p)
1335796907022: DSM Layer: Request timed out, send failure PROC_REPLY 11:4 (1,0)->(3,0)
1335796907022: Sending UDP payload: 446
1335796907024: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335796907027: mux: I got a CSM packet at a leader 

1335796907031: Sending UDP payload: 989
1335796907040: Received PROC_REPLY 11:4 (1,0)->(3,0), handing to UserApp
1335796907041: inside handleDSMReply. Now back in originator leader of region 3
1335796907041: DSM layer timed out, don't log dsm layer latency stuff.
1335796907043: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796907044: change leader replyCounter to: 27
1335796907044: reply packet contains the newest photo/success info from the remote region
1335796907044: inside sendReplies of replyCount = 500500027
1335796907045: =======================
1335796907045: inside sendReplyRepeatingRunnable for replyCount = 500500027
1335796907045: Leader about to send REPLY packet, number: 500500027 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796907045: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796907045: inside sendPacket(Packet p)
1335796907045: === Finished one round of sending REPLY Packet =======
1335796907058: Sending UDP payload: 642
1335796907084: Received UDP payload: 446
1335796907085: mux: Inside mux Packet.CLIENT_REQUEST
1335796907085: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796907085: inside handleClientRequest. Originator leader of region 3
1335796907086: got new request, requestCounter = 5013025
1335796907086: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500027
1335796907086: Yay the last leg succeeded. Removing reply runnables ...
1335796907086: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500027
1335796907086: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500027
1335796907087: do not send ack for received final_leg_ack
1335796907245: Received UDP payload: 446
1335796907437: inside HandlePictureStorage onPictureTaken()
1335796907437: one more takeCamGood: 3
1335796907438: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1335796907700: Picture successfully taken, ORIG BYTE LENGTH = 2617177
1335796907949: Our new height x width: 306 x 408
1335796907949: Show photo from handle my camera take
1335796907949: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335796907950: change local requestCounter to 17
1335796907965: BYTE SIZE AFTER COMPRESSION: 5925
1335796907971: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5005017 Client in region: 3 Client nodID: 5005
1335796907871: Received UDP payload: 446
1335796908020: ----------------------------
1335796908020: inside sendRequestPacketRepeatingRunnable for requestCount = 5005017
1335796908020: I'm a leader, my requesting photos packet going to mux directly
1335796908021: --- Finished one round of sending REQUEST Packet ---------
1335796908003: Received UDP payload: 625
1335796908005: mux: Inside mux Packet.CLIENT_REQUEST
1335796908006: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796908006: inside handleClientRequest. Originator leader of region 3
1335796908006: got new request, requestCounter = 5013026
1335796908006: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796908008: Sending to region: 0
1335796908009: Sending PROC_REQUEST 11:6 (3,0)->(0,0)
1335796908009: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(0,0)
1335796908010: mux: I got a CSM packet at a leader 

1335796908009: Note down new request by adding requestCounter=5013026 to HashMap processedRequests
1335796908009: Make FirstLeg Ack regardless of new or already-processed requests
1335796908009: The leader sending a First Leg ack to originator client (which id = 5013)
1335796908009: inside sendPacket(Packet p)
1335796908014: Sending UDP payload: 989
1335796908025: mux: Inside mux Packet.CLIENT_REQUEST
1335796908026: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796908053: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796908023: forwarding disabled, not forwarding packets
1335796908025: Sending UDP payload: 446
1335796908026: inside handleClientRequest. Originator leader of region 3
1335796908026: got new request, requestCounter = 5005017
1335796908026: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796908026: Sending PROC_REQUEST 10:11 (3,0)->(3,0)
1335796908027: Dispatching Atom PROC_REQUEST 10:11 (3,0)->(3,0)
1335796908027: mux: I got a CSM packet at a leader 

1335796908062: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796908063: I'm a leader and I successfully saved my client's new photo
1335796908063: now showing in UI the new photo I just saved ... 
1335796908063: the photo length: 5925
1335796908100: end of server show photo aside %%%%%%%%%
1335796908027: Note down new request by adding requestCounter=5005017 to HashMap processedRequests
1335796908027: Make FirstLeg Ack regardless of new or already-processed requests
1335796908027: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796908028: Sending UDP payload: 6936
1335796908036: removed replies before id 11 from sentReplies of size 0
1335796908036: inside handleDSMRequest. At requests's remote leader of region 3
1335796908036: Inside UPLOAD_PHOTO!!
1335796908040: my_gpinfo.isSuccess is now (should be true): true
1335796908040: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796908055: Received PROC_REQUEST 10:11 (3,0)->(3,0), replying PROC_REPLY 10:11 (3,0)->(3,0)
1335796908056: Dispatching Atom PROC_REPLY 10:11 (3,0)->(3,0)
1335796908056: mux: I got a CSM packet at a leader 

1335796908126: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335796908126: disabling progressdialog due to successful new photo upload
1335796908126: Inside _enableButtons
1335796908127: areButtonsEnabled --> true
1335796908127: send final leg ack regardless of new or already-processed reply
1335796908127: inside finalLegAck: change requestCounter to 18
1335796908127: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005018 Client in region: (3,0) Client nodID: 5005
1335796908128: I'm a leader client, my final_leg packet going to mux directly
1335796908129: new client_upload_photo_ack reply with replyCounter 500500028
1335796908129: note down new reply by adding replyCounter=500500028 to HashMap processedReplies
1335796908130: leader upload new photo latency = 106
1335796908130: = leader upload start 1335796908020 ~ stop 1335796908126
1335796908132: one more takeGoodSave: 3
1335796908133: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1335796908133: SUCCESS Client now knows saving photo on its leader succeeded
1335796908057: Sending UDP payload: 989
1335796908059: Received PROC_REPLY 10:11 (3,0)->(3,0), handing to UserApp
1335796908059: inside handleDSMReply. Now back in originator leader of region 3
1335796908059: DSM layer: Going to and from remote region took latency = 33
1335796908059: DSM layer: orig leader sent packet at 1335796908026 ~ received reply from remote leader at 1335796908059
1335796908060: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796908060: change leader replyCounter to: 28
1335796908060: reply packet contains the success info for UPLOAD_PHOTO
1335796908060: inside sendReplies of replyCount = 500500028
1335796908060: =======================
1335796908060: inside sendReplyRepeatingRunnable for replyCount = 500500028
1335796908060: Leader about to send REPLY packet, number: 500500028 type: 16 Leader in region: (3,0) to Client nodID: 5005
1335796908061: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796908061: === Finished one round of sending REPLY Packet =======
1335796908128: mux: Inside mux Packet.CLIENT_REQUEST
1335796908128: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796908128: inside handleClientRequest. Originator leader of region 3
1335796908128: got new request, requestCounter = 5005018
1335796908128: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500028
1335796908128: Yay the last leg succeeded. Removing reply runnables ...
1335796908129: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500028
1335796908129: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500028
1335796908129: do not send ack for received final_leg_ack
1335796908287: Received UDP payload: 4081
1335796908290: mux: Inside mux Packet.CLIENT_REQUEST
1335796908314: Received UDP payload: 625
1335796908315: mux: Inside mux Packet.CLIENT_REQUEST
1335796908315: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796908316: inside handleClientRequest. Originator leader of region 3
1335796908316: discarding repeated requestCounter=5013026, but still send an ack back
1335796908316: Note down new request by adding requestCounter=5013026 to HashMap processedRequests
1335796908316: Make FirstLeg Ack regardless of new or already-processed requests
1335796908316: The leader sending a First Leg ack to originator client (which id = 5013)
1335796908320: inside sendPacket(Packet p)
1335796908325: Sending UDP payload: 446
1335796908353: Received UDP payload: 446
1335796908757: Retrying PROC_REQUEST 11:6 (3,0)->(0,0)
1335796908757: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(0,0)
1335796908757: mux: I got a CSM packet at a leader 

1335796908760: Sending UDP payload: 989
1335796908761: forwarding disabled, not forwarding packets
1335796908858: Received UDP payload: 446
1335796908859: Retrying PROC_REQUEST 11:6 (3,0)->(0,0)
1335796908860: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(0,0)
1335796908860: mux: I got a CSM packet at a leader 

1335796908861: Sending UDP payload: 989
1335796908861: forwarding disabled, not forwarding packets
1335796908930: Received UDP payload: 5199
1335796908941: mux: GOT CSM_Msg
1335796908943: Received PROC_REPLY 11:6 (0,0)->(3,0), handing to UserApp
1335796908943: inside handleDSMReply. Now back in originator leader of region 3
1335796908943: DSM layer: Going to and from remote region took latency = 917
1335796908944: DSM layer: orig leader sent packet at 1335796908026 ~ received reply from remote leader at 1335796908943
1335796908952: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796908952: change leader replyCounter to: 29
1335796908952: reply packet contains the newest photo/success info from the remote region
1335796908966: inside sendReplies of replyCount = 500500029
1335796908967: =======================
1335796908967: inside sendReplyRepeatingRunnable for replyCount = 500500029
1335796908968: Leader about to send REPLY packet, number: 500500029 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796908968: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796908969: inside sendPacket(Packet p)
1335796908969: === Finished one round of sending REPLY Packet =======
1335796908972: Sending UDP payload: 4852
1335796909073: Received UDP payload: 4081
1335796909078: mux: Inside mux Packet.CLIENT_REQUEST
1335796909099: Received UDP payload: 446
1335796909103: mux: Inside mux Packet.CLIENT_REQUEST
1335796909103: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796909103: inside handleClientRequest. Originator leader of region 3
1335796909104: got new request, requestCounter = 5013027
1335796909104: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500029
1335796909105: Yay the last leg succeeded. Removing reply runnables ...
1335796909105: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500029
1335796909106: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500029
1335796909106: do not send ack for received final_leg_ack
1335796909146: Received UDP payload: 4081
1335796909151: mux: Inside mux Packet.CLIENT_REQUEST
1335796909195: Received UDP payload: 4081
1335796909199: mux: Inside mux Packet.CLIENT_REQUEST
1335796909920: Received UDP payload: 989
1335796909927: mux: GOT CSM_Msg
1335796909928: removed replies before id 2 from sentReplies of size 0
1335796909928: inside handleDSMRequest. At requests's remote leader of region 3
1335796909930: INSIDE SERVER_GET_PHOTO!!!
1335796909950: Received PROC_REQUEST 11:2 (0,0)->(3,0), replying PROC_REPLY 11:2 (3,0)->(0,0)
1335796909951: Dispatching Atom PROC_REPLY 11:2 (3,0)->(0,0)
1335796909952: mux: I got a CSM packet at a leader 

1335796909968: Sending UDP payload: 6936
1335796909972: forwarding disabled, not forwarding packets
1335796910004: Received UDP payload: 446
1335796910005: mux: Inside Packet.SERVER_REPLY
1335796910005: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796910033: Received UDP payload: 989
1335796910035: mux: GOT CSM_Msg
1335796910035: forwarding disabled, not forwarding packets
1335796910058: Received UDP payload: 642
1335796910059: mux: Inside Packet.SERVER_REPLY
1335796910059: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796910074: Received UDP payload: 446
1335796910076: mux: Inside mux Packet.CLIENT_REQUEST
1335796910080: Received UDP payload: 625
1335796910081: mux: Inside mux Packet.CLIENT_REQUEST
1335796910081: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796910081: inside handleClientRequest. Originator leader of region 3
1335796910082: got new request, requestCounter = 5013028
1335796910082: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796910082: Sending to region: 3
1335796910082: Sending PROC_REQUEST 11:12 (3,0)->(3,0)
1335796910083: Dispatching Atom PROC_REQUEST 11:12 (3,0)->(3,0)
1335796910083: mux: I got a CSM packet at a leader 

1335796910083: Note down new request by adding requestCounter=5013028 to HashMap processedRequests
1335796910083: Make FirstLeg Ack regardless of new or already-processed requests
1335796910083: The leader sending a First Leg ack to originator client (which id = 5013)
1335796910083: inside sendPacket(Packet p)
1335796910085: Sending UDP payload: 989
1335796910085: removed replies before id 12 from sentReplies of size 0
1335796910086: inside handleDSMRequest. At requests's remote leader of region 3
1335796910086: INSIDE SERVER_GET_PHOTO!!!
1335796910087: dst_region == src_region = 3
1335796910087:  1 self to self atomRequest
1335796910088: Received PROC_REQUEST 11:12 (3,0)->(3,0), replying PROC_REPLY 11:12 (3,0)->(3,0)
1335796910088: Dispatching Atom PROC_REPLY 11:12 (3,0)->(3,0)
1335796910094: mux: I got a CSM packet at a leader 

1335796910089: Sending UDP payload: 446
1335796910096: Sending UDP payload: 6936
1335796910099: Received PROC_REPLY 11:12 (3,0)->(3,0), handing to UserApp
1335796910099: inside handleDSMReply. Now back in originator leader of region 3
1335796910099: DSM layer: Going to and from remote region took latency = 17
1335796910099: DSM layer: orig leader sent packet at 1335796910082 ~ received reply from remote leader at 1335796910099
1335796910100: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796910100: change leader replyCounter to: 30
1335796910100: reply packet contains the newest photo/success info from the remote region
1335796910100: inside sendReplies of replyCount = 500500030
1335796910101: =======================
1335796910101: inside sendReplyRepeatingRunnable for replyCount = 500500030
1335796910101: Leader about to send REPLY packet, number: 500500030 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796910101: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796910101: inside sendPacket(Packet p)
1335796910101: === Finished one round of sending REPLY Packet =======
1335796910102: Sending UDP payload: 6589
1335796910106: Received UDP payload: 446
1335796910107: mux: Inside Packet.SERVER_REPLY
1335796910107: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796910171: Received UDP payload: 642
1335796910172: mux: Inside Packet.SERVER_REPLY
1335796910172: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796910220: Received UDP payload: 989
1335796910222: mux: GOT CSM_Msg
1335796910222: removed replies before id 2 from sentReplies of size 1
1335796910223: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(3,0), replying PROC_REPLY 11:2 (3,0)->(0,0)
1335796910223: Dispatching Atom PROC_REPLY 11:2 (3,0)->(0,0)
1335796910223: mux: I got a CSM packet at a leader 

1335796910225: Sending UDP payload: 6936
1335796910225: forwarding disabled, not forwarding packets
1335796910232: Received UDP payload: 642
1335796910234: mux: Inside Packet.SERVER_REPLY
1335796910234: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796910256: Received UDP payload: 446
1335796910257: mux: Inside mux Packet.CLIENT_REQUEST
1335796910402: =======================
1335796910402: inside sendReplyRepeatingRunnable for replyCount = 500500030
1335796910402: Leader about to send REPLY packet, number: 500500030 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796910402: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796910402: inside sendPacket(Packet p)
1335796910402: === Finished one round of sending REPLY Packet =======
1335796910403: Sending UDP payload: 6589
1335796910433: Received UDP payload: 625
1335796910434: mux: Inside mux Packet.CLIENT_REQUEST
1335796910434: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796910434: inside handleClientRequest. Originator leader of region 3
1335796910435: discarding repeated requestCounter=5013028, but still send an ack back
1335796910435: Note down new request by adding requestCounter=5013028 to HashMap processedRequests
1335796910435: Make FirstLeg Ack regardless of new or already-processed requests
1335796910435: The leader sending a First Leg ack to originator client (which id = 5013)
1335796910435: inside sendPacket(Packet p)
1335796910436: Sending UDP payload: 446
1335796910702: =======================
1335796910702: inside sendReplyRepeatingRunnable for replyCount = 500500030
1335796910703: Leader about to send REPLY packet, number: 500500030 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796910703: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796910703: inside sendPacket(Packet p)
1335796910703: === Finished one round of sending REPLY Packet =======
1335796910704: Sending UDP payload: 6589
1335796911003: =======================
1335796911004: inside sendReplyRepeatingRunnable for replyCount = 500500030
1335796911004: Leader about to send REPLY packet, number: 500500030 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796911004: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796911004: inside sendPacket(Packet p)
1335796911004: === Finished one round of sending REPLY Packet =======
1335796911005: Sending UDP payload: 6589
1335796911102: inside sendReplyTimeoutR
1335796911102: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500030
1335796911162: Received UDP payload: 625
1335796911163: mux: Inside mux Packet.CLIENT_REQUEST
1335796911163: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796911163: inside handleClientRequest. Originator leader of region 3
1335796911163: got new request, requestCounter = 5011017
1335796911164: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796911164: Sending to region: 0
1335796911165: Sending PROC_REQUEST 11:7 (3,0)->(0,0)
1335796911165: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(0,0)
1335796911165: mux: I got a CSM packet at a leader 

1335796911165: Note down new request by adding requestCounter=5011017 to HashMap processedRequests
1335796911165: Make FirstLeg Ack regardless of new or already-processed requests
1335796911165: The leader sending a First Leg ack to originator client (which id = 5011)
1335796911165: inside sendPacket(Packet p)
1335796911166: Sending UDP payload: 989
1335796911169: forwarding disabled, not forwarding packets
1335796911171: Sending UDP payload: 446
1335796911333: Received UDP payload: 4445
1335796911336: mux: GOT CSM_Msg
1335796911336: Received PROC_REPLY 11:7 (0,0)->(3,0), handing to UserApp
1335796911336: inside handleDSMReply. Now back in originator leader of region 3
1335796911337: DSM layer: Going to and from remote region took latency = 172
1335796911337: DSM layer: orig leader sent packet at 1335796911164 ~ received reply from remote leader at 1335796911336
1335796911338: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796911338: change leader replyCounter to: 31
1335796911338: reply packet contains the newest photo/success info from the remote region
1335796911338: inside sendReplies of replyCount = 500500031
1335796911338: =======================
1335796911339: inside sendReplyRepeatingRunnable for replyCount = 500500031
1335796911339: Leader about to send REPLY packet, number: 500500031 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796911339: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796911339: inside sendPacket(Packet p)
1335796911339: === Finished one round of sending REPLY Packet =======
1335796911340: Sending UDP payload: 4098
1335796911486: Received UDP payload: 625
1335796911488: mux: Inside mux Packet.CLIENT_REQUEST
1335796911488: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796911488: inside handleClientRequest. Originator leader of region 3
1335796911489: discarding repeated requestCounter=5011017, but still send an ack back
1335796911489: Note down new request by adding requestCounter=5011017 to HashMap processedRequests
1335796911489: Make FirstLeg Ack regardless of new or already-processed requests
1335796911489: The leader sending a First Leg ack to originator client (which id = 5011)
1335796911489: inside sendPacket(Packet p)
1335796911490: Sending UDP payload: 446
1335796911639: =======================
1335796911640: inside sendReplyRepeatingRunnable for replyCount = 500500031
1335796911640: Leader about to send REPLY packet, number: 500500031 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796911640: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796911640: inside sendPacket(Packet p)
1335796911640: === Finished one round of sending REPLY Packet =======
1335796911641: Sending UDP payload: 4098
1335796911776: Received UDP payload: 446
1335796911798: Received UDP payload: 446
1335796911799: mux: Inside mux Packet.CLIENT_REQUEST
1335796911799: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796911799: inside handleClientRequest. Originator leader of region 3
1335796911799: got new request, requestCounter = 5011018
1335796911799: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500031
1335796911799: Yay the last leg succeeded. Removing reply runnables ...
1335796911800: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500031
1335796911800: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500031
1335796911800: do not send ack for received final_leg_ack
1335796911893: Received UDP payload: 989
1335796911895: mux: GOT CSM_Msg
1335796911895: Received DUPLICATE PROC_REPLY 11:7 (0,0)->(3,0)
1335796911902: Received UDP payload: 625
1335796911903: mux: Inside mux Packet.CLIENT_REQUEST
1335796911903: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796911903: inside handleClientRequest. Originator leader of region 3
1335796911903: got new request, requestCounter = 5013031
1335796911903: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796911904: Sending to region: 2
1335796911905: Sending PROC_REQUEST 11:5 (3,0)->(2,0)
1335796911905: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(2,0)
1335796911905: mux: I got a CSM packet at a leader 

1335796911905: Note down new request by adding requestCounter=5013031 to HashMap processedRequests
1335796911905: Make FirstLeg Ack regardless of new or already-processed requests
1335796911905: The leader sending a First Leg ack to originator client (which id = 5013)
1335796911905: inside sendPacket(Packet p)
1335796911906: Sending UDP payload: 989
1335796911907: forwarding disabled, not forwarding packets
1335796911908: Sending UDP payload: 446
1335796911991: Received UDP payload: 446
1335796912020: inside sendPacket(Packet p)
1335796912021: Sending UDP payload: 446
1335796912256: Received UDP payload: 989
1335796912258: mux: GOT CSM_Msg
1335796912258: forwarding disabled, not forwarding packets
1335796912676: Retrying PROC_REQUEST 11:5 (3,0)->(2,0)
1335796912677: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(2,0)
1335796912677: mux: I got a CSM packet at a leader 

1335796912681: Sending UDP payload: 989
1335796912684: forwarding disabled, not forwarding packets
1335796912785: Retrying PROC_REQUEST 11:5 (3,0)->(2,0)
1335796912786: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(2,0)
1335796912787: mux: I got a CSM packet at a leader 

1335796912790: Sending UDP payload: 989
1335796912792: forwarding disabled, not forwarding packets
1335796912813: Received UDP payload: 5631
1335796912821: mux: GOT CSM_Msg
1335796912822: Received PROC_REPLY 11:5 (2,0)->(3,0), handing to UserApp
1335796912822: inside handleDSMReply. Now back in originator leader of region 3
1335796912823: DSM layer: Going to and from remote region took latency = 918
1335796912823: DSM layer: orig leader sent packet at 1335796911904 ~ received reply from remote leader at 1335796912822
1335796912825: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796912826: change leader replyCounter to: 32
1335796912826: reply packet contains the newest photo/success info from the remote region
1335796912827: inside sendReplies of replyCount = 500500032
1335796912827: =======================
1335796912827: inside sendReplyRepeatingRunnable for replyCount = 500500032
1335796912828: Leader about to send REPLY packet, number: 500500032 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796912828: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796912829: inside sendPacket(Packet p)
1335796912829: === Finished one round of sending REPLY Packet =======
1335796912832: Sending UDP payload: 5284
1335796913129: =======================
1335796913130: inside sendReplyRepeatingRunnable for replyCount = 500500032
1335796913130: Leader about to send REPLY packet, number: 500500032 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796913130: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796913130: inside sendPacket(Packet p)
1335796913131: === Finished one round of sending REPLY Packet =======
1335796913132: Sending UDP payload: 5284
1335796913152: Received UDP payload: 446
1335796913155: mux: Inside mux Packet.CLIENT_REQUEST
1335796913155: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796913155: inside handleClientRequest. Originator leader of region 3
1335796913155: got new request, requestCounter = 5013032
1335796913155: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500032
1335796913156: Yay the last leg succeeded. Removing reply runnables ...
1335796913156: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500032
1335796913156: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500032
1335796913156: do not send ack for received final_leg_ack
1335796913539: Received UDP payload: 989
1335796913550: mux: GOT CSM_Msg
1335796913550: forwarding disabled, not forwarding packets
1335796913628: Received UDP payload: 446
1335796913778: Received UDP payload: 989
1335796913783: mux: GOT CSM_Msg
1335796913784: forwarding disabled, not forwarding packets
1335796913834: Received UDP payload: 446
1335796914346: Received UDP payload: 989
1335796914355: mux: GOT CSM_Msg
1335796914356: removed replies before id 3 from sentReplies of size 0
1335796914356: inside handleDSMRequest. At requests's remote leader of region 3
1335796914358: INSIDE SERVER_GET_PHOTO!!!
1335796914376: Received PROC_REQUEST 11:3 (2,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(2,0)
1335796914378: Dispatching Atom PROC_REPLY 11:3 (3,0)->(2,0)
1335796914379: mux: I got a CSM packet at a leader 

1335796914402: Sending UDP payload: 6936
1335796914419: forwarding disabled, not forwarding packets
1335796914895: Received UDP payload: 989
1335796914901: mux: GOT CSM_Msg
1335796914901: forwarding disabled, not forwarding packets
1335796914911: Received UDP payload: 989
1335796914913: mux: GOT CSM_Msg
1335796914913: forwarding disabled, not forwarding packets
1335796915084: Received UDP payload: 4445
1335796915091: mux: GOT CSM_Msg
1335796915092: forwarding disabled, not forwarding packets
1335796915158: Received UDP payload: 989
1335796915166: mux: GOT CSM_Msg
1335796915166: removed replies before id 3 from sentReplies of size 1
1335796915168: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(2,0)
1335796915169: Dispatching Atom PROC_REPLY 11:3 (3,0)->(2,0)
1335796915170: mux: I got a CSM packet at a leader 

1335796915206: Sending UDP payload: 6936
1335796915214: forwarding disabled, not forwarding packets
1335796915623: Received UDP payload: 989
1335796915630: mux: GOT CSM_Msg
1335796915631: removed replies before id 3 from sentReplies of size 1
1335796915633: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(2,0)
1335796915634: Dispatching Atom PROC_REPLY 11:3 (3,0)->(2,0)
1335796915645: mux: I got a CSM packet at a leader 

1335796915648: Sending UDP payload: 6936
1335796915654: forwarding disabled, not forwarding packets
1335796915686: Received UDP payload: 989
1335796915688: mux: GOT CSM_Msg
1335796915688: removed replies before id 3 from sentReplies of size 1
1335796915689: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(3,0), replying PROC_REPLY 11:3 (3,0)->(2,0)
1335796915689: Dispatching Atom PROC_REPLY 11:3 (3,0)->(2,0)
1335796915689: mux: I got a CSM packet at a leader 

1335796915691: Sending UDP payload: 6936
1335796915691: forwarding disabled, not forwarding packets
1335796916710: Received UDP payload: 989
1335796916721: mux: GOT CSM_Msg
1335796916721: forwarding disabled, not forwarding packets
1335796916899: Received UDP payload: 446
1335796917001: Received UDP payload: 446
1335796917020: inside sendPacket(Packet p)
1335796917025: Sending UDP payload: 446
1335796917413: Received UDP payload: 989
1335796917423: mux: GOT CSM_Msg
1335796917424: forwarding disabled, not forwarding packets
1335796917509: Received UDP payload: 989
1335796917516: mux: GOT CSM_Msg
1335796917517: forwarding disabled, not forwarding packets
1335796917605: Received UDP payload: 625
1335796917607: mux: Inside mux Packet.CLIENT_REQUEST
1335796917624: Received UDP payload: 989
1335796917628: mux: GOT CSM_Msg
1335796917629: forwarding disabled, not forwarding packets
1335796917893: Received UDP payload: 989
1335796917897: mux: GOT CSM_Msg
1335796917897: forwarding disabled, not forwarding packets
1335796917912: Received UDP payload: 989
1335796917916: mux: GOT CSM_Msg
1335796917916: forwarding disabled, not forwarding packets
1335796917936: Received UDP payload: 989
1335796917940: mux: GOT CSM_Msg
1335796917940: forwarding disabled, not forwarding packets
1335796917951: Received UDP payload: 625
1335796917953: mux: Inside mux Packet.CLIENT_REQUEST
1335796917989: Received UDP payload: 446
1335796918258: Received UDP payload: 625
1335796918262: mux: Inside mux Packet.CLIENT_REQUEST
1335796918274: Received UDP payload: 989
1335796918284: mux: GOT CSM_Msg
1335796918285: forwarding disabled, not forwarding packets
1335796918308: Received UDP payload: 989
1335796918319: mux: GOT CSM_Msg
1335796918320: forwarding disabled, not forwarding packets
1335796918332: Received UDP payload: 989
1335796918335: mux: GOT CSM_Msg
1335796918335: forwarding disabled, not forwarding packets
1335796918518: Received UDP payload: 989
1335796918520: mux: GOT CSM_Msg
1335796918520: forwarding disabled, not forwarding packets
1335796918570: Received UDP payload: 625
1335796918572: mux: Inside mux Packet.CLIENT_REQUEST
1335796918593: Received UDP payload: 989
1335796918595: mux: GOT CSM_Msg
1335796918595: forwarding disabled, not forwarding packets
1335796918683: Received UDP payload: 989
1335796918685: mux: GOT CSM_Msg
1335796918685: forwarding disabled, not forwarding packets
1335796918703: Received UDP payload: 989
1335796918705: mux: GOT CSM_Msg
1335796918705: forwarding disabled, not forwarding packets
1335796918733: Received UDP payload: 989
1335796918735: mux: GOT CSM_Msg
1335796918735: forwarding disabled, not forwarding packets
1335796919025: Received UDP payload: 6693
1335796919029: mux: GOT CSM_Msg
1335796919029: forwarding disabled, not forwarding packets
1335796919181: Received UDP payload: 989
1335796919186: mux: GOT CSM_Msg
1335796919186: forwarding disabled, not forwarding packets
1335796919285: Received UDP payload: 989
1335796919288: mux: GOT CSM_Msg
1335796919289: forwarding disabled, not forwarding packets
1335796919527: Received UDP payload: 6693
1335796919529: mux: GOT CSM_Msg
1335796919529: forwarding disabled, not forwarding packets
1335796919634: Received UDP payload: 6693
1335796919638: mux: GOT CSM_Msg
1335796919638: forwarding disabled, not forwarding packets
1335796919675: Received UDP payload: 989
1335796919682: mux: GOT CSM_Msg
1335796919683: forwarding disabled, not forwarding packets
1335796919688: Received UDP payload: 989
1335796919689: mux: GOT CSM_Msg
1335796919690: forwarding disabled, not forwarding packets
1335796919696: canPressButton = TRUE
1335796919697: areButtonsEnabled --> false 
1335796919697: get picture disableButtonsR
1335796919697: areButtonsEnabled --> false
1335796919723: one more getNum: 7
1335796919724: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=6 getBad=0 getTimedout=0 getPercent=85%
1335796919724: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335796919725: change local requestCounter to 19
1335796919729: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005019 Client in region: 3 Client nodID: 5005
1335796919757: ----------------------------
1335796919758: inside sendRequestPacketRepeatingRunnable for requestCount = 5005019
1335796919758: I'm a leader, my requesting photos packet going to mux directly
1335796919766: --- Finished one round of sending REQUEST Packet ---------
1335796919758: mux: Inside mux Packet.CLIENT_REQUEST
1335796919758: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796919803: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796919758: inside handleClientRequest. Originator leader of region 3
1335796919759: got new request, requestCounter = 5005019
1335796919759: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796919761: Sending to region: 2
1335796919761: Sending PROC_REQUEST 11:6 (3,0)->(2,0)
1335796919763: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796919763: mux: I got a CSM packet at a leader 

1335796919763: Note down new request by adding requestCounter=5005019 to HashMap processedRequests
1335796919763: Make FirstLeg Ack regardless of new or already-processed requests
1335796919763: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796919765: Sending UDP payload: 989
1335796919765: forwarding disabled, not forwarding packets
1335796920200: Received UDP payload: 989
1335796920202: mux: GOT CSM_Msg
1335796920202: forwarding disabled, not forwarding packets
1335796920250: Received UDP payload: 446
1335796920251: mux: Inside Packet.SERVER_REPLY
1335796920251: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796920325: Received UDP payload: 5631
1335796920327: mux: GOT CSM_Msg
1335796920327: forwarding disabled, not forwarding packets
1335796920366: Received UDP payload: 446
1335796920367: mux: Inside Packet.SERVER_REPLY
1335796920367: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796920375: Received UDP payload: 446
1335796920376: mux: Inside Packet.SERVER_REPLY
1335796920376: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796920384: Received UDP payload: 446
1335796920386: mux: Inside Packet.SERVER_REPLY
1335796920386: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796920543: Retrying PROC_REQUEST 11:6 (3,0)->(2,0)
1335796920544: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796920544: mux: I got a CSM packet at a leader 

1335796920545: Sending UDP payload: 989
1335796920546: forwarding disabled, not forwarding packets
1335796920644: Retrying PROC_REQUEST 11:6 (3,0)->(2,0)
1335796920645: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796920645: mux: I got a CSM packet at a leader 

1335796920646: Sending UDP payload: 989
1335796920647: forwarding disabled, not forwarding packets
1335796920736: Received UDP payload: 989
1335796920738: mux: GOT CSM_Msg
1335796920738: forwarding disabled, not forwarding packets
1335796920747: Retrying PROC_REQUEST 11:6 (3,0)->(2,0)
1335796920747: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796920748: mux: I got a CSM packet at a leader 

1335796920750: Sending UDP payload: 989
1335796920751: forwarding disabled, not forwarding packets
1335796920849: Retrying PROC_REQUEST 11:6 (3,0)->(2,0)
1335796920849: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796920850: mux: I got a CSM packet at a leader 

1335796920851: Sending UDP payload: 989
1335796920853: forwarding disabled, not forwarding packets
1335796920878: Received UDP payload: 989
1335796920881: mux: GOT CSM_Msg
1335796920881: forwarding disabled, not forwarding packets
1335796920907: Received UDP payload: 446
1335796920917: Received UDP payload: 642
1335796920919: mux: Inside Packet.SERVER_REPLY
1335796920919: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796920949: Retrying PROC_REQUEST 11:6 (3,0)->(2,0)
1335796920950: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796920950: mux: I got a CSM packet at a leader 

1335796920951: Sending UDP payload: 989
1335796920952: forwarding disabled, not forwarding packets
1335796920984: Received UDP payload: 446
1335796920985: mux: Inside mux Packet.CLIENT_REQUEST
1335796921023: Received UDP payload: 642
1335796921024: mux: Inside Packet.SERVER_REPLY
1335796921024: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796921050: Retrying PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921051: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921051: mux: I got a CSM packet at a leader 

1335796921052: Sending UDP payload: 989
1335796921052: forwarding disabled, not forwarding packets
1335796921090: Received UDP payload: 446
1335796921091: mux: Inside mux Packet.CLIENT_REQUEST
1335796921152: Retrying PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921152: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921152: mux: I got a CSM packet at a leader 

1335796921153: Sending UDP payload: 989
1335796921153: forwarding disabled, not forwarding packets
1335796921161: Received UDP payload: 642
1335796921163: mux: Inside Packet.SERVER_REPLY
1335796921163: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796921200: Received UDP payload: 446
1335796921202: mux: Inside mux Packet.CLIENT_REQUEST
1335796921244: Received UDP payload: 5631
1335796921246: mux: GOT CSM_Msg
1335796921246: forwarding disabled, not forwarding packets
1335796921253: Retrying PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921253: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921253: mux: I got a CSM packet at a leader 

1335796921254: Sending UDP payload: 989
1335796921255: forwarding disabled, not forwarding packets
1335796921354: Retrying PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921354: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921354: mux: I got a CSM packet at a leader 

1335796921355: Sending UDP payload: 989
1335796921356: forwarding disabled, not forwarding packets
1335796921456: Retrying PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921457: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921457: mux: I got a CSM packet at a leader 

1335796921458: Sending UDP payload: 989
1335796921458: forwarding disabled, not forwarding packets
1335796921557: Retrying PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921558: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(2,0)
1335796921558: mux: I got a CSM packet at a leader 

1335796921559: Sending UDP payload: 989
1335796921560: forwarding disabled, not forwarding packets
1335796921569: Received UDP payload: 5631
1335796921571: mux: GOT CSM_Msg
1335796921571: Received PROC_REPLY 11:6 (2,0)->(3,0), handing to UserApp
1335796921572: inside handleDSMReply. Now back in originator leader of region 3
1335796921572: DSM layer: Going to and from remote region took latency = 1811
1335796921572: DSM layer: orig leader sent packet at 1335796919761 ~ received reply from remote leader at 1335796921572
1335796921572: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796921573: change leader replyCounter to: 33
1335796921573: reply packet contains the newest photo/success info from the remote region
1335796921573: inside sendReplies of replyCount = 500500033
1335796921580: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796921581: disabling progressdialog due to successful new photo get
1335796921581: Inside _enableButtons
1335796921581: areButtonsEnabled --> true
1335796921581: send final leg ack regardless of new or already-processed reply
1335796921582: inside finalLegAck: change requestCounter to 20
1335796921582: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005020 Client in region: (3,0) Client nodID: 5005
1335796921582: I'm a leader client, my final_leg packet going to mux directly
1335796921584: new client_show_remotephoto reply with replyCounter 500500033
1335796921584: note down new reply by adding replyCounter=500500033 to HashMap processedReplies
1335796921584: leader download remote photo latency = 1822
1335796921585: = leader download start 1335796919758 ~ stop 1335796921580
1335796921586: one more getGood: 7
1335796921587: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=7 getBad=0 getTimedout=0 getPercent=100%
1335796921587: successful reply for client get photo
1335796921587: Success! Client getting photo from remote region, showing photo...
1335796921588: Remote photo's length: 4620
1335796921573: =======================
1335796921573: inside sendReplyRepeatingRunnable for replyCount = 500500033
1335796921574: Leader about to send REPLY packet, number: 500500033 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335796921574: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796921574: === Finished one round of sending REPLY Packet =======
1335796921582: mux: Inside mux Packet.CLIENT_REQUEST
1335796921583: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796921583: inside handleClientRequest. Originator leader of region 3
1335796921583: got new request, requestCounter = 5005020
1335796921583: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500033
1335796921583: Yay the last leg succeeded. Removing reply runnables ...
1335796921583: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500033
1335796921583: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500033
1335796921583: do not send ack for received final_leg_ack
1335796921780: Received UDP payload: 5631
1335796921782: mux: GOT CSM_Msg
1335796921783: Received DUPLICATE PROC_REPLY 11:6 (2,0)->(3,0)
1335796922020: Received UDP payload: 446
1335796922022: inside sendPacket(Packet p)
1335796922023: Sending UDP payload: 446
1335796922135: Received UDP payload: 5631
1335796922146: mux: GOT CSM_Msg
1335796922147: Received DUPLICATE PROC_REPLY 11:6 (2,0)->(3,0)
1335796922191: Received UDP payload: 989
1335796922193: mux: GOT CSM_Msg
1335796922193: forwarding disabled, not forwarding packets
1335796922342: Received UDP payload: 625
1335796922344: mux: Inside mux Packet.CLIENT_REQUEST
1335796922764: Received UDP payload: 625
1335796922765: mux: Inside mux Packet.CLIENT_REQUEST
1335796922789: Received UDP payload: 625
1335796922794: mux: Inside mux Packet.CLIENT_REQUEST
1335796922858: Received UDP payload: 989
1335796922866: mux: GOT CSM_Msg
1335796922867: forwarding disabled, not forwarding packets
1335796923505: Received UDP payload: 989
1335796923513: mux: GOT CSM_Msg
1335796923514: forwarding disabled, not forwarding packets
1335796924389: Received UDP payload: 989
1335796924400: mux: GOT CSM_Msg
1335796924400: forwarding disabled, not forwarding packets
1335796924415: Received UDP payload: 989
1335796924422: mux: GOT CSM_Msg
1335796924423: forwarding disabled, not forwarding packets
1335796924434: Received UDP payload: 989
1335796924457: mux: GOT CSM_Msg
1335796924457: forwarding disabled, not forwarding packets
1335796924533: Received UDP payload: 989
1335796924536: mux: GOT CSM_Msg
1335796924536: forwarding disabled, not forwarding packets
1335796924647: Received UDP payload: 5631
1335796924649: mux: GOT CSM_Msg
1335796924649: forwarding disabled, not forwarding packets
1335796924834: Received UDP payload: 446
1335796924906: Received UDP payload: 989
1335796924908: mux: GOT CSM_Msg
1335796924909: forwarding disabled, not forwarding packets
1335796924993: Received UDP payload: 989
1335796924995: mux: GOT CSM_Msg
1335796924995: forwarding disabled, not forwarding packets
1335796925004: Received UDP payload: 5631
1335796925006: mux: GOT CSM_Msg
1335796925006: forwarding disabled, not forwarding packets
1335796925181: Received UDP payload: 625
1335796925182: mux: Inside mux Packet.CLIENT_REQUEST
1335796925182: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796925182: inside handleClientRequest. Originator leader of region 3
1335796925182: got new request, requestCounter = 5011019
1335796925182: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796925183: Sending to region: 1
1335796925183: Sending PROC_REQUEST 11:5 (3,0)->(1,0)
1335796925184: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796925185: mux: I got a CSM packet at a leader 

1335796925184: Note down new request by adding requestCounter=5011019 to HashMap processedRequests
1335796925184: Make FirstLeg Ack regardless of new or already-processed requests
1335796925184: The leader sending a First Leg ack to originator client (which id = 5011)
1335796925185: inside sendPacket(Packet p)
1335796925186: Sending UDP payload: 989
1335796925195: forwarding disabled, not forwarding packets
1335796925196: Sending UDP payload: 446
1335796925361: Received UDP payload: 989
1335796925363: mux: GOT CSM_Msg
1335796925363: forwarding disabled, not forwarding packets
1335796925383: Received UDP payload: 989
1335796925385: mux: GOT CSM_Msg
1335796925385: forwarding disabled, not forwarding packets
1335796925446: Received UDP payload: 5631
1335796925448: mux: GOT CSM_Msg
1335796925448: forwarding disabled, not forwarding packets
1335796925577: Received UDP payload: 989
1335796925579: mux: GOT CSM_Msg
1335796925579: forwarding disabled, not forwarding packets
1335796925667: Received UDP payload: 989
1335796925671: mux: GOT CSM_Msg
1335796925671: forwarding disabled, not forwarding packets
1335796925700: Received UDP payload: 989
1335796925705: mux: GOT CSM_Msg
1335796925705: forwarding disabled, not forwarding packets
1335796925772: Received UDP payload: 5631
1335796925776: mux: GOT CSM_Msg
1335796925776: forwarding disabled, not forwarding packets
1335796925904: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796925905: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796925906: mux: I got a CSM packet at a leader 

1335796925907: Sending UDP payload: 989
1335796925909: forwarding disabled, not forwarding packets
1335796926006: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926007: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926007: mux: I got a CSM packet at a leader 

1335796926009: Sending UDP payload: 989
1335796926010: forwarding disabled, not forwarding packets
1335796926047: Received UDP payload: 989
1335796926050: mux: GOT CSM_Msg
1335796926051: forwarding disabled, not forwarding packets
1335796926108: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926108: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926109: mux: I got a CSM packet at a leader 

1335796926111: Sending UDP payload: 989
1335796926112: forwarding disabled, not forwarding packets
1335796926210: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926211: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926212: mux: I got a CSM packet at a leader 

1335796926216: Sending UDP payload: 989
1335796926220: forwarding disabled, not forwarding packets
1335796926321: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926322: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926323: mux: I got a CSM packet at a leader 

1335796926327: Sending UDP payload: 989
1335796926331: forwarding disabled, not forwarding packets
1335796926430: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926431: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926432: mux: I got a CSM packet at a leader 

1335796926442: Sending UDP payload: 989
1335796926446: forwarding disabled, not forwarding packets
1335796926532: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926532: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926533: mux: I got a CSM packet at a leader 

1335796926534: Sending UDP payload: 989
1335796926534: forwarding disabled, not forwarding packets
1335796926646: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926646: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926646: mux: I got a CSM packet at a leader 

1335796926648: Sending UDP payload: 989
1335796926652: forwarding disabled, not forwarding packets
1335796926737: Received UDP payload: 6693
1335796926739: mux: GOT CSM_Msg
1335796926739: forwarding disabled, not forwarding packets
1335796926753: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926753: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926756: mux: I got a CSM packet at a leader 

1335796926754: Received UDP payload: 989
1335796926760: Sending UDP payload: 989
1335796926761: forwarding disabled, not forwarding packets
1335796926762: mux: GOT CSM_Msg
1335796926762: forwarding disabled, not forwarding packets
1335796926854: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926855: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926855: mux: I got a CSM packet at a leader 

1335796926856: Sending UDP payload: 989
1335796926857: forwarding disabled, not forwarding packets
1335796926928: Received UDP payload: 446
1335796926939: Received UDP payload: 989
1335796926942: mux: GOT CSM_Msg
1335796926942: forwarding disabled, not forwarding packets
1335796926957: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926957: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796926958: mux: I got a CSM packet at a leader 

1335796926959: Sending UDP payload: 989
1335796926960: forwarding disabled, not forwarding packets
1335796927023: inside sendPacket(Packet p)
1335796927024: Sending UDP payload: 446
1335796927058: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796927058: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796927059: mux: I got a CSM packet at a leader 

1335796927060: Sending UDP payload: 989
1335796927060: forwarding disabled, not forwarding packets
1335796927115: Received UDP payload: 989
1335796927119: mux: GOT CSM_Msg
1335796927119: forwarding disabled, not forwarding packets
1335796927159: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796927160: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796927161: mux: I got a CSM packet at a leader 

1335796927163: Sending UDP payload: 989
1335796927163: forwarding disabled, not forwarding packets
1335796927195: Received UDP payload: 5631
1335796927198: mux: GOT CSM_Msg
1335796927198: forwarding disabled, not forwarding packets
1335796927240: Received UDP payload: 989
1335796927242: mux: GOT CSM_Msg
1335796927242: forwarding disabled, not forwarding packets
1335796927258: Received UDP payload: 989
1335796927260: mux: GOT CSM_Msg
1335796927261: forwarding disabled, not forwarding packets
1335796927261: Retrying PROC_REQUEST 11:5 (3,0)->(1,0)
1335796927261: Dispatching Atom PROC_REQUEST 11:5 (3,0)->(1,0)
1335796927262: mux: I got a CSM packet at a leader 

1335796927263: Sending UDP payload: 989
1335796927263: forwarding disabled, not forwarding packets
1335796927362: DSM Layer: Request timed out, send failure PROC_REPLY 11:5 (1,0)->(3,0)
1335796927362: Dispatching Atom PROC_REPLY 11:5 (1,0)->(3,0)
1335796927363: mux: I got a CSM packet at a leader 

1335796927364: Sending UDP payload: 989
1335796927365: Received PROC_REPLY 11:5 (1,0)->(3,0), handing to UserApp
1335796927365: inside handleDSMReply. Now back in originator leader of region 3
1335796927365: DSM layer timed out, don't log dsm layer latency stuff.
1335796927365: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796927366: change leader replyCounter to: 34
1335796927366: reply packet contains the newest photo/success info from the remote region
1335796927366: inside sendReplies of replyCount = 500500034
1335796927366: =======================
1335796927366: inside sendReplyRepeatingRunnable for replyCount = 500500034
1335796927367: Leader about to send REPLY packet, number: 500500034 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796927367: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796927367: inside sendPacket(Packet p)
1335796927367: === Finished one round of sending REPLY Packet =======
1335796927368: Sending UDP payload: 642
1335796927398: Received UDP payload: 989
1335796927400: mux: GOT CSM_Msg
1335796927400: forwarding disabled, not forwarding packets
1335796927419: Received UDP payload: 989
1335796927421: mux: GOT CSM_Msg
1335796927421: forwarding disabled, not forwarding packets
1335796927500: Received UDP payload: 989
1335796927502: mux: GOT CSM_Msg
1335796927502: forwarding disabled, not forwarding packets
1335796927559: Received UDP payload: 989
1335796927561: mux: GOT CSM_Msg
1335796927561: forwarding disabled, not forwarding packets
1335796927652: Received UDP payload: 989
1335796927655: mux: GOT CSM_Msg
1335796927655: forwarding disabled, not forwarding packets
1335796927667: =======================
1335796927667: inside sendReplyRepeatingRunnable for replyCount = 500500034
1335796927667: Leader about to send REPLY packet, number: 500500034 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796927668: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796927668: inside sendPacket(Packet p)
1335796927668: === Finished one round of sending REPLY Packet =======
1335796927669: Sending UDP payload: 642
1335796927716: Received UDP payload: 446
1335796927757: Received UDP payload: 989
1335796927759: mux: GOT CSM_Msg
1335796927759: forwarding disabled, not forwarding packets
1335796927860: Received UDP payload: 989
1335796927863: mux: GOT CSM_Msg
1335796927863: forwarding disabled, not forwarding packets
1335796927892: Received UDP payload: 446
1335796927897: mux: Inside Packet.SERVER_REPLY
1335796927898: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796927915: Received UDP payload: 446
1335796927921: mux: Inside Packet.SERVER_REPLY
1335796927921: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796927963: Received UDP payload: 989
1335796927965: mux: GOT CSM_Msg
1335796927965: forwarding disabled, not forwarding packets
1335796927969: =======================
1335796927969: inside sendReplyRepeatingRunnable for replyCount = 500500034
1335796927969: Leader about to send REPLY packet, number: 500500034 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796927969: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796927969: inside sendPacket(Packet p)
1335796927970: === Finished one round of sending REPLY Packet =======
1335796927971: Sending UDP payload: 642
1335796927975: Received UDP payload: 446
1335796927976: mux: Inside Packet.SERVER_REPLY
1335796927976: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796928008: Received UDP payload: 989
1335796928010: mux: GOT CSM_Msg
1335796928010: forwarding disabled, not forwarding packets
1335796928044: Received UDP payload: 989
1335796928046: mux: GOT CSM_Msg
1335796928046: forwarding disabled, not forwarding packets
1335796928072: Received UDP payload: 989
1335796928075: mux: GOT CSM_Msg
1335796928075: forwarding disabled, not forwarding packets
1335796928136: Received UDP payload: 4445
1335796928139: mux: GOT CSM_Msg
1335796928139: forwarding disabled, not forwarding packets
1335796928183: Received UDP payload: 989
1335796928185: mux: GOT CSM_Msg
1335796928185: forwarding disabled, not forwarding packets
1335796928247: Received UDP payload: 642
1335796928248: mux: Inside Packet.SERVER_REPLY
1335796928249: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796928269: =======================
1335796928269: inside sendReplyRepeatingRunnable for replyCount = 500500034
1335796928270: Leader about to send REPLY packet, number: 500500034 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796928270: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796928270: inside sendPacket(Packet p)
1335796928270: === Finished one round of sending REPLY Packet =======
1335796928271: Sending UDP payload: 642
1335796928300: Received UDP payload: 989
1335796928302: mux: GOT CSM_Msg
1335796928302: forwarding disabled, not forwarding packets
1335796928345: Received UDP payload: 989
1335796928347: mux: GOT CSM_Msg
1335796928347: forwarding disabled, not forwarding packets
1335796928368: inside sendReplyTimeoutR
1335796928368: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500034
1335796928376: Received UDP payload: 4445
1335796928395: mux: GOT CSM_Msg
1335796928395: forwarding disabled, not forwarding packets
1335796928492: Received UDP payload: 4445
1335796928495: mux: GOT CSM_Msg
1335796928495: forwarding disabled, not forwarding packets
1335796928757: Received UDP payload: 446
1335796928762: mux: Inside mux Packet.CLIENT_REQUEST
1335796928762: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796928763: inside handleClientRequest. Originator leader of region 3
1335796928763: got new request, requestCounter = 5011020
1335796928764: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500034
1335796928764: Yay the last leg succeeded. Removing reply runnables ...
1335796928772: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500034
1335796928773: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500034
1335796928773: do not send ack for received final_leg_ack
1335796928783: Received UDP payload: 446
1335796928788: mux: Inside mux Packet.CLIENT_REQUEST
1335796928789: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796928789: inside handleClientRequest. Originator leader of region 3
1335796928790: got new request, requestCounter = 5011021
1335796928792: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500034
1335796928792: Yay the last leg succeeded. Removing reply runnables ...
1335796928793: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500034
1335796928793: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500034
1335796928793: do not send ack for received final_leg_ack
1335796928796: Received UDP payload: 446
1335796928801: mux: Inside mux Packet.CLIENT_REQUEST
1335796928801: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796928802: inside handleClientRequest. Originator leader of region 3
1335796928803: got new request, requestCounter = 5011022
1335796928803: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500034
1335796928804: Yay the last leg succeeded. Removing reply runnables ...
1335796928841: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500034
1335796928841: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500034
1335796928841: do not send ack for received final_leg_ack
1335796929197: Received UDP payload: 989
1335796929201: mux: GOT CSM_Msg
1335796929201: forwarding disabled, not forwarding packets
1335796929299: Received UDP payload: 989
1335796929303: mux: GOT CSM_Msg
1335796929303: forwarding disabled, not forwarding packets
1335796929346: Received UDP payload: 989
1335796929349: mux: GOT CSM_Msg
1335796929350: forwarding disabled, not forwarding packets
1335796929356: Received UDP payload: 989
1335796929360: mux: GOT CSM_Msg
1335796929360: forwarding disabled, not forwarding packets
1335796929366: Received UDP payload: 989
1335796929370: mux: GOT CSM_Msg
1335796929370: forwarding disabled, not forwarding packets
1335796929429: Received UDP payload: 5631
1335796929433: mux: GOT CSM_Msg
1335796929433: forwarding disabled, not forwarding packets
1335796929500: Received UDP payload: 989
1335796929507: mux: GOT CSM_Msg
1335796929507: forwarding disabled, not forwarding packets
1335796929562: Received UDP payload: 4445
1335796929564: mux: GOT CSM_Msg
1335796929564: forwarding disabled, not forwarding packets
1335796929626: Received UDP payload: 989
1335796929628: mux: GOT CSM_Msg
1335796929629: forwarding disabled, not forwarding packets
1335796929786: Received UDP payload: 5631
1335796929788: mux: GOT CSM_Msg
1335796929788: forwarding disabled, not forwarding packets
1335796929887: Received UDP payload: 5631
1335796929889: mux: GOT CSM_Msg
1335796929890: forwarding disabled, not forwarding packets
1335796929961: Received UDP payload: 5631
1335796929963: mux: GOT CSM_Msg
1335796929963: forwarding disabled, not forwarding packets
1335796929978: Received UDP payload: 446
1335796930030: Received UDP payload: 989
1335796930032: mux: GOT CSM_Msg
1335796930032: forwarding disabled, not forwarding packets
1335796930105: Received UDP payload: 5631
1335796930109: mux: GOT CSM_Msg
1335796930109: forwarding disabled, not forwarding packets
1335796930190: Received UDP payload: 989
1335796930196: mux: GOT CSM_Msg
1335796930196: forwarding disabled, not forwarding packets
1335796930269: Received UDP payload: 989
1335796930273: mux: GOT CSM_Msg
1335796930273: forwarding disabled, not forwarding packets
1335796930368: Received UDP payload: 5631
1335796930376: mux: GOT CSM_Msg
1335796930376: forwarding disabled, not forwarding packets
1335796930603: Received UDP payload: 989
1335796930611: mux: GOT CSM_Msg
1335796930611: forwarding disabled, not forwarding packets
1335796930644: Received UDP payload: 989
1335796930653: mux: GOT CSM_Msg
1335796930653: forwarding disabled, not forwarding packets
1335796930719: Received UDP payload: 989
1335796930721: mux: GOT CSM_Msg
1335796930721: forwarding disabled, not forwarding packets
1335796930746: Received UDP payload: 989
1335796930749: mux: GOT CSM_Msg
1335796930749: removed replies before id 0 from sentReplies of size 1
1335796930749: inside handleDSMRequest. At requests's remote leader of region 3
1335796930750: INSIDE SERVER_GET_PHOTO!!!
1335796930755: Received PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796930755: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796930756: mux: I got a CSM packet at a leader 

1335796930757: Sending UDP payload: 6936
1335796930764: forwarding disabled, not forwarding packets
1335796930766: Received UDP payload: 989
1335796930769: mux: GOT CSM_Msg
1335796930769: removed replies before id 0 from sentReplies of size 2
1335796930770: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796930770: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796930770: mux: I got a CSM packet at a leader 

1335796930772: Sending UDP payload: 6936
1335796930775: forwarding disabled, not forwarding packets
1335796930799: Received UDP payload: 989
1335796930801: mux: GOT CSM_Msg
1335796930801: forwarding disabled, not forwarding packets
1335796930828: Received UDP payload: 989
1335796930831: mux: GOT CSM_Msg
1335796930832: removed replies before id 0 from sentReplies of size 2
1335796930832: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796930833: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796930833: mux: I got a CSM packet at a leader 

1335796930835: Sending UDP payload: 6936
1335796930836: forwarding disabled, not forwarding packets
1335796930836: Received UDP payload: 989
1335796930839: mux: GOT CSM_Msg
1335796930839: removed replies before id 0 from sentReplies of size 2
1335796930840: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796930840: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796930840: mux: I got a CSM packet at a leader 

1335796930842: Sending UDP payload: 6936
1335796930842: forwarding disabled, not forwarding packets
1335796930856: Received UDP payload: 989
1335796930859: mux: GOT CSM_Msg
1335796930859: forwarding disabled, not forwarding packets
1335796930875: Received UDP payload: 625
1335796930877: mux: Inside mux Packet.CLIENT_REQUEST
1335796930887: Received UDP payload: 989
1335796930890: mux: GOT CSM_Msg
1335796930890: forwarding disabled, not forwarding packets
1335796930899: Received UDP payload: 989
1335796930901: mux: GOT CSM_Msg
1335796930901: forwarding disabled, not forwarding packets
1335796930946: Received UDP payload: 989
1335796930949: mux: GOT CSM_Msg
1335796930949: removed replies before id 0 from sentReplies of size 2
1335796930951: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796930952: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796930952: mux: I got a CSM packet at a leader 

1335796930956: Sending UDP payload: 6936
1335796930958: forwarding disabled, not forwarding packets
1335796930969: Received UDP payload: 989
1335796930972: mux: GOT CSM_Msg
1335796930972: forwarding disabled, not forwarding packets
1335796930989: Received UDP payload: 989
1335796930991: mux: GOT CSM_Msg
1335796930992: removed replies before id 0 from sentReplies of size 2
1335796930993: Received UDP payload: 446
1335796930994: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796930995: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796930995: mux: I got a CSM packet at a leader 

1335796931001: mux: Inside Packet.SERVER_REPLY
1335796931001: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796930999: Sending UDP payload: 6936
1335796931000: forwarding disabled, not forwarding packets
1335796931015: Received UDP payload: 989
1335796931018: mux: GOT CSM_Msg
1335796931018: removed replies before id 0 from sentReplies of size 2
1335796931019: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796931019: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796931020: mux: I got a CSM packet at a leader 

1335796931021: Sending UDP payload: 6936
1335796931022: forwarding disabled, not forwarding packets
1335796931042: Received UDP payload: 989
1335796931045: mux: GOT CSM_Msg
1335796931045: removed replies before id 0 from sentReplies of size 2
1335796931046: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796931046: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796931047: mux: I got a CSM packet at a leader 

1335796931048: Sending UDP payload: 6936
1335796931049: forwarding disabled, not forwarding packets
1335796931074: Received UDP payload: 989
1335796931077: mux: GOT CSM_Msg
1335796931078: removed replies before id 0 from sentReplies of size 2
1335796931079: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796931079: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796931079: mux: I got a CSM packet at a leader 

1335796931081: Sending UDP payload: 6936
1335796931082: forwarding disabled, not forwarding packets
1335796931095: Received UDP payload: 642
1335796931097: mux: Inside Packet.SERVER_REPLY
1335796931097: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796931143: Received UDP payload: 446
1335796931145: mux: Inside mux Packet.CLIENT_REQUEST
1335796931206: Received UDP payload: 642
1335796931208: mux: Inside Packet.SERVER_REPLY
1335796931208: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796931439: Received UDP payload: 4041
1335796931443: mux: Inside mux Packet.CLIENT_REQUEST
1335796931463: Received UDP payload: 4445
1335796931474: mux: GOT CSM_Msg
1335796931474: forwarding disabled, not forwarding packets
1335796931521: Received UDP payload: 989
1335796931523: mux: GOT CSM_Msg
1335796931523: removed replies before id 0 from sentReplies of size 2
1335796931524: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796931524: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796931525: mux: I got a CSM packet at a leader 

1335796931526: Sending UDP payload: 6936
1335796931527: forwarding disabled, not forwarding packets
1335796931549: Received UDP payload: 446
1335796931550: mux: Inside mux Packet.CLIENT_REQUEST
1335796931590: Received UDP payload: 989
1335796931592: mux: GOT CSM_Msg
1335796931592: forwarding disabled, not forwarding packets
1335796931696: Received UDP payload: 989
1335796931698: mux: GOT CSM_Msg
1335796931698: forwarding disabled, not forwarding packets
1335796931738: Received UDP payload: 4041
1335796931739: mux: Inside mux Packet.CLIENT_REQUEST
1335796931859: Received UDP payload: 989
1335796931861: mux: GOT CSM_Msg
1335796931861: removed replies before id 0 from sentReplies of size 2
1335796931862: Received DUPLICATE PROC_REQUEST 11:0 (0,0)->(3,0), replying PROC_REPLY 11:0 (3,0)->(0,0)
1335796931862: Dispatching Atom PROC_REPLY 11:0 (3,0)->(0,0)
1335796931862: mux: I got a CSM packet at a leader 

1335796931863: Sending UDP payload: 6936
1335796931864: forwarding disabled, not forwarding packets
1335796931894: Received UDP payload: 989
1335796931896: mux: GOT CSM_Msg
1335796931896: forwarding disabled, not forwarding packets
1335796931919: Received UDP payload: 989
1335796931921: mux: GOT CSM_Msg
1335796931921: forwarding disabled, not forwarding packets
1335796931973: Received UDP payload: 4041
1335796931974: mux: Inside mux Packet.CLIENT_REQUEST
1335796931995: Received UDP payload: 446
1335796931998: Received UDP payload: 989
1335796932000: mux: GOT CSM_Msg
1335796932000: forwarding disabled, not forwarding packets
1335796932014: Received UDP payload: 989
1335796932016: mux: GOT CSM_Msg
1335796932016: forwarding disabled, not forwarding packets
1335796932023: inside sendPacket(Packet p)
1335796932024: Sending UDP payload: 446
1335796932049: Received UDP payload: 989
1335796932060: mux: GOT CSM_Msg
1335796932060: forwarding disabled, not forwarding packets
1335796932060: Received UDP payload: 989
1335796932085: mux: GOT CSM_Msg
1335796932083: Received UDP payload: 642
1335796932086: mux: Inside Packet.SERVER_REPLY
1335796932086: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796932086: forwarding disabled, not forwarding packets
1335796932100: Received UDP payload: 989
1335796932104: mux: GOT CSM_Msg
1335796932105: forwarding disabled, not forwarding packets
1335796932109: Received UDP payload: 989
1335796932112: mux: GOT CSM_Msg
1335796932113: forwarding disabled, not forwarding packets
1335796932132: Received UDP payload: 989
1335796932135: mux: GOT CSM_Msg
1335796932135: forwarding disabled, not forwarding packets
1335796932145: Received UDP payload: 989
1335796932148: mux: GOT CSM_Msg
1335796932148: forwarding disabled, not forwarding packets
1335796932150: Received UDP payload: 446
1335796932152: mux: Inside mux Packet.CLIENT_REQUEST
1335796932245: Received UDP payload: 989
1335796932247: mux: GOT CSM_Msg
1335796932247: forwarding disabled, not forwarding packets
1335796932320: Received UDP payload: 989
1335796932322: mux: GOT CSM_Msg
1335796932322: forwarding disabled, not forwarding packets
1335796932409: Received UDP payload: 989
1335796932412: mux: GOT CSM_Msg
1335796932412: forwarding disabled, not forwarding packets
1335796932438: Received UDP payload: 989
1335796932441: mux: GOT CSM_Msg
1335796932441: forwarding disabled, not forwarding packets
1335796932506: Received UDP payload: 989
1335796932509: mux: GOT CSM_Msg
1335796932509: forwarding disabled, not forwarding packets
1335796932518: Received UDP payload: 989
1335796932520: mux: GOT CSM_Msg
1335796932521: forwarding disabled, not forwarding packets
1335796932527: Received UDP payload: 989
1335796932529: mux: GOT CSM_Msg
1335796932529: forwarding disabled, not forwarding packets
1335796932608: Received UDP payload: 989
1335796932611: mux: GOT CSM_Msg
1335796932611: forwarding disabled, not forwarding packets
1335796932628: Received UDP payload: 989
1335796932633: mux: GOT CSM_Msg
1335796932633: forwarding disabled, not forwarding packets
1335796932637: Received UDP payload: 446
1335796932698: Received UDP payload: 989
1335796932700: mux: GOT CSM_Msg
1335796932700: forwarding disabled, not forwarding packets
1335796932722: Received UDP payload: 989
1335796932725: mux: GOT CSM_Msg
1335796932725: forwarding disabled, not forwarding packets
1335796932827: Received UDP payload: 989
1335796932829: mux: GOT CSM_Msg
1335796932829: forwarding disabled, not forwarding packets
1335796932850: Received UDP payload: 989
1335796932852: mux: GOT CSM_Msg
1335796932852: forwarding disabled, not forwarding packets
1335796932983: Received UDP payload: 989
1335796932985: mux: GOT CSM_Msg
1335796932985: forwarding disabled, not forwarding packets
1335796933023: Received UDP payload: 989
1335796933025: mux: GOT CSM_Msg
1335796933025: forwarding disabled, not forwarding packets
1335796933042: Received UDP payload: 989
1335796933045: mux: GOT CSM_Msg
1335796933045: forwarding disabled, not forwarding packets
1335796933068: Received UDP payload: 642
1335796933070: mux: Inside Packet.SERVER_REPLY
1335796933070: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796933101: Received UDP payload: 446
1335796933102: mux: Inside mux Packet.CLIENT_REQUEST
1335796933212: Received UDP payload: 989
1335796933214: mux: GOT CSM_Msg
1335796933214: forwarding disabled, not forwarding packets
1335796933263: Received UDP payload: 6693
1335796933266: mux: GOT CSM_Msg
1335796933266: forwarding disabled, not forwarding packets
1335796933314: Received UDP payload: 989
1335796933318: mux: GOT CSM_Msg
1335796933318: forwarding disabled, not forwarding packets
1335796933389: Received UDP payload: 6693
1335796933393: mux: GOT CSM_Msg
1335796933393: forwarding disabled, not forwarding packets
1335796933417: Received UDP payload: 989
1335796933422: mux: GOT CSM_Msg
1335796933422: forwarding disabled, not forwarding packets
1335796933502: Received UDP payload: 6693
1335796933505: mux: GOT CSM_Msg
1335796933505: forwarding disabled, not forwarding packets
1335796933640: Received UDP payload: 989
1335796933643: mux: GOT CSM_Msg
1335796933643: forwarding disabled, not forwarding packets
1335796933679: Received UDP payload: 6693
1335796933682: mux: GOT CSM_Msg
1335796933682: forwarding disabled, not forwarding packets
1335796933735: Received UDP payload: 989
1335796933738: mux: GOT CSM_Msg
1335796933739: forwarding disabled, not forwarding packets
1335796933784: Received UDP payload: 6693
1335796933787: mux: GOT CSM_Msg
1335796933787: forwarding disabled, not forwarding packets
1335796933877: Received UDP payload: 6693
1335796933880: mux: GOT CSM_Msg
1335796933880: forwarding disabled, not forwarding packets
1335796934043: Received UDP payload: 6693
1335796934047: mux: GOT CSM_Msg
1335796934048: Received DUPLICATE PROC_REPLY 11:5 (1,0)->(3,0)
1335796934485: Received UDP payload: 6693
1335796934493: mux: GOT CSM_Msg
1335796934494: Received DUPLICATE PROC_REPLY 11:5 (1,0)->(3,0)
1335796934689: Received UDP payload: 6693
1335796934696: mux: GOT CSM_Msg
1335796934696: forwarding disabled, not forwarding packets
1335796934811: Received UDP payload: 446
1335796934819: Received UDP payload: 6693
1335796934827: mux: GOT CSM_Msg
1335796934828: Received DUPLICATE PROC_REPLY 11:5 (1,0)->(3,0)
1335796934926: Received UDP payload: 6693
1335796934933: mux: GOT CSM_Msg
1335796934935: Received DUPLICATE PROC_REPLY 11:5 (1,0)->(3,0)
1335796935002: Received UDP payload: 989
1335796935009: mux: GOT CSM_Msg
1335796935009: forwarding disabled, not forwarding packets
1335796935032: Received UDP payload: 6693
1335796935039: mux: GOT CSM_Msg
1335796935040: Received DUPLICATE PROC_REPLY 11:5 (1,0)->(3,0)
1335796935043: Received UDP payload: 989
1335796935050: mux: GOT CSM_Msg
1335796935050: forwarding disabled, not forwarding packets
1335796935455: Received UDP payload: 6693
1335796935466: mux: GOT CSM_Msg
1335796935466: forwarding disabled, not forwarding packets
1335796935662: Received UDP payload: 446
1335796935669: mux: Inside Packet.SERVER_REPLY
1335796935670: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796935727: Received UDP payload: 642
1335796935731: mux: Inside Packet.SERVER_REPLY
1335796935731: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796935807: Received UDP payload: 446
1335796935811: mux: Inside mux Packet.CLIENT_REQUEST
1335796935897: Received UDP payload: 446
1335796935935: Received UDP payload: 446
1335796935939: mux: Inside Packet.SERVER_REPLY
1335796935939: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796936036: Received UDP payload: 642
1335796936041: mux: Inside Packet.SERVER_REPLY
1335796936041: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796936054: Received UDP payload: 446
1335796936058: mux: Inside mux Packet.CLIENT_REQUEST
1335796936260: Received UDP payload: 642
1335796936264: mux: Inside Packet.SERVER_REPLY
1335796936265: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796936283: Received UDP payload: 446
1335796936293: mux: Inside mux Packet.CLIENT_REQUEST
1335796936382: Received UDP payload: 463
1335796936409: Received UDP payload: 446
1335796936485: Received UDP payload: 4405
1335796936488: mux: GOT CSM_Msg
1335796936488: forwarding disabled, not forwarding packets
1335796937024: inside sendPacket(Packet p)
1335796937047: Received UDP payload: 446
1335796937058: Sending UDP payload: 446
1335796937109: mux: Inside Packet.SERVER_REPLY
1335796937109: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796937071: Received UDP payload: 989
1335796937109: mux: GOT CSM_Msg
1335796937079: Received UDP payload: 642
1335796937109: mux: Inside Packet.SERVER_REPLY
1335796937109: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796937083: Received UDP payload: 642
1335796937109: mux: Inside Packet.SERVER_REPLY
1335796937109: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796937109: forwarding disabled, not forwarding packets
1335796937126: Received UDP payload: 446
1335796937127: mux: Inside mux Packet.CLIENT_REQUEST
1335796937154: Received UDP payload: 989
1335796937156: mux: GOT CSM_Msg
1335796937156: forwarding disabled, not forwarding packets
1335796937161: Received UDP payload: 642
1335796937163: mux: Inside Packet.SERVER_REPLY
1335796937163: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796937175: Received UDP payload: 989
1335796937177: mux: GOT CSM_Msg
1335796937177: forwarding disabled, not forwarding packets
1335796937184: Received UDP payload: 989
1335796937186: mux: GOT CSM_Msg
1335796937186: forwarding disabled, not forwarding packets
1335796937210: Received UDP payload: 446
1335796937218: Received UDP payload: 446
1335796937219: mux: Inside mux Packet.CLIENT_REQUEST
1335796937235: Received UDP payload: 989
1335796937237: mux: GOT CSM_Msg
1335796937237: forwarding disabled, not forwarding packets
1335796937258: Received UDP payload: 642
1335796937260: mux: Inside Packet.SERVER_REPLY
1335796937260: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796937279: Received UDP payload: 989
1335796937280: mux: GOT CSM_Msg
1335796937281: forwarding disabled, not forwarding packets
1335796937283: Received UDP payload: 446
1335796937285: mux: Inside mux Packet.CLIENT_REQUEST
1335796937295: Received UDP payload: 989
1335796937297: mux: GOT CSM_Msg
1335796937297: forwarding disabled, not forwarding packets
1335796937309: Received UDP payload: 989
1335796937312: mux: GOT CSM_Msg
1335796937313: forwarding disabled, not forwarding packets
1335796937322: Received UDP payload: 989
1335796937325: mux: GOT CSM_Msg
1335796937325: forwarding disabled, not forwarding packets
1335796937333: Received UDP payload: 989
1335796937335: mux: GOT CSM_Msg
1335796937335: forwarding disabled, not forwarding packets
1335796937362: Received UDP payload: 989
1335796937381: mux: GOT CSM_Msg
1335796937381: forwarding disabled, not forwarding packets
1335796937381: Received UDP payload: 989
1335796937383: mux: GOT CSM_Msg
1335796937383: forwarding disabled, not forwarding packets
1335796937385: Received UDP payload: 989
1335796937388: mux: GOT CSM_Msg
1335796937388: forwarding disabled, not forwarding packets
1335796937399: Received UDP payload: 989
1335796937401: mux: GOT CSM_Msg
1335796937401: forwarding disabled, not forwarding packets
1335796937414: Received UDP payload: 989
1335796937416: mux: GOT CSM_Msg
1335796937416: forwarding disabled, not forwarding packets
1335796937434: Received UDP payload: 989
1335796937437: mux: GOT CSM_Msg
1335796937437: forwarding disabled, not forwarding packets
1335796937452: Received UDP payload: 989
1335796937462: mux: GOT CSM_Msg
1335796937462: Received UDP payload: 989
1335796937462: forwarding disabled, not forwarding packets
1335796937464: mux: GOT CSM_Msg
1335796937464: forwarding disabled, not forwarding packets
1335796937473: Received UDP payload: 989
1335796937476: mux: GOT CSM_Msg
1335796937476: forwarding disabled, not forwarding packets
1335796937486: Received UDP payload: 989
1335796937490: mux: GOT CSM_Msg
1335796937490: forwarding disabled, not forwarding packets
1335796937495: Received UDP payload: 989
1335796937497: mux: GOT CSM_Msg
1335796937497: forwarding disabled, not forwarding packets
1335796937554: Received UDP payload: 5631
1335796937560: mux: GOT CSM_Msg
1335796937560: forwarding disabled, not forwarding packets
1335796937563: Received UDP payload: 989
1335796937566: mux: GOT CSM_Msg
1335796937567: forwarding disabled, not forwarding packets
1335796937655: Received UDP payload: 989
1335796937658: mux: GOT CSM_Msg
1335796937658: forwarding disabled, not forwarding packets
1335796937882: Received UDP payload: 5631
1335796937885: mux: GOT CSM_Msg
1335796937885: forwarding disabled, not forwarding packets
1335796937958: Received UDP payload: 5631
1335796937960: mux: GOT CSM_Msg
1335796937960: forwarding disabled, not forwarding packets
1335796937975: Received UDP payload: 446
1335796939170: Received UDP payload: 989
1335796939178: mux: GOT CSM_Msg
1335796939179: removed replies before id 1 from sentReplies of size 1
1335796939179: inside handleDSMRequest. At requests's remote leader of region 3
1335796939186: INSIDE SERVER_GET_PHOTO!!!
1335796939212: Received PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796939213: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796939230: mux: I got a CSM packet at a leader 

1335796939234: Sending UDP payload: 6936
1335796939245: forwarding disabled, not forwarding packets
1335796939800: Received UDP payload: 446
1335796939955: Received UDP payload: 989
1335796939963: mux: GOT CSM_Msg
1335796939964: removed replies before id 1 from sentReplies of size 2
1335796939965: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796939966: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796939967: mux: I got a CSM packet at a leader 

1335796939971: Sending UDP payload: 6936
1335796939989: forwarding disabled, not forwarding packets
1335796940081: Received UDP payload: 989
1335796940083: mux: GOT CSM_Msg
1335796940084: removed replies before id 1 from sentReplies of size 2
1335796940084: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(3,0), replying PROC_REPLY 11:1 (3,0)->(0,0)
1335796940085: Dispatching Atom PROC_REPLY 11:1 (3,0)->(0,0)
1335796940085: mux: I got a CSM packet at a leader 

1335796940086: Sending UDP payload: 6936
1335796940089: forwarding disabled, not forwarding packets
1335796941407: Received UDP payload: 625
1335796941413: mux: Inside mux Packet.CLIENT_REQUEST
1335796941462: Received UDP payload: 446
1335796941467: mux: Inside Packet.SERVER_REPLY
1335796941467: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796941877: Received UDP payload: 989
1335796941881: mux: GOT CSM_Msg
1335796941881: forwarding disabled, not forwarding packets
1335796942025: inside sendPacket(Packet p)
1335796942026: Sending UDP payload: 446
1335796942190: Received UDP payload: 989
1335796942198: mux: GOT CSM_Msg
1335796942198: forwarding disabled, not forwarding packets
1335796942275: Received UDP payload: 989
1335796942283: mux: GOT CSM_Msg
1335796942283: forwarding disabled, not forwarding packets
1335796942412: Received UDP payload: 989
1335796942421: mux: GOT CSM_Msg
1335796942422: forwarding disabled, not forwarding packets
1335796942501: Received UDP payload: 989
1335796942507: mux: GOT CSM_Msg
1335796942508: forwarding disabled, not forwarding packets
1335796942583: Received UDP payload: 989
1335796942590: mux: GOT CSM_Msg
1335796942591: forwarding disabled, not forwarding packets
1335796942688: Received UDP payload: 989
1335796942696: mux: GOT CSM_Msg
1335796942697: forwarding disabled, not forwarding packets
1335796942727: Received UDP payload: 989
1335796942736: mux: GOT CSM_Msg
1335796942736: forwarding disabled, not forwarding packets
1335796942750: Received UDP payload: 989
1335796942758: mux: GOT CSM_Msg
1335796942758: forwarding disabled, not forwarding packets
1335796942779: Received UDP payload: 989
1335796942792: mux: GOT CSM_Msg
1335796942792: forwarding disabled, not forwarding packets
1335796942807: Received UDP payload: 989
1335796942809: mux: GOT CSM_Msg
1335796942809: forwarding disabled, not forwarding packets
1335796942809: Received UDP payload: 446
1335796942880: Received UDP payload: 989
1335796942882: mux: GOT CSM_Msg
1335796942882: forwarding disabled, not forwarding packets
1335796942889: Received UDP payload: 989
1335796942891: mux: GOT CSM_Msg
1335796942891: forwarding disabled, not forwarding packets
1335796942992: Received UDP payload: 989
1335796942996: mux: GOT CSM_Msg
1335796942996: forwarding disabled, not forwarding packets
1335796943004: Received UDP payload: 989
1335796943007: mux: GOT CSM_Msg
1335796943007: forwarding disabled, not forwarding packets
1335796943081: Received UDP payload: 989
1335796943084: mux: GOT CSM_Msg
1335796943084: forwarding disabled, not forwarding packets
1335796943097: Received UDP payload: 989
1335796943099: mux: GOT CSM_Msg
1335796943099: forwarding disabled, not forwarding packets
1335796943183: Received UDP payload: 989
1335796943186: mux: GOT CSM_Msg
1335796943186: forwarding disabled, not forwarding packets
1335796943196: Received UDP payload: 989
1335796943199: mux: GOT CSM_Msg
1335796943199: forwarding disabled, not forwarding packets
1335796943283: Received UDP payload: 989
1335796943286: mux: GOT CSM_Msg
1335796943286: forwarding disabled, not forwarding packets
1335796943302: Received UDP payload: 989
1335796943308: mux: GOT CSM_Msg
1335796943309: forwarding disabled, not forwarding packets
1335796943314: Received UDP payload: 446
1335796943385: Received UDP payload: 989
1335796943388: mux: GOT CSM_Msg
1335796943388: removed replies before id 4 from sentReplies of size 0
1335796943388: inside handleDSMRequest. At requests's remote leader of region 3
1335796943389: INSIDE SERVER_GET_PHOTO!!!
1335796943391: Received PROC_REQUEST 11:4 (2,0)->(3,0), replying PROC_REPLY 11:4 (3,0)->(2,0)
1335796943391: Dispatching Atom PROC_REPLY 11:4 (3,0)->(2,0)
1335796943391: mux: I got a CSM packet at a leader 

1335796943399: Sending UDP payload: 6936
1335796943402: forwarding disabled, not forwarding packets
1335796943403: Received UDP payload: 989
1335796943410: mux: GOT CSM_Msg
1335796943410: forwarding disabled, not forwarding packets
1335796943494: Received UDP payload: 989
1335796943498: mux: GOT CSM_Msg
1335796943498: removed replies before id 4 from sentReplies of size 1
1335796943499: Received DUPLICATE PROC_REQUEST 11:4 (2,0)->(3,0), replying PROC_REPLY 11:4 (3,0)->(2,0)
1335796943500: Dispatching Atom PROC_REPLY 11:4 (3,0)->(2,0)
1335796943500: mux: I got a CSM packet at a leader 

1335796943501: Sending UDP payload: 6936
1335796943504: Received UDP payload: 989
1335796943505: forwarding disabled, not forwarding packets
1335796943510: mux: GOT CSM_Msg
1335796943511: forwarding disabled, not forwarding packets
1335796943590: Received UDP payload: 989
1335796943593: mux: GOT CSM_Msg
1335796943594: removed replies before id 4 from sentReplies of size 1
1335796943596: Received DUPLICATE PROC_REQUEST 11:4 (2,0)->(3,0), replying PROC_REPLY 11:4 (3,0)->(2,0)
1335796943597: Dispatching Atom PROC_REPLY 11:4 (3,0)->(2,0)
1335796943597: mux: I got a CSM packet at a leader 

1335796943600: Received UDP payload: 989
1335796943601: Sending UDP payload: 6936
1335796943603: forwarding disabled, not forwarding packets
1335796943612: mux: GOT CSM_Msg
1335796943612: Received UDP payload: 642
1335796943612: forwarding disabled, not forwarding packets
1335796943616: mux: Inside Packet.SERVER_REPLY
1335796943616: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796943632: Received UDP payload: 446
1335796943640: mux: Inside mux Packet.CLIENT_REQUEST
1335796943641: Received UDP payload: 446
1335796943688: Received UDP payload: 989
1335796943691: mux: GOT CSM_Msg
1335796943691: removed replies before id 4 from sentReplies of size 1
1335796943692: Received DUPLICATE PROC_REQUEST 11:4 (2,0)->(3,0), replying PROC_REPLY 11:4 (3,0)->(2,0)
1335796943692: Dispatching Atom PROC_REPLY 11:4 (3,0)->(2,0)
1335796943692: mux: I got a CSM packet at a leader 

1335796943693: Sending UDP payload: 6936
1335796943694: forwarding disabled, not forwarding packets
1335796944188: Received UDP payload: 989
1335796944194: mux: GOT CSM_Msg
1335796944194: forwarding disabled, not forwarding packets
1335796944210: Received UDP payload: 989
1335796944223: mux: GOT CSM_Msg
1335796944223: Received UDP payload: 446
1335796944223: forwarding disabled, not forwarding packets
1335796944618: Received UDP payload: 27728
1335796944626: Received UDP payload: 989
1335796944632: mux: GOT CSM_Msg
1335796944633: forwarding disabled, not forwarding packets
1335796944651: Received UDP payload: 989
1335796944659: mux: GOT CSM_Msg
1335796944659: forwarding disabled, not forwarding packets
1335796944803: Received UDP payload: 446
1335796945019: Received UDP payload: 27728
1335796945845: Received UDP payload: 446
1335796945939: Received UDP payload: 5338
1335796945955: mux: GOT CSM_Msg
1335796945956: forwarding disabled, not forwarding packets
1335796945965: Received UDP payload: 446
1335796945979: mux: Inside Packet.SERVER_REPLY
1335796945979: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796945980: Received UDP payload: 989
1335796945997: mux: GOT CSM_Msg
1335796945992: Received UDP payload: 642
1335796945998: mux: Inside Packet.SERVER_REPLY
1335796945999: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796945998: forwarding disabled, not forwarding packets
1335796946146: Received UDP payload: 446
1335796946265: Received UDP payload: 642
1335796946267: mux: Inside Packet.SERVER_REPLY
1335796946268: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796946276: Received UDP payload: 446
1335796946278: mux: Inside mux Packet.CLIENT_REQUEST
1335796946454: Received UDP payload: 446
1335796946751: Received UDP payload: 446
1335796947025: inside sendPacket(Packet p)
1335796947062: Sending UDP payload: 446
1335796947454: Received UDP payload: 625
1335796947459: mux: Inside mux Packet.CLIENT_REQUEST
1335796947459: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796947460: inside handleClientRequest. Originator leader of region 3
1335796947460: got new request, requestCounter = 5011023
1335796947461: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796947479: Sending to region: 1
1335796947481: Sending PROC_REQUEST 11:6 (3,0)->(1,0)
1335796947482: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796947493: mux: I got a CSM packet at a leader 

1335796947482: Note down new request by adding requestCounter=5011023 to HashMap processedRequests
1335796947483: Make FirstLeg Ack regardless of new or already-processed requests
1335796947483: The leader sending a First Leg ack to originator client (which id = 5011)
1335796947492: inside sendPacket(Packet p)
1335796947501: Sending UDP payload: 989
1335796947529: forwarding disabled, not forwarding packets
1335796947530: Sending UDP payload: 446
1335796947591: Received UDP payload: 989
1335796947593: mux: GOT CSM_Msg
1335796947593: forwarding disabled, not forwarding packets
1335796947651: Received UDP payload: 5338
1335796947653: mux: GOT CSM_Msg
1335796947653: forwarding disabled, not forwarding packets
1335796947803: Received UDP payload: 446
1335796947850: Received UDP payload: 446
1335796948149: Received UDP payload: 446
1335796948279: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948280: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948281: mux: I got a CSM packet at a leader 

1335796948286: Sending UDP payload: 989
1335796948288: forwarding disabled, not forwarding packets
1335796948369: canPressButton = TRUE
1335796948370: areButtonsEnabled --> false 
1335796948370: get picture disableButtonsR
1335796948370: areButtonsEnabled --> false
1335796948396: one more getNum: 8
1335796948397: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=7 getBad=0 getTimedout=0 getPercent=87%
1335796948397: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335796948397: change local requestCounter to 21
1335796948400: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005021 Client in region: 3 Client nodID: 5005
1335796948381: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948381: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948382: mux: I got a CSM packet at a leader 

1335796948383: Sending UDP payload: 989
1335796948383: forwarding disabled, not forwarding packets
1335796948433: ----------------------------
1335796948434: inside sendRequestPacketRepeatingRunnable for requestCount = 5005021
1335796948434: I'm a leader, my requesting photos packet going to mux directly
1335796948434: --- Finished one round of sending REQUEST Packet ---------
1335796948444: mux: Inside mux Packet.CLIENT_REQUEST
1335796948444: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796948473: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796948444: inside handleClientRequest. Originator leader of region 3
1335796948444: got new request, requestCounter = 5005021
1335796948445: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796948445: Sending to region: 1
1335796948445: Sending PROC_REQUEST 11:7 (3,0)->(1,0)
1335796948446: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796948446: mux: I got a CSM packet at a leader 

1335796948446: Note down new request by adding requestCounter=5005021 to HashMap processedRequests
1335796948446: Make FirstLeg Ack regardless of new or already-processed requests
1335796948446: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796948447: Sending UDP payload: 989
1335796948448: forwarding disabled, not forwarding packets
1335796948449: Received UDP payload: 446
1335796948482: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948483: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948484: mux: I got a CSM packet at a leader 

1335796948485: Sending UDP payload: 989
1335796948491: forwarding disabled, not forwarding packets
1335796948583: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948584: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948584: mux: I got a CSM packet at a leader 

1335796948585: Sending UDP payload: 989
1335796948585: forwarding disabled, not forwarding packets
1335796948684: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948685: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948685: mux: I got a CSM packet at a leader 

1335796948686: Sending UDP payload: 989
1335796948687: forwarding disabled, not forwarding packets
1335796948721: Received UDP payload: 446
1335796948785: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948785: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948785: mux: I got a CSM packet at a leader 

1335796948787: Sending UDP payload: 989
1335796948787: forwarding disabled, not forwarding packets
1335796948886: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948886: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948886: mux: I got a CSM packet at a leader 

1335796948888: Sending UDP payload: 989
1335796948888: forwarding disabled, not forwarding packets
1335796948959: Received UDP payload: 446
1335796948987: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948989: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796948989: mux: I got a CSM packet at a leader 

1335796948992: Sending UDP payload: 989
1335796948995: forwarding disabled, not forwarding packets
1335796949093: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796949093: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796949094: mux: I got a CSM packet at a leader 

1335796949096: Sending UDP payload: 989
1335796949097: forwarding disabled, not forwarding packets
1335796949195: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796949196: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796949197: mux: I got a CSM packet at a leader 

1335796949197: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949198: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949204: mux: I got a CSM packet at a leader 

1335796949203: Sending UDP payload: 989
1335796949204: forwarding disabled, not forwarding packets
1335796949208: Sending UDP payload: 989
1335796949209: forwarding disabled, not forwarding packets
1335796949250: Received UDP payload: 446
1335796949300: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796949301: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796949302: mux: I got a CSM packet at a leader 

1335796949302: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949303: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949304: mux: I got a CSM packet at a leader 

1335796949303: Sending UDP payload: 989
1335796949304: forwarding disabled, not forwarding packets
1335796949305: Sending UDP payload: 989
1335796949306: forwarding disabled, not forwarding packets
1335796949404: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796949405: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796949406: mux: I got a CSM packet at a leader 

1335796949410: Sending UDP payload: 989
1335796949412: forwarding disabled, not forwarding packets
1335796949413: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949414: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949415: mux: I got a CSM packet at a leader 

1335796949419: Sending UDP payload: 989
1335796949420: forwarding disabled, not forwarding packets
1335796949515: Retrying PROC_REQUEST 11:6 (3,0)->(1,0)
1335796949516: Dispatching Atom PROC_REQUEST 11:6 (3,0)->(1,0)
1335796949517: mux: I got a CSM packet at a leader 

1335796949517: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949518: Sending UDP payload: 989
1335796949518: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949519: mux: I got a CSM packet at a leader 

1335796949519: forwarding disabled, not forwarding packets
1335796949520: Sending UDP payload: 989
1335796949521: forwarding disabled, not forwarding packets
1335796949559: Received UDP payload: 446
1335796949620: DSM Layer: Request timed out, send failure PROC_REPLY 11:6 (1,0)->(3,0)
1335796949621: Dispatching Atom PROC_REPLY 11:6 (1,0)->(3,0)
1335796949621: mux: I got a CSM packet at a leader 

1335796949622: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949623: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949627: mux: I got a CSM packet at a leader 

1335796949623: Sending UDP payload: 989
1335796949625: Received PROC_REPLY 11:6 (1,0)->(3,0), handing to UserApp
1335796949625: inside handleDSMReply. Now back in originator leader of region 3
1335796949625: DSM layer timed out, don't log dsm layer latency stuff.
1335796949627: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796949627: change leader replyCounter to: 35
1335796949627: reply packet contains the newest photo/success info from the remote region
1335796949627: inside sendReplies of replyCount = 500500035
1335796949627: =======================
1335796949628: inside sendReplyRepeatingRunnable for replyCount = 500500035
1335796949628: Leader about to send REPLY packet, number: 500500035 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796949629: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796949629: inside sendPacket(Packet p)
1335796949629: === Finished one round of sending REPLY Packet =======
1335796949632: Sending UDP payload: 989
1335796949634: forwarding disabled, not forwarding packets
1335796949637: Sending UDP payload: 642
1335796949685: Received UDP payload: 446
1335796949687: mux: Inside mux Packet.CLIENT_REQUEST
1335796949687: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796949687: inside handleClientRequest. Originator leader of region 3
1335796949687: got new request, requestCounter = 5011024
1335796949688: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500035
1335796949688: Yay the last leg succeeded. Removing reply runnables ...
1335796949689: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500035
1335796949689: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500035
1335796949689: do not send ack for received final_leg_ack
1335796949725: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949726: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949726: mux: I got a CSM packet at a leader 

1335796949730: Sending UDP payload: 989
1335796949731: forwarding disabled, not forwarding packets
1335796949808: Received UDP payload: 446
1335796949827: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949828: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949828: mux: I got a CSM packet at a leader 

1335796949831: Sending UDP payload: 989
1335796949832: forwarding disabled, not forwarding packets
1335796949929: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949930: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796949931: mux: I got a CSM packet at a leader 

1335796949934: Sending UDP payload: 989
1335796949936: forwarding disabled, not forwarding packets
1335796950032: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950032: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950033: mux: I got a CSM packet at a leader 

1335796950036: Sending UDP payload: 989
1335796950037: forwarding disabled, not forwarding packets
1335796950134: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950135: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950135: mux: I got a CSM packet at a leader 

1335796950139: Sending UDP payload: 989
1335796950140: forwarding disabled, not forwarding packets
1335796950236: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950237: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950239: mux: I got a CSM packet at a leader 

1335796950243: Sending UDP payload: 989
1335796950244: forwarding disabled, not forwarding packets
1335796950339: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950340: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950342: mux: I got a CSM packet at a leader 

1335796950344: Sending UDP payload: 989
1335796950347: forwarding disabled, not forwarding packets
1335796950442: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950443: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950444: mux: I got a CSM packet at a leader 

1335796950445: Sending UDP payload: 989
1335796950446: forwarding disabled, not forwarding packets
1335796950544: Retrying PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950544: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(1,0)
1335796950544: mux: I got a CSM packet at a leader 

1335796950546: Sending UDP payload: 989
1335796950547: forwarding disabled, not forwarding packets
1335796950646: DSM Layer: Request timed out, send failure PROC_REPLY 11:7 (1,0)->(3,0)
1335796950647: Dispatching Atom PROC_REPLY 11:7 (1,0)->(3,0)
1335796950647: mux: I got a CSM packet at a leader 

1335796950650: Sending UDP payload: 989
1335796950653: Received PROC_REPLY 11:7 (1,0)->(3,0), handing to UserApp
1335796950653: inside handleDSMReply. Now back in originator leader of region 3
1335796950653: DSM layer timed out, don't log dsm layer latency stuff.
1335796950657: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796950659: change leader replyCounter to: 36
1335796950659: reply packet contains the newest photo/success info from the remote region
1335796950661: inside sendReplies of replyCount = 500500036
1335796950685: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796950686: disabling progressdialog due to successful new photo get
1335796950687: Inside _enableButtons
1335796950688: areButtonsEnabled --> true
1335796950689: send final leg ack regardless of new or already-processed reply
1335796950690: inside finalLegAck: change requestCounter to 22
1335796950691: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005022 Client in region: (3,0) Client nodID: 5005
1335796950692: I'm a leader client, my final_leg packet going to mux directly
1335796950693: new client_show_remotephoto reply with replyCounter 500500036
1335796950694: note down new reply by adding replyCounter=500500036 to HashMap processedReplies
1335796950695: leader download remote photo latency = 2251
1335796950696: = leader download start 1335796948434 ~ stop 1335796950685
1335796950700: Can't get remote photo, because DSM Layer on originator leader timed out
1335796950718: one more getBad: 1
1335796950721: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=7 getBad=1 getTimedout=0 getPercent=87%
1335796950722: getBad++
1335796950674: =======================
1335796950675: inside sendReplyRepeatingRunnable for replyCount = 500500036
1335796950676: Leader about to send REPLY packet, number: 500500036 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335796950676: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796950677: === Finished one round of sending REPLY Packet =======
1335796950696: mux: Inside mux Packet.CLIENT_REQUEST
1335796950696: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796950697: inside handleClientRequest. Originator leader of region 3
1335796950697: got new request, requestCounter = 5005022
1335796950698: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500036
1335796950698: Yay the last leg succeeded. Removing reply runnables ...
1335796950699: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500036
1335796950700: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500036
1335796950700: do not send ack for received final_leg_ack
1335796952027: inside sendPacket(Packet p)
1335796952030: Sending UDP payload: 446
1335796952851: Received UDP payload: 446
1335796952968: Received UDP payload: 989
1335796952976: mux: GOT CSM_Msg
1335796952976: forwarding disabled, not forwarding packets
1335796954004: Received UDP payload: 39933
1335796954147: Received UDP payload: 989
1335796954154: mux: GOT CSM_Msg
1335796954155: forwarding disabled, not forwarding packets
1335796954319: Received UDP payload: 4405
1335796954321: mux: GOT CSM_Msg
1335796954321: forwarding disabled, not forwarding packets
1335796954374: Received UDP payload: 989
1335796954377: mux: GOT CSM_Msg
1335796954377: forwarding disabled, not forwarding packets
1335796955129: Received UDP payload: 989
1335796955138: mux: GOT CSM_Msg
1335796955139: forwarding disabled, not forwarding packets
1335796955153: Received UDP payload: 989
1335796955160: mux: GOT CSM_Msg
1335796955160: forwarding disabled, not forwarding packets
1335796955209: Received UDP payload: 989
1335796955211: mux: GOT CSM_Msg
1335796955211: forwarding disabled, not forwarding packets
1335796955243: Received UDP payload: 4405
1335796955245: mux: GOT CSM_Msg
1335796955245: forwarding disabled, not forwarding packets
1335796955315: Received UDP payload: 4405
1335796955316: mux: GOT CSM_Msg
1335796955316: forwarding disabled, not forwarding packets
1335796955437: Received UDP payload: 4405
1335796955439: mux: GOT CSM_Msg
1335796955439: forwarding disabled, not forwarding packets
1335796957017: Received UDP payload: 4058
1335796957022: mux: Inside Packet.SERVER_REPLY
1335796957023: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796957028: inside sendPacket(Packet p)
1335796957031: Sending UDP payload: 446
1335796957068: Received UDP payload: 446
1335796957075: Received UDP payload: 446
1335796957101: Received UDP payload: 446
1335796957190: Received UDP payload: 4058
1335796957192: mux: Inside Packet.SERVER_REPLY
1335796957192: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796957277: Received UDP payload: 989
1335796957279: mux: GOT CSM_Msg
1335796957279: forwarding disabled, not forwarding packets
1335796957719: Received UDP payload: 625
1335796957725: mux: Inside mux Packet.CLIENT_REQUEST
1335796957753: Received UDP payload: 989
1335796957762: mux: GOT CSM_Msg
1335796957762: forwarding disabled, not forwarding packets
1335796957763: Received UDP payload: 446
1335796957776: mux: Inside Packet.SERVER_REPLY
1335796957777: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796957844: Received UDP payload: 446
1335796957930: Received UDP payload: 989
1335796957938: mux: GOT CSM_Msg
1335796957938: forwarding disabled, not forwarding packets
1335796957949: Received UDP payload: 989
1335796957956: mux: GOT CSM_Msg
1335796957956: forwarding disabled, not forwarding packets
1335796958131: Received UDP payload: 989
1335796958138: mux: GOT CSM_Msg
1335796958139: forwarding disabled, not forwarding packets
1335796958158: Received UDP payload: 6693
1335796958165: mux: GOT CSM_Msg
1335796958165: forwarding disabled, not forwarding packets
1335796958255: Received UDP payload: 6693
1335796958258: mux: GOT CSM_Msg
1335796958258: forwarding disabled, not forwarding packets
1335796958644: Received UDP payload: 989
1335796958648: mux: GOT CSM_Msg
1335796958648: forwarding disabled, not forwarding packets
1335796958684: Received UDP payload: 989
1335796958687: mux: GOT CSM_Msg
1335796958687: forwarding disabled, not forwarding packets
1335796958762: Received UDP payload: 989
1335796958767: mux: GOT CSM_Msg
1335796958768: forwarding disabled, not forwarding packets
1335796958838: Received UDP payload: 989
1335796958846: mux: GOT CSM_Msg
1335796958846: forwarding disabled, not forwarding packets
1335796959009: Received UDP payload: 989
1335796959016: mux: GOT CSM_Msg
1335796959016: forwarding disabled, not forwarding packets
1335796959024: Received UDP payload: 6693
1335796959031: mux: GOT CSM_Msg
1335796959031: forwarding disabled, not forwarding packets
1335796959064: Received UDP payload: 989
1335796959071: mux: GOT CSM_Msg
1335796959071: forwarding disabled, not forwarding packets
1335796959145: Received UDP payload: 6693
1335796959155: mux: GOT CSM_Msg
1335796959155: forwarding disabled, not forwarding packets
1335796959239: Received UDP payload: 6346
1335796959243: mux: Inside Packet.SERVER_REPLY
1335796959243: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796959297: Received UDP payload: 6693
1335796959308: mux: GOT CSM_Msg
1335796959309: forwarding disabled, not forwarding packets
1335796959388: Received UDP payload: 6693
1335796959396: mux: GOT CSM_Msg
1335796959397: forwarding disabled, not forwarding packets
1335796959573: Received UDP payload: 5165
1335796959576: mux: GOT CSM_Msg
1335796959576: forwarding disabled, not forwarding packets
1335796959598: Received UDP payload: 989
1335796959602: mux: GOT CSM_Msg
1335796959602: forwarding disabled, not forwarding packets
1335796959804: Received UDP payload: 446
1335796961156: Received UDP payload: 989
1335796961166: mux: GOT CSM_Msg
1335796961167: forwarding disabled, not forwarding packets
1335796961178: Received UDP payload: 989
1335796961193: mux: GOT CSM_Msg
1335796961194: forwarding disabled, not forwarding packets
1335796961440: Received UDP payload: 625
1335796961442: mux: Inside mux Packet.CLIENT_REQUEST
1335796961477: Received UDP payload: 989
1335796961481: mux: GOT CSM_Msg
1335796961481: forwarding disabled, not forwarding packets
1335796961503: Received UDP payload: 446
1335796961506: mux: Inside Packet.SERVER_REPLY
1335796961506: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796961780: Received UDP payload: 446
1335796961875: Received UDP payload: 989
1335796961888: mux: GOT CSM_Msg
1335796961888: forwarding disabled, not forwarding packets
1335796961894: Received UDP payload: 989
1335796961896: mux: GOT CSM_Msg
1335796961896: forwarding disabled, not forwarding packets
1335796961983: Received UDP payload: 989
1335796961985: mux: GOT CSM_Msg
1335796961985: forwarding disabled, not forwarding packets
1335796962005: Received UDP payload: 989
1335796962008: mux: GOT CSM_Msg
1335796962008: forwarding disabled, not forwarding packets
1335796962029: inside sendPacket(Packet p)
1335796962030: Sending UDP payload: 446
1335796962080: Received UDP payload: 989
1335796962082: mux: GOT CSM_Msg
1335796962082: forwarding disabled, not forwarding packets
1335796962159: canPressButton = TRUE
1335796962160: areButtonsEnabled --> false 
1335796962161: get picture disableButtonsR
1335796962161: areButtonsEnabled --> false
1335796962195: one more getNum: 9
1335796962196: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=7 getBad=1 getTimedout=0 getPercent=77%
1335796962196: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335796962196: change local requestCounter to 23
1335796962197: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005023 Client in region: 3 Client nodID: 5005
1335796962177: Received UDP payload: 989
1335796962179: mux: GOT CSM_Msg
1335796962179: forwarding disabled, not forwarding packets
1335796962239: ----------------------------
1335796962240: inside sendRequestPacketRepeatingRunnable for requestCount = 5005023
1335796962240: I'm a leader, my requesting photos packet going to mux directly
1335796962241: --- Finished one round of sending REQUEST Packet ---------
1335796962207: Received UDP payload: 989
1335796962209: mux: GOT CSM_Msg
1335796962209: forwarding disabled, not forwarding packets
1335796962241: mux: Inside mux Packet.CLIENT_REQUEST
1335796962241: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796962298: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796962242: inside handleClientRequest. Originator leader of region 3
1335796962242: got new request, requestCounter = 5005023
1335796962242: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796962243: Sending to region: 3
1335796962243: Sending PROC_REQUEST 11:13 (3,0)->(3,0)
1335796962243: Dispatching Atom PROC_REQUEST 11:13 (3,0)->(3,0)
1335796962249: mux: I got a CSM packet at a leader 

1335796962243: Note down new request by adding requestCounter=5005023 to HashMap processedRequests
1335796962244: Make FirstLeg Ack regardless of new or already-processed requests
1335796962244: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796962245: Received UDP payload: 989
1335796962258: mux: GOT CSM_Msg
1335796962250: Sending UDP payload: 989
1335796962251: removed replies before id 13 from sentReplies of size 0
1335796962252: inside handleDSMRequest. At requests's remote leader of region 3
1335796962252: INSIDE SERVER_GET_PHOTO!!!
1335796962256: dst_region == src_region = 3
1335796962256:  1 self to self atomRequest
1335796962257: Received PROC_REQUEST 11:13 (3,0)->(3,0), replying PROC_REPLY 11:13 (3,0)->(3,0)
1335796962258: Dispatching Atom PROC_REPLY 11:13 (3,0)->(3,0)
1335796962259: mux: I got a CSM packet at a leader 

1335796962301: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796962302: disabling progressdialog due to successful new photo get
1335796962302: Inside _enableButtons
1335796962302: areButtonsEnabled --> true
1335796962302: send final leg ack regardless of new or already-processed reply
1335796962302: inside finalLegAck: change requestCounter to 24
1335796962303: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005024 Client in region: (3,0) Client nodID: 5005
1335796962304: I'm a leader client, my final_leg packet going to mux directly
1335796962306: new client_show_remotephoto reply with replyCounter 500500037
1335796962306: note down new reply by adding replyCounter=500500037 to HashMap processedReplies
1335796962306: leader download remote photo latency = 60
1335796962307: = leader download start 1335796962241 ~ stop 1335796962301
1335796962311: one more getGood: 8
1335796962312: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=8 getBad=1 getTimedout=0 getPercent=88%
1335796962312: successful reply for client get photo
1335796962312: Success! Client getting photo from remote region, showing photo...
1335796962313: Remote photo's length: 5925
1335796962258: forwarding disabled, not forwarding packets
1335796962260: Sending UDP payload: 6936
1335796962262: Received PROC_REPLY 11:13 (3,0)->(3,0), handing to UserApp
1335796962263: inside handleDSMReply. Now back in originator leader of region 3
1335796962263: DSM layer: Going to and from remote region took latency = 20
1335796962263: DSM layer: orig leader sent packet at 1335796962243 ~ received reply from remote leader at 1335796962263
1335796962264: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796962264: change leader replyCounter to: 37
1335796962264: reply packet contains the newest photo/success info from the remote region
1335796962264: inside sendReplies of replyCount = 500500037
1335796962264: =======================
1335796962265: inside sendReplyRepeatingRunnable for replyCount = 500500037
1335796962265: Leader about to send REPLY packet, number: 500500037 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335796962265: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796962265: === Finished one round of sending REPLY Packet =======
1335796962281: Received UDP payload: 989
1335796962283: mux: GOT CSM_Msg
1335796962283: forwarding disabled, not forwarding packets
1335796962304: mux: Inside mux Packet.CLIENT_REQUEST
1335796962304: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796962304: inside handleClientRequest. Originator leader of region 3
1335796962305: got new request, requestCounter = 5005024
1335796962305: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500037
1335796962305: Yay the last leg succeeded. Removing reply runnables ...
1335796962305: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500037
1335796962305: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500037
1335796962305: do not send ack for received final_leg_ack
1335796962455: Received UDP payload: 989
1335796962463: mux: GOT CSM_Msg
1335796962463: forwarding disabled, not forwarding packets
1335796962491: Received UDP payload: 989
1335796962493: mux: GOT CSM_Msg
1335796962493: forwarding disabled, not forwarding packets
1335796962522: Received UDP payload: 989
1335796962524: mux: GOT CSM_Msg
1335796962524: forwarding disabled, not forwarding packets
1335796962557: Received UDP payload: 989
1335796962560: mux: GOT CSM_Msg
1335796962560: forwarding disabled, not forwarding packets
1335796962599: Received UDP payload: 5165
1335796962601: mux: GOT CSM_Msg
1335796962601: forwarding disabled, not forwarding packets
1335796962612: Received UDP payload: 989
1335796962615: mux: GOT CSM_Msg
1335796962616: forwarding disabled, not forwarding packets
1335796962621: Received UDP payload: 989
1335796962628: mux: GOT CSM_Msg
1335796962628: forwarding disabled, not forwarding packets
1335796962703: Received UDP payload: 5165
1335796962711: mux: GOT CSM_Msg
1335796962711: forwarding disabled, not forwarding packets
1335796962757: Received UDP payload: 989
1335796962761: mux: GOT CSM_Msg
1335796962761: forwarding disabled, not forwarding packets
1335796962813: Received UDP payload: 989
1335796962818: mux: GOT CSM_Msg
1335796962818: forwarding disabled, not forwarding packets
1335796962822: Received UDP payload: 446
1335796962890: Received UDP payload: 989
1335796962895: mux: GOT CSM_Msg
1335796962895: forwarding disabled, not forwarding packets
1335796962953: Received UDP payload: 989
1335796962960: mux: GOT CSM_Msg
1335796962961: removed replies before id 5 from sentReplies of size 0
1335796962961: inside handleDSMRequest. At requests's remote leader of region 3
1335796962965: INSIDE SERVER_GET_PHOTO!!!
1335796962986: Received PROC_REQUEST 11:5 (1,0)->(3,0), replying PROC_REPLY 11:5 (3,0)->(1,0)
1335796962997: Dispatching Atom PROC_REPLY 11:5 (3,0)->(1,0)
1335796962997: mux: I got a CSM packet at a leader 

1335796963018: Sending UDP payload: 6936
1335796963030: forwarding disabled, not forwarding packets
1335796963103: Received UDP payload: 989
1335796963105: mux: GOT CSM_Msg
1335796963105: forwarding disabled, not forwarding packets
1335796963124: Received UDP payload: 989
1335796963126: mux: GOT CSM_Msg
1335796963126: forwarding disabled, not forwarding packets
1335796963186: Received UDP payload: 4467
1335796963188: mux: Inside mux Packet.CLIENT_REQUEST
1335796963203: Received UDP payload: 989
1335796963206: mux: GOT CSM_Msg
1335796963206: forwarding disabled, not forwarding packets
1335796963317: Received UDP payload: 989
1335796963319: mux: GOT CSM_Msg
1335796963319: forwarding disabled, not forwarding packets
1335796963372: Received UDP payload: 989
1335796963375: mux: GOT CSM_Msg
1335796963375: forwarding disabled, not forwarding packets
1335796963495: Received UDP payload: 4467
1335796963497: mux: Inside mux Packet.CLIENT_REQUEST
1335796963873: Received UDP payload: 4831
1335796963884: mux: GOT CSM_Msg
1335796963884: forwarding disabled, not forwarding packets
1335796963895: Received UDP payload: 446
1335796963899: mux: Inside Packet.SERVER_REPLY
1335796963900: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796963907: Received UDP payload: 989
1335796963933: mux: GOT CSM_Msg
1335796963933: forwarding disabled, not forwarding packets
1335796963933: Received UDP payload: 642
1335796963934: mux: Inside Packet.SERVER_REPLY
1335796963935: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796963997: Received UDP payload: 446
1335796963998: mux: Inside mux Packet.CLIENT_REQUEST
1335796964756: Received UDP payload: 989
1335796964763: mux: GOT CSM_Msg
1335796964763: forwarding disabled, not forwarding packets
1335796964807: Received UDP payload: 446
1335796965505: Received UDP payload: 989
1335796965517: mux: GOT CSM_Msg
1335796965517: forwarding disabled, not forwarding packets
1335796965605: Received UDP payload: 4831
1335796965612: mux: GOT CSM_Msg
1335796965612: forwarding disabled, not forwarding packets
1335796965635: Received UDP payload: 989
1335796965641: mux: GOT CSM_Msg
1335796965641: forwarding disabled, not forwarding packets
1335796966750: Received UDP payload: 989
1335796966758: mux: GOT CSM_Msg
1335796966758: forwarding disabled, not forwarding packets
1335796966790: Received UDP payload: 446
1335796966845: Received UDP payload: 5338
1335796966852: mux: GOT CSM_Msg
1335796966852: forwarding disabled, not forwarding packets
1335796966882: Received UDP payload: 625
1335796966886: mux: Inside mux Packet.CLIENT_REQUEST
1335796966886: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796966887: inside handleClientRequest. Originator leader of region 3
1335796966887: got new request, requestCounter = 5011025
1335796966888: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796966889: Sending to region: 2
1335796966891: Sending PROC_REQUEST 11:7 (3,0)->(2,0)
1335796966892: Dispatching Atom PROC_REQUEST 11:7 (3,0)->(2,0)
1335796966894: mux: I got a CSM packet at a leader 

1335796966892: Note down new request by adding requestCounter=5011025 to HashMap processedRequests
1335796966893: Make FirstLeg Ack regardless of new or already-processed requests
1335796966893: The leader sending a First Leg ack to originator client (which id = 5011)
1335796966893: inside sendPacket(Packet p)
1335796966898: Sending UDP payload: 989
1335796966899: forwarding disabled, not forwarding packets
1335796966901: Sending UDP payload: 446
1335796967000: Received UDP payload: 5338
1335796967004: mux: GOT CSM_Msg
1335796967004: Received PROC_REPLY 11:7 (2,0)->(3,0), handing to UserApp
1335796967005: inside handleDSMReply. Now back in originator leader of region 3
1335796967005: DSM layer: Going to and from remote region took latency = 115
1335796967005: DSM layer: orig leader sent packet at 1335796966890 ~ received reply from remote leader at 1335796967005
1335796967006: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796967006: change leader replyCounter to: 38
1335796967006: reply packet contains the newest photo/success info from the remote region
1335796967007: inside sendReplies of replyCount = 500500038
1335796967007: =======================
1335796967007: inside sendReplyRepeatingRunnable for replyCount = 500500038
1335796967007: Leader about to send REPLY packet, number: 500500038 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796967007: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796967007: inside sendPacket(Packet p)
1335796967008: === Finished one round of sending REPLY Packet =======
1335796967010: Sending UDP payload: 4991
1335796967030: inside sendPacket(Packet p)
1335796967031: Sending UDP payload: 446
1335796967159: Received UDP payload: 446
1335796967161: mux: Inside mux Packet.CLIENT_REQUEST
1335796967161: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796967161: inside handleClientRequest. Originator leader of region 3
1335796967162: got new request, requestCounter = 5011026
1335796967162: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500038
1335796967162: Yay the last leg succeeded. Removing reply runnables ...
1335796967162: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500038
1335796967162: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500038
1335796967162: do not send ack for received final_leg_ack
1335796967266: Received UDP payload: 625
1335796967268: mux: Inside mux Packet.CLIENT_REQUEST
1335796967268: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796967268: inside handleClientRequest. Originator leader of region 3
1335796967268: discarding repeated requestCounter=5011025, but still send an ack back
1335796967268: Note down new request by adding requestCounter=5011025 to HashMap processedRequests
1335796967269: Make FirstLeg Ack regardless of new or already-processed requests
1335796967269: The leader sending a First Leg ack to originator client (which id = 5011)
1335796967269: inside sendPacket(Packet p)
1335796967270: Sending UDP payload: 446
1335796967805: Received UDP payload: 446
1335796967994: Received UDP payload: 989
1335796968001: mux: GOT CSM_Msg
1335796968001: removed replies before id 2 from sentReplies of size 1
1335796968003: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(3,0), replying PROC_REPLY 11:2 (3,0)->(0,0)
1335796968004: Dispatching Atom PROC_REPLY 11:2 (3,0)->(0,0)
1335796968004: mux: I got a CSM packet at a leader 

1335796968008: Sending UDP payload: 6936
1335796968037: forwarding disabled, not forwarding packets
1335796968496: Received UDP payload: 6589
1335796968499: mux: Inside Packet.SERVER_REPLY
1335796968499: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796968787: Received UDP payload: 6589
1335796968791: mux: Inside Packet.SERVER_REPLY
1335796968792: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796969115: Received UDP payload: 6589
1335796969120: mux: Inside Packet.SERVER_REPLY
1335796969120: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796969324: Received UDP payload: 7132
1335796969332: mux: GOT CSM_Msg
1335796969333: forwarding disabled, not forwarding packets
1335796969342: Received UDP payload: 446
1335796969346: mux: Inside Packet.SERVER_REPLY
1335796969347: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796969351: Received UDP payload: 989
1335796969364: mux: GOT CSM_Msg
1335796969360: Received UDP payload: 642
1335796969365: mux: Inside Packet.SERVER_REPLY
1335796969366: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796969365: forwarding disabled, not forwarding packets
1335796969390: Received UDP payload: 446
1335796969395: mux: Inside mux Packet.CLIENT_REQUEST
1335796969809: Received UDP payload: 446
1335796970287: Received UDP payload: 625
1335796970292: mux: Inside mux Packet.CLIENT_REQUEST
1335796970292: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796970292: inside handleClientRequest. Originator leader of region 3
1335796970293: got new request, requestCounter = 5013035
1335796970293: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796970306: Sending to region: 3
1335796970307: Sending PROC_REQUEST 11:14 (3,0)->(3,0)
1335796970308: Dispatching Atom PROC_REQUEST 11:14 (3,0)->(3,0)
1335796970310: mux: I got a CSM packet at a leader 

1335796970308: Note down new request by adding requestCounter=5013035 to HashMap processedRequests
1335796970309: Make FirstLeg Ack regardless of new or already-processed requests
1335796970309: The leader sending a First Leg ack to originator client (which id = 5013)
1335796970310: inside sendPacket(Packet p)
1335796970328: Sending UDP payload: 989
1335796970331: removed replies before id 14 from sentReplies of size 0
1335796970332: inside handleDSMRequest. At requests's remote leader of region 3
1335796970334: INSIDE SERVER_GET_PHOTO!!!
1335796970336: dst_region == src_region = 3
1335796970336:  1 self to self atomRequest
1335796970339: Received PROC_REQUEST 11:14 (3,0)->(3,0), replying PROC_REPLY 11:14 (3,0)->(3,0)
1335796970341: Dispatching Atom PROC_REPLY 11:14 (3,0)->(3,0)
1335796970364: mux: I got a CSM packet at a leader 

1335796970343: Sending UDP payload: 446
1335796970366: Sending UDP payload: 6936
1335796970368: Received PROC_REPLY 11:14 (3,0)->(3,0), handing to UserApp
1335796970369: inside handleDSMReply. Now back in originator leader of region 3
1335796970369: DSM layer: Going to and from remote region took latency = 63
1335796970369: DSM layer: orig leader sent packet at 1335796970306 ~ received reply from remote leader at 1335796970369
1335796970370: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796970370: change leader replyCounter to: 39
1335796970370: reply packet contains the newest photo/success info from the remote region
1335796970370: inside sendReplies of replyCount = 500500039
1335796970370: =======================
1335796970370: inside sendReplyRepeatingRunnable for replyCount = 500500039
1335796970370: Leader about to send REPLY packet, number: 500500039 type: 15 Leader in region: (3,0) to Client nodID: 5013
1335796970371: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796970371: inside sendPacket(Packet p)
1335796970371: === Finished one round of sending REPLY Packet =======
1335796970372: Sending UDP payload: 6589
1335796970634: Received UDP payload: 446
1335796970635: mux: Inside mux Packet.CLIENT_REQUEST
1335796970635: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796970635: inside handleClientRequest. Originator leader of region 3
1335796970635: got new request, requestCounter = 5013036
1335796970636: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500039
1335796970636: Yay the last leg succeeded. Removing reply runnables ...
1335796970636: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500039
1335796970636: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500039
1335796970636: do not send ack for received final_leg_ack
1335796970718: canPressButton = TRUE
1335796970718: areButtonsEnabled --> false
1335796970718: disabling buttons ...
1335796970719: took picture disableButtonsR
1335796970719: areButtonsEnabled --> false
1335796970744: one more takeNum: 4
1335796970745: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=9 getGood=8 getBad=1 getTimedout=0 getPercent=88%
1335796970746: Clicked take picture button ..
1335796971783: Received UDP payload: 446
1335796971985: Received UDP payload: 625
1335796971986: mux: Inside mux Packet.CLIENT_REQUEST
1335796972049: inside sendPacket(Packet p)
1335796972050: Received UDP payload: 989
1335796972061: Sending UDP payload: 446
1335796972062: mux: GOT CSM_Msg
1335796972062: forwarding disabled, not forwarding packets
1335796972063: Received UDP payload: 446
1335796972064: mux: Inside Packet.SERVER_REPLY
1335796972064: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796972196: inside HandlePictureStorage onPictureTaken()
1335796972197: one more takeCamGood: 4
1335796972197: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=9 getGood=8 getBad=1 getTimedout=0 getPercent=88%
1335796972458: Picture successfully taken, ORIG BYTE LENGTH = 2814302
1335796972732: Our new height x width: 306 x 408
1335796972732: Show photo from handle my camera take
1335796972733: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335796972733: change local requestCounter to 25
1335796972746: BYTE SIZE AFTER COMPRESSION: 4823
1335796972752: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5005025 Client in region: 3 Client nodID: 5005
1335796972650: Received UDP payload: 989
1335796972658: mux: GOT CSM_Msg
1335796972658: forwarding disabled, not forwarding packets
1335796972747: Received UDP payload: 5338
1335796972750: mux: GOT CSM_Msg
1335796972750: forwarding disabled, not forwarding packets
1335796972778: ----------------------------
1335796972778: inside sendRequestPacketRepeatingRunnable for requestCount = 5005025
1335796972779: I'm a leader, my requesting photos packet going to mux directly
1335796972783: --- Finished one round of sending REQUEST Packet ---------
1335796972760: Received UDP payload: 989
1335796972764: mux: GOT CSM_Msg
1335796972764: forwarding disabled, not forwarding packets
1335796972779: mux: Inside mux Packet.CLIENT_REQUEST
1335796972779: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796972813: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796972779: inside handleClientRequest. Originator leader of region 3
1335796972779: got new request, requestCounter = 5005025
1335796972779: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796972780: Sending PROC_REQUEST 10:15 (3,0)->(3,0)
1335796972780: Dispatching Atom PROC_REQUEST 10:15 (3,0)->(3,0)
1335796972781: mux: I got a CSM packet at a leader 

1335796972814: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796972815: I'm a leader and I successfully saved my client's new photo
1335796972816: now showing in UI the new photo I just saved ... 
1335796972816: the photo length: 4823
1335796972857: end of server show photo aside %%%%%%%%%
1335796972780: Note down new request by adding requestCounter=5005025 to HashMap processedRequests
1335796972780: Make FirstLeg Ack regardless of new or already-processed requests
1335796972780: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796972787: Sending UDP payload: 5834
1335796972788: removed replies before id 15 from sentReplies of size 0
1335796972788: inside handleDSMRequest. At requests's remote leader of region 3
1335796972791: Inside UPLOAD_PHOTO!!
1335796972796: my_gpinfo.isSuccess is now (should be true): true
1335796972796: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796972798: Received PROC_REQUEST 10:15 (3,0)->(3,0), replying PROC_REPLY 10:15 (3,0)->(3,0)
1335796972799: Dispatching Atom PROC_REPLY 10:15 (3,0)->(3,0)
1335796972799: mux: I got a CSM packet at a leader 

1335796972803: Sending UDP payload: 989
1335796972805: Received PROC_REPLY 10:15 (3,0)->(3,0), handing to UserApp
1335796972805: inside handleDSMReply. Now back in originator leader of region 3
1335796972805: DSM layer: Going to and from remote region took latency = 26
1335796972805: DSM layer: orig leader sent packet at 1335796972779 ~ received reply from remote leader at 1335796972805
1335796972806: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796972806: change leader replyCounter to: 40
1335796972807: reply packet contains the success info for UPLOAD_PHOTO
1335796972807: inside sendReplies of replyCount = 500500040
1335796972807: =======================
1335796972807: inside sendReplyRepeatingRunnable for replyCount = 500500040
1335796972807: Leader about to send REPLY packet, number: 500500040 type: 16 Leader in region: (3,0) to Client nodID: 5005
1335796972860: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335796972860: disabling progressdialog due to successful new photo upload
1335796972860: Inside _enableButtons
1335796972860: areButtonsEnabled --> true
1335796972861: send final leg ack regardless of new or already-processed reply
1335796972861: inside finalLegAck: change requestCounter to 26
1335796972861: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005026 Client in region: (3,0) Client nodID: 5005
1335796972861: I'm a leader client, my final_leg packet going to mux directly
1335796972862: new client_upload_photo_ack reply with replyCounter 500500040
1335796972862: note down new reply by adding replyCounter=500500040 to HashMap processedReplies
1335796972862: leader upload new photo latency = 81
1335796972863: = leader upload start 1335796972779 ~ stop 1335796972860
1335796972864: one more takeGoodSave: 4
1335796972865: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=8 getBad=1 getTimedout=0 getPercent=88%
1335796972865: SUCCESS Client now knows saving photo on its leader succeeded
1335796972807: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796972808: === Finished one round of sending REPLY Packet =======
1335796972849: Received UDP payload: 4405
1335796972851: mux: GOT CSM_Msg
1335796972851: forwarding disabled, not forwarding packets
1335796972862: mux: Inside mux Packet.CLIENT_REQUEST
1335796972862: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796972862: inside handleClientRequest. Originator leader of region 3
1335796972862: got new request, requestCounter = 5005026
1335796972862: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500040
1335796972862: Yay the last leg succeeded. Removing reply runnables ...
1335796972863: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500040
1335796972863: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500040
1335796972863: do not send ack for received final_leg_ack
1335796972884: Received UDP payload: 989
1335796972886: mux: GOT CSM_Msg
1335796972886: forwarding disabled, not forwarding packets
1335796972951: Received UDP payload: 446
1335796972969: Received UDP payload: 989
1335796972971: mux: GOT CSM_Msg
1335796972971: forwarding disabled, not forwarding packets
1335796973030: Received UDP payload: 4405
1335796973032: mux: GOT CSM_Msg
1335796973032: forwarding disabled, not forwarding packets
1335796973110: Received UDP payload: 4058
1335796973112: mux: Inside Packet.SERVER_REPLY
1335796973112: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796973124: Received UDP payload: 446
1335796973126: mux: Inside mux Packet.CLIENT_REQUEST
1335796974514: Received UDP payload: 625
1335796974519: mux: Inside mux Packet.CLIENT_REQUEST
1335796974519: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796974520: inside handleClientRequest. Originator leader of region 3
1335796974520: got new request, requestCounter = 5011027
1335796974521: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796974523: Sending to region: 3
1335796974535: Sending PROC_REQUEST 11:16 (3,0)->(3,0)
1335796974536: Dispatching Atom PROC_REQUEST 11:16 (3,0)->(3,0)
1335796974538: mux: I got a CSM packet at a leader 

1335796974536: Note down new request by adding requestCounter=5011027 to HashMap processedRequests
1335796974536: Make FirstLeg Ack regardless of new or already-processed requests
1335796974537: The leader sending a First Leg ack to originator client (which id = 5011)
1335796974537: inside sendPacket(Packet p)
1335796974542: Sending UDP payload: 989
1335796974556: removed replies before id 16 from sentReplies of size 0
1335796974557: inside handleDSMRequest. At requests's remote leader of region 3
1335796974560: INSIDE SERVER_GET_PHOTO!!!
1335796974562: dst_region == src_region = 3
1335796974562:  1 self to self atomRequest
1335796974581: Received PROC_REQUEST 11:16 (3,0)->(3,0), replying PROC_REPLY 11:16 (3,0)->(3,0)
1335796974581: Dispatching Atom PROC_REPLY 11:16 (3,0)->(3,0)
1335796974584: mux: I got a CSM packet at a leader 

1335796974582: Sending UDP payload: 446
1335796974586: Sending UDP payload: 5834
1335796974595: Received PROC_REPLY 11:16 (3,0)->(3,0), handing to UserApp
1335796974595: inside handleDSMReply. Now back in originator leader of region 3
1335796974595: DSM layer: Going to and from remote region took latency = 72
1335796974595: DSM layer: orig leader sent packet at 1335796974523 ~ received reply from remote leader at 1335796974595
1335796974596: Originator Region=3's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796974596: change leader replyCounter to: 41
1335796974596: reply packet contains the newest photo/success info from the remote region
1335796974596: inside sendReplies of replyCount = 500500041
1335796974596: =======================
1335796974596: inside sendReplyRepeatingRunnable for replyCount = 500500041
1335796974596: Leader about to send REPLY packet, number: 500500041 type: 15 Leader in region: (3,0) to Client nodID: 5011
1335796974596: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335796974596: inside sendPacket(Packet p)
1335796974597: === Finished one round of sending REPLY Packet =======
1335796974598: Sending UDP payload: 5487
1335796974735: Received UDP payload: 446
1335796974737: mux: Inside mux Packet.CLIENT_REQUEST
1335796974737: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796974737: inside handleClientRequest. Originator leader of region 3
1335796974737: got new request, requestCounter = 5011028
1335796974737: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500041
1335796974737: Yay the last leg succeeded. Removing reply runnables ...
1335796974737: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500041
1335796974738: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500041
1335796974738: do not send ack for received final_leg_ack
1335796974807: Received UDP payload: 446
1335796975985: Received UDP payload: 446
1335796975989: mux: Inside Packet.SERVER_REPLY
1335796975990: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796976180: Received UDP payload: 989
1335796976188: mux: GOT CSM_Msg
1335796976188: forwarding disabled, not forwarding packets
1335796976189: Received UDP payload: 642
1335796976193: mux: Inside Packet.SERVER_REPLY
1335796976194: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796976225: Received UDP payload: 446
1335796976229: mux: Inside mux Packet.CLIENT_REQUEST
1335796976237: Received UDP payload: 642
1335796976238: mux: Inside Packet.SERVER_REPLY
1335796976239: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796976280: Received UDP payload: 625
1335796976282: mux: Inside mux Packet.CLIENT_REQUEST
1335796976310: Received UDP payload: 989
1335796976312: mux: GOT CSM_Msg
1335796976312: removed replies before id 5 from sentReplies of size 0
1335796976313: inside handleDSMRequest. At requests's remote leader of region 3
1335796976313: INSIDE SERVER_GET_PHOTO!!!
1335796976315: Received PROC_REQUEST 11:5 (2,0)->(3,0), replying PROC_REPLY 11:5 (3,0)->(2,0)
1335796976315: Dispatching Atom PROC_REPLY 11:5 (3,0)->(2,0)
1335796976315: mux: I got a CSM packet at a leader 

1335796976317: Sending UDP payload: 5834
1335796976318: forwarding disabled, not forwarding packets
1335796976574: Received UDP payload: 625
1335796976575: mux: Inside mux Packet.CLIENT_REQUEST
1335796976611: Received UDP payload: 446
1335796976613: mux: Inside Packet.SERVER_REPLY
1335796976613: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796976788: Received UDP payload: 446
1335796977045: Received UDP payload: 989
1335796977049: mux: GOT CSM_Msg
1335796977049: removed replies before id 5 from sentReplies of size 1
1335796977050: Received DUPLICATE PROC_REQUEST 11:5 (2,0)->(3,0), replying PROC_REPLY 11:5 (3,0)->(2,0)
1335796977051: Dispatching Atom PROC_REPLY 11:5 (3,0)->(2,0)
1335796977051: mux: I got a CSM packet at a leader 

1335796977054: Sending UDP payload: 5834
1335796977055: inside sendPacket(Packet p)
1335796977061: forwarding disabled, not forwarding packets
1335796977064: Sending UDP payload: 446
1335796977578: Received UDP payload: 989
1335796977587: mux: GOT CSM_Msg
1335796977587: forwarding disabled, not forwarding packets
1335796977696: Received UDP payload: 7551
1335796977703: mux: GOT CSM_Msg
1335796977703: forwarding disabled, not forwarding packets
1335796977837: Received UDP payload: 446
1335796978114: Received UDP payload: 5487
1335796978119: mux: Inside Packet.SERVER_REPLY
1335796978119: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796978140: Received UDP payload: 446
1335796978144: mux: Inside mux Packet.CLIENT_REQUEST
1335796978538: canPressButton = TRUE
1335796978539: areButtonsEnabled --> false 
1335796978539: get picture disableButtonsR
1335796978540: areButtonsEnabled --> false
1335796978606: one more getNum: 10
1335796978607: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=8 getBad=1 getTimedout=0 getPercent=80%
1335796978607: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335796978607: change local requestCounter to 27
1335796978608: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005027 Client in region: 3 Client nodID: 5005
1335796978641: ----------------------------
1335796978642: inside sendRequestPacketRepeatingRunnable for requestCount = 5005027
1335796978642: I'm a leader, my requesting photos packet going to mux directly
1335796978657: --- Finished one round of sending REQUEST Packet ---------
1335796978642: mux: Inside mux Packet.CLIENT_REQUEST
1335796978642: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796978699: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796978642: inside handleClientRequest. Originator leader of region 3
1335796978642: got new request, requestCounter = 5005027
1335796978642: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796978643: Sending to region: 3
1335796978644: Sending PROC_REQUEST 11:17 (3,0)->(3,0)
1335796978644: Dispatching Atom PROC_REQUEST 11:17 (3,0)->(3,0)
1335796978651: mux: I got a CSM packet at a leader 

1335796978644: Note down new request by adding requestCounter=5005027 to HashMap processedRequests
1335796978645: Make FirstLeg Ack regardless of new or already-processed requests
1335796978646: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796978652: Sending UDP payload: 989
1335796978653: removed replies before id 17 from sentReplies of size 0
1335796978653: inside handleDSMRequest. At requests's remote leader of region 3
1335796978653: INSIDE SERVER_GET_PHOTO!!!
1335796978655: dst_region == src_region = 3
1335796978655:  1 self to self atomRequest
1335796978656: Received PROC_REQUEST 11:17 (3,0)->(3,0), replying PROC_REPLY 11:17 (3,0)->(3,0)
1335796978656: Dispatching Atom PROC_REPLY 11:17 (3,0)->(3,0)
1335796978663: mux: I got a CSM packet at a leader 

1335796978701: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796978701: disabling progressdialog due to successful new photo get
1335796978702: Inside _enableButtons
1335796978702: areButtonsEnabled --> true
1335796978702: send final leg ack regardless of new or already-processed reply
1335796978702: inside finalLegAck: change requestCounter to 28
1335796978702: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005028 Client in region: (3,0) Client nodID: 5005
1335796978703: I'm a leader client, my final_leg packet going to mux directly
1335796978707: new client_show_remotephoto reply with replyCounter 500500042
1335796978707: note down new reply by adding replyCounter=500500042 to HashMap processedReplies
1335796978708: leader download remote photo latency = 59
1335796978708: = leader download start 1335796978642 ~ stop 1335796978701
1335796978709: one more getGood: 9
1335796978709: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=9 getBad=1 getTimedout=0 getPercent=90%
1335796978710: successful reply for client get photo
1335796978710: Success! Client getting photo from remote region, showing photo...
1335796978710: Remote photo's length: 4823
1335796978664: Sending UDP payload: 5834
1335796978667: Received PROC_REPLY 11:17 (3,0)->(3,0), handing to UserApp
1335796978667: inside handleDSMReply. Now back in originator leader of region 3
1335796978667: DSM layer: Going to and from remote region took latency = 24
1335796978667: DSM layer: orig leader sent packet at 1335796978643 ~ received reply from remote leader at 1335796978667
1335796978668: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796978668: change leader replyCounter to: 42
1335796978668: reply packet contains the newest photo/success info from the remote region
1335796978668: inside sendReplies of replyCount = 500500042
1335796978668: =======================
1335796978668: inside sendReplyRepeatingRunnable for replyCount = 500500042
1335796978669: Leader about to send REPLY packet, number: 500500042 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335796978669: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335796978669: === Finished one round of sending REPLY Packet =======
1335796978703: mux: Inside mux Packet.CLIENT_REQUEST
1335796978703: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796978703: inside handleClientRequest. Originator leader of region 3
1335796978703: got new request, requestCounter = 5005028
1335796978703: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500042
1335796978703: Yay the last leg succeeded. Removing reply runnables ...
1335796978703: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500042
1335796978704: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500042
1335796978704: do not send ack for received final_leg_ack
1335796979541: Received UDP payload: 6966
1335796979542: mux: Inside mux Packet.CLIENT_REQUEST
1335796979542: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796979542: inside handleClientRequest. Originator leader of region 3
1335796979543: got new request, requestCounter = 5013037
1335796979543: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796979543: Sending PROC_REQUEST 10:18 (3,0)->(3,0)
1335796979544: Dispatching Atom PROC_REQUEST 10:18 (3,0)->(3,0)
1335796979544: mux: I got a CSM packet at a leader 

1335796979611: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796979612: I'm a leader and I successfully saved my client's new photo
1335796979612: now showing in UI the new photo I just saved ... 
1335796979613: the photo length: 6319
1335796979660: end of server show photo aside %%%%%%%%%
1335796979544: Note down new request by adding requestCounter=5013037 to HashMap processedRequests
1335796979544: Make FirstLeg Ack regardless of new or already-processed requests
1335796979544: The leader sending a First Leg ack to originator client (which id = 5013)
1335796979544: inside sendPacket(Packet p)
1335796979552: Sending UDP payload: 7330
1335796979554: removed replies before id 18 from sentReplies of size 0
1335796979554: inside handleDSMRequest. At requests's remote leader of region 3
1335796979558: Inside UPLOAD_PHOTO!!
1335796979576: my_gpinfo.isSuccess is now (should be true): true
1335796979576: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796979580: Received PROC_REQUEST 10:18 (3,0)->(3,0), replying PROC_REPLY 10:18 (3,0)->(3,0)
1335796979582: Dispatching Atom PROC_REPLY 10:18 (3,0)->(3,0)
1335796979597: mux: I got a CSM packet at a leader 

1335796979586: Sending UDP payload: 446
1335796979601: Sending UDP payload: 989
1335796979645: Received PROC_REPLY 10:18 (3,0)->(3,0), handing to UserApp
1335796979645: inside handleDSMReply. Now back in originator leader of region 3
1335796979645: DSM layer: Going to and from remote region took latency = 102
1335796979645: DSM layer: orig leader sent packet at 1335796979543 ~ received reply from remote leader at 1335796979645
1335796979648: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796979648: change leader replyCounter to: 43
1335796979648: reply packet contains the success info for UPLOAD_PHOTO
1335796979649: inside sendReplies of replyCount = 500500043
1335796979649: =======================
1335796979649: inside sendReplyRepeatingRunnable for replyCount = 500500043
1335796979649: Leader about to send REPLY packet, number: 500500043 type: 16 Leader in region: (3,0) to Client nodID: 5013
1335796979649: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335796979649: inside sendPacket(Packet p)
1335796979649: === Finished one round of sending REPLY Packet =======
1335796979663: Sending UDP payload: 642
1335796979721: Received UDP payload: 446
1335796979723: mux: Inside mux Packet.CLIENT_REQUEST
1335796979724: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796979724: inside handleClientRequest. Originator leader of region 3
1335796979724: got new request, requestCounter = 5013038
1335796979724: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500043
1335796979724: Yay the last leg succeeded. Removing reply runnables ...
1335796979724: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500043
1335796979724: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500043
1335796979725: do not send ack for received final_leg_ack
1335796979825: Received UDP payload: 446
1335796981667: Received UDP payload: 7221
1335796981676: mux: Inside mux Packet.CLIENT_REQUEST
1335796981784: Received UDP payload: 446
1335796981970: Received UDP payload: 7221
1335796981975: mux: Inside mux Packet.CLIENT_REQUEST
1335796982056: inside sendPacket(Packet p)
1335796982058: Sending UDP payload: 446
1335796982092: Received UDP payload: 446
1335796982097: mux: Inside Packet.SERVER_REPLY
1335796982097: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796982108: Received UDP payload: 989
1335796982119: mux: GOT CSM_Msg
1335796982119: forwarding disabled, not forwarding packets
1335796982139: Received UDP payload: 642
1335796982140: mux: Inside Packet.SERVER_REPLY
1335796982141: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796982155: Received UDP payload: 446
1335796982156: mux: Inside mux Packet.CLIENT_REQUEST
1335796982816: Received UDP payload: 446
1335796984321: Received UDP payload: 625
1335796984326: mux: Inside mux Packet.CLIENT_REQUEST
1335796984369: Received UDP payload: 989
1335796984378: mux: GOT CSM_Msg
1335796984378: removed replies before id 6 from sentReplies of size 0
1335796984378: inside handleDSMRequest. At requests's remote leader of region 3
1335796984379: INSIDE SERVER_GET_PHOTO!!!
1335796984380: Received UDP payload: 446
1335796984384: mux: Inside Packet.SERVER_REPLY
1335796984384: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796984384: Received PROC_REQUEST 11:6 (1,0)->(3,0), replying PROC_REPLY 11:6 (3,0)->(1,0)
1335796984384: Dispatching Atom PROC_REPLY 11:6 (3,0)->(1,0)
1335796984385: mux: I got a CSM packet at a leader 

1335796984386: Sending UDP payload: 7330
1335796984395: forwarding disabled, not forwarding packets
1335796984591: Received UDP payload: 6983
1335796984593: mux: Inside Packet.SERVER_REPLY
1335796984593: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335796984622: Received UDP payload: 446
1335796984623: mux: Inside mux Packet.CLIENT_REQUEST
1335796984807: Received UDP payload: 446
1335796986226: Received UDP payload: 989
1335796986233: mux: GOT CSM_Msg
1335796986233: forwarding disabled, not forwarding packets
1335796986794: Received UDP payload: 446
1335796987057: inside sendPacket(Packet p)
1335796987061: Sending UDP payload: 446
1335796987825: Received UDP payload: 446
1335796988132: Received UDP payload: 446
1335796988389: Received UDP payload: 446
1335796988696: Received UDP payload: 446
1335796989835: Received UDP payload: 446
1335796990472: Received UDP payload: 446
1335796990811: Received UDP payload: 446
1335796991077: Received UDP payload: 446
1335796991394: Received UDP payload: 446
1335796991833: Received UDP payload: 446
1335796992059: inside sendPacket(Packet p)
1335796992063: Sending UDP payload: 446
1335796992821: Received UDP payload: 446
1335796993705: Received UDP payload: 989
1335796993712: mux: GOT CSM_Msg
1335796993713: removed replies before id 6 from sentReplies of size 0
1335796993713: inside handleDSMRequest. At requests's remote leader of region 3
1335796993715: INSIDE SERVER_GET_PHOTO!!!
1335796993729: Received PROC_REQUEST 11:6 (2,0)->(3,0), replying PROC_REPLY 11:6 (3,0)->(2,0)
1335796993730: Dispatching Atom PROC_REPLY 11:6 (3,0)->(2,0)
1335796993731: mux: I got a CSM packet at a leader 

1335796993763: Sending UDP payload: 7330
1335796993764: forwarding disabled, not forwarding packets
1335796994815: Received UDP payload: 446
1335796996793: Received UDP payload: 446
1335796997060: inside sendPacket(Packet p)
1335796997063: Sending UDP payload: 446
1335796997558: Received UDP payload: 463
1335796997600: Received UDP payload: 446
1335796997813: Received UDP payload: 446
1335796999523: canPressButton = TRUE
1335796999523: areButtonsEnabled --> false 
1335796999524: get picture disableButtonsR
1335796999524: areButtonsEnabled --> false
1335796999540: one more getNum: 11
1335796999541: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=9 getBad=1 getTimedout=0 getPercent=81%
1335796999541: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335796999541: change local requestCounter to 29
1335796999544: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005029 Client in region: 3 Client nodID: 5005
1335796999576: ----------------------------
1335796999576: inside sendRequestPacketRepeatingRunnable for requestCount = 5005029
1335796999576: I'm a leader, my requesting photos packet going to mux directly
1335796999582: --- Finished one round of sending REQUEST Packet ---------
1335796999577: mux: Inside mux Packet.CLIENT_REQUEST
1335796999577: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796999615: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796999577: inside handleClientRequest. Originator leader of region 3
1335796999577: got new request, requestCounter = 5005029
1335796999577: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796999578: Sending to region: 2
1335796999578: Sending PROC_REQUEST 11:8 (3,0)->(2,0)
1335796999579: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(2,0)
1335796999579: mux: I got a CSM packet at a leader 

1335796999579: Note down new request by adding requestCounter=5005029 to HashMap processedRequests
1335796999579: Make FirstLeg Ack regardless of new or already-processed requests
1335796999579: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335796999580: Sending UDP payload: 989
1335796999581: forwarding disabled, not forwarding packets
1335796999818: Received UDP payload: 446
1335797000332: Retrying PROC_REQUEST 11:8 (3,0)->(2,0)
1335797000332: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(2,0)
1335797000333: mux: I got a CSM packet at a leader 

1335797000336: Sending UDP payload: 989
1335797000346: forwarding disabled, not forwarding packets
1335797000433: Retrying PROC_REQUEST 11:8 (3,0)->(2,0)
1335797000434: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(2,0)
1335797000435: mux: I got a CSM packet at a leader 

1335797000436: Sending UDP payload: 989
1335797000437: forwarding disabled, not forwarding packets
1335797000535: Retrying PROC_REQUEST 11:8 (3,0)->(2,0)
1335797000535: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(2,0)
1335797000536: mux: I got a CSM packet at a leader 

1335797000537: Received UDP payload: 4947
1335797000537: Sending UDP payload: 989
1335797000540: mux: GOT CSM_Msg
1335797000551: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797000552: disabling progressdialog due to successful new photo get
1335797000552: Inside _enableButtons
1335797000553: areButtonsEnabled --> true
1335797000553: send final leg ack regardless of new or already-processed reply
1335797000553: inside finalLegAck: change requestCounter to 30
1335797000554: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005030 Client in region: (3,0) Client nodID: 5005
1335797000554: I'm a leader client, my final_leg packet going to mux directly
1335797000555: new client_show_remotephoto reply with replyCounter 500500044
1335797000555: note down new reply by adding replyCounter=500500044 to HashMap processedReplies
1335797000556: leader download remote photo latency = 974
1335797000556: = leader download start 1335796999577 ~ stop 1335797000551
1335797000558: one more getGood: 10
1335797000560: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=10 getBad=1 getTimedout=0 getPercent=90%
1335797000560: successful reply for client get photo
1335797000561: Success! Client getting photo from remote region, showing photo...
1335797000561: Remote photo's length: 3936
1335797000540: forwarding disabled, not forwarding packets
1335797000541: Received PROC_REPLY 11:8 (2,0)->(3,0), handing to UserApp
1335797000541: inside handleDSMReply. Now back in originator leader of region 3
1335797000542: DSM layer: Going to and from remote region took latency = 963
1335797000542: DSM layer: orig leader sent packet at 1335796999578 ~ received reply from remote leader at 1335797000541
1335797000544: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797000545: change leader replyCounter to: 44
1335797000545: reply packet contains the newest photo/success info from the remote region
1335797000545: inside sendReplies of replyCount = 500500044
1335797000545: =======================
1335797000545: inside sendReplyRepeatingRunnable for replyCount = 500500044
1335797000546: Leader about to send REPLY packet, number: 500500044 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335797000546: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797000546: === Finished one round of sending REPLY Packet =======
1335797000555: mux: Inside mux Packet.CLIENT_REQUEST
1335797000555: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797000555: inside handleClientRequest. Originator leader of region 3
1335797000555: got new request, requestCounter = 5005030
1335797000555: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500044
1335797000555: Yay the last leg succeeded. Removing reply runnables ...
1335797000556: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500044
1335797000556: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500044
1335797000556: do not send ack for received final_leg_ack
1335797000634: Received UDP payload: 4947
1335797000637: mux: GOT CSM_Msg
1335797000637: Received DUPLICATE PROC_REPLY 11:8 (2,0)->(3,0)
1335797001170: Received UDP payload: 989
1335797001175: mux: GOT CSM_Msg
1335797001175: forwarding disabled, not forwarding packets
1335797001233: Received UDP payload: 4947
1335797001237: mux: GOT CSM_Msg
1335797001237: forwarding disabled, not forwarding packets
1335797001796: Received UDP payload: 446
1335797002061: inside sendPacket(Packet p)
1335797002063: Sending UDP payload: 446
1335797002884: Received UDP payload: 625
1335797002888: mux: Inside mux Packet.CLIENT_REQUEST
1335797002932: Received UDP payload: 989
1335797002939: mux: GOT CSM_Msg
1335797002940: removed replies before id 7 from sentReplies of size 0
1335797002941: inside handleDSMRequest. At requests's remote leader of region 3
1335797002942: INSIDE SERVER_GET_PHOTO!!!
1335797002947: Received PROC_REQUEST 11:7 (2,0)->(3,0), replying PROC_REPLY 11:7 (3,0)->(2,0)
1335797002948: Dispatching Atom PROC_REPLY 11:7 (3,0)->(2,0)
1335797002967: mux: I got a CSM packet at a leader 

1335797002968: Sending UDP payload: 7330
1335797002970: forwarding disabled, not forwarding packets
1335797003516: Received UDP payload: 625
1335797003519: mux: Inside mux Packet.CLIENT_REQUEST
1335797003535: Received UDP payload: 446
1335797003537: mux: Inside Packet.SERVER_REPLY
1335797003538: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797003753: Received UDP payload: 6983
1335797003758: mux: Inside Packet.SERVER_REPLY
1335797003758: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797003788: Received UDP payload: 446
1335797003792: mux: Inside mux Packet.CLIENT_REQUEST
1335797004824: Received UDP payload: 446
1335797006248: Received UDP payload: 989
1335797006257: mux: GOT CSM_Msg
1335797006257: forwarding disabled, not forwarding packets
1335797006795: Received UDP payload: 446
1335797006954: Received UDP payload: 989
1335797006960: mux: GOT CSM_Msg
1335797006961: forwarding disabled, not forwarding packets
1335797007062: inside sendPacket(Packet p)
1335797007065: Sending UDP payload: 446
1335797007090: Received UDP payload: 7585
1335797007101: mux: GOT CSM_Msg
1335797007101: forwarding disabled, not forwarding packets
1335797008380: canPressButton = TRUE
1335797008381: areButtonsEnabled --> false
1335797008381: disabling buttons ...
1335797008381: took picture disableButtonsR
1335797008381: areButtonsEnabled --> false
1335797008407: one more takeNum: 5
1335797008408: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=11 getGood=10 getBad=1 getTimedout=0 getPercent=90%
1335797008408: Clicked take picture button ..
1335797009229: Received UDP payload: 5653
1335797009230: mux: Inside mux Packet.CLIENT_REQUEST
1335797009230: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797009230: inside handleClientRequest. Originator leader of region 3
1335797009231: got new request, requestCounter = 5013039
1335797009231: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797009231: Sending PROC_REQUEST 10:19 (3,0)->(3,0)
1335797009231: Dispatching Atom PROC_REQUEST 10:19 (3,0)->(3,0)
1335797009232: mux: I got a CSM packet at a leader 

1335797009277: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797009278: I'm a leader and I successfully saved my client's new photo
1335797009278: now showing in UI the new photo I just saved ... 
1335797009278: the photo length: 5006
1335797009383: end of server show photo aside %%%%%%%%%
1335797009231: Note down new request by adding requestCounter=5013039 to HashMap processedRequests
1335797009231: Make FirstLeg Ack regardless of new or already-processed requests
1335797009232: The leader sending a First Leg ack to originator client (which id = 5013)
1335797009232: inside sendPacket(Packet p)
1335797009233: Sending UDP payload: 6017
1335797009244: removed replies before id 19 from sentReplies of size 0
1335797009245: inside handleDSMRequest. At requests's remote leader of region 3
1335797009245: Inside UPLOAD_PHOTO!!
1335797009246: my_gpinfo.isSuccess is now (should be true): true
1335797009246: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797009247: Received PROC_REQUEST 10:19 (3,0)->(3,0), replying PROC_REPLY 10:19 (3,0)->(3,0)
1335797009248: Dispatching Atom PROC_REPLY 10:19 (3,0)->(3,0)
1335797009264: mux: I got a CSM packet at a leader 

1335797009248: Sending UDP payload: 446
1335797009265: Sending UDP payload: 989
1335797009266: Received PROC_REPLY 10:19 (3,0)->(3,0), handing to UserApp
1335797009267: inside handleDSMReply. Now back in originator leader of region 3
1335797009267: DSM layer: Going to and from remote region took latency = 36
1335797009267: DSM layer: orig leader sent packet at 1335797009231 ~ received reply from remote leader at 1335797009267
1335797009269: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797009269: change leader replyCounter to: 45
1335797009269: reply packet contains the success info for UPLOAD_PHOTO
1335797009269: inside sendReplies of replyCount = 500500045
1335797009269: =======================
1335797009270: inside sendReplyRepeatingRunnable for replyCount = 500500045
1335797009270: Leader about to send REPLY packet, number: 500500045 type: 16 Leader in region: (3,0) to Client nodID: 5013
1335797009270: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335797009270: inside sendPacket(Packet p)
1335797009270: === Finished one round of sending REPLY Packet =======
1335797009271: Sending UDP payload: 642
1335797009465: Received UDP payload: 625
1335797009470: mux: Inside mux Packet.CLIENT_REQUEST
1335797009482: Received UDP payload: 989
1335797009486: mux: GOT CSM_Msg
1335797009487: forwarding disabled, not forwarding packets
1335797009570: =======================
1335797009570: inside sendReplyRepeatingRunnable for replyCount = 500500045
1335797009570: Leader about to send REPLY packet, number: 500500045 type: 16 Leader in region: (3,0) to Client nodID: 5013
1335797009571: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335797009571: inside sendPacket(Packet p)
1335797009571: === Finished one round of sending REPLY Packet =======
1335797009582: Sending UDP payload: 642
1335797009625: Received UDP payload: 7585
1335797009629: mux: GOT CSM_Msg
1335797009629: forwarding disabled, not forwarding packets
1335797009641: Received UDP payload: 446
1335797009644: mux: Inside mux Packet.CLIENT_REQUEST
1335797009644: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797009645: inside handleClientRequest. Originator leader of region 3
1335797009645: got new request, requestCounter = 5013041
1335797009645: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500045
1335797009646: Yay the last leg succeeded. Removing reply runnables ...
1335797009646: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500045
1335797009646: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500045
1335797009647: do not send ack for received final_leg_ack
1335797009755: Received UDP payload: 625
1335797009758: mux: Inside mux Packet.CLIENT_REQUEST
1335797009764: Received UDP payload: 446
1335797009767: mux: Inside Packet.SERVER_REPLY
1335797009767: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797009891: inside HandlePictureStorage onPictureTaken()
1335797009892: one more takeCamGood: 5
1335797009893: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=11 getGood=10 getBad=1 getTimedout=0 getPercent=90%
1335797010155: Picture successfully taken, ORIG BYTE LENGTH = 2840609
1335797010436: Our new height x width: 306 x 408
1335797010436: Show photo from handle my camera take
1335797010436: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335797010436: change local requestCounter to 31
1335797010451: BYTE SIZE AFTER COMPRESSION: 5410
1335797010457: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5005031 Client in region: 3 Client nodID: 5005
1335797009879: Received UDP payload: 446
1335797010137: Received UDP payload: 6286
1335797010140: mux: Inside mux Packet.CLIENT_REQUEST
1335797010234: Received UDP payload: 6650
1335797010238: mux: GOT CSM_Msg
1335797010239: forwarding disabled, not forwarding packets
1335797010244: Received UDP payload: 446
1335797010246: mux: Inside Packet.SERVER_REPLY
1335797010246: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797010258: Received UDP payload: 989
1335797010260: mux: GOT CSM_Msg
1335797010260: forwarding disabled, not forwarding packets
1335797010269: Received UDP payload: 642
1335797010271: mux: Inside Packet.SERVER_REPLY
1335797010271: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797010281: Received UDP payload: 989
1335797010283: mux: GOT CSM_Msg
1335797010283: forwarding disabled, not forwarding packets
1335797010289: Received UDP payload: 446
1335797010290: mux: Inside mux Packet.CLIENT_REQUEST
1335797010392: Received UDP payload: 989
1335797010394: mux: GOT CSM_Msg
1335797010395: forwarding disabled, not forwarding packets
1335797010405: Received UDP payload: 989
1335797010407: mux: GOT CSM_Msg
1335797010407: forwarding disabled, not forwarding packets
1335797010484: ----------------------------
1335797010486: inside sendRequestPacketRepeatingRunnable for requestCount = 5005031
1335797010487: I'm a leader, my requesting photos packet going to mux directly
1335797010495: --- Finished one round of sending REQUEST Packet ---------
1335797010487: mux: Inside mux Packet.CLIENT_REQUEST
1335797010487: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797010531: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797010487: inside handleClientRequest. Originator leader of region 3
1335797010487: got new request, requestCounter = 5005031
1335797010487: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797010488: Sending PROC_REQUEST 10:20 (3,0)->(3,0)
1335797010488: Dispatching Atom PROC_REQUEST 10:20 (3,0)->(3,0)
1335797010488: mux: I got a CSM packet at a leader 

1335797010532: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797010533: I'm a leader and I successfully saved my client's new photo
1335797010534: now showing in UI the new photo I just saved ... 
1335797010534: the photo length: 5410
1335797010572: end of server show photo aside %%%%%%%%%
1335797010488: Note down new request by adding requestCounter=5005031 to HashMap processedRequests
1335797010488: Make FirstLeg Ack regardless of new or already-processed requests
1335797010488: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797010494: Sending UDP payload: 6421
1335797010499: removed replies before id 20 from sentReplies of size 0
1335797010504: inside handleDSMRequest. At requests's remote leader of region 3
1335797010508: Inside UPLOAD_PHOTO!!
1335797010514: my_gpinfo.isSuccess is now (should be true): true
1335797010514: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797010523: Received PROC_REQUEST 10:20 (3,0)->(3,0), replying PROC_REPLY 10:20 (3,0)->(3,0)
1335797010523: Dispatching Atom PROC_REPLY 10:20 (3,0)->(3,0)
1335797010524: mux: I got a CSM packet at a leader 

1335797010576: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335797010577: disabling progressdialog due to successful new photo upload
1335797010577: Inside _enableButtons
1335797010577: areButtonsEnabled --> true
1335797010577: send final leg ack regardless of new or already-processed reply
1335797010578: inside finalLegAck: change requestCounter to 32
1335797010578: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005032 Client in region: (3,0) Client nodID: 5005
1335797010578: I'm a leader client, my final_leg packet going to mux directly
1335797010580: new client_upload_photo_ack reply with replyCounter 500500046
1335797010580: note down new reply by adding replyCounter=500500046 to HashMap processedReplies
1335797010580: leader upload new photo latency = 89
1335797010580: = leader upload start 1335797010487 ~ stop 1335797010576
1335797010583: one more takeGoodSave: 5
1335797010584: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=10 getBad=1 getTimedout=0 getPercent=90%
1335797010584: SUCCESS Client now knows saving photo on its leader succeeded
1335797010525: Sending UDP payload: 989
1335797010526: Received PROC_REPLY 10:20 (3,0)->(3,0), handing to UserApp
1335797010526: inside handleDSMReply. Now back in originator leader of region 3
1335797010526: DSM layer: Going to and from remote region took latency = 39
1335797010526: DSM layer: orig leader sent packet at 1335797010487 ~ received reply from remote leader at 1335797010526
1335797010527: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797010527: change leader replyCounter to: 46
1335797010527: reply packet contains the success info for UPLOAD_PHOTO
1335797010527: inside sendReplies of replyCount = 500500046
1335797010527: =======================
1335797010527: inside sendReplyRepeatingRunnable for replyCount = 500500046
1335797010527: Leader about to send REPLY packet, number: 500500046 type: 16 Leader in region: (3,0) to Client nodID: 5005
1335797010527: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797010528: === Finished one round of sending REPLY Packet =======
1335797010578: mux: Inside mux Packet.CLIENT_REQUEST
1335797010578: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797010579: inside handleClientRequest. Originator leader of region 3
1335797010579: got new request, requestCounter = 5005032
1335797010579: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500046
1335797010579: Yay the last leg succeeded. Removing reply runnables ...
1335797010579: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500046
1335797010579: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500046
1335797010579: do not send ack for received final_leg_ack
1335797010813: Received UDP payload: 446
1335797010818: mux: Inside mux Packet.CLIENT_REQUEST
1335797011074: Received UDP payload: 989
1335797011088: mux: GOT CSM_Msg
1335797011088: forwarding disabled, not forwarding packets
1335797011179: Received UDP payload: 989
1335797011187: mux: GOT CSM_Msg
1335797011187: forwarding disabled, not forwarding packets
1335797011278: Received UDP payload: 989
1335797011288: mux: GOT CSM_Msg
1335797011288: forwarding disabled, not forwarding packets
1335797011380: Received UDP payload: 989
1335797011388: mux: GOT CSM_Msg
1335797011389: forwarding disabled, not forwarding packets
1335797011480: Received UDP payload: 989
1335797011488: mux: GOT CSM_Msg
1335797011488: forwarding disabled, not forwarding packets
1335797011582: Received UDP payload: 989
1335797011589: mux: GOT CSM_Msg
1335797011589: forwarding disabled, not forwarding packets
1335797011681: Received UDP payload: 989
1335797011689: mux: GOT CSM_Msg
1335797011690: forwarding disabled, not forwarding packets
1335797011819: Received UDP payload: 989
1335797011825: mux: GOT CSM_Msg
1335797011826: forwarding disabled, not forwarding packets
1335797011844: Received UDP payload: 446
1335797011882: Received UDP payload: 989
1335797011892: mux: GOT CSM_Msg
1335797011893: forwarding disabled, not forwarding packets
1335797011985: Received UDP payload: 989
1335797011992: mux: GOT CSM_Msg
1335797011992: forwarding disabled, not forwarding packets
1335797012063: inside sendPacket(Packet p)
1335797012075: Sending UDP payload: 446
1335797012113: Received UDP payload: 989
1335797012115: mux: GOT CSM_Msg
1335797012115: forwarding disabled, not forwarding packets
1335797012201: Received UDP payload: 989
1335797012205: mux: GOT CSM_Msg
1335797012205: forwarding disabled, not forwarding packets
1335797012245: Received UDP payload: 989
1335797012249: mux: GOT CSM_Msg
1335797012250: forwarding disabled, not forwarding packets
1335797012310: Received UDP payload: 4947
1335797012315: mux: GOT CSM_Msg
1335797012315: forwarding disabled, not forwarding packets
1335797012427: Received UDP payload: 989
1335797012431: mux: GOT CSM_Msg
1335797012432: forwarding disabled, not forwarding packets
1335797012630: Received UDP payload: 4728
1335797012634: mux: Inside mux Packet.CLIENT_REQUEST
1335797012651: Received UDP payload: 446
1335797012767: Received UDP payload: 7047
1335797012771: mux: Inside mux Packet.CLIENT_REQUEST
1335797012771: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797012772: inside handleClientRequest. Originator leader of region 3
1335797012772: got new request, requestCounter = 5008025
1335797012772: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797012773: Sending PROC_REQUEST 10:21 (3,0)->(3,0)
1335797012775: Dispatching Atom PROC_REQUEST 10:21 (3,0)->(3,0)
1335797012781: mux: I got a CSM packet at a leader 

1335797012841: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797012846: I'm a leader and I successfully saved my client's new photo
1335797012847: now showing in UI the new photo I just saved ... 
1335797012847: the photo length: 6400
1335797013028: end of server show photo aside %%%%%%%%%
1335797012779: Note down new request by adding requestCounter=5008025 to HashMap processedRequests
1335797012779: Make FirstLeg Ack regardless of new or already-processed requests
1335797012780: The leader sending a First Leg ack to originator client (which id = 5008)
1335797012780: inside sendPacket(Packet p)
1335797012797: Sending UDP payload: 7411
1335797012808: removed replies before id 21 from sentReplies of size 0
1335797012808: inside handleDSMRequest. At requests's remote leader of region 3
1335797012822: Inside UPLOAD_PHOTO!!
1335797012831: my_gpinfo.isSuccess is now (should be true): true
1335797012831: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797012956: Received PROC_REQUEST 10:21 (3,0)->(3,0), replying PROC_REPLY 10:21 (3,0)->(3,0)
1335797012958: Dispatching Atom PROC_REPLY 10:21 (3,0)->(3,0)
1335797013017: mux: I got a CSM packet at a leader 

1335797012960: Received UDP payload: 446
1335797013005: Sending UDP payload: 446
1335797013033: Sending UDP payload: 989
1335797013036: Received PROC_REPLY 10:21 (3,0)->(3,0), handing to UserApp
1335797013036: inside handleDSMReply. Now back in originator leader of region 3
1335797013037: DSM layer: Going to and from remote region took latency = 263
1335797013037: DSM layer: orig leader sent packet at 1335797012773 ~ received reply from remote leader at 1335797013036
1335797013042: Originator Region=3's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797013043: change leader replyCounter to: 47
1335797013043: reply packet contains the success info for UPLOAD_PHOTO
1335797013043: inside sendReplies of replyCount = 500500047
1335797013044: =======================
1335797013045: inside sendReplyRepeatingRunnable for replyCount = 500500047
1335797013045: Leader about to send REPLY packet, number: 500500047 type: 16 Leader in region: (3,0) to Client nodID: 5008
1335797013045: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335797013046: inside sendPacket(Packet p)
1335797013046: === Finished one round of sending REPLY Packet =======
1335797013064: Sending UDP payload: 642
1335797013085: Received UDP payload: 446
1335797013089: mux: Inside mux Packet.CLIENT_REQUEST
1335797013089: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797013090: inside handleClientRequest. Originator leader of region 3
1335797013090: got new request, requestCounter = 5008026
1335797013091: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500047
1335797013091: Yay the last leg succeeded. Removing reply runnables ...
1335797013091: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500047
1335797013092: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500047
1335797013092: do not send ack for received final_leg_ack
1335797013244: Received UDP payload: 4728
1335797013246: mux: Inside mux Packet.CLIENT_REQUEST
1335797013248: Received UDP payload: 446
1335797013341: Received UDP payload: 446
1335797013343: mux: Inside Packet.SERVER_REPLY
1335797013343: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797013350: Received UDP payload: 989
1335797013354: mux: GOT CSM_Msg
1335797013354: forwarding disabled, not forwarding packets
1335797013359: Received UDP payload: 642
1335797013361: mux: Inside Packet.SERVER_REPLY
1335797013361: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797013397: Received UDP payload: 446
1335797013398: mux: Inside mux Packet.CLIENT_REQUEST
1335797013525: Received UDP payload: 446
1335797014831: Received UDP payload: 446
1335797016806: Received UDP payload: 446
1335797017063: inside sendPacket(Packet p)
1335797017067: Sending UDP payload: 446
1335797017809: Received UDP payload: 446
1335797018180: Received UDP payload: 446
1335797018186: heard LEADER_REQUEST from node 5017, responding LEADER_REPLY
1335797018312: inside sendPacket(Packet p)
1335797018322: Sending UDP payload: 49097
1335797018499: Received UDP payload: 989
1335797018501: mux: GOT CSM_Msg
1335797018501: forwarding disabled, not forwarding packets
1335797018515: Received UDP payload: 446
1335797018516: mux: Inside Packet.SERVER_REPLY
1335797018516: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797018528: Received UDP payload: 446
1335797018529: heard LEADER_REQUEST from node 5017, responding LEADER_REPLY
1335797018608: inside sendPacket(Packet p)
1335797018618: Sending UDP payload: 49097
1335797018964: Received UDP payload: 4405
1335797018967: mux: GOT CSM_Msg
1335797018967: forwarding disabled, not forwarding packets
1335797019336: Received UDP payload: 4058
1335797019338: mux: Inside Packet.SERVER_REPLY
1335797019338: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797019649: Received UDP payload: 4058
1335797019654: mux: Inside Packet.SERVER_REPLY
1335797019655: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797019815: Received UDP payload: 5338
1335797019819: mux: Inside mux Packet.CLIENT_REQUEST
1335797019819: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797019820: inside handleClientRequest. Originator leader of region 3
1335797019820: got new request, requestCounter = 5013042
1335797019820: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797019821: Sending PROC_REQUEST 10:22 (3,0)->(3,0)
1335797019823: Dispatching Atom PROC_REQUEST 10:22 (3,0)->(3,0)
1335797019825: mux: I got a CSM packet at a leader 

1335797019889: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797019892: I'm a leader and I successfully saved my client's new photo
1335797019892: now showing in UI the new photo I just saved ... 
1335797019893: the photo length: 4691
1335797019953: end of server show photo aside %%%%%%%%%
1335797019823: Note down new request by adding requestCounter=5013042 to HashMap processedRequests
1335797019823: Make FirstLeg Ack regardless of new or already-processed requests
1335797019824: The leader sending a First Leg ack to originator client (which id = 5013)
1335797019824: inside sendPacket(Packet p)
1335797019839: Received UDP payload: 446
1335797019840: Sending UDP payload: 5702
1335797019845: removed replies before id 22 from sentReplies of size 0
1335797019846: inside handleDSMRequest. At requests's remote leader of region 3
1335797019848: Inside UPLOAD_PHOTO!!
1335797019857: my_gpinfo.isSuccess is now (should be true): true
1335797019857: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797019861: Received PROC_REQUEST 10:22 (3,0)->(3,0), replying PROC_REPLY 10:22 (3,0)->(3,0)
1335797019862: Dispatching Atom PROC_REPLY 10:22 (3,0)->(3,0)
1335797019938: mux: I got a CSM packet at a leader 

1335797019937: Sending UDP payload: 446
1335797019944: Sending UDP payload: 989
1335797019945: Received PROC_REPLY 10:22 (3,0)->(3,0), handing to UserApp
1335797019945: inside handleDSMReply. Now back in originator leader of region 3
1335797019945: DSM layer: Going to and from remote region took latency = 124
1335797019945: DSM layer: orig leader sent packet at 1335797019821 ~ received reply from remote leader at 1335797019945
1335797019947: Originator Region=3's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797019947: change leader replyCounter to: 48
1335797019947: reply packet contains the success info for UPLOAD_PHOTO
1335797019947: inside sendReplies of replyCount = 500500048
1335797019948: =======================
1335797019948: inside sendReplyRepeatingRunnable for replyCount = 500500048
1335797019948: Leader about to send REPLY packet, number: 500500048 type: 16 Leader in region: (3,0) to Client nodID: 5013
1335797019948: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335797019948: inside sendPacket(Packet p)
1335797019948: === Finished one round of sending REPLY Packet =======
1335797019955: Sending UDP payload: 642
1335797019983: Received UDP payload: 4058
1335797019992: mux: Inside Packet.SERVER_REPLY
1335797019992: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797020034: Received UDP payload: 446
1335797020036: mux: Inside mux Packet.CLIENT_REQUEST
1335797020248: =======================
1335797020249: inside sendReplyRepeatingRunnable for replyCount = 500500048
1335797020249: Leader about to send REPLY packet, number: 500500048 type: 16 Leader in region: (3,0) to Client nodID: 5013
1335797020249: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335797020249: inside sendPacket(Packet p)
1335797020249: === Finished one round of sending REPLY Packet =======
1335797020250: Sending UDP payload: 642
1335797020452: Received UDP payload: 446
1335797020454: heard LEADER_REQUEST from node 5017, responding LEADER_REPLY
1335797020632: inside sendPacket(Packet p)
1335797020646: Sending UDP payload: 47388
1335797020652: =======================
1335797020652: inside sendReplyRepeatingRunnable for replyCount = 500500048
1335797020653: Leader about to send REPLY packet, number: 500500048 type: 16 Leader in region: (3,0) to Client nodID: 5013
1335797020653: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335797020653: inside sendPacket(Packet p)
1335797020653: === Finished one round of sending REPLY Packet =======
1335797020655: Sending UDP payload: 642
1335797020742: Received UDP payload: 446
1335797020745: heard LEADER_REQUEST from node 5017, responding LEADER_REPLY
1335797020765: Received UDP payload: 446
1335797020768: mux: Inside mux Packet.CLIENT_REQUEST
1335797020768: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797020768: inside handleClientRequest. Originator leader of region 3
1335797020768: got new request, requestCounter = 5013043
1335797020768: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500048
1335797020769: Yay the last leg succeeded. Removing reply runnables ...
1335797020769: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500048
1335797020769: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500048
1335797020769: do not send ack for received final_leg_ack
1335797020936: inside sendPacket(Packet p)
1335797020952: Sending UDP payload: 47388
1335797021197: Received UDP payload: 989
1335797021210: mux: GOT CSM_Msg
1335797021211: removed replies before id 8 from sentReplies of size 0
1335797021212: inside handleDSMRequest. At requests's remote leader of region 3
1335797021213: INSIDE SERVER_GET_PHOTO!!!
1335797021224: Received PROC_REQUEST 11:8 (2,0)->(3,0), replying PROC_REPLY 11:8 (3,0)->(2,0)
1335797021226: Dispatching Atom PROC_REPLY 11:8 (3,0)->(2,0)
1335797021227: mux: I got a CSM packet at a leader 

1335797021230: Sending UDP payload: 5702
1335797021232: forwarding disabled, not forwarding packets
1335797021545: Received UDP payload: 446
1335797021549: mux: Inside mux Packet.CLIENT_REQUEST
1335797021549: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797021550: inside handleClientRequest. Originator leader of region 3
1335797021550: got new request, requestCounter = 5013045
1335797021551: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500048
1335797021551: Yay the last leg succeeded. Removing reply runnables ...
1335797021551: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500048
1335797021552: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500048
1335797021552: do not send ack for received final_leg_ack
1335797021975: Received UDP payload: 989
1335797021981: mux: GOT CSM_Msg
1335797021981: removed replies before id 8 from sentReplies of size 1
1335797021983: Received DUPLICATE PROC_REQUEST 11:8 (2,0)->(3,0), replying PROC_REPLY 11:8 (3,0)->(2,0)
1335797021984: Dispatching Atom PROC_REPLY 11:8 (3,0)->(2,0)
1335797021985: mux: I got a CSM packet at a leader 

1335797022002: Sending UDP payload: 5702
1335797022003: forwarding disabled, not forwarding packets
1335797022065: inside sendPacket(Packet p)
1335797022066: Sending UDP payload: 446
1335797022082: Received UDP payload: 989
1335797022084: mux: GOT CSM_Msg
1335797022084: removed replies before id 8 from sentReplies of size 1
1335797022085: Received DUPLICATE PROC_REQUEST 11:8 (2,0)->(3,0), replying PROC_REPLY 11:8 (3,0)->(2,0)
1335797022085: Dispatching Atom PROC_REPLY 11:8 (3,0)->(2,0)
1335797022085: mux: I got a CSM packet at a leader 

1335797022086: Sending UDP payload: 5702
1335797022087: forwarding disabled, not forwarding packets
1335797022180: Received UDP payload: 989
1335797022182: mux: GOT CSM_Msg
1335797022182: removed replies before id 8 from sentReplies of size 1
1335797022183: Received DUPLICATE PROC_REQUEST 11:8 (2,0)->(3,0), replying PROC_REPLY 11:8 (3,0)->(2,0)
1335797022183: Dispatching Atom PROC_REPLY 11:8 (3,0)->(2,0)
1335797022183: mux: I got a CSM packet at a leader 

1335797022184: Sending UDP payload: 5702
1335797022185: forwarding disabled, not forwarding packets
1335797022780: Received UDP payload: 446
1335797022791: Received UDP payload: 989
1335797022799: mux: GOT CSM_Msg
1335797022799: forwarding disabled, not forwarding packets
1335797022815: Received UDP payload: 989
1335797022827: mux: GOT CSM_Msg
1335797022828: forwarding disabled, not forwarding packets
1335797022904: Received UDP payload: 446
1335797023335: Received UDP payload: 625
1335797023344: mux: Inside mux Packet.CLIENT_REQUEST
1335797023340: Received UDP payload: 446
1335797023365: Received UDP payload: 989
1335797023372: mux: GOT CSM_Msg
1335797023372: forwarding disabled, not forwarding packets
1335797023373: Received UDP payload: 446
1335797023376: mux: Inside Packet.SERVER_REPLY
1335797023377: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797023411: Received UDP payload: 446
1335797023458: Received UDP payload: 4405
1335797023460: mux: GOT CSM_Msg
1335797023460: forwarding disabled, not forwarding packets
1335797023501: Received UDP payload: 446
1335797023888: Received UDP payload: 446
1335797023926: Received UDP payload: 989
1335797023928: mux: GOT CSM_Msg
1335797023929: forwarding disabled, not forwarding packets
1335797024016: Received UDP payload: 4405
1335797024022: mux: GOT CSM_Msg
1335797024022: forwarding disabled, not forwarding packets
1335797024095: Received UDP payload: 989
1335797024097: mux: GOT CSM_Msg
1335797024097: forwarding disabled, not forwarding packets
1335797024119: canPressButton = TRUE
1335797024120: areButtonsEnabled --> false 
1335797024120: get picture disableButtonsR
1335797024121: areButtonsEnabled --> false
1335797024174: one more getNum: 12
1335797024175: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=10 getBad=1 getTimedout=0 getPercent=83%
1335797024176: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335797024176: change local requestCounter to 33
1335797024179: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005033 Client in region: 3 Client nodID: 5005
1335797024117: Received UDP payload: 446
1335797024247: ----------------------------
1335797024247: inside sendRequestPacketRepeatingRunnable for requestCount = 5005033
1335797024248: I'm a leader, my requesting photos packet going to mux directly
1335797024257: --- Finished one round of sending REQUEST Packet ---------
1335797024188: Received UDP payload: 4405
1335797024190: mux: GOT CSM_Msg
1335797024191: forwarding disabled, not forwarding packets
1335797024222: Received UDP payload: 989
1335797024227: mux: GOT CSM_Msg
1335797024227: forwarding disabled, not forwarding packets
1335797024248: mux: Inside mux Packet.CLIENT_REQUEST
1335797024248: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797024295: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797024248: inside handleClientRequest. Originator leader of region 3
1335797024248: got new request, requestCounter = 5005033
1335797024248: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797024251: Sending to region: 1
1335797024251: Sending PROC_REQUEST 11:8 (3,0)->(1,0)
1335797024251: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797024252: mux: I got a CSM packet at a leader 

1335797024251: Note down new request by adding requestCounter=5005033 to HashMap processedRequests
1335797024251: Make FirstLeg Ack regardless of new or already-processed requests
1335797024252: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797024265: Sending UDP payload: 989
1335797024265: forwarding disabled, not forwarding packets
1335797024305: Received UDP payload: 989
1335797024310: mux: GOT CSM_Msg
1335797024310: forwarding disabled, not forwarding packets
1335797024418: Received UDP payload: 989
1335797024420: mux: GOT CSM_Msg
1335797024421: forwarding disabled, not forwarding packets
1335797024433: Received UDP payload: 446
1335797024434: Received UDP payload: 446
1335797024507: Received UDP payload: 989
1335797024509: mux: GOT CSM_Msg
1335797024510: forwarding disabled, not forwarding packets
1335797024717: Received UDP payload: 989
1335797024719: mux: GOT CSM_Msg
1335797024720: forwarding disabled, not forwarding packets
1335797024807: Received UDP payload: 989
1335797024809: mux: GOT CSM_Msg
1335797024809: forwarding disabled, not forwarding packets
1335797024827: Received UDP payload: 4405
1335797024833: mux: GOT CSM_Msg
1335797024834: forwarding disabled, not forwarding packets
1335797024852: Received UDP payload: 446
1335797024895: Received UDP payload: 4405
1335797024898: mux: GOT CSM_Msg
1335797024898: forwarding disabled, not forwarding packets
1335797025043: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025044: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025044: mux: I got a CSM packet at a leader 

1335797025046: Sending UDP payload: 989
1335797025046: forwarding disabled, not forwarding packets
1335797025145: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025145: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025146: mux: I got a CSM packet at a leader 

1335797025149: Sending UDP payload: 989
1335797025149: forwarding disabled, not forwarding packets
1335797025246: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025247: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025247: mux: I got a CSM packet at a leader 

1335797025250: Sending UDP payload: 989
1335797025251: forwarding disabled, not forwarding packets
1335797025302: Received UDP payload: 446
1335797025306: mux: Inside mux Packet.CLIENT_REQUEST
1335797025348: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025348: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025348: mux: I got a CSM packet at a leader 

1335797025349: Sending UDP payload: 989
1335797025350: forwarding disabled, not forwarding packets
1335797025449: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025450: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025450: mux: I got a CSM packet at a leader 

1335797025452: Sending UDP payload: 989
1335797025452: forwarding disabled, not forwarding packets
1335797025551: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025551: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025552: mux: I got a CSM packet at a leader 

1335797025553: Sending UDP payload: 989
1335797025554: forwarding disabled, not forwarding packets
1335797025652: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025653: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025653: mux: I got a CSM packet at a leader 

1335797025656: Sending UDP payload: 989
1335797025657: forwarding disabled, not forwarding packets
1335797025754: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025755: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025755: mux: I got a CSM packet at a leader 

1335797025758: Sending UDP payload: 989
1335797025760: forwarding disabled, not forwarding packets
1335797025857: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025857: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025858: mux: I got a CSM packet at a leader 

1335797025860: Sending UDP payload: 989
1335797025861: forwarding disabled, not forwarding packets
1335797025958: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025958: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797025959: mux: I got a CSM packet at a leader 

1335797025960: Sending UDP payload: 989
1335797025961: forwarding disabled, not forwarding packets
1335797026059: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797026060: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797026060: mux: I got a CSM packet at a leader 

1335797026062: Sending UDP payload: 989
1335797026063: forwarding disabled, not forwarding packets
1335797026161: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797026161: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797026162: mux: I got a CSM packet at a leader 

1335797026163: Sending UDP payload: 989
1335797026164: forwarding disabled, not forwarding packets
1335797026262: Retrying PROC_REQUEST 11:8 (3,0)->(1,0)
1335797026262: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(1,0)
1335797026263: mux: I got a CSM packet at a leader 

1335797026264: Sending UDP payload: 989
1335797026265: forwarding disabled, not forwarding packets
1335797026363: DSM Layer: Request timed out, send failure PROC_REPLY 11:8 (1,0)->(3,0)
1335797026364: Dispatching Atom PROC_REPLY 11:8 (1,0)->(3,0)
1335797026364: mux: I got a CSM packet at a leader 

1335797026370: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797026370: disabling progressdialog due to successful new photo get
1335797026371: Inside _enableButtons
1335797026372: areButtonsEnabled --> true
1335797026372: send final leg ack regardless of new or already-processed reply
1335797026372: inside finalLegAck: change requestCounter to 34
1335797026372: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005034 Client in region: (3,0) Client nodID: 5005
1335797026373: I'm a leader client, my final_leg packet going to mux directly
1335797026375: new client_show_remotephoto reply with replyCounter 500500049
1335797026375: note down new reply by adding replyCounter=500500049 to HashMap processedReplies
1335797026375: leader download remote photo latency = 2122
1335797026376: = leader download start 1335797024248 ~ stop 1335797026370
1335797026379: Can't get remote photo, because DSM Layer on originator leader timed out
1335797026383: one more getBad: 2
1335797026384: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=10 getBad=2 getTimedout=0 getPercent=83%
1335797026384: getBad++
1335797026366: Sending UDP payload: 989
1335797026366: Received PROC_REPLY 11:8 (1,0)->(3,0), handing to UserApp
1335797026367: inside handleDSMReply. Now back in originator leader of region 3
1335797026367: DSM layer timed out, don't log dsm layer latency stuff.
1335797026368: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797026368: change leader replyCounter to: 49
1335797026368: reply packet contains the newest photo/success info from the remote region
1335797026368: inside sendReplies of replyCount = 500500049
1335797026368: =======================
1335797026368: inside sendReplyRepeatingRunnable for replyCount = 500500049
1335797026369: Leader about to send REPLY packet, number: 500500049 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335797026369: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797026369: === Finished one round of sending REPLY Packet =======
1335797026373: mux: Inside mux Packet.CLIENT_REQUEST
1335797026373: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797026373: inside handleClientRequest. Originator leader of region 3
1335797026373: got new request, requestCounter = 5005034
1335797026374: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500049
1335797026374: Yay the last leg succeeded. Removing reply runnables ...
1335797026374: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500049
1335797026374: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500049
1335797026374: do not send ack for received final_leg_ack
1335797026652: Received UDP payload: 6650
1335797026654: mux: GOT CSM_Msg
1335797026655: Received DUPLICATE PROC_REPLY 11:8 (1,0)->(3,0)
1335797026746: Received UDP payload: 6650
1335797026748: mux: GOT CSM_Msg
1335797026748: Received DUPLICATE PROC_REPLY 11:8 (1,0)->(3,0)
1335797026829: Received UDP payload: 6650
1335797026831: mux: GOT CSM_Msg
1335797026831: Received DUPLICATE PROC_REPLY 11:8 (1,0)->(3,0)
1335797026934: Received UDP payload: 6650
1335797026936: mux: GOT CSM_Msg
1335797026936: Received DUPLICATE PROC_REPLY 11:8 (1,0)->(3,0)
1335797027019: leader to cloud hearbeat...
1335797027057: Received UDP payload: 6650
1335797027060: mux: GOT CSM_Msg
1335797027060: Received DUPLICATE PROC_REPLY 11:8 (1,0)->(3,0)
1335797027152: Received UDP payload: 6650
1335797027155: mux: GOT CSM_Msg
1335797027155: Received DUPLICATE PROC_REPLY 11:8 (1,0)->(3,0)
1335797027168: Received UDP payload: 4405
1335797027172: mux: GOT CSM_Msg
1335797027172: forwarding disabled, not forwarding packets
1335797027297: Received UDP payload: 4405
1335797027299: mux: GOT CSM_Msg
1335797027299: forwarding disabled, not forwarding packets
1335797027401: Received UDP payload: 6650
1335797027403: mux: GOT CSM_Msg
1335797027404: Received DUPLICATE PROC_REPLY 11:8 (1,0)->(3,0)
1335797027660: Received UDP payload: 446
1335797027686: Received UDP payload: 6650
1335797027688: mux: GOT CSM_Msg
1335797027688: Received DUPLICATE PROC_REPLY 11:8 (1,0)->(3,0)
1335797027787: Received UDP payload: 6650
1335797027789: mux: GOT CSM_Msg
1335797027789: Received DUPLICATE PROC_REPLY 11:8 (1,0)->(3,0)
1335797027792: Received UDP payload: 446
1335797027885: Received UDP payload: 625
1335797027886: mux: Inside mux Packet.CLIENT_REQUEST
1335797027891: Received UDP payload: 625
1335797027892: mux: Inside mux Packet.CLIENT_REQUEST
1335797027897: Received UDP payload: 625
1335797027898: mux: Inside mux Packet.CLIENT_REQUEST
1335797027917: Received UDP payload: 625
1335797027918: mux: Inside mux Packet.CLIENT_REQUEST
1335797027924: Received UDP payload: 989
1335797027926: mux: GOT CSM_Msg
1335797027926: forwarding disabled, not forwarding packets
1335797027934: Received UDP payload: 446
1335797027935: mux: Inside Packet.SERVER_REPLY
1335797027936: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797027954: Received UDP payload: 446
1335797027955: mux: Inside Packet.SERVER_REPLY
1335797027956: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797028012: Received UDP payload: 5092
1335797028015: mux: GOT CSM_Msg
1335797028015: forwarding disabled, not forwarding packets
1335797028020: Received UDP payload: 446
1335797028021: mux: Inside Packet.SERVER_REPLY
1335797028021: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797028028: Received UDP payload: 446
1335797028029: mux: Inside Packet.SERVER_REPLY
1335797028029: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797028249: Received UDP payload: 463
1335797028356: Received UDP payload: 4745
1335797028357: mux: Inside Packet.SERVER_REPLY
1335797028357: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797028451: Received UDP payload: 6206
1335797028453: mux: GOT CSM_Msg
1335797028474: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797028478: I'm a leader and I successfully saved my client's new photo
1335797028482: now showing in UI the new photo I just saved ... 
1335797028482: the photo length: 5195
1335797028588: end of server show photo aside %%%%%%%%%
1335797028453: removed replies before id 0 from sentReplies of size 2
1335797028454: inside handleDSMRequest. At requests's remote leader of region 3
1335797028454: Inside UPLOAD_PHOTO!!
1335797028456: my_gpinfo.isSuccess is now (should be true): true
1335797028456: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797028457: Received PROC_REQUEST 10:0 (3,0)->(3,0), replying PROC_REPLY 10:0 (3,0)->(3,0)
1335797028458: Dispatching Atom PROC_REPLY 10:0 (3,0)->(3,0)
1335797028458: mux: I got a CSM packet at a leader 

1335797028459: Sending UDP payload: 989
1335797028461: Received DUPLICATE PROC_REPLY 10:0 (3,0)->(3,0)
1335797028478: Received UDP payload: 446
1335797028564: Received UDP payload: 989
1335797028575: mux: GOT CSM_Msg
1335797028575: Received DUPLICATE PROC_REPLY 10:0 (3,0)->(3,0)
1335797028921: Received UDP payload: 4745
1335797028923: mux: Inside Packet.SERVER_REPLY
1335797028924: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797029370: inside sendPacket(Packet p)
1335797029408: Sending UDP payload: 446
1335797029830: Received UDP payload: 446
1335797029881: Received UDP payload: 625
1335797029895: mux: Inside mux Packet.CLIENT_REQUEST
1335797030180: Received UDP payload: 625
1335797030187: mux: Inside mux Packet.CLIENT_REQUEST
1335797030223: Received UDP payload: 989
1335797030231: mux: GOT CSM_Msg
1335797030231: forwarding disabled, not forwarding packets
1335797030234: Received UDP payload: 446
1335797030238: mux: Inside Packet.SERVER_REPLY
1335797030238: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797030966: Received UDP payload: 989
1335797030973: mux: GOT CSM_Msg
1335797030973: forwarding disabled, not forwarding packets
1335797031074: Received UDP payload: 989
1335797031081: mux: GOT CSM_Msg
1335797031081: forwarding disabled, not forwarding packets
1335797031157: Received UDP payload: 989
1335797031164: mux: GOT CSM_Msg
1335797031165: forwarding disabled, not forwarding packets
1335797031248: Received UDP payload: 989
1335797031256: mux: GOT CSM_Msg
1335797031256: forwarding disabled, not forwarding packets
1335797031348: Received UDP payload: 989
1335797031350: mux: GOT CSM_Msg
1335797031350: forwarding disabled, not forwarding packets
1335797031447: Received UDP payload: 989
1335797031451: mux: GOT CSM_Msg
1335797031451: forwarding disabled, not forwarding packets
1335797031552: Received UDP payload: 989
1335797031558: mux: GOT CSM_Msg
1335797031559: forwarding disabled, not forwarding packets
1335797031652: Received UDP payload: 989
1335797031661: mux: GOT CSM_Msg
1335797031661: forwarding disabled, not forwarding packets
1335797031758: Received UDP payload: 989
1335797031766: mux: GOT CSM_Msg
1335797031766: forwarding disabled, not forwarding packets
1335797031858: Received UDP payload: 989
1335797031875: mux: GOT CSM_Msg
1335797031875: forwarding disabled, not forwarding packets
1335797031961: Received UDP payload: 989
1335797031963: mux: GOT CSM_Msg
1335797031963: forwarding disabled, not forwarding packets
1335797031975: Received UDP payload: 7215
1335797031978: mux: Inside mux Packet.CLIENT_REQUEST
1335797032067: Received UDP payload: 989
1335797032071: mux: GOT CSM_Msg
1335797032071: forwarding disabled, not forwarding packets
1335797032166: Received UDP payload: 989
1335797032170: mux: GOT CSM_Msg
1335797032170: forwarding disabled, not forwarding packets
1335797032271: Received UDP payload: 989
1335797032275: mux: GOT CSM_Msg
1335797032275: forwarding disabled, not forwarding packets
1335797032373: Received UDP payload: 989
1335797032377: mux: GOT CSM_Msg
1335797032377: forwarding disabled, not forwarding packets
1335797032393: Received UDP payload: 642
1335797032396: mux: Inside Packet.SERVER_REPLY
1335797032396: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797032407: Received UDP payload: 446
1335797032410: mux: Inside mux Packet.CLIENT_REQUEST
1335797032581: Received UDP payload: 7215
1335797032586: mux: Inside mux Packet.CLIENT_REQUEST
1335797032617: Received UDP payload: 446
1335797032881: Received UDP payload: 7215
1335797032887: mux: Inside mux Packet.CLIENT_REQUEST
1335797033346: Received UDP payload: 446
1335797033397: Received UDP payload: 989
1335797033400: mux: GOT CSM_Msg
1335797033400: forwarding disabled, not forwarding packets
1335797033861: Received UDP payload: 625
1335797033862: mux: Inside mux Packet.CLIENT_REQUEST
1335797033912: Received UDP payload: 989
1335797033914: mux: GOT CSM_Msg
1335797033915: removed replies before id 9 from sentReplies of size 0
1335797033915: inside handleDSMRequest. At requests's remote leader of region 3
1335797033916: INSIDE SERVER_GET_PHOTO!!!
1335797033919: Received PROC_REQUEST 11:9 (2,0)->(3,0), replying PROC_REPLY 11:9 (3,0)->(2,0)
1335797033919: Dispatching Atom PROC_REPLY 11:9 (3,0)->(2,0)
1335797033920: mux: I got a CSM packet at a leader 

1335797033921: Sending UDP payload: 6206
1335797033955: Received UDP payload: 446
1335797033957: mux: Inside Packet.SERVER_REPLY
1335797033957: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797033956: forwarding disabled, not forwarding packets
1335797034105: Received UDP payload: 989
1335797034107: mux: GOT CSM_Msg
1335797034107: forwarding disabled, not forwarding packets
1335797034165: Received UDP payload: 625
1335797034166: mux: Inside mux Packet.CLIENT_REQUEST
1335797034197: Received UDP payload: 446
1335797034198: mux: Inside Packet.SERVER_REPLY
1335797034198: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797034217: Received UDP payload: 989
1335797034219: mux: GOT CSM_Msg
1335797034219: forwarding disabled, not forwarding packets
1335797034299: Received UDP payload: 989
1335797034301: mux: GOT CSM_Msg
1335797034301: forwarding disabled, not forwarding packets
1335797034395: inside sendPacket(Packet p)
1335797034395: Sending UDP payload: 446
1335797034399: Received UDP payload: 989
1335797034401: mux: GOT CSM_Msg
1335797034401: forwarding disabled, not forwarding packets
1335797034507: Received UDP payload: 989
1335797034509: mux: GOT CSM_Msg
1335797034509: forwarding disabled, not forwarding packets
1335797034603: Received UDP payload: 989
1335797034607: mux: GOT CSM_Msg
1335797034607: forwarding disabled, not forwarding packets
1335797034697: Received UDP payload: 989
1335797034703: mux: GOT CSM_Msg
1335797034704: removed replies before id 9 from sentReplies of size 1
1335797034705: Received DUPLICATE PROC_REQUEST 11:9 (2,0)->(3,0), replying PROC_REPLY 11:9 (3,0)->(2,0)
1335797034706: Dispatching Atom PROC_REPLY 11:9 (3,0)->(2,0)
1335797034707: mux: I got a CSM packet at a leader 

1335797034710: Sending UDP payload: 6206
1335797034718: Received UDP payload: 989
1335797034718: forwarding disabled, not forwarding packets
1335797034730: mux: GOT CSM_Msg
1335797034730: forwarding disabled, not forwarding packets
1335797034839: Received UDP payload: 446
1335797034871: Received UDP payload: 989
1335797034874: mux: GOT CSM_Msg
1335797034874: forwarding disabled, not forwarding packets
1335797034938: Received UDP payload: 989
1335797034941: mux: GOT CSM_Msg
1335797034941: forwarding disabled, not forwarding packets
1335797034974: Received UDP payload: 446
1335797034976: mux: Inside mux Packet.CLIENT_REQUEST
1335797035012: Received UDP payload: 989
1335797035016: mux: GOT CSM_Msg
1335797035016: forwarding disabled, not forwarding packets
1335797035116: Received UDP payload: 989
1335797035118: mux: GOT CSM_Msg
1335797035119: forwarding disabled, not forwarding packets
1335797035216: Received UDP payload: 989
1335797035219: mux: GOT CSM_Msg
1335797035219: forwarding disabled, not forwarding packets
1335797035343: Received UDP payload: 989
1335797035347: mux: GOT CSM_Msg
1335797035348: forwarding disabled, not forwarding packets
1335797035515: Received UDP payload: 989
1335797035519: mux: GOT CSM_Msg
1335797035520: Received DUPLICATE PROC_REPLY 11:0 (1,0)->(3,0)
1335797037287: Received UDP payload: 989
1335797037289: mux: GOT CSM_Msg
1335797037290: removed replies before id 10 from sentReplies of size 0
1335797037290: inside handleDSMRequest. At requests's remote leader of region 3
1335797037290: INSIDE SERVER_GET_PHOTO!!!
1335797037292: Received PROC_REQUEST 11:10 (2,0)->(3,0), replying PROC_REPLY 11:10 (3,0)->(2,0)
1335797037292: Dispatching Atom PROC_REPLY 11:10 (3,0)->(2,0)
1335797037292: mux: I got a CSM packet at a leader 

1335797037293: Sending UDP payload: 6206
1335797037303: forwarding disabled, not forwarding packets
1335797037592: Received UDP payload: 625
1335797037598: mux: Inside mux Packet.CLIENT_REQUEST
1335797037612: Received UDP payload: 989
1335797037624: mux: GOT CSM_Msg
1335797037625: forwarding disabled, not forwarding packets
1335797037625: Received UDP payload: 446
1335797037630: mux: Inside Packet.SERVER_REPLY
1335797037630: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797037729: canPressButton = TRUE
1335797037730: areButtonsEnabled --> false 
1335797037730: get picture disableButtonsR
1335797037731: areButtonsEnabled --> false
1335797037778: one more getNum: 13
1335797037780: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=10 getBad=2 getTimedout=0 getPercent=76%
1335797037781: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335797037782: change local requestCounter to 35
1335797037790: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005035 Client in region: 3 Client nodID: 5005
1335797037869: ----------------------------
1335797037870: inside sendRequestPacketRepeatingRunnable for requestCount = 5005035
1335797037871: I'm a leader, my requesting photos packet going to mux directly
1335797037883: --- Finished one round of sending REQUEST Packet ---------
1335797037872: mux: Inside mux Packet.CLIENT_REQUEST
1335797037872: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797037974: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797037873: inside handleClientRequest. Originator leader of region 3
1335797037873: got new request, requestCounter = 5005035
1335797037874: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797037875: Sending to region: 2
1335797037876: Sending PROC_REQUEST 11:9 (3,0)->(2,0)
1335797037877: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(2,0)
1335797037888: mux: I got a CSM packet at a leader 

1335797037878: Note down new request by adding requestCounter=5005035 to HashMap processedRequests
1335797037887: Make FirstLeg Ack regardless of new or already-processed requests
1335797037888: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797037892: Sending UDP payload: 989
1335797037893: forwarding disabled, not forwarding packets
1335797037919: Received UDP payload: 625
1335797037924: mux: Inside mux Packet.CLIENT_REQUEST
1335797037945: Received UDP payload: 446
1335797037949: mux: Inside Packet.SERVER_REPLY
1335797037950: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797038317: Received UDP payload: 989
1335797038326: mux: GOT CSM_Msg
1335797038326: forwarding disabled, not forwarding packets
1335797038345: Received UDP payload: 446
1335797038417: Received UDP payload: 989
1335797038420: mux: GOT CSM_Msg
1335797038420: forwarding disabled, not forwarding packets
1335797038520: Received UDP payload: 989
1335797038523: mux: GOT CSM_Msg
1335797038523: forwarding disabled, not forwarding packets
1335797038625: Received UDP payload: 989
1335797038630: mux: GOT CSM_Msg
1335797038630: forwarding disabled, not forwarding packets
1335797038677: Retrying PROC_REQUEST 11:9 (3,0)->(2,0)
1335797038678: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(2,0)
1335797038678: mux: I got a CSM packet at a leader 

1335797038712: Sending UDP payload: 989
1335797038713: forwarding disabled, not forwarding packets
1335797038760: Received UDP payload: 4394
1335797038762: mux: GOT CSM_Msg
1335797038762: forwarding disabled, not forwarding packets
1335797038779: Retrying PROC_REQUEST 11:9 (3,0)->(2,0)
1335797038779: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(2,0)
1335797038779: mux: I got a CSM packet at a leader 

1335797038780: Sending UDP payload: 989
1335797038781: forwarding disabled, not forwarding packets
1335797038860: Received UDP payload: 989
1335797038862: mux: GOT CSM_Msg
1335797038862: forwarding disabled, not forwarding packets
1335797038879: Retrying PROC_REQUEST 11:9 (3,0)->(2,0)
1335797038880: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(2,0)
1335797038880: mux: I got a CSM packet at a leader 

1335797038881: Sending UDP payload: 989
1335797038882: forwarding disabled, not forwarding packets
1335797038955: Received UDP payload: 989
1335797038957: mux: GOT CSM_Msg
1335797038957: forwarding disabled, not forwarding packets
1335797038980: Retrying PROC_REQUEST 11:9 (3,0)->(2,0)
1335797038981: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(2,0)
1335797038981: mux: I got a CSM packet at a leader 

1335797038982: Sending UDP payload: 989
1335797038983: forwarding disabled, not forwarding packets
1335797039010: Received UDP payload: 625
1335797039012: mux: Inside mux Packet.CLIENT_REQUEST
1335797039028: Received UDP payload: 989
1335797039030: mux: GOT CSM_Msg
1335797039030: forwarding disabled, not forwarding packets
1335797039050: Received UDP payload: 989
1335797039052: mux: GOT CSM_Msg
1335797039052: forwarding disabled, not forwarding packets
1335797039081: Retrying PROC_REQUEST 11:9 (3,0)->(2,0)
1335797039082: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(2,0)
1335797039082: mux: I got a CSM packet at a leader 

1335797039083: Sending UDP payload: 989
1335797039083: forwarding disabled, not forwarding packets
1335797039146: Received UDP payload: 5092
1335797039148: mux: GOT CSM_Msg
1335797039152: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797039153: disabling progressdialog due to successful new photo get
1335797039153: Inside _enableButtons
1335797039153: areButtonsEnabled --> true
1335797039153: send final leg ack regardless of new or already-processed reply
1335797039153: inside finalLegAck: change requestCounter to 36
1335797039154: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005036 Client in region: (3,0) Client nodID: 5005
1335797039155: I'm a leader client, my final_leg packet going to mux directly
1335797039157: new client_show_remotephoto reply with replyCounter 500500050
1335797039157: note down new reply by adding replyCounter=500500050 to HashMap processedReplies
1335797039157: leader download remote photo latency = 1280
1335797039158: = leader download start 1335797037872 ~ stop 1335797039152
1335797039160: one more getGood: 11
1335797039162: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=11 getBad=2 getTimedout=0 getPercent=84%
1335797039162: successful reply for client get photo
1335797039162: Success! Client getting photo from remote region, showing photo...
1335797039163: Remote photo's length: 4081
1335797039149: Received PROC_REPLY 11:9 (2,0)->(3,0), handing to UserApp
1335797039149: inside handleDSMReply. Now back in originator leader of region 3
1335797039149: DSM layer: Going to and from remote region took latency = 1273
1335797039149: DSM layer: orig leader sent packet at 1335797037876 ~ received reply from remote leader at 1335797039149
1335797039151: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797039151: change leader replyCounter to: 50
1335797039151: reply packet contains the newest photo/success info from the remote region
1335797039151: inside sendReplies of replyCount = 500500050
1335797039151: =======================
1335797039151: inside sendReplyRepeatingRunnable for replyCount = 500500050
1335797039151: Leader about to send REPLY packet, number: 500500050 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335797039152: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797039152: === Finished one round of sending REPLY Packet =======
1335797039155: mux: Inside mux Packet.CLIENT_REQUEST
1335797039155: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797039156: inside handleClientRequest. Originator leader of region 3
1335797039156: got new request, requestCounter = 5005036
1335797039156: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500050
1335797039156: Yay the last leg succeeded. Removing reply runnables ...
1335797039156: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500050
1335797039156: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500050
1335797039157: do not send ack for received final_leg_ack
1335797039305: Received UDP payload: 989
1335797039308: mux: GOT CSM_Msg
1335797039308: forwarding disabled, not forwarding packets
1335797039318: Received UDP payload: 989
1335797039320: mux: GOT CSM_Msg
1335797039320: forwarding disabled, not forwarding packets
1335797039332: Received UDP payload: 989
1335797039335: mux: GOT CSM_Msg
1335797039335: forwarding disabled, not forwarding packets
1335797039369: Received UDP payload: 625
1335797039370: mux: Inside mux Packet.CLIENT_REQUEST
1335797039378: Received UDP payload: 446
1335797039380: mux: Inside Packet.SERVER_REPLY
1335797039380: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797039394: inside sendPacket(Packet p)
1335797039395: Sending UDP payload: 446
1335797039436: Received UDP payload: 989
1335797039438: mux: GOT CSM_Msg
1335797039438: forwarding disabled, not forwarding packets
1335797039536: Received UDP payload: 989
1335797039538: mux: GOT CSM_Msg
1335797039538: forwarding disabled, not forwarding packets
1335797039637: Received UDP payload: 989
1335797039639: mux: GOT CSM_Msg
1335797039640: forwarding disabled, not forwarding packets
1335797040105: Received UDP payload: 625
1335797040107: mux: Inside mux Packet.CLIENT_REQUEST
1335797040107: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797040107: inside handleClientRequest. Originator leader of region 3
1335797040107: got new request, requestCounter = 5004039
1335797040107: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797040108: Sending to region: 2
1335797040109: Sending PROC_REQUEST 11:10 (3,0)->(2,0)
1335797040109: Dispatching Atom PROC_REQUEST 11:10 (3,0)->(2,0)
1335797040110: mux: I got a CSM packet at a leader 

1335797040109: Note down new request by adding requestCounter=5004039 to HashMap processedRequests
1335797040109: Make FirstLeg Ack regardless of new or already-processed requests
1335797040110: The leader sending a First Leg ack to originator client (which id = 5004)
1335797040110: inside sendPacket(Packet p)
1335797040123: Sending UDP payload: 989
1335797040124: forwarding disabled, not forwarding packets
1335797040125: Sending UDP payload: 446
1335797040134: Received UDP payload: 989
1335797040138: mux: GOT CSM_Msg
1335797040138: forwarding disabled, not forwarding packets
1335797040819: Retrying PROC_REQUEST 11:10 (3,0)->(2,0)
1335797040819: Dispatching Atom PROC_REQUEST 11:10 (3,0)->(2,0)
1335797040820: mux: I got a CSM packet at a leader 

1335797040826: Received UDP payload: 7222
1335797040829: Sending UDP payload: 989
1335797040842: mux: GOT CSM_Msg
1335797040892: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797040893: I'm a leader and I successfully saved my client's new photo
1335797040894: now showing in UI the new photo I just saved ... 
1335797040894: the photo length: 6211
1335797040940: end of server show photo aside %%%%%%%%%
1335797040841: Received UDP payload: 446
1335797040842: forwarding disabled, not forwarding packets
1335797040843: removed replies before id 1 from sentReplies of size 2
1335797040844: inside handleDSMRequest. At requests's remote leader of region 3
1335797040847: Inside UPLOAD_PHOTO!!
1335797040884: mux: Inside Packet.SERVER_REPLY
1335797040885: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797040878: Received UDP payload: 989
1335797040885: mux: GOT CSM_Msg
1335797040883: my_gpinfo.isSuccess is now (should be true): true
1335797040883: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797040884: Received PROC_REQUEST 10:1 (3,0)->(3,0), replying PROC_REPLY 10:1 (3,0)->(3,0)
1335797040884: Dispatching Atom PROC_REPLY 10:1 (3,0)->(3,0)
1335797040885: mux: I got a CSM packet at a leader 

1335797040885: Received DUPLICATE PROC_REPLY 10:1 (3,0)->(3,0)
1335797040886: Sending UDP payload: 989
1335797040887: Received DUPLICATE PROC_REPLY 10:1 (3,0)->(3,0)
1335797040931: Retrying PROC_REQUEST 11:10 (3,0)->(2,0)
1335797040931: Dispatching Atom PROC_REQUEST 11:10 (3,0)->(2,0)
1335797040933: mux: I got a CSM packet at a leader 

1335797040931: Received UDP payload: 642
1335797040935: mux: Inside Packet.SERVER_REPLY
1335797040935: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797040934: Sending UDP payload: 989
1335797040934: forwarding disabled, not forwarding packets
1335797040985: Received UDP payload: 989
1335797040987: mux: GOT CSM_Msg
1335797040987: forwarding disabled, not forwarding packets
1335797041025: Received UDP payload: 989
1335797041027: mux: GOT CSM_Msg
1335797041027: forwarding disabled, not forwarding packets
1335797041032: Retrying PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041032: Dispatching Atom PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041032: mux: I got a CSM packet at a leader 

1335797041033: Sending UDP payload: 989
1335797041034: forwarding disabled, not forwarding packets
1335797041079: Received UDP payload: 989
1335797041081: mux: GOT CSM_Msg
1335797041081: forwarding disabled, not forwarding packets
1335797041123: Received UDP payload: 642
1335797041124: mux: Inside Packet.SERVER_REPLY
1335797041125: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797041133: Retrying PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041133: Dispatching Atom PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041133: mux: I got a CSM packet at a leader 

1335797041135: Sending UDP payload: 989
1335797041135: forwarding disabled, not forwarding packets
1335797041178: Received UDP payload: 989
1335797041180: mux: GOT CSM_Msg
1335797041181: forwarding disabled, not forwarding packets
1335797041234: Retrying PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041234: Dispatching Atom PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041234: mux: I got a CSM packet at a leader 

1335797041235: Sending UDP payload: 989
1335797041236: forwarding disabled, not forwarding packets
1335797041252: Received UDP payload: 446
1335797041254: mux: Inside mux Packet.CLIENT_REQUEST
1335797041254: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797041254: inside handleClientRequest. Originator leader of region 3
1335797041254: got new request, requestCounter = 5008028
1335797041255: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501700003
1335797041255: Yay the last leg succeeded. Removing reply runnables ...
1335797041255: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501700003
1335797041255: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501700003
1335797041255: do not send ack for received final_leg_ack
1335797041335: Retrying PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041335: Dispatching Atom PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041335: mux: I got a CSM packet at a leader 

1335797041336: Sending UDP payload: 989
1335797041337: forwarding disabled, not forwarding packets
1335797041436: Retrying PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041436: Dispatching Atom PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041436: mux: I got a CSM packet at a leader 

1335797041437: Sending UDP payload: 989
1335797041438: forwarding disabled, not forwarding packets
1335797041469: Received UDP payload: 5092
1335797041471: mux: GOT CSM_Msg
1335797041471: Received DUPLICATE PROC_REPLY 11:0 (2,0)->(3,0)
1335797041477: Received UDP payload: 989
1335797041479: mux: GOT CSM_Msg
1335797041479: forwarding disabled, not forwarding packets
1335797041537: Retrying PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041537: Dispatching Atom PROC_REQUEST 11:10 (3,0)->(2,0)
1335797041537: mux: I got a CSM packet at a leader 

1335797041538: Sending UDP payload: 989
1335797041539: forwarding disabled, not forwarding packets
1335797041573: Received UDP payload: 5092
1335797041575: mux: GOT CSM_Msg
1335797041575: Received PROC_REPLY 11:10 (2,0)->(3,0), handing to UserApp
1335797041576: inside handleDSMReply. Now back in originator leader of region 3
1335797041576: DSM layer: Going to and from remote region took latency = 1468
1335797041576: DSM layer: orig leader sent packet at 1335797040108 ~ received reply from remote leader at 1335797041576
1335797041577: Originator Region=3's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797041577: change leader replyCounter to: 51
1335797041577: reply packet contains the newest photo/success info from the remote region
1335797041577: inside sendReplies of replyCount = 500500051
1335797041577: =======================
1335797041577: inside sendReplyRepeatingRunnable for replyCount = 500500051
1335797041578: Leader about to send REPLY packet, number: 500500051 type: 15 Leader in region: (3,0) to Client nodID: 5004
1335797041578: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335797041578: inside sendPacket(Packet p)
1335797041578: === Finished one round of sending REPLY Packet =======
1335797041579: Sending UDP payload: 4745
1335797041860: Received UDP payload: 5092
1335797041862: mux: GOT CSM_Msg
1335797041863: Received DUPLICATE PROC_REPLY 11:10 (2,0)->(3,0)
1335797041878: =======================
1335797041878: inside sendReplyRepeatingRunnable for replyCount = 500500051
1335797041878: Leader about to send REPLY packet, number: 500500051 type: 15 Leader in region: (3,0) to Client nodID: 5004
1335797041879: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335797041879: inside sendPacket(Packet p)
1335797041879: === Finished one round of sending REPLY Packet =======
1335797041880: Sending UDP payload: 4745
1335797041883: Received UDP payload: 4459
1335797041886: mux: Inside mux Packet.CLIENT_REQUEST
1335797042000: Received UDP payload: 989
1335797042005: mux: GOT CSM_Msg
1335797042005: forwarding disabled, not forwarding packets
1335797042042: Received UDP payload: 989
1335797042053: mux: GOT CSM_Msg
1335797042054: forwarding disabled, not forwarding packets
1335797042063: Received UDP payload: 446
1335797042068: Received UDP payload: 642
1335797042070: mux: Inside Packet.SERVER_REPLY
1335797042070: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797042081: Received UDP payload: 446
1335797042082: mux: Inside Packet.SERVER_REPLY
1335797042082: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797042097: Received UDP payload: 989
1335797042099: mux: GOT CSM_Msg
1335797042099: forwarding disabled, not forwarding packets
1335797042116: Received UDP payload: 446
1335797042118: mux: Inside mux Packet.CLIENT_REQUEST
1335797042159: Received UDP payload: 642
1335797042161: mux: Inside Packet.SERVER_REPLY
1335797042161: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797042180: =======================
1335797042180: inside sendReplyRepeatingRunnable for replyCount = 500500051
1335797042180: Leader about to send REPLY packet, number: 500500051 type: 15 Leader in region: (3,0) to Client nodID: 5004
1335797042180: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335797042180: inside sendPacket(Packet p)
1335797042180: === Finished one round of sending REPLY Packet =======
1335797042181: Sending UDP payload: 4745
1335797042232: Received UDP payload: 446
1335797042234: mux: Inside mux Packet.CLIENT_REQUEST
1335797042263: Received UDP payload: 642
1335797042265: mux: Inside Packet.SERVER_REPLY
1335797042265: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797042283: Received UDP payload: 446
1335797042285: mux: Inside mux Packet.CLIENT_REQUEST
1335797042285: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797042285: inside handleClientRequest. Originator leader of region 3
1335797042285: got new request, requestCounter = 5004041
1335797042285: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500051
1335797042285: Yay the last leg succeeded. Removing reply runnables ...
1335797042285: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500051
1335797042286: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500051
1335797042286: do not send ack for received final_leg_ack
1335797042480: Received UDP payload: 4745
1335797042481: mux: Inside Packet.SERVER_REPLY
1335797042481: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797042556: Received UDP payload: 446
1335797042558: mux: Inside mux Packet.CLIENT_REQUEST
1335797042558: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797042558: inside handleClientRequest. Originator leader of region 3
1335797042558: got new request, requestCounter = 5004042
1335797042558: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501700004
1335797042558: Yay the last leg succeeded. Removing reply runnables ...
1335797042558: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501700004
1335797042558: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501700004
1335797042558: do not send ack for received final_leg_ack
1335797042632: Received UDP payload: 446
1335797042634: mux: Inside mux Packet.CLIENT_REQUEST
1335797042634: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797042634: inside handleClientRequest. Originator leader of region 3
1335797042634: got new request, requestCounter = 5004043
1335797042635: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501700004
1335797042635: Yay the last leg succeeded. Removing reply runnables ...
1335797042635: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501700004
1335797042635: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501700004
1335797042635: do not send ack for received final_leg_ack
1335797042672: Received UDP payload: 446
1335797042811: Received UDP payload: 642
1335797042813: mux: Inside Packet.SERVER_REPLY
1335797042813: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797042929: Received UDP payload: 6858
1335797042931: mux: Inside mux Packet.CLIENT_REQUEST
1335797042982: Received UDP payload: 446
1335797042984: mux: Inside mux Packet.CLIENT_REQUEST
1335797042986: Received UDP payload: 446
1335797042987: mux: Inside mux Packet.CLIENT_REQUEST
1335797042996: Received UDP payload: 446
1335797042998: mux: Inside mux Packet.CLIENT_REQUEST
1335797043359: Received UDP payload: 446
1335797044394: inside sendPacket(Packet p)
1335797044397: Sending UDP payload: 446
1335797044402: Received UDP payload: 989
1335797044415: mux: GOT CSM_Msg
1335797044415: forwarding disabled, not forwarding packets
1335797044502: Received UDP payload: 4823
1335797044504: mux: GOT CSM_Msg
1335797044505: Received DUPLICATE PROC_REPLY 11:0 (0,0)->(3,0)
1335797046059: Received UDP payload: 625
1335797046064: mux: Inside mux Packet.CLIENT_REQUEST
1335797046065: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797046065: inside handleClientRequest. Originator leader of region 3
1335797046066: got new request, requestCounter = 5004044
1335797046066: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797046068: Sending to region: 3
1335797046085: Sending PROC_REQUEST 11:23 (3,0)->(3,0)
1335797046087: Dispatching Atom PROC_REQUEST 11:23 (3,0)->(3,0)
1335797046090: mux: I got a CSM packet at a leader 

1335797046087: Note down new request by adding requestCounter=5004044 to HashMap processedRequests
1335797046088: Make FirstLeg Ack regardless of new or already-processed requests
1335797046088: The leader sending a First Leg ack to originator client (which id = 5004)
1335797046088: inside sendPacket(Packet p)
1335797046093: Sending UDP payload: 989
1335797046107: removed replies before id 23 from sentReplies of size 0
1335797046107: inside handleDSMRequest. At requests's remote leader of region 3
1335797046110: INSIDE SERVER_GET_PHOTO!!!
1335797046112: dst_region == src_region = 3
1335797046112:  1 self to self atomRequest
1335797046117: Received UDP payload: 989
1335797046129: mux: GOT CSM_Msg
1335797046127: Received PROC_REQUEST 11:23 (3,0)->(3,0), replying PROC_REPLY 11:23 (3,0)->(3,0)
1335797046128: Dispatching Atom PROC_REPLY 11:23 (3,0)->(3,0)
1335797046133: mux: I got a CSM packet at a leader 

1335797046128: Sending UDP payload: 446
1335797046129: removed replies before id 2 from sentReplies of size 1
1335797046129: inside handleDSMRequest. At requests's remote leader of region 3
1335797046131: INSIDE SERVER_GET_PHOTO!!!
1335797046131: dst_region == src_region = 3
1335797046132:  1 self to self atomRequest
1335797046132: Received PROC_REQUEST 11:2 (3,0)->(3,0), replying PROC_REPLY 11:2 (3,0)->(3,0)
1335797046133: Dispatching Atom PROC_REPLY 11:2 (3,0)->(3,0)
1335797046149: mux: I got a CSM packet at a leader 

1335797046134: Sending UDP payload: 7222
1335797046146: Received PROC_REPLY 11:23 (3,0)->(3,0), handing to UserApp
1335797046146: inside handleDSMReply. Now back in originator leader of region 3
1335797046147: DSM layer: Going to and from remote region took latency = 78
1335797046147: DSM layer: orig leader sent packet at 1335797046068 ~ received reply from remote leader at 1335797046146
1335797046147: Originator Region=3's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797046147: change leader replyCounter to: 52
1335797046148: reply packet contains the newest photo/success info from the remote region
1335797046148: inside sendReplies of replyCount = 500500052
1335797046148: =======================
1335797046148: inside sendReplyRepeatingRunnable for replyCount = 500500052
1335797046148: Leader about to send REPLY packet, number: 500500052 type: 15 Leader in region: (3,0) to Client nodID: 5004
1335797046148: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335797046148: inside sendPacket(Packet p)
1335797046148: === Finished one round of sending REPLY Packet =======
1335797046150: Sending UDP payload: 7222
1335797046155: Received DUPLICATE PROC_REPLY 11:2 (3,0)->(3,0)
1335797046156: Received UDP payload: 446
1335797046157: Sending UDP payload: 6875
1335797046159: mux: Inside Packet.SERVER_REPLY
1335797046159: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797046448: =======================
1335797046448: inside sendReplyRepeatingRunnable for replyCount = 500500052
1335797046449: Leader about to send REPLY packet, number: 500500052 type: 15 Leader in region: (3,0) to Client nodID: 5004
1335797046449: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335797046449: inside sendPacket(Packet p)
1335797046449: === Finished one round of sending REPLY Packet =======
1335797046450: Sending UDP payload: 6875
1335797046749: =======================
1335797046750: inside sendReplyRepeatingRunnable for replyCount = 500500052
1335797046750: Leader about to send REPLY packet, number: 500500052 type: 15 Leader in region: (3,0) to Client nodID: 5004
1335797046751: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335797046751: inside sendPacket(Packet p)
1335797046751: === Finished one round of sending REPLY Packet =======
1335797046754: Sending UDP payload: 6875
1335797046850: Received UDP payload: 446
1335797046853: mux: Inside mux Packet.CLIENT_REQUEST
1335797046853: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797046854: inside handleClientRequest. Originator leader of region 3
1335797046854: got new request, requestCounter = 5004045
1335797046854: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500052
1335797046854: Yay the last leg succeeded. Removing reply runnables ...
1335797046854: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500052
1335797046854: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500052
1335797046854: do not send ack for received final_leg_ack
1335797046875: Received UDP payload: 446
1335797046879: mux: Inside mux Packet.CLIENT_REQUEST
1335797046879: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797046879: inside handleClientRequest. Originator leader of region 3
1335797046880: got new request, requestCounter = 5004046
1335797046880: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500052
1335797046881: Yay the last leg succeeded. Removing reply runnables ...
1335797046881: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500052
1335797046881: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500052
1335797046882: do not send ack for received final_leg_ack
1335797046885: Received UDP payload: 446
1335797047176: Received UDP payload: 7222
1335797047182: mux: GOT CSM_Msg
1335797047184: Received DUPLICATE PROC_REPLY 11:23 (3,0)->(3,0)
1335797047274: Received UDP payload: 6875
1335797047279: mux: Inside Packet.SERVER_REPLY
1335797047280: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797047284: Received UDP payload: 446
1335797047356: Received UDP payload: 446
1335797047359: mux: Inside mux Packet.CLIENT_REQUEST
1335797047360: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797047360: inside handleClientRequest. Originator leader of region 3
1335797047361: got new request, requestCounter = 5004048
1335797047361: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501700006
1335797047361: Yay the last leg succeeded. Removing reply runnables ...
1335797047362: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501700006
1335797047362: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501700006
1335797047362: do not send ack for received final_leg_ack
1335797047394: Received UDP payload: 6875
1335797047401: mux: Inside Packet.SERVER_REPLY
1335797047401: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797047522: Received UDP payload: 6875
1335797047527: mux: Inside Packet.SERVER_REPLY
1335797047528: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797047574: Received UDP payload: 446
1335797047616: Received UDP payload: 446
1335797047715: canPressButton = TRUE
1335797047716: areButtonsEnabled --> false 
1335797047716: get picture disableButtonsR
1335797047716: areButtonsEnabled --> false
1335797047743: one more getNum: 14
1335797047743: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=11 getBad=2 getTimedout=0 getPercent=78%
1335797047744: ** Client of state 2 in region 3 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335797047744: change local requestCounter to 37
1335797047746: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005037 Client in region: 3 Client nodID: 5005
1335797047778: ----------------------------
1335797047778: inside sendRequestPacketRepeatingRunnable for requestCount = 5005037
1335797047779: I'm a leader, my requesting photos packet going to mux directly
1335797047784: --- Finished one round of sending REQUEST Packet ---------
1335797047779: mux: Inside mux Packet.CLIENT_REQUEST
1335797047779: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797047823: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797047779: inside handleClientRequest. Originator leader of region 3
1335797047779: got new request, requestCounter = 5005037
1335797047779: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797047780: Sending to region: 1
1335797047780: Sending PROC_REQUEST 11:9 (3,0)->(1,0)
1335797047781: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797047782: mux: I got a CSM packet at a leader 

1335797047781: Note down new request by adding requestCounter=5005037 to HashMap processedRequests
1335797047781: Make FirstLeg Ack regardless of new or already-processed requests
1335797047781: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797047783: Sending UDP payload: 989
1335797047784: forwarding disabled, not forwarding packets
1335797047816: Received UDP payload: 625
1335797047817: mux: Inside mux Packet.CLIENT_REQUEST
1335797047868: Received UDP payload: 446
1335797047869: mux: Inside Packet.SERVER_REPLY
1335797047869: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797047876: Received UDP payload: 446
1335797048298: Received UDP payload: 989
1335797048302: mux: GOT CSM_Msg
1335797048303: forwarding disabled, not forwarding packets
1335797048341: Received UDP payload: 446
1335797048504: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797048504: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797048504: mux: I got a CSM packet at a leader 

1335797048505: Sending UDP payload: 989
1335797048506: forwarding disabled, not forwarding packets
1335797048606: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797048606: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797048606: mux: I got a CSM packet at a leader 

1335797048607: Sending UDP payload: 989
1335797048608: forwarding disabled, not forwarding packets
1335797048693: Received UDP payload: 989
1335797048695: mux: GOT CSM_Msg
1335797048695: forwarding disabled, not forwarding packets
1335797048706: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797048707: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797048707: mux: I got a CSM packet at a leader 

1335797048708: Sending UDP payload: 989
1335797048708: forwarding disabled, not forwarding packets
1335797048756: Received UDP payload: 989
1335797048758: mux: GOT CSM_Msg
1335797048758: forwarding disabled, not forwarding packets
1335797048782: Received UDP payload: 5092
1335797048784: mux: GOT CSM_Msg
1335797048784: forwarding disabled, not forwarding packets
1335797048807: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797048808: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797048808: mux: I got a CSM packet at a leader 

1335797048809: Sending UDP payload: 989
1335797048810: forwarding disabled, not forwarding packets
1335797048858: Received UDP payload: 5092
1335797048885: mux: GOT CSM_Msg
1335797048885: forwarding disabled, not forwarding packets
1335797048889: Received UDP payload: 989
1335797048892: mux: GOT CSM_Msg
1335797048892: forwarding disabled, not forwarding packets
1335797048908: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797048909: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797048909: mux: I got a CSM packet at a leader 

1335797048910: Sending UDP payload: 989
1335797048911: forwarding disabled, not forwarding packets
1335797049010: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049010: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049011: mux: I got a CSM packet at a leader 

1335797049013: Sending UDP payload: 989
1335797049015: forwarding disabled, not forwarding packets
1335797049085: Received UDP payload: 989
1335797049090: mux: GOT CSM_Msg
1335797049090: forwarding disabled, not forwarding packets
1335797049100: Received UDP payload: 446
1335797049103: mux: Inside mux Packet.CLIENT_REQUEST
1335797049111: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049112: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049112: mux: I got a CSM packet at a leader 

1335797049115: Sending UDP payload: 989
1335797049116: forwarding disabled, not forwarding packets
1335797049168: Received UDP payload: 989
1335797049172: mux: GOT CSM_Msg
1335797049172: forwarding disabled, not forwarding packets
1335797049213: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049213: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049213: mux: I got a CSM packet at a leader 

1335797049214: Sending UDP payload: 989
1335797049215: forwarding disabled, not forwarding packets
1335797049268: Received UDP payload: 989
1335797049270: mux: GOT CSM_Msg
1335797049270: forwarding disabled, not forwarding packets
1335797049314: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049314: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049314: mux: I got a CSM packet at a leader 

1335797049315: Sending UDP payload: 989
1335797049316: forwarding disabled, not forwarding packets
1335797049371: Received UDP payload: 989
1335797049373: mux: GOT CSM_Msg
1335797049373: forwarding disabled, not forwarding packets
1335797049389: Received UDP payload: 463
1335797049395: inside sendPacket(Packet p)
1335797049395: Sending UDP payload: 446
1335797049410: Received UDP payload: 446
1335797049415: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049415: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049415: mux: I got a CSM packet at a leader 

1335797049416: Sending UDP payload: 989
1335797049418: forwarding disabled, not forwarding packets
1335797049422: Received UDP payload: 446
1335797049489: Received UDP payload: 989
1335797049491: mux: GOT CSM_Msg
1335797049491: forwarding disabled, not forwarding packets
1335797049516: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049516: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049516: mux: I got a CSM packet at a leader 

1335797049517: Sending UDP payload: 989
1335797049518: forwarding disabled, not forwarding packets
1335797049609: Received UDP payload: 989
1335797049611: mux: GOT CSM_Msg
1335797049612: forwarding disabled, not forwarding packets
1335797049617: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049617: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049617: mux: I got a CSM packet at a leader 

1335797049618: Sending UDP payload: 989
1335797049619: forwarding disabled, not forwarding packets
1335797049672: Received UDP payload: 989
1335797049676: mux: GOT CSM_Msg
1335797049676: forwarding disabled, not forwarding packets
1335797049718: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049718: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049718: mux: I got a CSM packet at a leader 

1335797049719: Sending UDP payload: 989
1335797049720: forwarding disabled, not forwarding packets
1335797049781: Received UDP payload: 989
1335797049783: mux: GOT CSM_Msg
1335797049783: forwarding disabled, not forwarding packets
1335797049819: Retrying PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049819: Dispatching Atom PROC_REQUEST 11:9 (3,0)->(1,0)
1335797049819: mux: I got a CSM packet at a leader 

1335797049820: Sending UDP payload: 989
1335797049821: forwarding disabled, not forwarding packets
1335797049882: Received UDP payload: 989
1335797049885: mux: GOT CSM_Msg
1335797049885: forwarding disabled, not forwarding packets
1335797049920: DSM Layer: Request timed out, send failure PROC_REPLY 11:9 (1,0)->(3,0)
1335797049920: Dispatching Atom PROC_REPLY 11:9 (1,0)->(3,0)
1335797049920: mux: I got a CSM packet at a leader 

1335797049926: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797049926: disabling progressdialog due to successful new photo get
1335797049926: Inside _enableButtons
1335797049927: areButtonsEnabled --> true
1335797049927: send final leg ack regardless of new or already-processed reply
1335797049927: inside finalLegAck: change requestCounter to 38
1335797049927: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005038 Client in region: (3,0) Client nodID: 5005
1335797049928: I'm a leader client, my final_leg packet going to mux directly
1335797049930: new client_show_remotephoto reply with replyCounter 500500053
1335797049930: note down new reply by adding replyCounter=500500053 to HashMap processedReplies
1335797049930: leader download remote photo latency = 2147
1335797049931: = leader download start 1335797047779 ~ stop 1335797049926
1335797049931: Can't get remote photo, because DSM Layer on originator leader timed out
1335797049935: one more getBad: 3
1335797049936: reg=3 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=11 getBad=3 getTimedout=0 getPercent=78%
1335797049936: getBad++
1335797049921: Sending UDP payload: 989
1335797049922: Received PROC_REPLY 11:9 (1,0)->(3,0), handing to UserApp
1335797049923: inside handleDSMReply. Now back in originator leader of region 3
1335797049923: DSM layer timed out, don't log dsm layer latency stuff.
1335797049923: Originator Region=3's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797049923: change leader replyCounter to: 53
1335797049923: reply packet contains the newest photo/success info from the remote region
1335797049924: inside sendReplies of replyCount = 500500053
1335797049924: =======================
1335797049924: inside sendReplyRepeatingRunnable for replyCount = 500500053
1335797049925: Leader about to send REPLY packet, number: 500500053 type: 15 Leader in region: (3,0) to Client nodID: 5005
1335797049925: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797049925: === Finished one round of sending REPLY Packet =======
1335797049928: mux: Inside mux Packet.CLIENT_REQUEST
1335797049928: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797049928: inside handleClientRequest. Originator leader of region 3
1335797049929: got new request, requestCounter = 5005038
1335797049929: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500053
1335797049929: Yay the last leg succeeded. Removing reply runnables ...
1335797049929: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500053
1335797049929: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500053
1335797049929: do not send ack for received final_leg_ack
1335797049981: Received UDP payload: 989
1335797049983: mux: GOT CSM_Msg
1335797049984: forwarding disabled, not forwarding packets
1335797050091: Received UDP payload: 989
1335797050093: mux: GOT CSM_Msg
1335797050093: forwarding disabled, not forwarding packets
1335797050187: Received UDP payload: 989
1335797050189: mux: GOT CSM_Msg
1335797050189: forwarding disabled, not forwarding packets
1335797050293: Received UDP payload: 989
1335797050296: mux: GOT CSM_Msg
1335797050296: forwarding disabled, not forwarding packets
1335797050412: Received UDP payload: 989
1335797050415: mux: GOT CSM_Msg
1335797050415: forwarding disabled, not forwarding packets
1335797050502: Received UDP payload: 989
1335797050506: mux: GOT CSM_Msg
1335797050506: forwarding disabled, not forwarding packets
1335797051956: Received UDP payload: 7149
1335797051961: mux: Inside mux Packet.CLIENT_REQUEST
1335797051962: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797051962: inside handleClientRequest. Originator leader of region 3
1335797051963: got new request, requestCounter = 5008030
1335797051963: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797051975: Sending PROC_REQUEST 10:24 (3,0)->(3,0)
1335797051977: Dispatching Atom PROC_REQUEST 10:24 (3,0)->(3,0)
1335797051979: mux: I got a CSM packet at a leader 

1335797052025: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797052028: I'm a leader and I successfully saved my client's new photo
1335797052030: now showing in UI the new photo I just saved ... 
1335797052030: the photo length: 6502
1335797052104: end of server show photo aside %%%%%%%%%
1335797051977: Note down new request by adding requestCounter=5008030 to HashMap processedRequests
1335797051978: Make FirstLeg Ack regardless of new or already-processed requests
1335797051978: The leader sending a First Leg ack to originator client (which id = 5008)
1335797051978: inside sendPacket(Packet p)
1335797051983: Sending UDP payload: 7513
1335797051999: removed replies before id 24 from sentReplies of size 0
1335797051999: inside handleDSMRequest. At requests's remote leader of region 3
1335797052002: Inside UPLOAD_PHOTO!!
1335797052006: my_gpinfo.isSuccess is now (should be true): true
1335797052007: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797052010: Received PROC_REQUEST 10:24 (3,0)->(3,0), replying PROC_REPLY 10:24 (3,0)->(3,0)
1335797052082: Dispatching Atom PROC_REPLY 10:24 (3,0)->(3,0)
1335797052090: mux: I got a CSM packet at a leader 

1335797052088: Sending UDP payload: 446
1335797052098: Sending UDP payload: 989
1335797052099: Received PROC_REPLY 10:24 (3,0)->(3,0), handing to UserApp
1335797052099: inside handleDSMReply. Now back in originator leader of region 3
1335797052099: DSM layer: Going to and from remote region took latency = 135
1335797052099: DSM layer: orig leader sent packet at 1335797051964 ~ received reply from remote leader at 1335797052099
1335797052101: Originator Region=3's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797052101: change leader replyCounter to: 54
1335797052102: reply packet contains the success info for UPLOAD_PHOTO
1335797052102: inside sendReplies of replyCount = 500500054
1335797052102: =======================
1335797052102: inside sendReplyRepeatingRunnable for replyCount = 500500054
1335797052102: Leader about to send REPLY packet, number: 500500054 type: 16 Leader in region: (3,0) to Client nodID: 5008
1335797052102: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335797052102: inside sendPacket(Packet p)
1335797052102: === Finished one round of sending REPLY Packet =======
1335797052103: Sending UDP payload: 642
1335797052204: Received UDP payload: 989
1335797052209: mux: GOT CSM_Msg
1335797052209: Received DUPLICATE PROC_REPLY 10:3 (3,0)->(3,0)
1335797052229: Received UDP payload: 642
1335797052230: mux: Inside Packet.SERVER_REPLY
1335797052230: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797052402: =======================
1335797052403: inside sendReplyRepeatingRunnable for replyCount = 500500054
1335797052403: Leader about to send REPLY packet, number: 500500054 type: 16 Leader in region: (3,0) to Client nodID: 5008
1335797052403: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335797052403: inside sendPacket(Packet p)
1335797052403: === Finished one round of sending REPLY Packet =======
1335797052404: Sending UDP payload: 642
1335797052439: Received UDP payload: 446
1335797052440: mux: Inside mux Packet.CLIENT_REQUEST
1335797052440: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797052440: inside handleClientRequest. Originator leader of region 3
1335797052440: got new request, requestCounter = 5008032
1335797052441: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500054
1335797052441: Yay the last leg succeeded. Removing reply runnables ...
1335797052441: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500054
1335797052441: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500054
1335797052441: do not send ack for received final_leg_ack
1335797052545: Received UDP payload: 625
1335797052546: mux: Inside mux Packet.CLIENT_REQUEST
1335797052616: Received UDP payload: 446
1335797052866: Received UDP payload: 625
1335797052868: mux: Inside mux Packet.CLIENT_REQUEST
1335797053160: Received UDP payload: 625
1335797053165: mux: Inside mux Packet.CLIENT_REQUEST
1335797053319: Received UDP payload: 989
1335797053328: mux: GOT CSM_Msg
1335797053328: forwarding disabled, not forwarding packets
1335797053357: Received UDP payload: 446
1335797053430: Received UDP payload: 625
1335797053438: mux: Inside mux Packet.CLIENT_REQUEST
1335797053438: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797053439: inside handleClientRequest. Originator leader of region 3
1335797053440: got new request, requestCounter = 5004049
1335797053440: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797053443: Sending to region: 0
1335797053446: Sending PROC_REQUEST 11:8 (3,0)->(0,0)
1335797053451: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(0,0)
1335797053453: mux: I got a CSM packet at a leader 

1335797053451: Note down new request by adding requestCounter=5004049 to HashMap processedRequests
1335797053452: Make FirstLeg Ack regardless of new or already-processed requests
1335797053452: The leader sending a First Leg ack to originator client (which id = 5004)
1335797053452: inside sendPacket(Packet p)
1335797053458: Sending UDP payload: 989
1335797053461: forwarding disabled, not forwarding packets
1335797053468: Sending UDP payload: 446
1335797053488: Received UDP payload: 989
1335797053502: mux: GOT CSM_Msg
1335797053502: Received UDP payload: 625
1335797053502: forwarding disabled, not forwarding packets
1335797053507: mux: Inside mux Packet.CLIENT_REQUEST
1335797053508: Received UDP payload: 446
1335797053514: mux: Inside Packet.SERVER_REPLY
1335797053514: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797054095: Received UDP payload: 446
1335797054113: Received UDP payload: 989
1335797054119: mux: GOT CSM_Msg
1335797054120: forwarding disabled, not forwarding packets
1335797054193: Retrying PROC_REQUEST 11:8 (3,0)->(0,0)
1335797054194: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(0,0)
1335797054194: mux: I got a CSM packet at a leader 

1335797054198: Sending UDP payload: 989
1335797054200: forwarding disabled, not forwarding packets
1335797054215: Received UDP payload: 989
1335797054222: mux: GOT CSM_Msg
1335797054223: forwarding disabled, not forwarding packets
1335797054272: Received UDP payload: 6650
1335797054274: mux: GOT CSM_Msg
1335797054274: forwarding disabled, not forwarding packets
1335797054300: Retrying PROC_REQUEST 11:8 (3,0)->(0,0)
1335797054300: Dispatching Atom PROC_REQUEST 11:8 (3,0)->(0,0)
1335797054300: mux: I got a CSM packet at a leader 

1335797054301: Sending UDP payload: 989
1335797054302: forwarding disabled, not forwarding packets
1335797054315: Received UDP payload: 989
1335797054317: mux: GOT CSM_Msg
1335797054317: forwarding disabled, not forwarding packets
1335797054351: Received UDP payload: 989
1335797054353: mux: GOT CSM_Msg
1335797054353: forwarding disabled, not forwarding packets
1335797054374: Received UDP payload: 4823
1335797054376: mux: GOT CSM_Msg
1335797054376: Received PROC_REPLY 11:8 (0,0)->(3,0), handing to UserApp
1335797054376: inside handleDSMReply. Now back in originator leader of region 3
1335797054377: DSM layer: Going to and from remote region took latency = 932
1335797054377: DSM layer: orig leader sent packet at 1335797053444 ~ received reply from remote leader at 1335797054376
1335797054377: Originator Region=3's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797054377: change leader replyCounter to: 55
1335797054378: reply packet contains the newest photo/success info from the remote region
1335797054378: inside sendReplies of replyCount = 500500055
1335797054378: =======================
1335797054378: inside sendReplyRepeatingRunnable for replyCount = 500500055
1335797054378: Leader about to send REPLY packet, number: 500500055 type: 15 Leader in region: (3,0) to Client nodID: 5004
1335797054378: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335797054379: inside sendPacket(Packet p)
1335797054379: === Finished one round of sending REPLY Packet =======
1335797054380: Sending UDP payload: 4476
1335797054395: inside sendPacket(Packet p)
1335797054396: Sending UDP payload: 446
1335797054466: Received UDP payload: 4823
1335797054468: mux: GOT CSM_Msg
1335797054468: Received DUPLICATE PROC_REPLY 11:1 (0,0)->(3,0)
1335797054537: Received UDP payload: 4823
1335797054539: mux: GOT CSM_Msg
1335797054540: Received DUPLICATE PROC_REPLY 11:1 (0,0)->(3,0)
1335797054617: Received UDP payload: 989
1335797054618: mux: GOT CSM_Msg
1335797054619: forwarding disabled, not forwarding packets
1335797054678: =======================
1335797054678: inside sendReplyRepeatingRunnable for replyCount = 500500055
1335797054679: Leader about to send REPLY packet, number: 500500055 type: 15 Leader in region: (3,0) to Client nodID: 5004
1335797054679: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335797054679: inside sendPacket(Packet p)
1335797054679: === Finished one round of sending REPLY Packet =======
1335797054680: Sending UDP payload: 4476
1335797054685: Received UDP payload: 4823
1335797054687: mux: GOT CSM_Msg
1335797054687: Received DUPLICATE PROC_REPLY 11:1 (0,0)->(3,0)
1335797054784: Received UDP payload: 4476
1335797054785: mux: Inside Packet.SERVER_REPLY
1335797054785: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797054804: Received UDP payload: 446
1335797054807: mux: Inside mux Packet.CLIENT_REQUEST
1335797054807: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797054807: inside handleClientRequest. Originator leader of region 3
1335797054808: got new request, requestCounter = 5004050
1335797054808: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501700008
1335797054808: Yay the last leg succeeded. Removing reply runnables ...
1335797054808: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501700008
1335797054808: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501700008
1335797054808: do not send ack for received final_leg_ack
1335797054971: Received UDP payload: 446
1335797054972: mux: Inside mux Packet.CLIENT_REQUEST
1335797054973: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797054973: inside handleClientRequest. Originator leader of region 3
1335797054973: got new request, requestCounter = 5004051
1335797054973: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500055
1335797054973: Yay the last leg succeeded. Removing reply runnables ...
1335797054973: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500055
1335797054974: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500055
1335797054974: do not send ack for received final_leg_ack
1335797055103: Received UDP payload: 446
1335797055105: mux: Inside mux Packet.CLIENT_REQUEST
1335797055105: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797055105: inside handleClientRequest. Originator leader of region 3
1335797055106: got new request, requestCounter = 5004052
1335797055106: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500055
1335797055106: Yay the last leg succeeded. Removing reply runnables ...
1335797055106: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500055
1335797055106: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500055
1335797055106: do not send ack for received final_leg_ack
1335797056609: Received UDP payload: 5630
1335797056614: mux: Inside mux Packet.CLIENT_REQUEST
1335797056718: Received UDP payload: 5994
1335797056726: mux: GOT CSM_Msg
1335797056726: forwarding disabled, not forwarding packets
1335797056728: Received UDP payload: 446
1335797056732: mux: Inside Packet.SERVER_REPLY
1335797056732: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797056745: Received UDP payload: 989
1335797056758: mux: GOT CSM_Msg
1335797056759: forwarding disabled, not forwarding packets
1335797056759: Received UDP payload: 642
1335797056763: mux: Inside Packet.SERVER_REPLY
1335797056764: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797056774: Received UDP payload: 446
1335797056778: mux: Inside mux Packet.CLIENT_REQUEST
1335797057647: Received UDP payload: 446
1335797058330: Received UDP payload: 5389
1335797058334: mux: Inside mux Packet.CLIENT_REQUEST
1335797058369: Received UDP payload: 446
1335797058543: moving from region (3,0), to (1,0)
1335797058544: change state to HANDING_OFF with parameter my previous/old region = (3,0) before helping to elect new leader in it. (btw, newRegion (1,0))
1335797058544: VCoreDaemon.java inside stateTransition ..........
1335797058544: removing leaderRequestRetryR because I'm doing a stateTransition
1335797058545: ..... VCoreDaemon.java targetState = HANDING_OFF
1335797058545: HANDING OFF setting leaderRegion = (3,0)
1335797058545: Trying to hand off leadership
1335797058545: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335797058546: broadcasting LEADER_ELECT to old (3,0)
1335797058546: inside sendPacket(Packet p)
1335797058547: Sending UDP payload: 463
1335797058584: Received UDP payload: 446
1335797058585: inside LEADER_NOMINATE mState = 4 vnp.dstRegion = (3,0) leaderRegion = (3,0)
1335797058585: received LEADER_NOMINATE from 5008, saving as candidate
1335797058670: Received UDP payload: 446
1335797058917: Received UDP payload: 5389
1335797058922: mux: Inside mux Packet.CLIENT_REQUEST
1335797058980: Received UDP payload: 989
1335797058982: mux: GOT CSM_Msg
1335797059186: Received UDP payload: 5389
1335797059187: mux: Inside mux Packet.CLIENT_REQUEST
1335797059395: inside sendPacket(Packet p)
1335797059396: Sending UDP payload: 446
1335797059547: INSIDE ELECT CANDIDATE
1335797059548: PICKING CANDIDATE
1335797059548: UserApp stopped.
1335797059549: DSMLayer stopped
1335797059701: sending LEADER_CONFIRM to node 5008
1335797059711: inside sendPacket(Packet p)
1335797059712: Sending UDP payload: 48075
1335797060719: DSMLayer stopped
1335797060720: serializing DSMLayer to JSON
1335797061589: Received UDP payload: 625
1335797061596: mux: Inside mux Packet.CLIENT_REQUEST
1335797061633: Received UDP payload: 989
1335797061639: mux: GOT CSM_Msg
1335797061655: Received UDP payload: 446
1335797061657: mux: Inside Packet.SERVER_REPLY
1335797061657: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797062448: Received UDP payload: 989
1335797062456: mux: GOT CSM_Msg
1335797062524: Received UDP payload: 989
1335797062527: mux: GOT CSM_Msg
1335797062626: Received UDP payload: 989
1335797062632: mux: GOT CSM_Msg
1335797062633: Received UDP payload: 446
1335797062729: Received UDP payload: 989
1335797062737: mux: GOT CSM_Msg
1335797062776: Received UDP payload: 446
1335797062833: Received UDP payload: 989
1335797062840: mux: GOT CSM_Msg
1335797062935: Received UDP payload: 989
1335797062942: mux: GOT CSM_Msg
1335797063034: Received UDP payload: 989
1335797063036: mux: GOT CSM_Msg
1335797063083: Received UDP payload: 446
1335797063142: Received UDP payload: 989
1335797063144: mux: GOT CSM_Msg
1335797063243: Received UDP payload: 989
1335797063245: mux: GOT CSM_Msg
1335797063343: Received UDP payload: 989
1335797063346: mux: GOT CSM_Msg
1335797063369: Received UDP payload: 446
1335797063405: Received UDP payload: 446
1335797063448: Received UDP payload: 989
1335797063450: mux: GOT CSM_Msg
1335797063548: Received UDP payload: 989
1335797063550: mux: GOT CSM_Msg
1335797063599: Received UDP payload: 446
1335797063651: Received UDP payload: 989
1335797063653: mux: GOT CSM_Msg
1335797063721: Received UDP payload: 446
1335797063755: Received UDP payload: 989
1335797063757: mux: GOT CSM_Msg
1335797063770: Received UDP payload: 642
1335797063772: mux: Inside Packet.SERVER_REPLY
1335797063772: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797063951: Received UDP payload: 446
1335797063953: mux: Inside mux Packet.CLIENT_REQUEST
1335797064476: Received UDP payload: 446
1335797064775: Received UDP payload: 446
1335797065088: Received UDP payload: 446
1335797065399: Received UDP payload: 446
1335797066116: Received UDP payload: 4396
1335797066121: mux: Inside mux Packet.CLIENT_REQUEST
1335797066278: Received UDP payload: 446
1335797066282: mux: Inside Packet.SERVER_REPLY
1335797066282: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797066312: Received UDP payload: 989
1335797066319: mux: GOT CSM_Msg
1335797066326: Received UDP payload: 642
1335797066328: mux: Inside Packet.SERVER_REPLY
1335797066328: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797066372: Received UDP payload: 446
1335797066374: mux: Inside mux Packet.CLIENT_REQUEST
1335797067649: Received UDP payload: 446
1335797068357: Received UDP payload: 446
1335797068602: Received UDP payload: 446
1335797070459: Received UDP payload: 32072
1335797070933: Received UDP payload: 32072
1335797071095: Received UDP payload: 446
1335797071461: Received UDP payload: 446
1335797071815: Received UDP payload: 625
1335797071819: mux: Inside mux Packet.CLIENT_REQUEST
1335797071907: Received UDP payload: 989
1335797071909: mux: GOT CSM_Msg
1335797071949: Received UDP payload: 446
1335797072250: Received UDP payload: 5994
1335797072255: mux: GOT CSM_Msg
1335797072338: Received UDP payload: 989
1335797072342: mux: GOT CSM_Msg
1335797072389: Received UDP payload: 625
1335797072392: mux: Inside mux Packet.CLIENT_REQUEST
1335797072562: Received UDP payload: 446
1335797072566: mux: Inside Packet.SERVER_REPLY
1335797072567: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797072638: Received UDP payload: 989
1335797072640: mux: GOT CSM_Msg
1335797072687: Received UDP payload: 446
1335797072765: Received UDP payload: 989
1335797072769: mux: GOT CSM_Msg
1335797072846: Received UDP payload: 989
1335797072849: mux: GOT CSM_Msg
1335797073068: Received UDP payload: 989
1335797073071: mux: GOT CSM_Msg
1335797073171: Received UDP payload: 989
1335797073178: mux: GOT CSM_Msg
1335797073203: Received UDP payload: 989
1335797073213: mux: GOT CSM_Msg
1335797073253: Received UDP payload: 989
1335797073255: mux: GOT CSM_Msg
1335797073363: Received UDP payload: 989
1335797073365: mux: GOT CSM_Msg
1335797073372: Received UDP payload: 446
1335797073459: Received UDP payload: 989
1335797073461: mux: GOT CSM_Msg
1335797073482: Received UDP payload: 446
1335797073575: Received UDP payload: 989
1335797073581: mux: GOT CSM_Msg
1335797073662: Received UDP payload: 446
1335797073777: Received UDP payload: 5092
1335797073779: mux: GOT CSM_Msg
1335797073927: Received UDP payload: 625
1335797073929: mux: Inside mux Packet.CLIENT_REQUEST
1335797073947: Error releasing leadership. Retrying...
1335797074020: Received UDP payload: 446
1335797074032: Received UDP payload: 989
1335797074034: mux: GOT CSM_Msg
1335797074042: Received UDP payload: 446
1335797074044: mux: Inside Packet.SERVER_REPLY
1335797074044: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797074131: no LEADER_CONFIRM_ACK, uploaded state to cloud in 12120ms, json 88300 bytes
1335797074131: VCoreDaemon.java inside stateTransition ..........
1335797074133: removing leaderRequestRetryR because I'm doing a stateTransition
1335797074135: ..... VCoreDaemon.java targetState = JOINING (1,0)
1335797074135: posting leaderRequestRetryR because I'm joining
1335797074136: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335797074137: removing leaderRequestRetryR because heard Packet.Heartbeat
1335797074137: heard HEARTBEAT from 5013, now following
1335797074138: VCoreDaemon.java inside stateTransition ..........
1335797074138: removing leaderRequestRetryR because I'm doing a stateTransition
1335797074138: ..... VCoreDaemon.java targetState = NONLEADER
1335797074139: DSMLayer stopped
1335797074140: now NONLEADER (id=5005) following LEADER (id=5013) in (1,0)
1335797074140: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335797074263: Received UDP payload: 446
1335797074565: Received UDP payload: 446
1335797074827: Received UDP payload: 989
1335797074837: mux: GOT CSM_Msg
1335797074848: Received UDP payload: 989
1335797074863: mux: GOT CSM_Msg
1335797074931: Received UDP payload: 5092
1335797074933: mux: GOT CSM_Msg
1335797075096: Received UDP payload: 989
1335797075098: mux: GOT CSM_Msg
1335797075147: Received UDP payload: 989
1335797075149: mux: GOT CSM_Msg
1335797075202: Received UDP payload: 989
1335797075204: mux: GOT CSM_Msg
1335797075313: Received UDP payload: 989
1335797075315: mux: GOT CSM_Msg
1335797075347: Received UDP payload: 989
1335797075349: mux: GOT CSM_Msg
1335797075459: Received UDP payload: 989
1335797075461: mux: GOT CSM_Msg
1335797075559: Received UDP payload: 989
1335797075563: mux: GOT CSM_Msg
1335797075708: Received UDP payload: 989
1335797075717: mux: GOT CSM_Msg
1335797075881: Received UDP payload: 989
1335797075889: mux: GOT CSM_Msg
1335797076011: Received UDP payload: 989
1335797076019: mux: GOT CSM_Msg
1335797076092: Received UDP payload: 989
1335797076108: mux: GOT CSM_Msg
1335797076100: Received UDP payload: 642
1335797076109: mux: Inside Packet.SERVER_REPLY
1335797076109: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797076890: Received UDP payload: 642
1335797076896: mux: Inside Packet.SERVER_REPLY
1335797076896: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797076963: Received UDP payload: 642
1335797076967: mux: Inside Packet.SERVER_REPLY
1335797076968: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797077018: Received UDP payload: 642
1335797077023: mux: Inside Packet.SERVER_REPLY
1335797077023: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797077256: Received UDP payload: 446
1335797077260: mux: Inside mux Packet.CLIENT_REQUEST
1335797077261: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797077449: Received UDP payload: 446
1335797077528: Received UDP payload: 4760
1335797077536: mux: GOT CSM_Msg
1335797077547: Received UDP payload: 625
1335797077551: mux: Inside mux Packet.CLIENT_REQUEST
1335797077552: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797077594: Received UDP payload: 989
1335797077600: mux: GOT CSM_Msg
1335797077607: Received UDP payload: 446
1335797077614: mux: Inside Packet.SERVER_REPLY
1335797077614: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797077615: Received UDP payload: 4760
1335797077625: mux: GOT CSM_Msg
1335797077665: Received UDP payload: 446
1335797077765: Received UDP payload: 4745
1335797077768: mux: Inside Packet.SERVER_REPLY
1335797077769: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797077817: Received UDP payload: 446
1335797077819: mux: Inside mux Packet.CLIENT_REQUEST
1335797077819: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797077832: Received UDP payload: 4760
1335797077836: mux: GOT CSM_Msg
1335797077864: Received UDP payload: 989
1335797077868: mux: GOT CSM_Msg
1335797078081: Received UDP payload: 989
1335797078087: mux: GOT CSM_Msg
1335797078162: Received UDP payload: 4760
1335797078166: mux: GOT CSM_Msg
1335797078364: Received UDP payload: 446
1335797078415: Received UDP payload: 4760
1335797078422: mux: GOT CSM_Msg
1335797078491: Received UDP payload: 4760
1335797078498: mux: GOT CSM_Msg
1335797078631: Received UDP payload: 4760
1335797078639: mux: GOT CSM_Msg
1335797078688: Received UDP payload: 989
1335797078695: mux: GOT CSM_Msg
1335797078801: Received UDP payload: 989
1335797078809: mux: GOT CSM_Msg
1335797078829: Received UDP payload: 4760
1335797078836: mux: GOT CSM_Msg
1335797078910: Received UDP payload: 989
1335797078912: mux: GOT CSM_Msg
1335797078916: Received UDP payload: 4760
1335797078918: mux: GOT CSM_Msg
1335797079005: Received UDP payload: 989
1335797079007: mux: GOT CSM_Msg
1335797079041: Received UDP payload: 446
1335797079112: Received UDP payload: 989
1335797079114: mux: GOT CSM_Msg
1335797079307: Received UDP payload: 446
1335797079468: Received UDP payload: 625
1335797079469: mux: Inside mux Packet.CLIENT_REQUEST
1335797079469: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797079702: Received UDP payload: 6455
1335797079709: mux: GOT CSM_Msg
1335797079745: Received UDP payload: 989
1335797079752: mux: GOT CSM_Msg
1335797079753: Received UDP payload: 446
1335797079756: mux: Inside Packet.SERVER_REPLY
1335797079756: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797080018: Received UDP payload: 6108
1335797080020: mux: Inside Packet.SERVER_REPLY
1335797080020: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797080036: Received UDP payload: 446
1335797080037: mux: Inside mux Packet.CLIENT_REQUEST
1335797080038: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797082648: Received UDP payload: 446
1335797083206: Received UDP payload: 989
1335797083213: mux: GOT CSM_Msg
1335797083365: Received UDP payload: 6455
1335797083370: mux: GOT CSM_Msg
1335797083375: Received UDP payload: 446
1335797084069: Received UDP payload: 625
1335797084076: mux: Inside mux Packet.CLIENT_REQUEST
1335797084077: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797084282: Received UDP payload: 446
1335797084369: Received UDP payload: 625
1335797084375: mux: Inside mux Packet.CLIENT_REQUEST
1335797084376: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797084418: Received UDP payload: 989
1335797084427: mux: GOT CSM_Msg
1335797084427: Received UDP payload: 446
1335797084436: mux: Inside Packet.SERVER_REPLY
1335797084437: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797084532: Received UDP payload: 6455
1335797084534: mux: GOT CSM_Msg
1335797084671: Received UDP payload: 446
1335797084672: mux: Inside mux Packet.CLIENT_REQUEST
1335797084672: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797084922: canPressButton = TRUE
1335797084922: areButtonsEnabled --> false
1335797084923: disabling buttons ...
1335797084923: took picture disableButtonsR
1335797084923: areButtonsEnabled --> false
1335797084939: one more takeNum: 6
1335797084940: reg=1 id=5005 state=3 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=83% getNum=14 getGood=11 getBad=3 getTimedout=0 getPercent=78%
1335797084940: Clicked take picture button ..
1335797085705: Received UDP payload: 4597
1335797085707: mux: GOT CSM_Msg
1335797085720: Received UDP payload: 989
1335797085723: mux: GOT CSM_Msg
1335797086366: inside HandlePictureStorage onPictureTaken()
1335797086366: one more takeCamGood: 6
1335797086367: reg=1 id=5005 state=3 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=83% getNum=14 getGood=11 getBad=3 getTimedout=0 getPercent=78%
1335797086630: Picture successfully taken, ORIG BYTE LENGTH = 2843778
1335797086922: Our new height x width: 306 x 408
1335797086923: Show photo from handle my camera take
1335797086923: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335797086923: change local requestCounter to 39
1335797086949: BYTE SIZE AFTER COMPRESSION: 5093
1335797086958: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5005039 Client in region: 1 Client nodID: 5005
1335797086999: ----------------------------
1335797087000: inside sendRequestPacketRepeatingRunnable for requestCount = 5005039
1335797087000: I'm a nonleader sending my requesting photos packet to my leader
1335797087010: --- Finished one round of sending REQUEST Packet ---------
1335797087000: inside sendPacket(Packet p)
1335797087007: Sending UDP payload: 5740
1335797087273: Received UDP payload: 446
1335797087295: mux: Inside Packet.SERVER_REPLY
1335797087296: mux: I have the photo requester id = 5005 about to display photo or receive upload ack
1335797087299: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797087288: Received UDP payload: 989
1335797087315: mux: GOT CSM_Msg
1335797087316: Received UDP payload: 642
1335797087320: mux: Inside Packet.SERVER_REPLY
1335797087321: mux: I have the photo requester id = 5005 about to display photo or receive upload ack
1335797087335: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335797087335: disabling progressdialog due to successful new photo upload
1335797087335: Inside _enableButtons
1335797087335: areButtonsEnabled --> true
1335797087336: send final leg ack regardless of new or already-processed reply
1335797087336: inside finalLegAck: change requestCounter to 40
1335797087336: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005040 Client in region: (1,0) Client nodID: 5005
1335797087336: I'm a nonleader client sending my final_leg packet to my leader
1335797087341: new client_upload_photo_ack reply with replyCounter 501300006
1335797087342: note down new reply by adding replyCounter=501300006 to HashMap processedReplies
1335797087342: nonleader upload new photo latency = 335
1335797087342: = nonleader upload start 1335797087000 ~ stop 1335797087335
1335797087347: one more takeGoodSave: 6
1335797087348: reg=1 id=5005 state=3 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=11 getBad=3 getTimedout=0 getPercent=78%
1335797087349: SUCCESS Client now knows saving photo on its leader succeeded
1335797087340: inside sendPacket(Packet p)
1335797087341: Sending UDP payload: 446
1335797087536: Received UDP payload: 642
1335797087537: mux: Inside Packet.SERVER_REPLY
1335797087538: mux: I have the photo requester id = 5005 about to display photo or receive upload ack
1335797087539: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335797087539: disabling progressdialog due to successful new photo upload
1335797087539: Inside _enableButtons
1335797087539: areButtonsEnabled --> true
1335797087540: send final leg ack regardless of new or already-processed reply
1335797087540: inside finalLegAck: change requestCounter to 41
1335797087540: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005041 Client in region: (1,0) Client nodID: 5005
1335797087540: I'm a nonleader client sending my final_leg packet to my leader
1335797087542: cupa discarding repeated replyCounter=501300006, but still sent an ack back
1335797087541: inside sendPacket(Packet p)
1335797087541: Sending UDP payload: 446
1335797087636: Received UDP payload: 446
1335797088145: Received UDP payload: 625
1335797088147: mux: Inside mux Packet.CLIENT_REQUEST
1335797088147: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797088186: Received UDP payload: 989
1335797088190: mux: GOT CSM_Msg
1335797088194: Received UDP payload: 446
1335797088196: mux: Inside Packet.SERVER_REPLY
1335797088196: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797088363: Received UDP payload: 446
1335797088601: Received UDP payload: 446
1335797088882: Received UDP payload: 989
1335797088890: mux: GOT CSM_Msg
1335797088982: Received UDP payload: 5994
1335797088991: mux: GOT CSM_Msg
1335797089104: Received UDP payload: 5647
1335797089109: mux: Inside Packet.SERVER_REPLY
1335797089110: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797089124: Received UDP payload: 446
1335797089128: mux: Inside mux Packet.CLIENT_REQUEST
1335797089129: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797089866: Received UDP payload: 446
1335797091907: Received UDP payload: 989
1335797091916: mux: GOT CSM_Msg
1335797092432: Received UDP payload: 625
1335797092439: mux: Inside mux Packet.CLIENT_REQUEST
1335797092439: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797092460: Received UDP payload: 989
1335797092468: mux: GOT CSM_Msg
1335797092477: Received UDP payload: 446
1335797092481: mux: Inside Packet.SERVER_REPLY
1335797092481: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797092588: Received UDP payload: 4597
1335797092591: mux: GOT CSM_Msg
1335797092661: Received UDP payload: 446
1335797092971: Received UDP payload: 4250
1335797092972: mux: Inside Packet.SERVER_REPLY
1335797092973: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797092996: Received UDP payload: 989
1335797092998: mux: GOT CSM_Msg
1335797093003: canPressButton = TRUE
1335797093003: areButtonsEnabled --> false 
1335797093003: get picture disableButtonsR
1335797093003: areButtonsEnabled --> false
1335797093030: one more getNum: 15
1335797093031: reg=1 id=5005 state=3 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=11 getBad=3 getTimedout=0 getPercent=73%
1335797093031: ** Client of state 3 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335797093032: change local requestCounter to 42
1335797093032: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005042 Client in region: 1 Client nodID: 5005
1335797093079: ----------------------------
1335797093080: inside sendRequestPacketRepeatingRunnable for requestCount = 5005042
1335797093080: I'm a nonleader sending my requesting photos packet to my leader
1335797093084: --- Finished one round of sending REQUEST Packet ---------
1335797093064: Received UDP payload: 5092
1335797093068: mux: GOT CSM_Msg
1335797093080: inside sendPacket(Packet p)
1335797093082: Sending UDP payload: 625
1335797093142: Received UDP payload: 989
1335797093144: mux: GOT CSM_Msg
1335797093276: Received UDP payload: 625
1335797093278: mux: Inside mux Packet.CLIENT_REQUEST
1335797093278: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797093367: Received UDP payload: 6513
1335797093369: mux: GOT CSM_Msg
1335797093378: Received UDP payload: 989
1335797093380: mux: GOT CSM_Msg
1335797093389: ----------------------------
1335797093390: inside sendRequestPacketRepeatingRunnable for requestCount = 5005042
1335797093390: I'm a nonleader sending my requesting photos packet to my leader
1335797093392: --- Finished one round of sending REQUEST Packet ---------
1335797093390: inside sendPacket(Packet p)
1335797093391: Sending UDP payload: 625
1335797093446: Received UDP payload: 446
1335797093481: Received UDP payload: 4250
1335797093482: mux: Inside Packet.SERVER_REPLY
1335797093483: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797093692: ----------------------------
1335797093692: inside sendRequestPacketRepeatingRunnable for requestCount = 5005042
1335797093693: I'm a nonleader sending my requesting photos packet to my leader
1335797093693: --- Finished one round of sending REQUEST Packet ---------
1335797093693: inside sendPacket(Packet p)
1335797093696: Sending UDP payload: 625
1335797093736: Received UDP payload: 625
1335797093737: mux: Inside mux Packet.CLIENT_REQUEST
1335797093737: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797093804: Received UDP payload: 625
1335797093806: mux: Inside mux Packet.CLIENT_REQUEST
1335797093806: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797093856: Received UDP payload: 7258
1335797093858: mux: Inside Packet.SERVER_REPLY
1335797093858: mux: I have the photo requester id = 5005 about to display photo or receive upload ack
1335797093859: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797093859: disabling progressdialog due to successful new photo get
1335797093861: Inside _enableButtons
1335797093861: areButtonsEnabled --> true
1335797093862: send final leg ack regardless of new or already-processed reply
1335797093862: inside finalLegAck: change requestCounter to 43
1335797093862: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005043 Client in region: (1,0) Client nodID: 5005
1335797093863: I'm a nonleader client sending my final_leg packet to my leader
1335797093864: new client_show_remotephoto reply with replyCounter 501300009
1335797093865: note down new reply by adding replyCounter=501300009 to HashMap processedReplies
1335797093865: nonleader download remote photo latency = 166
1335797093865: = nonleader download start 1335797093693 ~ stop 1335797093859
1335797093866: one more getGood: 12
1335797093867: reg=1 id=5005 state=3 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=12 getBad=3 getTimedout=0 getPercent=80%
1335797093867: successful reply for client get photo
1335797093867: Success! Client getting photo from remote region, showing photo...
1335797093868: Remote photo's length: 6594
1335797093863: inside sendPacket(Packet p)
1335797093863: Sending UDP payload: 446
1335797093915: Received UDP payload: 446
1335797093919: mux: Inside Packet.SERVER_REPLY
1335797093919: mux: I have the photo requester id = 5005 about to display photo or receive upload ack
1335797093975: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797093916: Received UDP payload: 446
1335797093919: mux: Inside Packet.SERVER_REPLY
1335797093919: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797093931: Received UDP payload: 446
1335797093932: mux: Inside Packet.SERVER_REPLY
1335797093933: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797094036: Received UDP payload: 446
1335797094042: Received UDP payload: 446
1335797094044: mux: Inside Packet.SERVER_REPLY
1335797094044: mux: I have the photo requester id = 5005 about to display photo or receive upload ack
1335797094045: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797094072: Received UDP payload: 989
1335797094075: mux: GOT CSM_Msg
1335797094165: Received UDP payload: 989
1335797094167: mux: GOT CSM_Msg
1335797094322: Received UDP payload: 446
1335797094330: Received UDP payload: 6513
1335797094339: mux: GOT CSM_Msg
1335797094431: Received UDP payload: 625
1335797094433: mux: Inside mux Packet.CLIENT_REQUEST
1335797094433: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797094471: Received UDP payload: 6513
1335797094475: mux: GOT CSM_Msg
1335797094475: Received UDP payload: 6166
1335797094477: mux: Inside Packet.SERVER_REPLY
1335797094477: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797094511: Received UDP payload: 989
1335797094514: mux: GOT CSM_Msg
1335797094515: Received UDP payload: 446
1335797094517: mux: Inside mux Packet.CLIENT_REQUEST
1335797094517: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797094628: Received UDP payload: 5994
1335797094631: mux: GOT CSM_Msg
1335797094730: Received UDP payload: 446
1335797094731: mux: Inside mux Packet.CLIENT_REQUEST
1335797094731: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797096761: Received UDP payload: 989
1335797096769: mux: GOT CSM_Msg
1335797096911: Received UDP payload: 6513
1335797096919: mux: GOT CSM_Msg
1335797096978: Received UDP payload: 446
1335797097645: Received UDP payload: 446
1335797098185: Received UDP payload: 463
1335797098190: heard LEADER_ELECT from node 5013, responding LEADER_NOMINATE
1335797098190: inside sendPacket(Packet p)
1335797098192: Sending UDP payload: 446
1335797098203: Received UDP payload: 446
1335797098386: Received UDP payload: 446
1335797098604: Received UDP payload: 446
1335797099290: Received UDP payload: 446
1335797101230: canPressButton = TRUE
1335797101230: areButtonsEnabled --> false 
1335797101230: get picture disableButtonsR
1335797101230: areButtonsEnabled --> false
1335797101247: one more getNum: 16
1335797101248: reg=1 id=5005 state=3 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=12 getBad=3 getTimedout=0 getPercent=75%
1335797101248: ** Client of state 3 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335797101248: change local requestCounter to 44
1335797101249: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005044 Client in region: 1 Client nodID: 5005
1335797101287: ----------------------------
1335797101287: inside sendRequestPacketRepeatingRunnable for requestCount = 5005044
1335797101288: I'm a nonleader sending my requesting photos packet to my leader
1335797101289: --- Finished one round of sending REQUEST Packet ---------
1335797101288: inside sendPacket(Packet p)
1335797101289: Sending UDP payload: 625
1335797101591: ----------------------------
1335797101592: inside sendRequestPacketRepeatingRunnable for requestCount = 5005044
1335797101592: I'm a nonleader sending my requesting photos packet to my leader
1335797101594: --- Finished one round of sending REQUEST Packet ---------
1335797101593: inside sendPacket(Packet p)
1335797101595: Sending UDP payload: 625
1335797101627: Received UDP payload: 989
1335797101634: mux: GOT CSM_Msg
1335797101896: ----------------------------
1335797101897: inside sendRequestPacketRepeatingRunnable for requestCount = 5005044
1335797101897: I'm a nonleader sending my requesting photos packet to my leader
1335797101898: --- Finished one round of sending REQUEST Packet ---------
1335797101898: inside sendPacket(Packet p)
1335797101899: Sending UDP payload: 625
1335797102200: ----------------------------
1335797102200: inside sendRequestPacketRepeatingRunnable for requestCount = 5005044
1335797102201: I'm a nonleader sending my requesting photos packet to my leader
1335797102202: --- Finished one round of sending REQUEST Packet ---------
1335797102202: inside sendPacket(Packet p)
1335797102204: Sending UDP payload: 625
1335797102261: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335797102341: Received UDP payload: 989
1335797102344: mux: GOT CSM_Msg
1335797102443: Received UDP payload: 989
1335797102450: mux: GOT CSM_Msg
1335797102542: Received UDP payload: 989
1335797102544: mux: GOT CSM_Msg
1335797102645: Received UDP payload: 989
1335797102649: mux: GOT CSM_Msg
1335797102746: Received UDP payload: 989
1335797102753: mux: GOT CSM_Msg
1335797102850: Received UDP payload: 989
1335797102859: mux: GOT CSM_Msg
1335797102949: Received UDP payload: 989
1335797102962: mux: GOT CSM_Msg
1335797103209: Received UDP payload: 989
1335797103214: mux: GOT CSM_Msg
1335797103345: Received UDP payload: 989
1335797103351: mux: GOT CSM_Msg
1335797103361: Received UDP payload: 989
1335797103374: mux: GOT CSM_Msg
1335797103382: Received UDP payload: 446
1335797103386: Received UDP payload: 989
1335797103389: mux: GOT CSM_Msg
1335797103465: Received UDP payload: 989
1335797103470: mux: GOT CSM_Msg
1335797103566: Received UDP payload: 989
1335797103570: mux: GOT CSM_Msg
1335797103668: Received UDP payload: 989
1335797103673: mux: GOT CSM_Msg
1335797103771: Received UDP payload: 989
1335797103780: mux: GOT CSM_Msg
1335797104335: Received UDP payload: 446
1335797105164: Received UDP payload: 625
1335797105165: mux: Inside mux Packet.CLIENT_REQUEST
1335797105165: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797105466: Received UDP payload: 625
1335797105469: mux: Inside mux Packet.CLIENT_REQUEST
1335797105469: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797105780: Received UDP payload: 625
1335797105786: mux: Inside mux Packet.CLIENT_REQUEST
1335797105787: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797106076: Received UDP payload: 625
1335797106079: mux: Inside mux Packet.CLIENT_REQUEST
1335797106079: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797106206: Received UDP payload: 989
1335797106210: mux: GOT CSM_Msg
1335797106623: Received UDP payload: 446
1335797106994: Received UDP payload: 989
1335797107001: mux: GOT CSM_Msg
1335797107026: Received UDP payload: 446
1335797107085: Received UDP payload: 989
1335797107087: mux: GOT CSM_Msg
1335797107190: Received UDP payload: 989
1335797107192: mux: GOT CSM_Msg
1335797107247: one more getTimedout: 1
1335797107248: reg=1 id=5005 state=3 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=12 getBad=3 getTimedout=1 getPercent=75%
1335797107248: inside buttonsEnableProgressTimeoutR. Perhaps no one is in that region. Try again later!
1335797107252: Inside _enableButtons
1335797107252: areButtonsEnabled --> true
1335797107289: Received UDP payload: 989
1335797107291: mux: GOT CSM_Msg
1335797107366: Received UDP payload: 446
1335797107391: Received UDP payload: 989
1335797107393: mux: GOT CSM_Msg
1335797107487: Received UDP payload: 989
1335797107488: mux: GOT CSM_Msg
1335797107592: Received UDP payload: 989
1335797107594: mux: GOT CSM_Msg
1335797107693: Received UDP payload: 989
1335797107696: mux: GOT CSM_Msg
1335797107701: Received UDP payload: 625
1335797107703: mux: Inside mux Packet.CLIENT_REQUEST
1335797107703: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335797107724: Received UDP payload: 989
1335797107727: mux: GOT CSM_Msg
1335797107729: Received UDP payload: 446
1335797107731: mux: Inside Packet.SERVER_REPLY
1335797107731: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797107796: Received UDP payload: 989
1335797107798: mux: GOT CSM_Msg
1335797107899: Received UDP payload: 989
1335797107901: mux: GOT CSM_Msg
1335797108000: Received UDP payload: 989
1335797108002: mux: GOT CSM_Msg
1335797108101: Received UDP payload: 989
1335797108103: mux: GOT CSM_Msg
1335797108203: Received UDP payload: 989
1335797108205: mux: GOT CSM_Msg
1335797108326: Received UDP payload: 989
1335797108330: mux: GOT CSM_Msg
1335797108371: Received UDP payload: 446
1335797108501: Received UDP payload: 989
1335797108508: mux: GOT CSM_Msg
1335797108606: Received UDP payload: 989
1335797108612: mux: GOT CSM_Msg
1335797108702: Received UDP payload: 989
1335797108703: mux: GOT CSM_Msg
1335797108812: Received UDP payload: 989
1335797108815: mux: GOT CSM_Msg
1335797108911: Received UDP payload: 989
1335797108913: mux: GOT CSM_Msg
1335797109008: Received UDP payload: 989
1335797109010: mux: GOT CSM_Msg
1335797109109: Received UDP payload: 989
1335797109112: mux: GOT CSM_Msg
1335797109146: Missed 3 HEARTBEATS from LEADER, going to JOINING.
1335797109146: VCoreDaemon.java inside stateTransition ..........
1335797109147: removing leaderRequestRetryR because I'm doing a stateTransition
1335797109147: ..... VCoreDaemon.java targetState = JOINING (1,0)
1335797109147: posting leaderRequestRetryR because I'm joining
1335797109147: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335797109147: sending LEADER_REQUEST
1335797109147: inside sendPacket(Packet p)
1335797109148: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335797109149: Sending UDP payload: 446
1335797109211: Received UDP payload: 989
1335797109213: mux: GOT CSM_Msg
1335797109293: Received UDP payload: 446
1335797109320: Received UDP payload: 989
1335797109322: mux: GOT CSM_Msg
1335797109415: Received UDP payload: 989
1335797109417: mux: GOT CSM_Msg
1335797109447: sending LEADER_REQUEST
1335797109448: inside sendPacket(Packet p)
1335797109448: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335797109449: Sending UDP payload: 446
1335797109517: Received UDP payload: 989
1335797109521: mux: GOT CSM_Msg
1335797109618: Received UDP payload: 989
1335797109621: mux: GOT CSM_Msg
1335797109720: Received UDP payload: 989
1335797109722: mux: GOT CSM_Msg
1335797109748: sending LEADER_REQUEST
1335797109748: inside sendPacket(Packet p)
1335797109749: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335797109749: Sending UDP payload: 446
1335797109808: Received UDP payload: 625
1335797109809: mux: Inside mux Packet.CLIENT_REQUEST
1335797109823: Received UDP payload: 989
1335797109825: mux: GOT CSM_Msg
1335797109832: Received UDP payload: 642
1335797109834: mux: Inside Packet.SERVER_REPLY
1335797109834: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797109864: Received UDP payload: 446
1335797109866: mux: Inside mux Packet.CLIENT_REQUEST
1335797109901: Received UDP payload: 989
1335797109903: mux: GOT CSM_Msg
1335797109916: Received UDP payload: 446
1335797109918: mux: Inside Packet.SERVER_REPLY
1335797109918: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797110049: sending LEADER_REQUEST
1335797110050: inside sendPacket(Packet p)
1335797110050: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335797110051: Sending UDP payload: 446
1335797110140: Received UDP payload: 7642
1335797110142: mux: GOT CSM_Msg
1335797110147: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335797110148: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335797110148: VCoreDaemon.java inside stateTransition ..........
1335797110148: removing leaderRequestRetryR because I'm doing a stateTransition
1335797110148: ..... VCoreDaemon.java targetState = LEADER
1335797110148: trying to take leadership (1,0) to the cloud
1335797110222: Received UDP payload: 446
1335797110224: mux: Inside Packet.SERVER_REPLY
1335797110224: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797110277: Received UDP payload: 989
1335797110279: mux: GOT CSM_Msg
1335797110296: Received UDP payload: 642
1335797110297: mux: Inside Packet.SERVER_REPLY
1335797110298: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797110342: Received UDP payload: 7278
1335797110344: mux: Inside mux Packet.CLIENT_REQUEST
1335797110392: Received UDP payload: 642
1335797110393: mux: Inside Packet.SERVER_REPLY
1335797110393: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797110408: Received UDP payload: 446
1335797110409: mux: Inside mux Packet.CLIENT_REQUEST
1335797110431: Received UDP payload: 446
1335797110433: mux: Inside mux Packet.CLIENT_REQUEST
1335797110621: Received UDP payload: 989
1335797110627: mux: GOT CSM_Msg
1335797110749: Received UDP payload: 989
1335797110752: mux: GOT CSM_Msg
1335797110821: Received UDP payload: 989
1335797110823: mux: GOT CSM_Msg
1335797110936: Received UDP payload: 989
1335797110938: mux: GOT CSM_Msg
1335797111017: Received UDP payload: 989
1335797111019: mux: GOT CSM_Msg
1335797111130: Received UDP payload: 5092
1335797111138: mux: GOT CSM_Msg
1335797111142: Received UDP payload: 989
1335797111159: mux: GOT CSM_Msg
1335797111159: Received UDP payload: 989
1335797111173: mux: GOT CSM_Msg
1335797111230: Received UDP payload: 989
1335797111237: mux: GOT CSM_Msg
1335797111338: Received UDP payload: 989
1335797111344: mux: GOT CSM_Msg
1335797111442: Received UDP payload: 989
1335797111448: mux: GOT CSM_Msg
1335797111543: Received UDP payload: 989
1335797111549: mux: GOT CSM_Msg
1335797111592: Received UDP payload: 446
1335797111635: Received UDP payload: 989
1335797111643: mux: GOT CSM_Msg
1335797111696: Received UDP payload: 446
1335797111743: Received UDP payload: 989
1335797111751: mux: GOT CSM_Msg
1335797111837: Received UDP payload: 989
1335797111839: mux: GOT CSM_Msg
1335797111895: Received UDP payload: 446
1335797111949: Received UDP payload: 989
1335797111951: mux: GOT CSM_Msg
1335797111960: Received UDP payload: 642
1335797111961: mux: Inside Packet.SERVER_REPLY
1335797111961: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797111999: Received UDP payload: 446
1335797112000: mux: Inside mux Packet.CLIENT_REQUEST
1335797112105: Received UDP payload: 446
1335797112190: Received UDP payload: 446
1335797112311: Received UDP payload: 446
1335797112406: Received UDP payload: 446
1335797112600: Received UDP payload: 446
1335797112703: Received UDP payload: 446
1335797113003: Received UDP payload: 446
1335797113018: canPressButton = false. state is + 1 Can't press button because you're in a transient state (JOINING or HANDING_OFF)
1335797113021: can't press any buttons yet, so can't get region
1335797113354: Received UDP payload: 446
1335797114296: Received UDP payload: 446
1335797115260: Received UDP payload: 6294
1335797115270: mux: GOT CSM_Msg
1335797115291: Received UDP payload: 989
1335797115299: mux: GOT CSM_Msg
1335797116733: Received UDP payload: 446
1335797118176: cloud accepted leadership request, returned csm bytes size 109068
1335797118176: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1335797118176: *** Starting CSM Layer ***
1335797118176: *** CSM Layer starting with cache disabled ***
1335797118176: *** CSM Layer starting with forwarding disabled ***
1335797118355: Received UDP payload: 446
1335797120368: DSMLayer starting
1335797120380: UserApp started.
1335797120380: loaded csm data from cloud
1335797120454: inside sendPacket(Packet p)
1335797120466: now fully up as LEADER (id=5005) of (1,0)
1335797120466: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335797120466: heard LEADER_REQUEST from node 5022, responding LEADER_REPLY
1335797120508: Sending UDP payload: 35039
1335797120539: inside sendPacket(Packet p)
1335797120540: Sending UDP payload: 35056
1335797120542: Received UDP payload: 989
1335797120548: mux: GOT CSM_Msg
1335797120548: forwarding disabled, not forwarding packets
1335797120548: heard LEADER_REQUEST from node 5022, responding LEADER_REPLY
1335797120588: inside sendPacket(Packet p)
1335797120589: Sending UDP payload: 35056
1335797120591: heard LEADER_REQUEST from node 5006, responding LEADER_REPLY
1335797120621: inside sendPacket(Packet p)
1335797120621: heard LEADER_REQUEST from node 5022, responding LEADER_REPLY
1335797120625: Sending UDP payload: 35056
1335797120655: inside sendPacket(Packet p)
1335797120664: Sending UDP payload: 35056
1335797120666: heard LEADER_REQUEST from node 5006, responding LEADER_REPLY
1335797120686: inside sendPacket(Packet p)
1335797120687: Sending UDP payload: 35056
1335797120689: heard LEADER_REQUEST from node 5006, responding LEADER_REPLY
1335797120753: inside sendPacket(Packet p)
1335797120753: heard LEADER_REQUEST from node 5006, responding LEADER_REPLY
1335797120754: Sending UDP payload: 35056
1335797120772: inside sendPacket(Packet p)
1335797120772: inside sendPacket(Packet p)
1335797120780: Sending UDP payload: 35056
1335797120782: Sending UDP payload: 446
1335797121307: Received UDP payload: 625
1335797121309: mux: Inside mux Packet.CLIENT_REQUEST
1335797121358: Received UDP payload: 989
1335797121362: mux: GOT CSM_Msg
1335797121362: forwarding disabled, not forwarding packets
1335797121375: Received UDP payload: 446
1335797121379: mux: Inside Packet.SERVER_REPLY
1335797121380: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797121742: Received UDP payload: 989
1335797121749: mux: GOT CSM_Msg
1335797121750: forwarding disabled, not forwarding packets
1335797121786: Received UDP payload: 6728
1335797121797: mux: GOT CSM_Msg
1335797121797: forwarding disabled, not forwarding packets
1335797121802: Received UDP payload: 989
1335797121804: mux: GOT CSM_Msg
1335797121804: forwarding disabled, not forwarding packets
1335797121837: Received UDP payload: 989
1335797121839: mux: GOT CSM_Msg
1335797121839: removed replies before id 2 from sentReplies of size 1
1335797121839: inside handleDSMRequest. At requests's remote leader of region 1
1335797121841: INSIDE SERVER_GET_PHOTO!!!
1335797121845: Received PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797121845: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797121845: mux: I got a CSM packet at a leader 

1335797121847: Sending UDP payload: 7605
1335797121854: forwarding disabled, not forwarding packets
1335797121867: Received UDP payload: 446
1335797121868: mux: Inside Packet.SERVER_REPLY
1335797121869: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797121899: Received UDP payload: 446
1335797121900: mux: Inside Packet.SERVER_REPLY
1335797121900: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797122036: Received UDP payload: 989
1335797122038: mux: GOT CSM_Msg
1335797122038: forwarding disabled, not forwarding packets
1335797122087: Received UDP payload: 989
1335797122089: mux: GOT CSM_Msg
1335797122090: forwarding disabled, not forwarding packets
1335797122131: Received UDP payload: 989
1335797122133: mux: GOT CSM_Msg
1335797122133: forwarding disabled, not forwarding packets
1335797122215: Received UDP payload: 989
1335797122217: mux: GOT CSM_Msg
1335797122217: forwarding disabled, not forwarding packets
1335797122308: Received UDP payload: 989
1335797122310: mux: GOT CSM_Msg
1335797122310: forwarding disabled, not forwarding packets
1335797122353: Received UDP payload: 6242
1335797122355: mux: GOT CSM_Msg
1335797122355: forwarding disabled, not forwarding packets
1335797122407: Received UDP payload: 989
1335797122410: mux: GOT CSM_Msg
1335797122411: forwarding disabled, not forwarding packets
1335797122616: Received UDP payload: 5092
1335797122619: mux: GOT CSM_Msg
1335797122619: forwarding disabled, not forwarding packets
1335797122628: Received UDP payload: 989
1335797122632: mux: GOT CSM_Msg
1335797122632: forwarding disabled, not forwarding packets
1335797122636: Received UDP payload: 446
1335797122731: Received UDP payload: 989
1335797122736: mux: GOT CSM_Msg
1335797122736: removed replies before id 2 from sentReplies of size 2
1335797122737: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797122737: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797122737: mux: I got a CSM packet at a leader 

1335797122740: Sending UDP payload: 7605
1335797122740: forwarding disabled, not forwarding packets
1335797122741: Received UDP payload: 989
1335797122744: mux: GOT CSM_Msg
1335797122744: forwarding disabled, not forwarding packets
1335797123036: Received UDP payload: 989
1335797123043: mux: GOT CSM_Msg
1335797123043: removed replies before id 2 from sentReplies of size 2
1335797123045: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797123046: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797123047: mux: I got a CSM packet at a leader 

1335797123051: Sending UDP payload: 7605
1335797123053: forwarding disabled, not forwarding packets
1335797123060: Received UDP payload: 989
1335797123062: mux: GOT CSM_Msg
1335797123063: forwarding disabled, not forwarding packets
1335797123075: Received UDP payload: 989
1335797123077: mux: GOT CSM_Msg
1335797123078: removed replies before id 2 from sentReplies of size 2
1335797123078: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797123079: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797123079: mux: I got a CSM packet at a leader 

1335797123080: Sending UDP payload: 7605
1335797123081: forwarding disabled, not forwarding packets
1335797123144: Received UDP payload: 989
1335797123146: mux: GOT CSM_Msg
1335797123146: forwarding disabled, not forwarding packets
1335797123253: canPressButton = TRUE
1335797123253: areButtonsEnabled --> false
1335797123254: disabling buttons ...
1335797123255: took picture disableButtonsR
1335797123256: areButtonsEnabled --> false
1335797123289: one more takeNum: 7
1335797123291: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=16 getGood=12 getBad=3 getTimedout=1 getPercent=75%
1335797123291: Clicked take picture button ..
1335797123271: Received UDP payload: 5092
1335797123275: mux: GOT CSM_Msg
1335797123275: forwarding disabled, not forwarding packets
1335797123280: Received UDP payload: 4745
1335797123287: mux: Inside Packet.SERVER_REPLY
1335797123288: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797123289: Received UDP payload: 989
1335797123294: mux: GOT CSM_Msg
1335797123295: removed replies before id 2 from sentReplies of size 2
1335797123296: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797123296: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797123297: mux: I got a CSM packet at a leader 

1335797123298: Sending UDP payload: 7605
1335797123299: forwarding disabled, not forwarding packets
1335797123302: Received UDP payload: 446
1335797123305: mux: Inside mux Packet.CLIENT_REQUEST
1335797123356: Received UDP payload: 989
1335797123362: mux: GOT CSM_Msg
1335797123362: removed replies before id 2 from sentReplies of size 2
1335797123363: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797123364: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797123364: mux: I got a CSM packet at a leader 

1335797123367: Sending UDP payload: 7605
1335797123368: forwarding disabled, not forwarding packets
1335797123387: Received UDP payload: 989
1335797123404: mux: GOT CSM_Msg
1335797123404: removed replies before id 2 from sentReplies of size 2
1335797123405: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797123406: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797123406: mux: I got a CSM packet at a leader 

1335797123409: Sending UDP payload: 7605
1335797123409: forwarding disabled, not forwarding packets
1335797123869: Received UDP payload: 625
1335797123870: mux: Inside mux Packet.CLIENT_REQUEST
1335797123929: Received UDP payload: 446
1335797123931: mux: Inside Packet.SERVER_REPLY
1335797123931: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797124023: Received UDP payload: 989
1335797124025: mux: GOT CSM_Msg
1335797124025: removed replies before id 2 from sentReplies of size 2
1335797124026: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797124026: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797124026: mux: I got a CSM packet at a leader 

1335797124027: Sending UDP payload: 7605
1335797124028: forwarding disabled, not forwarding packets
1335797124144: Received UDP payload: 6242
1335797124146: mux: GOT CSM_Msg
1335797124146: forwarding disabled, not forwarding packets
1335797124154: Received UDP payload: 989
1335797124156: mux: GOT CSM_Msg
1335797124156: forwarding disabled, not forwarding packets
1335797124310: Received UDP payload: 989
1335797124312: mux: GOT CSM_Msg
1335797124312: removed replies before id 18 from sentReplies of size 0
1335797124313: inside handleDSMRequest. At requests's remote leader of region 1
1335797124313: INSIDE SERVER_GET_PHOTO!!!
1335797124315: Received PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797124315: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797124325: mux: I got a CSM packet at a leader 

1335797124327: Sending UDP payload: 7605
1335797124328: forwarding disabled, not forwarding packets
1335797124338: Received UDP payload: 989
1335797124342: mux: GOT CSM_Msg
1335797124342: removed replies before id 18 from sentReplies of size 1
1335797124343: Received DUPLICATE PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797124343: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797124343: mux: I got a CSM packet at a leader 

1335797124359: Sending UDP payload: 7605
1335797124360: forwarding disabled, not forwarding packets
1335797124365: Received UDP payload: 6242
1335797124372: mux: GOT CSM_Msg
1335797124369: Received UDP payload: 446
1335797124372: forwarding disabled, not forwarding packets
1335797124383: Received UDP payload: 989
1335797124389: mux: GOT CSM_Msg
1335797124389: forwarding disabled, not forwarding packets
1335797124594: Received UDP payload: 989
1335797124598: mux: GOT CSM_Msg
1335797124598: removed replies before id 18 from sentReplies of size 1
1335797124599: Received DUPLICATE PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797124599: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797124599: mux: I got a CSM packet at a leader 

1335797124600: Sending UDP payload: 7605
1335797124607: forwarding disabled, not forwarding packets
1335797124607: Received UDP payload: 989
1335797124610: mux: GOT CSM_Msg
1335797124611: removed replies before id 18 from sentReplies of size 1
1335797124611: Received DUPLICATE PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797124611: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797124612: mux: I got a CSM packet at a leader 

1335797124613: Sending UDP payload: 7605
1335797124614: forwarding disabled, not forwarding packets
1335797124653: Received UDP payload: 989
1335797124660: mux: GOT CSM_Msg
1335797124660: removed replies before id 2 from sentReplies of size 2
1335797124661: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797124661: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797124661: mux: I got a CSM packet at a leader 

1335797124663: Sending UDP payload: 7605
1335797124663: forwarding disabled, not forwarding packets
1335797124680: Received UDP payload: 989
1335797124682: mux: GOT CSM_Msg
1335797124683: removed replies before id 2 from sentReplies of size 2
1335797124683: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797124684: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797124684: mux: I got a CSM packet at a leader 

1335797124685: Sending UDP payload: 7605
1335797124686: forwarding disabled, not forwarding packets
1335797124699: Received UDP payload: 989
1335797124701: mux: GOT CSM_Msg
1335797124701: removed replies before id 18 from sentReplies of size 1
1335797124702: Received DUPLICATE PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797124702: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797124702: mux: I got a CSM packet at a leader 

1335797124703: Sending UDP payload: 7605
1335797124704: forwarding disabled, not forwarding packets
1335797124859: inside HandlePictureStorage onPictureTaken()
1335797124860: one more takeCamGood: 7
1335797124861: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=16 getGood=12 getBad=3 getTimedout=1 getPercent=75%
1335797125126: Picture successfully taken, ORIG BYTE LENGTH = 2755816
1335797125526: Our new height x width: 306 x 408
1335797125527: Show photo from handle my camera take
1335797125528: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335797125529: change local requestCounter to 45
1335797125557: BYTE SIZE AFTER COMPRESSION: 5058
1335797125563: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5005045 Client in region: 1 Client nodID: 5005
1335797124859: Received UDP payload: 4745
1335797124865: mux: Inside Packet.SERVER_REPLY
1335797124866: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797124865: Received UDP payload: 989
1335797124868: mux: GOT CSM_Msg
1335797124868: forwarding disabled, not forwarding packets
1335797124922: Received UDP payload: 989
1335797124924: mux: GOT CSM_Msg
1335797124924: removed replies before id 18 from sentReplies of size 1
1335797124925: inside handleDSMRequest. At requests's remote leader of region 1
1335797124927: INSIDE SERVER_GET_PHOTO!!!
1335797124934: Received PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797124935: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797124935: mux: I got a CSM packet at a leader 

1335797124938: Sending UDP payload: 7605
1335797124939: forwarding disabled, not forwarding packets
1335797124978: Received UDP payload: 989
1335797124982: mux: GOT CSM_Msg
1335797124982: removed replies before id 18 from sentReplies of size 2
1335797124982: Received DUPLICATE PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797124983: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797124983: mux: I got a CSM packet at a leader 

1335797124984: Sending UDP payload: 7605
1335797124984: forwarding disabled, not forwarding packets
1335797125024: Received UDP payload: 989
1335797125027: mux: GOT CSM_Msg
1335797125027: removed replies before id 18 from sentReplies of size 2
1335797125028: Received DUPLICATE PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797125028: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797125028: mux: I got a CSM packet at a leader 

1335797125029: Sending UDP payload: 7605
1335797125030: forwarding disabled, not forwarding packets
1335797125035: Received UDP payload: 989
1335797125040: mux: GOT CSM_Msg
1335797125040: removed replies before id 2 from sentReplies of size 2
1335797125040: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797125040: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797125041: mux: I got a CSM packet at a leader 

1335797125042: Sending UDP payload: 7605
1335797125042: forwarding disabled, not forwarding packets
1335797125077: Received UDP payload: 989
1335797125080: mux: GOT CSM_Msg
1335797125080: removed replies before id 18 from sentReplies of size 2
1335797125081: Received DUPLICATE PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797125081: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797125081: mux: I got a CSM packet at a leader 

1335797125082: Sending UDP payload: 7605
1335797125083: forwarding disabled, not forwarding packets
1335797125086: Received UDP payload: 446
1335797125103: Received UDP payload: 989
1335797125113: mux: GOT CSM_Msg
1335797125113: removed replies before id 18 from sentReplies of size 2
1335797125114: Received DUPLICATE PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797125115: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797125115: mux: I got a CSM packet at a leader 

1335797125118: Sending UDP payload: 7605
1335797125118: forwarding disabled, not forwarding packets
1335797125122: Received UDP payload: 989
1335797125214: mux: GOT CSM_Msg
1335797125204: Received UDP payload: 989
1335797125215: mux: GOT CSM_Msg
1335797125210: Received UDP payload: 989
1335797125217: mux: GOT CSM_Msg
1335797125214: forwarding disabled, not forwarding packets
1335797125215: removed replies before id 2 from sentReplies of size 2
1335797125216: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797125217: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797125220: mux: I got a CSM packet at a leader 

1335797125218: removed replies before id 2 from sentReplies of size 2
1335797125219: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797125219: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797125234: mux: I got a CSM packet at a leader 

1335797125232: Sending UDP payload: 7605
1335797125233: forwarding disabled, not forwarding packets
1335797125236: Sending UDP payload: 7605
1335797125237: forwarding disabled, not forwarding packets
1335797125288: Received UDP payload: 989
1335797125290: mux: GOT CSM_Msg
1335797125291: removed replies before id 2 from sentReplies of size 2
1335797125292: Received DUPLICATE PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1335797125292: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1335797125292: mux: I got a CSM packet at a leader 

1335797125295: Sending UDP payload: 7605
1335797125295: forwarding disabled, not forwarding packets
1335797125388: Received UDP payload: 642
1335797125390: mux: Inside Packet.SERVER_REPLY
1335797125391: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797125413: Received UDP payload: 446
1335797125417: mux: Inside mux Packet.CLIENT_REQUEST
1335797125443: Received UDP payload: 642
1335797125446: mux: Inside Packet.SERVER_REPLY
1335797125447: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797125452: Received UDP payload: 642
1335797125455: mux: Inside Packet.SERVER_REPLY
1335797125455: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797125549: Received UDP payload: 446
1335797125551: mux: Inside mux Packet.CLIENT_REQUEST
1335797125621: ----------------------------
1335797125621: inside sendRequestPacketRepeatingRunnable for requestCount = 5005045
1335797125621: I'm a leader, my requesting photos packet going to mux directly
1335797125622: --- Finished one round of sending REQUEST Packet ---------
1335797125578: Received UDP payload: 446
1335797125583: mux: Inside mux Packet.CLIENT_REQUEST
1335797125622: mux: Inside mux Packet.CLIENT_REQUEST
1335797125622: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797125646: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797125622: inside handleClientRequest. Originator leader of region 1
1335797125623: got new request, requestCounter = 5005045
1335797125623: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797125626: Sending PROC_REQUEST 10:26 (1,0)->(1,0)
1335797125627: Dispatching Atom PROC_REQUEST 10:26 (1,0)->(1,0)
1335797125628: mux: I got a CSM packet at a leader 

1335797125665: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797125666: I'm a leader and I successfully saved my client's new photo
1335797125667: now showing in UI the new photo I just saved ... 
1335797125667: the photo length: 5058
1335797125710: end of server show photo aside %%%%%%%%%
1335797125627: Note down new request by adding requestCounter=5005045 to HashMap processedRequests
1335797125627: Make FirstLeg Ack regardless of new or already-processed requests
1335797125628: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797125631: Sending UDP payload: 6069
1335797125633: removed replies before id 26 from sentReplies of size 0
1335797125633: inside handleDSMRequest. At requests's remote leader of region 1
1335797125643: Inside UPLOAD_PHOTO!!
1335797125648: my_gpinfo.isSuccess is now (should be true): true
1335797125648: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797125649: Received PROC_REQUEST 10:26 (1,0)->(1,0), replying PROC_REPLY 10:26 (1,0)->(1,0)
1335797125650: Dispatching Atom PROC_REPLY 10:26 (1,0)->(1,0)
1335797125650: mux: I got a CSM packet at a leader 

1335797125711: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335797125712: disabling progressdialog due to successful new photo upload
1335797125712: Inside _enableButtons
1335797125712: areButtonsEnabled --> true
1335797125712: send final leg ack regardless of new or already-processed reply
1335797125712: inside finalLegAck: change requestCounter to 46
1335797125713: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005046 Client in region: (1,0) Client nodID: 5005
1335797125713: I'm a leader client, my final_leg packet going to mux directly
1335797125713: cupa discarding repeated replyCounter=500500001, but still sent an ack back
1335797125651: Sending UDP payload: 989
1335797125653: Received PROC_REPLY 10:26 (1,0)->(1,0), handing to UserApp
1335797125654: inside handleDSMReply. Now back in originator leader of region 1
1335797125654: DSM layer: Going to and from remote region took latency = 31
1335797125654: DSM layer: orig leader sent packet at 1335797125623 ~ received reply from remote leader at 1335797125654
1335797125656: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797125656: change leader replyCounter to: 1
1335797125656: Received UDP payload: 989
1335797125656: reply packet contains the success info for UPLOAD_PHOTO
1335797125657: inside sendReplies of replyCount = 500500001
1335797125657: =======================
1335797125657: inside sendReplyRepeatingRunnable for replyCount = 500500001
1335797125657: Leader about to send REPLY packet, number: 500500001 type: 16 Leader in region: (1,0) to Client nodID: 5005
1335797125657: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797125658: === Finished one round of sending REPLY Packet =======
1335797125659: mux: GOT CSM_Msg
1335797125659: forwarding disabled, not forwarding packets
1335797125713: mux: Inside mux Packet.CLIENT_REQUEST
1335797125714: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797125714: inside handleClientRequest. Originator leader of region 1
1335797125714: got new request, requestCounter = 5005046
1335797125714: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500001
1335797125714: Yay the last leg succeeded. Removing reply runnables ...
1335797125714: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500001
1335797125714: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500001
1335797125715: do not send ack for received final_leg_ack
1335797125774: inside sendPacket(Packet p)
1335797125779: Sending UDP payload: 446
1335797125909: Received UDP payload: 989
1335797125915: mux: GOT CSM_Msg
1335797125915: forwarding disabled, not forwarding packets
1335797126149: Received UDP payload: 989
1335797126152: mux: GOT CSM_Msg
1335797126152: removed replies before id 18 from sentReplies of size 2
1335797126152: Received DUPLICATE PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797126153: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797126153: mux: I got a CSM packet at a leader 

1335797126157: Sending UDP payload: 7605
1335797126158: forwarding disabled, not forwarding packets
1335797126806: Received UDP payload: 989
1335797126814: mux: GOT CSM_Msg
1335797126815: removed replies before id 18 from sentReplies of size 2
1335797126816: Received DUPLICATE PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797126825: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797126826: mux: I got a CSM packet at a leader 

1335797126851: Received UDP payload: 989
1335797126829: Sending UDP payload: 7605
1335797126860: forwarding disabled, not forwarding packets
1335797126863: mux: GOT CSM_Msg
1335797126867: removed replies before id 18 from sentReplies of size 2
1335797126867: Received DUPLICATE PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797126868: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797126868: mux: I got a CSM packet at a leader 

1335797126869: Sending UDP payload: 7605
1335797126869: forwarding disabled, not forwarding packets
1335797126870: Received UDP payload: 989
1335797126873: mux: GOT CSM_Msg
1335797126872: Received UDP payload: 989
1335797126875: mux: GOT CSM_Msg
1335797126874: removed replies before id 18 from sentReplies of size 2
1335797126874: Received DUPLICATE PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797126875: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797126876: mux: I got a CSM packet at a leader 

1335797126875: removed replies before id 18 from sentReplies of size 2
1335797126876: Received DUPLICATE PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797126876: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797126878: mux: I got a CSM packet at a leader 

1335797126877: Sending UDP payload: 7605
1335797126878: forwarding disabled, not forwarding packets
1335797126879: Sending UDP payload: 7605
1335797126879: forwarding disabled, not forwarding packets
1335797126884: Received UDP payload: 989
1335797126886: mux: GOT CSM_Msg
1335797126887: removed replies before id 18 from sentReplies of size 2
1335797126887: Received DUPLICATE PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797126888: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797126890: mux: I got a CSM packet at a leader 

1335797126891: Sending UDP payload: 7605
1335797126892: forwarding disabled, not forwarding packets
1335797126901: Received UDP payload: 989
1335797126904: mux: GOT CSM_Msg
1335797126904: removed replies before id 18 from sentReplies of size 2
1335797126905: Received DUPLICATE PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797126905: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797126905: mux: I got a CSM packet at a leader 

1335797126906: Sending UDP payload: 7605
1335797126907: forwarding disabled, not forwarding packets
1335797126918: Received UDP payload: 989
1335797126920: mux: GOT CSM_Msg
1335797126920: removed replies before id 18 from sentReplies of size 2
1335797126921: Received DUPLICATE PROC_REQUEST 11:18 (2,0)->(1,0), replying PROC_REPLY 11:18 (1,0)->(2,0)
1335797126921: Dispatching Atom PROC_REPLY 11:18 (1,0)->(2,0)
1335797126921: mux: I got a CSM packet at a leader 

1335797126922: Sending UDP payload: 7605
1335797126923: forwarding disabled, not forwarding packets
1335797126926: Received UDP payload: 989
1335797126928: mux: GOT CSM_Msg
1335797126928: removed replies before id 18 from sentReplies of size 2
1335797126929: Received DUPLICATE PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797126929: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797126929: mux: I got a CSM packet at a leader 

1335797126930: Sending UDP payload: 7605
1335797126934: forwarding disabled, not forwarding packets
1335797126941: Received UDP payload: 989
1335797126943: mux: GOT CSM_Msg
1335797126943: forwarding disabled, not forwarding packets
1335797126948: Received UDP payload: 625
1335797126950: mux: Inside mux Packet.CLIENT_REQUEST
1335797126995: Received UDP payload: 989
1335797126997: mux: GOT CSM_Msg
1335797126997: forwarding disabled, not forwarding packets
1335797127022: Received UDP payload: 989
1335797127025: mux: GOT CSM_Msg
1335797127025: removed replies before id 18 from sentReplies of size 2
1335797127026: Received DUPLICATE PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797127026: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797127026: mux: I got a CSM packet at a leader 

1335797127027: Sending UDP payload: 7605
1335797127027: forwarding disabled, not forwarding packets
1335797127043: Received UDP payload: 989
1335797127046: mux: GOT CSM_Msg
1335797127047: removed replies before id 18 from sentReplies of size 2
1335797127047: Received DUPLICATE PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797127047: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797127048: mux: I got a CSM packet at a leader 

1335797127049: Sending UDP payload: 7605
1335797127049: forwarding disabled, not forwarding packets
1335797127072: Received UDP payload: 989
1335797127075: mux: GOT CSM_Msg
1335797127075: removed replies before id 18 from sentReplies of size 2
1335797127075: Received DUPLICATE PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797127075: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797127076: mux: I got a CSM packet at a leader 

1335797127077: Sending UDP payload: 7605
1335797127077: forwarding disabled, not forwarding packets
1335797127112: Received UDP payload: 989
1335797127114: mux: GOT CSM_Msg
1335797127114: removed replies before id 18 from sentReplies of size 2
1335797127114: Received DUPLICATE PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797127115: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797127115: mux: I got a CSM packet at a leader 

1335797127116: Sending UDP payload: 7605
1335797127116: forwarding disabled, not forwarding packets
1335797127118: Received UDP payload: 446
1335797127120: mux: Inside Packet.SERVER_REPLY
1335797127120: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797127148: Received UDP payload: 989
1335797127151: mux: GOT CSM_Msg
1335797127151: removed replies before id 18 from sentReplies of size 2
1335797127152: Received DUPLICATE PROC_REQUEST 11:19 (2,0)->(1,0), replying PROC_REPLY 11:19 (1,0)->(2,0)
1335797127153: Dispatching Atom PROC_REPLY 11:19 (1,0)->(2,0)
1335797127153: mux: I got a CSM packet at a leader 

1335797127157: Sending UDP payload: 7605
1335797127159: forwarding disabled, not forwarding packets
1335797127243: Received UDP payload: 989
1335797127245: mux: GOT CSM_Msg
1335797127245: forwarding disabled, not forwarding packets
1335797127271: Received UDP payload: 625
1335797127272: mux: Inside mux Packet.CLIENT_REQUEST
1335797127313: Received UDP payload: 642
1335797127315: mux: Inside Packet.SERVER_REPLY
1335797127315: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797127327: Received UDP payload: 446
1335797127329: mux: Inside mux Packet.CLIENT_REQUEST
1335797127365: Received UDP payload: 642
1335797127367: mux: Inside Packet.SERVER_REPLY
1335797127367: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797127372: Received UDP payload: 642
1335797127374: mux: Inside Packet.SERVER_REPLY
1335797127375: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797127382: Received UDP payload: 642
1335797127383: mux: Inside Packet.SERVER_REPLY
1335797127384: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797127462: Received UDP payload: 446
1335797127463: mux: Inside mux Packet.CLIENT_REQUEST
1335797128165: Received UDP payload: 6634
1335797128173: mux: GOT CSM_Msg
1335797128174: forwarding disabled, not forwarding packets
1335797128194: Received UDP payload: 989
1335797128202: mux: GOT CSM_Msg
1335797128202: forwarding disabled, not forwarding packets
1335797128375: Received UDP payload: 446
1335797129374: Received UDP payload: 446
1335797130193: Received UDP payload: 989
1335797130201: mux: GOT CSM_Msg
1335797130201: forwarding disabled, not forwarding packets
1335797130313: Received UDP payload: 6634
1335797130320: mux: GOT CSM_Msg
1335797130320: forwarding disabled, not forwarding packets
1335797130774: inside sendPacket(Packet p)
1335797130777: Sending UDP payload: 446
1335797131115: Received UDP payload: 446
1335797131119: mux: Inside Packet.SERVER_REPLY
1335797131119: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797131329: Received UDP payload: 446
1335797131333: mux: Inside Packet.SERVER_REPLY
1335797131333: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797131337: Received UDP payload: 989
1335797131344: mux: GOT CSM_Msg
1335797131344: forwarding disabled, not forwarding packets
1335797131355: Received UDP payload: 989
1335797131362: mux: GOT CSM_Msg
1335797131362: forwarding disabled, not forwarding packets
1335797131372: Received UDP payload: 989
1335797131379: mux: GOT CSM_Msg
1335797131379: forwarding disabled, not forwarding packets
1335797131391: Received UDP payload: 989
1335797131393: mux: GOT CSM_Msg
1335797131393: forwarding disabled, not forwarding packets
1335797131404: Received UDP payload: 989
1335797131406: mux: GOT CSM_Msg
1335797131406: forwarding disabled, not forwarding packets
1335797131432: Received UDP payload: 989
1335797131434: mux: GOT CSM_Msg
1335797131434: forwarding disabled, not forwarding packets
1335797131443: Received UDP payload: 989
1335797131446: mux: GOT CSM_Msg
1335797131446: forwarding disabled, not forwarding packets
1335797131492: Received UDP payload: 989
1335797131494: mux: GOT CSM_Msg
1335797131495: forwarding disabled, not forwarding packets
1335797131584: Received UDP payload: 989
1335797131586: mux: GOT CSM_Msg
1335797131586: forwarding disabled, not forwarding packets
1335797131600: Received UDP payload: 989
1335797131602: mux: GOT CSM_Msg
1335797131602: forwarding disabled, not forwarding packets
1335797131623: Received UDP payload: 989
1335797131625: mux: GOT CSM_Msg
1335797131625: forwarding disabled, not forwarding packets
1335797131646: Received UDP payload: 989
1335797131648: mux: GOT CSM_Msg
1335797131649: forwarding disabled, not forwarding packets
1335797131704: Received UDP payload: 989
1335797131706: mux: GOT CSM_Msg
1335797131706: forwarding disabled, not forwarding packets
1335797131779: Received UDP payload: 989
1335797131781: mux: GOT CSM_Msg
1335797131781: forwarding disabled, not forwarding packets
1335797131815: Received UDP payload: 989
1335797131816: mux: GOT CSM_Msg
1335797131817: forwarding disabled, not forwarding packets
1335797131874: Received UDP payload: 642
1335797131875: mux: Inside Packet.SERVER_REPLY
1335797131876: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797131931: Received UDP payload: 446
1335797131933: mux: Inside mux Packet.CLIENT_REQUEST
1335797132138: Received UDP payload: 6375
1335797132141: mux: GOT CSM_Msg
1335797132141: forwarding disabled, not forwarding packets
1335797132146: Received UDP payload: 989
1335797132149: mux: GOT CSM_Msg
1335797132149: forwarding disabled, not forwarding packets
1335797132157: Received UDP payload: 446
1335797133049: Received UDP payload: 989
1335797133058: mux: GOT CSM_Msg
1335797133058: forwarding disabled, not forwarding packets
1335797133199: Received UDP payload: 6634
1335797133201: mux: GOT CSM_Msg
1335797133201: forwarding disabled, not forwarding packets
1335797133355: Received UDP payload: 446
1335797133453: Received UDP payload: 625
1335797133455: mux: Inside mux Packet.CLIENT_REQUEST
1335797133455: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797133455: inside handleClientRequest. Originator leader of region 1
1335797133455: got new request, requestCounter = 5006078
1335797133456: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797133458: Sending to region: 1
1335797133458: Sending PROC_REQUEST 11:27 (1,0)->(1,0)
1335797133458: Dispatching Atom PROC_REQUEST 11:27 (1,0)->(1,0)
1335797133459: mux: I got a CSM packet at a leader 

1335797133459: Note down new request by adding requestCounter=5006078 to HashMap processedRequests
1335797133459: Make FirstLeg Ack regardless of new or already-processed requests
1335797133459: The leader sending a First Leg ack to originator client (which id = 5006)
1335797133459: inside sendPacket(Packet p)
1335797133460: Sending UDP payload: 989
1335797133461: removed replies before id 27 from sentReplies of size 0
1335797133461: inside handleDSMRequest. At requests's remote leader of region 1
1335797133462: INSIDE SERVER_GET_PHOTO!!!
1335797133472: dst_region == src_region = 1
1335797133472:  1 self to self atomRequest
1335797133473: Received PROC_REQUEST 11:27 (1,0)->(1,0), replying PROC_REPLY 11:27 (1,0)->(1,0)
1335797133474: Dispatching Atom PROC_REPLY 11:27 (1,0)->(1,0)
1335797133476: mux: I got a CSM packet at a leader 

1335797133475: Sending UDP payload: 446
1335797133497: Sending UDP payload: 6069
1335797133505: Received PROC_REPLY 11:27 (1,0)->(1,0), handing to UserApp
1335797133505: inside handleDSMReply. Now back in originator leader of region 1
1335797133505: DSM layer: Going to and from remote region took latency = 47
1335797133505: DSM layer: orig leader sent packet at 1335797133458 ~ received reply from remote leader at 1335797133505
1335797133506: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797133506: change leader replyCounter to: 2
1335797133506: reply packet contains the newest photo/success info from the remote region
1335797133506: inside sendReplies of replyCount = 500500002
1335797133507: =======================
1335797133507: inside sendReplyRepeatingRunnable for replyCount = 500500002
1335797133507: Leader about to send REPLY packet, number: 500500002 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797133507: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797133507: inside sendPacket(Packet p)
1335797133507: === Finished one round of sending REPLY Packet =======
1335797133509: Sending UDP payload: 5722
1335797133748: Received UDP payload: 625
1335797133751: mux: Inside mux Packet.CLIENT_REQUEST
1335797133751: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797133751: inside handleClientRequest. Originator leader of region 1
1335797133752: discarding repeated requestCounter=5006078, but still send an ack back
1335797133752: Note down new request by adding requestCounter=5006078 to HashMap processedRequests
1335797133752: Make FirstLeg Ack regardless of new or already-processed requests
1335797133752: The leader sending a First Leg ack to originator client (which id = 5006)
1335797133752: inside sendPacket(Packet p)
1335797133763: Sending UDP payload: 446
1335797133808: =======================
1335797133808: inside sendReplyRepeatingRunnable for replyCount = 500500002
1335797133809: Leader about to send REPLY packet, number: 500500002 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797133809: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797133810: inside sendPacket(Packet p)
1335797133810: === Finished one round of sending REPLY Packet =======
1335797133813: Sending UDP payload: 5722
1335797134051: Received UDP payload: 625
1335797134057: mux: Inside mux Packet.CLIENT_REQUEST
1335797134057: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797134058: inside handleClientRequest. Originator leader of region 1
1335797134058: discarding repeated requestCounter=5006078, but still send an ack back
1335797134058: Note down new request by adding requestCounter=5006078 to HashMap processedRequests
1335797134059: Make FirstLeg Ack regardless of new or already-processed requests
1335797134059: The leader sending a First Leg ack to originator client (which id = 5006)
1335797134059: inside sendPacket(Packet p)
1335797134062: Sending UDP payload: 446
1335797134118: =======================
1335797134118: inside sendReplyRepeatingRunnable for replyCount = 500500002
1335797134119: Leader about to send REPLY packet, number: 500500002 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797134119: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797134119: inside sendPacket(Packet p)
1335797134120: === Finished one round of sending REPLY Packet =======
1335797134130: Sending UDP payload: 5722
1335797134357: Received UDP payload: 989
1335797134361: mux: GOT CSM_Msg
1335797134361: forwarding disabled, not forwarding packets
1335797134368: Received UDP payload: 625
1335797134371: mux: Inside mux Packet.CLIENT_REQUEST
1335797134371: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797134371: inside handleClientRequest. Originator leader of region 1
1335797134372: discarding repeated requestCounter=5006078, but still send an ack back
1335797134372: Note down new request by adding requestCounter=5006078 to HashMap processedRequests
1335797134372: Make FirstLeg Ack regardless of new or already-processed requests
1335797134373: The leader sending a First Leg ack to originator client (which id = 5006)
1335797134373: inside sendPacket(Packet p)
1335797134375: Sending UDP payload: 446
1335797134421: =======================
1335797134421: inside sendReplyRepeatingRunnable for replyCount = 500500002
1335797134421: Leader about to send REPLY packet, number: 500500002 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797134422: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797134422: inside sendPacket(Packet p)
1335797134422: === Finished one round of sending REPLY Packet =======
1335797134424: Sending UDP payload: 5722
1335797134505: Received UDP payload: 989
1335797134508: inside sendReplyTimeoutR
1335797134508: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500002
1335797134511: mux: GOT CSM_Msg
1335797134511: forwarding disabled, not forwarding packets
1335797134534: Received UDP payload: 6634
1335797134543: mux: GOT CSM_Msg
1335797134543: forwarding disabled, not forwarding packets
1335797134792: Received UDP payload: 6634
1335797134799: mux: GOT CSM_Msg
1335797134799: forwarding disabled, not forwarding packets
1335797134881: Received UDP payload: 625
1335797134888: mux: Inside mux Packet.CLIENT_REQUEST
1335797134961: Received UDP payload: 446
1335797134965: mux: Inside Packet.SERVER_REPLY
1335797134966: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797135041: Received UDP payload: 446
1335797135046: mux: Inside mux Packet.CLIENT_REQUEST
1335797135047: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797135047: inside handleClientRequest. Originator leader of region 1
1335797135048: got new request, requestCounter = 5006080
1335797135048: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500002
1335797135048: Yay the last leg succeeded. Removing reply runnables ...
1335797135049: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500002
1335797135049: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500002
1335797135050: do not send ack for received final_leg_ack
1335797135299: Received UDP payload: 446
1335797135301: mux: Inside mux Packet.CLIENT_REQUEST
1335797135301: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797135302: inside handleClientRequest. Originator leader of region 1
1335797135302: got new request, requestCounter = 5006082
1335797135302: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500002
1335797135302: Yay the last leg succeeded. Removing reply runnables ...
1335797135303: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500002
1335797135303: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500002
1335797135303: do not send ack for received final_leg_ack
1335797135440: Received UDP payload: 625
1335797135443: mux: Inside mux Packet.CLIENT_REQUEST
1335797135475: Received UDP payload: 625
1335797135477: mux: Inside mux Packet.CLIENT_REQUEST
1335797135502: Received UDP payload: 989
1335797135510: mux: GOT CSM_Msg
1335797135510: forwarding disabled, not forwarding packets
1335797135775: inside sendPacket(Packet p)
1335797135778: Sending UDP payload: 446
1335797135819: Received UDP payload: 446
1335797135823: mux: Inside Packet.SERVER_REPLY
1335797135824: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797135879: Received UDP payload: 989
1335797135886: mux: GOT CSM_Msg
1335797135886: removed replies before id 3 from sentReplies of size 1
1335797135887: inside handleDSMRequest. At requests's remote leader of region 1
1335797135889: INSIDE SERVER_GET_PHOTO!!!
1335797135893: Received PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1335797135894: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1335797135895: mux: I got a CSM packet at a leader 

1335797135899: Sending UDP payload: 6069
1335797135902: forwarding disabled, not forwarding packets
1335797135908: Received UDP payload: 989
1335797135924: mux: GOT CSM_Msg
1335797135926: removed replies before id 3 from sentReplies of size 2
1335797135928: Received DUPLICATE PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1335797135929: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1335797135930: mux: I got a CSM packet at a leader 

1335797135933: Sending UDP payload: 6069
1335797135949: Received UDP payload: 989
1335797135957: mux: GOT CSM_Msg
1335797135956: forwarding disabled, not forwarding packets
1335797135957: removed replies before id 3 from sentReplies of size 2
1335797135957: Received DUPLICATE PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1335797135957: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1335797135958: mux: I got a CSM packet at a leader 

1335797135959: Sending UDP payload: 6069
1335797135964: forwarding disabled, not forwarding packets
1335797135986: Received UDP payload: 989
1335797135988: mux: GOT CSM_Msg
1335797135989: removed replies before id 3 from sentReplies of size 2
1335797135989: Received DUPLICATE PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1335797135989: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1335797135989: mux: I got a CSM packet at a leader 

1335797135991: Sending UDP payload: 6069
1335797135991: forwarding disabled, not forwarding packets
1335797136091: Received UDP payload: 989
1335797136093: mux: GOT CSM_Msg
1335797136093: removed replies before id 3 from sentReplies of size 2
1335797136094: Received DUPLICATE PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1335797136094: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1335797136094: mux: I got a CSM packet at a leader 

1335797136095: Sending UDP payload: 6069
1335797136096: forwarding disabled, not forwarding packets
1335797136207: Received UDP payload: 989
1335797136209: mux: GOT CSM_Msg
1335797136209: removed replies before id 3 from sentReplies of size 2
1335797136210: Received DUPLICATE PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1335797136210: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1335797136210: mux: I got a CSM packet at a leader 

1335797136211: Sending UDP payload: 6069
1335797136212: forwarding disabled, not forwarding packets
1335797136249: Received UDP payload: 989
1335797136251: mux: GOT CSM_Msg
1335797136251: removed replies before id 3 from sentReplies of size 2
1335797136251: Received DUPLICATE PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1335797136252: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1335797136252: mux: I got a CSM packet at a leader 

1335797136253: Sending UDP payload: 6069
1335797136253: forwarding disabled, not forwarding packets
1335797136273: Received UDP payload: 446
1335797136274: mux: Inside Packet.SERVER_REPLY
1335797136275: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797136338: Received UDP payload: 989
1335797136340: mux: GOT CSM_Msg
1335797136340: removed replies before id 3 from sentReplies of size 2
1335797136341: Received DUPLICATE PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1335797136341: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1335797136341: mux: I got a CSM packet at a leader 

1335797136342: Sending UDP payload: 6069
1335797136342: forwarding disabled, not forwarding packets
1335797136433: Received UDP payload: 989
1335797136435: mux: GOT CSM_Msg
1335797136435: forwarding disabled, not forwarding packets
1335797136571: Received UDP payload: 989
1335797136573: mux: GOT CSM_Msg
1335797136573: removed replies before id 3 from sentReplies of size 2
1335797136574: Received DUPLICATE PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1335797136574: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1335797136574: mux: I got a CSM packet at a leader 

1335797136575: Sending UDP payload: 6069
1335797136578: forwarding disabled, not forwarding packets
1335797136877: Received UDP payload: 6634
1335797136881: mux: GOT CSM_Msg
1335797136881: forwarding disabled, not forwarding packets
1335797136884: Received UDP payload: 5092
1335797136888: mux: GOT CSM_Msg
1335797136888: forwarding disabled, not forwarding packets
1335797136925: Received UDP payload: 989
1335797136929: mux: GOT CSM_Msg
1335797136929: removed replies before id 3 from sentReplies of size 2
1335797136930: Received DUPLICATE PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1335797136930: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1335797136931: mux: I got a CSM packet at a leader 

1335797136932: Sending UDP payload: 6069
1335797136935: forwarding disabled, not forwarding packets
1335797136964: Received UDP payload: 989
1335797136968: mux: GOT CSM_Msg
1335797136968: removed replies before id 3 from sentReplies of size 2
1335797136969: Received DUPLICATE PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1335797136970: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1335797136970: mux: I got a CSM packet at a leader 

1335797136973: Sending UDP payload: 6069
1335797136974: forwarding disabled, not forwarding packets
1335797137075: Received UDP payload: 5722
1335797137080: mux: Inside Packet.SERVER_REPLY
1335797137080: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797137348: canPressButton = TRUE
1335797137348: areButtonsEnabled --> false 
1335797137348: get picture disableButtonsR
1335797137349: areButtonsEnabled --> false
1335797137362: one more getNum: 17
1335797137363: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=17 getGood=12 getBad=3 getTimedout=1 getPercent=70%
1335797137364: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335797137364: change local requestCounter to 47
1335797137368: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005047 Client in region: 1 Client nodID: 5005
1335797137400: ----------------------------
1335797137401: inside sendRequestPacketRepeatingRunnable for requestCount = 5005047
1335797137401: I'm a leader, my requesting photos packet going to mux directly
1335797137410: --- Finished one round of sending REQUEST Packet ---------
1335797137401: mux: Inside mux Packet.CLIENT_REQUEST
1335797137401: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797137458: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797137401: inside handleClientRequest. Originator leader of region 1
1335797137401: got new request, requestCounter = 5005047
1335797137401: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797137402: Sending to region: 1
1335797137402: Sending PROC_REQUEST 11:28 (1,0)->(1,0)
1335797137403: Dispatching Atom PROC_REQUEST 11:28 (1,0)->(1,0)
1335797137403: mux: I got a CSM packet at a leader 

1335797137403: Note down new request by adding requestCounter=5005047 to HashMap processedRequests
1335797137403: Make FirstLeg Ack regardless of new or already-processed requests
1335797137403: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797137405: Sending UDP payload: 989
1335797137406: removed replies before id 28 from sentReplies of size 0
1335797137406: inside handleDSMRequest. At requests's remote leader of region 1
1335797137407: INSIDE SERVER_GET_PHOTO!!!
1335797137407: dst_region == src_region = 1
1335797137408:  1 self to self atomRequest
1335797137408: Received PROC_REQUEST 11:28 (1,0)->(1,0), replying PROC_REPLY 11:28 (1,0)->(1,0)
1335797137409: Dispatching Atom PROC_REPLY 11:28 (1,0)->(1,0)
1335797137409: mux: I got a CSM packet at a leader 

1335797137460: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797137460: disabling progressdialog due to successful new photo get
1335797137461: Inside _enableButtons
1335797137461: areButtonsEnabled --> true
1335797137461: send final leg ack regardless of new or already-processed reply
1335797137461: inside finalLegAck: change requestCounter to 48
1335797137464: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005048 Client in region: (1,0) Client nodID: 5005
1335797137465: I'm a leader client, my final_leg packet going to mux directly
1335797137466: new client_show_remotephoto reply with replyCounter 500500003
1335797137467: note down new reply by adding replyCounter=500500003 to HashMap processedReplies
1335797137467: leader download remote photo latency = 59
1335797137467: = leader download start 1335797137401 ~ stop 1335797137460
1335797137469: one more getGood: 13
1335797137470: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=17 getGood=13 getBad=3 getTimedout=1 getPercent=76%
1335797137470: successful reply for client get photo
1335797137470: Success! Client getting photo from remote region, showing photo...
1335797137470: Remote photo's length: 5058
1335797137415: Sending UDP payload: 6069
1335797137418: Received PROC_REPLY 11:28 (1,0)->(1,0), handing to UserApp
1335797137419: inside handleDSMReply. Now back in originator leader of region 1
1335797137419: DSM layer: Going to and from remote region took latency = 17
1335797137419: DSM layer: orig leader sent packet at 1335797137402 ~ received reply from remote leader at 1335797137419
1335797137420: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797137420: change leader replyCounter to: 3
1335797137420: reply packet contains the newest photo/success info from the remote region
1335797137420: inside sendReplies of replyCount = 500500003
1335797137420: =======================
1335797137420: inside sendReplyRepeatingRunnable for replyCount = 500500003
1335797137420: Leader about to send REPLY packet, number: 500500003 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797137420: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797137420: === Finished one round of sending REPLY Packet =======
1335797137465: mux: Inside mux Packet.CLIENT_REQUEST
1335797137465: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797137465: inside handleClientRequest. Originator leader of region 1
1335797137465: got new request, requestCounter = 5005048
1335797137465: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500003
1335797137465: Yay the last leg succeeded. Removing reply runnables ...
1335797137466: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500003
1335797137466: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500003
1335797137466: do not send ack for received final_leg_ack
1335797137522: Received UDP payload: 446
1335797137529: mux: Inside mux Packet.CLIENT_REQUEST
1335797137546: Received UDP payload: 446
1335797137548: mux: Inside mux Packet.CLIENT_REQUEST
1335797138355: Received UDP payload: 6028
1335797138359: mux: Inside Packet.SERVER_REPLY
1335797138360: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797138415: Received UDP payload: 446
1335797138597: Received UDP payload: 5728
1335797138602: mux: Inside mux Packet.CLIENT_REQUEST
1335797138705: Received UDP payload: 446
1335797138832: Received UDP payload: 6019
1335797138847: mux: GOT CSM_Msg
1335797138847: forwarding disabled, not forwarding packets
1335797138987: Received UDP payload: 5728
1335797138992: mux: Inside mux Packet.CLIENT_REQUEST
1335797139004: Received UDP payload: 642
1335797139009: mux: Inside Packet.SERVER_REPLY
1335797139009: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797139016: Received UDP payload: 989
1335797139028: mux: GOT CSM_Msg
1335797139028: forwarding disabled, not forwarding packets
1335797139029: Received UDP payload: 446
1335797139045: mux: Inside Packet.SERVER_REPLY
1335797139046: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797139060: Received UDP payload: 642
1335797139066: mux: Inside Packet.SERVER_REPLY
1335797139066: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797139088: Received UDP payload: 446
1335797139089: mux: Inside mux Packet.CLIENT_REQUEST
1335797139119: Received UDP payload: 642
1335797139121: mux: Inside Packet.SERVER_REPLY
1335797139121: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797139136: Received UDP payload: 446
1335797139138: mux: Inside mux Packet.CLIENT_REQUEST
1335797139169: Received UDP payload: 642
1335797139171: mux: Inside Packet.SERVER_REPLY
1335797139171: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797139229: Received UDP payload: 446
1335797139230: mux: Inside mux Packet.CLIENT_REQUEST
1335797139532: Received UDP payload: 6375
1335797139535: mux: GOT CSM_Msg
1335797139535: forwarding disabled, not forwarding packets
1335797139728: Received UDP payload: 6028
1335797139730: mux: Inside Packet.SERVER_REPLY
1335797139730: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797139746: Received UDP payload: 446
1335797139748: mux: Inside mux Packet.CLIENT_REQUEST
1335797140046: Received UDP payload: 5092
1335797140051: mux: GOT CSM_Msg
1335797140051: forwarding disabled, not forwarding packets
1335797140064: Received UDP payload: 989
1335797140068: mux: GOT CSM_Msg
1335797140068: forwarding disabled, not forwarding packets
1335797140250: Received UDP payload: 5092
1335797140259: mux: GOT CSM_Msg
1335797140259: forwarding disabled, not forwarding packets
1335797140443: Received UDP payload: 5092
1335797140451: mux: GOT CSM_Msg
1335797140452: forwarding disabled, not forwarding packets
1335797140586: Received UDP payload: 989
1335797140593: mux: GOT CSM_Msg
1335797140593: forwarding disabled, not forwarding packets
1335797140776: inside sendPacket(Packet p)
1335797140809: Sending UDP payload: 446
1335797140859: Received UDP payload: 989
1335797140867: mux: GOT CSM_Msg
1335797140867: forwarding disabled, not forwarding packets
1335797140870: Received UDP payload: 989
1335797140883: mux: GOT CSM_Msg
1335797140883: forwarding disabled, not forwarding packets
1335797140912: Received UDP payload: 989
1335797140921: mux: GOT CSM_Msg
1335797140922: forwarding disabled, not forwarding packets
1335797140928: Received UDP payload: 989
1335797140938: mux: GOT CSM_Msg
1335797140938: forwarding disabled, not forwarding packets
1335797140939: Received UDP payload: 989
1335797140954: mux: GOT CSM_Msg
1335797140954: forwarding disabled, not forwarding packets
1335797140969: Received UDP payload: 989
1335797140977: mux: GOT CSM_Msg
1335797140977: forwarding disabled, not forwarding packets
1335797141061: Received UDP payload: 463
1335797141069: Received UDP payload: 6634
1335797141076: mux: GOT CSM_Msg
1335797141077: forwarding disabled, not forwarding packets
1335797141095: Received UDP payload: 446
1335797141255: Received UDP payload: 6634
1335797141262: mux: GOT CSM_Msg
1335797141262: forwarding disabled, not forwarding packets
1335797141402: Received UDP payload: 6634
1335797141409: mux: GOT CSM_Msg
1335797141409: forwarding disabled, not forwarding packets
1335797141532: Received UDP payload: 6634
1335797141539: mux: GOT CSM_Msg
1335797141539: forwarding disabled, not forwarding packets
1335797141665: Received UDP payload: 6634
1335797141672: mux: GOT CSM_Msg
1335797141672: forwarding disabled, not forwarding packets
1335797143045: Received UDP payload: 625
1335797143049: mux: Inside mux Packet.CLIENT_REQUEST
1335797143054: Received UDP payload: 446
1335797143059: mux: Inside mux Packet.CLIENT_REQUEST
1335797143269: Received UDP payload: 446
1335797143273: mux: Inside Packet.SERVER_REPLY
1335797143274: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797144008: Received UDP payload: 5351
1335797144012: mux: Inside mux Packet.CLIENT_REQUEST
1335797144013: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797144013: inside handleClientRequest. Originator leader of region 1
1335797144014: got new request, requestCounter = 5022041
1335797144014: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797144015: Sending PROC_REQUEST 10:29 (1,0)->(1,0)
1335797144016: Dispatching Atom PROC_REQUEST 10:29 (1,0)->(1,0)
1335797144027: mux: I got a CSM packet at a leader 

1335797144080: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797144083: I'm a leader and I successfully saved my client's new photo
1335797144084: now showing in UI the new photo I just saved ... 
1335797144084: the photo length: 4704
1335797144133: end of server show photo aside %%%%%%%%%
1335797144016: Note down new request by adding requestCounter=5022041 to HashMap processedRequests
1335797144017: Make FirstLeg Ack regardless of new or already-processed requests
1335797144017: The leader sending a First Leg ack to originator client (which id = 5022)
1335797144026: inside sendPacket(Packet p)
1335797144046: Sending UDP payload: 5715
1335797144048: removed replies before id 29 from sentReplies of size 0
1335797144049: inside handleDSMRequest. At requests's remote leader of region 1
1335797144055: Inside UPLOAD_PHOTO!!
1335797144063: my_gpinfo.isSuccess is now (should be true): true
1335797144063: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797144067: Received PROC_REQUEST 10:29 (1,0)->(1,0), replying PROC_REPLY 10:29 (1,0)->(1,0)
1335797144068: Dispatching Atom PROC_REPLY 10:29 (1,0)->(1,0)
1335797144122: mux: I got a CSM packet at a leader 

1335797144070: Sending UDP payload: 446
1335797144123: Sending UDP payload: 989
1335797144124: Received PROC_REPLY 10:29 (1,0)->(1,0), handing to UserApp
1335797144124: inside handleDSMReply. Now back in originator leader of region 1
1335797144125: DSM layer: Going to and from remote region took latency = 110
1335797144125: DSM layer: orig leader sent packet at 1335797144014 ~ received reply from remote leader at 1335797144124
1335797144126: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797144126: change leader replyCounter to: 4
1335797144126: reply packet contains the success info for UPLOAD_PHOTO
1335797144126: inside sendReplies of replyCount = 500500004
1335797144126: =======================
1335797144126: inside sendReplyRepeatingRunnable for replyCount = 500500004
1335797144127: Leader about to send REPLY packet, number: 500500004 type: 16 Leader in region: (1,0) to Client nodID: 5022
1335797144127: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1335797144127: inside sendPacket(Packet p)
1335797144127: === Finished one round of sending REPLY Packet =======
1335797144128: Sending UDP payload: 642
1335797144321: Received UDP payload: 5351
1335797144322: mux: Inside mux Packet.CLIENT_REQUEST
1335797144322: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797144322: inside handleClientRequest. Originator leader of region 1
1335797144322: discarding repeated requestCounter=5022041, but still send an ack back
1335797144323: Note down new request by adding requestCounter=5022041 to HashMap processedRequests
1335797144323: Make FirstLeg Ack regardless of new or already-processed requests
1335797144323: The leader sending a First Leg ack to originator client (which id = 5022)
1335797144323: inside sendPacket(Packet p)
1335797144324: Sending UDP payload: 446
1335797144428: =======================
1335797144428: inside sendReplyRepeatingRunnable for replyCount = 500500004
1335797144428: Leader about to send REPLY packet, number: 500500004 type: 16 Leader in region: (1,0) to Client nodID: 5022
1335797144428: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1335797144428: inside sendPacket(Packet p)
1335797144428: === Finished one round of sending REPLY Packet =======
1335797144429: Sending UDP payload: 642
1335797144472: Received UDP payload: 5351
1335797144473: mux: Inside mux Packet.CLIENT_REQUEST
1335797144473: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797144474: inside handleClientRequest. Originator leader of region 1
1335797144474: discarding repeated requestCounter=5022041, but still send an ack back
1335797144474: Note down new request by adding requestCounter=5022041 to HashMap processedRequests
1335797144474: Make FirstLeg Ack regardless of new or already-processed requests
1335797144474: The leader sending a First Leg ack to originator client (which id = 5022)
1335797144474: inside sendPacket(Packet p)
1335797144475: Sending UDP payload: 446
1335797144729: =======================
1335797144729: inside sendReplyRepeatingRunnable for replyCount = 500500004
1335797144729: Leader about to send REPLY packet, number: 500500004 type: 16 Leader in region: (1,0) to Client nodID: 5022
1335797144730: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1335797144730: inside sendPacket(Packet p)
1335797144730: === Finished one round of sending REPLY Packet =======
1335797144732: Sending UDP payload: 642
1335797145031: =======================
1335797145031: inside sendReplyRepeatingRunnable for replyCount = 500500004
1335797145032: Leader about to send REPLY packet, number: 500500004 type: 16 Leader in region: (1,0) to Client nodID: 5022
1335797145032: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1335797145032: inside sendPacket(Packet p)
1335797145032: === Finished one round of sending REPLY Packet =======
1335797145034: Sending UDP payload: 642
1335797145127: inside sendReplyTimeoutR
1335797145128: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500004
1335797145137: Received UDP payload: 446
1335797145777: inside sendPacket(Packet p)
1335797145779: Sending UDP payload: 446
1335797146753: Received UDP payload: 446
1335797146924: Received UDP payload: 5580
1335797146931: mux: GOT CSM_Msg
1335797146931: forwarding disabled, not forwarding packets
1335797147442: canPressButton = TRUE
1335797147443: areButtonsEnabled --> false 
1335797147443: get picture disableButtonsR
1335797147443: areButtonsEnabled --> false
1335797147469: one more getNum: 18
1335797147470: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=18 getGood=13 getBad=3 getTimedout=1 getPercent=72%
1335797147470: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335797147470: change local requestCounter to 49
1335797147475: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005049 Client in region: 1 Client nodID: 5005
1335797147507: ----------------------------
1335797147508: inside sendRequestPacketRepeatingRunnable for requestCount = 5005049
1335797147508: I'm a leader, my requesting photos packet going to mux directly
1335797147508: --- Finished one round of sending REQUEST Packet ---------
1335797147509: mux: Inside mux Packet.CLIENT_REQUEST
1335797147509: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797147552: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797147509: inside handleClientRequest. Originator leader of region 1
1335797147510: got new request, requestCounter = 5005049
1335797147510: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797147510: Sending to region: 3
1335797147511: Sending PROC_REQUEST 11:7 (1,0)->(3,0)
1335797147511: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797147512: mux: I got a CSM packet at a leader 

1335797147511: Note down new request by adding requestCounter=5005049 to HashMap processedRequests
1335797147511: Make FirstLeg Ack regardless of new or already-processed requests
1335797147511: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797147515: Sending UDP payload: 989
1335797147516: forwarding disabled, not forwarding packets
1335797147693: Received UDP payload: 6170
1335797147695: mux: GOT CSM_Msg
1335797147695: forwarding disabled, not forwarding packets
1335797147702: Received UDP payload: 446
1335797147704: mux: Inside Packet.SERVER_REPLY
1335797147704: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797147771: Received UDP payload: 642
1335797147773: mux: Inside Packet.SERVER_REPLY
1335797147773: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797148062: Received UDP payload: 642
1335797148063: mux: Inside Packet.SERVER_REPLY
1335797148063: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797148287: Received UDP payload: 642
1335797148289: mux: Inside Packet.SERVER_REPLY
1335797148290: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797148303: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148304: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148304: mux: I got a CSM packet at a leader 

1335797148305: Sending UDP payload: 989
1335797148306: forwarding disabled, not forwarding packets
1335797148315: Received UDP payload: 446
1335797148316: mux: Inside Packet.SERVER_REPLY
1335797148316: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797148328: Received UDP payload: 989
1335797148331: mux: GOT CSM_Msg
1335797148331: forwarding disabled, not forwarding packets
1335797148403: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148404: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148404: mux: I got a CSM packet at a leader 

1335797148405: Sending UDP payload: 989
1335797148405: forwarding disabled, not forwarding packets
1335797148413: Received UDP payload: 642
1335797148414: mux: Inside Packet.SERVER_REPLY
1335797148414: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797148427: Received UDP payload: 642
1335797148428: mux: Inside Packet.SERVER_REPLY
1335797148428: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797148505: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148505: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148505: mux: I got a CSM packet at a leader 

1335797148506: Sending UDP payload: 989
1335797148507: forwarding disabled, not forwarding packets
1335797148605: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148606: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148606: mux: I got a CSM packet at a leader 

1335797148607: Sending UDP payload: 989
1335797148608: forwarding disabled, not forwarding packets
1335797148706: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148707: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148707: mux: I got a CSM packet at a leader 

1335797148708: Sending UDP payload: 989
1335797148709: forwarding disabled, not forwarding packets
1335797148807: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148808: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148808: mux: I got a CSM packet at a leader 

1335797148809: Sending UDP payload: 989
1335797148810: forwarding disabled, not forwarding packets
1335797148908: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148909: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797148909: mux: I got a CSM packet at a leader 

1335797148911: Sending UDP payload: 989
1335797148911: forwarding disabled, not forwarding packets
1335797149009: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149010: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149010: mux: I got a CSM packet at a leader 

1335797149012: Sending UDP payload: 989
1335797149012: forwarding disabled, not forwarding packets
1335797149040: Received UDP payload: 642
1335797149048: mux: Inside Packet.SERVER_REPLY
1335797149048: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797149058: Received UDP payload: 5806
1335797149060: mux: Inside mux Packet.CLIENT_REQUEST
1335797149067: Received UDP payload: 446
1335797149071: mux: Inside mux Packet.CLIENT_REQUEST
1335797149094: Received UDP payload: 446
1335797149100: mux: Inside mux Packet.CLIENT_REQUEST
1335797149111: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149111: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149112: mux: I got a CSM packet at a leader 

1335797149117: Sending UDP payload: 989
1335797149118: forwarding disabled, not forwarding packets
1335797149159: Received UDP payload: 642
1335797149161: mux: Inside Packet.SERVER_REPLY
1335797149161: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797149187: Received UDP payload: 446
1335797149188: mux: Inside mux Packet.CLIENT_REQUEST
1335797149212: Received UDP payload: 446
1335797149212: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149213: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149213: mux: I got a CSM packet at a leader 

1335797149220: mux: Inside Packet.SERVER_REPLY
1335797149220: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797149219: Sending UDP payload: 989
1335797149220: forwarding disabled, not forwarding packets
1335797149314: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149314: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149314: mux: I got a CSM packet at a leader 

1335797149316: Sending UDP payload: 989
1335797149316: forwarding disabled, not forwarding packets
1335797149415: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149415: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149416: mux: I got a CSM packet at a leader 

1335797149417: Sending UDP payload: 989
1335797149417: forwarding disabled, not forwarding packets
1335797149516: Retrying PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149516: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1335797149517: mux: I got a CSM packet at a leader 

1335797149518: Sending UDP payload: 989
1335797149518: forwarding disabled, not forwarding packets
1335797149618: DSM Layer: Request timed out, send failure PROC_REPLY 11:7 (3,0)->(1,0)
1335797149618: Dispatching Atom PROC_REPLY 11:7 (3,0)->(1,0)
1335797149619: mux: I got a CSM packet at a leader 

1335797149651: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797149652: disabling progressdialog due to successful new photo get
1335797149653: Inside _enableButtons
1335797149653: areButtonsEnabled --> true
1335797149654: send final leg ack regardless of new or already-processed reply
1335797149655: inside finalLegAck: change requestCounter to 50
1335797149655: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005050 Client in region: (1,0) Client nodID: 5005
1335797149656: I'm a leader client, my final_leg packet going to mux directly
1335797149660: new client_show_remotephoto reply with replyCounter 500500005
1335797149661: note down new reply by adding replyCounter=500500005 to HashMap processedReplies
1335797149661: leader download remote photo latency = 2143
1335797149662: = leader download start 1335797147508 ~ stop 1335797149651
1335797149664: Can't get remote photo, because DSM Layer on originator leader timed out
1335797149669: one more getBad: 4
1335797149671: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=18 getGood=13 getBad=4 getTimedout=1 getPercent=72%
1335797149672: getBad++
1335797149621: Sending UDP payload: 989
1335797149643: Received PROC_REPLY 11:7 (3,0)->(1,0), handing to UserApp
1335797149643: inside handleDSMReply. Now back in originator leader of region 1
1335797149643: DSM layer timed out, don't log dsm layer latency stuff.
1335797149648: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797149649: change leader replyCounter to: 5
1335797149649: reply packet contains the newest photo/success info from the remote region
1335797149649: inside sendReplies of replyCount = 500500005
1335797149649: =======================
1335797149650: inside sendReplyRepeatingRunnable for replyCount = 500500005
1335797149650: Leader about to send REPLY packet, number: 500500005 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797149650: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797149650: === Finished one round of sending REPLY Packet =======
1335797149657: mux: Inside mux Packet.CLIENT_REQUEST
1335797149657: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797149657: inside handleClientRequest. Originator leader of region 1
1335797149657: got new request, requestCounter = 5005050
1335797149658: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500005
1335797149658: Yay the last leg succeeded. Removing reply runnables ...
1335797149658: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500005
1335797149659: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500005
1335797149659: do not send ack for received final_leg_ack
1335797149918: Received UDP payload: 5216
1335797149920: mux: Inside mux Packet.CLIENT_REQUEST
1335797149931: Received UDP payload: 446
1335797149933: mux: Inside mux Packet.CLIENT_REQUEST
1335797150090: Received UDP payload: 446
1335797150775: Received UDP payload: 446
1335797150778: inside sendPacket(Packet p)
1335797150788: Sending UDP payload: 446
1335797150790: mux: Inside mux Packet.CLIENT_REQUEST
1335797150790: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797150790: inside handleClientRequest. Originator leader of region 1
1335797150791: got new request, requestCounter = 5022042
1335797150791: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500004
1335797150792: Yay the last leg succeeded. Removing reply runnables ...
1335797150792: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500004
1335797150792: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500004
1335797150793: do not send ack for received final_leg_ack
1335797150801: Received UDP payload: 446
1335797150806: mux: Inside mux Packet.CLIENT_REQUEST
1335797150807: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797150807: inside handleClientRequest. Originator leader of region 1
1335797150808: got new request, requestCounter = 5022043
1335797150808: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500004
1335797150809: Yay the last leg succeeded. Removing reply runnables ...
1335797150809: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500004
1335797150809: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500004
1335797150810: do not send ack for received final_leg_ack
1335797150813: Received UDP payload: 446
1335797150824: mux: Inside mux Packet.CLIENT_REQUEST
1335797150825: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797150825: inside handleClientRequest. Originator leader of region 1
1335797150826: got new request, requestCounter = 5022044
1335797150826: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500004
1335797150826: Yay the last leg succeeded. Removing reply runnables ...
1335797150827: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500004
1335797150827: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500004
1335797150828: do not send ack for received final_leg_ack
1335797151293: Received UDP payload: 6170
1335797151296: mux: GOT CSM_Msg
1335797151296: Received DUPLICATE PROC_REPLY 11:7 (3,0)->(1,0)
1335797151381: Received UDP payload: 6170
1335797151385: mux: GOT CSM_Msg
1335797151385: Received DUPLICATE PROC_REPLY 11:7 (3,0)->(1,0)
1335797151465: Received UDP payload: 6170
1335797151471: mux: GOT CSM_Msg
1335797151472: Received DUPLICATE PROC_REPLY 11:7 (3,0)->(1,0)
1335797151545: Received UDP payload: 6170
1335797151552: mux: GOT CSM_Msg
1335797151553: Received DUPLICATE PROC_REPLY 11:7 (3,0)->(1,0)
1335797151781: Received UDP payload: 446
1335797151790: Received UDP payload: 6170
1335797151797: mux: GOT CSM_Msg
1335797151799: Received DUPLICATE PROC_REPLY 11:7 (3,0)->(1,0)
1335797151883: Received UDP payload: 6170
1335797151887: mux: GOT CSM_Msg
1335797151887: Received DUPLICATE PROC_REPLY 11:7 (3,0)->(1,0)
1335797153628: Received UDP payload: 625
1335797153630: mux: Inside mux Packet.CLIENT_REQUEST
1335797153630: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797153630: inside handleClientRequest. Originator leader of region 1
1335797153630: got new request, requestCounter = 5006083
1335797153630: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797153631: Sending to region: 3
1335797153631: Sending PROC_REQUEST 11:8 (1,0)->(3,0)
1335797153632: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(3,0)
1335797153638: mux: I got a CSM packet at a leader 

1335797153632: Note down new request by adding requestCounter=5006083 to HashMap processedRequests
1335797153632: Make FirstLeg Ack regardless of new or already-processed requests
1335797153632: The leader sending a First Leg ack to originator client (which id = 5006)
1335797153638: inside sendPacket(Packet p)
1335797153639: Sending UDP payload: 989
1335797153640: forwarding disabled, not forwarding packets
1335797153641: Sending UDP payload: 446
1335797154347: Retrying PROC_REQUEST 11:8 (1,0)->(3,0)
1335797154356: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(3,0)
1335797154356: mux: I got a CSM packet at a leader 

1335797154360: Sending UDP payload: 989
1335797154362: forwarding disabled, not forwarding packets
1335797154461: Retrying PROC_REQUEST 11:8 (1,0)->(3,0)
1335797154462: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(3,0)
1335797154462: mux: I got a CSM packet at a leader 

1335797154465: Sending UDP payload: 989
1335797154465: forwarding disabled, not forwarding packets
1335797154482: Received UDP payload: 6170
1335797154486: mux: GOT CSM_Msg
1335797154486: Received PROC_REPLY 11:8 (3,0)->(1,0), handing to UserApp
1335797154487: inside handleDSMReply. Now back in originator leader of region 1
1335797154487: DSM layer: Going to and from remote region took latency = 856
1335797154487: DSM layer: orig leader sent packet at 1335797153631 ~ received reply from remote leader at 1335797154487
1335797154488: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797154488: change leader replyCounter to: 6
1335797154488: reply packet contains the newest photo/success info from the remote region
1335797154488: inside sendReplies of replyCount = 500500006
1335797154489: =======================
1335797154489: inside sendReplyRepeatingRunnable for replyCount = 500500006
1335797154489: Leader about to send REPLY packet, number: 500500006 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797154489: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797154489: inside sendPacket(Packet p)
1335797154489: === Finished one round of sending REPLY Packet =======
1335797154492: Sending UDP payload: 5823
1335797154656: Received UDP payload: 989
1335797154659: mux: GOT CSM_Msg
1335797154659: forwarding disabled, not forwarding packets
1335797154789: =======================
1335797154789: inside sendReplyRepeatingRunnable for replyCount = 500500006
1335797154790: Leader about to send REPLY packet, number: 500500006 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797154790: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797154790: inside sendPacket(Packet p)
1335797154790: === Finished one round of sending REPLY Packet =======
1335797154791: Sending UDP payload: 5823
1335797155076: Received UDP payload: 446
1335797155090: =======================
1335797155091: inside sendReplyRepeatingRunnable for replyCount = 500500006
1335797155091: Leader about to send REPLY packet, number: 500500006 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797155092: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797155092: inside sendPacket(Packet p)
1335797155092: === Finished one round of sending REPLY Packet =======
1335797155095: Sending UDP payload: 5823
1335797155248: Received UDP payload: 446
1335797155256: mux: Inside mux Packet.CLIENT_REQUEST
1335797155256: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797155257: inside handleClientRequest. Originator leader of region 1
1335797155257: got new request, requestCounter = 5006084
1335797155257: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500006
1335797155258: Yay the last leg succeeded. Removing reply runnables ...
1335797155258: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500006
1335797155258: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500006
1335797155259: do not send ack for received final_leg_ack
1335797155438: Received UDP payload: 989
1335797155443: mux: GOT CSM_Msg
1335797155443: forwarding disabled, not forwarding packets
1335797155541: Received UDP payload: 989
1335797155548: mux: GOT CSM_Msg
1335797155548: forwarding disabled, not forwarding packets
1335797155638: Received UDP payload: 989
1335797155643: mux: GOT CSM_Msg
1335797155643: forwarding disabled, not forwarding packets
1335797155743: Received UDP payload: 989
1335797155750: mux: GOT CSM_Msg
1335797155751: forwarding disabled, not forwarding packets
1335797155779: inside sendPacket(Packet p)
1335797155782: Sending UDP payload: 446
1335797155848: Received UDP payload: 989
1335797155858: mux: GOT CSM_Msg
1335797155858: forwarding disabled, not forwarding packets
1335797155955: Received UDP payload: 989
1335797155962: mux: GOT CSM_Msg
1335797155962: forwarding disabled, not forwarding packets
1335797156151: Received UDP payload: 989
1335797156158: mux: GOT CSM_Msg
1335797156158: forwarding disabled, not forwarding packets
1335797156250: Received UDP payload: 989
1335797156257: mux: GOT CSM_Msg
1335797156257: forwarding disabled, not forwarding packets
1335797156349: Received UDP payload: 989
1335797156357: mux: GOT CSM_Msg
1335797156357: Received UDP payload: 7413
1335797156357: forwarding disabled, not forwarding packets
1335797156361: mux: Inside mux Packet.CLIENT_REQUEST
1335797156470: Received UDP payload: 7777
1335797156480: mux: GOT CSM_Msg
1335797156480: Received UDP payload: 446
1335797156480: forwarding disabled, not forwarding packets
1335797156484: mux: Inside Packet.SERVER_REPLY
1335797156485: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797156497: Received UDP payload: 989
1335797156507: mux: GOT CSM_Msg
1335797156507: Received UDP payload: 642
1335797156507: forwarding disabled, not forwarding packets
1335797156515: mux: Inside Packet.SERVER_REPLY
1335797156515: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797156523: Received UDP payload: 989
1335797156531: mux: GOT CSM_Msg
1335797156531: forwarding disabled, not forwarding packets
1335797156581: Received UDP payload: 989
1335797156588: mux: GOT CSM_Msg
1335797156605: forwarding disabled, not forwarding packets
1335797156685: Received UDP payload: 989
1335797156691: mux: GOT CSM_Msg
1335797156692: forwarding disabled, not forwarding packets
1335797156711: Received UDP payload: 642
1335797156713: mux: Inside Packet.SERVER_REPLY
1335797156714: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797156717: Received UDP payload: 446
1335797156730: Received UDP payload: 446
1335797156731: mux: Inside mux Packet.CLIENT_REQUEST
1335797156782: Received UDP payload: 989
1335797156786: mux: GOT CSM_Msg
1335797156786: forwarding disabled, not forwarding packets
1335797158605: Received UDP payload: 625
1335797158610: mux: Inside mux Packet.CLIENT_REQUEST
1335797158656: Received UDP payload: 989
1335797158662: mux: GOT CSM_Msg
1335797158663: forwarding disabled, not forwarding packets
1335797158663: Received UDP payload: 446
1335797158669: mux: Inside Packet.SERVER_REPLY
1335797158669: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797159208: Received UDP payload: 625
1335797159213: mux: Inside mux Packet.CLIENT_REQUEST
1335797159225: Received UDP payload: 446
1335797159230: mux: Inside Packet.SERVER_REPLY
1335797159230: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797159432: Received UDP payload: 989
1335797159435: mux: GOT CSM_Msg
1335797159435: forwarding disabled, not forwarding packets
1335797159635: Received UDP payload: 989
1335797159638: mux: GOT CSM_Msg
1335797159639: forwarding disabled, not forwarding packets
1335797159742: Received UDP payload: 989
1335797159745: mux: GOT CSM_Msg
1335797159746: forwarding disabled, not forwarding packets
1335797159800: Received UDP payload: 446
1335797159841: Received UDP payload: 989
1335797159845: mux: GOT CSM_Msg
1335797159845: forwarding disabled, not forwarding packets
1335797159957: Received UDP payload: 989
1335797159964: mux: GOT CSM_Msg
1335797159964: forwarding disabled, not forwarding packets
1335797160051: Received UDP payload: 989
1335797160053: mux: GOT CSM_Msg
1335797160053: forwarding disabled, not forwarding packets
1335797160076: Received UDP payload: 446
1335797160104: Received UDP payload: 446
1335797160161: Received UDP payload: 989
1335797160163: mux: GOT CSM_Msg
1335797160163: forwarding disabled, not forwarding packets
1335797160256: Received UDP payload: 989
1335797160258: mux: GOT CSM_Msg
1335797160259: forwarding disabled, not forwarding packets
1335797160358: Received UDP payload: 989
1335797160360: mux: GOT CSM_Msg
1335797160360: forwarding disabled, not forwarding packets
1335797160410: Received UDP payload: 446
1335797160455: Received UDP payload: 989
1335797160457: mux: GOT CSM_Msg
1335797160457: forwarding disabled, not forwarding packets
1335797160552: Received UDP payload: 989
1335797160554: mux: GOT CSM_Msg
1335797160554: forwarding disabled, not forwarding packets
1335797160659: Received UDP payload: 989
1335797160666: mux: GOT CSM_Msg
1335797160666: forwarding disabled, not forwarding packets
1335797160760: Received UDP payload: 989
1335797160764: mux: GOT CSM_Msg
1335797160764: forwarding disabled, not forwarding packets
1335797160781: inside sendPacket(Packet p)
1335797160790: Received UDP payload: 642
1335797160793: Sending UDP payload: 446
1335797160802: mux: Inside Packet.SERVER_REPLY
1335797160802: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797161703: canPressButton = TRUE
1335797161706: areButtonsEnabled --> false 
1335797161707: get picture disableButtonsR
1335797161707: areButtonsEnabled --> false
1335797161733: one more getNum: 19
1335797161734: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=19 getGood=13 getBad=4 getTimedout=1 getPercent=68%
1335797161734: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335797161734: change local requestCounter to 51
1335797161738: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005051 Client in region: 1 Client nodID: 5005
1335797161712: Received UDP payload: 446
1335797161768: ----------------------------
1335797161769: inside sendRequestPacketRepeatingRunnable for requestCount = 5005051
1335797161769: I'm a leader, my requesting photos packet going to mux directly
1335797161777: --- Finished one round of sending REQUEST Packet ---------
1335797161769: mux: Inside mux Packet.CLIENT_REQUEST
1335797161769: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797161814: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797161769: inside handleClientRequest. Originator leader of region 1
1335797161769: got new request, requestCounter = 5005051
1335797161770: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797161771: Sending to region: 3
1335797161772: Sending PROC_REQUEST 11:9 (1,0)->(3,0)
1335797161773: Dispatching Atom PROC_REQUEST 11:9 (1,0)->(3,0)
1335797161775: mux: I got a CSM packet at a leader 

1335797161773: Note down new request by adding requestCounter=5005051 to HashMap processedRequests
1335797161774: Make FirstLeg Ack regardless of new or already-processed requests
1335797161774: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797161777: Sending UDP payload: 989
1335797161780: forwarding disabled, not forwarding packets
1335797162011: Received UDP payload: 7777
1335797162013: mux: GOT CSM_Msg
1335797162014: Received PROC_REPLY 11:9 (3,0)->(1,0), handing to UserApp
1335797162014: inside handleDSMReply. Now back in originator leader of region 1
1335797162014: DSM layer: Going to and from remote region took latency = 243
1335797162014: DSM layer: orig leader sent packet at 1335797161771 ~ received reply from remote leader at 1335797162014
1335797162015: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797162015: change leader replyCounter to: 7
1335797162015: reply packet contains the newest photo/success info from the remote region
1335797162015: inside sendReplies of replyCount = 500500007
1335797162019: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797162020: disabling progressdialog due to successful new photo get
1335797162020: Inside _enableButtons
1335797162020: areButtonsEnabled --> true
1335797162020: send final leg ack regardless of new or already-processed reply
1335797162021: inside finalLegAck: change requestCounter to 52
1335797162021: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005052 Client in region: (1,0) Client nodID: 5005
1335797162021: I'm a leader client, my final_leg packet going to mux directly
1335797162023: csn discarding repeated replyCounter=500500007, but still sent an ack back
1335797162016: =======================
1335797162016: inside sendReplyRepeatingRunnable for replyCount = 500500007
1335797162016: Leader about to send REPLY packet, number: 500500007 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797162016: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797162016: === Finished one round of sending REPLY Packet =======
1335797162021: mux: Inside mux Packet.CLIENT_REQUEST
1335797162021: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797162022: inside handleClientRequest. Originator leader of region 1
1335797162022: got new request, requestCounter = 5005052
1335797162022: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500007
1335797162022: Yay the last leg succeeded. Removing reply runnables ...
1335797162022: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500007
1335797162022: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500007
1335797162022: do not send ack for received final_leg_ack
1335797162573: Received UDP payload: 6764
1335797162576: mux: Inside mux Packet.CLIENT_REQUEST
1335797163732: Received UDP payload: 4247
1335797163738: mux: Inside mux Packet.CLIENT_REQUEST
1335797163738: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797163739: inside handleClientRequest. Originator leader of region 1
1335797163739: got new request, requestCounter = 5006085
1335797163739: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797163754: Sending PROC_REQUEST 10:30 (1,0)->(1,0)
1335797163755: Dispatching Atom PROC_REQUEST 10:30 (1,0)->(1,0)
1335797163758: mux: I got a CSM packet at a leader 

1335797163793: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797163800: I'm a leader and I successfully saved my client's new photo
1335797163800: now showing in UI the new photo I just saved ... 
1335797163800: the photo length: 3600
1335797163846: end of server show photo aside %%%%%%%%%
1335797163756: Note down new request by adding requestCounter=5006085 to HashMap processedRequests
1335797163756: Make FirstLeg Ack regardless of new or already-processed requests
1335797163757: The leader sending a First Leg ack to originator client (which id = 5006)
1335797163757: inside sendPacket(Packet p)
1335797163765: Sending UDP payload: 4611
1335797163779: removed replies before id 30 from sentReplies of size 0
1335797163779: inside handleDSMRequest. At requests's remote leader of region 1
1335797163779: Inside UPLOAD_PHOTO!!
1335797163782: my_gpinfo.isSuccess is now (should be true): true
1335797163782: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797163783: Received PROC_REQUEST 10:30 (1,0)->(1,0), replying PROC_REPLY 10:30 (1,0)->(1,0)
1335797163783: Dispatching Atom PROC_REPLY 10:30 (1,0)->(1,0)
1335797163785: mux: I got a CSM packet at a leader 

1335797163785: Sending UDP payload: 446
1335797163787: Sending UDP payload: 989
1335797163795: Received PROC_REPLY 10:30 (1,0)->(1,0), handing to UserApp
1335797163795: inside handleDSMReply. Now back in originator leader of region 1
1335797163795: DSM layer: Going to and from remote region took latency = 55
1335797163795: DSM layer: orig leader sent packet at 1335797163740 ~ received reply from remote leader at 1335797163795
1335797163796: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797163796: change leader replyCounter to: 8
1335797163796: reply packet contains the success info for UPLOAD_PHOTO
1335797163796: inside sendReplies of replyCount = 500500008
1335797163796: =======================
1335797163796: inside sendReplyRepeatingRunnable for replyCount = 500500008
1335797163796: Leader about to send REPLY packet, number: 500500008 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335797163797: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797163797: inside sendPacket(Packet p)
1335797163797: === Finished one round of sending REPLY Packet =======
1335797163798: Sending UDP payload: 642
1335797164096: =======================
1335797164096: inside sendReplyRepeatingRunnable for replyCount = 500500008
1335797164096: Leader about to send REPLY packet, number: 500500008 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335797164096: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797164097: inside sendPacket(Packet p)
1335797164097: === Finished one round of sending REPLY Packet =======
1335797164101: Sending UDP payload: 642
1335797164135: Received UDP payload: 989
1335797164140: mux: GOT CSM_Msg
1335797164140: forwarding disabled, not forwarding packets
1335797164144: Received UDP payload: 446
1335797164145: mux: Inside mux Packet.CLIENT_REQUEST
1335797164145: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797164145: inside handleClientRequest. Originator leader of region 1
1335797164146: got new request, requestCounter = 5006087
1335797164146: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500008
1335797164146: Yay the last leg succeeded. Removing reply runnables ...
1335797164146: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500008
1335797164146: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500008
1335797164146: do not send ack for received final_leg_ack
1335797165079: Received UDP payload: 446
1335797165781: inside sendPacket(Packet p)
1335797165785: Sending UDP payload: 446
1335797166049: Received UDP payload: 446
1335797166051: mux: Inside Packet.SERVER_REPLY
1335797166051: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797166061: Received UDP payload: 989
1335797166063: mux: GOT CSM_Msg
1335797166063: forwarding disabled, not forwarding packets
1335797166120: Received UDP payload: 642
1335797166121: mux: Inside Packet.SERVER_REPLY
1335797166122: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797166135: Received UDP payload: 446
1335797166136: mux: Inside mux Packet.CLIENT_REQUEST
1335797166197: canPressButton = TRUE
1335797166197: areButtonsEnabled --> false 
1335797166197: get picture disableButtonsR
1335797166197: areButtonsEnabled --> false
1335797166223: one more getNum: 20
1335797166224: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=20 getGood=13 getBad=4 getTimedout=1 getPercent=65%
1335797166225: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335797166225: change local requestCounter to 53
1335797166229: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005053 Client in region: 1 Client nodID: 5005
1335797166260: ----------------------------
1335797166261: inside sendRequestPacketRepeatingRunnable for requestCount = 5005053
1335797166261: I'm a leader, my requesting photos packet going to mux directly
1335797166261: --- Finished one round of sending REQUEST Packet ---------
1335797166262: mux: Inside mux Packet.CLIENT_REQUEST
1335797166262: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797166308: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797166262: inside handleClientRequest. Originator leader of region 1
1335797166263: got new request, requestCounter = 5005053
1335797166263: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797166265: Sending to region: 3
1335797166265: Sending PROC_REQUEST 11:10 (1,0)->(3,0)
1335797166265: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(3,0)
1335797166266: mux: I got a CSM packet at a leader 

1335797166266: Note down new request by adding requestCounter=5005053 to HashMap processedRequests
1335797166266: Make FirstLeg Ack regardless of new or already-processed requests
1335797166266: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797166268: Sending UDP payload: 989
1335797166270: forwarding disabled, not forwarding packets
1335797167020: Received UDP payload: 446
1335797167059: Retrying PROC_REQUEST 11:10 (1,0)->(3,0)
1335797167059: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(3,0)
1335797167060: mux: I got a CSM packet at a leader 

1335797167061: Sending UDP payload: 989
1335797167061: forwarding disabled, not forwarding packets
1335797167160: Retrying PROC_REQUEST 11:10 (1,0)->(3,0)
1335797167160: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(3,0)
1335797167161: mux: I got a CSM packet at a leader 

1335797167162: Sending UDP payload: 989
1335797167162: forwarding disabled, not forwarding packets
1335797167261: Retrying PROC_REQUEST 11:10 (1,0)->(3,0)
1335797167261: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(3,0)
1335797167262: mux: I got a CSM packet at a leader 

1335797167263: Sending UDP payload: 989
1335797167263: forwarding disabled, not forwarding packets
1335797167290: Received UDP payload: 6141
1335797167292: mux: GOT CSM_Msg
1335797167296: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797167297: disabling progressdialog due to successful new photo get
1335797167297: Inside _enableButtons
1335797167297: areButtonsEnabled --> true
1335797167297: send final leg ack regardless of new or already-processed reply
1335797167298: inside finalLegAck: change requestCounter to 54
1335797167298: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005054 Client in region: (1,0) Client nodID: 5005
1335797167298: I'm a leader client, my final_leg packet going to mux directly
1335797167300: new client_show_remotephoto reply with replyCounter 500500009
1335797167300: note down new reply by adding replyCounter=500500009 to HashMap processedReplies
1335797167300: leader download remote photo latency = 1035
1335797167301: = leader download start 1335797166261 ~ stop 1335797167296
1335797167303: one more getGood: 14
1335797167304: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=20 getGood=14 getBad=4 getTimedout=1 getPercent=70%
1335797167304: successful reply for client get photo
1335797167304: Success! Client getting photo from remote region, showing photo...
1335797167305: Remote photo's length: 5130
1335797167293: Received PROC_REPLY 11:10 (3,0)->(1,0), handing to UserApp
1335797167293: inside handleDSMReply. Now back in originator leader of region 1
1335797167293: DSM layer: Going to and from remote region took latency = 1028
1335797167293: DSM layer: orig leader sent packet at 1335797166265 ~ received reply from remote leader at 1335797167293
1335797167294: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797167294: change leader replyCounter to: 9
1335797167294: reply packet contains the newest photo/success info from the remote region
1335797167295: inside sendReplies of replyCount = 500500009
1335797167295: =======================
1335797167295: inside sendReplyRepeatingRunnable for replyCount = 500500009
1335797167295: Leader about to send REPLY packet, number: 500500009 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797167295: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797167295: === Finished one round of sending REPLY Packet =======
1335797167298: mux: Inside mux Packet.CLIENT_REQUEST
1335797167299: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797167299: inside handleClientRequest. Originator leader of region 1
1335797167299: got new request, requestCounter = 5005054
1335797167299: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500009
1335797167299: Yay the last leg succeeded. Removing reply runnables ...
1335797167299: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500009
1335797167299: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500009
1335797167299: do not send ack for received final_leg_ack
1335797167394: Received UDP payload: 6141
1335797167405: mux: GOT CSM_Msg
1335797167406: Received DUPLICATE PROC_REPLY 11:10 (3,0)->(1,0)
1335797167482: Received UDP payload: 6141
1335797167485: mux: GOT CSM_Msg
1335797167485: Received DUPLICATE PROC_REPLY 11:10 (3,0)->(1,0)
1335797168333: Received UDP payload: 625
1335797168338: mux: Inside mux Packet.CLIENT_REQUEST
1335797168339: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797168339: inside handleClientRequest. Originator leader of region 1
1335797168339: got new request, requestCounter = 5022046
1335797168340: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797168358: Sending to region: 0
1335797168359: Sending PROC_REQUEST 11:11 (1,0)->(0,0)
1335797168361: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(0,0)
1335797168363: mux: I got a CSM packet at a leader 

1335797168361: Note down new request by adding requestCounter=5022046 to HashMap processedRequests
1335797168361: Make FirstLeg Ack regardless of new or already-processed requests
1335797168362: The leader sending a First Leg ack to originator client (which id = 5022)
1335797168362: inside sendPacket(Packet p)
1335797168406: Sending UDP payload: 989
1335797168417: forwarding disabled, not forwarding packets
1335797168421: Sending UDP payload: 446
1335797169068: Retrying PROC_REQUEST 11:11 (1,0)->(0,0)
1335797169069: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(0,0)
1335797169069: mux: I got a CSM packet at a leader 

1335797169070: Sending UDP payload: 989
1335797169083: forwarding disabled, not forwarding packets
1335797169169: Retrying PROC_REQUEST 11:11 (1,0)->(0,0)
1335797169170: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(0,0)
1335797169170: mux: I got a CSM packet at a leader 

1335797169171: Sending UDP payload: 989
1335797169171: forwarding disabled, not forwarding packets
1335797169270: Retrying PROC_REQUEST 11:11 (1,0)->(0,0)
1335797169271: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(0,0)
1335797169271: mux: I got a CSM packet at a leader 

1335797169272: Sending UDP payload: 989
1335797169273: forwarding disabled, not forwarding packets
1335797169364: Received UDP payload: 6209
1335797169366: mux: GOT CSM_Msg
1335797169367: Received PROC_REPLY 11:11 (0,0)->(1,0), handing to UserApp
1335797169367: inside handleDSMReply. Now back in originator leader of region 1
1335797169367: DSM layer: Going to and from remote region took latency = 1008
1335797169367: DSM layer: orig leader sent packet at 1335797168359 ~ received reply from remote leader at 1335797169367
1335797169368: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797169368: change leader replyCounter to: 10
1335797169368: reply packet contains the newest photo/success info from the remote region
1335797169369: inside sendReplies of replyCount = 500500010
1335797169374: =======================
1335797169374: inside sendReplyRepeatingRunnable for replyCount = 500500010
1335797169374: Leader about to send REPLY packet, number: 500500010 type: 15 Leader in region: (1,0) to Client nodID: 5022
1335797169375: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1335797169375: inside sendPacket(Packet p)
1335797169375: === Finished one round of sending REPLY Packet =======
1335797169377: Sending UDP payload: 5862
1335797169448: Received UDP payload: 446
1335797169449: mux: Inside mux Packet.CLIENT_REQUEST
1335797169450: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797169450: inside handleClientRequest. Originator leader of region 1
1335797169450: got new request, requestCounter = 5022047
1335797169450: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500010
1335797169450: Yay the last leg succeeded. Removing reply runnables ...
1335797169450: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500010
1335797169450: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500010
1335797169451: do not send ack for received final_leg_ack
1335797170083: Received UDP payload: 446
1335797170317: Received UDP payload: 625
1335797170321: mux: Inside mux Packet.CLIENT_REQUEST
1335797170354: Received UDP payload: 989
1335797170361: mux: GOT CSM_Msg
1335797170362: removed replies before id 9 from sentReplies of size 0
1335797170362: inside handleDSMRequest. At requests's remote leader of region 1
1335797170364: INSIDE SERVER_GET_PHOTO!!!
1335797170381: Received UDP payload: 446
1335797170388: mux: Inside Packet.SERVER_REPLY
1335797170388: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797170388: Received PROC_REQUEST 11:9 (0,0)->(1,0), replying PROC_REPLY 11:9 (1,0)->(0,0)
1335797170388: Dispatching Atom PROC_REPLY 11:9 (1,0)->(0,0)
1335797170388: mux: I got a CSM packet at a leader 

1335797170389: Sending UDP payload: 4611
1335797170395: forwarding disabled, not forwarding packets
1335797170783: inside sendPacket(Packet p)
1335797170784: Sending UDP payload: 446
1335797170806: Received UDP payload: 4264
1335797170808: mux: Inside Packet.SERVER_REPLY
1335797170808: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797170822: Received UDP payload: 446
1335797170824: mux: Inside mux Packet.CLIENT_REQUEST
1335797171249: Received UDP payload: 446
1335797171716: Received UDP payload: 446
1335797172672: Received UDP payload: 625
1335797172679: mux: Inside mux Packet.CLIENT_REQUEST
1335797172680: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797172680: inside handleClientRequest. Originator leader of region 1
1335797172680: got new request, requestCounter = 5006088
1335797172681: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797172696: Sending to region: 1
1335797172699: Sending PROC_REQUEST 11:31 (1,0)->(1,0)
1335797172700: Dispatching Atom PROC_REQUEST 11:31 (1,0)->(1,0)
1335797172702: mux: I got a CSM packet at a leader 

1335797172700: Note down new request by adding requestCounter=5006088 to HashMap processedRequests
1335797172700: Make FirstLeg Ack regardless of new or already-processed requests
1335797172701: The leader sending a First Leg ack to originator client (which id = 5006)
1335797172701: inside sendPacket(Packet p)
1335797172716: Sending UDP payload: 989
1335797172719: removed replies before id 31 from sentReplies of size 0
1335797172719: inside handleDSMRequest. At requests's remote leader of region 1
1335797172721: INSIDE SERVER_GET_PHOTO!!!
1335797172723: dst_region == src_region = 1
1335797172724:  1 self to self atomRequest
1335797172735: Received PROC_REQUEST 11:31 (1,0)->(1,0), replying PROC_REPLY 11:31 (1,0)->(1,0)
1335797172735: Dispatching Atom PROC_REPLY 11:31 (1,0)->(1,0)
1335797172740: mux: I got a CSM packet at a leader 

1335797172736: Sending UDP payload: 446
1335797172741: Sending UDP payload: 4611
1335797172743: Received PROC_REPLY 11:31 (1,0)->(1,0), handing to UserApp
1335797172743: inside handleDSMReply. Now back in originator leader of region 1
1335797172743: DSM layer: Going to and from remote region took latency = 46
1335797172743: DSM layer: orig leader sent packet at 1335797172697 ~ received reply from remote leader at 1335797172743
1335797172744: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797172750: change leader replyCounter to: 11
1335797172750: reply packet contains the newest photo/success info from the remote region
1335797172750: inside sendReplies of replyCount = 500500011
1335797172750: =======================
1335797172750: inside sendReplyRepeatingRunnable for replyCount = 500500011
1335797172750: Leader about to send REPLY packet, number: 500500011 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797172750: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797172750: inside sendPacket(Packet p)
1335797172751: === Finished one round of sending REPLY Packet =======
1335797172752: Sending UDP payload: 4264
1335797172880: Received UDP payload: 625
1335797172882: mux: Inside mux Packet.CLIENT_REQUEST
1335797172898: Received UDP payload: 446
1335797172900: mux: Inside mux Packet.CLIENT_REQUEST
1335797172900: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797172900: inside handleClientRequest. Originator leader of region 1
1335797172900: got new request, requestCounter = 5006089
1335797172901: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500011
1335797172901: Yay the last leg succeeded. Removing reply runnables ...
1335797172901: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500011
1335797172901: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500011
1335797172901: do not send ack for received final_leg_ack
1335797172915: Received UDP payload: 989
1335797172918: mux: GOT CSM_Msg
1335797172919: forwarding disabled, not forwarding packets
1335797173042: Received UDP payload: 6209
1335797173045: mux: GOT CSM_Msg
1335797173045: forwarding disabled, not forwarding packets
1335797173100: Received UDP payload: 463
1335797173110: Received UDP payload: 446
1335797173114: Received UDP payload: 446
1335797173120: Received UDP payload: 446
1335797173182: Received UDP payload: 446
1335797173469: Received UDP payload: 989
1335797173479: mux: GOT CSM_Msg
1335797173480: forwarding disabled, not forwarding packets
1335797173495: Received UDP payload: 625
1335797173502: mux: Inside mux Packet.CLIENT_REQUEST
1335797173523: Received UDP payload: 625
1335797173528: mux: Inside mux Packet.CLIENT_REQUEST
1335797173769: Received UDP payload: 446
1335797173786: Received UDP payload: 625
1335797173787: mux: Inside mux Packet.CLIENT_REQUEST
1335797173821: Received UDP payload: 625
1335797173823: mux: Inside mux Packet.CLIENT_REQUEST
1335797174033: Received UDP payload: 625
1335797174035: mux: Inside mux Packet.CLIENT_REQUEST
1335797174035: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797174035: inside handleClientRequest. Originator leader of region 1
1335797174035: got new request, requestCounter = 5022048
1335797174035: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797174036: Sending to region: 3
1335797174036: Sending PROC_REQUEST 11:11 (1,0)->(3,0)
1335797174036: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797174037: mux: I got a CSM packet at a leader 

1335797174037: Note down new request by adding requestCounter=5022048 to HashMap processedRequests
1335797174037: Make FirstLeg Ack regardless of new or already-processed requests
1335797174037: The leader sending a First Leg ack to originator client (which id = 5022)
1335797174037: inside sendPacket(Packet p)
1335797174038: Sending UDP payload: 989
1335797174039: forwarding disabled, not forwarding packets
1335797174040: Sending UDP payload: 446
1335797174098: Received UDP payload: 625
1335797174099: mux: Inside mux Packet.CLIENT_REQUEST
1335797174138: canPressButton = TRUE
1335797174138: areButtonsEnabled --> false 
1335797174138: get picture disableButtonsR
1335797174138: areButtonsEnabled --> false
1335797174152: one more getNum: 21
1335797174153: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=21 getGood=14 getBad=4 getTimedout=1 getPercent=66%
1335797174153: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335797174153: change local requestCounter to 55
1335797174156: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005055 Client in region: 1 Client nodID: 5005
1335797174135: Received UDP payload: 446
1335797174185: ----------------------------
1335797174186: inside sendRequestPacketRepeatingRunnable for requestCount = 5005055
1335797174186: I'm a leader, my requesting photos packet going to mux directly
1335797174191: --- Finished one round of sending REQUEST Packet ---------
1335797174186: mux: Inside mux Packet.CLIENT_REQUEST
1335797174186: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797174221: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797174187: inside handleClientRequest. Originator leader of region 1
1335797174187: got new request, requestCounter = 5005055
1335797174187: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797174187: Sending to region: 2
1335797174188: Sending PROC_REQUEST 11:7 (1,0)->(2,0)
1335797174188: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797174189: mux: I got a CSM packet at a leader 

1335797174188: Note down new request by adding requestCounter=5005055 to HashMap processedRequests
1335797174188: Make FirstLeg Ack regardless of new or already-processed requests
1335797174188: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797174189: Sending UDP payload: 989
1335797174191: forwarding disabled, not forwarding packets
1335797174242: Received UDP payload: 989
1335797174245: mux: GOT CSM_Msg
1335797174245: forwarding disabled, not forwarding packets
1335797174805: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797174805: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797174805: mux: I got a CSM packet at a leader 

1335797174806: Sending UDP payload: 989
1335797174807: forwarding disabled, not forwarding packets
1335797174906: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797174906: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797174907: mux: I got a CSM packet at a leader 

1335797174906: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797174906: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797174909: mux: I got a CSM packet at a leader 

1335797174908: Sending UDP payload: 989
1335797174909: forwarding disabled, not forwarding packets
1335797174910: Sending UDP payload: 989
1335797174910: forwarding disabled, not forwarding packets
1335797175007: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175007: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175008: mux: I got a CSM packet at a leader 

1335797175008: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175008: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175010: mux: I got a CSM packet at a leader 

1335797175009: Sending UDP payload: 989
1335797175010: forwarding disabled, not forwarding packets
1335797175011: Sending UDP payload: 989
1335797175011: forwarding disabled, not forwarding packets
1335797175108: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175109: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175110: mux: I got a CSM packet at a leader 

1335797175109: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175109: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175112: mux: I got a CSM packet at a leader 

1335797175111: Sending UDP payload: 989
1335797175112: forwarding disabled, not forwarding packets
1335797175113: Sending UDP payload: 989
1335797175117: forwarding disabled, not forwarding packets
1335797175210: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175210: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175211: mux: I got a CSM packet at a leader 

1335797175211: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175211: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175213: mux: I got a CSM packet at a leader 

1335797175213: Sending UDP payload: 989
1335797175213: forwarding disabled, not forwarding packets
1335797175217: Sending UDP payload: 989
1335797175219: forwarding disabled, not forwarding packets
1335797175312: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175312: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175313: mux: I got a CSM packet at a leader 

1335797175312: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175312: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175317: mux: I got a CSM packet at a leader 

1335797175314: Sending UDP payload: 989
1335797175317: forwarding disabled, not forwarding packets
1335797175319: Sending UDP payload: 989
1335797175320: forwarding disabled, not forwarding packets
1335797175413: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175414: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175414: mux: I got a CSM packet at a leader 

1335797175416: Sending UDP payload: 989
1335797175417: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175418: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175418: mux: I got a CSM packet at a leader 

1335797175418: forwarding disabled, not forwarding packets
1335797175420: Sending UDP payload: 989
1335797175420: forwarding disabled, not forwarding packets
1335797175518: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175519: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175520: mux: I got a CSM packet at a leader 

1335797175519: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175519: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175522: mux: I got a CSM packet at a leader 

1335797175521: Sending UDP payload: 989
1335797175522: forwarding disabled, not forwarding packets
1335797175523: Sending UDP payload: 989
1335797175524: forwarding disabled, not forwarding packets
1335797175620: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175621: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175622: mux: I got a CSM packet at a leader 

1335797175621: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175621: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175624: mux: I got a CSM packet at a leader 

1335797175623: Sending UDP payload: 989
1335797175624: forwarding disabled, not forwarding packets
1335797175626: Sending UDP payload: 989
1335797175626: forwarding disabled, not forwarding packets
1335797175722: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175722: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175724: mux: I got a CSM packet at a leader 

1335797175723: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175723: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175726: mux: I got a CSM packet at a leader 

1335797175725: Sending UDP payload: 989
1335797175726: forwarding disabled, not forwarding packets
1335797175728: Sending UDP payload: 989
1335797175728: forwarding disabled, not forwarding packets
1335797175784: inside sendPacket(Packet p)
1335797175785: Sending UDP payload: 446
1335797175823: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175824: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175825: mux: I got a CSM packet at a leader 

1335797175824: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175825: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175828: mux: I got a CSM packet at a leader 

1335797175827: Sending UDP payload: 989
1335797175828: forwarding disabled, not forwarding packets
1335797175830: Sending UDP payload: 989
1335797175831: forwarding disabled, not forwarding packets
1335797175925: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175925: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797175926: mux: I got a CSM packet at a leader 

1335797175925: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175926: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797175930: mux: I got a CSM packet at a leader 

1335797175927: Sending UDP payload: 989
1335797175929: forwarding disabled, not forwarding packets
1335797175932: Sending UDP payload: 989
1335797175932: forwarding disabled, not forwarding packets
1335797176027: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797176027: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797176029: mux: I got a CSM packet at a leader 

1335797176028: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797176028: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797176032: mux: I got a CSM packet at a leader 

1335797176030: Sending UDP payload: 989
1335797176031: forwarding disabled, not forwarding packets
1335797176034: Sending UDP payload: 989
1335797176035: forwarding disabled, not forwarding packets
1335797176129: Retrying PROC_REQUEST 11:11 (1,0)->(3,0)
1335797176130: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(3,0)
1335797176131: mux: I got a CSM packet at a leader 

1335797176130: Retrying PROC_REQUEST 11:7 (1,0)->(2,0)
1335797176131: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1335797176135: mux: I got a CSM packet at a leader 

1335797176133: Sending UDP payload: 989
1335797176135: forwarding disabled, not forwarding packets
1335797176137: Sending UDP payload: 989
1335797176137: forwarding disabled, not forwarding packets
1335797176142: Received UDP payload: 5411
1335797176146: mux: GOT CSM_Msg
1335797176172: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797176173: disabling progressdialog due to successful new photo get
1335797176174: Inside _enableButtons
1335797176175: areButtonsEnabled --> true
1335797176175: send final leg ack regardless of new or already-processed reply
1335797176176: inside finalLegAck: change requestCounter to 56
1335797176177: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005056 Client in region: (1,0) Client nodID: 5005
1335797176177: I'm a leader client, my final_leg packet going to mux directly
1335797176180: new client_show_remotephoto reply with replyCounter 500500012
1335797176181: note down new reply by adding replyCounter=500500012 to HashMap processedReplies
1335797176181: leader download remote photo latency = 1986
1335797176182: = leader download start 1335797174186 ~ stop 1335797176172
1335797176185: one more getGood: 15
1335797176186: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=21 getGood=15 getBad=4 getTimedout=1 getPercent=71%
1335797176187: successful reply for client get photo
1335797176187: Success! Client getting photo from remote region, showing photo...
1335797176189: Remote photo's length: 4400
1335797176147: Received PROC_REPLY 11:7 (2,0)->(1,0), handing to UserApp
1335797176147: inside handleDSMReply. Now back in originator leader of region 1
1335797176147: DSM layer: Going to and from remote region took latency = 1960
1335797176148: DSM layer: orig leader sent packet at 1335797174187 ~ received reply from remote leader at 1335797176147
1335797176149: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797176149: change leader replyCounter to: 12
1335797176150: reply packet contains the newest photo/success info from the remote region
1335797176150: inside sendReplies of replyCount = 500500012
1335797176150: =======================
1335797176150: inside sendReplyRepeatingRunnable for replyCount = 500500012
1335797176151: Leader about to send REPLY packet, number: 500500012 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797176151: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797176151: === Finished one round of sending REPLY Packet =======
1335797176178: mux: Inside mux Packet.CLIENT_REQUEST
1335797176178: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797176178: inside handleClientRequest. Originator leader of region 1
1335797176179: got new request, requestCounter = 5005056
1335797176179: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500012
1335797176179: Yay the last leg succeeded. Removing reply runnables ...
1335797176179: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500012
1335797176179: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500012
1335797176180: do not send ack for received final_leg_ack
1335797176236: DSM Layer: Request timed out, send failure PROC_REPLY 11:11 (3,0)->(1,0)
1335797176236: Dispatching Atom PROC_REPLY 11:11 (3,0)->(1,0)
1335797176238: mux: I got a CSM packet at a leader 

1335797176239: Sending UDP payload: 989
1335797176240: Received PROC_REPLY 11:11 (3,0)->(1,0), handing to UserApp
1335797176240: inside handleDSMReply. Now back in originator leader of region 1
1335797176240: DSM layer timed out, don't log dsm layer latency stuff.
1335797176241: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797176241: change leader replyCounter to: 13
1335797176241: reply packet contains the newest photo/success info from the remote region
1335797176241: inside sendReplies of replyCount = 500500013
1335797176242: =======================
1335797176242: inside sendReplyRepeatingRunnable for replyCount = 500500013
1335797176242: Leader about to send REPLY packet, number: 500500013 type: 15 Leader in region: (1,0) to Client nodID: 5022
1335797176242: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1335797176242: inside sendPacket(Packet p)
1335797176242: === Finished one round of sending REPLY Packet =======
1335797176243: Sending UDP payload: 642
1335797176533: Received UDP payload: 446
1335797176543: =======================
1335797176543: inside sendReplyRepeatingRunnable for replyCount = 500500013
1335797176543: Leader about to send REPLY packet, number: 500500013 type: 15 Leader in region: (1,0) to Client nodID: 5022
1335797176543: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1335797176543: inside sendPacket(Packet p)
1335797176543: === Finished one round of sending REPLY Packet =======
1335797176544: Sending UDP payload: 642
1335797176571: Received UDP payload: 446
1335797176662: Received UDP payload: 989
1335797176665: mux: GOT CSM_Msg
1335797176665: forwarding disabled, not forwarding packets
1335797176765: Received UDP payload: 5411
1335797176768: mux: GOT CSM_Msg
1335797176768: forwarding disabled, not forwarding packets
1335797176844: =======================
1335797176844: inside sendReplyRepeatingRunnable for replyCount = 500500013
1335797176844: Leader about to send REPLY packet, number: 500500013 type: 15 Leader in region: (1,0) to Client nodID: 5022
1335797176844: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1335797176844: inside sendPacket(Packet p)
1335797176845: === Finished one round of sending REPLY Packet =======
1335797176846: Sending UDP payload: 642
1335797177097: Received UDP payload: 446
1335797177098: mux: Inside mux Packet.CLIENT_REQUEST
1335797177099: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797177099: inside handleClientRequest. Originator leader of region 1
1335797177099: got new request, requestCounter = 5022049
1335797177099: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500013
1335797177099: Yay the last leg succeeded. Removing reply runnables ...
1335797177099: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500013
1335797177099: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500013
1335797177100: do not send ack for received final_leg_ack
1335797177159: Received UDP payload: 446
1335797177168: Received UDP payload: 989
1335797177171: mux: GOT CSM_Msg
1335797177171: forwarding disabled, not forwarding packets
1335797177292: Received UDP payload: 5411
1335797177297: mux: GOT CSM_Msg
1335797177300: Received DUPLICATE PROC_REPLY 11:7 (2,0)->(1,0)
1335797177369: Received UDP payload: 446
1335797177371: mux: Inside mux Packet.CLIENT_REQUEST
1335797177371: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797177371: inside handleClientRequest. Originator leader of region 1
1335797177371: got new request, requestCounter = 5022050
1335797177371: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500013
1335797177371: Yay the last leg succeeded. Removing reply runnables ...
1335797177371: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500013
1335797177372: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500013
1335797177372: do not send ack for received final_leg_ack
1335797177379: Received UDP payload: 446
1335797177380: mux: Inside mux Packet.CLIENT_REQUEST
1335797177380: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797177380: inside handleClientRequest. Originator leader of region 1
1335797177380: got new request, requestCounter = 5022051
1335797177381: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500013
1335797177381: Yay the last leg succeeded. Removing reply runnables ...
1335797177381: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500013
1335797177381: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500013
1335797177381: do not send ack for received final_leg_ack
1335797177519: Received UDP payload: 5411
1335797177522: mux: GOT CSM_Msg
1335797177522: Received DUPLICATE PROC_REPLY 11:7 (2,0)->(1,0)
1335797177673: Received UDP payload: 5411
1335797177676: mux: GOT CSM_Msg
1335797177676: forwarding disabled, not forwarding packets
1335797177760: Received UDP payload: 989
1335797177763: mux: GOT CSM_Msg
1335797177763: removed replies before id 10 from sentReplies of size 0
1335797177763: inside handleDSMRequest. At requests's remote leader of region 1
1335797177764: INSIDE SERVER_GET_PHOTO!!!
1335797177766: Received PROC_REQUEST 11:10 (0,0)->(1,0), replying PROC_REPLY 11:10 (1,0)->(0,0)
1335797177766: Dispatching Atom PROC_REPLY 11:10 (1,0)->(0,0)
1335797177766: mux: I got a CSM packet at a leader 

1335797177768: Sending UDP payload: 4611
1335797177770: forwarding disabled, not forwarding packets
1335797178368: Received UDP payload: 989
1335797178376: mux: GOT CSM_Msg
1335797178376: removed replies before id 10 from sentReplies of size 1
1335797178378: Received DUPLICATE PROC_REQUEST 11:10 (0,0)->(1,0), replying PROC_REPLY 11:10 (1,0)->(0,0)
1335797178385: Dispatching Atom PROC_REPLY 11:10 (1,0)->(0,0)
1335797178385: mux: I got a CSM packet at a leader 

1335797178389: Sending UDP payload: 4611
1335797178392: forwarding disabled, not forwarding packets
1335797178949: canPressButton = TRUE
1335797178950: areButtonsEnabled --> false
1335797178950: disabling buttons ...
1335797178950: took picture disableButtonsR
1335797178950: areButtonsEnabled --> false
1335797178964: one more takeNum: 8
1335797178965: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=75% getNum=21 getGood=15 getBad=4 getTimedout=1 getPercent=71%
1335797178965: Clicked take picture button ..
1335797179239: Received UDP payload: 989
1335797179241: mux: GOT CSM_Msg
1335797179242: forwarding disabled, not forwarding packets
1335797179335: Received UDP payload: 6420
1335797179337: mux: GOT CSM_Msg
1335797179337: forwarding disabled, not forwarding packets
1335797179403: Received UDP payload: 989
1335797179405: mux: GOT CSM_Msg
1335797179405: forwarding disabled, not forwarding packets
1335797179412: Received UDP payload: 446
1335797179413: mux: Inside Packet.SERVER_REPLY
1335797179413: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797180158: Received UDP payload: 989
1335797180160: mux: GOT CSM_Msg
1335797180161: forwarding disabled, not forwarding packets
1335797180185: Received UDP payload: 989
1335797180187: mux: GOT CSM_Msg
1335797180187: forwarding disabled, not forwarding packets
1335797180276: Received UDP payload: 989
1335797180278: mux: GOT CSM_Msg
1335797180278: forwarding disabled, not forwarding packets
1335797180450: inside HandlePictureStorage onPictureTaken()
1335797180451: one more takeCamGood: 8
1335797180451: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=75% getNum=21 getGood=15 getBad=4 getTimedout=1 getPercent=71%
1335797180715: Picture successfully taken, ORIG BYTE LENGTH = 3288963
1335797181000: Our new height x width: 306 x 408
1335797181000: Show photo from handle my camera take
1335797181000: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335797181001: change local requestCounter to 57
1335797181023: BYTE SIZE AFTER COMPRESSION: 5534
1335797181028: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5005057 Client in region: 1 Client nodID: 5005
1335797180453: Received UDP payload: 989
1335797180459: mux: GOT CSM_Msg
1335797180459: forwarding disabled, not forwarding packets
1335797180487: Received UDP payload: 989
1335797180494: mux: GOT CSM_Msg
1335797180495: forwarding disabled, not forwarding packets
1335797180582: Received UDP payload: 989
1335797180584: mux: GOT CSM_Msg
1335797180584: forwarding disabled, not forwarding packets
1335797180684: Received UDP payload: 989
1335797180689: mux: GOT CSM_Msg
1335797180690: forwarding disabled, not forwarding packets
1335797180785: inside sendPacket(Packet p)
1335797180785: Received UDP payload: 989
1335797180792: Sending UDP payload: 446
1335797180799: mux: GOT CSM_Msg
1335797180800: forwarding disabled, not forwarding packets
1335797180888: Received UDP payload: 989
1335797180892: mux: GOT CSM_Msg
1335797180892: forwarding disabled, not forwarding packets
1335797180899: Received UDP payload: 989
1335797180902: mux: GOT CSM_Msg
1335797180902: forwarding disabled, not forwarding packets
1335797180990: Received UDP payload: 989
1335797180993: mux: GOT CSM_Msg
1335797180993: forwarding disabled, not forwarding packets
1335797181003: Received UDP payload: 989
1335797181006: mux: GOT CSM_Msg
1335797181006: forwarding disabled, not forwarding packets
1335797181067: ----------------------------
1335797181067: inside sendRequestPacketRepeatingRunnable for requestCount = 5005057
1335797181068: I'm a leader, my requesting photos packet going to mux directly
1335797181080: --- Finished one round of sending REQUEST Packet ---------
1335797181068: mux: Inside mux Packet.CLIENT_REQUEST
1335797181068: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797181116: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797181068: inside handleClientRequest. Originator leader of region 1
1335797181068: got new request, requestCounter = 5005057
1335797181069: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797181069: Sending PROC_REQUEST 10:32 (1,0)->(1,0)
1335797181069: Dispatching Atom PROC_REQUEST 10:32 (1,0)->(1,0)
1335797181070: mux: I got a CSM packet at a leader 

1335797181117: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797181118: I'm a leader and I successfully saved my client's new photo
1335797181118: now showing in UI the new photo I just saved ... 
1335797181118: the photo length: 5534
1335797181163: end of server show photo aside %%%%%%%%%
1335797181070: Note down new request by adding requestCounter=5005057 to HashMap processedRequests
1335797181070: Make FirstLeg Ack regardless of new or already-processed requests
1335797181070: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797181074: Sending UDP payload: 6545
1335797181076: removed replies before id 32 from sentReplies of size 0
1335797181076: inside handleDSMRequest. At requests's remote leader of region 1
1335797181078: Inside UPLOAD_PHOTO!!
1335797181092: my_gpinfo.isSuccess is now (should be true): true
1335797181092: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797181094: Received PROC_REQUEST 10:32 (1,0)->(1,0), replying PROC_REPLY 10:32 (1,0)->(1,0)
1335797181094: Dispatching Atom PROC_REPLY 10:32 (1,0)->(1,0)
1335797181095: mux: I got a CSM packet at a leader 

1335797181171: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335797181171: disabling progressdialog due to successful new photo upload
1335797181171: Inside _enableButtons
1335797181172: areButtonsEnabled --> true
1335797181172: send final leg ack regardless of new or already-processed reply
1335797181172: inside finalLegAck: change requestCounter to 58
1335797181172: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005058 Client in region: (1,0) Client nodID: 5005
1335797181173: I'm a leader client, my final_leg packet going to mux directly
1335797181174: cupa discarding repeated replyCounter=500500014, but still sent an ack back
1335797181096: Sending UDP payload: 989
1335797181106: Received UDP payload: 989
1335797181112: mux: GOT CSM_Msg
1335797181110: Received PROC_REPLY 10:32 (1,0)->(1,0), handing to UserApp
1335797181110: inside handleDSMReply. Now back in originator leader of region 1
1335797181110: DSM layer: Going to and from remote region took latency = 41
1335797181110: DSM layer: orig leader sent packet at 1335797181069 ~ received reply from remote leader at 1335797181110
1335797181110: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797181111: change leader replyCounter to: 14
1335797181111: reply packet contains the success info for UPLOAD_PHOTO
1335797181111: inside sendReplies of replyCount = 500500014
1335797181111: =======================
1335797181111: inside sendReplyRepeatingRunnable for replyCount = 500500014
1335797181111: Leader about to send REPLY packet, number: 500500014 type: 16 Leader in region: (1,0) to Client nodID: 5005
1335797181111: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797181111: === Finished one round of sending REPLY Packet =======
1335797181112: forwarding disabled, not forwarding packets
1335797181165: Received UDP payload: 989
1335797181170: mux: GOT CSM_Msg
1335797181170: forwarding disabled, not forwarding packets
1335797181173: mux: Inside mux Packet.CLIENT_REQUEST
1335797181173: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797181173: inside handleClientRequest. Originator leader of region 1
1335797181173: got new request, requestCounter = 5005058
1335797181173: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500014
1335797181173: Yay the last leg succeeded. Removing reply runnables ...
1335797181173: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500014
1335797181174: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500014
1335797181174: do not send ack for received final_leg_ack
1335797181216: Received UDP payload: 989
1335797181219: mux: GOT CSM_Msg
1335797181219: forwarding disabled, not forwarding packets
1335797181247: Received UDP payload: 446
1335797181297: Received UDP payload: 989
1335797181299: mux: GOT CSM_Msg
1335797181299: forwarding disabled, not forwarding packets
1335797181308: Received UDP payload: 989
1335797181310: mux: GOT CSM_Msg
1335797181311: forwarding disabled, not forwarding packets
1335797181409: Received UDP payload: 989
1335797181411: mux: GOT CSM_Msg
1335797181411: forwarding disabled, not forwarding packets
1335797181420: Received UDP payload: 989
1335797181422: mux: GOT CSM_Msg
1335797181422: forwarding disabled, not forwarding packets
1335797181511: Received UDP payload: 989
1335797181513: mux: GOT CSM_Msg
1335797181513: forwarding disabled, not forwarding packets
1335797181531: Received UDP payload: 989
1335797181533: mux: GOT CSM_Msg
1335797181533: forwarding disabled, not forwarding packets
1335797181553: Received UDP payload: 989
1335797181555: mux: GOT CSM_Msg
1335797181555: forwarding disabled, not forwarding packets
1335797181562: Received UDP payload: 642
1335797181563: mux: Inside Packet.SERVER_REPLY
1335797181563: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797181615: Received UDP payload: 446
1335797181616: mux: Inside mux Packet.CLIENT_REQUEST
1335797181672: Received UDP payload: 6420
1335797181674: mux: GOT CSM_Msg
1335797181674: forwarding disabled, not forwarding packets
1335797181749: Received UDP payload: 989
1335797181751: mux: GOT CSM_Msg
1335797181751: forwarding disabled, not forwarding packets
1335797181756: Received UDP payload: 446
1335797181819: Received UDP payload: 989
1335797181821: mux: GOT CSM_Msg
1335797181821: forwarding disabled, not forwarding packets
1335797181919: Received UDP payload: 989
1335797181921: mux: GOT CSM_Msg
1335797181921: forwarding disabled, not forwarding packets
1335797182024: Received UDP payload: 989
1335797182026: mux: GOT CSM_Msg
1335797182027: forwarding disabled, not forwarding packets
1335797182128: Received UDP payload: 989
1335797182130: mux: GOT CSM_Msg
1335797182130: forwarding disabled, not forwarding packets
1335797182230: Received UDP payload: 989
1335797182232: mux: GOT CSM_Msg
1335797182232: forwarding disabled, not forwarding packets
1335797182331: Received UDP payload: 989
1335797182336: mux: GOT CSM_Msg
1335797182336: forwarding disabled, not forwarding packets
1335797183800: Received UDP payload: 625
1335797183807: mux: Inside mux Packet.CLIENT_REQUEST
1335797184115: Received UDP payload: 625
1335797184119: mux: Inside mux Packet.CLIENT_REQUEST
1335797184407: Received UDP payload: 625
1335797184412: mux: Inside mux Packet.CLIENT_REQUEST
1335797185490: Received UDP payload: 446
1335797185786: inside sendPacket(Packet p)
1335797185788: Received UDP payload: 446
1335797185796: Sending UDP payload: 446
1335797186076: Received UDP payload: 446
1335797186093: Received UDP payload: 446
1335797186379: Received UDP payload: 446
1335797186392: Received UDP payload: 446
1335797186681: Received UDP payload: 446
1335797186714: Received UDP payload: 446
1335797186981: Received UDP payload: 446
1335797188271: Received UDP payload: 446
1335797188277: mux: Inside Packet.SERVER_REPLY
1335797188279: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797188294: Received UDP payload: 989
1335797188312: mux: GOT CSM_Msg
1335797188307: Received UDP payload: 642
1335797188313: mux: Inside Packet.SERVER_REPLY
1335797188313: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797188312: forwarding disabled, not forwarding packets
1335797188328: Received UDP payload: 446
1335797188329: mux: Inside mux Packet.CLIENT_REQUEST
1335797190797: inside sendPacket(Packet p)
1335797190799: Sending UDP payload: 446
1335797191240: Received UDP payload: 446
1335797192366: Received UDP payload: 625
1335797192370: mux: Inside mux Packet.CLIENT_REQUEST
1335797192370: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797192370: inside handleClientRequest. Originator leader of region 1
1335797192371: got new request, requestCounter = 5022052
1335797192371: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797192388: Sending to region: 3
1335797192389: Sending PROC_REQUEST 11:12 (1,0)->(3,0)
1335797192390: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(3,0)
1335797192405: mux: I got a CSM packet at a leader 

1335797192391: Note down new request by adding requestCounter=5022052 to HashMap processedRequests
1335797192391: Make FirstLeg Ack regardless of new or already-processed requests
1335797192391: The leader sending a First Leg ack to originator client (which id = 5022)
1335797192392: inside sendPacket(Packet p)
1335797192413: Sending UDP payload: 989
1335797192418: forwarding disabled, not forwarding packets
1335797192421: Sending UDP payload: 446
1335797193179: Retrying PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193180: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193181: mux: I got a CSM packet at a leader 

1335797193195: Sending UDP payload: 989
1335797193197: forwarding disabled, not forwarding packets
1335797193281: Retrying PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193281: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193281: mux: I got a CSM packet at a leader 

1335797193282: Sending UDP payload: 989
1335797193283: forwarding disabled, not forwarding packets
1335797193342: Received UDP payload: 33496
1335797193378: Received UDP payload: 446
1335797193382: Retrying PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193382: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193382: mux: I got a CSM packet at a leader 

1335797193383: Sending UDP payload: 989
1335797193384: forwarding disabled, not forwarding packets
1335797193386: Received UDP payload: 989
1335797193389: mux: GOT CSM_Msg
1335797193389: forwarding disabled, not forwarding packets
1335797193414: Received UDP payload: 642
1335797193416: mux: Inside Packet.SERVER_REPLY
1335797193416: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797193423: Received UDP payload: 642
1335797193425: mux: Inside Packet.SERVER_REPLY
1335797193425: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797193435: Received UDP payload: 642
1335797193437: mux: Inside Packet.SERVER_REPLY
1335797193437: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797193469: Received UDP payload: 446
1335797193471: mux: Inside mux Packet.CLIENT_REQUEST
1335797193483: Received UDP payload: 446
1335797193485: mux: Inside mux Packet.CLIENT_REQUEST
1335797193486: Retrying PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193487: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193487: mux: I got a CSM packet at a leader 

1335797193488: Sending UDP payload: 989
1335797193489: forwarding disabled, not forwarding packets
1335797193579: Received UDP payload: 989
1335797193581: mux: GOT CSM_Msg
1335797193581: forwarding disabled, not forwarding packets
1335797193587: Retrying PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193588: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193588: mux: I got a CSM packet at a leader 

1335797193589: Sending UDP payload: 989
1335797193590: forwarding disabled, not forwarding packets
1335797193688: Retrying PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193689: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193689: mux: I got a CSM packet at a leader 

1335797193690: Sending UDP payload: 989
1335797193691: forwarding disabled, not forwarding packets
1335797193790: Retrying PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193790: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193790: mux: I got a CSM packet at a leader 

1335797193791: Sending UDP payload: 989
1335797193792: forwarding disabled, not forwarding packets
1335797193891: Retrying PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193891: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(3,0)
1335797193891: mux: I got a CSM packet at a leader 

1335797193892: Sending UDP payload: 989
1335797193893: forwarding disabled, not forwarding packets
1335797193935: Received UDP payload: 6141
1335797193944: mux: GOT CSM_Msg
1335797193945: Received PROC_REPLY 11:12 (3,0)->(1,0), handing to UserApp
1335797193946: inside handleDSMReply. Now back in originator leader of region 1
1335797193946: DSM layer: Going to and from remote region took latency = 1556
1335797193946: DSM layer: orig leader sent packet at 1335797192389 ~ received reply from remote leader at 1335797193945
1335797193948: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797193949: change leader replyCounter to: 15
1335797193949: reply packet contains the newest photo/success info from the remote region
1335797193949: inside sendReplies of replyCount = 500500015
1335797193953: =======================
1335797193953: inside sendReplyRepeatingRunnable for replyCount = 500500015
1335797193954: Leader about to send REPLY packet, number: 500500015 type: 15 Leader in region: (1,0) to Client nodID: 5022
1335797193954: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1335797193954: inside sendPacket(Packet p)
1335797193954: === Finished one round of sending REPLY Packet =======
1335797193955: Sending UDP payload: 5794
1335797193998: canPressButton = TRUE
1335797193998: areButtonsEnabled --> false 
1335797193998: get picture disableButtonsR
1335797193998: areButtonsEnabled --> false
1335797194025: one more getNum: 22
1335797194025: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=75% getNum=22 getGood=15 getBad=4 getTimedout=1 getPercent=68%
1335797194026: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335797194026: change local requestCounter to 59
1335797194029: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005059 Client in region: 1 Client nodID: 5005
1335797194060: ----------------------------
1335797194061: inside sendRequestPacketRepeatingRunnable for requestCount = 5005059
1335797194061: I'm a leader, my requesting photos packet going to mux directly
1335797194071: --- Finished one round of sending REQUEST Packet ---------
1335797194061: mux: Inside mux Packet.CLIENT_REQUEST
1335797194061: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797194127: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797194061: inside handleClientRequest. Originator leader of region 1
1335797194061: got new request, requestCounter = 5005059
1335797194062: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797194062: Sending to region: 1
1335797194063: Sending PROC_REQUEST 11:33 (1,0)->(1,0)
1335797194063: Dispatching Atom PROC_REQUEST 11:33 (1,0)->(1,0)
1335797194063: mux: I got a CSM packet at a leader 

1335797194063: Note down new request by adding requestCounter=5005059 to HashMap processedRequests
1335797194063: Make FirstLeg Ack regardless of new or already-processed requests
1335797194063: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797194066: Sending UDP payload: 989
1335797194067: removed replies before id 33 from sentReplies of size 0
1335797194067: inside handleDSMRequest. At requests's remote leader of region 1
1335797194067: INSIDE SERVER_GET_PHOTO!!!
1335797194070: dst_region == src_region = 1
1335797194070:  1 self to self atomRequest
1335797194071: Received PROC_REQUEST 11:33 (1,0)->(1,0), replying PROC_REPLY 11:33 (1,0)->(1,0)
1335797194071: Dispatching Atom PROC_REPLY 11:33 (1,0)->(1,0)
1335797194072: mux: I got a CSM packet at a leader 

1335797194129: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797194129: disabling progressdialog due to successful new photo get
1335797194129: Inside _enableButtons
1335797194129: areButtonsEnabled --> true
1335797194129: send final leg ack regardless of new or already-processed reply
1335797194130: inside finalLegAck: change requestCounter to 60
1335797194130: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005060 Client in region: (1,0) Client nodID: 5005
1335797194130: I'm a leader client, my final_leg packet going to mux directly
1335797194132: new client_show_remotephoto reply with replyCounter 500500016
1335797194132: note down new reply by adding replyCounter=500500016 to HashMap processedReplies
1335797194132: leader download remote photo latency = 68
1335797194132: = leader download start 1335797194061 ~ stop 1335797194129
1335797194133: one more getGood: 16
1335797194135: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=75% getNum=22 getGood=16 getBad=4 getTimedout=1 getPercent=72%
1335797194136: successful reply for client get photo
1335797194136: Success! Client getting photo from remote region, showing photo...
1335797194136: Remote photo's length: 5534
1335797194073: Sending UDP payload: 6545
1335797194086: Received PROC_REPLY 11:33 (1,0)->(1,0), handing to UserApp
1335797194086: inside handleDSMReply. Now back in originator leader of region 1
1335797194086: DSM layer: Going to and from remote region took latency = 24
1335797194086: DSM layer: orig leader sent packet at 1335797194062 ~ received reply from remote leader at 1335797194086
1335797194087: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797194087: change leader replyCounter to: 16
1335797194087: reply packet contains the newest photo/success info from the remote region
1335797194087: inside sendReplies of replyCount = 500500016
1335797194087: =======================
1335797194087: inside sendReplyRepeatingRunnable for replyCount = 500500016
1335797194088: Leader about to send REPLY packet, number: 500500016 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797194088: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797194088: === Finished one round of sending REPLY Packet =======
1335797194102: Received UDP payload: 6141
1335797194106: mux: GOT CSM_Msg
1335797194109: Received DUPLICATE PROC_REPLY 11:12 (3,0)->(1,0)
1335797194130: mux: Inside mux Packet.CLIENT_REQUEST
1335797194131: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797194131: inside handleClientRequest. Originator leader of region 1
1335797194131: got new request, requestCounter = 5005060
1335797194131: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500016
1335797194131: Yay the last leg succeeded. Removing reply runnables ...
1335797194131: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500016
1335797194131: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500016
1335797194131: do not send ack for received final_leg_ack
1335797194224: Received UDP payload: 446
1335797194256: =======================
1335797194256: inside sendReplyRepeatingRunnable for replyCount = 500500015
1335797194256: Leader about to send REPLY packet, number: 500500015 type: 15 Leader in region: (1,0) to Client nodID: 5022
1335797194257: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1335797194257: inside sendPacket(Packet p)
1335797194257: === Finished one round of sending REPLY Packet =======
1335797194258: Sending UDP payload: 5794
1335797194517: Received UDP payload: 6141
1335797194519: mux: GOT CSM_Msg
1335797194520: Received DUPLICATE PROC_REPLY 11:12 (3,0)->(1,0)
1335797194544: Received UDP payload: 446
1335797194546: mux: Inside mux Packet.CLIENT_REQUEST
1335797194547: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797194547: inside handleClientRequest. Originator leader of region 1
1335797194547: got new request, requestCounter = 5022053
1335797194548: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500015
1335797194548: Yay the last leg succeeded. Removing reply runnables ...
1335797194548: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500015
1335797194549: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500015
1335797194549: do not send ack for received final_leg_ack
1335797194564: Received UDP payload: 446
1335797194568: mux: Inside mux Packet.CLIENT_REQUEST
1335797194568: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797194568: inside handleClientRequest. Originator leader of region 1
1335797194569: got new request, requestCounter = 5022054
1335797194569: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500015
1335797194569: Yay the last leg succeeded. Removing reply runnables ...
1335797194570: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500015
1335797194570: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500015
1335797194570: do not send ack for received final_leg_ack
1335797194666: Received UDP payload: 6141
1335797194672: mux: GOT CSM_Msg
1335797194673: Received DUPLICATE PROC_REPLY 11:12 (3,0)->(1,0)
1335797194729: Received UDP payload: 446
1335797194796: Received UDP payload: 6141
1335797194800: mux: GOT CSM_Msg
1335797194801: Received DUPLICATE PROC_REPLY 11:12 (3,0)->(1,0)
1335797194846: Received UDP payload: 446
1335797195151: Received UDP payload: 446
1335797195435: Received UDP payload: 989
1335797195442: mux: GOT CSM_Msg
1335797195442: removed replies before id 4 from sentReplies of size 1
1335797195443: inside handleDSMRequest. At requests's remote leader of region 1
1335797195445: INSIDE SERVER_GET_PHOTO!!!
1335797195450: Received PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1335797195451: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335797195452: mux: I got a CSM packet at a leader 

1335797195467: Sending UDP payload: 6545
1335797195482: forwarding disabled, not forwarding packets
1335797195798: inside sendPacket(Packet p)
1335797195799: Sending UDP payload: 446
1335797196417: Received UDP payload: 446
1335797196552: Received UDP payload: 989
1335797196562: mux: GOT CSM_Msg
1335797196562: removed replies before id 4 from sentReplies of size 2
1335797196574: Received DUPLICATE PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1335797196574: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335797196575: mux: I got a CSM packet at a leader 

1335797196577: Sending UDP payload: 6545
1335797196577: forwarding disabled, not forwarding packets
1335797196721: Received UDP payload: 446
1335797196743: Received UDP payload: 989
1335797196748: mux: GOT CSM_Msg
1335797196749: removed replies before id 4 from sentReplies of size 2
1335797196750: Received DUPLICATE PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1335797196750: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335797196750: mux: I got a CSM packet at a leader 

1335797196752: Sending UDP payload: 6545
1335797196763: forwarding disabled, not forwarding packets
1335797196764: Received UDP payload: 989
1335797196768: mux: GOT CSM_Msg
1335797196768: removed replies before id 4 from sentReplies of size 2
1335797196769: Received DUPLICATE PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1335797196769: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335797196770: mux: I got a CSM packet at a leader 

1335797196771: Sending UDP payload: 6545
1335797196786: Received UDP payload: 989
1335797196787: forwarding disabled, not forwarding packets
1335797196792: mux: GOT CSM_Msg
1335797196793: removed replies before id 4 from sentReplies of size 2
1335797196796: Received DUPLICATE PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1335797196796: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335797196797: mux: I got a CSM packet at a leader 

1335797196799: Sending UDP payload: 6545
1335797196800: forwarding disabled, not forwarding packets
1335797196803: Received UDP payload: 989
1335797196814: mux: GOT CSM_Msg
1335797196814: removed replies before id 4 from sentReplies of size 2
1335797196817: Received DUPLICATE PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1335797196820: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335797196820: mux: I got a CSM packet at a leader 

1335797196824: Sending UDP payload: 6545
1335797196827: forwarding disabled, not forwarding packets
1335797196868: Received UDP payload: 989
1335797196872: mux: GOT CSM_Msg
1335797196872: removed replies before id 4 from sentReplies of size 2
1335797196873: Received DUPLICATE PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1335797196875: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335797196876: mux: I got a CSM packet at a leader 

1335797196878: Sending UDP payload: 6545
1335797196880: forwarding disabled, not forwarding packets
1335797196916: Received UDP payload: 989
1335797196920: mux: GOT CSM_Msg
1335797196921: removed replies before id 4 from sentReplies of size 2
1335797196921: Received DUPLICATE PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1335797196922: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335797196922: mux: I got a CSM packet at a leader 

1335797196926: Sending UDP payload: 6545
1335797196929: forwarding disabled, not forwarding packets
1335797196948: Received UDP payload: 989
1335797196952: mux: GOT CSM_Msg
1335797196953: removed replies before id 4 from sentReplies of size 2
1335797196954: Received DUPLICATE PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1335797196954: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335797196955: mux: I got a CSM packet at a leader 

1335797196956: Sending UDP payload: 6545
1335797196957: forwarding disabled, not forwarding packets
1335797196963: Received UDP payload: 989
1335797196966: mux: GOT CSM_Msg
1335797196967: removed replies before id 4 from sentReplies of size 2
1335797196967: Received DUPLICATE PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1335797196967: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335797196968: mux: I got a CSM packet at a leader 

1335797196969: Sending UDP payload: 6545
1335797196977: forwarding disabled, not forwarding packets
1335797197069: Received UDP payload: 989
1335797197074: mux: GOT CSM_Msg
1335797197074: removed replies before id 4 from sentReplies of size 2
1335797197075: Received DUPLICATE PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1335797197075: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1335797197075: mux: I got a CSM packet at a leader 

1335797197079: Sending UDP payload: 6545
1335797197081: forwarding disabled, not forwarding packets
1335797197115: Received UDP payload: 989
1335797197125: mux: GOT CSM_Msg
1335797197126: forwarding disabled, not forwarding packets
1335797197125: Received UDP payload: 446
1335797197137: Received UDP payload: 989
1335797197141: mux: GOT CSM_Msg
1335797197141: forwarding disabled, not forwarding packets
1335797197202: Received UDP payload: 989
1335797197208: mux: GOT CSM_Msg
1335797197208: forwarding disabled, not forwarding packets
1335797197234: Received UDP payload: 989
1335797197239: mux: GOT CSM_Msg
1335797197239: forwarding disabled, not forwarding packets
1335797197697: Received UDP payload: 989
1335797197704: mux: GOT CSM_Msg
1335797197705: forwarding disabled, not forwarding packets
1335797197799: Received UDP payload: 989
1335797197801: mux: GOT CSM_Msg
1335797197801: forwarding disabled, not forwarding packets
1335797197898: Received UDP payload: 989
1335797197905: mux: GOT CSM_Msg
1335797197905: forwarding disabled, not forwarding packets
1335797197935: Received UDP payload: 989
1335797197951: mux: GOT CSM_Msg
1335797197951: forwarding disabled, not forwarding packets
1335797198036: Received UDP payload: 989
1335797198042: mux: GOT CSM_Msg
1335797198042: forwarding disabled, not forwarding packets
1335797198448: Received UDP payload: 989
1335797198456: mux: GOT CSM_Msg
1335797198457: forwarding disabled, not forwarding packets
1335797198474: Received UDP payload: 989
1335797198481: mux: GOT CSM_Msg
1335797198481: forwarding disabled, not forwarding packets
1335797198583: Received UDP payload: 446
1335797198585: mux: Inside Packet.SERVER_REPLY
1335797198586: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797198611: Received UDP payload: 5640
1335797198614: mux: Inside mux Packet.CLIENT_REQUEST
1335797198625: Received UDP payload: 989
1335797198628: mux: GOT CSM_Msg
1335797198628: forwarding disabled, not forwarding packets
1335797198650: Received UDP payload: 446
1335797198652: mux: Inside Packet.SERVER_REPLY
1335797198652: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797198663: Received UDP payload: 642
1335797198666: mux: Inside Packet.SERVER_REPLY
1335797198666: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797198732: Received UDP payload: 446
1335797198734: mux: Inside mux Packet.CLIENT_REQUEST
1335797198863: Received UDP payload: 625
1335797198866: mux: Inside mux Packet.CLIENT_REQUEST
1335797198977: Received UDP payload: 6141
1335797198981: mux: GOT CSM_Msg
1335797198981: forwarding disabled, not forwarding packets
1335797199160: Received UDP payload: 625
1335797199164: mux: Inside mux Packet.CLIENT_REQUEST
1335797199170: Received UDP payload: 6141
1335797199185: mux: GOT CSM_Msg
1335797199186: forwarding disabled, not forwarding packets
1335797199245: canPressButton = TRUE
1335797199246: areButtonsEnabled --> false 
1335797199246: get picture disableButtonsR
1335797199246: areButtonsEnabled --> false
1335797199272: one more getNum: 23
1335797199273: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=75% getNum=23 getGood=16 getBad=4 getTimedout=1 getPercent=69%
1335797199273: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335797199273: change local requestCounter to 61
1335797199274: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005061 Client in region: 1 Client nodID: 5005
1335797199238: Received UDP payload: 6141
1335797199240: mux: GOT CSM_Msg
1335797199240: forwarding disabled, not forwarding packets
1335797199251: Received UDP payload: 989
1335797199252: mux: GOT CSM_Msg
1335797199253: forwarding disabled, not forwarding packets
1335797199262: Received UDP payload: 989
1335797199264: mux: GOT CSM_Msg
1335797199264: forwarding disabled, not forwarding packets
1335797199302: ----------------------------
1335797199303: inside sendRequestPacketRepeatingRunnable for requestCount = 5005061
1335797199303: I'm a leader, my requesting photos packet going to mux directly
1335797199308: --- Finished one round of sending REQUEST Packet ---------
1335797199303: mux: Inside mux Packet.CLIENT_REQUEST
1335797199303: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797199350: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797199303: inside handleClientRequest. Originator leader of region 1
1335797199303: got new request, requestCounter = 5005061
1335797199304: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797199304: Sending to region: 3
1335797199305: Sending PROC_REQUEST 11:13 (1,0)->(3,0)
1335797199305: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797199305: mux: I got a CSM packet at a leader 

1335797199305: Note down new request by adding requestCounter=5005061 to HashMap processedRequests
1335797199305: Make FirstLeg Ack regardless of new or already-processed requests
1335797199305: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797199307: Sending UDP payload: 989
1335797199308: forwarding disabled, not forwarding packets
1335797199331: Received UDP payload: 5265
1335797199333: mux: GOT CSM_Msg
1335797199334: forwarding disabled, not forwarding packets
1335797199494: Received UDP payload: 625
1335797199496: mux: Inside mux Packet.CLIENT_REQUEST
1335797199546: Received UDP payload: 989
1335797199548: mux: GOT CSM_Msg
1335797199548: forwarding disabled, not forwarding packets
1335797199595: Received UDP payload: 5265
1335797199597: mux: GOT CSM_Msg
1335797199597: forwarding disabled, not forwarding packets
1335797199637: Received UDP payload: 989
1335797199639: mux: GOT CSM_Msg
1335797199639: forwarding disabled, not forwarding packets
1335797199679: Received UDP payload: 989
1335797199681: mux: GOT CSM_Msg
1335797199681: forwarding disabled, not forwarding packets
1335797199723: Received UDP payload: 989
1335797199725: mux: GOT CSM_Msg
1335797199726: forwarding disabled, not forwarding packets
1335797199736: Received UDP payload: 989
1335797199738: mux: GOT CSM_Msg
1335797199738: forwarding disabled, not forwarding packets
1335797199802: Received UDP payload: 446
1335797199803: mux: Inside Packet.SERVER_REPLY
1335797199803: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797199852: Received UDP payload: 5265
1335797199855: mux: GOT CSM_Msg
1335797199855: forwarding disabled, not forwarding packets
1335797199960: Received UDP payload: 6141
1335797199962: mux: GOT CSM_Msg
1335797199963: forwarding disabled, not forwarding packets
1335797200047: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200047: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200047: mux: I got a CSM packet at a leader 

1335797200048: Sending UDP payload: 989
1335797200049: forwarding disabled, not forwarding packets
1335797200075: Received UDP payload: 5794
1335797200076: mux: Inside Packet.SERVER_REPLY
1335797200076: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797200095: Received UDP payload: 446
1335797200096: mux: Inside mux Packet.CLIENT_REQUEST
1335797200109: Received UDP payload: 989
1335797200111: mux: GOT CSM_Msg
1335797200111: forwarding disabled, not forwarding packets
1335797200120: Received UDP payload: 989
1335797200122: mux: GOT CSM_Msg
1335797200122: forwarding disabled, not forwarding packets
1335797200126: Received UDP payload: 446
1335797200127: mux: Inside Packet.SERVER_REPLY
1335797200127: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797200137: Received UDP payload: 989
1335797200141: mux: GOT CSM_Msg
1335797200141: forwarding disabled, not forwarding packets
1335797200148: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200148: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200148: mux: I got a CSM packet at a leader 

1335797200149: Sending UDP payload: 989
1335797200149: forwarding disabled, not forwarding packets
1335797200248: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200249: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200249: mux: I got a CSM packet at a leader 

1335797200250: Sending UDP payload: 989
1335797200250: forwarding disabled, not forwarding packets
1335797200349: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200350: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200350: mux: I got a CSM packet at a leader 

1335797200351: Sending UDP payload: 989
1335797200351: forwarding disabled, not forwarding packets
1335797200360: Received UDP payload: 446
1335797200361: mux: Inside mux Packet.CLIENT_REQUEST
1335797200374: Received UDP payload: 989
1335797200376: mux: GOT CSM_Msg
1335797200376: forwarding disabled, not forwarding packets
1335797200450: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200451: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200451: mux: I got a CSM packet at a leader 

1335797200452: Sending UDP payload: 989
1335797200452: forwarding disabled, not forwarding packets
1335797200551: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200551: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200552: mux: I got a CSM packet at a leader 

1335797200553: Sending UDP payload: 989
1335797200553: forwarding disabled, not forwarding packets
1335797200652: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200652: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200653: mux: I got a CSM packet at a leader 

1335797200654: Sending UDP payload: 989
1335797200654: forwarding disabled, not forwarding packets
1335797200754: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200754: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200755: mux: I got a CSM packet at a leader 

1335797200756: Sending UDP payload: 989
1335797200757: forwarding disabled, not forwarding packets
1335797200799: inside sendPacket(Packet p)
1335797200800: Sending UDP payload: 446
1335797200854: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200855: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200855: mux: I got a CSM packet at a leader 

1335797200856: Sending UDP payload: 989
1335797200856: forwarding disabled, not forwarding packets
1335797200895: Received UDP payload: 446
1335797200896: mux: Inside Packet.SERVER_REPLY
1335797200896: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797200934: Received UDP payload: 5265
1335797200936: mux: GOT CSM_Msg
1335797200936: forwarding disabled, not forwarding packets
1335797200955: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200956: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797200956: mux: I got a CSM packet at a leader 

1335797200957: Sending UDP payload: 989
1335797200957: forwarding disabled, not forwarding packets
1335797201007: Received UDP payload: 5794
1335797201011: mux: Inside Packet.SERVER_REPLY
1335797201011: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797201032: Received UDP payload: 446
1335797201033: mux: Inside mux Packet.CLIENT_REQUEST
1335797201055: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797201056: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797201056: mux: I got a CSM packet at a leader 

1335797201062: Sending UDP payload: 989
1335797201063: forwarding disabled, not forwarding packets
1335797201156: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797201156: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797201157: mux: I got a CSM packet at a leader 

1335797201158: Sending UDP payload: 989
1335797201158: forwarding disabled, not forwarding packets
1335797201257: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797201257: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797201258: mux: I got a CSM packet at a leader 

1335797201259: Sending UDP payload: 989
1335797201259: forwarding disabled, not forwarding packets
1335797201304: Received UDP payload: 446
1335797201357: Retrying PROC_REQUEST 11:13 (1,0)->(3,0)
1335797201358: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(3,0)
1335797201358: mux: I got a CSM packet at a leader 

1335797201359: Sending UDP payload: 989
1335797201360: forwarding disabled, not forwarding packets
1335797201428: Received UDP payload: 6141
1335797201431: mux: GOT CSM_Msg
1335797201436: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797201436: disabling progressdialog due to successful new photo get
1335797201437: Inside _enableButtons
1335797201437: areButtonsEnabled --> true
1335797201437: send final leg ack regardless of new or already-processed reply
1335797201438: inside finalLegAck: change requestCounter to 62
1335797201438: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005062 Client in region: (1,0) Client nodID: 5005
1335797201439: I'm a leader client, my final_leg packet going to mux directly
1335797201440: csn discarding repeated replyCounter=500500017, but still sent an ack back
1335797201431: Received PROC_REPLY 11:13 (3,0)->(1,0), handing to UserApp
1335797201431: inside handleDSMReply. Now back in originator leader of region 1
1335797201431: DSM layer: Going to and from remote region took latency = 2127
1335797201432: DSM layer: orig leader sent packet at 1335797199304 ~ received reply from remote leader at 1335797201431
1335797201434: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797201434: change leader replyCounter to: 17
1335797201434: reply packet contains the newest photo/success info from the remote region
1335797201435: inside sendReplies of replyCount = 500500017
1335797201435: =======================
1335797201435: inside sendReplyRepeatingRunnable for replyCount = 500500017
1335797201435: Leader about to send REPLY packet, number: 500500017 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797201435: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797201435: === Finished one round of sending REPLY Packet =======
1335797201439: mux: Inside mux Packet.CLIENT_REQUEST
1335797201439: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797201439: inside handleClientRequest. Originator leader of region 1
1335797201439: got new request, requestCounter = 5005062
1335797201439: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500017
1335797201439: Yay the last leg succeeded. Removing reply runnables ...
1335797201440: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500017
1335797201440: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500017
1335797201440: do not send ack for received final_leg_ack
1335797201519: Received UDP payload: 6141
1335797201521: mux: GOT CSM_Msg
1335797201521: Received DUPLICATE PROC_REPLY 11:13 (3,0)->(1,0)
1335797201603: Received UDP payload: 625
1335797201605: mux: Inside mux Packet.CLIENT_REQUEST
1335797201605: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797201605: inside handleClientRequest. Originator leader of region 1
1335797201605: got new request, requestCounter = 5006090
1335797201605: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797201606: Sending to region: 1
1335797201606: Sending PROC_REQUEST 11:34 (1,0)->(1,0)
1335797201607: Dispatching Atom PROC_REQUEST 11:34 (1,0)->(1,0)
1335797201607: mux: I got a CSM packet at a leader 

1335797201607: Note down new request by adding requestCounter=5006090 to HashMap processedRequests
1335797201607: Make FirstLeg Ack regardless of new or already-processed requests
1335797201607: The leader sending a First Leg ack to originator client (which id = 5006)
1335797201607: inside sendPacket(Packet p)
1335797201608: Sending UDP payload: 989
1335797201612: removed replies before id 34 from sentReplies of size 0
1335797201612: inside handleDSMRequest. At requests's remote leader of region 1
1335797201613: Received UDP payload: 6141
1335797201631: mux: GOT CSM_Msg
1335797201615: INSIDE SERVER_GET_PHOTO!!!
1335797201618: dst_region == src_region = 1
1335797201618:  1 self to self atomRequest
1335797201619: Received PROC_REQUEST 11:34 (1,0)->(1,0), replying PROC_REPLY 11:34 (1,0)->(1,0)
1335797201619: Dispatching Atom PROC_REPLY 11:34 (1,0)->(1,0)
1335797201631: mux: I got a CSM packet at a leader 

1335797201620: Sending UDP payload: 446
1335797201631: Received DUPLICATE PROC_REPLY 11:13 (3,0)->(1,0)
1335797201633: Sending UDP payload: 6545
1335797201641: Received PROC_REPLY 11:34 (1,0)->(1,0), handing to UserApp
1335797201641: inside handleDSMReply. Now back in originator leader of region 1
1335797201641: DSM layer: Going to and from remote region took latency = 35
1335797201641: DSM layer: orig leader sent packet at 1335797201606 ~ received reply from remote leader at 1335797201641
1335797201642: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797201643: change leader replyCounter to: 18
1335797201645: reply packet contains the newest photo/success info from the remote region
1335797201645: inside sendReplies of replyCount = 500500018
1335797201645: =======================
1335797201645: inside sendReplyRepeatingRunnable for replyCount = 500500018
1335797201645: Leader about to send REPLY packet, number: 500500018 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797201645: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797201646: inside sendPacket(Packet p)
1335797201646: === Finished one round of sending REPLY Packet =======
1335797201647: Sending UDP payload: 6198
1335797201719: Received UDP payload: 446
1335797201918: Received UDP payload: 6141
1335797201921: mux: GOT CSM_Msg
1335797201921: Received DUPLICATE PROC_REPLY 11:13 (3,0)->(1,0)
1335797201945: =======================
1335797201946: inside sendReplyRepeatingRunnable for replyCount = 500500018
1335797201946: Leader about to send REPLY packet, number: 500500018 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797201946: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797201946: inside sendPacket(Packet p)
1335797201946: === Finished one round of sending REPLY Packet =======
1335797201948: Sending UDP payload: 6198
1335797202011: Received UDP payload: 446
1335797202013: mux: Inside mux Packet.CLIENT_REQUEST
1335797202013: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797202013: inside handleClientRequest. Originator leader of region 1
1335797202013: got new request, requestCounter = 5006091
1335797202013: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500018
1335797202013: Yay the last leg succeeded. Removing reply runnables ...
1335797202013: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500018
1335797202013: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500018
1335797202013: do not send ack for received final_leg_ack
1335797202154: Received UDP payload: 6141
1335797202158: mux: GOT CSM_Msg
1335797202159: Received DUPLICATE PROC_REPLY 11:13 (3,0)->(1,0)
1335797202376: Received UDP payload: 6141
1335797202380: mux: GOT CSM_Msg
1335797202380: Received DUPLICATE PROC_REPLY 11:13 (3,0)->(1,0)
1335797202387: Received UDP payload: 446
1335797203546: Received UDP payload: 625
1335797203551: mux: Inside mux Packet.CLIENT_REQUEST
1335797203822: Received UDP payload: 446
1335797203827: mux: Inside Packet.SERVER_REPLY
1335797203827: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797203832: Received UDP payload: 989
1335797203840: mux: GOT CSM_Msg
1335797203841: forwarding disabled, not forwarding packets
1335797203841: Received UDP payload: 642
1335797203854: mux: Inside Packet.SERVER_REPLY
1335797203854: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797203863: Received UDP payload: 446
1335797203867: mux: Inside mux Packet.CLIENT_REQUEST
1335797203877: Received UDP payload: 625
1335797203881: mux: Inside mux Packet.CLIENT_REQUEST
1335797203896: Received UDP payload: 989
1335797203899: mux: GOT CSM_Msg
1335797203899: forwarding disabled, not forwarding packets
1335797203902: Received UDP payload: 446
1335797203903: mux: Inside Packet.SERVER_REPLY
1335797203903: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797203964: Received UDP payload: 5600
1335797203966: mux: GOT CSM_Msg
1335797203966: forwarding disabled, not forwarding packets
1335797204081: Received UDP payload: 446
1335797204083: mux: Inside mux Packet.CLIENT_REQUEST
1335797204693: Received UDP payload: 989
1335797204700: mux: GOT CSM_Msg
1335797204701: forwarding disabled, not forwarding packets
1335797204810: Received UDP payload: 5600
1335797204817: mux: GOT CSM_Msg
1335797204818: forwarding disabled, not forwarding packets
1335797205588: Received UDP payload: 5023
1335797205593: mux: Inside mux Packet.CLIENT_REQUEST
1335797205675: Received UDP payload: 5387
1335797205683: mux: GOT CSM_Msg
1335797205683: forwarding disabled, not forwarding packets
1335797205740: Received UDP payload: 446
1335797205744: mux: Inside Packet.SERVER_REPLY
1335797205744: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797205750: Received UDP payload: 989
1335797205761: mux: GOT CSM_Msg
1335797205761: forwarding disabled, not forwarding packets
1335797205762: Received UDP payload: 642
1335797205776: mux: Inside Packet.SERVER_REPLY
1335797205777: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797205778: Received UDP payload: 446
1335797205782: mux: Inside mux Packet.CLIENT_REQUEST
1335797205799: inside sendPacket(Packet p)
1335797205802: Sending UDP payload: 446
1335797206110: Received UDP payload: 625
1335797206112: mux: Inside mux Packet.CLIENT_REQUEST
1335797206113: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797206113: inside handleClientRequest. Originator leader of region 1
1335797206113: got new request, requestCounter = 5006092
1335797206113: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797206114: Sending to region: 3
1335797206115: Sending PROC_REQUEST 11:14 (1,0)->(3,0)
1335797206116: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(3,0)
1335797206117: mux: I got a CSM packet at a leader 

1335797206116: Note down new request by adding requestCounter=5006092 to HashMap processedRequests
1335797206116: Make FirstLeg Ack regardless of new or already-processed requests
1335797206116: The leader sending a First Leg ack to originator client (which id = 5006)
1335797206116: inside sendPacket(Packet p)
1335797206131: Sending UDP payload: 989
1335797206132: forwarding disabled, not forwarding packets
1335797206133: Sending UDP payload: 446
1335797206213: Received UDP payload: 5387
1335797206217: mux: GOT CSM_Msg
1335797206218: Received PROC_REPLY 11:14 (3,0)->(1,0), handing to UserApp
1335797206218: inside handleDSMReply. Now back in originator leader of region 1
1335797206219: DSM layer: Going to and from remote region took latency = 103
1335797206219: DSM layer: orig leader sent packet at 1335797206115 ~ received reply from remote leader at 1335797206218
1335797206220: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797206220: change leader replyCounter to: 19
1335797206221: reply packet contains the newest photo/success info from the remote region
1335797206221: inside sendReplies of replyCount = 500500019
1335797206221: =======================
1335797206221: inside sendReplyRepeatingRunnable for replyCount = 500500019
1335797206222: Leader about to send REPLY packet, number: 500500019 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797206222: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797206222: inside sendPacket(Packet p)
1335797206222: === Finished one round of sending REPLY Packet =======
1335797206225: Sending UDP payload: 5040
1335797206231: Received UDP payload: 446
1335797206300: Received UDP payload: 446
1335797206302: mux: Inside mux Packet.CLIENT_REQUEST
1335797206302: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797206303: inside handleClientRequest. Originator leader of region 1
1335797206303: got new request, requestCounter = 5006093
1335797206303: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500019
1335797206303: Yay the last leg succeeded. Removing reply runnables ...
1335797206303: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500019
1335797206304: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500019
1335797206304: do not send ack for received final_leg_ack
1335797206436: Received UDP payload: 989
1335797206440: mux: GOT CSM_Msg
1335797206440: forwarding disabled, not forwarding packets
1335797206505: Received UDP payload: 5387
1335797206512: mux: GOT CSM_Msg
1335797206512: forwarding disabled, not forwarding packets
1335797206737: Received UDP payload: 446
1335797207745: canPressButton = TRUE
1335797207746: areButtonsEnabled --> false 
1335797207746: get picture disableButtonsR
1335797207746: areButtonsEnabled --> false
1335797207773: one more getNum: 24
1335797207774: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=75% getNum=24 getGood=16 getBad=4 getTimedout=1 getPercent=66%
1335797207774: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335797207775: change local requestCounter to 63
1335797207781: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005063 Client in region: 1 Client nodID: 5005
1335797207823: ----------------------------
1335797207823: inside sendRequestPacketRepeatingRunnable for requestCount = 5005063
1335797207824: I'm a leader, my requesting photos packet going to mux directly
1335797207837: --- Finished one round of sending REQUEST Packet ---------
1335797207824: mux: Inside mux Packet.CLIENT_REQUEST
1335797207824: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797207878: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797207825: inside handleClientRequest. Originator leader of region 1
1335797207825: got new request, requestCounter = 5005063
1335797207825: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797207826: Sending to region: 2
1335797207827: Sending PROC_REQUEST 11:8 (1,0)->(2,0)
1335797207828: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(2,0)
1335797207834: mux: I got a CSM packet at a leader 

1335797207828: Note down new request by adding requestCounter=5005063 to HashMap processedRequests
1335797207828: Make FirstLeg Ack regardless of new or already-processed requests
1335797207829: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797207836: Sending UDP payload: 989
1335797207836: forwarding disabled, not forwarding packets
1335797207898: Received UDP payload: 989
1335797207900: mux: GOT CSM_Msg
1335797207900: forwarding disabled, not forwarding packets
1335797207911: Received UDP payload: 446
1335797207912: mux: Inside Packet.SERVER_REPLY
1335797207912: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797208026: Received UDP payload: 6420
1335797208028: mux: GOT CSM_Msg
1335797208028: forwarding disabled, not forwarding packets
1335797208180: Received UDP payload: 989
1335797208182: mux: GOT CSM_Msg
1335797208182: forwarding disabled, not forwarding packets
1335797208607: Retrying PROC_REQUEST 11:8 (1,0)->(2,0)
1335797208609: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(2,0)
1335797208609: mux: I got a CSM packet at a leader 

1335797208610: Sending UDP payload: 989
1335797208611: forwarding disabled, not forwarding packets
1335797208655: Received UDP payload: 989
1335797208657: mux: GOT CSM_Msg
1335797208658: forwarding disabled, not forwarding packets
1335797208710: Retrying PROC_REQUEST 11:8 (1,0)->(2,0)
1335797208710: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(2,0)
1335797208710: mux: I got a CSM packet at a leader 

1335797208711: Sending UDP payload: 989
1335797208712: forwarding disabled, not forwarding packets
1335797208811: Retrying PROC_REQUEST 11:8 (1,0)->(2,0)
1335797208811: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(2,0)
1335797208811: mux: I got a CSM packet at a leader 

1335797208812: Sending UDP payload: 989
1335797208813: forwarding disabled, not forwarding packets
1335797208849: Received UDP payload: 989
1335797208851: mux: GOT CSM_Msg
1335797208852: forwarding disabled, not forwarding packets
1335797208911: Retrying PROC_REQUEST 11:8 (1,0)->(2,0)
1335797208912: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(2,0)
1335797208912: mux: I got a CSM packet at a leader 

1335797208913: Sending UDP payload: 989
1335797208914: forwarding disabled, not forwarding packets
1335797208959: Received UDP payload: 6420
1335797208962: mux: GOT CSM_Msg
1335797208962: forwarding disabled, not forwarding packets
1335797209012: Retrying PROC_REQUEST 11:8 (1,0)->(2,0)
1335797209013: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(2,0)
1335797209013: mux: I got a CSM packet at a leader 

1335797209014: Sending UDP payload: 989
1335797209015: forwarding disabled, not forwarding packets
1335797209102: Received UDP payload: 5600
1335797209105: mux: GOT CSM_Msg
1335797209106: Received PROC_REPLY 11:8 (2,0)->(1,0), handing to UserApp
1335797209106: inside handleDSMReply. Now back in originator leader of region 1
1335797209106: DSM layer: Going to and from remote region took latency = 1280
1335797209106: DSM layer: orig leader sent packet at 1335797207826 ~ received reply from remote leader at 1335797209106
1335797209107: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797209107: change leader replyCounter to: 20
1335797209107: reply packet contains the newest photo/success info from the remote region
1335797209107: inside sendReplies of replyCount = 500500020
1335797209110: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797209110: disabling progressdialog due to successful new photo get
1335797209111: Inside _enableButtons
1335797209116: areButtonsEnabled --> true
1335797209116: send final leg ack regardless of new or already-processed reply
1335797209117: inside finalLegAck: change requestCounter to 64
1335797209117: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005064 Client in region: (1,0) Client nodID: 5005
1335797209117: I'm a leader client, my final_leg packet going to mux directly
1335797209119: new client_show_remotephoto reply with replyCounter 500500020
1335797209120: note down new reply by adding replyCounter=500500020 to HashMap processedReplies
1335797209120: leader download remote photo latency = 1286
1335797209120: = leader download start 1335797207824 ~ stop 1335797209110
1335797209123: one more getGood: 17
1335797209125: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=75% getNum=24 getGood=17 getBad=4 getTimedout=1 getPercent=70%
1335797209125: successful reply for client get photo
1335797209130: Success! Client getting photo from remote region, showing photo...
1335797209130: Remote photo's length: 4589
1335797209108: =======================
1335797209108: inside sendReplyRepeatingRunnable for replyCount = 500500020
1335797209108: Leader about to send REPLY packet, number: 500500020 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797209109: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797209109: === Finished one round of sending REPLY Packet =======
1335797209112: Received UDP payload: 989
1335797209115: mux: GOT CSM_Msg
1335797209116: forwarding disabled, not forwarding packets
1335797209118: mux: Inside mux Packet.CLIENT_REQUEST
1335797209118: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797209118: inside handleClientRequest. Originator leader of region 1
1335797209118: got new request, requestCounter = 5005064
1335797209118: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500020
1335797209118: Yay the last leg succeeded. Removing reply runnables ...
1335797209119: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500020
1335797209119: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500020
1335797209119: do not send ack for received final_leg_ack
1335797209126: Received UDP payload: 989
1335797209129: mux: GOT CSM_Msg
1335797209130: forwarding disabled, not forwarding packets
1335797209333: Received UDP payload: 6420
1335797209336: mux: GOT CSM_Msg
1335797209336: forwarding disabled, not forwarding packets
1335797209390: Received UDP payload: 5600
1335797209392: mux: GOT CSM_Msg
1335797209393: Received DUPLICATE PROC_REPLY 11:8 (2,0)->(1,0)
1335797209667: Received UDP payload: 446
1335797209668: mux: Inside mux Packet.CLIENT_REQUEST
1335797210799: inside sendPacket(Packet p)
1335797210802: Sending UDP payload: 446
1335797211235: Received UDP payload: 446
1335797211727: Received UDP payload: 446
1335797211740: Received UDP payload: 446
1335797212271: Received UDP payload: 446
1335797212574: Received UDP payload: 446
1335797212852: Received UDP payload: 989
1335797212860: mux: GOT CSM_Msg
1335797212860: forwarding disabled, not forwarding packets
1335797212922: Received UDP payload: 446
1335797213211: Received UDP payload: 446
1335797213501: Received UDP payload: 625
1335797213507: mux: Inside mux Packet.CLIENT_REQUEST
1335797214096: Received UDP payload: 989
1335797214106: mux: GOT CSM_Msg
1335797214106: forwarding disabled, not forwarding packets
1335797214121: Received UDP payload: 446
1335797214126: mux: Inside Packet.SERVER_REPLY
1335797214126: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797214127: Received UDP payload: 989
1335797214133: mux: GOT CSM_Msg
1335797214134: forwarding disabled, not forwarding packets
1335797214168: Received UDP payload: 625
1335797214172: mux: Inside mux Packet.CLIENT_REQUEST
1335797214170: Received UDP payload: 625
1335797214172: mux: Inside mux Packet.CLIENT_REQUEST
1335797214202: Received UDP payload: 989
1335797214204: mux: GOT CSM_Msg
1335797214204: forwarding disabled, not forwarding packets
1335797214216: Received UDP payload: 989
1335797214218: mux: GOT CSM_Msg
1335797214218: forwarding disabled, not forwarding packets
1335797214269: Received UDP payload: 989
1335797214271: mux: GOT CSM_Msg
1335797214271: forwarding disabled, not forwarding packets
1335797214303: Received UDP payload: 5600
1335797214306: mux: GOT CSM_Msg
1335797214306: forwarding disabled, not forwarding packets
1335797214333: Received UDP payload: 989
1335797214335: mux: GOT CSM_Msg
1335797214335: forwarding disabled, not forwarding packets
1335797214342: Received UDP payload: 989
1335797214344: mux: GOT CSM_Msg
1335797214344: forwarding disabled, not forwarding packets
1335797214390: Received UDP payload: 989
1335797214392: mux: GOT CSM_Msg
1335797214392: forwarding disabled, not forwarding packets
1335797214414: Received UDP payload: 446
1335797214416: mux: Inside Packet.SERVER_REPLY
1335797214416: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797214428: Received UDP payload: 989
1335797214430: mux: GOT CSM_Msg
1335797214431: forwarding disabled, not forwarding packets
1335797214454: Received UDP payload: 989
1335797214456: mux: GOT CSM_Msg
1335797214456: forwarding disabled, not forwarding packets
1335797214467: Received UDP payload: 989
1335797214469: mux: GOT CSM_Msg
1335797214470: forwarding disabled, not forwarding packets
1335797214477: Received UDP payload: 5600
1335797214479: mux: GOT CSM_Msg
1335797214480: forwarding disabled, not forwarding packets
1335797214490: Received UDP payload: 625
1335797214492: mux: Inside mux Packet.CLIENT_REQUEST
1335797214492: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797214492: inside handleClientRequest. Originator leader of region 1
1335797214492: got new request, requestCounter = 5006094
1335797214492: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797214493: Sending to region: 3
1335797214493: Sending PROC_REQUEST 11:15 (1,0)->(3,0)
1335797214493: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797214494: mux: I got a CSM packet at a leader 

1335797214493: Note down new request by adding requestCounter=5006094 to HashMap processedRequests
1335797214493: Make FirstLeg Ack regardless of new or already-processed requests
1335797214493: The leader sending a First Leg ack to originator client (which id = 5006)
1335797214494: inside sendPacket(Packet p)
1335797214495: Sending UDP payload: 989
1335797214496: forwarding disabled, not forwarding packets
1335797214496: Sending UDP payload: 446
1335797214522: Received UDP payload: 989
1335797214524: mux: GOT CSM_Msg
1335797214525: forwarding disabled, not forwarding packets
1335797214586: Received UDP payload: 989
1335797214588: mux: GOT CSM_Msg
1335797214588: forwarding disabled, not forwarding packets
1335797214617: Received UDP payload: 989
1335797214618: mux: GOT CSM_Msg
1335797214619: forwarding disabled, not forwarding packets
1335797214709: Received UDP payload: 989
1335797214711: mux: GOT CSM_Msg
1335797214711: forwarding disabled, not forwarding packets
1335797214764: Received UDP payload: 5600
1335797214766: mux: GOT CSM_Msg
1335797214766: forwarding disabled, not forwarding packets
1335797214861: Received UDP payload: 5600
1335797214863: mux: GOT CSM_Msg
1335797214863: forwarding disabled, not forwarding packets
1335797214950: Received UDP payload: 989
1335797214952: mux: GOT CSM_Msg
1335797214953: forwarding disabled, not forwarding packets
1335797214981: Received UDP payload: 5600
1335797214983: mux: GOT CSM_Msg
1335797214983: forwarding disabled, not forwarding packets
1335797215016: Received UDP payload: 989
1335797215018: mux: GOT CSM_Msg
1335797215018: forwarding disabled, not forwarding packets
1335797215072: Received UDP payload: 5600
1335797215075: mux: GOT CSM_Msg
1335797215075: forwarding disabled, not forwarding packets
1335797215138: Received UDP payload: 989
1335797215141: mux: GOT CSM_Msg
1335797215141: forwarding disabled, not forwarding packets
1335797215169: Received UDP payload: 5600
1335797215171: mux: GOT CSM_Msg
1335797215171: forwarding disabled, not forwarding packets
1335797215254: Retrying PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215255: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215255: mux: I got a CSM packet at a leader 

1335797215256: Sending UDP payload: 989
1335797215257: forwarding disabled, not forwarding packets
1335797215356: Retrying PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215356: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215356: mux: I got a CSM packet at a leader 

1335797215358: Sending UDP payload: 989
1335797215360: forwarding disabled, not forwarding packets
1335797215457: Retrying PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215457: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215457: mux: I got a CSM packet at a leader 

1335797215458: Sending UDP payload: 989
1335797215459: forwarding disabled, not forwarding packets
1335797215520: Received UDP payload: 989
1335797215524: mux: GOT CSM_Msg
1335797215524: forwarding disabled, not forwarding packets
1335797215535: Received UDP payload: 5600
1335797215540: mux: GOT CSM_Msg
1335797215540: forwarding disabled, not forwarding packets
1335797215558: Retrying PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215559: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215559: mux: I got a CSM packet at a leader 

1335797215562: Sending UDP payload: 989
1335797215563: forwarding disabled, not forwarding packets
1335797215571: Received UDP payload: 989
1335797215576: mux: GOT CSM_Msg
1335797215576: forwarding disabled, not forwarding packets
1335797215660: Retrying PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215660: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215661: mux: I got a CSM packet at a leader 

1335797215663: Sending UDP payload: 989
1335797215664: forwarding disabled, not forwarding packets
1335797215723: Received UDP payload: 989
1335797215728: mux: GOT CSM_Msg
1335797215728: forwarding disabled, not forwarding packets
1335797215746: Received UDP payload: 989
1335797215750: mux: GOT CSM_Msg
1335797215751: forwarding disabled, not forwarding packets
1335797215761: Retrying PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215761: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215762: mux: I got a CSM packet at a leader 

1335797215763: Sending UDP payload: 989
1335797215763: forwarding disabled, not forwarding packets
1335797215776: Received UDP payload: 989
1335797215778: mux: GOT CSM_Msg
1335797215778: forwarding disabled, not forwarding packets
1335797215794: Received UDP payload: 989
1335797215796: mux: GOT CSM_Msg
1335797215796: forwarding disabled, not forwarding packets
1335797215801: inside sendPacket(Packet p)
1335797215801: Sending UDP payload: 446
1335797215823: Received UDP payload: 989
1335797215825: mux: GOT CSM_Msg
1335797215825: forwarding disabled, not forwarding packets
1335797215862: Retrying PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215862: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215863: mux: I got a CSM packet at a leader 

1335797215864: Sending UDP payload: 989
1335797215864: forwarding disabled, not forwarding packets
1335797215936: canPressButton = TRUE
1335797215937: areButtonsEnabled --> false 
1335797215937: get picture disableButtonsR
1335797215937: areButtonsEnabled --> false
1335797215969: one more getNum: 25
1335797215970: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=75% getNum=25 getGood=17 getBad=4 getTimedout=1 getPercent=68%
1335797215970: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335797215970: change local requestCounter to 65
1335797215971: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005065 Client in region: 1 Client nodID: 5005
1335797215964: Retrying PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215965: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797215965: mux: I got a CSM packet at a leader 

1335797215966: Sending UDP payload: 989
1335797215967: forwarding disabled, not forwarding packets
1335797216002: ----------------------------
1335797216002: inside sendRequestPacketRepeatingRunnable for requestCount = 5005065
1335797216002: I'm a leader, my requesting photos packet going to mux directly
1335797216002: --- Finished one round of sending REQUEST Packet ---------
1335797215990: Received UDP payload: 4250
1335797215991: mux: Inside mux Packet.CLIENT_REQUEST
1335797216003: mux: Inside mux Packet.CLIENT_REQUEST
1335797216003: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797216050: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797216003: inside handleClientRequest. Originator leader of region 1
1335797216003: got new request, requestCounter = 5005065
1335797216003: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797216006: Sending to region: 0
1335797216006: Sending PROC_REQUEST 11:12 (1,0)->(0,0)
1335797216006: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797216007: mux: I got a CSM packet at a leader 

1335797216007: Note down new request by adding requestCounter=5005065 to HashMap processedRequests
1335797216007: Make FirstLeg Ack regardless of new or already-processed requests
1335797216007: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797216008: Sending UDP payload: 989
1335797216014: forwarding disabled, not forwarding packets
1335797216020: Received UDP payload: 5253
1335797216026: mux: Inside Packet.SERVER_REPLY
1335797216026: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797216067: Retrying PROC_REQUEST 11:15 (1,0)->(3,0)
1335797216067: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797216069: mux: I got a CSM packet at a leader 

1335797216070: Sending UDP payload: 989
1335797216074: forwarding disabled, not forwarding packets
1335797216168: Retrying PROC_REQUEST 11:15 (1,0)->(3,0)
1335797216168: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797216168: mux: I got a CSM packet at a leader 

1335797216169: Sending UDP payload: 989
1335797216170: forwarding disabled, not forwarding packets
1335797216220: Received UDP payload: 5494
1335797216222: mux: GOT CSM_Msg
1335797216222: forwarding disabled, not forwarding packets
1335797216263: Received UDP payload: 446
1335797216265: mux: Inside Packet.SERVER_REPLY
1335797216265: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797216269: Retrying PROC_REQUEST 11:15 (1,0)->(3,0)
1335797216269: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(3,0)
1335797216269: mux: I got a CSM packet at a leader 

1335797216271: Sending UDP payload: 989
1335797216271: forwarding disabled, not forwarding packets
1335797216275: Received UDP payload: 4250
1335797216277: mux: Inside mux Packet.CLIENT_REQUEST
1335797216307: Received UDP payload: 5387
1335797216310: mux: GOT CSM_Msg
1335797216310: Received PROC_REPLY 11:15 (3,0)->(1,0), handing to UserApp
1335797216310: inside handleDSMReply. Now back in originator leader of region 1
1335797216311: DSM layer: Going to and from remote region took latency = 304
1335797216311: DSM layer: orig leader sent packet at 1335797216006 ~ received reply from remote leader at 1335797216310
1335797216312: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797216312: change leader replyCounter to: 21
1335797216312: reply packet contains the newest photo/success info from the remote region
1335797216312: inside sendReplies of replyCount = 500500021
1335797216312: =======================
1335797216313: inside sendReplyRepeatingRunnable for replyCount = 500500021
1335797216313: Leader about to send REPLY packet, number: 500500021 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797216313: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797216313: inside sendPacket(Packet p)
1335797216313: === Finished one round of sending REPLY Packet =======
1335797216318: Sending UDP payload: 5040
1335797216359: Received UDP payload: 446
1335797216360: mux: Inside mux Packet.CLIENT_REQUEST
1335797216365: Received UDP payload: 989
1335797216367: mux: GOT CSM_Msg
1335797216368: forwarding disabled, not forwarding packets
1335797216388: Received UDP payload: 446
1335797216464: Received UDP payload: 989
1335797216468: mux: GOT CSM_Msg
1335797216468: forwarding disabled, not forwarding packets
1335797216501: Received UDP payload: 989
1335797216504: mux: GOT CSM_Msg
1335797216505: forwarding disabled, not forwarding packets
1335797216512: Received UDP payload: 642
1335797216516: mux: Inside Packet.SERVER_REPLY
1335797216516: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797216538: Received UDP payload: 5387
1335797216545: mux: GOT CSM_Msg
1335797216546: Received DUPLICATE PROC_REPLY 11:15 (3,0)->(1,0)
1335797216559: Received UDP payload: 446
1335797216562: mux: Inside mux Packet.CLIENT_REQUEST
1335797216614: =======================
1335797216614: inside sendReplyRepeatingRunnable for replyCount = 500500021
1335797216615: Leader about to send REPLY packet, number: 500500021 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797216615: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797216616: inside sendPacket(Packet p)
1335797216616: === Finished one round of sending REPLY Packet =======
1335797216618: Sending UDP payload: 5040
1335797216712: Received UDP payload: 4250
1335797216713: mux: Inside mux Packet.CLIENT_REQUEST
1335797216727: Received UDP payload: 446
1335797216732: Received UDP payload: 4614
1335797216735: mux: GOT CSM_Msg
1335797216735: forwarding disabled, not forwarding packets
1335797216772: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797216773: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797216773: mux: I got a CSM packet at a leader 

1335797216774: Sending UDP payload: 989
1335797216776: forwarding disabled, not forwarding packets
1335797216816: Received UDP payload: 446
1335797216817: mux: Inside Packet.SERVER_REPLY
1335797216818: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797216826: Received UDP payload: 989
1335797216828: mux: GOT CSM_Msg
1335797216828: forwarding disabled, not forwarding packets
1335797216839: Received UDP payload: 642
1335797216840: mux: Inside Packet.SERVER_REPLY
1335797216840: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797216863: Received UDP payload: 446
1335797216865: mux: Inside mux Packet.CLIENT_REQUEST
1335797216873: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797216874: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797216874: mux: I got a CSM packet at a leader 

1335797216875: Sending UDP payload: 989
1335797216876: forwarding disabled, not forwarding packets
1335797216876: Received UDP payload: 989
1335797216879: mux: GOT CSM_Msg
1335797216880: forwarding disabled, not forwarding packets
1335797216894: Received UDP payload: 446
1335797216917: =======================
1335797216917: inside sendReplyRepeatingRunnable for replyCount = 500500021
1335797216917: Leader about to send REPLY packet, number: 500500021 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797216917: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797216918: inside sendPacket(Packet p)
1335797216918: === Finished one round of sending REPLY Packet =======
1335797216920: Sending UDP payload: 5040
1335797216921: Received UDP payload: 989
1335797216923: mux: GOT CSM_Msg
1335797216923: forwarding disabled, not forwarding packets
1335797216948: Received UDP payload: 642
1335797216950: mux: Inside Packet.SERVER_REPLY
1335797216950: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797216956: Received UDP payload: 446
1335797216958: mux: Inside Packet.SERVER_REPLY
1335797216958: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797216974: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797216975: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797216975: mux: I got a CSM packet at a leader 

1335797216995: Received UDP payload: 446
1335797216996: Sending UDP payload: 989
1335797216997: forwarding disabled, not forwarding packets
1335797216998: mux: Inside mux Packet.CLIENT_REQUEST
1335797216998: Received UDP payload: 989
1335797217015: mux: GOT CSM_Msg
1335797217015: forwarding disabled, not forwarding packets
1335797217023: Received UDP payload: 5387
1335797217025: mux: GOT CSM_Msg
1335797217026: forwarding disabled, not forwarding packets
1335797217075: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217075: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217076: mux: I got a CSM packet at a leader 

1335797217082: Sending UDP payload: 989
1335797217082: forwarding disabled, not forwarding packets
1335797217114: Received UDP payload: 5387
1335797217120: mux: GOT CSM_Msg
1335797217120: forwarding disabled, not forwarding packets
1335797217176: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217176: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217177: mux: I got a CSM packet at a leader 

1335797217178: Sending UDP payload: 989
1335797217179: forwarding disabled, not forwarding packets
1335797217183: Received UDP payload: 989
1335797217186: mux: GOT CSM_Msg
1335797217187: forwarding disabled, not forwarding packets
1335797217195: Received UDP payload: 5253
1335797217196: mux: Inside Packet.SERVER_REPLY
1335797217197: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797217218: =======================
1335797217218: inside sendReplyRepeatingRunnable for replyCount = 500500021
1335797217218: Leader about to send REPLY packet, number: 500500021 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797217218: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797217218: inside sendPacket(Packet p)
1335797217219: === Finished one round of sending REPLY Packet =======
1335797217220: Sending UDP payload: 5040
1335797217242: Received UDP payload: 989
1335797217244: mux: GOT CSM_Msg
1335797217244: forwarding disabled, not forwarding packets
1335797217271: Received UDP payload: 642
1335797217273: mux: Inside Packet.SERVER_REPLY
1335797217273: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797217278: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217278: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217279: mux: I got a CSM packet at a leader 

1335797217281: Sending UDP payload: 989
1335797217281: forwarding disabled, not forwarding packets
1335797217290: Received UDP payload: 446
1335797217292: mux: Inside mux Packet.CLIENT_REQUEST
1335797217300: Received UDP payload: 989
1335797217302: mux: GOT CSM_Msg
1335797217303: forwarding disabled, not forwarding packets
1335797217314: inside sendReplyTimeoutR
1335797217315: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500021
1335797217321: Received UDP payload: 446
1335797217324: mux: Inside Packet.SERVER_REPLY
1335797217325: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797217362: Received UDP payload: 5253
1335797217366: mux: Inside Packet.SERVER_REPLY
1335797217366: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797217380: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217380: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217380: mux: I got a CSM packet at a leader 

1335797217383: Sending UDP payload: 989
1335797217383: forwarding disabled, not forwarding packets
1335797217456: Received UDP payload: 5387
1335797217461: mux: GOT CSM_Msg
1335797217462: Received DUPLICATE PROC_REPLY 11:15 (3,0)->(1,0)
1335797217484: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217484: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217485: mux: I got a CSM packet at a leader 

1335797217487: Sending UDP payload: 989
1335797217488: forwarding disabled, not forwarding packets
1335797217548: Received UDP payload: 5387
1335797217552: mux: GOT CSM_Msg
1335797217553: forwarding disabled, not forwarding packets
1335797217585: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217586: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217586: mux: I got a CSM packet at a leader 

1335797217588: Sending UDP payload: 989
1335797217588: forwarding disabled, not forwarding packets
1335797217687: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217687: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217687: mux: I got a CSM packet at a leader 

1335797217690: Sending UDP payload: 989
1335797217690: forwarding disabled, not forwarding packets
1335797217788: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217788: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217791: mux: I got a CSM packet at a leader 

1335797217792: Sending UDP payload: 989
1335797217793: forwarding disabled, not forwarding packets
1335797217889: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217889: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217889: mux: I got a CSM packet at a leader 

1335797217890: Sending UDP payload: 989
1335797217891: forwarding disabled, not forwarding packets
1335797217989: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217990: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797217990: mux: I got a CSM packet at a leader 

1335797217991: Sending UDP payload: 989
1335797217992: forwarding disabled, not forwarding packets
1335797218091: Retrying PROC_REQUEST 11:12 (1,0)->(0,0)
1335797218091: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(0,0)
1335797218091: mux: I got a CSM packet at a leader 

1335797218093: Sending UDP payload: 989
1335797218094: forwarding disabled, not forwarding packets
1335797218141: Received UDP payload: 5253
1335797218144: mux: Inside Packet.SERVER_REPLY
1335797218144: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797218192: DSM Layer: Request timed out, send failure PROC_REPLY 11:12 (0,0)->(1,0)
1335797218192: Dispatching Atom PROC_REPLY 11:12 (0,0)->(1,0)
1335797218192: mux: I got a CSM packet at a leader 

1335797218199: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797218199: disabling progressdialog due to successful new photo get
1335797218199: Inside _enableButtons
1335797218200: areButtonsEnabled --> true
1335797218200: send final leg ack regardless of new or already-processed reply
1335797218200: inside finalLegAck: change requestCounter to 66
1335797218200: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005066 Client in region: (1,0) Client nodID: 5005
1335797218200: I'm a leader client, my final_leg packet going to mux directly
1335797218202: new client_show_remotephoto reply with replyCounter 500500022
1335797218202: note down new reply by adding replyCounter=500500022 to HashMap processedReplies
1335797218203: leader download remote photo latency = 2197
1335797218203: = leader download start 1335797216002 ~ stop 1335797218199
1335797218206: Can't get remote photo, because DSM Layer on originator leader timed out
1335797218212: one more getBad: 5
1335797218213: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=75% getNum=25 getGood=17 getBad=5 getTimedout=1 getPercent=68%
1335797218213: getBad++
1335797218193: Sending UDP payload: 989
1335797218194: Received PROC_REPLY 11:12 (0,0)->(1,0), handing to UserApp
1335797218194: inside handleDSMReply. Now back in originator leader of region 1
1335797218194: DSM layer timed out, don't log dsm layer latency stuff.
1335797218197: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797218197: change leader replyCounter to: 22
1335797218197: reply packet contains the newest photo/success info from the remote region
1335797218197: inside sendReplies of replyCount = 500500022
1335797218198: =======================
1335797218198: inside sendReplyRepeatingRunnable for replyCount = 500500022
1335797218198: Leader about to send REPLY packet, number: 500500022 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797218198: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797218198: === Finished one round of sending REPLY Packet =======
1335797218201: mux: Inside mux Packet.CLIENT_REQUEST
1335797218201: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797218201: inside handleClientRequest. Originator leader of region 1
1335797218201: got new request, requestCounter = 5005066
1335797218201: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500022
1335797218202: Yay the last leg succeeded. Removing reply runnables ...
1335797218202: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500022
1335797218202: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500022
1335797218202: do not send ack for received final_leg_ack
1335797218207: Received UDP payload: 5387
1335797218209: mux: GOT CSM_Msg
1335797218209: forwarding disabled, not forwarding packets
1335797218332: Received UDP payload: 446
1335797218696: Received UDP payload: 5387
1335797218698: mux: GOT CSM_Msg
1335797218698: forwarding disabled, not forwarding packets
1335797218786: Received UDP payload: 5387
1335797218788: mux: GOT CSM_Msg
1335797218788: forwarding disabled, not forwarding packets
1335797218867: Received UDP payload: 5387
1335797218869: mux: GOT CSM_Msg
1335797218870: forwarding disabled, not forwarding packets
1335797218888: Received UDP payload: 446
1335797218943: Received UDP payload: 446
1335797218954: Received UDP payload: 446
1335797219091: Received UDP payload: 446
1335797219093: mux: Inside mux Packet.CLIENT_REQUEST
1335797219093: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797219093: inside handleClientRequest. Originator leader of region 1
1335797219093: got new request, requestCounter = 5006095
1335797219093: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500021
1335797219093: Yay the last leg succeeded. Removing reply runnables ...
1335797219093: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500021
1335797219093: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500021
1335797219093: do not send ack for received final_leg_ack
1335797219127: Received UDP payload: 5387
1335797219129: mux: GOT CSM_Msg
1335797219129: Received DUPLICATE PROC_REPLY 11:15 (3,0)->(1,0)
1335797219447: Received UDP payload: 5387
1335797219455: mux: GOT CSM_Msg
1335797219456: Received DUPLICATE PROC_REPLY 11:15 (3,0)->(1,0)
1335797219600: Received UDP payload: 446
1335797219604: mux: Inside mux Packet.CLIENT_REQUEST
1335797219605: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797219605: inside handleClientRequest. Originator leader of region 1
1335797219605: got new request, requestCounter = 5006096
1335797219606: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500021
1335797219606: Yay the last leg succeeded. Removing reply runnables ...
1335797219606: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500021
1335797219607: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500021
1335797219614: do not send ack for received final_leg_ack
1335797219727: Received UDP payload: 5387
1335797219730: mux: GOT CSM_Msg
1335797219731: Received DUPLICATE PROC_REPLY 11:15 (3,0)->(1,0)
1335797220399: Received UDP payload: 446
1335797220403: mux: Inside mux Packet.CLIENT_REQUEST
1335797220404: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797220404: inside handleClientRequest. Originator leader of region 1
1335797220405: got new request, requestCounter = 5006097
1335797220405: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500021
1335797220406: Yay the last leg succeeded. Removing reply runnables ...
1335797220406: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500021
1335797220406: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500021
1335797220406: do not send ack for received final_leg_ack
1335797220801: inside sendPacket(Packet p)
1335797220805: Sending UDP payload: 446
1335797221599: Received UDP payload: 446
1335797221602: mux: Inside mux Packet.CLIENT_REQUEST
1335797221669: Received UDP payload: 446
1335797221670: mux: Inside mux Packet.CLIENT_REQUEST
1335797221993: Received UDP payload: 6420
1335797221996: mux: GOT CSM_Msg
1335797221996: Received DUPLICATE PROC_REPLY 11:12 (0,0)->(1,0)
1335797222163: Received UDP payload: 6420
1335797222166: mux: GOT CSM_Msg
1335797222166: Received DUPLICATE PROC_REPLY 11:12 (0,0)->(1,0)
1335797222310: Received UDP payload: 446
1335797222551: Received UDP payload: 446
1335797222891: Received UDP payload: 446
1335797222948: Received UDP payload: 625
1335797222958: mux: Inside mux Packet.CLIENT_REQUEST
1335797222987: Received UDP payload: 989
1335797222996: mux: GOT CSM_Msg
1335797222997: removed replies before id 5 from sentReplies of size 1
1335797222997: inside handleDSMRequest. At requests's remote leader of region 1
1335797222999: INSIDE SERVER_GET_PHOTO!!!
1335797223015: Received UDP payload: 446
1335797223020: mux: Inside Packet.SERVER_REPLY
1335797223020: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797223019: Received PROC_REQUEST 11:5 (3,0)->(1,0), replying PROC_REPLY 11:5 (1,0)->(3,0)
1335797223019: Dispatching Atom PROC_REPLY 11:5 (1,0)->(3,0)
1335797223020: mux: I got a CSM packet at a leader 

1335797223021: Sending UDP payload: 6545
1335797223025: forwarding disabled, not forwarding packets
1335797223594: Received UDP payload: 6198
1335797223596: mux: Inside Packet.SERVER_REPLY
1335797223596: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797223926: Received UDP payload: 6198
1335797223930: mux: Inside Packet.SERVER_REPLY
1335797223931: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797223955: Received UDP payload: 446
1335797223959: mux: Inside mux Packet.CLIENT_REQUEST
1335797224036: Received UDP payload: 625
1335797224037: mux: Inside mux Packet.CLIENT_REQUEST
1335797224037: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797224037: inside handleClientRequest. Originator leader of region 1
1335797224037: got new request, requestCounter = 5006098
1335797224038: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797224038: Sending to region: 1
1335797224038: Sending PROC_REQUEST 11:35 (1,0)->(1,0)
1335797224039: Dispatching Atom PROC_REQUEST 11:35 (1,0)->(1,0)
1335797224039: mux: I got a CSM packet at a leader 

1335797224039: Note down new request by adding requestCounter=5006098 to HashMap processedRequests
1335797224039: Make FirstLeg Ack regardless of new or already-processed requests
1335797224039: The leader sending a First Leg ack to originator client (which id = 5006)
1335797224039: inside sendPacket(Packet p)
1335797224040: Sending UDP payload: 989
1335797224041: removed replies before id 35 from sentReplies of size 0
1335797224041: inside handleDSMRequest. At requests's remote leader of region 1
1335797224042: INSIDE SERVER_GET_PHOTO!!!
1335797224043: dst_region == src_region = 1
1335797224043:  1 self to self atomRequest
1335797224043: Received PROC_REQUEST 11:35 (1,0)->(1,0), replying PROC_REPLY 11:35 (1,0)->(1,0)
1335797224044: Dispatching Atom PROC_REPLY 11:35 (1,0)->(1,0)
1335797224056: mux: I got a CSM packet at a leader 

1335797224055: Sending UDP payload: 446
1335797224057: Sending UDP payload: 6545
1335797224061: Received PROC_REPLY 11:35 (1,0)->(1,0), handing to UserApp
1335797224061: inside handleDSMReply. Now back in originator leader of region 1
1335797224061: DSM layer: Going to and from remote region took latency = 23
1335797224061: DSM layer: orig leader sent packet at 1335797224038 ~ received reply from remote leader at 1335797224061
1335797224062: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797224063: change leader replyCounter to: 23
1335797224063: reply packet contains the newest photo/success info from the remote region
1335797224063: inside sendReplies of replyCount = 500500023
1335797224063: =======================
1335797224063: inside sendReplyRepeatingRunnable for replyCount = 500500023
1335797224063: Leader about to send REPLY packet, number: 500500023 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797224064: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797224064: inside sendPacket(Packet p)
1335797224064: === Finished one round of sending REPLY Packet =======
1335797224066: Sending UDP payload: 6198
1335797224338: Received UDP payload: 463
1335797224351: Received UDP payload: 446
1335797224364: =======================
1335797224364: inside sendReplyRepeatingRunnable for replyCount = 500500023
1335797224365: Leader about to send REPLY packet, number: 500500023 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797224365: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797224365: inside sendPacket(Packet p)
1335797224365: === Finished one round of sending REPLY Packet =======
1335797224366: Sending UDP payload: 6198
1335797224442: Received UDP payload: 446
1335797224473: Received UDP payload: 446
1335797224475: mux: Inside mux Packet.CLIENT_REQUEST
1335797224475: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797224475: inside handleClientRequest. Originator leader of region 1
1335797224475: got new request, requestCounter = 5006099
1335797224475: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500023
1335797224476: Yay the last leg succeeded. Removing reply runnables ...
1335797224476: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500023
1335797224476: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500023
1335797224476: do not send ack for received final_leg_ack
1335797225479: Received UDP payload: 4660
1335797225483: mux: Inside mux Packet.CLIENT_REQUEST
1335797225702: Received UDP payload: 446
1335797225707: mux: Inside Packet.SERVER_REPLY
1335797225707: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797225712: Received UDP payload: 989
1335797225720: mux: GOT CSM_Msg
1335797225721: forwarding disabled, not forwarding packets
1335797225725: Received UDP payload: 642
1335797225729: mux: Inside Packet.SERVER_REPLY
1335797225729: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797225801: inside sendPacket(Packet p)
1335797225803: Sending UDP payload: 446
1335797225946: Received UDP payload: 446
1335797225947: mux: Inside mux Packet.CLIENT_REQUEST
1335797226227: Received UDP payload: 446
1335797226706: Received UDP payload: 625
1335797226711: mux: Inside mux Packet.CLIENT_REQUEST
1335797226727: Received UDP payload: 446
1335797226759: Received UDP payload: 989
1335797226761: mux: GOT CSM_Msg
1335797226761: removed replies before id 11 from sentReplies of size 0
1335797226761: inside handleDSMRequest. At requests's remote leader of region 1
1335797226761: INSIDE SERVER_GET_PHOTO!!!
1335797226763: Received PROC_REQUEST 11:11 (0,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(0,0)
1335797226763: Dispatching Atom PROC_REPLY 11:11 (1,0)->(0,0)
1335797226763: mux: I got a CSM packet at a leader 

1335797226765: Received UDP payload: 446
1335797226766: Sending UDP payload: 6545
1335797226768: mux: Inside Packet.SERVER_REPLY
1335797226769: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797226767: forwarding disabled, not forwarding packets
1335797226936: Received UDP payload: 6198
1335797226937: mux: Inside Packet.SERVER_REPLY
1335797226938: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797226949: Received UDP payload: 446
1335797226951: mux: Inside mux Packet.CLIENT_REQUEST
1335797228373: Received UDP payload: 4946
1335797228378: mux: Inside mux Packet.CLIENT_REQUEST
1335797228469: Received UDP payload: 5310
1335797228471: mux: GOT CSM_Msg
1335797228471: forwarding disabled, not forwarding packets
1335797228481: Received UDP payload: 446
1335797228483: mux: Inside Packet.SERVER_REPLY
1335797228484: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797228493: Received UDP payload: 989
1335797228500: mux: GOT CSM_Msg
1335797228500: forwarding disabled, not forwarding packets
1335797228517: Received UDP payload: 642
1335797228520: mux: Inside Packet.SERVER_REPLY
1335797228520: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797228542: Received UDP payload: 446
1335797228545: mux: Inside mux Packet.CLIENT_REQUEST
1335797230447: Received UDP payload: 5154
1335797230452: mux: Inside mux Packet.CLIENT_REQUEST
1335797230739: Received UDP payload: 5154
1335797230740: mux: Inside mux Packet.CLIENT_REQUEST
1335797230801: inside sendPacket(Packet p)
1335797230803: Sending UDP payload: 446
1335797230902: canPressButton = TRUE
1335797230903: areButtonsEnabled --> false 
1335797230903: get picture disableButtonsR
1335797230903: areButtonsEnabled --> false
1335797230917: one more getNum: 26
1335797230917: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=75% getNum=26 getGood=17 getBad=5 getTimedout=1 getPercent=65%
1335797230918: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335797230918: change local requestCounter to 67
1335797230920: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005067 Client in region: 1 Client nodID: 5005
1335797230952: ----------------------------
1335797230953: inside sendRequestPacketRepeatingRunnable for requestCount = 5005067
1335797230953: I'm a leader, my requesting photos packet going to mux directly
1335797230968: --- Finished one round of sending REQUEST Packet ---------
1335797230954: mux: Inside mux Packet.CLIENT_REQUEST
1335797230954: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797231028: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797230954: inside handleClientRequest. Originator leader of region 1
1335797230954: got new request, requestCounter = 5005067
1335797230954: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797230955: Sending to region: 3
1335797230955: Sending PROC_REQUEST 11:16 (1,0)->(3,0)
1335797230956: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797230966: mux: I got a CSM packet at a leader 

1335797230956: Note down new request by adding requestCounter=5005067 to HashMap processedRequests
1335797230956: Make FirstLeg Ack regardless of new or already-processed requests
1335797230956: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797230967: Sending UDP payload: 989
1335797230968: forwarding disabled, not forwarding packets
1335797231074: Received UDP payload: 5154
1335797231079: mux: Inside mux Packet.CLIENT_REQUEST
1335797231230: Received UDP payload: 446
1335797231368: Received UDP payload: 5154
1335797231370: mux: Inside mux Packet.CLIENT_REQUEST
1335797231685: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797231685: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797231686: mux: I got a CSM packet at a leader 

1335797231715: Sending UDP payload: 989
1335797231723: forwarding disabled, not forwarding packets
1335797231730: Received UDP payload: 446
1335797231786: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797231786: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797231786: mux: I got a CSM packet at a leader 

1335797231787: Sending UDP payload: 989
1335797231788: forwarding disabled, not forwarding packets
1335797231886: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797231887: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797231887: mux: I got a CSM packet at a leader 

1335797231888: Sending UDP payload: 989
1335797231889: forwarding disabled, not forwarding packets
1335797231987: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797231988: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797231988: mux: I got a CSM packet at a leader 

1335797231989: Sending UDP payload: 989
1335797231989: forwarding disabled, not forwarding packets
1335797232088: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232088: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232089: mux: I got a CSM packet at a leader 

1335797232090: Sending UDP payload: 989
1335797232090: forwarding disabled, not forwarding packets
1335797232189: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232189: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232190: mux: I got a CSM packet at a leader 

1335797232191: Sending UDP payload: 989
1335797232191: forwarding disabled, not forwarding packets
1335797232290: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232290: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232291: mux: I got a CSM packet at a leader 

1335797232292: Sending UDP payload: 989
1335797232292: forwarding disabled, not forwarding packets
1335797232391: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232391: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232392: mux: I got a CSM packet at a leader 

1335797232393: Sending UDP payload: 989
1335797232394: forwarding disabled, not forwarding packets
1335797232492: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232492: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232493: mux: I got a CSM packet at a leader 

1335797232494: Sending UDP payload: 989
1335797232495: forwarding disabled, not forwarding packets
1335797232593: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232594: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232594: mux: I got a CSM packet at a leader 

1335797232595: Sending UDP payload: 989
1335797232596: forwarding disabled, not forwarding packets
1335797232606: Received UDP payload: 5546
1335797232611: mux: GOT CSM_Msg
1335797232611: forwarding disabled, not forwarding packets
1335797232639: Received UDP payload: 989
1335797232642: mux: GOT CSM_Msg
1335797232642: forwarding disabled, not forwarding packets
1335797232694: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232695: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232695: mux: I got a CSM packet at a leader 

1335797232696: Sending UDP payload: 989
1335797232697: forwarding disabled, not forwarding packets
1335797232794: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232795: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232795: mux: I got a CSM packet at a leader 

1335797232796: Sending UDP payload: 989
1335797232797: forwarding disabled, not forwarding packets
1335797232896: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232896: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232896: mux: I got a CSM packet at a leader 

1335797232898: Sending UDP payload: 989
1335797232899: forwarding disabled, not forwarding packets
1335797232997: Retrying PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232997: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(3,0)
1335797232997: mux: I got a CSM packet at a leader 

1335797232998: Sending UDP payload: 989
1335797232998: forwarding disabled, not forwarding packets
1335797233098: DSM Layer: Request timed out, send failure PROC_REPLY 11:16 (3,0)->(1,0)
1335797233098: Dispatching Atom PROC_REPLY 11:16 (3,0)->(1,0)
1335797233098: mux: I got a CSM packet at a leader 

1335797233107: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797233107: disabling progressdialog due to successful new photo get
1335797233107: Inside _enableButtons
1335797233108: areButtonsEnabled --> true
1335797233108: send final leg ack regardless of new or already-processed reply
1335797233108: inside finalLegAck: change requestCounter to 68
1335797233109: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005068 Client in region: (1,0) Client nodID: 5005
1335797233109: I'm a leader client, my final_leg packet going to mux directly
1335797233111: new client_show_remotephoto reply with replyCounter 500500024
1335797233111: note down new reply by adding replyCounter=500500024 to HashMap processedReplies
1335797233111: leader download remote photo latency = 2154
1335797233112: = leader download start 1335797230953 ~ stop 1335797233107
1335797233114: Can't get remote photo, because DSM Layer on originator leader timed out
1335797233118: one more getBad: 6
1335797233119: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=75% getNum=26 getGood=17 getBad=6 getTimedout=1 getPercent=65%
1335797233120: getBad++
1335797233100: Sending UDP payload: 989
1335797233101: Received PROC_REPLY 11:16 (3,0)->(1,0), handing to UserApp
1335797233101: inside handleDSMReply. Now back in originator leader of region 1
1335797233101: DSM layer timed out, don't log dsm layer latency stuff.
1335797233104: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797233104: change leader replyCounter to: 24
1335797233105: reply packet contains the newest photo/success info from the remote region
1335797233105: inside sendReplies of replyCount = 500500024
1335797233105: =======================
1335797233105: inside sendReplyRepeatingRunnable for replyCount = 500500024
1335797233105: Leader about to send REPLY packet, number: 500500024 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797233105: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797233106: === Finished one round of sending REPLY Packet =======
1335797233109: mux: Inside mux Packet.CLIENT_REQUEST
1335797233109: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797233110: inside handleClientRequest. Originator leader of region 1
1335797233110: got new request, requestCounter = 5005068
1335797233110: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500024
1335797233110: Yay the last leg succeeded. Removing reply runnables ...
1335797233110: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500024
1335797233110: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500024
1335797233110: do not send ack for received final_leg_ack
1335797233125: Received UDP payload: 625
1335797233127: mux: Inside mux Packet.CLIENT_REQUEST
1335797233127: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797233127: inside handleClientRequest. Originator leader of region 1
1335797233127: got new request, requestCounter = 5006100
1335797233127: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797233128: Sending to region: 2
1335797233128: Sending PROC_REQUEST 11:9 (1,0)->(2,0)
1335797233129: Dispatching Atom PROC_REQUEST 11:9 (1,0)->(2,0)
1335797233129: mux: I got a CSM packet at a leader 

1335797233129: Note down new request by adding requestCounter=5006100 to HashMap processedRequests
1335797233129: Make FirstLeg Ack regardless of new or already-processed requests
1335797233129: The leader sending a First Leg ack to originator client (which id = 5006)
1335797233129: inside sendPacket(Packet p)
1335797233131: Sending UDP payload: 989
1335797233132: forwarding disabled, not forwarding packets
1335797233133: Sending UDP payload: 446
1335797233371: Received UDP payload: 446
1335797233433: Received UDP payload: 625
1335797233435: mux: Inside mux Packet.CLIENT_REQUEST
1335797233436: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797233436: inside handleClientRequest. Originator leader of region 1
1335797233436: discarding repeated requestCounter=5006100, but still send an ack back
1335797233436: Note down new request by adding requestCounter=5006100 to HashMap processedRequests
1335797233436: Make FirstLeg Ack regardless of new or already-processed requests
1335797233436: The leader sending a First Leg ack to originator client (which id = 5006)
1335797233436: inside sendPacket(Packet p)
1335797233437: Sending UDP payload: 446
1335797233906: Retrying PROC_REQUEST 11:9 (1,0)->(2,0)
1335797233907: Dispatching Atom PROC_REQUEST 11:9 (1,0)->(2,0)
1335797233907: mux: I got a CSM packet at a leader 

1335797233911: Sending UDP payload: 989
1335797233923: forwarding disabled, not forwarding packets
1335797234008: Retrying PROC_REQUEST 11:9 (1,0)->(2,0)
1335797234008: Dispatching Atom PROC_REQUEST 11:9 (1,0)->(2,0)
1335797234008: mux: I got a CSM packet at a leader 

1335797234010: Sending UDP payload: 989
1335797234010: forwarding disabled, not forwarding packets
1335797234018: Received UDP payload: 5546
1335797234021: mux: GOT CSM_Msg
1335797234021: Received PROC_REPLY 11:9 (2,0)->(1,0), handing to UserApp
1335797234022: inside handleDSMReply. Now back in originator leader of region 1
1335797234022: DSM layer: Going to and from remote region took latency = 894
1335797234022: DSM layer: orig leader sent packet at 1335797233128 ~ received reply from remote leader at 1335797234022
1335797234023: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797234024: change leader replyCounter to: 25
1335797234024: reply packet contains the newest photo/success info from the remote region
1335797234024: inside sendReplies of replyCount = 500500025
1335797234025: =======================
1335797234025: inside sendReplyRepeatingRunnable for replyCount = 500500025
1335797234025: Leader about to send REPLY packet, number: 500500025 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797234025: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797234025: inside sendPacket(Packet p)
1335797234025: === Finished one round of sending REPLY Packet =======
1335797234027: Sending UDP payload: 5199
1335797234028: Received UDP payload: 446
1335797234151: Received UDP payload: 5546
1335797234153: mux: GOT CSM_Msg
1335797234154: Received DUPLICATE PROC_REPLY 11:9 (2,0)->(1,0)
1335797234254: Received UDP payload: 446
1335797234325: =======================
1335797234326: inside sendReplyRepeatingRunnable for replyCount = 500500025
1335797234326: Leader about to send REPLY packet, number: 500500025 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797234326: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797234326: inside sendPacket(Packet p)
1335797234326: === Finished one round of sending REPLY Packet =======
1335797234327: Sending UDP payload: 5199
1335797234627: =======================
1335797234627: inside sendReplyRepeatingRunnable for replyCount = 500500025
1335797234628: Leader about to send REPLY packet, number: 500500025 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797234628: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797234628: inside sendPacket(Packet p)
1335797234629: === Finished one round of sending REPLY Packet =======
1335797234632: Sending UDP payload: 5199
1335797234929: =======================
1335797234930: inside sendReplyRepeatingRunnable for replyCount = 500500025
1335797234930: Leader about to send REPLY packet, number: 500500025 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797234931: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797234931: inside sendPacket(Packet p)
1335797234931: === Finished one round of sending REPLY Packet =======
1335797234944: Sending UDP payload: 5199
1335797235025: inside sendReplyTimeoutR
1335797235025: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500025
1335797235050: Received UDP payload: 446
1335797235052: mux: Inside mux Packet.CLIENT_REQUEST
1335797235052: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797235052: inside handleClientRequest. Originator leader of region 1
1335797235052: got new request, requestCounter = 5006102
1335797235052: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500025
1335797235052: Yay the last leg succeeded. Removing reply runnables ...
1335797235053: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500025
1335797235053: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500025
1335797235053: do not send ack for received final_leg_ack
1335797235802: inside sendPacket(Packet p)
1335797235805: Sending UDP payload: 446
1335797236233: Received UDP payload: 446
1335797236701: Received UDP payload: 5503
1335797236703: mux: GOT CSM_Msg
1335797236703: forwarding disabled, not forwarding packets
1335797236711: Received UDP payload: 446
1335797236712: mux: Inside Packet.SERVER_REPLY
1335797236712: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797236718: Received UDP payload: 989
1335797236720: mux: GOT CSM_Msg
1335797236720: forwarding disabled, not forwarding packets
1335797236750: Received UDP payload: 642
1335797236751: mux: Inside Packet.SERVER_REPLY
1335797236751: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797236762: Received UDP payload: 446
1335797236763: mux: Inside mux Packet.CLIENT_REQUEST
1335797237416: Received UDP payload: 446
1335797237466: Received UDP payload: 446
1335797237785: Received UDP payload: 446
1335797237833: Received UDP payload: 446
1335797238018: Received UDP payload: 446
1335797238070: Received UDP payload: 446
1335797238322: Received UDP payload: 446
1335797238394: Received UDP payload: 446
1335797238592: Received UDP payload: 625
1335797238594: mux: Inside mux Packet.CLIENT_REQUEST
1335797238594: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797238594: inside handleClientRequest. Originator leader of region 1
1335797238594: got new request, requestCounter = 5006103
1335797238594: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797238595: Sending to region: 2
1335797238595: Sending PROC_REQUEST 11:10 (1,0)->(2,0)
1335797238595: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797238596: mux: I got a CSM packet at a leader 

1335797238596: Note down new request by adding requestCounter=5006103 to HashMap processedRequests
1335797238596: Make FirstLeg Ack regardless of new or already-processed requests
1335797238596: The leader sending a First Leg ack to originator client (which id = 5006)
1335797238596: inside sendPacket(Packet p)
1335797238597: Sending UDP payload: 989
1335797238612: forwarding disabled, not forwarding packets
1335797238615: Sending UDP payload: 446
1335797238725: Received UDP payload: 625
1335797238726: mux: Inside mux Packet.CLIENT_REQUEST
1335797238726: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797238726: inside handleClientRequest. Originator leader of region 1
1335797238726: got new request, requestCounter = 5009112
1335797238726: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797238727: Sending to region: 2
1335797238727: Sending PROC_REQUEST 11:11 (1,0)->(2,0)
1335797238728: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(2,0)
1335797238728: mux: I got a CSM packet at a leader 

1335797238728: Note down new request by adding requestCounter=5009112 to HashMap processedRequests
1335797238728: Make FirstLeg Ack regardless of new or already-processed requests
1335797238728: The leader sending a First Leg ack to originator client (which id = 5009)
1335797238728: inside sendPacket(Packet p)
1335797238729: Sending UDP payload: 989
1335797238730: forwarding disabled, not forwarding packets
1335797238731: Sending UDP payload: 446
1335797239143: Received UDP payload: 446
1335797239353: Retrying PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239353: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239353: mux: I got a CSM packet at a leader 

1335797239355: Sending UDP payload: 989
1335797239355: forwarding disabled, not forwarding packets
1335797239454: Retrying PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239455: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239455: mux: I got a CSM packet at a leader 

1335797239455: Retrying PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239455: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239456: mux: I got a CSM packet at a leader 

1335797239456: Sending UDP payload: 989
1335797239456: forwarding disabled, not forwarding packets
1335797239457: Sending UDP payload: 989
1335797239458: forwarding disabled, not forwarding packets
1335797239556: Retrying PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239556: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239556: mux: I got a CSM packet at a leader 

1335797239556: Retrying PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239557: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239560: mux: I got a CSM packet at a leader 

1335797239559: Sending UDP payload: 989
1335797239560: forwarding disabled, not forwarding packets
1335797239561: Sending UDP payload: 989
1335797239561: forwarding disabled, not forwarding packets
1335797239657: Retrying PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239658: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239658: mux: I got a CSM packet at a leader 

1335797239658: Retrying PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239658: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239660: mux: I got a CSM packet at a leader 

1335797239659: Sending UDP payload: 989
1335797239660: forwarding disabled, not forwarding packets
1335797239663: Sending UDP payload: 989
1335797239664: forwarding disabled, not forwarding packets
1335797239759: Retrying PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239759: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239759: mux: I got a CSM packet at a leader 

1335797239759: Retrying PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239759: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239761: mux: I got a CSM packet at a leader 

1335797239760: Sending UDP payload: 989
1335797239760: forwarding disabled, not forwarding packets
1335797239761: Sending UDP payload: 989
1335797239762: forwarding disabled, not forwarding packets
1335797239860: Retrying PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239861: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239861: mux: I got a CSM packet at a leader 

1335797239861: Retrying PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239862: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239863: mux: I got a CSM packet at a leader 

1335797239862: Sending UDP payload: 989
1335797239863: forwarding disabled, not forwarding packets
1335797239865: Sending UDP payload: 989
1335797239865: forwarding disabled, not forwarding packets
1335797239963: Retrying PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239963: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797239965: mux: I got a CSM packet at a leader 

1335797239964: Retrying PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239965: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(2,0)
1335797239968: mux: I got a CSM packet at a leader 

1335797239967: Sending UDP payload: 989
1335797239968: forwarding disabled, not forwarding packets
1335797239974: Sending UDP payload: 989
1335797239976: forwarding disabled, not forwarding packets
1335797240065: Retrying PROC_REQUEST 11:10 (1,0)->(2,0)
1335797240072: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797240073: mux: I got a CSM packet at a leader 

1335797240072: Retrying PROC_REQUEST 11:11 (1,0)->(2,0)
1335797240073: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(2,0)
1335797240083: mux: I got a CSM packet at a leader 

1335797240075: Sending UDP payload: 989
1335797240083: forwarding disabled, not forwarding packets
1335797240086: Sending UDP payload: 989
1335797240092: forwarding disabled, not forwarding packets
1335797240173: Retrying PROC_REQUEST 11:10 (1,0)->(2,0)
1335797240174: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797240175: mux: I got a CSM packet at a leader 

1335797240174: Retrying PROC_REQUEST 11:11 (1,0)->(2,0)
1335797240174: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(2,0)
1335797240178: mux: I got a CSM packet at a leader 

1335797240177: Sending UDP payload: 989
1335797240178: forwarding disabled, not forwarding packets
1335797240179: Sending UDP payload: 989
1335797240179: forwarding disabled, not forwarding packets
1335797240275: Retrying PROC_REQUEST 11:10 (1,0)->(2,0)
1335797240275: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797240276: mux: I got a CSM packet at a leader 

1335797240275: Retrying PROC_REQUEST 11:11 (1,0)->(2,0)
1335797240276: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(2,0)
1335797240278: mux: I got a CSM packet at a leader 

1335797240277: Sending UDP payload: 989
1335797240277: forwarding disabled, not forwarding packets
1335797240279: Sending UDP payload: 989
1335797240279: forwarding disabled, not forwarding packets
1335797240377: Retrying PROC_REQUEST 11:10 (1,0)->(2,0)
1335797240377: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(2,0)
1335797240378: mux: I got a CSM packet at a leader 

1335797240377: Retrying PROC_REQUEST 11:11 (1,0)->(2,0)
1335797240378: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(2,0)
1335797240379: mux: I got a CSM packet at a leader 

1335797240379: Sending UDP payload: 989
1335797240379: forwarding disabled, not forwarding packets
1335797240380: Sending UDP payload: 989
1335797240381: forwarding disabled, not forwarding packets
1335797240466: leader to cloud hearbeat...
1335797241169: Received UDP payload: 5503
1335797241171: mux: GOT CSM_Msg
1335797241171: Received PROC_REPLY 11:11 (2,0)->(1,0), handing to UserApp
1335797241171: inside handleDSMReply. Now back in originator leader of region 1
1335797241172: DSM layer: Going to and from remote region took latency = 2444
1335797241172: DSM layer: orig leader sent packet at 1335797238727 ~ received reply from remote leader at 1335797241171
1335797241172: Originator Region=1's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797241172: change leader replyCounter to: 26
1335797241172: reply packet contains the newest photo/success info from the remote region
1335797241173: inside sendReplies of replyCount = 500500026
1335797241907: canPressButton = TRUE
1335797241908: areButtonsEnabled --> false
1335797241909: disabling buttons ...
1335797241909: took picture disableButtonsR
1335797241910: areButtonsEnabled --> false
1335797241945: one more takeNum: 9
1335797241947: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=9 takeCamGood=8 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=66% getNum=26 getGood=17 getBad=6 getTimedout=1 getPercent=65%
1335797241947: Clicked take picture button ..
1335797241926: Received UDP payload: 5503
1335797241928: mux: GOT CSM_Msg
1335797241929: Received DUPLICATE PROC_REPLY 11:11 (2,0)->(1,0)
1335797241952: Received UDP payload: 446
1335797242916: Received UDP payload: 5503
1335797242922: mux: GOT CSM_Msg
1335797242922: Received DUPLICATE PROC_REPLY 11:11 (2,0)->(1,0)
1335797243097: Received UDP payload: 5503
1335797243100: mux: GOT CSM_Msg
1335797243101: Received DUPLICATE PROC_REPLY 11:11 (2,0)->(1,0)
1335797243213: inside HandlePictureStorage onPictureTaken()
1335797243213: one more takeCamGood: 9
1335797243214: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=9 takeCamGood=9 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=66% getNum=26 getGood=17 getBad=6 getTimedout=1 getPercent=65%
1335797243479: Picture successfully taken, ORIG BYTE LENGTH = 2518304
1335797243786: Our new height x width: 306 x 408
1335797243787: Show photo from handle my camera take
1335797243787: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335797243788: change local requestCounter to 69
1335797243804: BYTE SIZE AFTER COMPRESSION: 4592
1335797243807: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5005069 Client in region: 1 Client nodID: 5005
1335797243701: DSM Layer: Request timed out, send failure PROC_REPLY 11:10 (2,0)->(1,0)
1335797243715: Dispatching Atom PROC_REPLY 11:10 (2,0)->(1,0)
1335797243722: mux: I got a CSM packet at a leader 

1335797243717: inside sendPacket(Packet p)
1335797243718: =======================
1335797243718: inside sendReplyRepeatingRunnable for replyCount = 500500026
1335797243719: Leader about to send REPLY packet, number: 500500026 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797243719: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797243720: inside sendPacket(Packet p)
1335797243720: === Finished one round of sending REPLY Packet =======
1335797243720: inside sendReplyTimeoutR
1335797243721: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500026
1335797243760: Sending UDP payload: 989
1335797243764: Received PROC_REPLY 11:10 (2,0)->(1,0), handing to UserApp
1335797243765: inside handleDSMReply. Now back in originator leader of region 1
1335797243765: DSM layer timed out, don't log dsm layer latency stuff.
1335797243767: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797243767: change leader replyCounter to: 27
1335797243767: reply packet contains the newest photo/success info from the remote region
1335797243768: inside sendReplies of replyCount = 500500027
1335797243768: =======================
1335797243768: inside sendReplyRepeatingRunnable for replyCount = 500500027
1335797243768: Leader about to send REPLY packet, number: 500500027 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797243768: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797243768: inside sendPacket(Packet p)
1335797243768: === Finished one round of sending REPLY Packet =======
1335797243769: Sending UDP payload: 446
1335797243776: Sending UDP payload: 5156
1335797243777: Sending UDP payload: 642
1335797243834: ----------------------------
1335797243839: inside sendRequestPacketRepeatingRunnable for requestCount = 5005069
1335797243839: I'm a leader, my requesting photos packet going to mux directly
1335797243849: --- Finished one round of sending REQUEST Packet ---------
1335797243840: mux: Inside mux Packet.CLIENT_REQUEST
1335797243840: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797243878: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797243840: inside handleClientRequest. Originator leader of region 1
1335797243840: got new request, requestCounter = 5005069
1335797243840: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797243841: Sending PROC_REQUEST 10:36 (1,0)->(1,0)
1335797243841: Dispatching Atom PROC_REQUEST 10:36 (1,0)->(1,0)
1335797243841: mux: I got a CSM packet at a leader 

1335797243878: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797243879: I'm a leader and I successfully saved my client's new photo
1335797243880: now showing in UI the new photo I just saved ... 
1335797243880: the photo length: 4592
1335797243924: end of server show photo aside %%%%%%%%%
1335797243841: Note down new request by adding requestCounter=5005069 to HashMap processedRequests
1335797243841: Make FirstLeg Ack regardless of new or already-processed requests
1335797243841: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797243843: Sending UDP payload: 5603
1335797243843: removed replies before id 36 from sentReplies of size 0
1335797243844: inside handleDSMRequest. At requests's remote leader of region 1
1335797243845: Inside UPLOAD_PHOTO!!
1335797243856: my_gpinfo.isSuccess is now (should be true): true
1335797243856: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797243857: Received PROC_REQUEST 10:36 (1,0)->(1,0), replying PROC_REPLY 10:36 (1,0)->(1,0)
1335797243857: Dispatching Atom PROC_REPLY 10:36 (1,0)->(1,0)
1335797243858: mux: I got a CSM packet at a leader 

1335797243925: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335797243926: disabling progressdialog due to successful new photo upload
1335797243926: Inside _enableButtons
1335797243926: areButtonsEnabled --> true
1335797243926: send final leg ack regardless of new or already-processed reply
1335797243927: inside finalLegAck: change requestCounter to 70
1335797243927: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005070 Client in region: (1,0) Client nodID: 5005
1335797243927: I'm a leader client, my final_leg packet going to mux directly
1335797243928: cupa discarding repeated replyCounter=500500028, but still sent an ack back
1335797243859: Sending UDP payload: 989
1335797243863: Received PROC_REPLY 10:36 (1,0)->(1,0), handing to UserApp
1335797243863: inside handleDSMReply. Now back in originator leader of region 1
1335797243864: DSM layer: Going to and from remote region took latency = 23
1335797243864: DSM layer: orig leader sent packet at 1335797243840 ~ received reply from remote leader at 1335797243863
1335797243864: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797243865: change leader replyCounter to: 28
1335797243865: reply packet contains the success info for UPLOAD_PHOTO
1335797243865: inside sendReplies of replyCount = 500500028
1335797243865: =======================
1335797243865: inside sendReplyRepeatingRunnable for replyCount = 500500028
1335797243865: Leader about to send REPLY packet, number: 500500028 type: 16 Leader in region: (1,0) to Client nodID: 5005
1335797243865: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797243865: === Finished one round of sending REPLY Packet =======
1335797243927: mux: Inside mux Packet.CLIENT_REQUEST
1335797243927: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797243927: inside handleClientRequest. Originator leader of region 1
1335797243928: got new request, requestCounter = 5005070
1335797243928: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500028
1335797243928: Yay the last leg succeeded. Removing reply runnables ...
1335797243928: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500028
1335797243928: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500028
1335797243928: do not send ack for received final_leg_ack
1335797244069: =======================
1335797244069: inside sendReplyRepeatingRunnable for replyCount = 500500027
1335797244069: Leader about to send REPLY packet, number: 500500027 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797244069: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797244069: inside sendPacket(Packet p)
1335797244069: === Finished one round of sending REPLY Packet =======
1335797244070: Sending UDP payload: 642
1335797244369: =======================
1335797244369: inside sendReplyRepeatingRunnable for replyCount = 500500027
1335797244370: Leader about to send REPLY packet, number: 500500027 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797244370: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797244370: inside sendPacket(Packet p)
1335797244370: === Finished one round of sending REPLY Packet =======
1335797244371: Sending UDP payload: 642
1335797244457: Received UDP payload: 463
1335797244584: Received UDP payload: 625
1335797244586: mux: Inside mux Packet.CLIENT_REQUEST
1335797244591: Received UDP payload: 625
1335797244593: mux: Inside mux Packet.CLIENT_REQUEST
1335797244670: =======================
1335797244670: inside sendReplyRepeatingRunnable for replyCount = 500500027
1335797244671: Leader about to send REPLY packet, number: 500500027 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797244671: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797244671: inside sendPacket(Packet p)
1335797244671: === Finished one round of sending REPLY Packet =======
1335797244672: Sending UDP payload: 642
1335797244768: inside sendReplyTimeoutR
1335797244769: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500027
1335797244836: Received UDP payload: 625
1335797244838: mux: Inside mux Packet.CLIENT_REQUEST
1335797245188: Received UDP payload: 5503
1335797245203: mux: GOT CSM_Msg
1335797245205: Received DUPLICATE PROC_REPLY 11:11 (2,0)->(1,0)
1335797245566: Received UDP payload: 5503
1335797245569: mux: GOT CSM_Msg
1335797245570: Received DUPLICATE PROC_REPLY 11:11 (2,0)->(1,0)
1335797245632: Received UDP payload: 446
1335797245635: mux: Inside mux Packet.CLIENT_REQUEST
1335797245635: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797245636: inside handleClientRequest. Originator leader of region 1
1335797245636: got new request, requestCounter = 5006104
1335797245636: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500027
1335797245636: Yay the last leg succeeded. Removing reply runnables ...
1335797245636: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500027
1335797245637: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500027
1335797245637: do not send ack for received final_leg_ack
1335797245722: Received UDP payload: 5503
1335797245726: mux: GOT CSM_Msg
1335797245727: Received DUPLICATE PROC_REPLY 11:11 (2,0)->(1,0)
1335797245861: Received UDP payload: 446
1335797245863: mux: Inside mux Packet.CLIENT_REQUEST
1335797245863: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797245863: inside handleClientRequest. Originator leader of region 1
1335797245864: got new request, requestCounter = 5006105
1335797245864: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500027
1335797245864: Yay the last leg succeeded. Removing reply runnables ...
1335797245865: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500027
1335797245865: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500027
1335797245865: do not send ack for received final_leg_ack
1335797245880: Received UDP payload: 446
1335797245885: mux: Inside mux Packet.CLIENT_REQUEST
1335797245885: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797245886: inside handleClientRequest. Originator leader of region 1
1335797245886: got new request, requestCounter = 5009113
1335797245887: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500026
1335797245887: Yay the last leg succeeded. Removing reply runnables ...
1335797245887: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500026
1335797245888: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500026
1335797245888: do not send ack for received final_leg_ack
1335797246043: Received UDP payload: 625
1335797246046: mux: Inside mux Packet.CLIENT_REQUEST
1335797246046: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797246047: inside handleClientRequest. Originator leader of region 1
1335797246047: got new request, requestCounter = 5009114
1335797246047: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797246048: Sending to region: 0
1335797246049: Sending PROC_REQUEST 11:13 (1,0)->(0,0)
1335797246049: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797246055: mux: I got a CSM packet at a leader 

1335797246050: Note down new request by adding requestCounter=5009114 to HashMap processedRequests
1335797246050: Make FirstLeg Ack regardless of new or already-processed requests
1335797246052: Received UDP payload: 446
1335797246054: The leader sending a First Leg ack to originator client (which id = 5009)
1335797246054: inside sendPacket(Packet p)
1335797246057: Sending UDP payload: 989
1335797246074: forwarding disabled, not forwarding packets
1335797246075: Sending UDP payload: 446
1335797246090: Received UDP payload: 446
1335797246091: mux: Inside mux Packet.CLIENT_REQUEST
1335797246091: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797246092: inside handleClientRequest. Originator leader of region 1
1335797246092: got new request, requestCounter = 5006106
1335797246092: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500027
1335797246092: Yay the last leg succeeded. Removing reply runnables ...
1335797246092: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500027
1335797246092: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500027
1335797246092: do not send ack for received final_leg_ack
1335797246223: canPressButton = TRUE
1335797246223: areButtonsEnabled --> false 
1335797246224: get picture disableButtonsR
1335797246224: areButtonsEnabled --> false
1335797246237: one more getNum: 27
1335797246238: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=9 takeCamGood=9 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=66% getNum=27 getGood=17 getBad=6 getTimedout=1 getPercent=62%
1335797246238: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335797246238: change local requestCounter to 71
1335797246243: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005071 Client in region: 1 Client nodID: 5005
1335797246277: ----------------------------
1335797246277: inside sendRequestPacketRepeatingRunnable for requestCount = 5005071
1335797246278: I'm a leader, my requesting photos packet going to mux directly
1335797246285: --- Finished one round of sending REQUEST Packet ---------
1335797246278: mux: Inside mux Packet.CLIENT_REQUEST
1335797246278: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797246325: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797246278: inside handleClientRequest. Originator leader of region 1
1335797246278: got new request, requestCounter = 5005071
1335797246278: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797246279: Sending to region: 3
1335797246280: Sending PROC_REQUEST 11:17 (1,0)->(3,0)
1335797246280: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(3,0)
1335797246280: mux: I got a CSM packet at a leader 

1335797246280: Note down new request by adding requestCounter=5005071 to HashMap processedRequests
1335797246280: Make FirstLeg Ack regardless of new or already-processed requests
1335797246280: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797246282: Received UDP payload: 446
1335797246283: Sending UDP payload: 989
1335797246285: forwarding disabled, not forwarding packets
1335797246834: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797246835: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797246835: mux: I got a CSM packet at a leader 

1335797246837: Sending UDP payload: 989
1335797246845: forwarding disabled, not forwarding packets
1335797246936: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797246936: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797246940: mux: I got a CSM packet at a leader 

1335797246941: Sending UDP payload: 989
1335797246943: forwarding disabled, not forwarding packets
1335797247037: Retrying PROC_REQUEST 11:17 (1,0)->(3,0)
1335797247038: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(3,0)
1335797247039: mux: I got a CSM packet at a leader 

1335797247038: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247038: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247041: mux: I got a CSM packet at a leader 

1335797247040: Sending UDP payload: 989
1335797247041: forwarding disabled, not forwarding packets
1335797247043: Sending UDP payload: 989
1335797247044: forwarding disabled, not forwarding packets
1335797247139: Retrying PROC_REQUEST 11:17 (1,0)->(3,0)
1335797247139: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(3,0)
1335797247141: mux: I got a CSM packet at a leader 

1335797247140: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247140: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247144: mux: I got a CSM packet at a leader 

1335797247143: Sending UDP payload: 989
1335797247144: forwarding disabled, not forwarding packets
1335797247146: Sending UDP payload: 989
1335797247150: forwarding disabled, not forwarding packets
1335797247241: Retrying PROC_REQUEST 11:17 (1,0)->(3,0)
1335797247242: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(3,0)
1335797247243: mux: I got a CSM packet at a leader 

1335797247242: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247242: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247256: mux: I got a CSM packet at a leader 

1335797247244: Sending UDP payload: 989
1335797247255: forwarding disabled, not forwarding packets
1335797247257: Sending UDP payload: 989
1335797247258: forwarding disabled, not forwarding packets
1335797247343: Retrying PROC_REQUEST 11:17 (1,0)->(3,0)
1335797247343: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(3,0)
1335797247344: mux: I got a CSM packet at a leader 

1335797247344: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247344: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247346: mux: I got a CSM packet at a leader 

1335797247345: Sending UDP payload: 989
1335797247346: forwarding disabled, not forwarding packets
1335797247348: Sending UDP payload: 989
1335797247349: forwarding disabled, not forwarding packets
1335797247438: Received UDP payload: 5387
1335797247440: mux: GOT CSM_Msg
1335797247462: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797247463: disabling progressdialog due to successful new photo get
1335797247463: Inside _enableButtons
1335797247464: areButtonsEnabled --> true
1335797247465: send final leg ack regardless of new or already-processed reply
1335797247465: inside finalLegAck: change requestCounter to 72
1335797247466: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005072 Client in region: (1,0) Client nodID: 5005
1335797247467: I'm a leader client, my final_leg packet going to mux directly
1335797247468: new client_show_remotephoto reply with replyCounter 500500029
1335797247468: note down new reply by adding replyCounter=500500029 to HashMap processedReplies
1335797247469: leader download remote photo latency = 1184
1335797247470: = leader download start 1335797246278 ~ stop 1335797247462
1335797247472: one more getGood: 18
1335797247474: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=9 takeCamGood=9 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=66% getNum=27 getGood=18 getBad=6 getTimedout=1 getPercent=66%
1335797247475: successful reply for client get photo
1335797247475: Success! Client getting photo from remote region, showing photo...
1335797247476: Remote photo's length: 4376
1335797247441: Received PROC_REPLY 11:17 (3,0)->(1,0), handing to UserApp
1335797247441: inside handleDSMReply. Now back in originator leader of region 1
1335797247441: DSM layer: Going to and from remote region took latency = 1162
1335797247442: DSM layer: orig leader sent packet at 1335797246279 ~ received reply from remote leader at 1335797247441
1335797247443: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797247443: change leader replyCounter to: 29
1335797247443: reply packet contains the newest photo/success info from the remote region
1335797247443: inside sendReplies of replyCount = 500500029
1335797247443: =======================
1335797247444: inside sendReplyRepeatingRunnable for replyCount = 500500029
1335797247444: Leader about to send REPLY packet, number: 500500029 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797247444: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797247444: === Finished one round of sending REPLY Packet =======
1335797247445: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247445: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247446: mux: I got a CSM packet at a leader 

1335797247448: Sending UDP payload: 989
1335797247449: forwarding disabled, not forwarding packets
1335797247468: mux: Inside mux Packet.CLIENT_REQUEST
1335797247468: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797247468: inside handleClientRequest. Originator leader of region 1
1335797247468: got new request, requestCounter = 5005072
1335797247468: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500029
1335797247469: Yay the last leg succeeded. Removing reply runnables ...
1335797247469: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500029
1335797247469: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500029
1335797247469: do not send ack for received final_leg_ack
1335797247546: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247547: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247548: mux: I got a CSM packet at a leader 

1335797247559: Sending UDP payload: 989
1335797247560: forwarding disabled, not forwarding packets
1335797247647: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247648: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247648: mux: I got a CSM packet at a leader 

1335797247649: Sending UDP payload: 989
1335797247650: forwarding disabled, not forwarding packets
1335797247748: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247749: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247750: mux: I got a CSM packet at a leader 

1335797247751: Sending UDP payload: 989
1335797247753: forwarding disabled, not forwarding packets
1335797247850: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247850: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247850: mux: I got a CSM packet at a leader 

1335797247852: Sending UDP payload: 989
1335797247852: forwarding disabled, not forwarding packets
1335797247917: Received UDP payload: 989
1335797247922: mux: GOT CSM_Msg
1335797247922: forwarding disabled, not forwarding packets
1335797247950: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247951: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797247951: mux: I got a CSM packet at a leader 

1335797247952: Sending UDP payload: 989
1335797247953: forwarding disabled, not forwarding packets
1335797248051: Retrying PROC_REQUEST 11:13 (1,0)->(0,0)
1335797248052: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(0,0)
1335797248052: mux: I got a CSM packet at a leader 

1335797248053: Sending UDP payload: 989
1335797248055: forwarding disabled, not forwarding packets
1335797248153: DSM Layer: Request timed out, send failure PROC_REPLY 11:13 (0,0)->(1,0)
1335797248153: Dispatching Atom PROC_REPLY 11:13 (0,0)->(1,0)
1335797248154: mux: I got a CSM packet at a leader 

1335797248157: Sending UDP payload: 989
1335797248160: Received PROC_REPLY 11:13 (0,0)->(1,0), handing to UserApp
1335797248160: inside handleDSMReply. Now back in originator leader of region 1
1335797248161: DSM layer timed out, don't log dsm layer latency stuff.
1335797248171: Originator Region=1's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797248172: change leader replyCounter to: 30
1335797248175: reply packet contains the newest photo/success info from the remote region
1335797248176: inside sendReplies of replyCount = 500500030
1335797248187: =======================
1335797248187: inside sendReplyRepeatingRunnable for replyCount = 500500030
1335797248188: Leader about to send REPLY packet, number: 500500030 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797248188: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797248188: inside sendPacket(Packet p)
1335797248189: === Finished one round of sending REPLY Packet =======
1335797248213: Sending UDP payload: 642
1335797248248: Received UDP payload: 446
1335797248251: mux: Inside mux Packet.CLIENT_REQUEST
1335797248251: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797248251: inside handleClientRequest. Originator leader of region 1
1335797248251: got new request, requestCounter = 5009115
1335797248251: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500030
1335797248252: Yay the last leg succeeded. Removing reply runnables ...
1335797248252: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500030
1335797248252: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500030
1335797248252: do not send ack for received final_leg_ack
1335797248665: Received UDP payload: 989
1335797248667: mux: GOT CSM_Msg
1335797248667: forwarding disabled, not forwarding packets
1335797248717: inside sendPacket(Packet p)
1335797248718: Sending UDP payload: 446
1335797248765: Received UDP payload: 989
1335797248767: mux: GOT CSM_Msg
1335797248767: forwarding disabled, not forwarding packets
1335797248871: Received UDP payload: 989
1335797248873: mux: GOT CSM_Msg
1335797248873: forwarding disabled, not forwarding packets
1335797248967: Received UDP payload: 989
1335797248969: mux: GOT CSM_Msg
1335797248969: forwarding disabled, not forwarding packets
1335797249072: Received UDP payload: 989
1335797249080: mux: GOT CSM_Msg
1335797249081: forwarding disabled, not forwarding packets
1335797249169: Received UDP payload: 989
1335797249175: mux: GOT CSM_Msg
1335797249176: forwarding disabled, not forwarding packets
1335797249280: Received UDP payload: 989
1335797249288: mux: GOT CSM_Msg
1335797249288: forwarding disabled, not forwarding packets
1335797249373: Received UDP payload: 989
1335797249380: mux: GOT CSM_Msg
1335797249380: forwarding disabled, not forwarding packets
1335797249478: Received UDP payload: 989
1335797249487: mux: GOT CSM_Msg
1335797249488: forwarding disabled, not forwarding packets
1335797249580: Received UDP payload: 989
1335797249588: mux: GOT CSM_Msg
1335797249588: forwarding disabled, not forwarding packets
1335797249680: Received UDP payload: 989
1335797249685: mux: GOT CSM_Msg
1335797249685: forwarding disabled, not forwarding packets
1335797249786: Received UDP payload: 989
1335797249794: mux: GOT CSM_Msg
1335797249794: forwarding disabled, not forwarding packets
1335797249886: Received UDP payload: 989
1335797249894: mux: GOT CSM_Msg
1335797249894: forwarding disabled, not forwarding packets
1335797249912: Received UDP payload: 446
1335797249989: Received UDP payload: 989
1335797249998: mux: GOT CSM_Msg
1335797249999: forwarding disabled, not forwarding packets
1335797250052: Received UDP payload: 446
1335797250099: Received UDP payload: 989
1335797250107: mux: GOT CSM_Msg
1335797250108: forwarding disabled, not forwarding packets
1335797250357: Received UDP payload: 446
1335797250935: Received UDP payload: 4096
1335797250941: mux: Inside mux Packet.CLIENT_REQUEST
1335797250942: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797250942: inside handleClientRequest. Originator leader of region 1
1335797250943: got new request, requestCounter = 5006107
1335797250943: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797250955: Sending PROC_REQUEST 10:37 (1,0)->(1,0)
1335797250956: Dispatching Atom PROC_REQUEST 10:37 (1,0)->(1,0)
1335797250958: mux: I got a CSM packet at a leader 

1335797251019: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797251022: I'm a leader and I successfully saved my client's new photo
1335797251022: now showing in UI the new photo I just saved ... 
1335797251022: the photo length: 3449
1335797251092: end of server show photo aside %%%%%%%%%
1335797250956: Note down new request by adding requestCounter=5006107 to HashMap processedRequests
1335797250957: Make FirstLeg Ack regardless of new or already-processed requests
1335797250957: The leader sending a First Leg ack to originator client (which id = 5006)
1335797250957: inside sendPacket(Packet p)
1335797250961: Sending UDP payload: 4460
1335797250987: removed replies before id 37 from sentReplies of size 0
1335797250988: inside handleDSMRequest. At requests's remote leader of region 1
1335797250990: Inside UPLOAD_PHOTO!!
1335797251003: my_gpinfo.isSuccess is now (should be true): true
1335797251003: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797251012: Received PROC_REQUEST 10:37 (1,0)->(1,0), replying PROC_REPLY 10:37 (1,0)->(1,0)
1335797251013: Dispatching Atom PROC_REPLY 10:37 (1,0)->(1,0)
1335797251077: mux: I got a CSM packet at a leader 

1335797251075: Sending UDP payload: 446
1335797251082: Sending UDP payload: 989
1335797251084: Received PROC_REPLY 10:37 (1,0)->(1,0), handing to UserApp
1335797251085: inside handleDSMReply. Now back in originator leader of region 1
1335797251085: DSM layer: Going to and from remote region took latency = 142
1335797251085: DSM layer: orig leader sent packet at 1335797250943 ~ received reply from remote leader at 1335797251085
1335797251087: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797251087: change leader replyCounter to: 31
1335797251087: reply packet contains the success info for UPLOAD_PHOTO
1335797251087: inside sendReplies of replyCount = 500500031
1335797251088: =======================
1335797251088: inside sendReplyRepeatingRunnable for replyCount = 500500031
1335797251088: Leader about to send REPLY packet, number: 500500031 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335797251088: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797251088: inside sendPacket(Packet p)
1335797251089: === Finished one round of sending REPLY Packet =======
1335797251095: Sending UDP payload: 642
1335797251236: Received UDP payload: 446
1335797251239: mux: Inside Packet.SERVER_REPLY
1335797251239: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797251246: Received UDP payload: 989
1335797251249: mux: GOT CSM_Msg
1335797251249: forwarding disabled, not forwarding packets
1335797251255: Received UDP payload: 642
1335797251257: mux: Inside Packet.SERVER_REPLY
1335797251257: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797251263: Received UDP payload: 446
1335797251265: mux: Inside mux Packet.CLIENT_REQUEST
1335797251265: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797251265: inside handleClientRequest. Originator leader of region 1
1335797251265: got new request, requestCounter = 5006108
1335797251266: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500031
1335797251266: Yay the last leg succeeded. Removing reply runnables ...
1335797251266: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500031
1335797251266: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500031
1335797251266: do not send ack for received final_leg_ack
1335797251268: Received UDP payload: 446
1335797251303: Received UDP payload: 446
1335797251304: mux: Inside mux Packet.CLIENT_REQUEST
1335797251412: Received UDP payload: 6546
1335797251413: mux: Inside mux Packet.CLIENT_REQUEST
1335797251424: Received UDP payload: 446
1335797251425: mux: Inside Packet.SERVER_REPLY
1335797251425: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797251517: Received UDP payload: 625
1335797251518: mux: Inside mux Packet.CLIENT_REQUEST
1335797251518: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797251518: inside handleClientRequest. Originator leader of region 1
1335797251519: got new request, requestCounter = 5009116
1335797251519: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797251519: Sending to region: 3
1335797251519: Sending PROC_REQUEST 11:18 (1,0)->(3,0)
1335797251520: Dispatching Atom PROC_REQUEST 11:18 (1,0)->(3,0)
1335797251520: mux: I got a CSM packet at a leader 

1335797251520: Note down new request by adding requestCounter=5009116 to HashMap processedRequests
1335797251520: Make FirstLeg Ack regardless of new or already-processed requests
1335797251520: The leader sending a First Leg ack to originator client (which id = 5009)
1335797251520: inside sendPacket(Packet p)
1335797251521: Sending UDP payload: 989
1335797251522: forwarding disabled, not forwarding packets
1335797251523: Sending UDP payload: 446
1335797251631: Received UDP payload: 6910
1335797251633: mux: GOT CSM_Msg
1335797251634: Received PROC_REPLY 11:18 (3,0)->(1,0), handing to UserApp
1335797251634: inside handleDSMReply. Now back in originator leader of region 1
1335797251634: DSM layer: Going to and from remote region took latency = 115
1335797251635: DSM layer: orig leader sent packet at 1335797251519 ~ received reply from remote leader at 1335797251634
1335797251635: Originator Region=1's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797251636: change leader replyCounter to: 32
1335797251636: reply packet contains the newest photo/success info from the remote region
1335797251636: inside sendReplies of replyCount = 500500032
1335797251636: =======================
1335797251636: inside sendReplyRepeatingRunnable for replyCount = 500500032
1335797251636: Leader about to send REPLY packet, number: 500500032 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797251637: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797251637: inside sendPacket(Packet p)
1335797251637: === Finished one round of sending REPLY Packet =======
1335797251638: Sending UDP payload: 6563
1335797251741: Received UDP payload: 446
1335797251743: mux: Inside mux Packet.CLIENT_REQUEST
1335797251743: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797251743: inside handleClientRequest. Originator leader of region 1
1335797251743: got new request, requestCounter = 5009117
1335797251743: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500032
1335797251743: Yay the last leg succeeded. Removing reply runnables ...
1335797251744: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500032
1335797251744: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500032
1335797251744: do not send ack for received final_leg_ack
1335797251813: Received UDP payload: 5340
1335797251816: mux: GOT CSM_Msg
1335797251816: forwarding disabled, not forwarding packets
1335797252128: Received UDP payload: 446
1335797252130: heard LEADER_REQUEST from node 5006, responding LEADER_REPLY
1335797252198: inside sendPacket(Packet p)
1335797252199: Sending UDP payload: 39284
1335797252432: Received UDP payload: 446
1335797252434: heard LEADER_REQUEST from node 5006, responding LEADER_REPLY
1335797252461: inside sendPacket(Packet p)
1335797252462: Sending UDP payload: 39284
1335797252785: Received UDP payload: 446
1335797252789: heard LEADER_REQUEST from node 5006, responding LEADER_REPLY
1335797252851: inside sendPacket(Packet p)
1335797252856: Sending UDP payload: 39284
1335797253717: inside sendPacket(Packet p)
1335797253719: Sending UDP payload: 446
1335797254913: Received UDP payload: 446
1335797255546: Received UDP payload: 625
1335797255552: mux: Inside mux Packet.CLIENT_REQUEST
1335797255595: Received UDP payload: 989
1335797255605: mux: GOT CSM_Msg
1335797255606: removed replies before id 6 from sentReplies of size 1
1335797255606: inside handleDSMRequest. At requests's remote leader of region 1
1335797255608: INSIDE SERVER_GET_PHOTO!!!
1335797255624: Received UDP payload: 446
1335797255643: mux: Inside Packet.SERVER_REPLY
1335797255643: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797255632: Received PROC_REQUEST 11:6 (3,0)->(1,0), replying PROC_REPLY 11:6 (1,0)->(3,0)
1335797255633: Dispatching Atom PROC_REPLY 11:6 (1,0)->(3,0)
1335797255643: mux: I got a CSM packet at a leader 

1335797255644: Sending UDP payload: 4460
1335797255645: forwarding disabled, not forwarding packets
1335797255788: Received UDP payload: 4113
1335797255790: mux: Inside Packet.SERVER_REPLY
1335797255790: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797255802: Received UDP payload: 446
1335797255803: mux: Inside mux Packet.CLIENT_REQUEST
1335797256105: Received UDP payload: 446
1335797256247: Received UDP payload: 446
1335797256413: Received UDP payload: 446
1335797256537: Received UDP payload: 625
1335797256543: mux: Inside mux Packet.CLIENT_REQUEST
1335797256544: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797256544: inside handleClientRequest. Originator leader of region 1
1335797256545: got new request, requestCounter = 5009118
1335797256545: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797256547: Sending to region: 2
1335797256549: Sending PROC_REQUEST 11:12 (1,0)->(2,0)
1335797256549: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(2,0)
1335797256552: mux: I got a CSM packet at a leader 

1335797256550: Note down new request by adding requestCounter=5009118 to HashMap processedRequests
1335797256550: Make FirstLeg Ack regardless of new or already-processed requests
1335797256550: The leader sending a First Leg ack to originator client (which id = 5009)
1335797256551: inside sendPacket(Packet p)
1335797256565: Sending UDP payload: 989
1335797256575: forwarding disabled, not forwarding packets
1335797256578: Sending UDP payload: 446
1335797256694: Received UDP payload: 446
1335797256906: Received UDP payload: 4263
1335797256908: mux: Inside mux Packet.CLIENT_REQUEST
1335797256993: Received UDP payload: 446
1335797257294: Retrying PROC_REQUEST 11:12 (1,0)->(2,0)
1335797257295: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(2,0)
1335797257296: mux: I got a CSM packet at a leader 

1335797257299: Sending UDP payload: 989
1335797257300: forwarding disabled, not forwarding packets
1335797257396: Retrying PROC_REQUEST 11:12 (1,0)->(2,0)
1335797257396: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(2,0)
1335797257396: mux: I got a CSM packet at a leader 

1335797257397: Sending UDP payload: 989
1335797257398: forwarding disabled, not forwarding packets
1335797257497: Retrying PROC_REQUEST 11:12 (1,0)->(2,0)
1335797257498: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(2,0)
1335797257498: mux: I got a CSM packet at a leader 

1335797257500: Sending UDP payload: 989
1335797257501: forwarding disabled, not forwarding packets
1335797257555: Received UDP payload: 4263
1335797257557: mux: Inside mux Packet.CLIENT_REQUEST
1335797257598: Retrying PROC_REQUEST 11:12 (1,0)->(2,0)
1335797257599: Dispatching Atom PROC_REQUEST 11:12 (1,0)->(2,0)
1335797257599: mux: I got a CSM packet at a leader 

1335797257601: Sending UDP payload: 989
1335797257602: forwarding disabled, not forwarding packets
1335797257673: Received UDP payload: 5503
1335797257677: mux: GOT CSM_Msg
1335797257678: Received PROC_REPLY 11:12 (2,0)->(1,0), handing to UserApp
1335797257678: inside handleDSMReply. Now back in originator leader of region 1
1335797257678: DSM layer: Going to and from remote region took latency = 1130
1335797257678: DSM layer: orig leader sent packet at 1335797256548 ~ received reply from remote leader at 1335797257678
1335797257680: Originator Region=1's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797257680: change leader replyCounter to: 33
1335797257680: reply packet contains the newest photo/success info from the remote region
1335797257680: inside sendReplies of replyCount = 500500033
1335797257681: =======================
1335797257681: inside sendReplyRepeatingRunnable for replyCount = 500500033
1335797257681: Leader about to send REPLY packet, number: 500500033 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797257681: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797257681: inside sendPacket(Packet p)
1335797257682: === Finished one round of sending REPLY Packet =======
1335797257684: Sending UDP payload: 5156
1335797257847: Received UDP payload: 4263
1335797257849: mux: Inside mux Packet.CLIENT_REQUEST
1335797257853: Received UDP payload: 446
1335797257856: mux: Inside mux Packet.CLIENT_REQUEST
1335797257856: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797257856: inside handleClientRequest. Originator leader of region 1
1335797257857: got new request, requestCounter = 5009119
1335797257857: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500033
1335797257857: Yay the last leg succeeded. Removing reply runnables ...
1335797257857: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500033
1335797257857: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500033
1335797257858: do not send ack for received final_leg_ack
1335797258718: inside sendPacket(Packet p)
1335797258720: Sending UDP payload: 446
1335797259611: Received UDP payload: 625
1335797259630: mux: Inside mux Packet.CLIENT_REQUEST
1335797259631: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797259631: inside handleClientRequest. Originator leader of region 1
1335797259632: got new request, requestCounter = 5009120
1335797259632: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797259649: Sending to region: 1
1335797259651: Sending PROC_REQUEST 11:38 (1,0)->(1,0)
1335797259652: Dispatching Atom PROC_REQUEST 11:38 (1,0)->(1,0)
1335797259667: mux: I got a CSM packet at a leader 

1335797259653: Note down new request by adding requestCounter=5009120 to HashMap processedRequests
1335797259653: Make FirstLeg Ack regardless of new or already-processed requests
1335797259653: The leader sending a First Leg ack to originator client (which id = 5009)
1335797259654: inside sendPacket(Packet p)
1335797259681: Sending UDP payload: 989
1335797259682: removed replies before id 38 from sentReplies of size 0
1335797259682: inside handleDSMRequest. At requests's remote leader of region 1
1335797259683: INSIDE SERVER_GET_PHOTO!!!
1335797259693: dst_region == src_region = 1
1335797259693:  1 self to self atomRequest
1335797259694: Received PROC_REQUEST 11:38 (1,0)->(1,0), replying PROC_REPLY 11:38 (1,0)->(1,0)
1335797259695: Dispatching Atom PROC_REPLY 11:38 (1,0)->(1,0)
1335797259696: mux: I got a CSM packet at a leader 

1335797259695: Sending UDP payload: 446
1335797259697: Sending UDP payload: 4460
1335797259699: Received PROC_REPLY 11:38 (1,0)->(1,0), handing to UserApp
1335797259699: inside handleDSMReply. Now back in originator leader of region 1
1335797259699: DSM layer: Going to and from remote region took latency = 49
1335797259699: DSM layer: orig leader sent packet at 1335797259650 ~ received reply from remote leader at 1335797259699
1335797259700: Originator Region=1's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797259700: change leader replyCounter to: 34
1335797259700: reply packet contains the newest photo/success info from the remote region
1335797259700: inside sendReplies of replyCount = 500500034
1335797259701: =======================
1335797259701: inside sendReplyRepeatingRunnable for replyCount = 500500034
1335797259701: Leader about to send REPLY packet, number: 500500034 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797259701: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797259701: inside sendPacket(Packet p)
1335797259701: === Finished one round of sending REPLY Packet =======
1335797259702: Sending UDP payload: 4113
1335797259897: Received UDP payload: 446
1335797259898: mux: Inside mux Packet.CLIENT_REQUEST
1335797259898: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797259899: inside handleClientRequest. Originator leader of region 1
1335797259899: got new request, requestCounter = 5009121
1335797259899: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500034
1335797259899: Yay the last leg succeeded. Removing reply runnables ...
1335797259899: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500034
1335797259899: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500034
1335797259899: do not send ack for received final_leg_ack
1335797259911: Received UDP payload: 446
1335797260018: Received UDP payload: 625
1335797260020: mux: Inside mux Packet.CLIENT_REQUEST
1335797260020: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797260020: inside handleClientRequest. Originator leader of region 1
1335797260020: discarding repeated requestCounter=5009120, but still send an ack back
1335797260020: Note down new request by adding requestCounter=5009120 to HashMap processedRequests
1335797260020: Make FirstLeg Ack regardless of new or already-processed requests
1335797260020: The leader sending a First Leg ack to originator client (which id = 5009)
1335797260020: inside sendPacket(Packet p)
1335797260021: Sending UDP payload: 446
1335797260557: Received UDP payload: 446
1335797261135: Received UDP payload: 446
1335797261251: Received UDP payload: 446
1335797261290: canPressButton = TRUE
1335797261291: areButtonsEnabled --> false
1335797261291: disabling buttons ...
1335797261291: took picture disableButtonsR
1335797261291: areButtonsEnabled --> false
1335797261317: one more takeNum: 10
1335797261318: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=10 takeCamGood=9 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=60% getNum=27 getGood=18 getBad=6 getTimedout=1 getPercent=66%
1335797261318: Clicked take picture button ..
1335797261462: Received UDP payload: 446
1335797261563: Received UDP payload: 5483
1335797261572: mux: GOT CSM_Msg
1335797261572: forwarding disabled, not forwarding packets
1335797261576: Received UDP payload: 989
1335797261578: mux: GOT CSM_Msg
1335797261578: forwarding disabled, not forwarding packets
1335797262713: inside HandlePictureStorage onPictureTaken()
1335797262713: one more takeCamGood: 10
1335797262714: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=10 takeCamGood=10 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=60% getNum=27 getGood=18 getBad=6 getTimedout=1 getPercent=66%
1335797262976: Picture successfully taken, ORIG BYTE LENGTH = 2753656
1335797263191: Our new height x width: 306 x 408
1335797263192: Show photo from handle my camera take
1335797263192: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335797263192: change local requestCounter to 73
1335797263213: BYTE SIZE AFTER COMPRESSION: 4171
1335797263220: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5005073 Client in region: 1 Client nodID: 5005
1335797262775: Received UDP payload: 5873
1335797262778: mux: Inside mux Packet.CLIENT_REQUEST
1335797263059: Received UDP payload: 5873
1335797263060: mux: Inside mux Packet.CLIENT_REQUEST
1335797263169: Received UDP payload: 446
1335797263170: mux: Inside Packet.SERVER_REPLY
1335797263170: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797263196: Received UDP payload: 989
1335797263200: mux: GOT CSM_Msg
1335797263200: forwarding disabled, not forwarding packets
1335797263281: ----------------------------
1335797263282: inside sendRequestPacketRepeatingRunnable for requestCount = 5005073
1335797263282: I'm a leader, my requesting photos packet going to mux directly
1335797263293: --- Finished one round of sending REQUEST Packet ---------
1335797263227: Received UDP payload: 4545
1335797263228: mux: Inside mux Packet.CLIENT_REQUEST
1335797263228: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797263228: inside handleClientRequest. Originator leader of region 1
1335797263229: got new request, requestCounter = 5006109
1335797263229: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797263229: Sending PROC_REQUEST 10:39 (1,0)->(1,0)
1335797263229: Dispatching Atom PROC_REQUEST 10:39 (1,0)->(1,0)
1335797263230: mux: I got a CSM packet at a leader 

1335797263294: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797263295: I'm a leader and I successfully saved my client's new photo
1335797263296: now showing in UI the new photo I just saved ... 
1335797263296: the photo length: 3898
1335797263348: end of server show photo aside %%%%%%%%%
1335797263230: Note down new request by adding requestCounter=5006109 to HashMap processedRequests
1335797263230: Make FirstLeg Ack regardless of new or already-processed requests
1335797263230: The leader sending a First Leg ack to originator client (which id = 5006)
1335797263230: inside sendPacket(Packet p)
1335797263236: Sending UDP payload: 4909
1335797263242: removed replies before id 39 from sentReplies of size 0
1335797263242: inside handleDSMRequest. At requests's remote leader of region 1
1335797263245: Inside UPLOAD_PHOTO!!
1335797263248: my_gpinfo.isSuccess is now (should be true): true
1335797263249: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797263250: Received PROC_REQUEST 10:39 (1,0)->(1,0), replying PROC_REPLY 10:39 (1,0)->(1,0)
1335797263260: Dispatching Atom PROC_REPLY 10:39 (1,0)->(1,0)
1335797263262: mux: I got a CSM packet at a leader 

1335797263261: Sending UDP payload: 446
1335797263263: Sending UDP payload: 989
1335797263264: Received PROC_REPLY 10:39 (1,0)->(1,0), handing to UserApp
1335797263265: inside handleDSMReply. Now back in originator leader of region 1
1335797263265: DSM layer: Going to and from remote region took latency = 36
1335797263265: DSM layer: orig leader sent packet at 1335797263229 ~ received reply from remote leader at 1335797263265
1335797263266: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797263266: change leader replyCounter to: 35
1335797263266: reply packet contains the success info for UPLOAD_PHOTO
1335797263266: inside sendReplies of replyCount = 500500035
1335797263267: =======================
1335797263267: inside sendReplyRepeatingRunnable for replyCount = 500500035
1335797263267: Leader about to send REPLY packet, number: 500500035 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335797263267: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797263267: inside sendPacket(Packet p)
1335797263267: === Finished one round of sending REPLY Packet =======
1335797263269: Sending UDP payload: 642
1335797263282: mux: Inside mux Packet.CLIENT_REQUEST
1335797263282: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797263380: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797263282: inside handleClientRequest. Originator leader of region 1
1335797263283: got new request, requestCounter = 5005073
1335797263283: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797263283: Sending PROC_REQUEST 10:40 (1,0)->(1,0)
1335797263283: Dispatching Atom PROC_REQUEST 10:40 (1,0)->(1,0)
1335797263284: mux: I got a CSM packet at a leader 

1335797263381: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797263386: I'm a leader and I successfully saved my client's new photo
1335797263387: now showing in UI the new photo I just saved ... 
1335797263387: the photo length: 4171
1335797263446: end of server show photo aside %%%%%%%%%
1335797263284: Note down new request by adding requestCounter=5005073 to HashMap processedRequests
1335797263284: Make FirstLeg Ack regardless of new or already-processed requests
1335797263284: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797263285: Sending UDP payload: 5182
1335797263286: removed replies before id 40 from sentReplies of size 0
1335797263287: inside handleDSMRequest. At requests's remote leader of region 1
1335797263287: Inside UPLOAD_PHOTO!!
1335797263289: my_gpinfo.isSuccess is now (should be true): true
1335797263289: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797263291: Received PROC_REQUEST 10:40 (1,0)->(1,0), replying PROC_REPLY 10:40 (1,0)->(1,0)
1335797263291: Dispatching Atom PROC_REPLY 10:40 (1,0)->(1,0)
1335797263292: mux: I got a CSM packet at a leader 

1335797263447: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335797263448: disabling progressdialog due to successful new photo upload
1335797263448: Inside _enableButtons
1335797263448: areButtonsEnabled --> true
1335797263449: send final leg ack regardless of new or already-processed reply
1335797263449: inside finalLegAck: change requestCounter to 74
1335797263449: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005074 Client in region: (1,0) Client nodID: 5005
1335797263450: I'm a leader client, my final_leg packet going to mux directly
1335797263452: cupa discarding repeated replyCounter=500500036, but still sent an ack back
1335797263293: Sending UDP payload: 989
1335797263337: Received PROC_REPLY 10:40 (1,0)->(1,0), handing to UserApp
1335797263338: inside handleDSMReply. Now back in originator leader of region 1
1335797263338: DSM layer: Going to and from remote region took latency = 55
1335797263338: DSM layer: orig leader sent packet at 1335797263283 ~ received reply from remote leader at 1335797263338
1335797263340: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797263341: change leader replyCounter to: 36
1335797263341: reply packet contains the success info for UPLOAD_PHOTO
1335797263342: inside sendReplies of replyCount = 500500036
1335797263342: =======================
1335797263342: inside sendReplyRepeatingRunnable for replyCount = 500500036
1335797263342: Leader about to send REPLY packet, number: 500500036 type: 16 Leader in region: (1,0) to Client nodID: 5005
1335797263342: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797263342: === Finished one round of sending REPLY Packet =======
1335797263433: Received UDP payload: 642
1335797263438: mux: Inside Packet.SERVER_REPLY
1335797263438: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797263439: Received UDP payload: 446
1335797263440: mux: Inside Packet.SERVER_REPLY
1335797263440: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797263450: mux: Inside mux Packet.CLIENT_REQUEST
1335797263450: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797263450: inside handleClientRequest. Originator leader of region 1
1335797263450: got new request, requestCounter = 5005074
1335797263450: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500036
1335797263451: Yay the last leg succeeded. Removing reply runnables ...
1335797263451: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500036
1335797263451: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500036
1335797263451: do not send ack for received final_leg_ack
1335797263458: Received UDP payload: 446
1335797263460: mux: Inside mux Packet.CLIENT_REQUEST
1335797263568: =======================
1335797263568: inside sendReplyRepeatingRunnable for replyCount = 500500035
1335797263568: Leader about to send REPLY packet, number: 500500035 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335797263568: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797263568: inside sendPacket(Packet p)
1335797263568: === Finished one round of sending REPLY Packet =======
1335797263573: Sending UDP payload: 642
1335797263719: inside sendPacket(Packet p)
1335797263720: Sending UDP payload: 446
1335797263840: Received UDP payload: 4545
1335797263842: mux: Inside mux Packet.CLIENT_REQUEST
1335797263842: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797263842: inside handleClientRequest. Originator leader of region 1
1335797263842: discarding repeated requestCounter=5006109, but still send an ack back
1335797263842: Note down new request by adding requestCounter=5006109 to HashMap processedRequests
1335797263842: Make FirstLeg Ack regardless of new or already-processed requests
1335797263843: The leader sending a First Leg ack to originator client (which id = 5006)
1335797263843: inside sendPacket(Packet p)
1335797263843: Sending UDP payload: 446
1335797263868: =======================
1335797263868: inside sendReplyRepeatingRunnable for replyCount = 500500035
1335797263868: Leader about to send REPLY packet, number: 500500035 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335797263869: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797263869: inside sendPacket(Packet p)
1335797263869: === Finished one round of sending REPLY Packet =======
1335797263870: Sending UDP payload: 642
1335797264169: =======================
1335797264169: inside sendReplyRepeatingRunnable for replyCount = 500500035
1335797264170: Leader about to send REPLY packet, number: 500500035 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335797264170: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797264170: inside sendPacket(Packet p)
1335797264171: === Finished one round of sending REPLY Packet =======
1335797264172: Sending UDP payload: 642
1335797264187: Received UDP payload: 4545
1335797264190: mux: Inside mux Packet.CLIENT_REQUEST
1335797264190: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797264191: inside handleClientRequest. Originator leader of region 1
1335797264191: discarding repeated requestCounter=5006109, but still send an ack back
1335797264191: Note down new request by adding requestCounter=5006109 to HashMap processedRequests
1335797264191: Make FirstLeg Ack regardless of new or already-processed requests
1335797264192: The leader sending a First Leg ack to originator client (which id = 5006)
1335797264192: inside sendPacket(Packet p)
1335797264193: Sending UDP payload: 446
1335797264242: Received UDP payload: 625
1335797264244: mux: Inside mux Packet.CLIENT_REQUEST
1335797264245: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797264245: inside handleClientRequest. Originator leader of region 1
1335797264245: got new request, requestCounter = 5009122
1335797264245: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797264249: Sending to region: 1
1335797264250: Sending PROC_REQUEST 11:41 (1,0)->(1,0)
1335797264251: Dispatching Atom PROC_REQUEST 11:41 (1,0)->(1,0)
1335797264252: mux: I got a CSM packet at a leader 

1335797264251: Note down new request by adding requestCounter=5009122 to HashMap processedRequests
1335797264251: Make FirstLeg Ack regardless of new or already-processed requests
1335797264251: The leader sending a First Leg ack to originator client (which id = 5009)
1335797264251: inside sendPacket(Packet p)
1335797264266: Sending UDP payload: 989
1335797264267: inside sendReplyTimeoutR
1335797264268: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500035
1335797264268: removed replies before id 41 from sentReplies of size 0
1335797264268: inside handleDSMRequest. At requests's remote leader of region 1
1335797264269: INSIDE SERVER_GET_PHOTO!!!
1335797264273: dst_region == src_region = 1
1335797264273:  1 self to self atomRequest
1335797264283: Received PROC_REQUEST 11:41 (1,0)->(1,0), replying PROC_REPLY 11:41 (1,0)->(1,0)
1335797264283: Dispatching Atom PROC_REPLY 11:41 (1,0)->(1,0)
1335797264286: mux: I got a CSM packet at a leader 

1335797264285: Sending UDP payload: 446
1335797264288: Sending UDP payload: 5182
1335797264296: Received PROC_REPLY 11:41 (1,0)->(1,0), handing to UserApp
1335797264296: inside handleDSMReply. Now back in originator leader of region 1
1335797264296: DSM layer: Going to and from remote region took latency = 46
1335797264297: DSM layer: orig leader sent packet at 1335797264250 ~ received reply from remote leader at 1335797264296
1335797264299: Originator Region=1's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797264299: change leader replyCounter to: 37
1335797264299: reply packet contains the newest photo/success info from the remote region
1335797264304: inside sendReplies of replyCount = 500500037
1335797264305: =======================
1335797264305: inside sendReplyRepeatingRunnable for replyCount = 500500037
1335797264305: Leader about to send REPLY packet, number: 500500037 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797264305: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797264306: inside sendPacket(Packet p)
1335797264306: === Finished one round of sending REPLY Packet =======
1335797264308: Sending UDP payload: 4835
1335797264532: Received UDP payload: 625
1335797264535: mux: Inside mux Packet.CLIENT_REQUEST
1335797264535: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797264536: inside handleClientRequest. Originator leader of region 1
1335797264536: discarding repeated requestCounter=5009122, but still send an ack back
1335797264536: Note down new request by adding requestCounter=5009122 to HashMap processedRequests
1335797264536: Make FirstLeg Ack regardless of new or already-processed requests
1335797264537: The leader sending a First Leg ack to originator client (which id = 5009)
1335797264537: inside sendPacket(Packet p)
1335797264538: Sending UDP payload: 446
1335797264606: =======================
1335797264607: inside sendReplyRepeatingRunnable for replyCount = 500500037
1335797264607: Leader about to send REPLY packet, number: 500500037 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797264607: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797264607: inside sendPacket(Packet p)
1335797264608: === Finished one round of sending REPLY Packet =======
1335797264609: Sending UDP payload: 4835
1335797264640: Received UDP payload: 625
1335797264643: mux: Inside mux Packet.CLIENT_REQUEST
1335797264668: Received UDP payload: 989
1335797264671: mux: GOT CSM_Msg
1335797264671: removed replies before id 7 from sentReplies of size 1
1335797264672: inside handleDSMRequest. At requests's remote leader of region 1
1335797264672: INSIDE SERVER_GET_PHOTO!!!
1335797264673: Received PROC_REQUEST 11:7 (3,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(3,0)
1335797264674: Dispatching Atom PROC_REPLY 11:7 (1,0)->(3,0)
1335797264675: mux: I got a CSM packet at a leader 

1335797264676: Sending UDP payload: 5182
1335797264676: forwarding disabled, not forwarding packets
1335797264908: =======================
1335797264909: inside sendReplyRepeatingRunnable for replyCount = 500500037
1335797264909: Leader about to send REPLY packet, number: 500500037 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797264909: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797264909: inside sendPacket(Packet p)
1335797264909: === Finished one round of sending REPLY Packet =======
1335797264910: Sending UDP payload: 4835
1335797264989: Received UDP payload: 625
1335797264990: mux: Inside mux Packet.CLIENT_REQUEST
1335797264990: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797264990: inside handleClientRequest. Originator leader of region 1
1335797264991: discarding repeated requestCounter=5009122, but still send an ack back
1335797264991: Note down new request by adding requestCounter=5009122 to HashMap processedRequests
1335797264991: Make FirstLeg Ack regardless of new or already-processed requests
1335797264991: The leader sending a First Leg ack to originator client (which id = 5009)
1335797264991: inside sendPacket(Packet p)
1335797264992: Sending UDP payload: 446
1335797265038: Received UDP payload: 625
1335797265040: mux: Inside mux Packet.CLIENT_REQUEST
1335797265116: Received UDP payload: 625
1335797265117: mux: Inside mux Packet.CLIENT_REQUEST
1335797265118: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797265118: inside handleClientRequest. Originator leader of region 1
1335797265118: discarding repeated requestCounter=5009122, but still send an ack back
1335797265118: Note down new request by adding requestCounter=5009122 to HashMap processedRequests
1335797265118: Make FirstLeg Ack regardless of new or already-processed requests
1335797265118: The leader sending a First Leg ack to originator client (which id = 5009)
1335797265118: inside sendPacket(Packet p)
1335797265119: Sending UDP payload: 446
1335797265209: =======================
1335797265210: inside sendReplyRepeatingRunnable for replyCount = 500500037
1335797265210: Leader about to send REPLY packet, number: 500500037 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797265210: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797265211: inside sendPacket(Packet p)
1335797265211: === Finished one round of sending REPLY Packet =======
1335797265212: Sending UDP payload: 4835
1335797265237: Received UDP payload: 446
1335797265240: mux: Inside mux Packet.CLIENT_REQUEST
1335797265240: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797265240: inside handleClientRequest. Originator leader of region 1
1335797265241: got new request, requestCounter = 5006112
1335797265241: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500035
1335797265241: Yay the last leg succeeded. Removing reply runnables ...
1335797265241: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500035
1335797265242: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500035
1335797265242: do not send ack for received final_leg_ack
1335797265306: inside sendReplyTimeoutR
1335797265307: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500037
1335797265442: Received UDP payload: 625
1335797265445: mux: Inside mux Packet.CLIENT_REQUEST
1335797265507: Received UDP payload: 446
1335797265562: Received UDP payload: 989
1335797265565: mux: GOT CSM_Msg
1335797265566: removed replies before id 7 from sentReplies of size 2
1335797265566: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(3,0)
1335797265567: Dispatching Atom PROC_REPLY 11:7 (1,0)->(3,0)
1335797265567: mux: I got a CSM packet at a leader 

1335797265568: Sending UDP payload: 5182
1335797265569: forwarding disabled, not forwarding packets
1335797265614: Received UDP payload: 446
1335797265616: mux: Inside mux Packet.CLIENT_REQUEST
1335797265616: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797265616: inside handleClientRequest. Originator leader of region 1
1335797265617: got new request, requestCounter = 5009123
1335797265617: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500037
1335797265617: Yay the last leg succeeded. Removing reply runnables ...
1335797265617: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500037
1335797265617: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500037
1335797265617: do not send ack for received final_leg_ack
1335797265705: Received UDP payload: 989
1335797265708: mux: GOT CSM_Msg
1335797265708: removed replies before id 7 from sentReplies of size 2
1335797265709: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(3,0)
1335797265709: Dispatching Atom PROC_REPLY 11:7 (1,0)->(3,0)
1335797265710: mux: I got a CSM packet at a leader 

1335797265712: Sending UDP payload: 5182
1335797265712: forwarding disabled, not forwarding packets
1335797265713: Received UDP payload: 446
1335797265715: mux: Inside mux Packet.CLIENT_REQUEST
1335797265715: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797265716: inside handleClientRequest. Originator leader of region 1
1335797265716: got new request, requestCounter = 5009124
1335797265716: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500037
1335797265716: Yay the last leg succeeded. Removing reply runnables ...
1335797265716: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500037
1335797265717: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500037
1335797265717: do not send ack for received final_leg_ack
1335797265764: Received UDP payload: 989
1335797265767: mux: GOT CSM_Msg
1335797265767: removed replies before id 7 from sentReplies of size 2
1335797265768: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(3,0)
1335797265769: Dispatching Atom PROC_REPLY 11:7 (1,0)->(3,0)
1335797265769: mux: I got a CSM packet at a leader 

1335797265770: Sending UDP payload: 5182
1335797265771: forwarding disabled, not forwarding packets
1335797265959: Received UDP payload: 446
1335797265963: mux: Inside mux Packet.CLIENT_REQUEST
1335797265963: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797265964: inside handleClientRequest. Originator leader of region 1
1335797265964: got new request, requestCounter = 5009125
1335797265965: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500037
1335797265965: Yay the last leg succeeded. Removing reply runnables ...
1335797265965: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500037
1335797265966: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500037
1335797265966: do not send ack for received final_leg_ack
1335797266027: Received UDP payload: 989
1335797266037: mux: GOT CSM_Msg
1335797266037: removed replies before id 7 from sentReplies of size 2
1335797266039: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(3,0)
1335797266040: Dispatching Atom PROC_REPLY 11:7 (1,0)->(3,0)
1335797266041: mux: I got a CSM packet at a leader 

1335797266044: Sending UDP payload: 5182
1335797266055: forwarding disabled, not forwarding packets
1335797266092: Received UDP payload: 989
1335797266095: mux: GOT CSM_Msg
1335797266095: removed replies before id 7 from sentReplies of size 2
1335797266095: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(3,0)
1335797266095: Dispatching Atom PROC_REPLY 11:7 (1,0)->(3,0)
1335797266096: mux: I got a CSM packet at a leader 

1335797266097: Sending UDP payload: 5182
1335797266098: forwarding disabled, not forwarding packets
1335797266145: Received UDP payload: 446
1335797266147: mux: Inside mux Packet.CLIENT_REQUEST
1335797266147: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797266147: inside handleClientRequest. Originator leader of region 1
1335797266147: got new request, requestCounter = 5009126
1335797266147: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500037
1335797266147: Yay the last leg succeeded. Removing reply runnables ...
1335797266147: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500037
1335797266147: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500037
1335797266147: do not send ack for received final_leg_ack
1335797266176: Received UDP payload: 989
1335797266178: mux: GOT CSM_Msg
1335797266178: removed replies before id 7 from sentReplies of size 2
1335797266179: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(3,0)
1335797266179: Dispatching Atom PROC_REPLY 11:7 (1,0)->(3,0)
1335797266179: mux: I got a CSM packet at a leader 

1335797266180: Sending UDP payload: 5182
1335797266181: forwarding disabled, not forwarding packets
1335797266269: Received UDP payload: 989
1335797266271: mux: GOT CSM_Msg
1335797266272: removed replies before id 7 from sentReplies of size 2
1335797266272: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(3,0)
1335797266272: Dispatching Atom PROC_REPLY 11:7 (1,0)->(3,0)
1335797266272: mux: I got a CSM packet at a leader 

1335797266273: Sending UDP payload: 5182
1335797266283: forwarding disabled, not forwarding packets
1335797266930: Received UDP payload: 625
1335797266935: mux: Inside mux Packet.CLIENT_REQUEST
1335797266961: Received UDP payload: 446
1335797267141: Received UDP payload: 989
1335797267148: mux: GOT CSM_Msg
1335797267148: forwarding disabled, not forwarding packets
1335797267158: Received UDP payload: 446
1335797267162: mux: Inside Packet.SERVER_REPLY
1335797267162: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797267176: Received UDP payload: 446
1335797267180: mux: Inside Packet.SERVER_REPLY
1335797267180: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797267186: Received UDP payload: 989
1335797267188: mux: GOT CSM_Msg
1335797267189: forwarding disabled, not forwarding packets
1335797267242: Received UDP payload: 446
1335797267243: mux: Inside Packet.SERVER_REPLY
1335797267243: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797267266: Received UDP payload: 5483
1335797267268: mux: GOT CSM_Msg
1335797267268: forwarding disabled, not forwarding packets
1335797267342: Received UDP payload: 989
1335797267345: mux: GOT CSM_Msg
1335797267345: forwarding disabled, not forwarding packets
1335797267358: Received UDP payload: 5483
1335797267361: mux: GOT CSM_Msg
1335797267361: forwarding disabled, not forwarding packets
1335797267370: Received UDP payload: 989
1335797267372: mux: GOT CSM_Msg
1335797267372: forwarding disabled, not forwarding packets
1335797267430: Received UDP payload: 989
1335797267433: mux: GOT CSM_Msg
1335797267433: forwarding disabled, not forwarding packets
1335797267515: Received UDP payload: 989
1335797267517: mux: GOT CSM_Msg
1335797267518: forwarding disabled, not forwarding packets
1335797267528: Received UDP payload: 5483
1335797267531: mux: GOT CSM_Msg
1335797267531: forwarding disabled, not forwarding packets
1335797267557: Received UDP payload: 7000
1335797267559: mux: Inside mux Packet.CLIENT_REQUEST
1335797267591: Received UDP payload: 989
1335797267593: mux: GOT CSM_Msg
1335797267593: forwarding disabled, not forwarding packets
1335797267633: Received UDP payload: 989
1335797267635: mux: GOT CSM_Msg
1335797267635: forwarding disabled, not forwarding packets
1335797267699: Received UDP payload: 5483
1335797267701: mux: GOT CSM_Msg
1335797267701: forwarding disabled, not forwarding packets
1335797267899: Received UDP payload: 446
1335797267903: mux: Inside Packet.SERVER_REPLY
1335797267903: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797268137: Received UDP payload: 989
1335797268146: mux: GOT CSM_Msg
1335797268146: forwarding disabled, not forwarding packets
1335797268168: Received UDP payload: 642
1335797268173: mux: Inside Packet.SERVER_REPLY
1335797268173: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797268173: Received UDP payload: 642
1335797268178: mux: Inside Packet.SERVER_REPLY
1335797268179: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797268241: Received UDP payload: 989
1335797268243: mux: GOT CSM_Msg
1335797268243: forwarding disabled, not forwarding packets
1335797268279: Received UDP payload: 642
1335797268280: mux: Inside Packet.SERVER_REPLY
1335797268281: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797268290: Received UDP payload: 989
1335797268293: mux: GOT CSM_Msg
1335797268293: forwarding disabled, not forwarding packets
1335797268351: Received UDP payload: 989
1335797268353: mux: GOT CSM_Msg
1335797268353: forwarding disabled, not forwarding packets
1335797268387: Received UDP payload: 989
1335797268389: mux: GOT CSM_Msg
1335797268390: forwarding disabled, not forwarding packets
1335797268477: Received UDP payload: 446
1335797268478: mux: Inside Packet.SERVER_REPLY
1335797268478: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797268498: Received UDP payload: 446
1335797268500: mux: Inside mux Packet.CLIENT_REQUEST
1335797268533: Received UDP payload: 642
1335797268535: mux: Inside Packet.SERVER_REPLY
1335797268535: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797268555: Received UDP payload: 446
1335797268609: Received UDP payload: 642
1335797268610: mux: Inside Packet.SERVER_REPLY
1335797268611: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797268616: Received UDP payload: 642
1335797268618: mux: Inside Packet.SERVER_REPLY
1335797268618: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797268628: Received UDP payload: 446
1335797268630: mux: Inside mux Packet.CLIENT_REQUEST
1335797268641: Received UDP payload: 446
1335797268642: mux: Inside mux Packet.CLIENT_REQUEST
1335797268673: Received UDP payload: 446
1335797268675: mux: Inside mux Packet.CLIENT_REQUEST
1335797268719: inside sendPacket(Packet p)
1335797268720: Sending UDP payload: 446
1335797268764: Received UDP payload: 7000
1335797268766: mux: Inside mux Packet.CLIENT_REQUEST
1335797268860: Received UDP payload: 446
1335797268862: mux: Inside Packet.SERVER_REPLY
1335797268862: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797269177: Received UDP payload: 5737
1335797269181: mux: Inside mux Packet.CLIENT_REQUEST
1335797269374: Received UDP payload: 446
1335797269378: mux: Inside Packet.SERVER_REPLY
1335797269378: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797269420: Received UDP payload: 989
1335797269428: mux: GOT CSM_Msg
1335797269428: forwarding disabled, not forwarding packets
1335797269545: Received UDP payload: 446
1335797269551: mux: Inside mux Packet.CLIENT_REQUEST
1335797269626: Received UDP payload: 446
1335797269630: mux: Inside mux Packet.CLIENT_REQUEST
1335797270089: Received UDP payload: 446
1335797270130: Received UDP payload: 446
1335797270135: mux: Inside mux Packet.CLIENT_REQUEST
1335797270215: Received UDP payload: 446
1335797270219: mux: Inside mux Packet.CLIENT_REQUEST
1335797270276: Received UDP payload: 625
1335797270280: mux: Inside mux Packet.CLIENT_REQUEST
1335797270281: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797270281: inside handleClientRequest. Originator leader of region 1
1335797270282: got new request, requestCounter = 5006114
1335797270282: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797270284: Sending to region: 3
1335797270287: Sending PROC_REQUEST 11:19 (1,0)->(3,0)
1335797270288: Dispatching Atom PROC_REQUEST 11:19 (1,0)->(3,0)
1335797270297: mux: I got a CSM packet at a leader 

1335797270289: Note down new request by adding requestCounter=5006114 to HashMap processedRequests
1335797270289: Make FirstLeg Ack regardless of new or already-processed requests
1335797270289: The leader sending a First Leg ack to originator client (which id = 5006)
1335797270290: inside sendPacket(Packet p)
1335797270301: Sending UDP payload: 989
1335797270309: Received UDP payload: 625
1335797270319: mux: Inside mux Packet.CLIENT_REQUEST
1335797270319: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797270314: forwarding disabled, not forwarding packets
1335797270317: Sending UDP payload: 446
1335797270318: Received UDP payload: 625
1335797270319: inside handleClientRequest. Originator leader of region 1
1335797270320: discarding repeated requestCounter=5006114, but still send an ack back
1335797270320: Note down new request by adding requestCounter=5006114 to HashMap processedRequests
1335797270320: Make FirstLeg Ack regardless of new or already-processed requests
1335797270321: The leader sending a First Leg ack to originator client (which id = 5006)
1335797270321: inside sendPacket(Packet p)
1335797270324: Sending UDP payload: 446
1335797270343: mux: Inside mux Packet.CLIENT_REQUEST
1335797270343: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797270338: Received UDP payload: 625
1335797270346: mux: Inside mux Packet.CLIENT_REQUEST
1335797270346: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797270344: inside handleClientRequest. Originator leader of region 1
1335797270344: discarding repeated requestCounter=5006114, but still send an ack back
1335797270345: Note down new request by adding requestCounter=5006114 to HashMap processedRequests
1335797270345: Make FirstLeg Ack regardless of new or already-processed requests
1335797270345: The leader sending a First Leg ack to originator client (which id = 5006)
1335797270346: inside sendPacket(Packet p)
1335797270347: inside handleClientRequest. Originator leader of region 1
1335797270347: discarding repeated requestCounter=5006114, but still send an ack back
1335797270348: Note down new request by adding requestCounter=5006114 to HashMap processedRequests
1335797270348: Make FirstLeg Ack regardless of new or already-processed requests
1335797270348: The leader sending a First Leg ack to originator client (which id = 5006)
1335797270349: inside sendPacket(Packet p)
1335797270351: Sending UDP payload: 446
1335797270368: Sending UDP payload: 446
1335797270448: Received UDP payload: 6101
1335797270450: mux: GOT CSM_Msg
1335797270450: Received PROC_REPLY 11:19 (3,0)->(1,0), handing to UserApp
1335797270451: inside handleDSMReply. Now back in originator leader of region 1
1335797270451: DSM layer: Going to and from remote region took latency = 165
1335797270451: DSM layer: orig leader sent packet at 1335797270286 ~ received reply from remote leader at 1335797270451
1335797270452: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797270452: change leader replyCounter to: 38
1335797270452: reply packet contains the newest photo/success info from the remote region
1335797270452: inside sendReplies of replyCount = 500500038
1335797270454: =======================
1335797270454: inside sendReplyRepeatingRunnable for replyCount = 500500038
1335797270454: Leader about to send REPLY packet, number: 500500038 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797270454: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797270454: inside sendPacket(Packet p)
1335797270454: === Finished one round of sending REPLY Packet =======
1335797270456: Sending UDP payload: 5754
1335797270646: Received UDP payload: 446
1335797270647: mux: Inside mux Packet.CLIENT_REQUEST
1335797270648: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797270648: inside handleClientRequest. Originator leader of region 1
1335797270648: got new request, requestCounter = 5006115
1335797270648: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500038
1335797270648: Yay the last leg succeeded. Removing reply runnables ...
1335797270648: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500038
1335797270648: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500038
1335797270648: do not send ack for received final_leg_ack
1335797270961: Received UDP payload: 989
1335797270963: mux: GOT CSM_Msg
1335797270963: forwarding disabled, not forwarding packets
1335797271256: Received UDP payload: 446
1335797272603: Received UDP payload: 446
1335797273376: Received UDP payload: 989
1335797273383: mux: GOT CSM_Msg
1335797273384: forwarding disabled, not forwarding packets
1335797273720: inside sendPacket(Packet p)
1335797273722: Sending UDP payload: 446
1335797274948: Received UDP payload: 446
1335797276262: Received UDP payload: 446
1335797277559: Received UDP payload: 446
1335797278589: Received UDP payload: 625
1335797278593: mux: Inside mux Packet.CLIENT_REQUEST
1335797278638: Received UDP payload: 989
1335797278647: mux: GOT CSM_Msg
1335797278647: forwarding disabled, not forwarding packets
1335797278651: Received UDP payload: 446
1335797278652: mux: Inside Packet.SERVER_REPLY
1335797278652: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797278720: inside sendPacket(Packet p)
1335797278721: Sending UDP payload: 446
1335797279412: Received UDP payload: 989
1335797279426: mux: GOT CSM_Msg
1335797279426: forwarding disabled, not forwarding packets
1335797279530: Received UDP payload: 989
1335797279537: mux: GOT CSM_Msg
1335797279538: forwarding disabled, not forwarding packets
1335797279647: Received UDP payload: 5702
1335797279651: mux: Inside Packet.SERVER_REPLY
1335797279652: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797279687: Received UDP payload: 446
1335797279689: mux: Inside mux Packet.CLIENT_REQUEST
1335797279811: canPressButton = TRUE
1335797279811: areButtonsEnabled --> false
1335797279812: disabling buttons ...
1335797279812: took picture disableButtonsR
1335797279812: areButtonsEnabled --> false
1335797279838: one more takeNum: 11
1335797279839: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=10 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=54% getNum=27 getGood=18 getBad=6 getTimedout=1 getPercent=66%
1335797279839: Clicked take picture button ..
1335797279915: Received UDP payload: 446
1335797281214: inside HandlePictureStorage onPictureTaken()
1335797281214: one more takeCamGood: 11
1335797281215: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=54% getNum=27 getGood=18 getBad=6 getTimedout=1 getPercent=66%
1335797281477: Picture successfully taken, ORIG BYTE LENGTH = 3031092
1335797281728: Our new height x width: 306 x 408
1335797281729: Show photo from handle my camera take
1335797281729: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335797281729: change local requestCounter to 75
1335797281749: BYTE SIZE AFTER COMPRESSION: 4769
1335797281756: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5005075 Client in region: 1 Client nodID: 5005
1335797281257: Received UDP payload: 446
1335797281793: ----------------------------
1335797281793: inside sendRequestPacketRepeatingRunnable for requestCount = 5005075
1335797281793: I'm a leader, my requesting photos packet going to mux directly
1335797281804: --- Finished one round of sending REQUEST Packet ---------
1335797281794: mux: Inside mux Packet.CLIENT_REQUEST
1335797281794: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797281846: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797281794: inside handleClientRequest. Originator leader of region 1
1335797281794: got new request, requestCounter = 5005075
1335797281794: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797281795: Sending PROC_REQUEST 10:42 (1,0)->(1,0)
1335797281795: Dispatching Atom PROC_REQUEST 10:42 (1,0)->(1,0)
1335797281796: mux: I got a CSM packet at a leader 

1335797281847: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797281848: I'm a leader and I successfully saved my client's new photo
1335797281849: now showing in UI the new photo I just saved ... 
1335797281849: the photo length: 4769
1335797281904: end of server show photo aside %%%%%%%%%
1335797281795: Note down new request by adding requestCounter=5005075 to HashMap processedRequests
1335797281795: Make FirstLeg Ack regardless of new or already-processed requests
1335797281796: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797281803: Sending UDP payload: 5780
1335797281816: removed replies before id 42 from sentReplies of size 0
1335797281816: inside handleDSMRequest. At requests's remote leader of region 1
1335797281821: Inside UPLOAD_PHOTO!!
1335797281836: my_gpinfo.isSuccess is now (should be true): true
1335797281836: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797281837: Received PROC_REQUEST 10:42 (1,0)->(1,0), replying PROC_REPLY 10:42 (1,0)->(1,0)
1335797281837: Dispatching Atom PROC_REPLY 10:42 (1,0)->(1,0)
1335797281838: mux: I got a CSM packet at a leader 

1335797281906: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335797281906: disabling progressdialog due to successful new photo upload
1335797281906: Inside _enableButtons
1335797281907: areButtonsEnabled --> true
1335797281907: send final leg ack regardless of new or already-processed reply
1335797281907: inside finalLegAck: change requestCounter to 76
1335797281908: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005076 Client in region: (1,0) Client nodID: 5005
1335797281908: I'm a leader client, my final_leg packet going to mux directly
1335797281910: new client_upload_photo_ack reply with replyCounter 500500039
1335797281910: note down new reply by adding replyCounter=500500039 to HashMap processedReplies
1335797281911: leader upload new photo latency = 112
1335797281911: = leader upload start 1335797281794 ~ stop 1335797281906
1335797281914: one more takeGoodSave: 7
1335797281915: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=63% getNum=27 getGood=18 getBad=6 getTimedout=1 getPercent=66%
1335797281916: SUCCESS Client now knows saving photo on its leader succeeded
1335797281839: Sending UDP payload: 989
1335797281841: Received PROC_REPLY 10:42 (1,0)->(1,0), handing to UserApp
1335797281841: inside handleDSMReply. Now back in originator leader of region 1
1335797281841: DSM layer: Going to and from remote region took latency = 47
1335797281842: DSM layer: orig leader sent packet at 1335797281794 ~ received reply from remote leader at 1335797281841
1335797281842: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797281843: change leader replyCounter to: 39
1335797281843: reply packet contains the success info for UPLOAD_PHOTO
1335797281843: inside sendReplies of replyCount = 500500039
1335797281843: =======================
1335797281843: inside sendReplyRepeatingRunnable for replyCount = 500500039
1335797281843: Leader about to send REPLY packet, number: 500500039 type: 16 Leader in region: (1,0) to Client nodID: 5005
1335797281843: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797281844: === Finished one round of sending REPLY Packet =======
1335797281908: mux: Inside mux Packet.CLIENT_REQUEST
1335797281908: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797281909: inside handleClientRequest. Originator leader of region 1
1335797281909: got new request, requestCounter = 5005076
1335797281909: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500039
1335797281909: Yay the last leg succeeded. Removing reply runnables ...
1335797281909: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500039
1335797281909: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500039
1335797281909: do not send ack for received final_leg_ack
1335797282026: Received UDP payload: 625
1335797282034: mux: Inside mux Packet.CLIENT_REQUEST
1335797282045: Received UDP payload: 989
1335797282056: mux: GOT CSM_Msg
1335797282056: removed replies before id 8 from sentReplies of size 1
1335797282057: Received DUPLICATE PROC_REQUEST 11:8 (3,0)->(1,0), replying PROC_REPLY 11:8 (1,0)->(3,0)
1335797282057: Dispatching Atom PROC_REPLY 11:8 (1,0)->(3,0)
1335797282057: mux: I got a CSM packet at a leader 

1335797282062: Sending UDP payload: 6650
1335797282066: Received UDP payload: 446
1335797282067: mux: Inside Packet.SERVER_REPLY
1335797282068: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797282065: forwarding disabled, not forwarding packets
1335797282244: Received UDP payload: 6303
1335797282246: mux: Inside Packet.SERVER_REPLY
1335797282246: mux: I have the photo requester id = 5005 about to display photo or receive upload ack
1335797282247: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797282247: disabling progressdialog due to successful new photo get
1335797282247: Inside _enableButtons
1335797282247: areButtonsEnabled --> true
1335797282248: send final leg ack regardless of new or already-processed reply
1335797282248: inside finalLegAck: change requestCounter to 77
1335797282248: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005077 Client in region: (1,0) Client nodID: 5005
1335797282248: I'm a leader client, my final_leg packet going to mux directly
1335797282249: new client_show_remotephoto reply with replyCounter 502200010
1335797282249: note down new reply by adding replyCounter=502200010 to HashMap processedReplies
1335797282249: leader download remote photo latency = 453
1335797282249: = leader download start 1335797281794 ~ stop 1335797282247
1335797282253: one more getGood: 19
1335797282254: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=63% getNum=27 getGood=19 getBad=6 getTimedout=1 getPercent=70%
1335797282254: successful reply for client get photo
1335797282254: Success! Client getting photo from remote region, showing photo...
1335797282255: Remote photo's length: 5639
1335797282250: mux: Inside mux Packet.CLIENT_REQUEST
1335797282250: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797282250: inside handleClientRequest. Originator leader of region 1
1335797282250: got new request, requestCounter = 5005077
1335797282251: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200010
1335797282251: Yay the last leg succeeded. Removing reply runnables ...
1335797282251: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 502200010
1335797282251: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 502200010
1335797282251: do not send ack for received final_leg_ack
1335797282632: Received UDP payload: 6303
1335797282640: mux: Inside Packet.SERVER_REPLY
1335797282640: mux: I have the photo requester id = 5005 about to display photo or receive upload ack
1335797282641: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797282642: disabling progressdialog due to successful new photo get
1335797282642: Inside _enableButtons
1335797282643: areButtonsEnabled --> true
1335797282643: send final leg ack regardless of new or already-processed reply
1335797282643: inside finalLegAck: change requestCounter to 78
1335797282650: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005078 Client in region: (1,0) Client nodID: 5005
1335797282650: I'm a leader client, my final_leg packet going to mux directly
1335797282654: csn discarding repeated replyCounter=502200010, but still sent an ack back
1335797282651: mux: Inside mux Packet.CLIENT_REQUEST
1335797282651: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797282651: inside handleClientRequest. Originator leader of region 1
1335797282651: got new request, requestCounter = 5005078
1335797282652: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200010
1335797282652: Yay the last leg succeeded. Removing reply runnables ...
1335797282652: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 502200010
1335797282652: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 502200010
1335797282652: do not send ack for received final_leg_ack
1335797282852: Received UDP payload: 6303
1335797282855: mux: Inside Packet.SERVER_REPLY
1335797282856: mux: I have the photo requester id = 5005 about to display photo or receive upload ack
1335797282857: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797282857: disabling progressdialog due to successful new photo get
1335797282858: Inside _enableButtons
1335797282858: areButtonsEnabled --> true
1335797282858: send final leg ack regardless of new or already-processed reply
1335797282859: inside finalLegAck: change requestCounter to 79
1335797282859: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005079 Client in region: (1,0) Client nodID: 5005
1335797282860: I'm a leader client, my final_leg packet going to mux directly
1335797282863: csn discarding repeated replyCounter=502200010, but still sent an ack back
1335797282860: mux: Inside mux Packet.CLIENT_REQUEST
1335797282860: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797282861: inside handleClientRequest. Originator leader of region 1
1335797282861: got new request, requestCounter = 5005079
1335797282861: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200010
1335797282861: Yay the last leg succeeded. Removing reply runnables ...
1335797282862: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 502200010
1335797282862: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 502200010
1335797282862: do not send ack for received final_leg_ack
1335797282935: Received UDP payload: 446
1335797283194: Received UDP payload: 6303
1335797283200: mux: Inside Packet.SERVER_REPLY
1335797283200: mux: I have the photo requester id = 5005 about to display photo or receive upload ack
1335797283202: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797283203: disabling progressdialog due to successful new photo get
1335797283204: Inside _enableButtons
1335797283205: areButtonsEnabled --> true
1335797283206: send final leg ack regardless of new or already-processed reply
1335797283208: inside finalLegAck: change requestCounter to 80
1335797283209: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005080 Client in region: (1,0) Client nodID: 5005
1335797283209: I'm a leader client, my final_leg packet going to mux directly
1335797283214: csn discarding repeated replyCounter=502200010, but still sent an ack back
1335797283210: mux: Inside mux Packet.CLIENT_REQUEST
1335797283210: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797283211: inside handleClientRequest. Originator leader of region 1
1335797283211: got new request, requestCounter = 5005080
1335797283212: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200010
1335797283212: Yay the last leg succeeded. Removing reply runnables ...
1335797283212: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 502200010
1335797283213: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 502200010
1335797283213: do not send ack for received final_leg_ack
1335797283226: Received UDP payload: 4195
1335797283231: mux: Inside mux Packet.CLIENT_REQUEST
1335797283231: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797283231: inside handleClientRequest. Originator leader of region 1
1335797283232: got new request, requestCounter = 5006116
1335797283232: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797283233: Sending PROC_REQUEST 10:43 (1,0)->(1,0)
1335797283235: Dispatching Atom PROC_REQUEST 10:43 (1,0)->(1,0)
1335797283238: mux: I got a CSM packet at a leader 

1335797283312: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797283316: I'm a leader and I successfully saved my client's new photo
1335797283317: now showing in UI the new photo I just saved ... 
1335797283317: the photo length: 3548
1335797283360: end of server show photo aside %%%%%%%%%
1335797283236: Note down new request by adding requestCounter=5006116 to HashMap processedRequests
1335797283236: Make FirstLeg Ack regardless of new or already-processed requests
1335797283237: The leader sending a First Leg ack to originator client (which id = 5006)
1335797283237: inside sendPacket(Packet p)
1335797283286: Sending UDP payload: 4559
1335797283287: removed replies before id 43 from sentReplies of size 0
1335797283288: inside handleDSMRequest. At requests's remote leader of region 1
1335797283290: Inside UPLOAD_PHOTO!!
1335797283293: my_gpinfo.isSuccess is now (should be true): true
1335797283293: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797283303: Received PROC_REQUEST 10:43 (1,0)->(1,0), replying PROC_REPLY 10:43 (1,0)->(1,0)
1335797283303: Dispatching Atom PROC_REPLY 10:43 (1,0)->(1,0)
1335797283305: mux: I got a CSM packet at a leader 

1335797283304: Sending UDP payload: 446
1335797283306: Sending UDP payload: 989
1335797283307: Received PROC_REPLY 10:43 (1,0)->(1,0), handing to UserApp
1335797283307: inside handleDSMReply. Now back in originator leader of region 1
1335797283307: DSM layer: Going to and from remote region took latency = 74
1335797283307: DSM layer: orig leader sent packet at 1335797283233 ~ received reply from remote leader at 1335797283307
1335797283308: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797283308: change leader replyCounter to: 40
1335797283308: reply packet contains the success info for UPLOAD_PHOTO
1335797283308: inside sendReplies of replyCount = 500500040
1335797283309: =======================
1335797283309: inside sendReplyRepeatingRunnable for replyCount = 500500040
1335797283309: Leader about to send REPLY packet, number: 500500040 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335797283309: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797283309: inside sendPacket(Packet p)
1335797283309: === Finished one round of sending REPLY Packet =======
1335797283310: Sending UDP payload: 642
1335797283455: Received UDP payload: 446
1335797283456: mux: Inside mux Packet.CLIENT_REQUEST
1335797283456: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797283456: inside handleClientRequest. Originator leader of region 1
1335797283457: got new request, requestCounter = 5006117
1335797283457: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500040
1335797283457: Yay the last leg succeeded. Removing reply runnables ...
1335797283457: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500040
1335797283457: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500040
1335797283457: do not send ack for received final_leg_ack
1335797283721: inside sendPacket(Packet p)
1335797283721: Sending UDP payload: 446
1335797284099: Received UDP payload: 6444
1335797284101: mux: Inside mux Packet.CLIENT_REQUEST
1335797284101: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797284102: inside handleClientRequest. Originator leader of region 1
1335797284102: got new request, requestCounter = 5009127
1335797284102: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335797284103: Sending PROC_REQUEST 10:44 (1,0)->(1,0)
1335797284103: Dispatching Atom PROC_REQUEST 10:44 (1,0)->(1,0)
1335797284115: mux: I got a CSM packet at a leader 

1335797284138: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335797284139: I'm a leader and I successfully saved my client's new photo
1335797284140: now showing in UI the new photo I just saved ... 
1335797284140: the photo length: 5797
1335797284226: end of server show photo aside %%%%%%%%%
1335797284104: Note down new request by adding requestCounter=5009127 to HashMap processedRequests
1335797284104: Make FirstLeg Ack regardless of new or already-processed requests
1335797284114: The leader sending a First Leg ack to originator client (which id = 5009)
1335797284114: inside sendPacket(Packet p)
1335797284117: Sending UDP payload: 6808
1335797284120: removed replies before id 44 from sentReplies of size 0
1335797284120: inside handleDSMRequest. At requests's remote leader of region 1
1335797284121: Inside UPLOAD_PHOTO!!
1335797284123: my_gpinfo.isSuccess is now (should be true): true
1335797284123: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335797284131: Received PROC_REQUEST 10:44 (1,0)->(1,0), replying PROC_REPLY 10:44 (1,0)->(1,0)
1335797284132: Dispatching Atom PROC_REPLY 10:44 (1,0)->(1,0)
1335797284202: mux: I got a CSM packet at a leader 

1335797284133: Sending UDP payload: 446
1335797284204: Sending UDP payload: 989
1335797284207: Received PROC_REPLY 10:44 (1,0)->(1,0), handing to UserApp
1335797284207: inside handleDSMReply. Now back in originator leader of region 1
1335797284207: DSM layer: Going to and from remote region took latency = 105
1335797284207: DSM layer: orig leader sent packet at 1335797284102 ~ received reply from remote leader at 1335797284207
1335797284209: Originator Region=1's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797284209: change leader replyCounter to: 41
1335797284209: reply packet contains the success info for UPLOAD_PHOTO
1335797284209: inside sendReplies of replyCount = 500500041
1335797284210: =======================
1335797284210: inside sendReplyRepeatingRunnable for replyCount = 500500041
1335797284210: Leader about to send REPLY packet, number: 500500041 type: 16 Leader in region: (1,0) to Client nodID: 5009
1335797284210: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797284211: inside sendPacket(Packet p)
1335797284211: === Finished one round of sending REPLY Packet =======
1335797284213: Sending UDP payload: 642
1335797284297: Received UDP payload: 446
1335797284300: mux: Inside mux Packet.CLIENT_REQUEST
1335797284300: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797284300: inside handleClientRequest. Originator leader of region 1
1335797284301: got new request, requestCounter = 5009128
1335797284301: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500041
1335797284301: Yay the last leg succeeded. Removing reply runnables ...
1335797284301: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500041
1335797284302: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500041
1335797284302: do not send ack for received final_leg_ack
1335797284926: Received UDP payload: 446
1335797287562: Received UDP payload: 446
1335797287862: Received UDP payload: 989
1335797287877: mux: GOT CSM_Msg
1335797287877: forwarding disabled, not forwarding packets
1335797287958: Received UDP payload: 6345
1335797287961: mux: GOT CSM_Msg
1335797287961: forwarding disabled, not forwarding packets
1335797288075: Received UDP payload: 7222
1335797288079: mux: GOT CSM_Msg
1335797288079: forwarding disabled, not forwarding packets
1335797288172: Received UDP payload: 6875
1335797288174: mux: Inside Packet.SERVER_REPLY
1335797288174: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797288326: Received UDP payload: 6875
1335797288328: mux: Inside Packet.SERVER_REPLY
1335797288328: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797288361: Received UDP payload: 625
1335797288363: mux: Inside mux Packet.CLIENT_REQUEST
1335797288364: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797288364: inside handleClientRequest. Originator leader of region 1
1335797288364: got new request, requestCounter = 5009129
1335797288364: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797288365: Sending to region: 0
1335797288366: Sending PROC_REQUEST 11:14 (1,0)->(0,0)
1335797288366: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(0,0)
1335797288367: mux: I got a CSM packet at a leader 

1335797288366: Note down new request by adding requestCounter=5009129 to HashMap processedRequests
1335797288367: Make FirstLeg Ack regardless of new or already-processed requests
1335797288367: The leader sending a First Leg ack to originator client (which id = 5009)
1335797288367: inside sendPacket(Packet p)
1335797288369: Sending UDP payload: 989
1335797288370: forwarding disabled, not forwarding packets
1335797288371: Sending UDP payload: 446
1335797288721: inside sendPacket(Packet p)
1335797288723: Sending UDP payload: 446
1335797289038: Received UDP payload: 446
1335797289040: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1335797289120: inside sendPacket(Packet p)
1335797289121: Sending UDP payload: 36085
1335797289140: Retrying PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289141: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289141: mux: I got a CSM packet at a leader 

1335797289142: Sending UDP payload: 989
1335797289142: forwarding disabled, not forwarding packets
1335797289153: canPressButton = TRUE
1335797289153: areButtonsEnabled --> false 
1335797289153: get picture disableButtonsR
1335797289153: areButtonsEnabled --> false
1335797289179: one more getNum: 28
1335797289180: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=63% getNum=28 getGood=19 getBad=6 getTimedout=1 getPercent=67%
1335797289181: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335797289181: change local requestCounter to 81
1335797289182: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005081 Client in region: 1 Client nodID: 5005
1335797289232: ----------------------------
1335797289233: inside sendRequestPacketRepeatingRunnable for requestCount = 5005081
1335797289238: I'm a leader, my requesting photos packet going to mux directly
1335797289243: --- Finished one round of sending REQUEST Packet ---------
1335797289239: mux: Inside mux Packet.CLIENT_REQUEST
1335797289239: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797289297: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797289239: inside handleClientRequest. Originator leader of region 1
1335797289239: got new request, requestCounter = 5005081
1335797289239: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797289240: Sending to region: 1
1335797289240: Sending PROC_REQUEST 11:45 (1,0)->(1,0)
1335797289241: Dispatching Atom PROC_REQUEST 11:45 (1,0)->(1,0)
1335797289241: mux: I got a CSM packet at a leader 

1335797289241: Note down new request by adding requestCounter=5005081 to HashMap processedRequests
1335797289241: Make FirstLeg Ack regardless of new or already-processed requests
1335797289241: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797289242: Sending UDP payload: 989
1335797289243: Retrying PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289243: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289251: mux: I got a CSM packet at a leader 

1335797289248: removed replies before id 45 from sentReplies of size 0
1335797289249: inside handleDSMRequest. At requests's remote leader of region 1
1335797289249: INSIDE SERVER_GET_PHOTO!!!
1335797289250: dst_region == src_region = 1
1335797289250:  1 self to self atomRequest
1335797289251: Received PROC_REQUEST 11:45 (1,0)->(1,0), replying PROC_REPLY 11:45 (1,0)->(1,0)
1335797289251: Dispatching Atom PROC_REPLY 11:45 (1,0)->(1,0)
1335797289262: mux: I got a CSM packet at a leader 

1335797289301: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797289301: disabling progressdialog due to successful new photo get
1335797289301: Inside _enableButtons
1335797289301: areButtonsEnabled --> true
1335797289302: send final leg ack regardless of new or already-processed reply
1335797289302: inside finalLegAck: change requestCounter to 82
1335797289302: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005082 Client in region: (1,0) Client nodID: 5005
1335797289302: I'm a leader client, my final_leg packet going to mux directly
1335797289304: csn discarding repeated replyCounter=500500042, but still sent an ack back
1335797289252: Sending UDP payload: 989
1335797289262: forwarding disabled, not forwarding packets
1335797289263: Sending UDP payload: 6808
1335797289271: Received PROC_REPLY 11:45 (1,0)->(1,0), handing to UserApp
1335797289271: inside handleDSMReply. Now back in originator leader of region 1
1335797289271: DSM layer: Going to and from remote region took latency = 31
1335797289272: DSM layer: orig leader sent packet at 1335797289240 ~ received reply from remote leader at 1335797289271
1335797289272: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797289272: change leader replyCounter to: 42
1335797289273: reply packet contains the newest photo/success info from the remote region
1335797289273: inside sendReplies of replyCount = 500500042
1335797289273: =======================
1335797289273: inside sendReplyRepeatingRunnable for replyCount = 500500042
1335797289273: Leader about to send REPLY packet, number: 500500042 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797289273: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797289273: === Finished one round of sending REPLY Packet =======
1335797289302: mux: Inside mux Packet.CLIENT_REQUEST
1335797289303: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797289303: inside handleClientRequest. Originator leader of region 1
1335797289303: got new request, requestCounter = 5005082
1335797289303: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500042
1335797289303: Yay the last leg succeeded. Removing reply runnables ...
1335797289303: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500042
1335797289303: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500042
1335797289303: do not send ack for received final_leg_ack
1335797289344: Retrying PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289345: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289345: mux: I got a CSM packet at a leader 

1335797289347: Sending UDP payload: 989
1335797289348: forwarding disabled, not forwarding packets
1335797289445: Retrying PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289446: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289446: mux: I got a CSM packet at a leader 

1335797289447: Sending UDP payload: 989
1335797289447: forwarding disabled, not forwarding packets
1335797289546: Retrying PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289547: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289547: mux: I got a CSM packet at a leader 

1335797289548: Sending UDP payload: 989
1335797289549: forwarding disabled, not forwarding packets
1335797289647: Retrying PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289647: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289648: mux: I got a CSM packet at a leader 

1335797289649: Sending UDP payload: 989
1335797289650: forwarding disabled, not forwarding packets
1335797289680: Received UDP payload: 446
1335797289681: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1335797289696: inside sendPacket(Packet p)
1335797289697: Sending UDP payload: 41904
1335797289748: Retrying PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289748: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(0,0)
1335797289749: mux: I got a CSM packet at a leader 

1335797289750: Sending UDP payload: 989
1335797289750: forwarding disabled, not forwarding packets
1335797289807: Received UDP payload: 6979
1335797289809: mux: GOT CSM_Msg
1335797289809: Received PROC_REPLY 11:14 (0,0)->(1,0), handing to UserApp
1335797289809: inside handleDSMReply. Now back in originator leader of region 1
1335797289809: DSM layer: Going to and from remote region took latency = 569
1335797289809: DSM layer: orig leader sent packet at 1335797289240 ~ received reply from remote leader at 1335797289809
1335797289810: Originator Region=1's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797289810: change leader replyCounter to: 43
1335797289811: reply packet contains the newest photo/success info from the remote region
1335797289811: inside sendReplies of replyCount = 500500043
1335797289811: =======================
1335797289811: inside sendReplyRepeatingRunnable for replyCount = 500500043
1335797289811: Leader about to send REPLY packet, number: 500500043 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797289812: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797289812: inside sendPacket(Packet p)
1335797289812: === Finished one round of sending REPLY Packet =======
1335797289813: Sending UDP payload: 6632
1335797289847: Received UDP payload: 625
1335797289849: mux: Inside mux Packet.CLIENT_REQUEST
1335797289849: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797289849: inside handleClientRequest. Originator leader of region 1
1335797289849: got new request, requestCounter = 5006118
1335797289850: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797289850: Sending to region: 0
1335797289851: Sending PROC_REQUEST 11:15 (1,0)->(0,0)
1335797289851: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797289853: mux: I got a CSM packet at a leader 

1335797289851: Note down new request by adding requestCounter=5006118 to HashMap processedRequests
1335797289851: Make FirstLeg Ack regardless of new or already-processed requests
1335797289852: The leader sending a First Leg ack to originator client (which id = 5006)
1335797289852: inside sendPacket(Packet p)
1335797289855: Sending UDP payload: 989
1335797289855: forwarding disabled, not forwarding packets
1335797289856: Sending UDP payload: 446
1335797289917: Received UDP payload: 446
1335797289943: Received UDP payload: 446
1335797289945: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1335797289961: inside sendPacket(Packet p)
1335797289962: Sending UDP payload: 41904
1335797290113: =======================
1335797290113: inside sendReplyRepeatingRunnable for replyCount = 500500043
1335797290114: Leader about to send REPLY packet, number: 500500043 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797290115: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797290115: inside sendPacket(Packet p)
1335797290116: === Finished one round of sending REPLY Packet =======
1335797290119: Sending UDP payload: 6632
1335797290159: Received UDP payload: 625
1335797290165: mux: Inside mux Packet.CLIENT_REQUEST
1335797290166: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797290166: inside handleClientRequest. Originator leader of region 1
1335797290167: discarding repeated requestCounter=5006118, but still send an ack back
1335797290167: Note down new request by adding requestCounter=5006118 to HashMap processedRequests
1335797290168: Make FirstLeg Ack regardless of new or already-processed requests
1335797290168: The leader sending a First Leg ack to originator client (which id = 5006)
1335797290168: inside sendPacket(Packet p)
1335797290171: Sending UDP payload: 446
1335797290210: Received UDP payload: 6015
1335797290214: mux: Inside mux Packet.CLIENT_REQUEST
1335797290417: =======================
1335797290417: inside sendReplyRepeatingRunnable for replyCount = 500500043
1335797290417: Leader about to send REPLY packet, number: 500500043 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797290417: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797290417: inside sendPacket(Packet p)
1335797290417: === Finished one round of sending REPLY Packet =======
1335797290418: Sending UDP payload: 6632
1335797290564: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797290564: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797290565: mux: I got a CSM packet at a leader 

1335797290589: Sending UDP payload: 989
1335797290599: forwarding disabled, not forwarding packets
1335797290665: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797290666: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797290666: mux: I got a CSM packet at a leader 

1335797290668: Sending UDP payload: 989
1335797290670: forwarding disabled, not forwarding packets
1335797290717: =======================
1335797290718: inside sendReplyRepeatingRunnable for replyCount = 500500043
1335797290718: Leader about to send REPLY packet, number: 500500043 type: 15 Leader in region: (1,0) to Client nodID: 5009
1335797290718: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1335797290719: inside sendPacket(Packet p)
1335797290719: === Finished one round of sending REPLY Packet =======
1335797290721: Sending UDP payload: 6632
1335797290767: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797290767: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797290768: mux: I got a CSM packet at a leader 

1335797290770: Sending UDP payload: 989
1335797290771: forwarding disabled, not forwarding packets
1335797290812: inside sendReplyTimeoutR
1335797290812: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500043
1335797290868: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797290869: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797290869: mux: I got a CSM packet at a leader 

1335797290871: Sending UDP payload: 989
1335797290872: forwarding disabled, not forwarding packets
1335797290970: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797290970: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797290971: mux: I got a CSM packet at a leader 

1335797290977: Sending UDP payload: 989
1335797290978: forwarding disabled, not forwarding packets
1335797291072: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291072: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291073: mux: I got a CSM packet at a leader 

1335797291085: Sending UDP payload: 989
1335797291086: forwarding disabled, not forwarding packets
1335797291173: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291173: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291173: mux: I got a CSM packet at a leader 

1335797291175: Sending UDP payload: 989
1335797291175: forwarding disabled, not forwarding packets
1335797291274: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291275: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291275: mux: I got a CSM packet at a leader 

1335797291277: Sending UDP payload: 989
1335797291278: forwarding disabled, not forwarding packets
1335797291283: Received UDP payload: 446
1335797291289: mux: Inside Packet.SERVER_REPLY
1335797291290: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797291296: Received UDP payload: 989
1335797291305: mux: GOT CSM_Msg
1335797291305: forwarding disabled, not forwarding packets
1335797291319: Received UDP payload: 642
1335797291325: mux: Inside Packet.SERVER_REPLY
1335797291325: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797291338: Received UDP payload: 446
1335797291340: mux: Inside mux Packet.CLIENT_REQUEST
1335797291376: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291377: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291377: mux: I got a CSM packet at a leader 

1335797291378: Sending UDP payload: 989
1335797291378: forwarding disabled, not forwarding packets
1335797291477: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291478: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291478: mux: I got a CSM packet at a leader 

1335797291479: Sending UDP payload: 989
1335797291479: forwarding disabled, not forwarding packets
1335797291508: Received UDP payload: 446
1335797291510: mux: Inside mux Packet.CLIENT_REQUEST
1335797291510: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797291510: inside handleClientRequest. Originator leader of region 1
1335797291510: got new request, requestCounter = 5009130
1335797291510: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500043
1335797291511: Yay the last leg succeeded. Removing reply runnables ...
1335797291511: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500043
1335797291511: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500043
1335797291511: do not send ack for received final_leg_ack
1335797291579: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291579: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291580: mux: I got a CSM packet at a leader 

1335797291582: Sending UDP payload: 989
1335797291582: forwarding disabled, not forwarding packets
1335797291681: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291682: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291682: mux: I got a CSM packet at a leader 

1335797291684: Sending UDP payload: 989
1335797291685: forwarding disabled, not forwarding packets
1335797291783: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291783: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291784: mux: I got a CSM packet at a leader 

1335797291786: Sending UDP payload: 989
1335797291787: forwarding disabled, not forwarding packets
1335797291885: Retrying PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291885: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(0,0)
1335797291885: mux: I got a CSM packet at a leader 

1335797291889: Sending UDP payload: 989
1335797291894: forwarding disabled, not forwarding packets
1335797291987: DSM Layer: Request timed out, send failure PROC_REPLY 11:15 (0,0)->(1,0)
1335797291987: Dispatching Atom PROC_REPLY 11:15 (0,0)->(1,0)
1335797291989: mux: I got a CSM packet at a leader 

1335797291991: Sending UDP payload: 989
1335797291993: Received PROC_REPLY 11:15 (0,0)->(1,0), handing to UserApp
1335797291993: inside handleDSMReply. Now back in originator leader of region 1
1335797291993: DSM layer timed out, don't log dsm layer latency stuff.
1335797292002: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797292002: change leader replyCounter to: 44
1335797292003: reply packet contains the newest photo/success info from the remote region
1335797292003: inside sendReplies of replyCount = 500500044
1335797292004: =======================
1335797292004: inside sendReplyRepeatingRunnable for replyCount = 500500044
1335797292004: Leader about to send REPLY packet, number: 500500044 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797292005: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797292005: inside sendPacket(Packet p)
1335797292005: === Finished one round of sending REPLY Packet =======
1335797292007: Sending UDP payload: 642
1335797292189: Received UDP payload: 989
1335797292198: mux: GOT CSM_Msg
1335797292198: forwarding disabled, not forwarding packets
1335797292306: =======================
1335797292306: inside sendReplyRepeatingRunnable for replyCount = 500500044
1335797292307: Leader about to send REPLY packet, number: 500500044 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797292308: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797292309: inside sendPacket(Packet p)
1335797292310: === Finished one round of sending REPLY Packet =======
1335797292313: Sending UDP payload: 642
1335797292336: Received UDP payload: 642
1335797292341: mux: Inside Packet.SERVER_REPLY
1335797292341: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797292430: Received UDP payload: 446
1335797292432: mux: Inside mux Packet.CLIENT_REQUEST
1335797292504: Received UDP payload: 6979
1335797292510: mux: GOT CSM_Msg
1335797292510: Received DUPLICATE PROC_REPLY 11:14 (0,0)->(1,0)
1335797292530: Received UDP payload: 642
1335797292533: mux: Inside Packet.SERVER_REPLY
1335797292533: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797292611: =======================
1335797292611: inside sendReplyRepeatingRunnable for replyCount = 500500044
1335797292612: Leader about to send REPLY packet, number: 500500044 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797292613: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797292613: inside sendPacket(Packet p)
1335797292613: === Finished one round of sending REPLY Packet =======
1335797292614: Sending UDP payload: 642
1335797292693: Received UDP payload: 5924
1335797292698: mux: GOT CSM_Msg
1335797292699: Received DUPLICATE PROC_REPLY 11:15 (0,0)->(1,0)
1335797292703: Received UDP payload: 446
1335797292708: mux: Inside Packet.SERVER_REPLY
1335797292709: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797292709: Received UDP payload: 642
1335797292729: mux: Inside Packet.SERVER_REPLY
1335797292730: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797292762: Received UDP payload: 642
1335797292766: mux: Inside Packet.SERVER_REPLY
1335797292766: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797292809: Received UDP payload: 446
1335797292834: Received UDP payload: 446
1335797292836: mux: Inside mux Packet.CLIENT_REQUEST
1335797292855: Received UDP payload: 989
1335797292859: mux: GOT CSM_Msg
1335797292859: forwarding disabled, not forwarding packets
1335797292913: =======================
1335797292913: inside sendReplyRepeatingRunnable for replyCount = 500500044
1335797292914: Leader about to send REPLY packet, number: 500500044 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797292914: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797292914: inside sendPacket(Packet p)
1335797292914: === Finished one round of sending REPLY Packet =======
1335797292916: Sending UDP payload: 642
1335797293003: inside sendReplyTimeoutR
1335797293003: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500044
1335797293288: Received UDP payload: 446
1335797293292: mux: Inside mux Packet.CLIENT_REQUEST
1335797293686: Received UDP payload: 446
1335797293690: mux: Inside mux Packet.CLIENT_REQUEST
1335797293690: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797293691: inside handleClientRequest. Originator leader of region 1
1335797293691: got new request, requestCounter = 5006119
1335797293691: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500044
1335797293692: Yay the last leg succeeded. Removing reply runnables ...
1335797293692: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500044
1335797293692: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500044
1335797293693: do not send ack for received final_leg_ack
1335797293722: inside sendPacket(Packet p)
1335797293725: Sending UDP payload: 446
1335797294262: canPressButton = TRUE
1335797294262: areButtonsEnabled --> false 
1335797294262: get picture disableButtonsR
1335797294263: areButtonsEnabled --> false
1335797294276: one more getNum: 29
1335797294276: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=63% getNum=29 getGood=19 getBad=6 getTimedout=1 getPercent=65%
1335797294277: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335797294277: change local requestCounter to 83
1335797294279: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005083 Client in region: 1 Client nodID: 5005
1335797294329: ----------------------------
1335797294329: inside sendRequestPacketRepeatingRunnable for requestCount = 5005083
1335797294330: I'm a leader, my requesting photos packet going to mux directly
1335797294341: --- Finished one round of sending REQUEST Packet ---------
1335797294298: Received UDP payload: 446
1335797294300: mux: Inside mux Packet.CLIENT_REQUEST
1335797294300: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797294299: Received UDP payload: 446
1335797294301: mux: Inside mux Packet.CLIENT_REQUEST
1335797294301: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797294300: inside handleClientRequest. Originator leader of region 1
1335797294301: got new request, requestCounter = 5006120
1335797294301: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500044
1335797294301: Yay the last leg succeeded. Removing reply runnables ...
1335797294301: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500044
1335797294301: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500044
1335797294301: do not send ack for received final_leg_ack
1335797294301: inside handleClientRequest. Originator leader of region 1
1335797294301: got new request, requestCounter = 5006121
1335797294302: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500044
1335797294302: Yay the last leg succeeded. Removing reply runnables ...
1335797294302: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500044
1335797294302: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500044
1335797294302: do not send ack for received final_leg_ack
1335797294306: Received UDP payload: 446
1335797294310: mux: Inside mux Packet.CLIENT_REQUEST
1335797294310: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797294310: inside handleClientRequest. Originator leader of region 1
1335797294310: got new request, requestCounter = 5006122
1335797294310: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500044
1335797294310: Yay the last leg succeeded. Removing reply runnables ...
1335797294311: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500044
1335797294311: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500044
1335797294311: do not send ack for received final_leg_ack
1335797294330: mux: Inside mux Packet.CLIENT_REQUEST
1335797294330: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797294400: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797294330: inside handleClientRequest. Originator leader of region 1
1335797294331: got new request, requestCounter = 5005083
1335797294331: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797294332: Sending to region: 1
1335797294332: Sending PROC_REQUEST 11:46 (1,0)->(1,0)
1335797294333: Dispatching Atom PROC_REQUEST 11:46 (1,0)->(1,0)
1335797294334: mux: I got a CSM packet at a leader 

1335797294333: Note down new request by adding requestCounter=5005083 to HashMap processedRequests
1335797294333: Make FirstLeg Ack regardless of new or already-processed requests
1335797294333: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797294336: Sending UDP payload: 989
1335797294337: removed replies before id 46 from sentReplies of size 0
1335797294337: inside handleDSMRequest. At requests's remote leader of region 1
1335797294338: INSIDE SERVER_GET_PHOTO!!!
1335797294350: dst_region == src_region = 1
1335797294350:  1 self to self atomRequest
1335797294351: Received PROC_REQUEST 11:46 (1,0)->(1,0), replying PROC_REPLY 11:46 (1,0)->(1,0)
1335797294351: Dispatching Atom PROC_REPLY 11:46 (1,0)->(1,0)
1335797294352: mux: I got a CSM packet at a leader 

1335797294353: Sending UDP payload: 6808
1335797294375: Received PROC_REPLY 11:46 (1,0)->(1,0), handing to UserApp
1335797294375: inside handleDSMReply. Now back in originator leader of region 1
1335797294375: DSM layer: Going to and from remote region took latency = 43
1335797294375: DSM layer: orig leader sent packet at 1335797294332 ~ received reply from remote leader at 1335797294375
1335797294376: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797294376: change leader replyCounter to: 45
1335797294376: reply packet contains the newest photo/success info from the remote region
1335797294376: inside sendReplies of replyCount = 500500045
1335797294405: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797294405: disabling progressdialog due to successful new photo get
1335797294405: Inside _enableButtons
1335797294406: areButtonsEnabled --> true
1335797294406: send final leg ack regardless of new or already-processed reply
1335797294406: inside finalLegAck: change requestCounter to 84
1335797294407: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005084 Client in region: (1,0) Client nodID: 5005
1335797294407: I'm a leader client, my final_leg packet going to mux directly
1335797294409: new client_show_remotephoto reply with replyCounter 500500045
1335797294409: note down new reply by adding replyCounter=500500045 to HashMap processedReplies
1335797294409: leader download remote photo latency = 75
1335797294409: = leader download start 1335797294330 ~ stop 1335797294405
1335797294411: one more getGood: 20
1335797294411: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=63% getNum=29 getGood=20 getBad=6 getTimedout=1 getPercent=68%
1335797294412: successful reply for client get photo
1335797294412: Success! Client getting photo from remote region, showing photo...
1335797294412: Remote photo's length: 5797
1335797294377: =======================
1335797294377: inside sendReplyRepeatingRunnable for replyCount = 500500045
1335797294377: Leader about to send REPLY packet, number: 500500045 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797294377: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797294377: === Finished one round of sending REPLY Packet =======
1335797294407: mux: Inside mux Packet.CLIENT_REQUEST
1335797294407: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797294407: inside handleClientRequest. Originator leader of region 1
1335797294407: got new request, requestCounter = 5005084
1335797294407: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500045
1335797294407: Yay the last leg succeeded. Removing reply runnables ...
1335797294408: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500045
1335797294408: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500045
1335797294408: do not send ack for received final_leg_ack
1335797294752: Received UDP payload: 446
1335797294920: Received UDP payload: 446
1335797294949: Received UDP payload: 625
1335797294951: mux: Inside mux Packet.CLIENT_REQUEST
1335797295033: Received UDP payload: 989
1335797295036: mux: GOT CSM_Msg
1335797295036: forwarding disabled, not forwarding packets
1335797295045: Received UDP payload: 446
1335797295047: mux: Inside Packet.SERVER_REPLY
1335797295047: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797295227: Received UDP payload: 446
1335797295229: mux: Inside mux Packet.CLIENT_REQUEST
1335797295764: Received UDP payload: 625
1335797295769: mux: Inside mux Packet.CLIENT_REQUEST
1335797295784: Received UDP payload: 989
1335797295794: mux: GOT CSM_Msg
1335797295792: Received UDP payload: 446
1335797295795: forwarding disabled, not forwarding packets
1335797295798: mux: Inside Packet.SERVER_REPLY
1335797295798: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797296000: Received UDP payload: 4808
1335797296003: mux: GOT CSM_Msg
1335797296004: forwarding disabled, not forwarding packets
1335797296017: Received UDP payload: 989
1335797296021: mux: GOT CSM_Msg
1335797296021: forwarding disabled, not forwarding packets
1335797296570: Received UDP payload: 989
1335797296572: mux: GOT CSM_Msg
1335797296572: forwarding disabled, not forwarding packets
1335797296680: Received UDP payload: 989
1335797296682: mux: GOT CSM_Msg
1335797296682: forwarding disabled, not forwarding packets
1335797296725: canPressButton = TRUE
1335797296725: areButtonsEnabled --> false 
1335797296726: get picture disableButtonsR
1335797296726: areButtonsEnabled --> false
1335797296740: one more getNum: 30
1335797296741: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=63% getNum=30 getGood=20 getBad=6 getTimedout=1 getPercent=66%
1335797296741: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335797296741: change local requestCounter to 85
1335797296742: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005085 Client in region: 1 Client nodID: 5005
1335797296775: ----------------------------
1335797296775: inside sendRequestPacketRepeatingRunnable for requestCount = 5005085
1335797296775: I'm a leader, my requesting photos packet going to mux directly
1335797296780: --- Finished one round of sending REQUEST Packet ---------
1335797296753: Received UDP payload: 5924
1335797296755: mux: GOT CSM_Msg
1335797296755: forwarding disabled, not forwarding packets
1335797296776: mux: Inside mux Packet.CLIENT_REQUEST
1335797296776: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797296808: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797296776: inside handleClientRequest. Originator leader of region 1
1335797296776: got new request, requestCounter = 5005085
1335797296776: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797296777: Sending to region: 0
1335797296777: Sending PROC_REQUEST 11:16 (1,0)->(0,0)
1335797296777: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(0,0)
1335797296778: mux: I got a CSM packet at a leader 

1335797296777: Note down new request by adding requestCounter=5005085 to HashMap processedRequests
1335797296778: Make FirstLeg Ack regardless of new or already-processed requests
1335797296778: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797296779: Sending UDP payload: 989
1335797296780: forwarding disabled, not forwarding packets
1335797296836: Received UDP payload: 989
1335797296838: mux: GOT CSM_Msg
1335797296838: forwarding disabled, not forwarding packets
1335797296926: Received UDP payload: 5577
1335797296928: mux: Inside Packet.SERVER_REPLY
1335797296928: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797297003: Received UDP payload: 446
1335797297005: mux: Inside mux Packet.CLIENT_REQUEST
1335797297484: Received UDP payload: 989
1335797297486: mux: GOT CSM_Msg
1335797297486: forwarding disabled, not forwarding packets
1335797297520: Retrying PROC_REQUEST 11:16 (1,0)->(0,0)
1335797297520: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(0,0)
1335797297521: mux: I got a CSM packet at a leader 

1335797297522: Sending UDP payload: 989
1335797297522: forwarding disabled, not forwarding packets
1335797297621: Retrying PROC_REQUEST 11:16 (1,0)->(0,0)
1335797297621: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(0,0)
1335797297621: mux: I got a CSM packet at a leader 

1335797297622: Sending UDP payload: 989
1335797297623: forwarding disabled, not forwarding packets
1335797297625: Received UDP payload: 446
1335797297722: Retrying PROC_REQUEST 11:16 (1,0)->(0,0)
1335797297722: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(0,0)
1335797297723: mux: I got a CSM packet at a leader 

1335797297724: Sending UDP payload: 989
1335797297724: forwarding disabled, not forwarding packets
1335797297823: Retrying PROC_REQUEST 11:16 (1,0)->(0,0)
1335797297823: Dispatching Atom PROC_REQUEST 11:16 (1,0)->(0,0)
1335797297824: mux: I got a CSM packet at a leader 

1335797297825: Sending UDP payload: 989
1335797297825: forwarding disabled, not forwarding packets
1335797297899: Received UDP payload: 5924
1335797297902: mux: GOT CSM_Msg
1335797297907: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797297908: disabling progressdialog due to successful new photo get
1335797297908: Inside _enableButtons
1335797297909: areButtonsEnabled --> true
1335797297909: send final leg ack regardless of new or already-processed reply
1335797297909: inside finalLegAck: change requestCounter to 86
1335797297909: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005086 Client in region: (1,0) Client nodID: 5005
1335797297910: I'm a leader client, my final_leg packet going to mux directly
1335797297912: csn discarding repeated replyCounter=500500046, but still sent an ack back
1335797297903: Received PROC_REPLY 11:16 (0,0)->(1,0), handing to UserApp
1335797297903: inside handleDSMReply. Now back in originator leader of region 1
1335797297903: DSM layer: Going to and from remote region took latency = 1126
1335797297903: DSM layer: orig leader sent packet at 1335797296777 ~ received reply from remote leader at 1335797297903
1335797297905: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797297905: change leader replyCounter to: 46
1335797297906: reply packet contains the newest photo/success info from the remote region
1335797297906: inside sendReplies of replyCount = 500500046
1335797297906: =======================
1335797297906: inside sendReplyRepeatingRunnable for replyCount = 500500046
1335797297906: Leader about to send REPLY packet, number: 500500046 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797297906: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797297906: === Finished one round of sending REPLY Packet =======
1335797297910: mux: Inside mux Packet.CLIENT_REQUEST
1335797297911: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797297911: inside handleClientRequest. Originator leader of region 1
1335797297911: got new request, requestCounter = 5005086
1335797297911: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500046
1335797297911: Yay the last leg succeeded. Removing reply runnables ...
1335797297911: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500046
1335797297911: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500046
1335797297912: do not send ack for received final_leg_ack
1335797298722: inside sendPacket(Packet p)
1335797298726: Sending UDP payload: 446
1335797299420: canPressButton = TRUE
1335797299420: areButtonsEnabled --> false 
1335797299421: get picture disableButtonsR
1335797299421: areButtonsEnabled --> false
1335797299434: one more getNum: 31
1335797299435: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=63% getNum=31 getGood=20 getBad=6 getTimedout=1 getPercent=64%
1335797299435: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335797299435: change local requestCounter to 87
1335797299436: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005087 Client in region: 1 Client nodID: 5005
1335797299464: ----------------------------
1335797299465: inside sendRequestPacketRepeatingRunnable for requestCount = 5005087
1335797299465: I'm a leader, my requesting photos packet going to mux directly
1335797299485: --- Finished one round of sending REQUEST Packet ---------
1335797299465: mux: Inside mux Packet.CLIENT_REQUEST
1335797299466: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797299522: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797299466: inside handleClientRequest. Originator leader of region 1
1335797299466: got new request, requestCounter = 5005087
1335797299466: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797299467: Sending to region: 0
1335797299467: Sending PROC_REQUEST 11:17 (1,0)->(0,0)
1335797299467: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797299483: mux: I got a CSM packet at a leader 

1335797299467: Note down new request by adding requestCounter=5005087 to HashMap processedRequests
1335797299468: Make FirstLeg Ack regardless of new or already-processed requests
1335797299468: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797299484: Sending UDP payload: 989
1335797299484: forwarding disabled, not forwarding packets
1335797299716: Received UDP payload: 989
1335797299721: mux: GOT CSM_Msg
1335797299722: forwarding disabled, not forwarding packets
1335797299819: Received UDP payload: 625
1335797299823: mux: Inside mux Packet.CLIENT_REQUEST
1335797299837: Received UDP payload: 446
1335797299849: Received UDP payload: 989
1335797299853: mux: GOT CSM_Msg
1335797299853: forwarding disabled, not forwarding packets
1335797299859: Received UDP payload: 446
1335797299860: mux: Inside Packet.SERVER_REPLY
1335797299860: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797299949: Received UDP payload: 446
1335797300039: Received UDP payload: 5577
1335797300040: mux: Inside Packet.SERVER_REPLY
1335797300041: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797300071: Received UDP payload: 446
1335797300072: mux: Inside mux Packet.CLIENT_REQUEST
1335797300236: Received UDP payload: 5866
1335797300239: mux: Inside mux Packet.CLIENT_REQUEST
1335797300242: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300243: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300243: mux: I got a CSM packet at a leader 

1335797300245: Sending UDP payload: 989
1335797300246: forwarding disabled, not forwarding packets
1335797300343: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300344: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300344: mux: I got a CSM packet at a leader 

1335797300346: Sending UDP payload: 989
1335797300347: forwarding disabled, not forwarding packets
1335797300444: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300445: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300445: mux: I got a CSM packet at a leader 

1335797300449: Sending UDP payload: 989
1335797300450: forwarding disabled, not forwarding packets
1335797300456: Received UDP payload: 6230
1335797300462: mux: GOT CSM_Msg
1335797300462: forwarding disabled, not forwarding packets
1335797300489: Received UDP payload: 446
1335797300492: mux: Inside Packet.SERVER_REPLY
1335797300492: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797300546: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300546: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300546: mux: I got a CSM packet at a leader 

1335797300547: Sending UDP payload: 989
1335797300547: forwarding disabled, not forwarding packets
1335797300600: Received UDP payload: 989
1335797300604: mux: GOT CSM_Msg
1335797300604: forwarding disabled, not forwarding packets
1335797300647: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300647: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300647: mux: I got a CSM packet at a leader 

1335797300649: Sending UDP payload: 989
1335797300649: forwarding disabled, not forwarding packets
1335797300748: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300749: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300749: mux: I got a CSM packet at a leader 

1335797300751: Sending UDP payload: 989
1335797300751: forwarding disabled, not forwarding packets
1335797300850: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300850: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300851: mux: I got a CSM packet at a leader 

1335797300852: Sending UDP payload: 989
1335797300853: forwarding disabled, not forwarding packets
1335797300874: Received UDP payload: 642
1335797300877: mux: Inside Packet.SERVER_REPLY
1335797300877: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797300951: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300952: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797300952: mux: I got a CSM packet at a leader 

1335797300954: Sending UDP payload: 989
1335797300954: forwarding disabled, not forwarding packets
1335797301053: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301054: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301054: mux: I got a CSM packet at a leader 

1335797301055: Sending UDP payload: 989
1335797301056: forwarding disabled, not forwarding packets
1335797301154: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301155: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301155: mux: I got a CSM packet at a leader 

1335797301158: Sending UDP payload: 989
1335797301158: forwarding disabled, not forwarding packets
1335797301255: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301255: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301256: mux: I got a CSM packet at a leader 

1335797301257: Sending UDP payload: 989
1335797301258: forwarding disabled, not forwarding packets
1335797301356: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301357: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301357: mux: I got a CSM packet at a leader 

1335797301358: Sending UDP payload: 989
1335797301359: forwarding disabled, not forwarding packets
1335797301457: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301458: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301458: mux: I got a CSM packet at a leader 

1335797301459: Sending UDP payload: 989
1335797301460: forwarding disabled, not forwarding packets
1335797301558: Retrying PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301559: Dispatching Atom PROC_REQUEST 11:17 (1,0)->(0,0)
1335797301559: mux: I got a CSM packet at a leader 

1335797301560: Sending UDP payload: 989
1335797301562: forwarding disabled, not forwarding packets
1335797301660: DSM Layer: Request timed out, send failure PROC_REPLY 11:17 (0,0)->(1,0)
1335797301661: Dispatching Atom PROC_REPLY 11:17 (0,0)->(1,0)
1335797301661: mux: I got a CSM packet at a leader 

1335797301672: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797301673: disabling progressdialog due to successful new photo get
1335797301673: Inside _enableButtons
1335797301674: areButtonsEnabled --> true
1335797301675: send final leg ack regardless of new or already-processed reply
1335797301675: inside finalLegAck: change requestCounter to 88
1335797301676: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005088 Client in region: (1,0) Client nodID: 5005
1335797301676: I'm a leader client, my final_leg packet going to mux directly
1335797301679: new client_show_remotephoto reply with replyCounter 500500047
1335797301680: note down new reply by adding replyCounter=500500047 to HashMap processedReplies
1335797301680: leader download remote photo latency = 2207
1335797301680: = leader download start 1335797299465 ~ stop 1335797301672
1335797301682: Can't get remote photo, because DSM Layer on originator leader timed out
1335797301691: one more getBad: 7
1335797301693: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=63% getNum=31 getGood=20 getBad=7 getTimedout=1 getPercent=64%
1335797301696: getBad++
1335797301663: Sending UDP payload: 989
1335797301665: Received PROC_REPLY 11:17 (0,0)->(1,0), handing to UserApp
1335797301665: inside handleDSMReply. Now back in originator leader of region 1
1335797301665: DSM layer timed out, don't log dsm layer latency stuff.
1335797301667: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797301667: change leader replyCounter to: 47
1335797301667: reply packet contains the newest photo/success info from the remote region
1335797301667: inside sendReplies of replyCount = 500500047
1335797301668: =======================
1335797301668: inside sendReplyRepeatingRunnable for replyCount = 500500047
1335797301669: Leader about to send REPLY packet, number: 500500047 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797301669: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797301669: === Finished one round of sending REPLY Packet =======
1335797301677: mux: Inside mux Packet.CLIENT_REQUEST
1335797301677: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797301677: inside handleClientRequest. Originator leader of region 1
1335797301677: got new request, requestCounter = 5005088
1335797301678: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500047
1335797301678: Yay the last leg succeeded. Removing reply runnables ...
1335797301678: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500047
1335797301678: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500047
1335797301678: do not send ack for received final_leg_ack
1335797302035: Received UDP payload: 642
1335797302036: mux: Inside Packet.SERVER_REPLY
1335797302036: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797302094: Received UDP payload: 446
1335797302095: mux: Inside mux Packet.CLIENT_REQUEST
1335797302307: Received UDP payload: 989
1335797302310: mux: GOT CSM_Msg
1335797302310: forwarding disabled, not forwarding packets
1335797302361: Received UDP payload: 625
1335797302362: mux: Inside mux Packet.CLIENT_REQUEST
1335797302377: Received UDP payload: 4808
1335797302380: mux: GOT CSM_Msg
1335797302380: forwarding disabled, not forwarding packets
1335797302387: Received UDP payload: 989
1335797302390: mux: GOT CSM_Msg
1335797302390: forwarding disabled, not forwarding packets
1335797302398: Received UDP payload: 446
1335797302400: mux: Inside Packet.SERVER_REPLY
1335797302400: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797302463: Received UDP payload: 4808
1335797302466: mux: GOT CSM_Msg
1335797302467: forwarding disabled, not forwarding packets
1335797302523: Received UDP payload: 4461
1335797302525: mux: Inside Packet.SERVER_REPLY
1335797302525: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797302533: Received UDP payload: 446
1335797302535: mux: Inside mux Packet.CLIENT_REQUEST
1335797302565: Received UDP payload: 446
1335797303723: inside sendPacket(Packet p)
1335797303726: Sending UDP payload: 446
1335797304758: Received UDP payload: 446
1335797304879: Received UDP payload: 989
1335797304889: mux: GOT CSM_Msg
1335797304890: forwarding disabled, not forwarding packets
1335797304908: Received UDP payload: 446
1335797304914: mux: Inside Packet.SERVER_REPLY
1335797304915: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797305053: Received UDP payload: 989
1335797305056: mux: GOT CSM_Msg
1335797305056: forwarding disabled, not forwarding packets
1335797305388: Received UDP payload: 6398
1335797305390: mux: Inside mux Packet.CLIENT_REQUEST
1335797305471: Received UDP payload: 446
1335797305473: mux: Inside mux Packet.CLIENT_REQUEST
1335797305634: Received UDP payload: 6398
1335797305637: mux: Inside mux Packet.CLIENT_REQUEST
1335797305702: Received UDP payload: 446
1335797305703: mux: Inside Packet.SERVER_REPLY
1335797305703: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797305721: Received UDP payload: 989
1335797305724: mux: GOT CSM_Msg
1335797305724: forwarding disabled, not forwarding packets
1335797305728: Received UDP payload: 642
1335797305730: mux: Inside Packet.SERVER_REPLY
1335797305730: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797305742: Received UDP payload: 446
1335797305744: mux: Inside mux Packet.CLIENT_REQUEST
1335797305757: Received UDP payload: 446
1335797305758: mux: Inside Packet.SERVER_REPLY
1335797305758: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797305763: Received UDP payload: 642
1335797305765: mux: Inside Packet.SERVER_REPLY
1335797305765: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797305807: Received UDP payload: 446
1335797305808: mux: Inside mux Packet.CLIENT_REQUEST
1335797305811: canPressButton = TRUE
1335797305811: areButtonsEnabled --> false 
1335797305811: get picture disableButtonsR
1335797305812: areButtonsEnabled --> false
1335797305838: one more getNum: 32
1335797305839: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=63% getNum=32 getGood=20 getBad=7 getTimedout=1 getPercent=62%
1335797305839: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335797305839: change local requestCounter to 89
1335797305840: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005089 Client in region: 1 Client nodID: 5005
1335797305819: Received UDP payload: 989
1335797305820: mux: GOT CSM_Msg
1335797305821: forwarding disabled, not forwarding packets
1335797305872: ----------------------------
1335797305873: inside sendRequestPacketRepeatingRunnable for requestCount = 5005089
1335797305873: I'm a leader, my requesting photos packet going to mux directly
1335797305878: --- Finished one round of sending REQUEST Packet ---------
1335797305873: mux: Inside mux Packet.CLIENT_REQUEST
1335797305874: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797305917: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797305874: inside handleClientRequest. Originator leader of region 1
1335797305874: got new request, requestCounter = 5005089
1335797305874: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797305875: Sending to region: 3
1335797305875: Sending PROC_REQUEST 11:20 (1,0)->(3,0)
1335797305875: Dispatching Atom PROC_REQUEST 11:20 (1,0)->(3,0)
1335797305876: mux: I got a CSM packet at a leader 

1335797305875: Note down new request by adding requestCounter=5005089 to HashMap processedRequests
1335797305875: Make FirstLeg Ack regardless of new or already-processed requests
1335797305876: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797305877: Sending UDP payload: 989
1335797305878: forwarding disabled, not forwarding packets
1335797305897: Received UDP payload: 5924
1335797305899: mux: GOT CSM_Msg
1335797305899: forwarding disabled, not forwarding packets
1335797306604: Retrying PROC_REQUEST 11:20 (1,0)->(3,0)
1335797306604: Dispatching Atom PROC_REQUEST 11:20 (1,0)->(3,0)
1335797306605: mux: I got a CSM packet at a leader 

1335797306606: Sending UDP payload: 989
1335797306608: forwarding disabled, not forwarding packets
1335797306705: Retrying PROC_REQUEST 11:20 (1,0)->(3,0)
1335797306705: Dispatching Atom PROC_REQUEST 11:20 (1,0)->(3,0)
1335797306705: mux: I got a CSM packet at a leader 

1335797306707: Sending UDP payload: 989
1335797306707: forwarding disabled, not forwarding packets
1335797306748: Received UDP payload: 6762
1335797306750: mux: GOT CSM_Msg
1335797306750: Received PROC_REPLY 11:20 (3,0)->(1,0), handing to UserApp
1335797306750: inside handleDSMReply. Now back in originator leader of region 1
1335797306751: DSM layer: Going to and from remote region took latency = 875
1335797306751: DSM layer: orig leader sent packet at 1335797305875 ~ received reply from remote leader at 1335797306750
1335797306751: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797306751: change leader replyCounter to: 48
1335797306752: reply packet contains the newest photo/success info from the remote region
1335797306752: inside sendReplies of replyCount = 500500048
1335797306754: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797306755: disabling progressdialog due to successful new photo get
1335797306755: Inside _enableButtons
1335797306755: areButtonsEnabled --> true
1335797306756: send final leg ack regardless of new or already-processed reply
1335797306756: inside finalLegAck: change requestCounter to 90
1335797306756: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005090 Client in region: (1,0) Client nodID: 5005
1335797306756: I'm a leader client, my final_leg packet going to mux directly
1335797306760: new client_show_remotephoto reply with replyCounter 500500048
1335797306760: note down new reply by adding replyCounter=500500048 to HashMap processedReplies
1335797306760: leader download remote photo latency = 881
1335797306761: = leader download start 1335797305873 ~ stop 1335797306754
1335797306762: one more getGood: 21
1335797306762: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=63% getNum=32 getGood=21 getBad=7 getTimedout=1 getPercent=65%
1335797306763: successful reply for client get photo
1335797306763: Success! Client getting photo from remote region, showing photo...
1335797306763: Remote photo's length: 5751
1335797306752: =======================
1335797306753: inside sendReplyRepeatingRunnable for replyCount = 500500048
1335797306753: Leader about to send REPLY packet, number: 500500048 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797306753: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797306753: === Finished one round of sending REPLY Packet =======
1335797306757: mux: Inside mux Packet.CLIENT_REQUEST
1335797306757: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797306757: inside handleClientRequest. Originator leader of region 1
1335797306757: got new request, requestCounter = 5005090
1335797306757: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500048
1335797306757: Yay the last leg succeeded. Removing reply runnables ...
1335797306757: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500048
1335797306757: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500048
1335797306757: do not send ack for received final_leg_ack
1335797307565: Received UDP payload: 446
1335797308724: inside sendPacket(Packet p)
1335797308729: Sending UDP payload: 446
1335797308791: canPressButton = TRUE
1335797308792: areButtonsEnabled --> false 
1335797308792: get picture disableButtonsR
1335797308793: areButtonsEnabled --> false
1335797308816: one more getNum: 33
1335797308817: reg=1 id=5005 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=63% getNum=33 getGood=21 getBad=7 getTimedout=1 getPercent=63%
1335797308817: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335797308817: change local requestCounter to 91
1335797308818: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5005091 Client in region: 1 Client nodID: 5005
1335797308846: ----------------------------
1335797308847: inside sendRequestPacketRepeatingRunnable for requestCount = 5005091
1335797308847: I'm a leader, my requesting photos packet going to mux directly
1335797308847: --- Finished one round of sending REQUEST Packet ---------
1335797308847: mux: Inside mux Packet.CLIENT_REQUEST
1335797308847: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797308876: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335797308847: inside handleClientRequest. Originator leader of region 1
1335797308848: got new request, requestCounter = 5005091
1335797308848: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797308849: Sending to region: 2
1335797308850: Sending PROC_REQUEST 11:13 (1,0)->(2,0)
1335797308850: Dispatching Atom PROC_REQUEST 11:13 (1,0)->(2,0)
1335797308852: mux: I got a CSM packet at a leader 

1335797308850: Note down new request by adding requestCounter=5005091 to HashMap processedRequests
1335797308850: Make FirstLeg Ack regardless of new or already-processed requests
1335797308852: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5005)
1335797308857: Sending UDP payload: 989
1335797308858: forwarding disabled, not forwarding packets
1335797308992: Received UDP payload: 4808
1335797308996: mux: GOT CSM_Msg
1335797308997: Received PROC_REPLY 11:13 (2,0)->(1,0), handing to UserApp
1335797308997: inside handleDSMReply. Now back in originator leader of region 1
1335797308997: DSM layer: Going to and from remote region took latency = 148
1335797308997: DSM layer: orig leader sent packet at 1335797308849 ~ received reply from remote leader at 1335797308997
1335797308998: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797308998: change leader replyCounter to: 49
1335797308998: reply packet contains the newest photo/success info from the remote region
1335797308998: inside sendReplies of replyCount = 500500049
1335797308999: =======================
1335797308999: inside sendReplyRepeatingRunnable for replyCount = 500500049
1335797308999: Leader about to send REPLY packet, number: 500500049 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335797308999: I (the leader) was also the originator client (id = 5005) so I hand the packet to my mux directly, without UDP
1335797309020: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335797309020: disabling progressdialog due to successful new photo get
1335797309021: Inside _enableButtons
1335797309021: areButtonsEnabled --> true
1335797309022: send final leg ack regardless of new or already-processed reply
1335797309022: inside finalLegAck: change requestCounter to 92
1335797309022: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5005092 Client in region: (1,0) Client nodID: 5005
1335797309023: I'm a leader client, my final_leg packet going to mux directly
1335797309023: csn discarding repeated replyCounter=500500049, but still sent an ack back
1335797309000: === Finished one round of sending REPLY Packet =======
1335797309023: mux: Inside mux Packet.CLIENT_REQUEST
1335797309023: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797309023: inside handleClientRequest. Originator leader of region 1
1335797309024: got new request, requestCounter = 5005092
1335797309024: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500049
1335797309024: Yay the last leg succeeded. Removing reply runnables ...
1335797309024: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500049
1335797309024: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500049
1335797309024: do not send ack for received final_leg_ack
1335797309769: Received UDP payload: 446
1335797309924: Received UDP payload: 446
1335797310672: Received UDP payload: 989
1335797310678: mux: GOT CSM_Msg
1335797310679: forwarding disabled, not forwarding packets
1335797310788: Received UDP payload: 5924
1335797310795: mux: GOT CSM_Msg
1335797310795: forwarding disabled, not forwarding packets
1335797312569: Received UDP payload: 446
1335797313725: inside sendPacket(Packet p)
1335797313728: Sending UDP payload: 446
1335797313819: Received UDP payload: 625
1335797313823: mux: Inside mux Packet.CLIENT_REQUEST
1335797313872: Received UDP payload: 989
1335797313879: mux: GOT CSM_Msg
1335797313880: forwarding disabled, not forwarding packets
1335797313882: Received UDP payload: 446
1335797313887: mux: Inside Packet.SERVER_REPLY
1335797313887: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797314037: Received UDP payload: 4476
1335797314039: mux: Inside Packet.SERVER_REPLY
1335797314040: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797314312: Received UDP payload: 4476
1335797314315: mux: Inside Packet.SERVER_REPLY
1335797314315: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797314650: Received UDP payload: 4476
1335797314654: mux: Inside Packet.SERVER_REPLY
1335797314655: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797314769: Received UDP payload: 446
1335797314942: Received UDP payload: 4476
1335797314947: mux: Inside Packet.SERVER_REPLY
1335797314948: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797314965: Received UDP payload: 446
1335797315166: Received UDP payload: 625
1335797315170: mux: Inside mux Packet.CLIENT_REQUEST
1335797315170: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797315170: inside handleClientRequest. Originator leader of region 1
1335797315171: got new request, requestCounter = 5006124
1335797315171: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797315173: Sending to region: 1
1335797315175: Sending PROC_REQUEST 11:47 (1,0)->(1,0)
1335797315176: Dispatching Atom PROC_REQUEST 11:47 (1,0)->(1,0)
1335797315178: mux: I got a CSM packet at a leader 

1335797315176: Note down new request by adding requestCounter=5006124 to HashMap processedRequests
1335797315177: Make FirstLeg Ack regardless of new or already-processed requests
1335797315177: The leader sending a First Leg ack to originator client (which id = 5006)
1335797315177: inside sendPacket(Packet p)
1335797315187: Sending UDP payload: 989
1335797315205: removed replies before id 47 from sentReplies of size 0
1335797315206: inside handleDSMRequest. At requests's remote leader of region 1
1335797315207: INSIDE SERVER_GET_PHOTO!!!
1335797315209: dst_region == src_region = 1
1335797315210:  1 self to self atomRequest
1335797315213: Received PROC_REQUEST 11:47 (1,0)->(1,0), replying PROC_REPLY 11:47 (1,0)->(1,0)
1335797315214: Dispatching Atom PROC_REPLY 11:47 (1,0)->(1,0)
1335797315219: mux: I got a CSM packet at a leader 

1335797315216: Sending UDP payload: 446
1335797315234: Sending UDP payload: 6808
1335797315237: Received PROC_REPLY 11:47 (1,0)->(1,0), handing to UserApp
1335797315237: inside handleDSMReply. Now back in originator leader of region 1
1335797315237: DSM layer: Going to and from remote region took latency = 64
1335797315237: DSM layer: orig leader sent packet at 1335797315173 ~ received reply from remote leader at 1335797315237
1335797315238: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797315238: change leader replyCounter to: 50
1335797315238: reply packet contains the newest photo/success info from the remote region
1335797315239: inside sendReplies of replyCount = 500500050
1335797315239: =======================
1335797315239: inside sendReplyRepeatingRunnable for replyCount = 500500050
1335797315239: Leader about to send REPLY packet, number: 500500050 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797315239: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797315239: inside sendPacket(Packet p)
1335797315239: === Finished one round of sending REPLY Packet =======
1335797315241: Sending UDP payload: 6461
1335797315478: Received UDP payload: 446
1335797315480: mux: Inside mux Packet.CLIENT_REQUEST
1335797315480: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797315480: inside handleClientRequest. Originator leader of region 1
1335797315480: got new request, requestCounter = 5006125
1335797315480: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500050
1335797315480: Yay the last leg succeeded. Removing reply runnables ...
1335797315480: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500050
1335797315480: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500050
1335797315480: do not send ack for received final_leg_ack
1335797316139: Received UDP payload: 6104
1335797316148: mux: GOT CSM_Msg
1335797316148: forwarding disabled, not forwarding packets
1335797316165: Received UDP payload: 989
1335797316183: mux: GOT CSM_Msg
1335797316184: forwarding disabled, not forwarding packets
1335797316230: Received UDP payload: 6771
1335797316232: mux: GOT CSM_Msg
1335797316232: forwarding disabled, not forwarding packets
1335797316333: Received UDP payload: 446
1335797316334: mux: Inside mux Packet.CLIENT_REQUEST
1335797317297: Received UDP payload: 989
1335797317304: mux: GOT CSM_Msg
1335797317304: forwarding disabled, not forwarding packets
1335797317419: Received UDP payload: 4808
1335797317426: mux: GOT CSM_Msg
1335797317426: forwarding disabled, not forwarding packets
1335797317544: Received UDP payload: 989
1335797317552: mux: GOT CSM_Msg
1335797317552: forwarding disabled, not forwarding packets
1335797317565: Received UDP payload: 446
1335797318726: inside sendPacket(Packet p)
1335797318729: Sending UDP payload: 446
1335797319315: Received UDP payload: 625
1335797319324: mux: Inside mux Packet.CLIENT_REQUEST
1335797319353: Received UDP payload: 989
1335797319360: mux: GOT CSM_Msg
1335797319360: forwarding disabled, not forwarding packets
1335797319461: Received UDP payload: 6104
1335797319465: mux: GOT CSM_Msg
1335797319465: forwarding disabled, not forwarding packets
1335797319585: Received UDP payload: 6866
1335797319589: mux: GOT CSM_Msg
1335797319589: forwarding disabled, not forwarding packets
1335797319599: Received UDP payload: 989
1335797319603: mux: GOT CSM_Msg
1335797319603: forwarding disabled, not forwarding packets
1335797319642: Received UDP payload: 446
1335797319644: mux: Inside mux Packet.CLIENT_REQUEST
1335797319809: Received UDP payload: 625
1335797319812: mux: Inside mux Packet.CLIENT_REQUEST
1335797319812: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797319812: inside handleClientRequest. Originator leader of region 1
1335797319812: got new request, requestCounter = 5006126
1335797319813: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797319815: Received UDP payload: 446
1335797319814: Sending to region: 1
1335797319817: Sending PROC_REQUEST 11:48 (1,0)->(1,0)
1335797319818: Dispatching Atom PROC_REQUEST 11:48 (1,0)->(1,0)
1335797319819: mux: I got a CSM packet at a leader 

1335797319818: Note down new request by adding requestCounter=5006126 to HashMap processedRequests
1335797319818: Make FirstLeg Ack regardless of new or already-processed requests
1335797319819: The leader sending a First Leg ack to originator client (which id = 5006)
1335797319819: inside sendPacket(Packet p)
1335797319821: Sending UDP payload: 989
1335797319824: removed replies before id 48 from sentReplies of size 0
1335797319825: inside handleDSMRequest. At requests's remote leader of region 1
1335797319826: INSIDE SERVER_GET_PHOTO!!!
1335797319827: dst_region == src_region = 1
1335797319827:  1 self to self atomRequest
1335797319829: Received PROC_REQUEST 11:48 (1,0)->(1,0), replying PROC_REPLY 11:48 (1,0)->(1,0)
1335797319829: Dispatching Atom PROC_REPLY 11:48 (1,0)->(1,0)
1335797319844: mux: I got a CSM packet at a leader 

1335797319830: Sending UDP payload: 446
1335797319846: Sending UDP payload: 6808
1335797319850: Received PROC_REPLY 11:48 (1,0)->(1,0), handing to UserApp
1335797319850: inside handleDSMReply. Now back in originator leader of region 1
1335797319850: DSM layer: Going to and from remote region took latency = 33
1335797319850: DSM layer: orig leader sent packet at 1335797319817 ~ received reply from remote leader at 1335797319850
1335797319852: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797319852: change leader replyCounter to: 51
1335797319853: reply packet contains the newest photo/success info from the remote region
1335797319853: inside sendReplies of replyCount = 500500051
1335797319853: =======================
1335797319853: inside sendReplyRepeatingRunnable for replyCount = 500500051
1335797319854: Leader about to send REPLY packet, number: 500500051 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797319854: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797319855: inside sendPacket(Packet p)
1335797319855: === Finished one round of sending REPLY Packet =======
1335797319866: Sending UDP payload: 6461
1335797319958: Received UDP payload: 446
1335797320155: =======================
1335797320156: inside sendReplyRepeatingRunnable for replyCount = 500500051
1335797320156: Leader about to send REPLY packet, number: 500500051 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797320157: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797320157: inside sendPacket(Packet p)
1335797320157: === Finished one round of sending REPLY Packet =======
1335797320160: Sending UDP payload: 6461
1335797320432: Received UDP payload: 625
1335797320436: mux: Inside mux Packet.CLIENT_REQUEST
1335797320436: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797320436: inside handleClientRequest. Originator leader of region 1
1335797320436: discarding repeated requestCounter=5006126, but still send an ack back
1335797320436: Note down new request by adding requestCounter=5006126 to HashMap processedRequests
1335797320436: Make FirstLeg Ack regardless of new or already-processed requests
1335797320436: The leader sending a First Leg ack to originator client (which id = 5006)
1335797320437: inside sendPacket(Packet p)
1335797320437: Sending UDP payload: 446
1335797320467: =======================
1335797320468: inside sendReplyRepeatingRunnable for replyCount = 500500051
1335797320468: Leader about to send REPLY packet, number: 500500051 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797320469: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797320469: inside sendPacket(Packet p)
1335797320469: === Finished one round of sending REPLY Packet =======
1335797320472: Sending UDP payload: 6461
1335797320620: Received UDP payload: 446
1335797320624: mux: Inside mux Packet.CLIENT_REQUEST
1335797320624: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797320625: inside handleClientRequest. Originator leader of region 1
1335797320625: got new request, requestCounter = 5006127
1335797320626: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500051
1335797320626: Yay the last leg succeeded. Removing reply runnables ...
1335797320626: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500051
1335797320627: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500051
1335797320627: do not send ack for received final_leg_ack
1335797320717: Received UDP payload: 625
1335797320718: mux: Inside mux Packet.CLIENT_REQUEST
1335797320719: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797320719: inside handleClientRequest. Originator leader of region 1
1335797320719: discarding repeated requestCounter=5006126, but still send an ack back
1335797320720: Note down new request by adding requestCounter=5006126 to HashMap processedRequests
1335797320720: Make FirstLeg Ack regardless of new or already-processed requests
1335797320720: The leader sending a First Leg ack to originator client (which id = 5006)
1335797320720: inside sendPacket(Packet p)
1335797320722: Sending UDP payload: 446
1335797322570: Received UDP payload: 446
1335797323056: Received UDP payload: 989
1335797323065: mux: GOT CSM_Msg
1335797323066: forwarding disabled, not forwarding packets
1335797323190: Received UDP payload: 6866
1335797323196: mux: GOT CSM_Msg
1335797323197: forwarding disabled, not forwarding packets
1335797323726: inside sendPacket(Packet p)
1335797323730: Sending UDP payload: 446
1335797324828: Received UDP payload: 625
1335797324832: mux: Inside mux Packet.CLIENT_REQUEST
1335797324832: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797324832: inside handleClientRequest. Originator leader of region 1
1335797324833: got new request, requestCounter = 5006128
1335797324833: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335797324846: Sending to region: 2
1335797324847: Sending PROC_REQUEST 11:14 (1,0)->(2,0)
1335797324848: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(2,0)
1335797324851: mux: I got a CSM packet at a leader 

1335797324849: Note down new request by adding requestCounter=5006128 to HashMap processedRequests
1335797324849: Make FirstLeg Ack regardless of new or already-processed requests
1335797324850: The leader sending a First Leg ack to originator client (which id = 5006)
1335797324850: inside sendPacket(Packet p)
1335797324854: Sending UDP payload: 989
1335797324863: forwarding disabled, not forwarding packets
1335797324865: Sending UDP payload: 446
1335797324936: Received UDP payload: 446
1335797325283: Received UDP payload: 989
1335797325287: mux: GOT CSM_Msg
1335797325287: removed replies before id 20 from sentReplies of size 0
1335797325288: inside handleDSMRequest. At requests's remote leader of region 1
1335797325289: INSIDE SERVER_GET_PHOTO!!!
1335797325294: Received PROC_REQUEST 11:20 (2,0)->(1,0), replying PROC_REPLY 11:20 (1,0)->(2,0)
1335797325295: Dispatching Atom PROC_REPLY 11:20 (1,0)->(2,0)
1335797325295: mux: I got a CSM packet at a leader 

1335797325299: Sending UDP payload: 6808
1335797325300: forwarding disabled, not forwarding packets
1335797325575: Retrying PROC_REQUEST 11:14 (1,0)->(2,0)
1335797325576: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(2,0)
1335797325577: mux: I got a CSM packet at a leader 

1335797325580: Sending UDP payload: 989
1335797325594: forwarding disabled, not forwarding packets
1335797325677: Retrying PROC_REQUEST 11:14 (1,0)->(2,0)
1335797325677: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(2,0)
1335797325677: mux: I got a CSM packet at a leader 

1335797325678: Sending UDP payload: 989
1335797325679: forwarding disabled, not forwarding packets
1335797325680: Received UDP payload: 5699
1335797325682: mux: GOT CSM_Msg
1335797325683: Received PROC_REPLY 11:14 (2,0)->(1,0), handing to UserApp
1335797325683: inside handleDSMReply. Now back in originator leader of region 1
1335797325683: DSM layer: Going to and from remote region took latency = 837
1335797325683: DSM layer: orig leader sent packet at 1335797324846 ~ received reply from remote leader at 1335797325683
1335797325684: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335797325684: change leader replyCounter to: 52
1335797325684: reply packet contains the newest photo/success info from the remote region
1335797325684: inside sendReplies of replyCount = 500500052
1335797325685: =======================
1335797325685: inside sendReplyRepeatingRunnable for replyCount = 500500052
1335797325685: Leader about to send REPLY packet, number: 500500052 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335797325685: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335797325685: inside sendPacket(Packet p)
1335797325685: === Finished one round of sending REPLY Packet =======
1335797325686: Sending UDP payload: 5352
1335797325770: Received UDP payload: 446
1335797325771: mux: Inside mux Packet.CLIENT_REQUEST
1335797325772: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335797325772: inside handleClientRequest. Originator leader of region 1
1335797325772: got new request, requestCounter = 5006129
1335797325772: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500052
1335797325772: Yay the last leg succeeded. Removing reply runnables ...
1335797325772: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500500052
1335797325772: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500500052
1335797325772: do not send ack for received final_leg_ack
1335797327569: Received UDP payload: 446
1335797327722: Received UDP payload: 989
1335797327737: mux: GOT CSM_Msg
1335797327737: forwarding disabled, not forwarding packets
1335797327784: Received UDP payload: 5443
1335797327785: mux: Inside mux Packet.CLIENT_REQUEST
1335797327878: Received UDP payload: 989
1335797327880: mux: GOT CSM_Msg
1335797327880: forwarding disabled, not forwarding packets
1335797327950: Received UDP payload: 989
1335797327953: mux: GOT CSM_Msg
1335797327953: forwarding disabled, not forwarding packets
1335797328079: Received UDP payload: 6104
1335797328081: mux: GOT CSM_Msg
1335797328081: forwarding disabled, not forwarding packets
1335797328091: Received UDP payload: 989
1335797328094: mux: GOT CSM_Msg
1335797328094: forwarding disabled, not forwarding packets
1335797328180: Received UDP payload: 6104
1335797328182: mux: GOT CSM_Msg
1335797328182: forwarding disabled, not forwarding packets
1335797328189: Received UDP payload: 5443
1335797328191: mux: Inside mux Packet.CLIENT_REQUEST
1335797328281: Received UDP payload: 446
1335797328282: mux: Inside Packet.SERVER_REPLY
1335797328282: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797328292: Received UDP payload: 989
1335797328294: mux: GOT CSM_Msg
1335797328295: forwarding disabled, not forwarding packets
1335797328306: Received UDP payload: 642
1335797328307: mux: Inside Packet.SERVER_REPLY
1335797328307: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797328327: Received UDP payload: 446
1335797328329: mux: Inside mux Packet.CLIENT_REQUEST
1335797328497: Received UDP payload: 989
1335797328501: mux: GOT CSM_Msg
1335797328501: removed replies before id 12 from sentReplies of size 0
1335797328501: inside handleDSMRequest. At requests's remote leader of region 1
1335797328503: INSIDE SERVER_GET_PHOTO!!!
1335797328508: Received PROC_REQUEST 11:12 (0,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(0,0)
1335797328537: Dispatching Atom PROC_REPLY 11:12 (1,0)->(0,0)
1335797328537: mux: I got a CSM packet at a leader 

1335797328547: Sending UDP payload: 6808
1335797328566: forwarding disabled, not forwarding packets
1335797328727: inside sendPacket(Packet p)
1335797328739: Sending UDP payload: 446
1335797329787: Received UDP payload: 446
1335797329856: Received UDP payload: 6395
1335797329864: mux: Inside mux Packet.CLIENT_REQUEST
1335797330065: Received UDP payload: 446
1335797330069: mux: Inside Packet.SERVER_REPLY
1335797330069: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797330072: Received UDP payload: 446
1335797330082: Received UDP payload: 989
1335797330103: mux: GOT CSM_Msg
1335797330103: forwarding disabled, not forwarding packets
1335797330106: Received UDP payload: 642
1335797330112: mux: Inside Packet.SERVER_REPLY
1335797330113: mux: Ignoring SERVER_REPLY since it's not for me  5005
1335797330163: Received UDP payload: 446
1335797330165: mux: Inside mux Packet.CLIENT_REQUEST
1335797331898: Received UDP payload: 446
1335797332239: Received UDP payload: 446
1335797332546: Received UDP payload: 446
1335797332605: Received UDP payload: 446
1335797332673: HI I'm in ONPAUSE()
1335797332807: Received UDP payload: 446
1335797333555: Received UDP payload: 26676
1335797333728: inside sendPacket(Packet p)
1335797333728: Sending UDP payload: 446
1335797334092: inside onDestroy()
