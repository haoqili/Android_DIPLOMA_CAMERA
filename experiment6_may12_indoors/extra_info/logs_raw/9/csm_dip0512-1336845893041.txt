1336845893049: *** Opened log file for writing ***
1336845893049: Android build: SAMSUNG-SGH-I717
1336845893050: NET_NAME set to: eth0
1336845893050: starting Mux with id = -1
1336845893051: areButtonsEnabled --> true
1336845893052: *** Application started ***
1336845893052: HI I'm in ONRESUME()
1336845893056: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1336845893059: ************ GPS turned OFF *************
1336845893065: mux: Mux.java run() beginning -------------
1336845893068: mux: Mux.java's nodeId is5014
1336845893068: mux: starting vncDaemon ........
1336845893081: mux: vncDaemon started
1336845893069: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1336845893082: VCoreDaemon.java onStart() ....
1336845893082: started, mId = 5014
1336845893082: VCoreDaemon.java inside stateTransition ..........
1336845893083: removing leaderRequestRetryR because I'm doing a stateTransition
1336845893083: ..... VCoreDaemon.java out of bounds
1336845893083: region (-1, -1) out of bounds, dormant
1336845893083: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845896752: Received UDP payload: 446
1336845896999: Received UDP payload: 446
1336845897069: Received UDP payload: 446
1336845897268: Received UDP payload: 446
1336845897574: Received UDP payload: 446
1336845897622: Received UDP payload: 446
1336845897879: Received UDP payload: 446
1336845898200: moving from region (-1,-1), to (0,0)
1336845898200: VCoreDaemon.java inside stateTransition ..........
1336845898200: removing leaderRequestRetryR because I'm doing a stateTransition
1336845898201: ..... VCoreDaemon.java targetState = JOINING (0,0)
1336845898201: posting leaderRequestRetryR because I'm joining
1336845898201: sending LEADER_REQUEST
1336845898202: inside sendPacket(Packet p)
1336845898202: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845898207: Sending UDP payload: 446
1336845898210: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845898502: sending LEADER_REQUEST
1336845898503: inside sendPacket(Packet p)
1336845898503: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845898510: Sending UDP payload: 446
1336845898764: Received UDP payload: 22318
1336845898773: ignoring leader_reply that's not for me
1336845898804: sending LEADER_REQUEST
1336845898805: inside sendPacket(Packet p)
1336845898805: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845898807: Sending UDP payload: 446
1336845899014: Received UDP payload: 22335
1336845899105: sending LEADER_REQUEST
1336845899105: inside sendPacket(Packet p)
1336845899106: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845899108: Sending UDP payload: 446
1336845899210: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1336845899210: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1336845899210: VCoreDaemon.java inside stateTransition ..........
1336845899211: removing leaderRequestRetryR because I'm doing a stateTransition
1336845899211: ..... VCoreDaemon.java targetState = LEADER
1336845899211: trying to take leadership (0,0) to the cloud
1336845899448: Received UDP payload: 446
1336845899588: Received UDP payload: 446
1336845899696: cloud accepted leadership request, no csm data included.
1336845899707: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1336845899709: *** Starting CSM Layer ***
1336845899709: *** CSM Layer starting with cache disabled ***
1336845899710: *** CSM Layer starting with forwarding disabled ***
1336845899732: Received UDP payload: 446
1336845899751: DSMLayer starting
1336845899758: UserApp started.
1336845899759: UserApp for Camera Diploma initialized and waiting for requests.
1336845899925: inside sendPacket(Packet p)
1336845899959: Sending UDP payload: 22318
1336845899964: now fully up as LEADER (id=5014) of (0,0)
1336845899964: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845899964: heard LEADER_REQUEST from node 5001, responding LEADER_REPLY
1336845900031: Received UDP payload: 446
1336845900126: inside sendPacket(Packet p)
1336845900143: Sending UDP payload: 22950
1336845900146: heard LEADER_REQUEST from node 5001, responding LEADER_REPLY
1336845900236: inside sendPacket(Packet p)
1336845900242: Sending UDP payload: 22335
1336845900245: heard LEADER_REQUEST from node 5001, responding LEADER_REPLY
1336845900336: Received UDP payload: 446
1336845900379: inside sendPacket(Packet p)
1336845900388: heard LEADER_REQUEST from node 5001, responding LEADER_REPLY
1336845900404: Sending UDP payload: 22335
1336845900470: inside sendPacket(Packet p)
1336845900483: Sending UDP payload: 22335
1336845903083: inside sendPacket(Packet p)
1336845903086: Sending UDP payload: 446
1336845904603: Received UDP payload: 446
1336845907467: Received UDP payload: 446
1336845907766: Received UDP payload: 446
1336845908063: Received UDP payload: 446
1336845908084: inside sendPacket(Packet p)
1336845908088: Sending UDP payload: 446
1336845908366: Received UDP payload: 446
1336845909595: Received UDP payload: 22318
1336845909607: ignoring leader_reply that's not for me
1336845909621: Received UDP payload: 446
1336845909641: Received UDP payload: 446
1336845911456: Received UDP payload: 446
1336845911740: Received UDP payload: 446
1336845912040: Received UDP payload: 446
1336845912343: Received UDP payload: 446
1336845913084: inside sendPacket(Packet p)
1336845913102: Sending UDP payload: 446
1336845913406: Received UDP payload: 22318
1336845913413: ignoring leader_reply that's not for me
1336845914003: Received UDP payload: 446
1336845914598: Received UDP payload: 446
1336845914638: Received UDP payload: 446
1336845918104: inside sendPacket(Packet p)
1336845918119: Sending UDP payload: 446
1336845919024: Received UDP payload: 446
1336845919616: Received UDP payload: 446
1336845919640: Received UDP payload: 446
1336845920571: Received UDP payload: 446
1336845920853: Received UDP payload: 446
1336845921140: Received UDP payload: 446
1336845921444: Received UDP payload: 446
1336845922744: Received UDP payload: 22318
1336845922753: ignoring leader_reply that's not for me
1336845923124: inside sendPacket(Packet p)
1336845923128: Sending UDP payload: 446
1336845923424: Received UDP payload: 446
1336845924050: Received UDP payload: 446
1336845924650: Received UDP payload: 446
1336845924666: Received UDP payload: 446
1336845928132: inside sendPacket(Packet p)
1336845928136: Sending UDP payload: 446
1336845928425: Received UDP payload: 446
1336845928465: Received UDP payload: 446
1336845928710: Received UDP payload: 446
1336845929016: Received UDP payload: 446
1336845929056: Received UDP payload: 446
1336845929316: Received UDP payload: 446
1336845929652: Received UDP payload: 446
1336845929661: Received UDP payload: 446
1336845929676: Received UDP payload: 446
1336845929943: Received UDP payload: 446
1336845930256: Received UDP payload: 446
1336845930407: Received UDP payload: 22318
1336845930414: ignoring leader_reply that's not for me
1336845930663: Received UDP payload: 22335
1336845930933: Received UDP payload: 22335
1336845931191: Received UDP payload: 22335
1336845933132: inside sendPacket(Packet p)
1336845933137: Sending UDP payload: 446
1336845933463: Received UDP payload: 446
1336845934073: Received UDP payload: 446
1336845934218: Received UDP payload: 446
1336845934658: Received UDP payload: 446
1336845934685: Received UDP payload: 446
1336845938133: inside sendPacket(Packet p)
1336845938150: Sending UDP payload: 446
1336845938471: Received UDP payload: 446
1336845939095: Received UDP payload: 446
1336845939234: Received UDP payload: 446
1336845939250: Received UDP payload: 446
1336845939503: Received UDP payload: 446
1336845939653: Received UDP payload: 22335
1336845939712: Received UDP payload: 446
1336845939911: Received UDP payload: 22950
1336845939924: Received UDP payload: 446
1336845943134: inside sendPacket(Packet p)
1336845943176: Sending UDP payload: 446
1336845943492: Received UDP payload: 446
1336845944110: Received UDP payload: 446
1336845944251: Received UDP payload: 446
1336845944673: Received UDP payload: 446
1336845944685: Received UDP payload: 446
1336845948136: inside sendPacket(Packet p)
1336845948140: Sending UDP payload: 446
1336845948493: Received UDP payload: 446
1336845949133: Received UDP payload: 446
1336845949273: Received UDP payload: 446
1336845949675: Received UDP payload: 446
1336845949699: Received UDP payload: 446
1336845953138: inside sendPacket(Packet p)
1336845953142: Sending UDP payload: 446
1336845953480: Received UDP payload: 446
1336845954173: Received UDP payload: 446
1336845954290: Received UDP payload: 446
1336845954694: Received UDP payload: 446
1336845954724: Received UDP payload: 446
1336845958140: inside sendPacket(Packet p)
1336845958152: Sending UDP payload: 446
1336845958485: Received UDP payload: 446
1336845959173: Received UDP payload: 446
1336845959356: Received UDP payload: 446
1336845959683: Received UDP payload: 446
1336845959721: Received UDP payload: 446
1336845963155: inside sendPacket(Packet p)
1336845963159: Sending UDP payload: 446
1336845963523: Received UDP payload: 446
1336845964197: Received UDP payload: 446
1336845964321: Received UDP payload: 446
1336845964670: Received UDP payload: 446
1336845964721: Received UDP payload: 446
1336845968156: inside sendPacket(Packet p)
1336845968160: Sending UDP payload: 446
1336845968528: Received UDP payload: 446
1336845969220: Received UDP payload: 446
1336845969337: Received UDP payload: 446
1336845969712: Received UDP payload: 446
1336845969753: Received UDP payload: 446
1336845973157: inside sendPacket(Packet p)
1336845973201: Sending UDP payload: 446
1336845973511: Received UDP payload: 446
1336845974221: Received UDP payload: 446
1336845974348: Received UDP payload: 446
1336845974681: Received UDP payload: 446
1336845974764: Received UDP payload: 446
1336845978180: inside sendPacket(Packet p)
1336845978184: Sending UDP payload: 446
1336845978530: Received UDP payload: 446
1336845979227: Received UDP payload: 446
1336845979362: Received UDP payload: 446
1336845979733: Received UDP payload: 446
1336845979742: Received UDP payload: 446
1336845983182: inside sendPacket(Packet p)
1336845983186: Sending UDP payload: 446
1336845983527: Received UDP payload: 446
1336845984240: Received UDP payload: 446
1336845984400: Received UDP payload: 446
1336845984696: Received UDP payload: 446
1336845984740: Received UDP payload: 446
1336845988183: inside sendPacket(Packet p)
1336845988186: Sending UDP payload: 446
1336845988530: Received UDP payload: 446
1336845989288: Received UDP payload: 446
1336845989394: Received UDP payload: 446
1336845989698: Received UDP payload: 446
1336845989745: Received UDP payload: 446
1336845993186: inside sendPacket(Packet p)
1336845993196: Sending UDP payload: 446
1336845993522: Received UDP payload: 446
1336845993960: Received UDP payload: 4083
1336845993968: mux: Inside mux Packet.CLIENT_REQUEST
1336845993969: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845993970: inside handleClientRequest. Originator leader of region 0
1336845993970: got new request, requestCounter = 5001001
1336845993970: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845993972: Sending PROC_REQUEST 10:0 (0,0)->(0,0)
1336845993973: Dispatching Atom PROC_REQUEST 10:0 (0,0)->(0,0)
1336845993976: mux: I got a CSM packet at a leader 

1336845994046: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845994049: I'm a leader and I successfully saved my client's new photo
1336845994050: now showing in UI the new photo I just saved ... 
1336845994050: the photo length: 3419
1336845994102: end of server show photo aside %%%%%%%%%
1336845993974: Note down new request by adding requestCounter=5001001 to HashMap processedRequests
1336845993974: Make FirstLeg Ack regardless of new or already-processed requests
1336845993975: The leader sending a First Leg ack to originator client (which id = 5001)
1336845993975: inside sendPacket(Packet p)
1336845994037: Sending UDP payload: 4447
1336845994038: removed replies before id 0 from sentReplies of size 0
1336845994039: inside handleDSMRequest. At requests's remote leader of region 0
1336845994042: Inside UPLOAD_PHOTO!!
1336845994044: my_gpinfo.isSuccess is now (should be true): true
1336845994044: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845994088: Received PROC_REQUEST 10:0 (0,0)->(0,0), replying PROC_REPLY 10:0 (0,0)->(0,0)
1336845994088: Dispatching Atom PROC_REPLY 10:0 (0,0)->(0,0)
1336845994094: mux: I got a CSM packet at a leader 

1336845994091: Sending UDP payload: 446
1336845994097: Sending UDP payload: 1006
1336845994104: Received PROC_REPLY 10:0 (0,0)->(0,0), handing to UserApp
1336845994105: inside handleDSMReply. Now back in originator leader of region 0
1336845994105: DSM layer: Going to and from remote region took latency = 134
1336845994105: DSM layer: orig leader sent packet at 1336845993971 ~ received reply from remote leader at 1336845994105
1336845994107: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845994107: leader client reply has replyCounter: 500100100
1336845994107: reply packet contains the success info for UPLOAD_PHOTO
1336845994107: inside sendReplies of replyCount = 500100100
1336845994108: =======================
1336845994108: inside sendReplyRepeatingRunnable for replyCount = 500100100
1336845994108: Leader about to send REPLY packet, number: 500100100 type: 16 Leader in region: (0,0) to Client nodID: 5001
1336845994108: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336845994108: inside sendPacket(Packet p)
1336845994108: === Finished one round of sending REPLY Packet =======
1336845994110: Sending UDP payload: 659
1336845994164: Received UDP payload: 446
1336845994167: mux: Inside mux Packet.CLIENT_REQUEST
1336845994167: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845994167: inside handleClientRequest. Originator leader of region 0
1336845994167: got new request, requestCounter = 5001002
1336845994168: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100100
1336845994168: Yay the last leg succeeded. Removing reply runnables ...
1336845994168: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100100
1336845994168: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100100
1336845994168: do not send ack for received final_leg_ack
1336845994267: Received UDP payload: 446
1336845994394: Received UDP payload: 446
1336845994696: Received UDP payload: 446
1336845994735: Received UDP payload: 446
1336845997289: canPressButton = TRUE
1336845997289: areButtonsEnabled --> false
1336845997289: disabling buttons ...
1336845997289: took picture disableButtonsR
1336845997290: areButtonsEnabled --> false
1336845997378: one more takeNum: 1
1336845997380: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336845997380: Clicked take picture button ..
1336845998186: inside sendPacket(Packet p)
1336845998189: Sending UDP payload: 446
1336845998601: Received UDP payload: 446
1336845998615: inside HandlePictureStorage onPictureTaken()
1336845998617: one more takeCamGood: 1
1336845998617: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336845998876: Picture successfully taken, ORIG BYTE LENGTH = 2215059
1336845999079: Our new height x width: 306 x 408
1336845999079: Show photo from handle my camera take
1336845999080: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336845999080: change local requestCounter to 1
1336845999093: BYTE SIZE AFTER COMPRESSION: 3345
1336845999099: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5014001 Client in region: 0 Client nodID: 5014
1336845999126: ----------------------------
1336845999126: inside sendRequestPacketRepeatingRunnable for requestCount = 5014001
1336845999126: I'm a leader, my requesting photos packet going to mux directly
1336845999140: --- Finished one round of sending REQUEST Packet ---------
1336845999127: mux: Inside mux Packet.CLIENT_REQUEST
1336845999127: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845999178: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845999127: inside handleClientRequest. Originator leader of region 0
1336845999127: got new request, requestCounter = 5014001
1336845999127: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845999128: Sending PROC_REQUEST 10:1 (0,0)->(0,0)
1336845999128: Dispatching Atom PROC_REQUEST 10:1 (0,0)->(0,0)
1336845999129: mux: I got a CSM packet at a leader 

1336845999180: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845999181: I'm a leader and I successfully saved my client's new photo
1336845999182: now showing in UI the new photo I just saved ... 
1336845999182: the photo length: 3345
1336845999213: end of server show photo aside %%%%%%%%%
1336845999128: Note down new request by adding requestCounter=5014001 to HashMap processedRequests
1336845999128: Make FirstLeg Ack regardless of new or already-processed requests
1336845999128: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336845999139: Sending UDP payload: 4373
1336845999149: removed replies before id 1 from sentReplies of size 0
1336845999150: inside handleDSMRequest. At requests's remote leader of region 0
1336845999153: Inside UPLOAD_PHOTO!!
1336845999156: my_gpinfo.isSuccess is now (should be true): true
1336845999156: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845999158: Received PROC_REQUEST 10:1 (0,0)->(0,0), replying PROC_REPLY 10:1 (0,0)->(0,0)
1336845999164: Dispatching Atom PROC_REPLY 10:1 (0,0)->(0,0)
1336845999164: mux: I got a CSM packet at a leader 

1336845999215: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336845999216: disabling progressdialog due to successful new photo upload
1336845999216: Inside _enableButtons
1336845999216: areButtonsEnabled --> true
1336845999217: send final leg ack regardless of new or already-processed reply
1336845999217: inside finalLegAck: change requestCounter to 2
1336845999217: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014002 Client in region: (0,0) Client nodID: 5014
1336845999218: I'm a leader client, my final_leg packet going to mux directly
1336845999222: new client_upload_photo_ack reply with replyCounter 501400100
1336845999222: note down new reply by adding replyCounter=501400100 to HashMap processedReplies
1336845999222: leader upload new photo latency = 88
1336845999223: = leader upload start 1336845999127 ~ stop 1336845999215
1336845999225: one more takeGoodSave: 1
1336845999226: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336845999226: adding take latency: 88
1336845999227: SUCCESS Client now knows saving photo on its leader succeeded
1336845999166: Sending UDP payload: 1006
1336845999169: Received PROC_REPLY 10:1 (0,0)->(0,0), handing to UserApp
1336845999170: inside handleDSMReply. Now back in originator leader of region 0
1336845999170: DSM layer: Going to and from remote region took latency = 42
1336845999170: DSM layer: orig leader sent packet at 1336845999127 ~ received reply from remote leader at 1336845999169
1336845999171: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845999172: leader client reply has replyCounter: 501400100
1336845999172: reply packet contains the success info for UPLOAD_PHOTO
1336845999172: inside sendReplies of replyCount = 501400100
1336845999172: =======================
1336845999172: inside sendReplyRepeatingRunnable for replyCount = 501400100
1336845999172: Leader about to send REPLY packet, number: 501400100 type: 16 Leader in region: (0,0) to Client nodID: 5014
1336845999173: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336845999173: === Finished one round of sending REPLY Packet =======
1336845999218: mux: Inside mux Packet.CLIENT_REQUEST
1336845999218: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845999218: inside handleClientRequest. Originator leader of region 0
1336845999219: got new request, requestCounter = 5014002
1336845999219: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501400100
1336845999219: Yay the last leg succeeded. Removing reply runnables ...
1336845999219: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501400100
1336845999219: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501400100
1336845999219: do not send ack for received final_leg_ack
1336845999334: Received UDP payload: 446
1336845999395: Received UDP payload: 446
1336845999722: Received UDP payload: 446
1336845999754: Received UDP payload: 446
1336846001073: Received UDP payload: 1006
1336846001077: mux: GOT CSM_Msg
1336846001077: forwarding disabled, not forwarding packets
1336846003187: inside sendPacket(Packet p)
1336846003220: Sending UDP payload: 446
1336846003550: Received UDP payload: 446
1336846004330: Received UDP payload: 446
1336846004406: Received UDP payload: 446
1336846004722: Received UDP payload: 446
1336846004740: Received UDP payload: 446
1336846007091: Received UDP payload: 4169
1336846007098: mux: Inside mux Packet.CLIENT_REQUEST
1336846007233: Received UDP payload: 4533
1336846007244: mux: GOT CSM_Msg
1336846007245: forwarding disabled, not forwarding packets
1336846007253: Received UDP payload: 446
1336846007259: mux: Inside Packet.SERVER_REPLY
1336846007259: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846007270: Received UDP payload: 4169
1336846007285: mux: Inside mux Packet.CLIENT_REQUEST
1336846007286: Received UDP payload: 1006
1336846007304: mux: GOT CSM_Msg
1336846007304: forwarding disabled, not forwarding packets
1336846007316: Received UDP payload: 659
1336846007323: mux: Inside Packet.SERVER_REPLY
1336846007324: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846007333: Received UDP payload: 446
1336846007349: mux: Inside Packet.SERVER_REPLY
1336846007350: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846007351: Received UDP payload: 446
1336846007356: mux: Inside mux Packet.CLIENT_REQUEST
1336846008189: inside sendPacket(Packet p)
1336846008193: Sending UDP payload: 446
1336846008524: Received UDP payload: 446
1336846009389: Received UDP payload: 446
1336846009488: Received UDP payload: 446
1336846009724: Received UDP payload: 446
1336846009802: Received UDP payload: 446
1336846013202: inside sendPacket(Packet p)
1336846013211: Sending UDP payload: 446
1336846013541: Received UDP payload: 446
1336846014323: Received UDP payload: 446
1336846014442: Received UDP payload: 446
1336846014734: Received UDP payload: 446
1336846014776: Received UDP payload: 446
1336846016940: Received UDP payload: 4942
1336846016953: mux: GOT CSM_Msg
1336846016954: forwarding disabled, not forwarding packets
1336846016967: Received UDP payload: 1006
1336846016992: mux: GOT CSM_Msg
1336846016992: forwarding disabled, not forwarding packets
1336846018212: inside sendPacket(Packet p)
1336846018221: Sending UDP payload: 446
1336846018599: Received UDP payload: 446
1336846019334: Received UDP payload: 446
1336846019468: Received UDP payload: 446
1336846019774: Received UDP payload: 446
1336846019792: Received UDP payload: 446
1336846019964: leader to cloud hearbeat...
1336846020789: Received UDP payload: 4368
1336846020805: mux: GOT CSM_Msg
1336846020805: forwarding disabled, not forwarding packets
1336846020822: Received UDP payload: 1006
1336846020843: mux: GOT CSM_Msg
1336846020844: forwarding disabled, not forwarding packets
1336846023226: inside sendPacket(Packet p)
1336846023240: Sending UDP payload: 446
1336846023533: Received UDP payload: 446
1336846024373: Received UDP payload: 446
1336846024523: Received UDP payload: 446
1336846024766: Received UDP payload: 446
1336846024802: Received UDP payload: 446
1336846028227: inside sendPacket(Packet p)
1336846028240: Sending UDP payload: 446
1336846028542: Received UDP payload: 446
1336846029374: Received UDP payload: 446
1336846029541: Received UDP payload: 446
1336846029756: Received UDP payload: 446
1336846029800: Received UDP payload: 446
1336846033228: inside sendPacket(Packet p)
1336846033232: Sending UDP payload: 446
1336846033267: Received UDP payload: 3963
1336846033288: mux: GOT CSM_Msg
1336846033288: forwarding disabled, not forwarding packets
1336846033299: Received UDP payload: 1006
1336846033319: mux: GOT CSM_Msg
1336846033319: forwarding disabled, not forwarding packets
1336846033540: Received UDP payload: 446
1336846033611: Received UDP payload: 3935
1336846033613: mux: Inside mux Packet.CLIENT_REQUEST
1336846033685: Received UDP payload: 4299
1336846033688: mux: GOT CSM_Msg
1336846033688: forwarding disabled, not forwarding packets
1336846033706: Received UDP payload: 446
1336846033708: mux: Inside Packet.SERVER_REPLY
1336846033708: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846033715: Received UDP payload: 1006
1336846033719: mux: GOT CSM_Msg
1336846033719: forwarding disabled, not forwarding packets
1336846033740: Received UDP payload: 659
1336846033742: mux: Inside Packet.SERVER_REPLY
1336846033743: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846033753: Received UDP payload: 446
1336846033755: mux: Inside mux Packet.CLIENT_REQUEST
1336846034363: Received UDP payload: 446
1336846034490: Received UDP payload: 446
1336846034786: Received UDP payload: 446
1336846034819: Received UDP payload: 446
1336846037216: Received UDP payload: 3727
1336846037233: mux: Inside mux Packet.CLIENT_REQUEST
1336846037308: Received UDP payload: 4091
1336846037312: mux: GOT CSM_Msg
1336846037312: forwarding disabled, not forwarding packets
1336846037314: Received UDP payload: 446
1336846037317: mux: Inside Packet.SERVER_REPLY
1336846037317: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846037332: Received UDP payload: 1006
1336846037337: mux: GOT CSM_Msg
1336846037337: forwarding disabled, not forwarding packets
1336846037338: Received UDP payload: 659
1336846037342: mux: Inside Packet.SERVER_REPLY
1336846037342: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846037363: Received UDP payload: 446
1336846037368: mux: Inside mux Packet.CLIENT_REQUEST
1336846038229: inside sendPacket(Packet p)
1336846038256: Sending UDP payload: 446
1336846038578: Received UDP payload: 446
1336846039391: Received UDP payload: 446
1336846039491: Received UDP payload: 446
1336846039758: Received UDP payload: 446
1336846039821: Received UDP payload: 446
1336846041115: Received UDP payload: 4368
1336846041125: mux: GOT CSM_Msg
1336846041126: forwarding disabled, not forwarding packets
1336846041139: Received UDP payload: 1006
1336846041161: mux: GOT CSM_Msg
1336846041162: forwarding disabled, not forwarding packets
1336846043239: inside sendPacket(Packet p)
1336846043243: Sending UDP payload: 446
1336846043551: Received UDP payload: 446
1336846044370: Received UDP payload: 446
1336846044528: Received UDP payload: 446
1336846044762: Received UDP payload: 446
1336846044814: Received UDP payload: 446
1336846048240: inside sendPacket(Packet p)
1336846048243: Sending UDP payload: 446
1336846048552: Received UDP payload: 446
1336846049376: Received UDP payload: 446
1336846049498: Received UDP payload: 446
1336846049774: Received UDP payload: 446
1336846049812: Received UDP payload: 446
1336846053242: inside sendPacket(Packet p)
1336846053245: Sending UDP payload: 446
1336846053567: Received UDP payload: 446
1336846054386: Received UDP payload: 446
1336846054542: Received UDP payload: 446
1336846054861: Received UDP payload: 446
1336846058243: inside sendPacket(Packet p)
1336846058246: Sending UDP payload: 446
1336846058557: Received UDP payload: 446
1336846059413: Received UDP payload: 446
1336846059519: Received UDP payload: 446
1336846059765: Received UDP payload: 446
1336846059825: Received UDP payload: 446
1336846063243: inside sendPacket(Packet p)
1336846063252: Sending UDP payload: 446
1336846063573: Received UDP payload: 446
1336846064414: Received UDP payload: 446
1336846064509: Received UDP payload: 446
1336846064770: Received UDP payload: 446
1336846064828: Received UDP payload: 446
1336846067137: Received UDP payload: 642
1336846067145: mux: Inside mux Packet.CLIENT_REQUEST
1336846067145: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846067146: inside handleClientRequest. Originator leader of region 0
1336846067146: got new request, requestCounter = 5001003
1336846067147: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846067164: Sending to region: 0
1336846067166: Sending PROC_REQUEST 11:2 (0,0)->(0,0)
1336846067167: Dispatching Atom PROC_REQUEST 11:2 (0,0)->(0,0)
1336846067179: mux: I got a CSM packet at a leader 

1336846067168: Note down new request by adding requestCounter=5001003 to HashMap processedRequests
1336846067168: Make FirstLeg Ack regardless of new or already-processed requests
1336846067178: The leader sending a First Leg ack to originator client (which id = 5001)
1336846067178: inside sendPacket(Packet p)
1336846067188: Sending UDP payload: 1006
1336846067208: removed replies before id 2 from sentReplies of size 0
1336846067208: inside handleDSMRequest. At requests's remote leader of region 0
1336846067209: INSIDE SERVER_GET_PHOTO!!!
1336846067211: dst_region == src_region = 0
1336846067211:  1 self to self atomRequest
1336846067213: Received PROC_REQUEST 11:2 (0,0)->(0,0), replying PROC_REPLY 11:2 (0,0)->(0,0)
1336846067213: Dispatching Atom PROC_REPLY 11:2 (0,0)->(0,0)
1336846067219: mux: I got a CSM packet at a leader 

1336846067214: Sending UDP payload: 446
1336846067220: Sending UDP payload: 4373
1336846067223: Received PROC_REPLY 11:2 (0,0)->(0,0), handing to UserApp
1336846067223: inside handleDSMReply. Now back in originator leader of region 0
1336846067224: DSM layer: Going to and from remote region took latency = 59
1336846067224: DSM layer: orig leader sent packet at 1336846067164 ~ received reply from remote leader at 1336846067223
1336846067224: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846067225: leader client reply has replyCounter: 500100300
1336846067225: reply packet contains the newest photo/success info from the remote region
1336846067225: inside sendReplies of replyCount = 500100300
1336846067225: =======================
1336846067225: inside sendReplyRepeatingRunnable for replyCount = 500100300
1336846067226: Leader about to send REPLY packet, number: 500100300 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846067226: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846067226: inside sendPacket(Packet p)
1336846067226: === Finished one round of sending REPLY Packet =======
1336846067234: Sending UDP payload: 4026
1336846067362: Received UDP payload: 446
1336846067364: mux: Inside mux Packet.CLIENT_REQUEST
1336846067365: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846067365: inside handleClientRequest. Originator leader of region 0
1336846067365: got new request, requestCounter = 5001004
1336846067365: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100300
1336846067365: Yay the last leg succeeded. Removing reply runnables ...
1336846067365: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100300
1336846067365: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100300
1336846067365: do not send ack for received final_leg_ack
1336846068194: canPressButton = TRUE
1336846068198: areButtonsEnabled --> false 
1336846068198: get picture disableButtonsR
1336846068198: areButtonsEnabled --> false
1336846068221: one more getNum: 1
1336846068222: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1336846068222: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846068222: change local requestCounter to 3
1336846068226: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014003 Client in region: 0 Client nodID: 5014
1336846068257: ----------------------------
1336846068258: inside sendRequestPacketRepeatingRunnable for requestCount = 5014003
1336846068258: I'm a leader, my requesting photos packet going to mux directly
1336846068268: --- Finished one round of sending REQUEST Packet ---------
1336846068250: inside sendPacket(Packet p)
1336846068251: Sending UDP payload: 446
1336846068259: mux: Inside mux Packet.CLIENT_REQUEST
1336846068259: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846068318: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846068260: inside handleClientRequest. Originator leader of region 0
1336846068260: got new request, requestCounter = 5014003
1336846068260: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846068261: Sending to region: 0
1336846068261: Sending PROC_REQUEST 11:3 (0,0)->(0,0)
1336846068261: Dispatching Atom PROC_REQUEST 11:3 (0,0)->(0,0)
1336846068263: mux: I got a CSM packet at a leader 

1336846068262: Note down new request by adding requestCounter=5014003 to HashMap processedRequests
1336846068262: Make FirstLeg Ack regardless of new or already-processed requests
1336846068262: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846068265: Sending UDP payload: 1006
1336846068266: removed replies before id 3 from sentReplies of size 0
1336846068266: inside handleDSMRequest. At requests's remote leader of region 0
1336846068267: INSIDE SERVER_GET_PHOTO!!!
1336846068268: dst_region == src_region = 0
1336846068268:  1 self to self atomRequest
1336846068280: Received PROC_REQUEST 11:3 (0,0)->(0,0), replying PROC_REPLY 11:3 (0,0)->(0,0)
1336846068281: Dispatching Atom PROC_REPLY 11:3 (0,0)->(0,0)
1336846068281: mux: I got a CSM packet at a leader 

1336846068321: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846068321: disabling progressdialog due to successful new photo get
1336846068321: Inside _enableButtons
1336846068322: areButtonsEnabled --> true
1336846068322: send final leg ack regardless of new or already-processed reply
1336846068322: inside finalLegAck: change requestCounter to 4
1336846068323: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014004 Client in region: (0,0) Client nodID: 5014
1336846068323: I'm a leader client, my final_leg packet going to mux directly
1336846068327: new client_show_remotephoto reply with replyCounter 501400300
1336846068329: note down new reply by adding replyCounter=501400300 to HashMap processedReplies
1336846068329: leader download remote photo latency = 62
1336846068330: = leader download start 1336846068259 ~ stop 1336846068321
1336846068331: one more getGood: 1
1336846068333: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1336846068333: adding get latency: 62
1336846068333: Success! Client getting photo from remote region, showing photo...
1336846068334: Remote photo's length: 3345
1336846068283: Sending UDP payload: 4373
1336846068285: Received PROC_REPLY 11:3 (0,0)->(0,0), handing to UserApp
1336846068285: inside handleDSMReply. Now back in originator leader of region 0
1336846068285: DSM layer: Going to and from remote region took latency = 24
1336846068285: DSM layer: orig leader sent packet at 1336846068261 ~ received reply from remote leader at 1336846068285
1336846068286: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846068287: leader client reply has replyCounter: 501400300
1336846068287: reply packet contains the newest photo/success info from the remote region
1336846068287: inside sendReplies of replyCount = 501400300
1336846068287: =======================
1336846068287: inside sendReplyRepeatingRunnable for replyCount = 501400300
1336846068288: Leader about to send REPLY packet, number: 501400300 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846068288: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846068288: === Finished one round of sending REPLY Packet =======
1336846068325: mux: Inside mux Packet.CLIENT_REQUEST
1336846068325: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846068326: inside handleClientRequest. Originator leader of region 0
1336846068326: got new request, requestCounter = 5014004
1336846068326: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501400300
1336846068326: Yay the last leg succeeded. Removing reply runnables ...
1336846068326: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501400300
1336846068326: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501400300
1336846068326: do not send ack for received final_leg_ack
1336846068585: Received UDP payload: 446
1336846068895: Received UDP payload: 642
1336846068903: mux: Inside mux Packet.CLIENT_REQUEST
1336846068935: Received UDP payload: 1006
1336846068948: mux: GOT CSM_Msg
1336846068948: removed replies before id 0 from sentReplies of size 0
1336846068949: inside handleDSMRequest. At requests's remote leader of region 0
1336846068952: INSIDE SERVER_GET_PHOTO!!!
1336846068973: Received PROC_REQUEST 11:0 (1,0)->(0,0), replying PROC_REPLY 11:0 (0,0)->(1,0)
1336846068974: Dispatching Atom PROC_REPLY 11:0 (0,0)->(1,0)
1336846068974: mux: I got a CSM packet at a leader 

1336846068976: Sending UDP payload: 4373
1336846068977: Received UDP payload: 446
1336846068979: mux: Inside Packet.SERVER_REPLY
1336846068980: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846068976: forwarding disabled, not forwarding packets
1336846069120: Received UDP payload: 446
1336846069122: mux: Inside mux Packet.CLIENT_REQUEST
1336846069431: Received UDP payload: 446
1336846069555: Received UDP payload: 1006
1336846069558: mux: GOT CSM_Msg
1336846069558: removed replies before id 1 from sentReplies of size 0
1336846069559: inside handleDSMRequest. At requests's remote leader of region 0
1336846069559: INSIDE SERVER_GET_PHOTO!!!
1336846069561: Received PROC_REQUEST 11:1 (1,0)->(0,0), replying PROC_REPLY 11:1 (0,0)->(1,0)
1336846069561: Dispatching Atom PROC_REPLY 11:1 (0,0)->(1,0)
1336846069562: mux: I got a CSM packet at a leader 

1336846069563: Sending UDP payload: 4373
1336846069573: Received UDP payload: 446
1336846069576: forwarding disabled, not forwarding packets
1336846069765: Received UDP payload: 446
1336846069836: Received UDP payload: 446
1336846073252: inside sendPacket(Packet p)
1336846073261: Sending UDP payload: 446
1336846073572: Received UDP payload: 446
1336846074417: Received UDP payload: 446
1336846074517: Received UDP payload: 446
1336846074776: Received UDP payload: 446
1336846074842: Received UDP payload: 446
1336846075152: Received UDP payload: 1006
1336846075171: mux: GOT CSM_Msg
1336846075172: removed replies before id 0 from sentReplies of size 0
1336846075172: inside handleDSMRequest. At requests's remote leader of region 0
1336846075181: INSIDE SERVER_GET_PHOTO!!!
1336846075200: Received PROC_REQUEST 11:0 (3,0)->(0,0), replying PROC_REPLY 11:0 (0,0)->(3,0)
1336846075203: Dispatching Atom PROC_REPLY 11:0 (0,0)->(3,0)
1336846075207: mux: I got a CSM packet at a leader 

1336846075212: Sending UDP payload: 4373
1336846075218: forwarding disabled, not forwarding packets
1336846076172: Received UDP payload: 1006
1336846076186: mux: GOT CSM_Msg
1336846076187: removed replies before id 0 from sentReplies of size 0
1336846076188: inside handleDSMRequest. At requests's remote leader of region 0
1336846076190: INSIDE SERVER_GET_PHOTO!!!
1336846076223: Received PROC_REQUEST 11:0 (2,0)->(0,0), replying PROC_REPLY 11:0 (0,0)->(2,0)
1336846076225: Dispatching Atom PROC_REPLY 11:0 (0,0)->(2,0)
1336846076226: mux: I got a CSM packet at a leader 

1336846076232: Sending UDP payload: 4373
1336846076233: forwarding disabled, not forwarding packets
1336846078263: inside sendPacket(Packet p)
1336846078273: Sending UDP payload: 446
1336846078588: Received UDP payload: 446
1336846079510: Received UDP payload: 446
1336846079555: Received UDP payload: 446
1336846079775: Received UDP payload: 446
1336846079865: Received UDP payload: 446
1336846081347: Received UDP payload: 642
1336846081356: mux: Inside mux Packet.CLIENT_REQUEST
1336846081452: Received UDP payload: 1006
1336846081463: mux: GOT CSM_Msg
1336846081464: removed replies before id 0 from sentReplies of size 0
1336846081464: inside handleDSMRequest. At requests's remote leader of region 0
1336846081466: INSIDE SERVER_GET_PHOTO!!!
1336846081483: Received UDP payload: 446
1336846081500: Received PROC_REQUEST 11:0 (5,0)->(0,0), replying PROC_REPLY 11:0 (0,0)->(5,0)
1336846081502: Dispatching Atom PROC_REPLY 11:0 (0,0)->(5,0)
1336846081503: mux: I got a CSM packet at a leader 

1336846081513: mux: Inside Packet.SERVER_REPLY
1336846081514: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846081508: Sending UDP payload: 4373
1336846081513: forwarding disabled, not forwarding packets
1336846081645: Received UDP payload: 4026
1336846081649: mux: Inside Packet.SERVER_REPLY
1336846081649: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846081658: Received UDP payload: 446
1336846081661: mux: Inside mux Packet.CLIENT_REQUEST
1336846081951: Received UDP payload: 1006
1336846081956: mux: GOT CSM_Msg
1336846081956: removed replies before id 1 from sentReplies of size 0
1336846081956: inside handleDSMRequest. At requests's remote leader of region 0
1336846081957: INSIDE SERVER_GET_PHOTO!!!
1336846081961: Received PROC_REQUEST 11:1 (5,0)->(0,0), replying PROC_REPLY 11:1 (0,0)->(5,0)
1336846081962: Dispatching Atom PROC_REPLY 11:1 (0,0)->(5,0)
1336846081962: mux: I got a CSM packet at a leader 

1336846081964: Sending UDP payload: 4373
1336846081970: forwarding disabled, not forwarding packets
1336846082996: Received UDP payload: 1006
1336846083008: mux: GOT CSM_Msg
1336846083009: removed replies before id 0 from sentReplies of size 0
1336846083009: inside handleDSMRequest. At requests's remote leader of region 0
1336846083012: INSIDE SERVER_GET_PHOTO!!!
1336846083040: Received PROC_REQUEST 11:0 (4,0)->(0,0), replying PROC_REPLY 11:0 (0,0)->(4,0)
1336846083041: Dispatching Atom PROC_REPLY 11:0 (0,0)->(4,0)
1336846083042: mux: I got a CSM packet at a leader 

1336846083047: Sending UDP payload: 4373
1336846083058: forwarding disabled, not forwarding packets
1336846083264: inside sendPacket(Packet p)
1336846083267: Sending UDP payload: 446
1336846083589: Received UDP payload: 446
1336846084394: Received UDP payload: 642
1336846084401: mux: Inside mux Packet.CLIENT_REQUEST
1336846084456: Received UDP payload: 1006
1336846084465: mux: GOT CSM_Msg
1336846084466: removed replies before id 1 from sentReplies of size 0
1336846084466: inside handleDSMRequest. At requests's remote leader of region 0
1336846084470: INSIDE SERVER_GET_PHOTO!!!
1336846084486: Received PROC_REQUEST 11:1 (4,0)->(0,0), replying PROC_REPLY 11:1 (0,0)->(4,0)
1336846084488: Dispatching Atom PROC_REPLY 11:1 (0,0)->(4,0)
1336846084488: mux: I got a CSM packet at a leader 

1336846084489: Received UDP payload: 446
1336846084515: mux: Inside Packet.SERVER_REPLY
1336846084515: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846084494: Received UDP payload: 446
1336846084511: Sending UDP payload: 4373
1336846084515: forwarding disabled, not forwarding packets
1336846084517: Received UDP payload: 446
1336846084626: Received UDP payload: 446
1336846084628: mux: Inside mux Packet.CLIENT_REQUEST
1336846084767: Received UDP payload: 446
1336846084829: Received UDP payload: 446
1336846088264: inside sendPacket(Packet p)
1336846088267: Sending UDP payload: 446
1336846088645: Received UDP payload: 446
1336846089465: Received UDP payload: 446
1336846089538: Received UDP payload: 446
1336846089772: Received UDP payload: 446
1336846089890: Received UDP payload: 446
1336846093264: inside sendPacket(Packet p)
1336846093265: Sending UDP payload: 446
1336846093617: Received UDP payload: 446
1336846094461: Received UDP payload: 446
1336846094539: Received UDP payload: 446
1336846094784: Received UDP payload: 446
1336846094839: Received UDP payload: 446
1336846097135: Received UDP payload: 642
1336846097145: mux: Inside mux Packet.CLIENT_REQUEST
1336846097145: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846097146: inside handleClientRequest. Originator leader of region 0
1336846097146: got new request, requestCounter = 5001005
1336846097146: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846097164: Sending to region: 1
1336846097165: Sending PROC_REQUEST 11:0 (0,0)->(1,0)
1336846097167: Dispatching Atom PROC_REQUEST 11:0 (0,0)->(1,0)
1336846097176: mux: I got a CSM packet at a leader 

1336846097167: Note down new request by adding requestCounter=5001005 to HashMap processedRequests
1336846097167: Make FirstLeg Ack regardless of new or already-processed requests
1336846097168: The leader sending a First Leg ack to originator client (which id = 5001)
1336846097168: inside sendPacket(Packet p)
1336846097204: Sending UDP payload: 1006
1336846097209: forwarding disabled, not forwarding packets
1336846097210: Sending UDP payload: 446
1336846097391: Received UDP payload: 4533
1336846097398: mux: GOT CSM_Msg
1336846097398: Received PROC_REPLY 11:0 (1,0)->(0,0), handing to UserApp
1336846097399: inside handleDSMReply. Now back in originator leader of region 0
1336846097399: DSM layer: Going to and from remote region took latency = 235
1336846097399: DSM layer: orig leader sent packet at 1336846097164 ~ received reply from remote leader at 1336846097399
1336846097400: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846097401: leader client reply has replyCounter: 500100500
1336846097401: reply packet contains the newest photo/success info from the remote region
1336846097401: inside sendReplies of replyCount = 500100500
1336846097402: =======================
1336846097402: inside sendReplyRepeatingRunnable for replyCount = 500100500
1336846097402: Leader about to send REPLY packet, number: 500100500 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846097402: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846097403: inside sendPacket(Packet p)
1336846097403: === Finished one round of sending REPLY Packet =======
1336846097406: Sending UDP payload: 4186
1336846097452: Received UDP payload: 642
1336846097454: mux: Inside mux Packet.CLIENT_REQUEST
1336846097485: Received UDP payload: 1006
1336846097489: mux: GOT CSM_Msg
1336846097489: forwarding disabled, not forwarding packets
1336846097495: Received UDP payload: 446
1336846097497: mux: Inside Packet.SERVER_REPLY
1336846097497: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846097547: Received UDP payload: 4533
1336846097551: mux: GOT CSM_Msg
1336846097551: forwarding disabled, not forwarding packets
1336846097600: Received UDP payload: 4186
1336846097603: mux: Inside Packet.SERVER_REPLY
1336846097603: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846097646: Received UDP payload: 446
1336846097648: mux: Inside mux Packet.CLIENT_REQUEST
1336846097703: =======================
1336846097704: inside sendReplyRepeatingRunnable for replyCount = 500100500
1336846097704: Leader about to send REPLY packet, number: 500100500 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846097704: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846097704: inside sendPacket(Packet p)
1336846097704: === Finished one round of sending REPLY Packet =======
1336846097705: Received UDP payload: 446
1336846097711: mux: Inside mux Packet.CLIENT_REQUEST
1336846097711: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846097710: Sending UDP payload: 4186
1336846097711: inside handleClientRequest. Originator leader of region 0
1336846097712: got new request, requestCounter = 5001006
1336846097712: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100500
1336846097712: Yay the last leg succeeded. Removing reply runnables ...
1336846097712: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100500
1336846097712: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100500
1336846097712: do not send ack for received final_leg_ack
1336846097818: Received UDP payload: 446
1336846097820: mux: Inside mux Packet.CLIENT_REQUEST
1336846097820: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846097821: inside handleClientRequest. Originator leader of region 0
1336846097821: got new request, requestCounter = 5001007
1336846097821: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100500
1336846097821: Yay the last leg succeeded. Removing reply runnables ...
1336846097821: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100500
1336846097822: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100500
1336846097822: do not send ack for received final_leg_ack
1336846098250: canPressButton = TRUE
1336846098250: areButtonsEnabled --> false 
1336846098250: get picture disableButtonsR
1336846098251: areButtonsEnabled --> false
1336846098277: one more getNum: 2
1336846098277: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=0 getTimedout=0 getPercent=50%
1336846098278: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846098278: change local requestCounter to 5
1336846098282: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014005 Client in region: 0 Client nodID: 5014
1336846098264: inside sendPacket(Packet p)
1336846098265: Sending UDP payload: 446
1336846098312: ----------------------------
1336846098313: inside sendRequestPacketRepeatingRunnable for requestCount = 5014005
1336846098313: I'm a leader, my requesting photos packet going to mux directly
1336846098320: --- Finished one round of sending REQUEST Packet ---------
1336846098313: mux: Inside mux Packet.CLIENT_REQUEST
1336846098314: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846098353: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846098314: inside handleClientRequest. Originator leader of region 0
1336846098314: got new request, requestCounter = 5014005
1336846098314: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846098315: Sending to region: 1
1336846098315: Sending PROC_REQUEST 11:1 (0,0)->(1,0)
1336846098315: Dispatching Atom PROC_REQUEST 11:1 (0,0)->(1,0)
1336846098317: mux: I got a CSM packet at a leader 

1336846098316: Note down new request by adding requestCounter=5014005 to HashMap processedRequests
1336846098316: Make FirstLeg Ack regardless of new or already-processed requests
1336846098316: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846098319: Sending UDP payload: 1006
1336846098319: forwarding disabled, not forwarding packets
1336846098448: Received UDP payload: 4533
1336846098452: mux: GOT CSM_Msg
1336846098466: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846098467: disabling progressdialog due to successful new photo get
1336846098467: Inside _enableButtons
1336846098467: areButtonsEnabled --> true
1336846098468: send final leg ack regardless of new or already-processed reply
1336846098468: inside finalLegAck: change requestCounter to 6
1336846098469: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014006 Client in region: (0,0) Client nodID: 5014
1336846098469: I'm a leader client, my final_leg packet going to mux directly
1336846098471: new client_show_remotephoto reply with replyCounter 501400500
1336846098471: note down new reply by adding replyCounter=501400500 to HashMap processedReplies
1336846098473: leader download remote photo latency = 153
1336846098473: = leader download start 1336846098313 ~ stop 1336846098466
1336846098481: one more getGood: 2
1336846098482: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=2 getBad=0 getTimedout=0 getPercent=100%
1336846098483: adding get latency: 153
1336846098483: Success! Client getting photo from remote region, showing photo...
1336846098483: Remote photo's length: 3505
1336846098453: Received PROC_REPLY 11:1 (1,0)->(0,0), handing to UserApp
1336846098453: inside handleDSMReply. Now back in originator leader of region 0
1336846098453: DSM layer: Going to and from remote region took latency = 138
1336846098453: DSM layer: orig leader sent packet at 1336846098315 ~ received reply from remote leader at 1336846098453
1336846098454: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846098454: leader client reply has replyCounter: 501400500
1336846098454: reply packet contains the newest photo/success info from the remote region
1336846098454: inside sendReplies of replyCount = 501400500
1336846098454: =======================
1336846098455: inside sendReplyRepeatingRunnable for replyCount = 501400500
1336846098455: Leader about to send REPLY packet, number: 501400500 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846098455: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846098455: === Finished one round of sending REPLY Packet =======
1336846098469: mux: Inside mux Packet.CLIENT_REQUEST
1336846098469: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846098470: inside handleClientRequest. Originator leader of region 0
1336846098470: got new request, requestCounter = 5014006
1336846098470: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501400500
1336846098470: Yay the last leg succeeded. Removing reply runnables ...
1336846098470: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501400500
1336846098470: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501400500
1336846098470: do not send ack for received final_leg_ack
1336846098476: Received UDP payload: 1006
1336846098481: mux: GOT CSM_Msg
1336846098481: forwarding disabled, not forwarding packets
1336846098546: Received UDP payload: 4533
1336846098553: mux: GOT CSM_Msg
1336846098553: forwarding disabled, not forwarding packets
1336846098649: Received UDP payload: 446
1336846099461: Received UDP payload: 446
1336846099538: Received UDP payload: 446
1336846099789: Received UDP payload: 446
1336846099891: Received UDP payload: 446
1336846103264: inside sendPacket(Packet p)
1336846103306: Sending UDP payload: 446
1336846103597: Received UDP payload: 446
1336846104074: Received UDP payload: 1006
1336846104093: mux: GOT CSM_Msg
1336846104093: forwarding disabled, not forwarding packets
1336846104180: Received UDP payload: 4533
1336846104193: mux: GOT CSM_Msg
1336846104193: forwarding disabled, not forwarding packets
1336846104469: Received UDP payload: 446
1336846104565: Received UDP payload: 446
1336846104776: Received UDP payload: 446
1336846104837: Received UDP payload: 446
1336846107951: Received UDP payload: 1006
1336846107963: mux: GOT CSM_Msg
1336846107963: forwarding disabled, not forwarding packets
1336846108039: Received UDP payload: 4533
1336846108042: mux: GOT CSM_Msg
1336846108042: forwarding disabled, not forwarding packets
1336846108279: inside sendPacket(Packet p)
1336846108282: Sending UDP payload: 446
1336846108591: Received UDP payload: 446
1336846109476: Received UDP payload: 446
1336846109541: Received UDP payload: 446
1336846109780: Received UDP payload: 446
1336846109850: Received UDP payload: 446
1336846110090: Received UDP payload: 642
1336846110097: mux: Inside mux Packet.CLIENT_REQUEST
1336846110167: Received UDP payload: 1006
1336846110179: mux: GOT CSM_Msg
1336846110179: forwarding disabled, not forwarding packets
1336846110189: Received UDP payload: 446
1336846110194: mux: Inside Packet.SERVER_REPLY
1336846110195: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846110273: Received UDP payload: 4533
1336846110278: mux: GOT CSM_Msg
1336846110278: forwarding disabled, not forwarding packets
1336846110349: Received UDP payload: 4186
1336846110352: mux: Inside Packet.SERVER_REPLY
1336846110352: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846110360: Received UDP payload: 446
1336846110364: mux: Inside mux Packet.CLIENT_REQUEST
1336846111132: Received UDP payload: 1006
1336846111143: mux: GOT CSM_Msg
1336846111144: forwarding disabled, not forwarding packets
1336846111228: Received UDP payload: 4533
1336846111239: mux: GOT CSM_Msg
1336846111240: forwarding disabled, not forwarding packets
1336846113281: inside sendPacket(Packet p)
1336846113292: Sending UDP payload: 446
1336846113633: Received UDP payload: 446
1336846113832: Received UDP payload: 1006
1336846113842: mux: GOT CSM_Msg
1336846113842: forwarding disabled, not forwarding packets
1336846113956: Received UDP payload: 4533
1336846113965: mux: GOT CSM_Msg
1336846113965: forwarding disabled, not forwarding packets
1336846114495: Received UDP payload: 446
1336846114539: Received UDP payload: 446
1336846114786: Received UDP payload: 446
1336846114856: Received UDP payload: 446
1336846115063: Received UDP payload: 642
1336846115070: mux: Inside mux Packet.CLIENT_REQUEST
1336846115167: Received UDP payload: 1006
1336846115178: mux: GOT CSM_Msg
1336846115178: forwarding disabled, not forwarding packets
1336846115212: Received UDP payload: 446
1336846115217: mux: Inside Packet.SERVER_REPLY
1336846115217: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846115312: Received UDP payload: 4533
1336846115317: mux: GOT CSM_Msg
1336846115317: forwarding disabled, not forwarding packets
1336846115378: Received UDP payload: 4186
1336846115382: mux: Inside Packet.SERVER_REPLY
1336846115382: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846115426: Received UDP payload: 446
1336846115429: mux: Inside mux Packet.CLIENT_REQUEST
1336846118295: inside sendPacket(Packet p)
1336846118312: Sending UDP payload: 446
1336846118654: Received UDP payload: 446
1336846119537: Received UDP payload: 446
1336846119551: Received UDP payload: 446
1336846119781: Received UDP payload: 446
1336846119886: Received UDP payload: 446
1336846123317: inside sendPacket(Packet p)
1336846123320: Sending UDP payload: 446
1336846123603: Received UDP payload: 446
1336846124090: Received UDP payload: 1006
1336846124098: mux: GOT CSM_Msg
1336846124099: forwarding disabled, not forwarding packets
1336846124195: Received UDP payload: 4368
1336846124205: mux: GOT CSM_Msg
1336846124205: forwarding disabled, not forwarding packets
1336846124500: Received UDP payload: 446
1336846124565: Received UDP payload: 446
1336846124785: Received UDP payload: 446
1336846124854: Received UDP payload: 446
1336846124995: Received UDP payload: 642
1336846125001: mux: Inside mux Packet.CLIENT_REQUEST
1336846125042: Received UDP payload: 1006
1336846125054: mux: GOT CSM_Msg
1336846125054: forwarding disabled, not forwarding packets
1336846125067: Received UDP payload: 446
1336846125074: mux: Inside Packet.SERVER_REPLY
1336846125075: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846125097: Received UDP payload: 4368
1336846125100: mux: GOT CSM_Msg
1336846125100: forwarding disabled, not forwarding packets
1336846125169: Received UDP payload: 4021
1336846125171: mux: Inside Packet.SERVER_REPLY
1336846125171: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846125182: Received UDP payload: 446
1336846125184: mux: Inside mux Packet.CLIENT_REQUEST
1336846128317: inside sendPacket(Packet p)
1336846128321: Sending UDP payload: 446
1336846128599: Received UDP payload: 446
1336846129511: Received UDP payload: 446
1336846129577: Received UDP payload: 446
1336846129788: Received UDP payload: 446
1336846129869: Received UDP payload: 446
1336846132351: Received UDP payload: 642
1336846132357: mux: Inside mux Packet.CLIENT_REQUEST
1336846132358: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846132358: inside handleClientRequest. Originator leader of region 0
1336846132360: got new request, requestCounter = 5001008
1336846132369: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846132395: Received UDP payload: 642
1336846132406: Sending to region: 2
1336846132408: Sending PROC_REQUEST 11:0 (0,0)->(2,0)
1336846132420: Dispatching Atom PROC_REQUEST 11:0 (0,0)->(2,0)
1336846132426: mux: I got a CSM packet at a leader 

1336846132420: Note down new request by adding requestCounter=5001008 to HashMap processedRequests
1336846132449: mux: Inside mux Packet.CLIENT_REQUEST
1336846132449: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846132420: Make FirstLeg Ack regardless of new or already-processed requests
1336846132424: The leader sending a First Leg ack to originator client (which id = 5001)
1336846132425: inside sendPacket(Packet p)
1336846132444: Sending UDP payload: 1006
1336846132449: forwarding disabled, not forwarding packets
1336846132450: inside handleClientRequest. Originator leader of region 0
1336846132450: discarding repeated requestCounter=5001008, but still send an ack back
1336846132450: Note down new request by adding requestCounter=5001008 to HashMap processedRequests
1336846132450: Make FirstLeg Ack regardless of new or already-processed requests
1336846132450: The leader sending a First Leg ack to originator client (which id = 5001)
1336846132450: inside sendPacket(Packet p)
1336846132451: Sending UDP payload: 446
1336846132460: Sending UDP payload: 446
1336846132720: Received UDP payload: 4368
1336846132723: mux: GOT CSM_Msg
1336846132723: Received PROC_REPLY 11:0 (2,0)->(0,0), handing to UserApp
1336846132723: inside handleDSMReply. Now back in originator leader of region 0
1336846132724: DSM layer: Going to and from remote region took latency = 316
1336846132724: DSM layer: orig leader sent packet at 1336846132407 ~ received reply from remote leader at 1336846132723
1336846132725: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846132725: leader client reply has replyCounter: 500100800
1336846132725: reply packet contains the newest photo/success info from the remote region
1336846132725: inside sendReplies of replyCount = 500100800
1336846132725: =======================
1336846132725: inside sendReplyRepeatingRunnable for replyCount = 500100800
1336846132726: Leader about to send REPLY packet, number: 500100800 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846132726: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846132726: inside sendPacket(Packet p)
1336846132726: === Finished one round of sending REPLY Packet =======
1336846132727: Sending UDP payload: 4021
1336846132822: Received UDP payload: 446
1336846132824: mux: Inside mux Packet.CLIENT_REQUEST
1336846132824: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846132824: inside handleClientRequest. Originator leader of region 0
1336846132824: got new request, requestCounter = 5001009
1336846132824: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100800
1336846132824: Yay the last leg succeeded. Removing reply runnables ...
1336846132824: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100800
1336846132824: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100800
1336846132825: do not send ack for received final_leg_ack
1336846133284: canPressButton = TRUE
1336846133284: areButtonsEnabled --> false 
1336846133284: get picture disableButtonsR
1336846133284: areButtonsEnabled --> false
1336846133310: one more getNum: 3
1336846133311: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=0 getTimedout=0 getPercent=66%
1336846133311: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846133312: change local requestCounter to 7
1336846133316: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014007 Client in region: 0 Client nodID: 5014
1336846133347: ----------------------------
1336846133348: inside sendRequestPacketRepeatingRunnable for requestCount = 5014007
1336846133348: I'm a leader, my requesting photos packet going to mux directly
1336846133354: --- Finished one round of sending REQUEST Packet ---------
1336846133318: inside sendPacket(Packet p)
1336846133319: Sending UDP payload: 446
1336846133349: mux: Inside mux Packet.CLIENT_REQUEST
1336846133349: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846133396: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846133349: inside handleClientRequest. Originator leader of region 0
1336846133349: got new request, requestCounter = 5014007
1336846133349: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846133350: Sending to region: 2
1336846133350: Sending PROC_REQUEST 11:1 (0,0)->(2,0)
1336846133350: Dispatching Atom PROC_REQUEST 11:1 (0,0)->(2,0)
1336846133351: mux: I got a CSM packet at a leader 

1336846133351: Note down new request by adding requestCounter=5014007 to HashMap processedRequests
1336846133351: Make FirstLeg Ack regardless of new or already-processed requests
1336846133351: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846133353: Sending UDP payload: 1006
1336846133353: forwarding disabled, not forwarding packets
1336846133462: Received UDP payload: 4368
1336846133465: mux: GOT CSM_Msg
1336846133465: Received PROC_REPLY 11:1 (2,0)->(0,0), handing to UserApp
1336846133465: inside handleDSMReply. Now back in originator leader of region 0
1336846133465: DSM layer: Going to and from remote region took latency = 115
1336846133465: DSM layer: orig leader sent packet at 1336846133350 ~ received reply from remote leader at 1336846133465
1336846133466: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846133466: leader client reply has replyCounter: 501400700
1336846133466: reply packet contains the newest photo/success info from the remote region
1336846133467: inside sendReplies of replyCount = 501400700
1336846133473: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846133473: disabling progressdialog due to successful new photo get
1336846133473: Inside _enableButtons
1336846133473: areButtonsEnabled --> true
1336846133474: send final leg ack regardless of new or already-processed reply
1336846133474: inside finalLegAck: change requestCounter to 8
1336846133474: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014008 Client in region: (0,0) Client nodID: 5014
1336846133475: I'm a leader client, my final_leg packet going to mux directly
1336846133476: new client_show_remotephoto reply with replyCounter 501400700
1336846133476: note down new reply by adding replyCounter=501400700 to HashMap processedReplies
1336846133477: leader download remote photo latency = 125
1336846133477: = leader download start 1336846133348 ~ stop 1336846133473
1336846133478: one more getGood: 3
1336846133480: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=3 getBad=0 getTimedout=0 getPercent=100%
1336846133481: adding get latency: 125
1336846133482: Success! Client getting photo from remote region, showing photo...
1336846133482: Remote photo's length: 3340
1336846133469: =======================
1336846133469: inside sendReplyRepeatingRunnable for replyCount = 501400700
1336846133470: Leader about to send REPLY packet, number: 501400700 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846133470: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846133470: === Finished one round of sending REPLY Packet =======
1336846133475: mux: Inside mux Packet.CLIENT_REQUEST
1336846133475: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846133475: inside handleClientRequest. Originator leader of region 0
1336846133475: got new request, requestCounter = 5014008
1336846133475: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501400700
1336846133475: Yay the last leg succeeded. Removing reply runnables ...
1336846133475: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501400700
1336846133476: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501400700
1336846133476: do not send ack for received final_leg_ack
1336846133602: Received UDP payload: 446
1336846134419: Received UDP payload: 1006
1336846134424: mux: GOT CSM_Msg
1336846134424: forwarding disabled, not forwarding packets
1336846134526: Received UDP payload: 446
1336846134575: Received UDP payload: 4368
1336846134585: mux: GOT CSM_Msg
1336846134585: forwarding disabled, not forwarding packets
1336846134596: Received UDP payload: 446
1336846134783: Received UDP payload: 446
1336846134847: Received UDP payload: 446
1336846138318: inside sendPacket(Packet p)
1336846138332: Sending UDP payload: 446
1336846138599: Received UDP payload: 446
1336846139494: Received UDP payload: 446
1336846139587: Received UDP payload: 446
1336846139796: Received UDP payload: 446
1336846139864: Received UDP payload: 446
1336846140308: Received UDP payload: 1006
1336846140314: mux: GOT CSM_Msg
1336846140314: forwarding disabled, not forwarding packets
1336846140352: leader to cloud hearbeat...
1336846140364: Received UDP payload: 4368
1336846140370: mux: GOT CSM_Msg
1336846140370: forwarding disabled, not forwarding packets
1336846140503: Received UDP payload: 642
1336846140507: mux: Inside mux Packet.CLIENT_REQUEST
1336846140532: Received UDP payload: 1006
1336846140539: mux: GOT CSM_Msg
1336846140539: forwarding disabled, not forwarding packets
1336846140543: Received UDP payload: 446
1336846140546: mux: Inside Packet.SERVER_REPLY
1336846140546: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846140601: Received UDP payload: 4368
1336846140606: mux: GOT CSM_Msg
1336846140606: forwarding disabled, not forwarding packets
1336846140674: Received UDP payload: 4021
1336846140678: mux: Inside Packet.SERVER_REPLY
1336846140679: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846140688: Received UDP payload: 446
1336846140691: mux: Inside mux Packet.CLIENT_REQUEST
1336846141502: Received UDP payload: 1006
1336846141513: mux: GOT CSM_Msg
1336846141514: forwarding disabled, not forwarding packets
1336846141609: Received UDP payload: 4368
1336846141619: mux: GOT CSM_Msg
1336846141619: forwarding disabled, not forwarding packets
1336846143334: inside sendPacket(Packet p)
1336846143337: Sending UDP payload: 446
1336846143602: Received UDP payload: 446
1336846144507: Received UDP payload: 446
1336846144590: Received UDP payload: 446
1336846144790: Received UDP payload: 446
1336846144850: Received UDP payload: 446
1336846147739: Received UDP payload: 1006
1336846147750: mux: GOT CSM_Msg
1336846147750: forwarding disabled, not forwarding packets
1336846147848: Received UDP payload: 4368
1336846147858: mux: GOT CSM_Msg
1336846147858: forwarding disabled, not forwarding packets
1336846148334: inside sendPacket(Packet p)
1336846148337: Sending UDP payload: 446
1336846148603: Received UDP payload: 446
1336846149110: Received UDP payload: 642
1336846149116: mux: Inside mux Packet.CLIENT_REQUEST
1336846149175: Received UDP payload: 1006
1336846149196: mux: GOT CSM_Msg
1336846149196: forwarding disabled, not forwarding packets
1336846149205: Received UDP payload: 446
1336846149215: mux: Inside Packet.SERVER_REPLY
1336846149215: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846149274: Received UDP payload: 4368
1336846149277: mux: GOT CSM_Msg
1336846149277: forwarding disabled, not forwarding packets
1336846149329: Received UDP payload: 4021
1336846149331: mux: Inside Packet.SERVER_REPLY
1336846149331: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846149343: Received UDP payload: 446
1336846149345: mux: Inside mux Packet.CLIENT_REQUEST
1336846149500: Received UDP payload: 446
1336846149591: Received UDP payload: 446
1336846149785: Received UDP payload: 446
1336846150229: Received UDP payload: 446
1336846153342: inside sendPacket(Packet p)
1336846153345: Sending UDP payload: 446
1336846153619: Received UDP payload: 446
1336846154510: Received UDP payload: 446
1336846154610: Received UDP payload: 446
1336846154786: Received UDP payload: 446
1336846155237: Received UDP payload: 446
1336846158344: inside sendPacket(Packet p)
1336846158347: Sending UDP payload: 446
1336846158639: Received UDP payload: 446
1336846159527: Received UDP payload: 446
1336846159627: Received UDP payload: 446
1336846159785: Received UDP payload: 446
1336846160240: Received UDP payload: 446
1336846163346: inside sendPacket(Packet p)
1336846163349: Sending UDP payload: 446
1336846163641: Received UDP payload: 446
1336846164518: Received UDP payload: 446
1336846164646: Received UDP payload: 446
1336846164803: Received UDP payload: 446
1336846165288: Received UDP payload: 446
1336846168347: inside sendPacket(Packet p)
1336846168350: Sending UDP payload: 446
1336846168671: Received UDP payload: 446
1336846169556: Received UDP payload: 446
1336846169645: Received UDP payload: 446
1336846169789: Received UDP payload: 446
1336846170254: Received UDP payload: 446
1336846172680: Received UDP payload: 1006
1336846172691: mux: GOT CSM_Msg
1336846172691: forwarding disabled, not forwarding packets
1336846172838: Received UDP payload: 4942
1336846172846: mux: GOT CSM_Msg
1336846172847: forwarding disabled, not forwarding packets
1336846173348: inside sendPacket(Packet p)
1336846173352: Sending UDP payload: 446
1336846173646: Received UDP payload: 446
1336846173861: Received UDP payload: 642
1336846173867: mux: Inside mux Packet.CLIENT_REQUEST
1336846173923: Received UDP payload: 1006
1336846173933: mux: GOT CSM_Msg
1336846173934: forwarding disabled, not forwarding packets
1336846173941: Received UDP payload: 446
1336846173946: mux: Inside Packet.SERVER_REPLY
1336846173946: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846174009: Received UDP payload: 4942
1336846174011: mux: GOT CSM_Msg
1336846174011: forwarding disabled, not forwarding packets
1336846174074: Received UDP payload: 4595
1336846174076: mux: Inside Packet.SERVER_REPLY
1336846174076: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846174099: Received UDP payload: 446
1336846174101: mux: Inside mux Packet.CLIENT_REQUEST
1336846174534: Received UDP payload: 446
1336846174644: Received UDP payload: 446
1336846174789: Received UDP payload: 446
1336846175283: Received UDP payload: 446
1336846176396: Received UDP payload: 642
1336846176403: mux: Inside mux Packet.CLIENT_REQUEST
1336846176403: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846176404: inside handleClientRequest. Originator leader of region 0
1336846176404: got new request, requestCounter = 5001010
1336846176405: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846176407: Sending to region: 3
1336846176408: Sending PROC_REQUEST 11:0 (0,0)->(3,0)
1336846176418: Dispatching Atom PROC_REQUEST 11:0 (0,0)->(3,0)
1336846176421: mux: I got a CSM packet at a leader 

1336846176419: Note down new request by adding requestCounter=5001010 to HashMap processedRequests
1336846176419: Make FirstLeg Ack regardless of new or already-processed requests
1336846176420: The leader sending a First Leg ack to originator client (which id = 5001)
1336846176420: inside sendPacket(Packet p)
1336846176426: Sending UDP payload: 1006
1336846176439: forwarding disabled, not forwarding packets
1336846176442: Sending UDP payload: 446
1336846176513: Received UDP payload: 4942
1336846176516: mux: GOT CSM_Msg
1336846176517: Received PROC_REPLY 11:0 (3,0)->(0,0), handing to UserApp
1336846176517: inside handleDSMReply. Now back in originator leader of region 0
1336846176517: DSM layer: Going to and from remote region took latency = 110
1336846176517: DSM layer: orig leader sent packet at 1336846176407 ~ received reply from remote leader at 1336846176517
1336846176518: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846176518: leader client reply has replyCounter: 500101000
1336846176518: reply packet contains the newest photo/success info from the remote region
1336846176518: inside sendReplies of replyCount = 500101000
1336846176519: =======================
1336846176519: inside sendReplyRepeatingRunnable for replyCount = 500101000
1336846176519: Leader about to send REPLY packet, number: 500101000 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846176520: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846176520: inside sendPacket(Packet p)
1336846176520: === Finished one round of sending REPLY Packet =======
1336846176522: Sending UDP payload: 4595
1336846176600: Received UDP payload: 446
1336846176602: mux: Inside mux Packet.CLIENT_REQUEST
1336846176602: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846176602: inside handleClientRequest. Originator leader of region 0
1336846176602: got new request, requestCounter = 5001011
1336846176602: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500101000
1336846176602: Yay the last leg succeeded. Removing reply runnables ...
1336846176603: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500101000
1336846176603: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500101000
1336846176603: do not send ack for received final_leg_ack
1336846177627: canPressButton = TRUE
1336846177628: areButtonsEnabled --> false 
1336846177628: get picture disableButtonsR
1336846177628: areButtonsEnabled --> false
1336846177655: one more getNum: 4
1336846177656: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=3 getBad=0 getTimedout=0 getPercent=75%
1336846177656: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846177656: change local requestCounter to 9
1336846177657: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014009 Client in region: 0 Client nodID: 5014
1336846177690: ----------------------------
1336846177691: inside sendRequestPacketRepeatingRunnable for requestCount = 5014009
1336846177691: I'm a leader, my requesting photos packet going to mux directly
1336846177698: --- Finished one round of sending REQUEST Packet ---------
1336846177691: mux: Inside mux Packet.CLIENT_REQUEST
1336846177692: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846177737: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846177692: inside handleClientRequest. Originator leader of region 0
1336846177692: got new request, requestCounter = 5014009
1336846177692: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846177693: Sending to region: 3
1336846177693: Sending PROC_REQUEST 11:1 (0,0)->(3,0)
1336846177693: Dispatching Atom PROC_REQUEST 11:1 (0,0)->(3,0)
1336846177694: mux: I got a CSM packet at a leader 

1336846177694: Note down new request by adding requestCounter=5014009 to HashMap processedRequests
1336846177694: Make FirstLeg Ack regardless of new or already-processed requests
1336846177694: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846177697: Sending UDP payload: 1006
1336846177698: forwarding disabled, not forwarding packets
1336846177811: Received UDP payload: 4942
1336846177813: mux: GOT CSM_Msg
1336846177814: Received PROC_REPLY 11:1 (3,0)->(0,0), handing to UserApp
1336846177814: inside handleDSMReply. Now back in originator leader of region 0
1336846177814: DSM layer: Going to and from remote region took latency = 121
1336846177814: DSM layer: orig leader sent packet at 1336846177693 ~ received reply from remote leader at 1336846177814
1336846177815: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846177815: leader client reply has replyCounter: 501400900
1336846177815: reply packet contains the newest photo/success info from the remote region
1336846177815: inside sendReplies of replyCount = 501400900
1336846177823: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846177824: disabling progressdialog due to successful new photo get
1336846177824: Inside _enableButtons
1336846177824: areButtonsEnabled --> true
1336846177824: send final leg ack regardless of new or already-processed reply
1336846177825: inside finalLegAck: change requestCounter to 10
1336846177825: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014010 Client in region: (0,0) Client nodID: 5014
1336846177825: I'm a leader client, my final_leg packet going to mux directly
1336846177827: new client_show_remotephoto reply with replyCounter 501400900
1336846177828: note down new reply by adding replyCounter=501400900 to HashMap processedReplies
1336846177828: leader download remote photo latency = 132
1336846177828: = leader download start 1336846177691 ~ stop 1336846177823
1336846177829: one more getGood: 4
1336846177830: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=4 getBad=0 getTimedout=0 getPercent=100%
1336846177831: adding get latency: 132
1336846177831: Success! Client getting photo from remote region, showing photo...
1336846177832: Remote photo's length: 3914
1336846177816: =======================
1336846177816: inside sendReplyRepeatingRunnable for replyCount = 501400900
1336846177817: Leader about to send REPLY packet, number: 501400900 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846177817: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846177817: === Finished one round of sending REPLY Packet =======
1336846177826: mux: Inside mux Packet.CLIENT_REQUEST
1336846177826: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846177826: inside handleClientRequest. Originator leader of region 0
1336846177826: got new request, requestCounter = 5014010
1336846177826: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501400900
1336846177826: Yay the last leg succeeded. Removing reply runnables ...
1336846177826: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501400900
1336846177826: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501400900
1336846177826: do not send ack for received final_leg_ack
1336846178354: inside sendPacket(Packet p)
1336846178358: Sending UDP payload: 446
1336846178687: Received UDP payload: 446
1336846179562: Received UDP payload: 446
1336846179640: Received UDP payload: 446
1336846179837: Received UDP payload: 446
1336846180271: Received UDP payload: 446
1336846183360: inside sendPacket(Packet p)
1336846183371: Sending UDP payload: 446
1336846183665: Received UDP payload: 446
1336846183835: Received UDP payload: 1006
1336846183845: mux: GOT CSM_Msg
1336846183846: forwarding disabled, not forwarding packets
1336846183892: Received UDP payload: 4942
1336846183895: mux: GOT CSM_Msg
1336846183895: forwarding disabled, not forwarding packets
1336846184542: Received UDP payload: 446
1336846184656: Received UDP payload: 446
1336846184791: Received UDP payload: 446
1336846185296: Received UDP payload: 446
1336846186735: Received UDP payload: 1006
1336846186746: mux: GOT CSM_Msg
1336846186746: forwarding disabled, not forwarding packets
1336846186860: Received UDP payload: 4942
1336846186871: mux: GOT CSM_Msg
1336846186871: forwarding disabled, not forwarding packets
1336846188373: inside sendPacket(Packet p)
1336846188376: Sending UDP payload: 446
1336846188677: Received UDP payload: 446
1336846189544: Received UDP payload: 446
1336846189652: Received UDP payload: 446
1336846189795: Received UDP payload: 446
1336846190300: Received UDP payload: 446
1336846190658: Received UDP payload: 642
1336846190665: mux: Inside mux Packet.CLIENT_REQUEST
1336846190732: Received UDP payload: 1006
1336846190743: mux: GOT CSM_Msg
1336846190744: forwarding disabled, not forwarding packets
1336846190759: Received UDP payload: 446
1336846190763: mux: Inside Packet.SERVER_REPLY
1336846190764: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846190827: Received UDP payload: 4942
1336846190830: mux: GOT CSM_Msg
1336846190830: forwarding disabled, not forwarding packets
1336846190899: Received UDP payload: 4595
1336846190901: mux: Inside Packet.SERVER_REPLY
1336846190901: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846190910: Received UDP payload: 446
1336846190912: mux: Inside mux Packet.CLIENT_REQUEST
1336846191669: Received UDP payload: 1006
1336846191679: mux: GOT CSM_Msg
1336846191679: forwarding disabled, not forwarding packets
1336846191765: Received UDP payload: 4942
1336846191773: mux: GOT CSM_Msg
1336846191774: forwarding disabled, not forwarding packets
1336846193373: inside sendPacket(Packet p)
1336846193376: Sending UDP payload: 446
1336846193674: Received UDP payload: 446
1336846194547: Received UDP payload: 446
1336846194665: Received UDP payload: 446
1336846194793: Received UDP payload: 446
1336846195303: Received UDP payload: 446
1336846196410: Received UDP payload: 1006
1336846196420: mux: GOT CSM_Msg
1336846196421: forwarding disabled, not forwarding packets
1336846196516: Received UDP payload: 4942
1336846196524: mux: GOT CSM_Msg
1336846196524: forwarding disabled, not forwarding packets
1336846197799: Received UDP payload: 642
1336846197804: mux: Inside mux Packet.CLIENT_REQUEST
1336846197860: Received UDP payload: 1006
1336846197863: mux: GOT CSM_Msg
1336846197863: forwarding disabled, not forwarding packets
1336846197874: Received UDP payload: 446
1336846197875: mux: Inside Packet.SERVER_REPLY
1336846197876: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846197933: Received UDP payload: 4942
1336846197936: mux: GOT CSM_Msg
1336846197936: forwarding disabled, not forwarding packets
1336846198012: Received UDP payload: 4595
1336846198014: mux: Inside Packet.SERVER_REPLY
1336846198014: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846198057: Received UDP payload: 446
1336846198059: mux: Inside mux Packet.CLIENT_REQUEST
1336846198373: inside sendPacket(Packet p)
1336846198374: Sending UDP payload: 446
1336846198679: Received UDP payload: 446
1336846199550: Received UDP payload: 446
1336846199667: Received UDP payload: 446
1336846199790: Received UDP payload: 446
1336846200308: Received UDP payload: 446
1336846203373: inside sendPacket(Packet p)
1336846203377: Sending UDP payload: 446
1336846203697: Received UDP payload: 446
1336846204259: Received UDP payload: 1006
1336846204267: mux: GOT CSM_Msg
1336846204268: forwarding disabled, not forwarding packets
1336846204354: Received UDP payload: 4091
1336846204357: mux: GOT CSM_Msg
1336846204357: forwarding disabled, not forwarding packets
1336846204557: Received UDP payload: 446
1336846204673: Received UDP payload: 446
1336846204796: Received UDP payload: 446
1336846205322: Received UDP payload: 446
1336846205616: Received UDP payload: 642
1336846205622: mux: Inside mux Packet.CLIENT_REQUEST
1336846205665: Received UDP payload: 1006
1336846205676: mux: GOT CSM_Msg
1336846205676: forwarding disabled, not forwarding packets
1336846205691: Received UDP payload: 446
1336846205693: mux: Inside Packet.SERVER_REPLY
1336846205693: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846205777: Received UDP payload: 4091
1336846205780: mux: GOT CSM_Msg
1336846205780: forwarding disabled, not forwarding packets
1336846205839: Received UDP payload: 3744
1336846205842: mux: Inside Packet.SERVER_REPLY
1336846205842: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846205866: Received UDP payload: 446
1336846205868: mux: Inside mux Packet.CLIENT_REQUEST
1336846208374: inside sendPacket(Packet p)
1336846208393: Sending UDP payload: 446
1336846208767: Received UDP payload: 446
1336846209587: Received UDP payload: 446
1336846209672: Received UDP payload: 446
1336846209811: Received UDP payload: 446
1336846210336: Received UDP payload: 446
1336846212889: Received UDP payload: 642
1336846212895: mux: Inside mux Packet.CLIENT_REQUEST
1336846212895: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846212896: inside handleClientRequest. Originator leader of region 0
1336846212896: got new request, requestCounter = 5001012
1336846212896: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846212911: Sending to region: 4
1336846212912: Sending PROC_REQUEST 11:0 (0,0)->(4,0)
1336846212914: Dispatching Atom PROC_REQUEST 11:0 (0,0)->(4,0)
1336846212918: mux: I got a CSM packet at a leader 

1336846212914: Note down new request by adding requestCounter=5001012 to HashMap processedRequests
1336846212914: Make FirstLeg Ack regardless of new or already-processed requests
1336846212915: The leader sending a First Leg ack to originator client (which id = 5001)
1336846212915: inside sendPacket(Packet p)
1336846212937: Sending UDP payload: 1006
1336846212940: forwarding disabled, not forwarding packets
1336846212944: Sending UDP payload: 446
1336846213037: Received UDP payload: 4091
1336846213040: mux: GOT CSM_Msg
1336846213041: Received PROC_REPLY 11:0 (4,0)->(0,0), handing to UserApp
1336846213041: inside handleDSMReply. Now back in originator leader of region 0
1336846213041: DSM layer: Going to and from remote region took latency = 130
1336846213041: DSM layer: orig leader sent packet at 1336846212911 ~ received reply from remote leader at 1336846213041
1336846213042: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846213042: leader client reply has replyCounter: 500101200
1336846213042: reply packet contains the newest photo/success info from the remote region
1336846213042: inside sendReplies of replyCount = 500101200
1336846213043: =======================
1336846213043: inside sendReplyRepeatingRunnable for replyCount = 500101200
1336846213043: Leader about to send REPLY packet, number: 500101200 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846213043: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846213043: inside sendPacket(Packet p)
1336846213043: === Finished one round of sending REPLY Packet =======
1336846213045: Sending UDP payload: 3744
1336846213136: Received UDP payload: 446
1336846213138: mux: Inside mux Packet.CLIENT_REQUEST
1336846213138: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846213139: inside handleClientRequest. Originator leader of region 0
1336846213139: got new request, requestCounter = 5001013
1336846213139: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500101200
1336846213139: Yay the last leg succeeded. Removing reply runnables ...
1336846213139: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500101200
1336846213139: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500101200
1336846213139: do not send ack for received final_leg_ack
1336846213396: inside sendPacket(Packet p)
1336846213397: Sending UDP payload: 446
1336846213711: Received UDP payload: 446
1336846214202: canPressButton = TRUE
1336846214203: areButtonsEnabled --> false 
1336846214203: get picture disableButtonsR
1336846214203: areButtonsEnabled --> false
1336846214229: one more getNum: 5
1336846214230: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=0 getTimedout=0 getPercent=80%
1336846214230: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846214231: change local requestCounter to 11
1336846214231: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014011 Client in region: 0 Client nodID: 5014
1336846214262: ----------------------------
1336846214263: inside sendRequestPacketRepeatingRunnable for requestCount = 5014011
1336846214263: I'm a leader, my requesting photos packet going to mux directly
1336846214270: --- Finished one round of sending REQUEST Packet ---------
1336846214263: mux: Inside mux Packet.CLIENT_REQUEST
1336846214263: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846214302: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846214263: inside handleClientRequest. Originator leader of region 0
1336846214263: got new request, requestCounter = 5014011
1336846214263: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846214264: Sending to region: 4
1336846214265: Sending PROC_REQUEST 11:1 (0,0)->(4,0)
1336846214265: Dispatching Atom PROC_REQUEST 11:1 (0,0)->(4,0)
1336846214267: mux: I got a CSM packet at a leader 

1336846214265: Note down new request by adding requestCounter=5014011 to HashMap processedRequests
1336846214266: Make FirstLeg Ack regardless of new or already-processed requests
1336846214266: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846214268: Sending UDP payload: 1006
1336846214269: forwarding disabled, not forwarding packets
1336846214374: Received UDP payload: 4091
1336846214377: mux: GOT CSM_Msg
1336846214385: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846214385: disabling progressdialog due to successful new photo get
1336846214386: Inside _enableButtons
1336846214386: areButtonsEnabled --> true
1336846214386: send final leg ack regardless of new or already-processed reply
1336846214387: inside finalLegAck: change requestCounter to 12
1336846214393: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014012 Client in region: (0,0) Client nodID: 5014
1336846214394: I'm a leader client, my final_leg packet going to mux directly
1336846214395: new client_show_remotephoto reply with replyCounter 501401100
1336846214395: note down new reply by adding replyCounter=501401100 to HashMap processedReplies
1336846214395: leader download remote photo latency = 122
1336846214396: = leader download start 1336846214263 ~ stop 1336846214385
1336846214397: one more getGood: 5
1336846214398: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=5 getBad=0 getTimedout=0 getPercent=100%
1336846214400: adding get latency: 122
1336846214400: Success! Client getting photo from remote region, showing photo...
1336846214400: Remote photo's length: 3063
1336846214378: Received PROC_REPLY 11:1 (4,0)->(0,0), handing to UserApp
1336846214378: inside handleDSMReply. Now back in originator leader of region 0
1336846214378: DSM layer: Going to and from remote region took latency = 114
1336846214378: DSM layer: orig leader sent packet at 1336846214264 ~ received reply from remote leader at 1336846214378
1336846214379: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846214379: leader client reply has replyCounter: 501401100
1336846214379: reply packet contains the newest photo/success info from the remote region
1336846214379: inside sendReplies of replyCount = 501401100
1336846214380: =======================
1336846214380: inside sendReplyRepeatingRunnable for replyCount = 501401100
1336846214380: Leader about to send REPLY packet, number: 501401100 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846214380: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846214381: === Finished one round of sending REPLY Packet =======
1336846214394: mux: Inside mux Packet.CLIENT_REQUEST
1336846214394: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846214394: inside handleClientRequest. Originator leader of region 0
1336846214394: got new request, requestCounter = 5014012
1336846214394: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501401100
1336846214394: Yay the last leg succeeded. Removing reply runnables ...
1336846214395: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501401100
1336846214395: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501401100
1336846214395: do not send ack for received final_leg_ack
1336846214554: Received UDP payload: 446
1336846214685: Received UDP payload: 446
1336846214798: Received UDP payload: 446
1336846214998: Received UDP payload: 1006
1336846215010: mux: GOT CSM_Msg
1336846215010: forwarding disabled, not forwarding packets
1336846215086: Received UDP payload: 4091
1336846215089: mux: GOT CSM_Msg
1336846215089: forwarding disabled, not forwarding packets
1336846215346: Received UDP payload: 446
1336846218396: inside sendPacket(Packet p)
1336846218411: Sending UDP payload: 446
1336846218729: Received UDP payload: 446
1336846219557: Received UDP payload: 446
1336846219690: Received UDP payload: 446
1336846219795: Received UDP payload: 446
1336846220348: Received UDP payload: 446
1336846222055: Received UDP payload: 642
1336846222063: mux: Inside mux Packet.CLIENT_REQUEST
1336846222137: Received UDP payload: 1006
1336846222140: mux: GOT CSM_Msg
1336846222140: forwarding disabled, not forwarding packets
1336846222146: Received UDP payload: 446
1336846222148: mux: Inside Packet.SERVER_REPLY
1336846222148: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846222254: Received UDP payload: 4091
1336846222257: mux: GOT CSM_Msg
1336846222257: forwarding disabled, not forwarding packets
1336846222315: Received UDP payload: 3744
1336846222317: mux: Inside Packet.SERVER_REPLY
1336846222317: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846222328: Received UDP payload: 446
1336846222330: mux: Inside mux Packet.CLIENT_REQUEST
1336846222419: Received UDP payload: 1006
1336846222422: mux: GOT CSM_Msg
1336846222422: forwarding disabled, not forwarding packets
1336846222478: Received UDP payload: 4091
1336846222482: mux: GOT CSM_Msg
1336846222482: forwarding disabled, not forwarding packets
1336846223264: Received UDP payload: 1006
1336846223274: mux: GOT CSM_Msg
1336846223274: forwarding disabled, not forwarding packets
1336846223364: Received UDP payload: 4091
1336846223373: mux: GOT CSM_Msg
1336846223373: forwarding disabled, not forwarding packets
1336846223414: inside sendPacket(Packet p)
1336846223417: Sending UDP payload: 446
1336846223720: Received UDP payload: 446
1336846224589: Received UDP payload: 446
1336846224676: Received UDP payload: 446
1336846224798: Received UDP payload: 446
1336846225400: Received UDP payload: 446
1336846228415: inside sendPacket(Packet p)
1336846228419: Sending UDP payload: 446
1336846228762: Received UDP payload: 446
1336846228834: Received UDP payload: 1006
1336846228842: mux: GOT CSM_Msg
1336846228843: forwarding disabled, not forwarding packets
1336846228883: Received UDP payload: 4091
1336846228891: mux: GOT CSM_Msg
1336846228891: forwarding disabled, not forwarding packets
1336846229642: Received UDP payload: 446
1336846229690: Received UDP payload: 446
1336846229804: Received UDP payload: 446
1336846230121: Received UDP payload: 642
1336846230127: mux: Inside mux Packet.CLIENT_REQUEST
1336846230153: Received UDP payload: 1006
1336846230171: mux: GOT CSM_Msg
1336846230172: forwarding disabled, not forwarding packets
1336846230173: Received UDP payload: 446
1336846230185: mux: Inside Packet.SERVER_REPLY
1336846230186: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846230219: Received UDP payload: 4091
1336846230221: mux: GOT CSM_Msg
1336846230221: forwarding disabled, not forwarding packets
1336846230263: Received UDP payload: 3744
1336846230265: mux: Inside Packet.SERVER_REPLY
1336846230265: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846230279: Received UDP payload: 446
1336846230281: mux: Inside mux Packet.CLIENT_REQUEST
1336846230355: Received UDP payload: 446
1336846233416: inside sendPacket(Packet p)
1336846233432: Sending UDP payload: 446
1336846233734: Received UDP payload: 446
1336846234593: Received UDP payload: 446
1336846234705: Received UDP payload: 446
1336846234801: Received UDP payload: 446
1336846235374: Received UDP payload: 446
1336846235677: Received UDP payload: 1006
1336846235687: mux: GOT CSM_Msg
1336846235687: forwarding disabled, not forwarding packets
1336846235811: Received UDP payload: 4368
1336846235826: mux: GOT CSM_Msg
1336846235826: forwarding disabled, not forwarding packets
1336846236695: Received UDP payload: 642
1336846236702: mux: Inside mux Packet.CLIENT_REQUEST
1336846236728: Received UDP payload: 1006
1336846236737: mux: GOT CSM_Msg
1336846236737: forwarding disabled, not forwarding packets
1336846236744: Received UDP payload: 446
1336846236762: mux: Inside Packet.SERVER_REPLY
1336846236762: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846236817: Received UDP payload: 4368
1336846236820: mux: GOT CSM_Msg
1336846236820: forwarding disabled, not forwarding packets
1336846236882: Received UDP payload: 4021
1336846236883: mux: Inside Packet.SERVER_REPLY
1336846236883: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846236902: Received UDP payload: 446
1336846236903: mux: Inside mux Packet.CLIENT_REQUEST
1336846238435: inside sendPacket(Packet p)
1336846238439: Sending UDP payload: 446
1336846238735: Received UDP payload: 446
1336846239614: Received UDP payload: 446
1336846239705: Received UDP payload: 446
1336846239810: Received UDP payload: 446
1336846240395: Received UDP payload: 446
1336846242776: Received UDP payload: 642
1336846242782: mux: Inside mux Packet.CLIENT_REQUEST
1336846242783: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846242783: inside handleClientRequest. Originator leader of region 0
1336846242784: got new request, requestCounter = 5001014
1336846242784: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846242786: Sending to region: 5
1336846242787: Sending PROC_REQUEST 11:0 (0,0)->(5,0)
1336846242802: Dispatching Atom PROC_REQUEST 11:0 (0,0)->(5,0)
1336846242806: mux: I got a CSM packet at a leader 

1336846242803: Note down new request by adding requestCounter=5001014 to HashMap processedRequests
1336846242803: Make FirstLeg Ack regardless of new or already-processed requests
1336846242805: The leader sending a First Leg ack to originator client (which id = 5001)
1336846242805: inside sendPacket(Packet p)
1336846242812: Sending UDP payload: 1006
1336846242832: forwarding disabled, not forwarding packets
1336846242833: Sending UDP payload: 446
1336846242914: Received UDP payload: 4368
1336846242916: mux: GOT CSM_Msg
1336846242917: Received PROC_REPLY 11:0 (5,0)->(0,0), handing to UserApp
1336846242917: inside handleDSMReply. Now back in originator leader of region 0
1336846242917: DSM layer: Going to and from remote region took latency = 131
1336846242917: DSM layer: orig leader sent packet at 1336846242786 ~ received reply from remote leader at 1336846242917
1336846242918: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846242918: leader client reply has replyCounter: 500101400
1336846242918: reply packet contains the newest photo/success info from the remote region
1336846242918: inside sendReplies of replyCount = 500101400
1336846242919: =======================
1336846242919: inside sendReplyRepeatingRunnable for replyCount = 500101400
1336846242919: Leader about to send REPLY packet, number: 500101400 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846242919: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846242919: inside sendPacket(Packet p)
1336846242920: === Finished one round of sending REPLY Packet =======
1336846242922: Sending UDP payload: 4021
1336846242990: Received UDP payload: 446
1336846242991: mux: Inside mux Packet.CLIENT_REQUEST
1336846242992: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846242992: inside handleClientRequest. Originator leader of region 0
1336846242992: got new request, requestCounter = 5001015
1336846242992: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500101400
1336846242992: Yay the last leg succeeded. Removing reply runnables ...
1336846242992: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500101400
1336846242992: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500101400
1336846242992: do not send ack for received final_leg_ack
1336846243436: inside sendPacket(Packet p)
1336846243437: Sending UDP payload: 446
1336846243737: Received UDP payload: 446
1336846244009: canPressButton = TRUE
1336846244010: areButtonsEnabled --> false 
1336846244010: get picture disableButtonsR
1336846244010: areButtonsEnabled --> false
1336846244036: one more getNum: 6
1336846244037: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=5 getBad=0 getTimedout=0 getPercent=83%
1336846244037: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846244038: change local requestCounter to 13
1336846244038: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014013 Client in region: 0 Client nodID: 5014
1336846244069: ----------------------------
1336846244069: inside sendRequestPacketRepeatingRunnable for requestCount = 5014013
1336846244070: I'm a leader, my requesting photos packet going to mux directly
1336846244078: --- Finished one round of sending REQUEST Packet ---------
1336846244070: mux: Inside mux Packet.CLIENT_REQUEST
1336846244070: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846244164: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846244070: inside handleClientRequest. Originator leader of region 0
1336846244070: got new request, requestCounter = 5014013
1336846244070: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846244071: Sending to region: 5
1336846244072: Sending PROC_REQUEST 11:1 (0,0)->(5,0)
1336846244072: Dispatching Atom PROC_REQUEST 11:1 (0,0)->(5,0)
1336846244075: mux: I got a CSM packet at a leader 

1336846244072: Note down new request by adding requestCounter=5014013 to HashMap processedRequests
1336846244072: Make FirstLeg Ack regardless of new or already-processed requests
1336846244072: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846244077: Sending UDP payload: 1006
1336846244078: forwarding disabled, not forwarding packets
1336846244185: Received UDP payload: 4368
1336846244188: mux: GOT CSM_Msg
1336846244219: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846244220: disabling progressdialog due to successful new photo get
1336846244220: Inside _enableButtons
1336846244220: areButtonsEnabled --> true
1336846244222: send final leg ack regardless of new or already-processed reply
1336846244222: inside finalLegAck: change requestCounter to 14
1336846244223: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014014 Client in region: (0,0) Client nodID: 5014
1336846244223: I'm a leader client, my final_leg packet going to mux directly
1336846244224: new client_show_remotephoto reply with replyCounter 501401300
1336846244225: note down new reply by adding replyCounter=501401300 to HashMap processedReplies
1336846244225: leader download remote photo latency = 149
1336846244225: = leader download start 1336846244070 ~ stop 1336846244219
1336846244227: one more getGood: 6
1336846244228: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846244228: adding get latency: 149
1336846244229: Success! Client getting photo from remote region, showing photo...
1336846244229: Remote photo's length: 3340
1336846244188: Received PROC_REPLY 11:1 (5,0)->(0,0), handing to UserApp
1336846244188: inside handleDSMReply. Now back in originator leader of region 0
1336846244188: DSM layer: Going to and from remote region took latency = 117
1336846244188: DSM layer: orig leader sent packet at 1336846244071 ~ received reply from remote leader at 1336846244188
1336846244189: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846244190: leader client reply has replyCounter: 501401300
1336846244190: reply packet contains the newest photo/success info from the remote region
1336846244190: inside sendReplies of replyCount = 501401300
1336846244190: =======================
1336846244190: inside sendReplyRepeatingRunnable for replyCount = 501401300
1336846244190: Leader about to send REPLY packet, number: 501401300 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846244191: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846244191: === Finished one round of sending REPLY Packet =======
1336846244223: mux: Inside mux Packet.CLIENT_REQUEST
1336846244223: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846244223: inside handleClientRequest. Originator leader of region 0
1336846244224: got new request, requestCounter = 5014014
1336846244224: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501401300
1336846244224: Yay the last leg succeeded. Removing reply runnables ...
1336846244224: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501401300
1336846244224: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501401300
1336846244224: do not send ack for received final_leg_ack
1336846244632: Received UDP payload: 446
1336846244695: Received UDP payload: 446
1336846244804: Received UDP payload: 446
1336846245414: Received UDP payload: 446
1336846248436: inside sendPacket(Packet p)
1336846248447: Sending UDP payload: 446
1336846248744: Received UDP payload: 446
1336846249668: Received UDP payload: 446
1336846249722: Received UDP payload: 446
1336846249814: Received UDP payload: 446
1336846250455: Received UDP payload: 446
1336846251151: Received UDP payload: 1006
1336846251160: mux: GOT CSM_Msg
1336846251161: forwarding disabled, not forwarding packets
1336846251256: Received UDP payload: 4368
1336846251264: mux: GOT CSM_Msg
1336846251265: forwarding disabled, not forwarding packets
1336846252698: Received UDP payload: 1006
1336846252710: mux: GOT CSM_Msg
1336846252710: forwarding disabled, not forwarding packets
1336846252798: Received UDP payload: 4368
1336846252807: mux: GOT CSM_Msg
1336846252808: forwarding disabled, not forwarding packets
1336846253451: inside sendPacket(Packet p)
1336846253455: Sending UDP payload: 446
1336846253750: Received UDP payload: 446
1336846254680: Received UDP payload: 446
1336846254707: Received UDP payload: 446
1336846254817: Received UDP payload: 446
1336846255432: Received UDP payload: 446
1336846257800: Received UDP payload: 642
1336846257805: mux: Inside mux Packet.CLIENT_REQUEST
1336846257872: Received UDP payload: 1006
1336846257880: mux: GOT CSM_Msg
1336846257881: forwarding disabled, not forwarding packets
1336846257889: Received UDP payload: 446
1336846257893: mux: Inside Packet.SERVER_REPLY
1336846257893: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846257929: Received UDP payload: 4368
1336846257939: mux: GOT CSM_Msg
1336846257939: forwarding disabled, not forwarding packets
1336846257972: Received UDP payload: 4021
1336846257974: mux: Inside Packet.SERVER_REPLY
1336846257974: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846257987: Received UDP payload: 446
1336846257989: mux: Inside mux Packet.CLIENT_REQUEST
1336846258457: inside sendPacket(Packet p)
1336846258461: Sending UDP payload: 446
1336846258758: Received UDP payload: 446
1336846258927: Received UDP payload: 1006
1336846258936: mux: GOT CSM_Msg
1336846258936: forwarding disabled, not forwarding packets
1336846258979: Received UDP payload: 4368
1336846258981: mux: GOT CSM_Msg
1336846258981: forwarding disabled, not forwarding packets
1336846259635: Received UDP payload: 446
1336846259701: Received UDP payload: 446
1336846259864: Received UDP payload: 446
1336846260424: Received UDP payload: 446
1336846260779: leader to cloud hearbeat...
1336846263460: inside sendPacket(Packet p)
1336846263464: Sending UDP payload: 446
1336846263846: Received UDP payload: 446
1336846264647: Received UDP payload: 446
1336846264707: Received UDP payload: 446
1336846264887: Received UDP payload: 446
1336846265433: Received UDP payload: 446
1336846266641: Received UDP payload: 1006
1336846266648: mux: GOT CSM_Msg
1336846266649: forwarding disabled, not forwarding packets
1336846266807: Received UDP payload: 4368
1336846266815: mux: GOT CSM_Msg
1336846266816: forwarding disabled, not forwarding packets
1336846267899: Received UDP payload: 642
1336846267904: mux: Inside mux Packet.CLIENT_REQUEST
1336846267932: Received UDP payload: 1006
1336846267947: mux: GOT CSM_Msg
1336846267948: forwarding disabled, not forwarding packets
1336846267955: Received UDP payload: 446
1336846267960: mux: Inside Packet.SERVER_REPLY
1336846267960: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846268028: Received UDP payload: 4368
1336846268030: mux: GOT CSM_Msg
1336846268030: forwarding disabled, not forwarding packets
1336846268092: Received UDP payload: 4021
1336846268094: mux: Inside Packet.SERVER_REPLY
1336846268095: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846268129: Received UDP payload: 446
1336846268132: mux: Inside mux Packet.CLIENT_REQUEST
1336846268461: inside sendPacket(Packet p)
1336846268463: Sending UDP payload: 446
1336846268779: Received UDP payload: 446
1336846269670: Received UDP payload: 446
1336846269722: Received UDP payload: 446
1336846269885: Received UDP payload: 446
1336846270643: Received UDP payload: 446
1336846273464: inside sendPacket(Packet p)
1336846273467: Sending UDP payload: 446
1336846273797: Received UDP payload: 446
1336846274669: Received UDP payload: 446
1336846274709: Received UDP payload: 446
1336846274878: Received UDP payload: 446
1336846275660: Received UDP payload: 446
1336846278464: inside sendPacket(Packet p)
1336846278467: Sending UDP payload: 446
1336846278806: Received UDP payload: 446
1336846279683: Received UDP payload: 446
1336846279708: Received UDP payload: 446
1336846279879: Received UDP payload: 446
1336846280663: Received UDP payload: 446
1336846283465: inside sendPacket(Packet p)
1336846283480: Sending UDP payload: 446
1336846283816: Received UDP payload: 446
1336846284697: Received UDP payload: 446
1336846284722: Received UDP payload: 446
1336846284886: Received UDP payload: 446
1336846285684: Received UDP payload: 446
1336846288465: inside sendPacket(Packet p)
1336846288477: Sending UDP payload: 446
1336846288823: Received UDP payload: 446
1336846289742: Received UDP payload: 446
1336846289760: Received UDP payload: 446
1336846289911: Received UDP payload: 446
1336846290731: Received UDP payload: 446
1336846293493: inside sendPacket(Packet p)
1336846293497: Sending UDP payload: 446
1336846293848: Received UDP payload: 446
1336846294738: Received UDP payload: 446
1336846294750: Received UDP payload: 446
1336846294899: Received UDP payload: 446
1336846295730: Received UDP payload: 446
1336846298494: inside sendPacket(Packet p)
1336846298497: Sending UDP payload: 446
1336846298838: Received UDP payload: 446
1336846299742: Received UDP payload: 446
1336846299771: Received UDP payload: 446
1336846299889: Received UDP payload: 446
1336846300768: Received UDP payload: 446
1336846303497: inside sendPacket(Packet p)
1336846303500: Sending UDP payload: 446
1336846303875: Received UDP payload: 446
1336846304751: Received UDP payload: 446
1336846304769: Received UDP payload: 446
1336846304885: Received UDP payload: 446
1336846305785: Received UDP payload: 446
1336846308497: inside sendPacket(Packet p)
1336846308511: Sending UDP payload: 446
1336846308846: Received UDP payload: 446
1336846309722: Received UDP payload: 446
1336846309746: Received UDP payload: 446
1336846309883: Received UDP payload: 446
1336846310834: Received UDP payload: 446
1336846311965: Received UDP payload: 3771
1336846311973: mux: GOT CSM_Msg
1336846311974: forwarding disabled, not forwarding packets
1336846311989: Received UDP payload: 1006
1336846311996: mux: GOT CSM_Msg
1336846311997: forwarding disabled, not forwarding packets
1336846312092: Received UDP payload: 3409
1336846312096: mux: Inside mux Packet.CLIENT_REQUEST
1336846312147: Received UDP payload: 3773
1336846312156: mux: GOT CSM_Msg
1336846312156: forwarding disabled, not forwarding packets
1336846312165: Received UDP payload: 446
1336846312170: mux: Inside Packet.SERVER_REPLY
1336846312170: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846312176: Received UDP payload: 1006
1336846312184: mux: GOT CSM_Msg
1336846312185: forwarding disabled, not forwarding packets
1336846312195: Received UDP payload: 659
1336846312200: mux: Inside Packet.SERVER_REPLY
1336846312201: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846312201: Received UDP payload: 446
1336846312205: mux: Inside mux Packet.CLIENT_REQUEST
1336846313514: inside sendPacket(Packet p)
1336846313517: Sending UDP payload: 446
1336846313874: Received UDP payload: 446
1336846314795: Received UDP payload: 446
1336846314802: Received UDP payload: 446
1336846314889: Received UDP payload: 446
1336846315827: Received UDP payload: 446
1336846318517: inside sendPacket(Packet p)
1336846318519: Sending UDP payload: 446
1336846318854: Received UDP payload: 446
1336846319752: Received UDP payload: 446
1336846319815: Received UDP payload: 446
1336846319944: Received UDP payload: 446
1336846320779: Received UDP payload: 446
1336846323517: inside sendPacket(Packet p)
1336846323520: Sending UDP payload: 446
1336846323893: Received UDP payload: 446
1336846323943: Received UDP payload: 3757
1336846323951: mux: GOT CSM_Msg
1336846323951: forwarding disabled, not forwarding packets
1336846323956: Received UDP payload: 1006
1336846323964: mux: GOT CSM_Msg
1336846323965: forwarding disabled, not forwarding packets
1336846324751: Received UDP payload: 446
1336846324790: Received UDP payload: 446
1336846324815: canPressButton = TRUE
1336846324815: areButtonsEnabled --> false
1336846324815: disabling buttons ...
1336846324816: took picture disableButtonsR
1336846324816: areButtonsEnabled --> false
1336846324841: one more takeNum: 2
1336846324842: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846324842: Clicked take picture button ..
1336846324893: Received UDP payload: 446
1336846325506: Received UDP payload: 3547
1336846325507: mux: Inside mux Packet.CLIENT_REQUEST
1336846325508: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846325508: inside handleClientRequest. Originator leader of region 0
1336846325508: got new request, requestCounter = 5001016
1336846325508: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846325508: Sending PROC_REQUEST 10:4 (0,0)->(0,0)
1336846325509: Dispatching Atom PROC_REQUEST 10:4 (0,0)->(0,0)
1336846325509: mux: I got a CSM packet at a leader 

1336846325548: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846325549: I'm a leader and I successfully saved my client's new photo
1336846325549: now showing in UI the new photo I just saved ... 
1336846325550: the photo length: 2883
1336846325600: end of server show photo aside %%%%%%%%%
1336846325509: Note down new request by adding requestCounter=5001016 to HashMap processedRequests
1336846325509: Make FirstLeg Ack regardless of new or already-processed requests
1336846325509: The leader sending a First Leg ack to originator client (which id = 5001)
1336846325509: inside sendPacket(Packet p)
1336846325510: Sending UDP payload: 3911
1336846325520: removed replies before id 4 from sentReplies of size 0
1336846325520: inside handleDSMRequest. At requests's remote leader of region 0
1336846325521: Inside UPLOAD_PHOTO!!
1336846325524: my_gpinfo.isSuccess is now (should be true): true
1336846325524: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846325529: Received PROC_REQUEST 10:4 (0,0)->(0,0), replying PROC_REPLY 10:4 (0,0)->(0,0)
1336846325530: Dispatching Atom PROC_REPLY 10:4 (0,0)->(0,0)
1336846325537: mux: I got a CSM packet at a leader 

1336846325530: Sending UDP payload: 446
1336846325538: Sending UDP payload: 1006
1336846325540: Received PROC_REPLY 10:4 (0,0)->(0,0), handing to UserApp
1336846325540: inside handleDSMReply. Now back in originator leader of region 0
1336846325540: DSM layer: Going to and from remote region took latency = 32
1336846325540: DSM layer: orig leader sent packet at 1336846325508 ~ received reply from remote leader at 1336846325540
1336846325541: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846325541: leader client reply has replyCounter: 500101600
1336846325541: reply packet contains the success info for UPLOAD_PHOTO
1336846325541: inside sendReplies of replyCount = 500101600
1336846325541: =======================
1336846325541: inside sendReplyRepeatingRunnable for replyCount = 500101600
1336846325542: Leader about to send REPLY packet, number: 500101600 type: 16 Leader in region: (0,0) to Client nodID: 5001
1336846325542: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846325542: inside sendPacket(Packet p)
1336846325542: === Finished one round of sending REPLY Packet =======
1336846325546: Sending UDP payload: 659
1336846325628: Received UDP payload: 446
1336846325630: mux: Inside mux Packet.CLIENT_REQUEST
1336846325630: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846325630: inside handleClientRequest. Originator leader of region 0
1336846325631: got new request, requestCounter = 5001017
1336846325631: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500101600
1336846325631: Yay the last leg succeeded. Removing reply runnables ...
1336846325631: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500101600
1336846325631: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500101600
1336846325631: do not send ack for received final_leg_ack
1336846325840: Received UDP payload: 446
1336846326087: inside HandlePictureStorage onPictureTaken()
1336846326088: one more takeCamGood: 2
1336846326088: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846326576: Picture successfully taken, ORIG BYTE LENGTH = 2154148
1336846327127: Our new height x width: 306 x 408
1336846327127: Show photo from handle my camera take
1336846327128: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846327128: change local requestCounter to 15
1336846327141: BYTE SIZE AFTER COMPRESSION: 2829
1336846327142: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5014015 Client in region: 0 Client nodID: 5014
1336846327167: ----------------------------
1336846327168: inside sendRequestPacketRepeatingRunnable for requestCount = 5014015
1336846327168: I'm a leader, my requesting photos packet going to mux directly
1336846327177: --- Finished one round of sending REQUEST Packet ---------
1336846327168: mux: Inside mux Packet.CLIENT_REQUEST
1336846327169: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846327204: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846327169: inside handleClientRequest. Originator leader of region 0
1336846327169: got new request, requestCounter = 5014015
1336846327169: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846327169: Sending PROC_REQUEST 10:5 (0,0)->(0,0)
1336846327170: Dispatching Atom PROC_REQUEST 10:5 (0,0)->(0,0)
1336846327170: mux: I got a CSM packet at a leader 

1336846327205: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846327206: I'm a leader and I successfully saved my client's new photo
1336846327207: now showing in UI the new photo I just saved ... 
1336846327207: the photo length: 2829
1336846327240: end of server show photo aside %%%%%%%%%
1336846327170: Note down new request by adding requestCounter=5014015 to HashMap processedRequests
1336846327170: Make FirstLeg Ack regardless of new or already-processed requests
1336846327170: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846327171: Sending UDP payload: 3857
1336846327173: removed replies before id 5 from sentReplies of size 0
1336846327173: inside handleDSMRequest. At requests's remote leader of region 0
1336846327174: Inside UPLOAD_PHOTO!!
1336846327176: my_gpinfo.isSuccess is now (should be true): true
1336846327176: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846327179: Received PROC_REQUEST 10:5 (0,0)->(0,0), replying PROC_REPLY 10:5 (0,0)->(0,0)
1336846327180: Dispatching Atom PROC_REPLY 10:5 (0,0)->(0,0)
1336846327180: mux: I got a CSM packet at a leader 

1336846327243: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846327243: disabling progressdialog due to successful new photo upload
1336846327243: Inside _enableButtons
1336846327244: areButtonsEnabled --> true
1336846327244: send final leg ack regardless of new or already-processed reply
1336846327245: inside finalLegAck: change requestCounter to 16
1336846327245: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014016 Client in region: (0,0) Client nodID: 5014
1336846327246: I'm a leader client, my final_leg packet going to mux directly
1336846327247: new client_upload_photo_ack reply with replyCounter 501401500
1336846327247: note down new reply by adding replyCounter=501401500 to HashMap processedReplies
1336846327248: leader upload new photo latency = 75
1336846327248: = leader upload start 1336846327168 ~ stop 1336846327243
1336846327249: one more takeGoodSave: 2
1336846327250: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846327250: adding take latency: 75
1336846327251: SUCCESS Client now knows saving photo on its leader succeeded
1336846327181: Sending UDP payload: 1006
1336846327189: Received PROC_REPLY 10:5 (0,0)->(0,0), handing to UserApp
1336846327189: inside handleDSMReply. Now back in originator leader of region 0
1336846327189: DSM layer: Going to and from remote region took latency = 20
1336846327190: DSM layer: orig leader sent packet at 1336846327169 ~ received reply from remote leader at 1336846327189
1336846327190: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846327190: leader client reply has replyCounter: 501401500
1336846327191: reply packet contains the success info for UPLOAD_PHOTO
1336846327191: inside sendReplies of replyCount = 501401500
1336846327191: =======================
1336846327191: inside sendReplyRepeatingRunnable for replyCount = 501401500
1336846327191: Leader about to send REPLY packet, number: 501401500 type: 16 Leader in region: (0,0) to Client nodID: 5014
1336846327191: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846327191: === Finished one round of sending REPLY Packet =======
1336846327246: mux: Inside mux Packet.CLIENT_REQUEST
1336846327246: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846327246: inside handleClientRequest. Originator leader of region 0
1336846327246: got new request, requestCounter = 5014016
1336846327246: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501401500
1336846327246: Yay the last leg succeeded. Removing reply runnables ...
1336846327246: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501401500
1336846327247: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501401500
1336846327247: do not send ack for received final_leg_ack
1336846328518: inside sendPacket(Packet p)
1336846328531: Sending UDP payload: 446
1336846328861: Received UDP payload: 446
1336846329756: Received UDP payload: 446
1336846329776: Received UDP payload: 446
1336846329910: Received UDP payload: 446
1336846330823: Received UDP payload: 446
1336846331326: Received UDP payload: 3370
1336846331332: mux: Inside mux Packet.CLIENT_REQUEST
1336846331378: Received UDP payload: 3734
1336846331385: mux: GOT CSM_Msg
1336846331385: forwarding disabled, not forwarding packets
1336846331395: Received UDP payload: 446
1336846331399: mux: Inside Packet.SERVER_REPLY
1336846331400: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846331404: Received UDP payload: 1006
1336846331419: mux: GOT CSM_Msg
1336846331419: forwarding disabled, not forwarding packets
1336846331419: Received UDP payload: 659
1336846331421: mux: Inside Packet.SERVER_REPLY
1336846331421: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846331444: Received UDP payload: 446
1336846331445: mux: Inside mux Packet.CLIENT_REQUEST
1336846332133: canPressButton = TRUE
1336846332133: areButtonsEnabled --> false
1336846332133: disabling buttons ...
1336846332133: took picture disableButtonsR
1336846332134: areButtonsEnabled --> false
1336846332159: one more takeNum: 3
1336846332160: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846332160: Clicked take picture button ..
1336846332415: Received UDP payload: 3777
1336846332418: mux: GOT CSM_Msg
1336846332418: forwarding disabled, not forwarding packets
1336846332433: Received UDP payload: 1006
1336846332435: mux: GOT CSM_Msg
1336846332435: forwarding disabled, not forwarding packets
1336846332726: Received UDP payload: 3489
1336846332728: mux: Inside mux Packet.CLIENT_REQUEST
1336846332728: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846332728: inside handleClientRequest. Originator leader of region 0
1336846332730: got new request, requestCounter = 5001018
1336846332730: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846332731: Sending PROC_REQUEST 10:6 (0,0)->(0,0)
1336846332731: Dispatching Atom PROC_REQUEST 10:6 (0,0)->(0,0)
1336846332731: mux: I got a CSM packet at a leader 

1336846332740: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846332741: I'm a leader and I successfully saved my client's new photo
1336846332742: now showing in UI the new photo I just saved ... 
1336846332742: the photo length: 2825
1336846332811: end of server show photo aside %%%%%%%%%
1336846332731: Note down new request by adding requestCounter=5001018 to HashMap processedRequests
1336846332731: Make FirstLeg Ack regardless of new or already-processed requests
1336846332731: The leader sending a First Leg ack to originator client (which id = 5001)
1336846332731: inside sendPacket(Packet p)
1336846332733: Sending UDP payload: 3853
1336846332734: removed replies before id 6 from sentReplies of size 0
1336846332734: inside handleDSMRequest. At requests's remote leader of region 0
1336846332735: Inside UPLOAD_PHOTO!!
1336846332736: my_gpinfo.isSuccess is now (should be true): true
1336846332736: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846332792: Received PROC_REQUEST 10:6 (0,0)->(0,0), replying PROC_REPLY 10:6 (0,0)->(0,0)
1336846332792: Dispatching Atom PROC_REPLY 10:6 (0,0)->(0,0)
1336846332795: mux: I got a CSM packet at a leader 

1336846332793: Sending UDP payload: 446
1336846332797: Sending UDP payload: 1006
1336846332798: Received PROC_REPLY 10:6 (0,0)->(0,0), handing to UserApp
1336846332798: inside handleDSMReply. Now back in originator leader of region 0
1336846332798: DSM layer: Going to and from remote region took latency = 68
1336846332798: DSM layer: orig leader sent packet at 1336846332730 ~ received reply from remote leader at 1336846332798
1336846332799: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846332799: leader client reply has replyCounter: 500101800
1336846332799: reply packet contains the success info for UPLOAD_PHOTO
1336846332807: inside sendReplies of replyCount = 500101800
1336846332807: =======================
1336846332808: inside sendReplyRepeatingRunnable for replyCount = 500101800
1336846332808: Leader about to send REPLY packet, number: 500101800 type: 16 Leader in region: (0,0) to Client nodID: 5001
1336846332808: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846332808: inside sendPacket(Packet p)
1336846332808: === Finished one round of sending REPLY Packet =======
1336846332810: Sending UDP payload: 659
1336846332864: Received UDP payload: 446
1336846332866: mux: Inside mux Packet.CLIENT_REQUEST
1336846332866: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846332866: inside handleClientRequest. Originator leader of region 0
1336846332867: got new request, requestCounter = 5001019
1336846332867: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500101800
1336846332867: Yay the last leg succeeded. Removing reply runnables ...
1336846332867: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500101800
1336846332867: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500101800
1336846332867: do not send ack for received final_leg_ack
1336846333414: inside HandlePictureStorage onPictureTaken()
1336846333415: one more takeCamGood: 3
1336846333415: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846333903: Picture successfully taken, ORIG BYTE LENGTH = 2020375
1336846334115: Our new height x width: 306 x 408
1336846334115: Show photo from handle my camera take
1336846334115: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846334116: change local requestCounter to 17
1336846334129: BYTE SIZE AFTER COMPRESSION: 2833
1336846334130: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5014017 Client in region: 0 Client nodID: 5014
1336846333535: inside sendPacket(Packet p)
1336846333536: Sending UDP payload: 446
1336846333876: Received UDP payload: 446
1336846334155: ----------------------------
1336846334155: inside sendRequestPacketRepeatingRunnable for requestCount = 5014017
1336846334155: I'm a leader, my requesting photos packet going to mux directly
1336846334167: --- Finished one round of sending REQUEST Packet ---------
1336846334156: mux: Inside mux Packet.CLIENT_REQUEST
1336846334156: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846334192: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846334156: inside handleClientRequest. Originator leader of region 0
1336846334156: got new request, requestCounter = 5014017
1336846334156: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846334157: Sending PROC_REQUEST 10:7 (0,0)->(0,0)
1336846334157: Dispatching Atom PROC_REQUEST 10:7 (0,0)->(0,0)
1336846334158: mux: I got a CSM packet at a leader 

1336846334193: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846334194: I'm a leader and I successfully saved my client's new photo
1336846334194: now showing in UI the new photo I just saved ... 
1336846334194: the photo length: 2833
1336846334227: end of server show photo aside %%%%%%%%%
1336846334157: Note down new request by adding requestCounter=5014017 to HashMap processedRequests
1336846334157: Make FirstLeg Ack regardless of new or already-processed requests
1336846334157: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846334159: Sending UDP payload: 3861
1336846334161: removed replies before id 7 from sentReplies of size 0
1336846334161: inside handleDSMRequest. At requests's remote leader of region 0
1336846334162: Inside UPLOAD_PHOTO!!
1336846334163: my_gpinfo.isSuccess is now (should be true): true
1336846334163: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846334165: Received PROC_REQUEST 10:7 (0,0)->(0,0), replying PROC_REPLY 10:7 (0,0)->(0,0)
1336846334165: Dispatching Atom PROC_REPLY 10:7 (0,0)->(0,0)
1336846334166: mux: I got a CSM packet at a leader 

1336846334228: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846334229: disabling progressdialog due to successful new photo upload
1336846334229: Inside _enableButtons
1336846334229: areButtonsEnabled --> true
1336846334229: send final leg ack regardless of new or already-processed reply
1336846334230: inside finalLegAck: change requestCounter to 18
1336846334230: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014018 Client in region: (0,0) Client nodID: 5014
1336846334230: I'm a leader client, my final_leg packet going to mux directly
1336846334232: new client_upload_photo_ack reply with replyCounter 501401700
1336846334232: note down new reply by adding replyCounter=501401700 to HashMap processedReplies
1336846334232: leader upload new photo latency = 72
1336846334232: = leader upload start 1336846334156 ~ stop 1336846334228
1336846334233: one more takeGoodSave: 3
1336846334234: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846334234: adding take latency: 72
1336846334235: SUCCESS Client now knows saving photo on its leader succeeded
1336846334167: Sending UDP payload: 1006
1336846334176: Received PROC_REPLY 10:7 (0,0)->(0,0), handing to UserApp
1336846334176: inside handleDSMReply. Now back in originator leader of region 0
1336846334176: DSM layer: Going to and from remote region took latency = 20
1336846334176: DSM layer: orig leader sent packet at 1336846334156 ~ received reply from remote leader at 1336846334176
1336846334177: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846334177: leader client reply has replyCounter: 501401700
1336846334177: reply packet contains the success info for UPLOAD_PHOTO
1336846334177: inside sendReplies of replyCount = 501401700
1336846334178: =======================
1336846334178: inside sendReplyRepeatingRunnable for replyCount = 501401700
1336846334178: Leader about to send REPLY packet, number: 501401700 type: 16 Leader in region: (0,0) to Client nodID: 5014
1336846334178: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846334178: === Finished one round of sending REPLY Packet =======
1336846334230: mux: Inside mux Packet.CLIENT_REQUEST
1336846334230: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846334231: inside handleClientRequest. Originator leader of region 0
1336846334231: got new request, requestCounter = 5014018
1336846334231: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501401700
1336846334231: Yay the last leg succeeded. Removing reply runnables ...
1336846334231: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501401700
1336846334231: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501401700
1336846334231: do not send ack for received final_leg_ack
1336846334768: Received UDP payload: 446
1336846334793: Received UDP payload: 446
1336846334896: Received UDP payload: 446
1336846335842: Received UDP payload: 446
1336846338541: inside sendPacket(Packet p)
1336846338550: Sending UDP payload: 446
1336846338869: Received UDP payload: 446
1336846339877: Received UDP payload: 446
1336846339922: Received UDP payload: 446
1336846339931: Received UDP payload: 446
1336846340813: Received UDP payload: 446
1336846343542: inside sendPacket(Packet p)
1336846343546: Sending UDP payload: 446
1336846343921: Received UDP payload: 446
1336846344785: Received UDP payload: 446
1336846344807: Received UDP payload: 446
1336846344906: Received UDP payload: 446
1336846345820: Received UDP payload: 446
1336846348545: inside sendPacket(Packet p)
1336846348548: Sending UDP payload: 446
1336846348886: Received UDP payload: 446
1336846349775: Received UDP payload: 446
1336846349827: Received UDP payload: 446
1336846349906: Received UDP payload: 446
1336846350822: Received UDP payload: 446
1336846351679: Received UDP payload: 3790
1336846351690: mux: GOT CSM_Msg
1336846351692: forwarding disabled, not forwarding packets
1336846351703: Received UDP payload: 1006
1336846351722: mux: GOT CSM_Msg
1336846351723: forwarding disabled, not forwarding packets
1336846353547: inside sendPacket(Packet p)
1336846353550: Sending UDP payload: 446
1336846353879: Received UDP payload: 446
1336846354816: Received UDP payload: 446
1336846354845: Received UDP payload: 446
1336846354935: Received UDP payload: 446
1336846355834: Received UDP payload: 446
1336846358551: inside sendPacket(Packet p)
1336846358561: Sending UDP payload: 446
1336846358578: Received UDP payload: 3734
1336846358594: mux: GOT CSM_Msg
1336846358595: forwarding disabled, not forwarding packets
1336846358601: Received UDP payload: 1006
1336846358608: mux: GOT CSM_Msg
1336846358608: forwarding disabled, not forwarding packets
1336846358923: Received UDP payload: 446
1336846359783: Received UDP payload: 446
1336846359868: Received UDP payload: 446
1336846359904: Received UDP payload: 446
1336846360837: Received UDP payload: 446
1336846362879: Received UDP payload: 3370
1336846362885: mux: Inside mux Packet.CLIENT_REQUEST
1336846363008: Received UDP payload: 3734
1336846363016: mux: GOT CSM_Msg
1336846363016: forwarding disabled, not forwarding packets
1336846363017: Received UDP payload: 446
1336846363028: mux: Inside Packet.SERVER_REPLY
1336846363029: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846363031: Received UDP payload: 1006
1336846363045: mux: GOT CSM_Msg
1336846363045: forwarding disabled, not forwarding packets
1336846363046: Received UDP payload: 659
1336846363056: mux: Inside Packet.SERVER_REPLY
1336846363057: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846363065: Received UDP payload: 446
1336846363068: mux: Inside mux Packet.CLIENT_REQUEST
1336846363551: inside sendPacket(Packet p)
1336846363554: Sending UDP payload: 446
1336846363900: Received UDP payload: 446
1336846364773: Received UDP payload: 446
1336846364880: Received UDP payload: 446
1336846364925: Received UDP payload: 446
1336846365870: Received UDP payload: 446
1336846368551: inside sendPacket(Packet p)
1336846368553: Sending UDP payload: 446
1336846368884: Received UDP payload: 446
1336846369769: Received UDP payload: 446
1336846369871: Received UDP payload: 446
1336846369904: Received UDP payload: 446
1336846370870: Received UDP payload: 446
1336846373551: inside sendPacket(Packet p)
1336846373554: Sending UDP payload: 446
1336846373887: Received UDP payload: 446
1336846374795: Received UDP payload: 446
1336846374883: Received UDP payload: 446
1336846374904: Received UDP payload: 446
1336846375572: Received UDP payload: 3370
1336846375576: mux: Inside mux Packet.CLIENT_REQUEST
1336846375577: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846375577: inside handleClientRequest. Originator leader of region 0
1336846375578: got new request, requestCounter = 5001020
1336846375578: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846375590: Sending PROC_REQUEST 10:8 (0,0)->(0,0)
1336846375592: Dispatching Atom PROC_REQUEST 10:8 (0,0)->(0,0)
1336846375594: mux: I got a CSM packet at a leader 

1336846375630: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846375631: I'm a leader and I successfully saved my client's new photo
1336846375631: now showing in UI the new photo I just saved ... 
1336846375632: the photo length: 2706
1336846375676: end of server show photo aside %%%%%%%%%
1336846375592: Note down new request by adding requestCounter=5001020 to HashMap processedRequests
1336846375592: Make FirstLeg Ack regardless of new or already-processed requests
1336846375593: The leader sending a First Leg ack to originator client (which id = 5001)
1336846375593: inside sendPacket(Packet p)
1336846375598: Sending UDP payload: 3734
1336846375611: removed replies before id 8 from sentReplies of size 0
1336846375611: inside handleDSMRequest. At requests's remote leader of region 0
1336846375614: Inside UPLOAD_PHOTO!!
1336846375616: my_gpinfo.isSuccess is now (should be true): true
1336846375617: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846375621: Received PROC_REQUEST 10:8 (0,0)->(0,0), replying PROC_REPLY 10:8 (0,0)->(0,0)
1336846375621: Dispatching Atom PROC_REPLY 10:8 (0,0)->(0,0)
1336846375664: mux: I got a CSM packet at a leader 

1336846375622: Sending UDP payload: 446
1336846375665: Sending UDP payload: 1006
1336846375666: Received PROC_REPLY 10:8 (0,0)->(0,0), handing to UserApp
1336846375666: inside handleDSMReply. Now back in originator leader of region 0
1336846375666: DSM layer: Going to and from remote region took latency = 88
1336846375666: DSM layer: orig leader sent packet at 1336846375578 ~ received reply from remote leader at 1336846375666
1336846375667: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846375667: leader client reply has replyCounter: 500102000
1336846375667: reply packet contains the success info for UPLOAD_PHOTO
1336846375667: inside sendReplies of replyCount = 500102000
1336846375668: =======================
1336846375668: inside sendReplyRepeatingRunnable for replyCount = 500102000
1336846375669: Leader about to send REPLY packet, number: 500102000 type: 16 Leader in region: (0,0) to Client nodID: 5001
1336846375669: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846375669: inside sendPacket(Packet p)
1336846375669: === Finished one round of sending REPLY Packet =======
1336846375671: Sending UDP payload: 659
1336846375772: Received UDP payload: 446
1336846375774: mux: Inside mux Packet.CLIENT_REQUEST
1336846375774: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846375774: inside handleClientRequest. Originator leader of region 0
1336846375774: got new request, requestCounter = 5001021
1336846375774: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500102000
1336846375775: Yay the last leg succeeded. Removing reply runnables ...
1336846375775: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500102000
1336846375775: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500102000
1336846375775: do not send ack for received final_leg_ack
1336846375918: Received UDP payload: 446
1336846377107: canPressButton = TRUE
1336846377107: areButtonsEnabled --> false
1336846377107: disabling buttons ...
1336846377108: took picture disableButtonsR
1336846377108: areButtonsEnabled --> false
1336846377134: one more takeNum: 4
1336846377134: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846377135: Clicked take picture button ..
1336846378429: inside HandlePictureStorage onPictureTaken()
1336846378429: one more takeCamGood: 4
1336846378430: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846378919: Picture successfully taken, ORIG BYTE LENGTH = 2344939
1336846379136: Our new height x width: 306 x 408
1336846379136: Show photo from handle my camera take
1336846379137: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846379137: change local requestCounter to 19
1336846379151: BYTE SIZE AFTER COMPRESSION: 2777
1336846379152: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5014019 Client in region: 0 Client nodID: 5014
1336846378551: inside sendPacket(Packet p)
1336846378552: Sending UDP payload: 446
1336846378908: Received UDP payload: 446
1336846379186: ----------------------------
1336846379186: inside sendRequestPacketRepeatingRunnable for requestCount = 5014019
1336846379187: I'm a leader, my requesting photos packet going to mux directly
1336846379197: --- Finished one round of sending REQUEST Packet ---------
1336846379187: mux: Inside mux Packet.CLIENT_REQUEST
1336846379187: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846379221: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846379187: inside handleClientRequest. Originator leader of region 0
1336846379187: got new request, requestCounter = 5014019
1336846379187: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846379188: Sending PROC_REQUEST 10:9 (0,0)->(0,0)
1336846379188: Dispatching Atom PROC_REQUEST 10:9 (0,0)->(0,0)
1336846379189: mux: I got a CSM packet at a leader 

1336846379222: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846379223: I'm a leader and I successfully saved my client's new photo
1336846379224: now showing in UI the new photo I just saved ... 
1336846379224: the photo length: 2777
1336846379261: end of server show photo aside %%%%%%%%%
1336846379188: Note down new request by adding requestCounter=5014019 to HashMap processedRequests
1336846379188: Make FirstLeg Ack regardless of new or already-processed requests
1336846379188: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846379190: Sending UDP payload: 3805
1336846379191: removed replies before id 9 from sentReplies of size 0
1336846379192: inside handleDSMRequest. At requests's remote leader of region 0
1336846379193: Inside UPLOAD_PHOTO!!
1336846379194: my_gpinfo.isSuccess is now (should be true): true
1336846379194: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846379196: Received PROC_REQUEST 10:9 (0,0)->(0,0), replying PROC_REPLY 10:9 (0,0)->(0,0)
1336846379197: Dispatching Atom PROC_REPLY 10:9 (0,0)->(0,0)
1336846379197: mux: I got a CSM packet at a leader 

1336846379262: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846379262: disabling progressdialog due to successful new photo upload
1336846379263: Inside _enableButtons
1336846379263: areButtonsEnabled --> true
1336846379263: send final leg ack regardless of new or already-processed reply
1336846379263: inside finalLegAck: change requestCounter to 20
1336846379264: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014020 Client in region: (0,0) Client nodID: 5014
1336846379264: I'm a leader client, my final_leg packet going to mux directly
1336846379265: new client_upload_photo_ack reply with replyCounter 501401900
1336846379265: note down new reply by adding replyCounter=501401900 to HashMap processedReplies
1336846379266: leader upload new photo latency = 75
1336846379266: = leader upload start 1336846379187 ~ stop 1336846379262
1336846379267: one more takeGoodSave: 4
1336846379268: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846379269: adding take latency: 75
1336846379270: SUCCESS Client now knows saving photo on its leader succeeded
1336846379206: Sending UDP payload: 1006
1336846379207: Received PROC_REPLY 10:9 (0,0)->(0,0), handing to UserApp
1336846379208: inside handleDSMReply. Now back in originator leader of region 0
1336846379208: DSM layer: Going to and from remote region took latency = 20
1336846379208: DSM layer: orig leader sent packet at 1336846379187 ~ received reply from remote leader at 1336846379207
1336846379209: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846379209: leader client reply has replyCounter: 501401900
1336846379209: reply packet contains the success info for UPLOAD_PHOTO
1336846379209: inside sendReplies of replyCount = 501401900
1336846379209: =======================
1336846379209: inside sendReplyRepeatingRunnable for replyCount = 501401900
1336846379210: Leader about to send REPLY packet, number: 501401900 type: 16 Leader in region: (0,0) to Client nodID: 5014
1336846379210: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846379210: === Finished one round of sending REPLY Packet =======
1336846379264: mux: Inside mux Packet.CLIENT_REQUEST
1336846379264: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846379264: inside handleClientRequest. Originator leader of region 0
1336846379264: got new request, requestCounter = 5014020
1336846379264: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501401900
1336846379265: Yay the last leg succeeded. Removing reply runnables ...
1336846379265: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501401900
1336846379265: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501401900
1336846379265: do not send ack for received final_leg_ack
1336846379770: Received UDP payload: 446
1336846379873: Received UDP payload: 446
1336846380317: Received UDP payload: 446
1336846380869: Received UDP payload: 446
1336846381184: leader to cloud hearbeat...
1336846383551: inside sendPacket(Packet p)
1336846383561: Sending UDP payload: 446
1336846383886: Received UDP payload: 446
1336846384767: Received UDP payload: 446
1336846384892: Received UDP payload: 446
1336846385331: Received UDP payload: 446
1336846385956: Received UDP payload: 446
1336846388564: inside sendPacket(Packet p)
1336846388567: Sending UDP payload: 446
1336846388942: Received UDP payload: 446
1336846389819: Received UDP payload: 446
1336846389884: Received UDP payload: 446
1336846390346: Received UDP payload: 446
1336846391100: Received UDP payload: 446
1336846393566: inside sendPacket(Packet p)
1336846393577: Sending UDP payload: 446
1336846393894: Received UDP payload: 446
1336846394883: Received UDP payload: 446
1336846395036: Received UDP payload: 446
1336846395350: Received UDP payload: 446
1336846395882: Received UDP payload: 642
1336846395887: mux: Inside mux Packet.CLIENT_REQUEST
1336846395887: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846395887: inside handleClientRequest. Originator leader of region 0
1336846395888: got new request, requestCounter = 5001022
1336846395888: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846395890: Sending to region: 0
1336846395891: Sending PROC_REQUEST 11:10 (0,0)->(0,0)
1336846395892: Dispatching Atom PROC_REQUEST 11:10 (0,0)->(0,0)
1336846395894: mux: I got a CSM packet at a leader 

1336846395893: Note down new request by adding requestCounter=5001022 to HashMap processedRequests
1336846395893: Make FirstLeg Ack regardless of new or already-processed requests
1336846395894: The leader sending a First Leg ack to originator client (which id = 5001)
1336846395894: inside sendPacket(Packet p)
1336846395912: Sending UDP payload: 1006
1336846395921: removed replies before id 10 from sentReplies of size 0
1336846395921: inside handleDSMRequest. At requests's remote leader of region 0
1336846395923: INSIDE SERVER_GET_PHOTO!!!
1336846395925: dst_region == src_region = 0
1336846395925:  1 self to self atomRequest
1336846395941: Received PROC_REQUEST 11:10 (0,0)->(0,0), replying PROC_REPLY 11:10 (0,0)->(0,0)
1336846395942: Dispatching Atom PROC_REPLY 11:10 (0,0)->(0,0)
1336846395946: mux: I got a CSM packet at a leader 

1336846395944: Sending UDP payload: 446
1336846395959: Sending UDP payload: 3805
1336846395962: Received PROC_REPLY 11:10 (0,0)->(0,0), handing to UserApp
1336846395962: inside handleDSMReply. Now back in originator leader of region 0
1336846395962: DSM layer: Going to and from remote region took latency = 71
1336846395962: DSM layer: orig leader sent packet at 1336846395891 ~ received reply from remote leader at 1336846395962
1336846395963: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846395963: leader client reply has replyCounter: 500102200
1336846395963: reply packet contains the newest photo/success info from the remote region
1336846395963: inside sendReplies of replyCount = 500102200
1336846395963: =======================
1336846395963: inside sendReplyRepeatingRunnable for replyCount = 500102200
1336846395963: Leader about to send REPLY packet, number: 500102200 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846395964: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846395964: inside sendPacket(Packet p)
1336846395964: === Finished one round of sending REPLY Packet =======
1336846395965: Sending UDP payload: 3458
1336846396065: Received UDP payload: 446
1336846396067: mux: Inside mux Packet.CLIENT_REQUEST
1336846396067: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846396067: inside handleClientRequest. Originator leader of region 0
1336846396067: got new request, requestCounter = 5001023
1336846396068: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500102200
1336846396068: Yay the last leg succeeded. Removing reply runnables ...
1336846396068: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500102200
1336846396068: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500102200
1336846396068: do not send ack for received final_leg_ack
1336846396110: Received UDP payload: 446
1336846397177: Received UDP payload: 1006
1336846397179: mux: GOT CSM_Msg
1336846397179: removed replies before id 2 from sentReplies of size 0
1336846397180: inside handleDSMRequest. At requests's remote leader of region 0
1336846397180: INSIDE SERVER_GET_PHOTO!!!
1336846397181: Received PROC_REQUEST 11:2 (1,0)->(0,0), replying PROC_REPLY 11:2 (0,0)->(1,0)
1336846397182: Dispatching Atom PROC_REPLY 11:2 (0,0)->(1,0)
1336846397182: mux: I got a CSM packet at a leader 

1336846397183: Sending UDP payload: 3805
1336846397190: forwarding disabled, not forwarding packets
1336846397335: canPressButton = TRUE
1336846397335: areButtonsEnabled --> false 
1336846397336: get picture disableButtonsR
1336846397336: areButtonsEnabled --> false
1336846397362: one more getNum: 7
1336846397363: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=6 getBad=0 getTimedout=0 getPercent=85%
1336846397363: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846397363: change local requestCounter to 21
1336846397364: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014021 Client in region: 0 Client nodID: 5014
1336846397393: ----------------------------
1336846397394: inside sendRequestPacketRepeatingRunnable for requestCount = 5014021
1336846397394: I'm a leader, my requesting photos packet going to mux directly
1336846397405: --- Finished one round of sending REQUEST Packet ---------
1336846397394: mux: Inside mux Packet.CLIENT_REQUEST
1336846397394: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846397464: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846397395: inside handleClientRequest. Originator leader of region 0
1336846397395: got new request, requestCounter = 5014021
1336846397395: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846397396: Sending to region: 0
1336846397396: Sending PROC_REQUEST 11:11 (0,0)->(0,0)
1336846397397: Dispatching Atom PROC_REQUEST 11:11 (0,0)->(0,0)
1336846397397: mux: I got a CSM packet at a leader 

1336846397397: Note down new request by adding requestCounter=5014021 to HashMap processedRequests
1336846397397: Make FirstLeg Ack regardless of new or already-processed requests
1336846397397: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846397400: Sending UDP payload: 1006
1336846397401: removed replies before id 11 from sentReplies of size 0
1336846397401: inside handleDSMRequest. At requests's remote leader of region 0
1336846397402: INSIDE SERVER_GET_PHOTO!!!
1336846397403: dst_region == src_region = 0
1336846397403:  1 self to self atomRequest
1336846397403: Received PROC_REQUEST 11:11 (0,0)->(0,0), replying PROC_REPLY 11:11 (0,0)->(0,0)
1336846397404: Dispatching Atom PROC_REPLY 11:11 (0,0)->(0,0)
1336846397404: mux: I got a CSM packet at a leader 

1336846397469: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846397469: disabling progressdialog due to successful new photo get
1336846397469: Inside _enableButtons
1336846397470: areButtonsEnabled --> true
1336846397470: send final leg ack regardless of new or already-processed reply
1336846397470: inside finalLegAck: change requestCounter to 22
1336846397470: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014022 Client in region: (0,0) Client nodID: 5014
1336846397470: I'm a leader client, my final_leg packet going to mux directly
1336846397472: new client_show_remotephoto reply with replyCounter 501402100
1336846397472: note down new reply by adding replyCounter=501402100 to HashMap processedReplies
1336846397472: leader download remote photo latency = 75
1336846397473: = leader download start 1336846397394 ~ stop 1336846397469
1336846397474: one more getGood: 7
1336846397477: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=7 getBad=0 getTimedout=0 getPercent=100%
1336846397477: adding get latency: 75
1336846397478: Success! Client getting photo from remote region, showing photo...
1336846397478: Remote photo's length: 2777
1336846397405: Sending UDP payload: 3805
1336846397420: Received PROC_REPLY 11:11 (0,0)->(0,0), handing to UserApp
1336846397420: inside handleDSMReply. Now back in originator leader of region 0
1336846397420: DSM layer: Going to and from remote region took latency = 24
1336846397420: DSM layer: orig leader sent packet at 1336846397396 ~ received reply from remote leader at 1336846397420
1336846397421: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846397421: leader client reply has replyCounter: 501402100
1336846397421: reply packet contains the newest photo/success info from the remote region
1336846397422: inside sendReplies of replyCount = 501402100
1336846397422: =======================
1336846397422: inside sendReplyRepeatingRunnable for replyCount = 501402100
1336846397422: Leader about to send REPLY packet, number: 501402100 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846397422: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846397422: === Finished one round of sending REPLY Packet =======
1336846397471: mux: Inside mux Packet.CLIENT_REQUEST
1336846397471: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846397471: inside handleClientRequest. Originator leader of region 0
1336846397471: got new request, requestCounter = 5014022
1336846397471: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501402100
1336846397471: Yay the last leg succeeded. Removing reply runnables ...
1336846397471: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501402100
1336846397471: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501402100
1336846397471: do not send ack for received final_leg_ack
1336846398450: Received UDP payload: 642
1336846398456: mux: Inside mux Packet.CLIENT_REQUEST
1336846398493: Received UDP payload: 1006
1336846398504: mux: GOT CSM_Msg
1336846398505: removed replies before id 3 from sentReplies of size 0
1336846398505: inside handleDSMRequest. At requests's remote leader of region 0
1336846398509: INSIDE SERVER_GET_PHOTO!!!
1336846398528: Received UDP payload: 446
1336846398535: mux: Inside Packet.SERVER_REPLY
1336846398536: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846398533: Received PROC_REQUEST 11:3 (1,0)->(0,0), replying PROC_REPLY 11:3 (0,0)->(1,0)
1336846398534: Dispatching Atom PROC_REPLY 11:3 (0,0)->(1,0)
1336846398536: mux: I got a CSM packet at a leader 

1336846398542: Sending UDP payload: 3805
1336846398543: forwarding disabled, not forwarding packets
1336846398566: inside sendPacket(Packet p)
1336846398567: Sending UDP payload: 446
1336846398637: Received UDP payload: 3458
1336846398639: mux: Inside Packet.SERVER_REPLY
1336846398639: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846398653: Received UDP payload: 446
1336846398654: mux: Inside mux Packet.CLIENT_REQUEST
1336846398886: Received UDP payload: 446
1336846399878: Received UDP payload: 446
1336846400031: Received UDP payload: 446
1336846400360: Received UDP payload: 446
1336846401115: Received UDP payload: 446
1336846403568: inside sendPacket(Packet p)
1336846403571: Sending UDP payload: 446
1336846404232: Received UDP payload: 446
1336846404898: Received UDP payload: 446
1336846405007: Received UDP payload: 446
1336846405241: Received UDP payload: 1006
1336846405250: mux: GOT CSM_Msg
1336846405251: removed replies before id 1 from sentReplies of size 0
1336846405251: inside handleDSMRequest. At requests's remote leader of region 0
1336846405253: INSIDE SERVER_GET_PHOTO!!!
1336846405258: Received PROC_REQUEST 11:1 (3,0)->(0,0), replying PROC_REPLY 11:1 (0,0)->(3,0)
1336846405271: Dispatching Atom PROC_REPLY 11:1 (0,0)->(3,0)
1336846405272: mux: I got a CSM packet at a leader 

1336846405276: Sending UDP payload: 3805
1336846405291: forwarding disabled, not forwarding packets
1336846405355: Received UDP payload: 446
1336846405388: Received UDP payload: 1006
1336846405392: mux: GOT CSM_Msg
1336846405392: removed replies before id 1 from sentReplies of size 0
1336846405392: inside handleDSMRequest. At requests's remote leader of region 0
1336846405393: INSIDE SERVER_GET_PHOTO!!!
1336846405395: Received PROC_REQUEST 11:1 (2,0)->(0,0), replying PROC_REPLY 11:1 (0,0)->(2,0)
1336846405395: Dispatching Atom PROC_REPLY 11:1 (0,0)->(2,0)
1336846405396: mux: I got a CSM packet at a leader 

1336846405398: Sending UDP payload: 3805
1336846405409: forwarding disabled, not forwarding packets
1336846406130: Received UDP payload: 446
1336846408570: inside sendPacket(Packet p)
1336846408573: Sending UDP payload: 446
1336846409230: Received UDP payload: 446
1336846410009: Received UDP payload: 446
1336846410376: Received UDP payload: 446
1336846410912: Received UDP payload: 642
1336846410917: mux: Inside mux Packet.CLIENT_REQUEST
1336846410981: Received UDP payload: 1006
1336846410989: mux: GOT CSM_Msg
1336846410990: removed replies before id 2 from sentReplies of size 0
1336846410990: inside handleDSMRequest. At requests's remote leader of region 0
1336846410992: INSIDE SERVER_GET_PHOTO!!!
1336846410997: Received PROC_REQUEST 11:2 (5,0)->(0,0), replying PROC_REPLY 11:2 (0,0)->(5,0)
1336846410998: Dispatching Atom PROC_REPLY 11:2 (0,0)->(5,0)
1336846410998: mux: I got a CSM packet at a leader 

1336846411001: Received UDP payload: 446
1336846411027: mux: Inside Packet.SERVER_REPLY
1336846411027: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846411018: Sending UDP payload: 3805
1336846411026: forwarding disabled, not forwarding packets
1336846411117: Received UDP payload: 3458
1336846411119: mux: Inside Packet.SERVER_REPLY
1336846411119: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846411128: Received UDP payload: 446
1336846411137: Received UDP payload: 446
1336846411139: mux: Inside mux Packet.CLIENT_REQUEST
1336846411977: Received UDP payload: 1006
1336846411984: mux: GOT CSM_Msg
1336846411985: removed replies before id 3 from sentReplies of size 0
1336846411986: inside handleDSMRequest. At requests's remote leader of region 0
1336846411988: INSIDE SERVER_GET_PHOTO!!!
1336846412004: Received PROC_REQUEST 11:3 (5,0)->(0,0), replying PROC_REPLY 11:3 (0,0)->(5,0)
1336846412005: Dispatching Atom PROC_REPLY 11:3 (0,0)->(5,0)
1336846412005: mux: I got a CSM packet at a leader 

1336846412018: Sending UDP payload: 3805
1336846412022: forwarding disabled, not forwarding packets
1336846413188: Received UDP payload: 1006
1336846413195: mux: GOT CSM_Msg
1336846413195: removed replies before id 2 from sentReplies of size 0
1336846413196: inside handleDSMRequest. At requests's remote leader of region 0
1336846413197: INSIDE SERVER_GET_PHOTO!!!
1336846413214: Received PROC_REQUEST 11:2 (4,0)->(0,0), replying PROC_REPLY 11:2 (0,0)->(4,0)
1336846413216: Dispatching Atom PROC_REPLY 11:2 (0,0)->(4,0)
1336846413216: mux: I got a CSM packet at a leader 

1336846413221: Sending UDP payload: 3805
1336846413230: forwarding disabled, not forwarding packets
1336846413571: inside sendPacket(Packet p)
1336846413572: Sending UDP payload: 446
1336846414280: Received UDP payload: 446
1336846414692: Received UDP payload: 642
1336846414697: mux: Inside mux Packet.CLIENT_REQUEST
1336846414751: Received UDP payload: 1006
1336846414762: mux: GOT CSM_Msg
1336846414762: removed replies before id 3 from sentReplies of size 0
1336846414762: inside handleDSMRequest. At requests's remote leader of region 0
1336846414763: INSIDE SERVER_GET_PHOTO!!!
1336846414764: Received PROC_REQUEST 11:3 (4,0)->(0,0), replying PROC_REPLY 11:3 (0,0)->(4,0)
1336846414765: Dispatching Atom PROC_REPLY 11:3 (0,0)->(4,0)
1336846414766: mux: I got a CSM packet at a leader 

1336846414767: Sending UDP payload: 3805
1336846414767: forwarding disabled, not forwarding packets
1336846414771: Received UDP payload: 446
1336846414772: mux: Inside Packet.SERVER_REPLY
1336846414772: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846414861: Received UDP payload: 3458
1336846414863: mux: Inside Packet.SERVER_REPLY
1336846414863: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846414872: Received UDP payload: 446
1336846414874: mux: Inside mux Packet.CLIENT_REQUEST
1336846414896: Received UDP payload: 446
1336846415005: Received UDP payload: 446
1336846415353: Received UDP payload: 446
1336846416181: Received UDP payload: 446
1336846418571: inside sendPacket(Packet p)
1336846418575: Sending UDP payload: 446
1336846419250: Received UDP payload: 446
1336846419961: Received UDP payload: 446
1336846420067: Received UDP payload: 446
1336846420359: Received UDP payload: 446
1336846421131: Received UDP payload: 446
1336846423574: inside sendPacket(Packet p)
1336846423582: Sending UDP payload: 446
1336846424244: Received UDP payload: 446
1336846424900: Received UDP payload: 446
1336846425020: Received UDP payload: 446
1336846425364: Received UDP payload: 446
1336846426147: Received UDP payload: 446
1336846428584: inside sendPacket(Packet p)
1336846428595: Sending UDP payload: 446
1336846429231: Received UDP payload: 446
1336846429900: Received UDP payload: 446
1336846430032: Received UDP payload: 446
1336846430369: Received UDP payload: 446
1336846431041: Received UDP payload: 1006
1336846431048: mux: GOT CSM_Msg
1336846431048: forwarding disabled, not forwarding packets
1336846431080: Received UDP payload: 3773
1336846431089: mux: GOT CSM_Msg
1336846431089: forwarding disabled, not forwarding packets
1336846431147: Received UDP payload: 446
1336846431629: Received UDP payload: 642
1336846431635: mux: Inside mux Packet.CLIENT_REQUEST
1336846431635: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846431636: inside handleClientRequest. Originator leader of region 0
1336846431636: got new request, requestCounter = 5001024
1336846431636: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846431638: Sending to region: 1
1336846431650: Sending PROC_REQUEST 11:2 (0,0)->(1,0)
1336846431651: Dispatching Atom PROC_REQUEST 11:2 (0,0)->(1,0)
1336846431654: mux: I got a CSM packet at a leader 

1336846431652: Note down new request by adding requestCounter=5001024 to HashMap processedRequests
1336846431652: Make FirstLeg Ack regardless of new or already-processed requests
1336846431653: The leader sending a First Leg ack to originator client (which id = 5001)
1336846431653: inside sendPacket(Packet p)
1336846431665: Sending UDP payload: 1006
1336846431674: forwarding disabled, not forwarding packets
1336846431677: Sending UDP payload: 446
1336846431752: Received UDP payload: 3773
1336846431755: mux: GOT CSM_Msg
1336846431756: Received PROC_REPLY 11:2 (1,0)->(0,0), handing to UserApp
1336846431756: inside handleDSMReply. Now back in originator leader of region 0
1336846431756: DSM layer: Going to and from remote region took latency = 107
1336846431756: DSM layer: orig leader sent packet at 1336846431649 ~ received reply from remote leader at 1336846431756
1336846431757: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846431758: leader client reply has replyCounter: 500102400
1336846431758: reply packet contains the newest photo/success info from the remote region
1336846431758: inside sendReplies of replyCount = 500102400
1336846431758: =======================
1336846431758: inside sendReplyRepeatingRunnable for replyCount = 500102400
1336846431759: Leader about to send REPLY packet, number: 500102400 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846431759: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846431759: inside sendPacket(Packet p)
1336846431759: === Finished one round of sending REPLY Packet =======
1336846431761: Sending UDP payload: 3426
1336846431812: Received UDP payload: 446
1336846431814: mux: Inside mux Packet.CLIENT_REQUEST
1336846431814: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846431815: inside handleClientRequest. Originator leader of region 0
1336846431815: got new request, requestCounter = 5001025
1336846431815: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500102400
1336846431815: Yay the last leg succeeded. Removing reply runnables ...
1336846431815: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500102400
1336846431815: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500102400
1336846431816: do not send ack for received final_leg_ack
1336846432454: Received UDP payload: 642
1336846432458: mux: Inside mux Packet.CLIENT_REQUEST
1336846432495: Received UDP payload: 1006
1336846432503: mux: GOT CSM_Msg
1336846432503: forwarding disabled, not forwarding packets
1336846432543: Received UDP payload: 446
1336846432545: mux: Inside Packet.SERVER_REPLY
1336846432545: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846432586: Received UDP payload: 3773
1336846432588: mux: GOT CSM_Msg
1336846432588: forwarding disabled, not forwarding packets
1336846432629: Received UDP payload: 3426
1336846432630: mux: Inside Packet.SERVER_REPLY
1336846432630: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846432643: Received UDP payload: 446
1336846432644: mux: Inside mux Packet.CLIENT_REQUEST
1336846433199: canPressButton = TRUE
1336846433199: areButtonsEnabled --> false 
1336846433199: get picture disableButtonsR
1336846433200: areButtonsEnabled --> false
1336846433241: one more getNum: 8
1336846433241: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=7 getBad=0 getTimedout=0 getPercent=87%
1336846433242: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846433242: change local requestCounter to 23
1336846433243: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014023 Client in region: 0 Client nodID: 5014
1336846433299: ----------------------------
1336846433300: inside sendRequestPacketRepeatingRunnable for requestCount = 5014023
1336846433300: I'm a leader, my requesting photos packet going to mux directly
1336846433307: --- Finished one round of sending REQUEST Packet ---------
1336846433300: mux: Inside mux Packet.CLIENT_REQUEST
1336846433300: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846433347: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846433301: inside handleClientRequest. Originator leader of region 0
1336846433301: got new request, requestCounter = 5014023
1336846433301: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846433302: Sending to region: 1
1336846433302: Sending PROC_REQUEST 11:3 (0,0)->(1,0)
1336846433302: Dispatching Atom PROC_REQUEST 11:3 (0,0)->(1,0)
1336846433304: mux: I got a CSM packet at a leader 

1336846433303: Note down new request by adding requestCounter=5014023 to HashMap processedRequests
1336846433303: Make FirstLeg Ack regardless of new or already-processed requests
1336846433303: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846433306: Sending UDP payload: 1006
1336846433306: forwarding disabled, not forwarding packets
1336846433413: Received UDP payload: 3773
1336846433416: mux: GOT CSM_Msg
1336846433424: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846433424: disabling progressdialog due to successful new photo get
1336846433424: Inside _enableButtons
1336846433425: areButtonsEnabled --> true
1336846433425: send final leg ack regardless of new or already-processed reply
1336846433425: inside finalLegAck: change requestCounter to 24
1336846433426: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014024 Client in region: (0,0) Client nodID: 5014
1336846433426: I'm a leader client, my final_leg packet going to mux directly
1336846433428: new client_show_remotephoto reply with replyCounter 501402300
1336846433428: note down new reply by adding replyCounter=501402300 to HashMap processedReplies
1336846433429: leader download remote photo latency = 124
1336846433429: = leader download start 1336846433300 ~ stop 1336846433424
1336846433430: one more getGood: 8
1336846433431: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=8 getBad=0 getTimedout=0 getPercent=100%
1336846433431: adding get latency: 124
1336846433432: Success! Client getting photo from remote region, showing photo...
1336846433432: Remote photo's length: 2745
1336846433416: Received PROC_REPLY 11:3 (1,0)->(0,0), handing to UserApp
1336846433416: inside handleDSMReply. Now back in originator leader of region 0
1336846433417: DSM layer: Going to and from remote region took latency = 114
1336846433417: DSM layer: orig leader sent packet at 1336846433302 ~ received reply from remote leader at 1336846433416
1336846433418: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846433418: leader client reply has replyCounter: 501402300
1336846433418: reply packet contains the newest photo/success info from the remote region
1336846433418: inside sendReplies of replyCount = 501402300
1336846433419: =======================
1336846433419: inside sendReplyRepeatingRunnable for replyCount = 501402300
1336846433420: Leader about to send REPLY packet, number: 501402300 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846433420: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846433420: === Finished one round of sending REPLY Packet =======
1336846433426: mux: Inside mux Packet.CLIENT_REQUEST
1336846433427: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846433427: inside handleClientRequest. Originator leader of region 0
1336846433427: got new request, requestCounter = 5014024
1336846433427: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501402300
1336846433427: Yay the last leg succeeded. Removing reply runnables ...
1336846433427: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501402300
1336846433427: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501402300
1336846433427: do not send ack for received final_leg_ack
1336846433597: inside sendPacket(Packet p)
1336846433599: Sending UDP payload: 446
1336846434248: Received UDP payload: 446
1336846434901: Received UDP payload: 446
1336846435045: Received UDP payload: 446
1336846435375: Received UDP payload: 446
1336846436149: Received UDP payload: 446
1336846438600: inside sendPacket(Packet p)
1336846438603: Sending UDP payload: 446
1336846439262: Received UDP payload: 446
1336846439686: Received UDP payload: 1006
1336846439697: mux: GOT CSM_Msg
1336846439697: forwarding disabled, not forwarding packets
1336846439733: Received UDP payload: 3773
1336846439744: mux: GOT CSM_Msg
1336846439744: forwarding disabled, not forwarding packets
1336846439913: Received UDP payload: 446
1336846440060: Received UDP payload: 446
1336846440395: Received UDP payload: 446
1336846441002: Received UDP payload: 1006
1336846441010: mux: GOT CSM_Msg
1336846441011: forwarding disabled, not forwarding packets
1336846441091: Received UDP payload: 3773
1336846441099: mux: GOT CSM_Msg
1336846441100: forwarding disabled, not forwarding packets
1336846441157: Received UDP payload: 446
1336846443602: inside sendPacket(Packet p)
1336846443604: Sending UDP payload: 446
1336846444239: Received UDP payload: 446
1336846444924: Received UDP payload: 446
1336846445075: Received UDP payload: 446
1336846445405: Received UDP payload: 446
1336846446205: Received UDP payload: 446
1336846446491: Received UDP payload: 642
1336846446497: mux: Inside mux Packet.CLIENT_REQUEST
1336846446598: Received UDP payload: 1006
1336846446607: mux: GOT CSM_Msg
1336846446607: forwarding disabled, not forwarding packets
1336846446619: Received UDP payload: 446
1336846446624: mux: Inside Packet.SERVER_REPLY
1336846446625: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846446652: Received UDP payload: 3773
1336846446654: mux: GOT CSM_Msg
1336846446654: forwarding disabled, not forwarding packets
1336846446708: Received UDP payload: 3426
1336846446710: mux: Inside Packet.SERVER_REPLY
1336846446710: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846446724: Received UDP payload: 446
1336846446726: mux: Inside mux Packet.CLIENT_REQUEST
1336846447351: Received UDP payload: 1006
1336846447366: mux: GOT CSM_Msg
1336846447366: forwarding disabled, not forwarding packets
1336846447438: Received UDP payload: 3773
1336846447445: mux: GOT CSM_Msg
1336846447446: forwarding disabled, not forwarding packets
1336846448132: Received UDP payload: 1006
1336846448141: mux: GOT CSM_Msg
1336846448142: forwarding disabled, not forwarding packets
1336846448224: Received UDP payload: 3773
1336846448232: mux: GOT CSM_Msg
1336846448232: forwarding disabled, not forwarding packets
1336846448602: inside sendPacket(Packet p)
1336846448605: Sending UDP payload: 446
1336846448859: Received UDP payload: 642
1336846448864: mux: Inside mux Packet.CLIENT_REQUEST
1336846448919: Received UDP payload: 1006
1336846448921: mux: GOT CSM_Msg
1336846448922: forwarding disabled, not forwarding packets
1336846448928: Received UDP payload: 446
1336846448934: mux: Inside Packet.SERVER_REPLY
1336846448934: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846448987: Received UDP payload: 3773
1336846448994: mux: GOT CSM_Msg
1336846448995: forwarding disabled, not forwarding packets
1336846449036: Received UDP payload: 3426
1336846449042: mux: Inside Packet.SERVER_REPLY
1336846449042: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846449051: Received UDP payload: 446
1336846449057: mux: Inside mux Packet.CLIENT_REQUEST
1336846449273: Received UDP payload: 446
1336846449937: Received UDP payload: 446
1336846450083: Received UDP payload: 446
1336846450409: Received UDP payload: 446
1336846451215: Received UDP payload: 446
1336846453603: inside sendPacket(Packet p)
1336846453611: Sending UDP payload: 446
1336846454249: Received UDP payload: 446
1336846454927: Received UDP payload: 446
1336846455069: Received UDP payload: 446
1336846455411: Received UDP payload: 446
1336846456158: Received UDP payload: 446
1336846458612: inside sendPacket(Packet p)
1336846458615: Sending UDP payload: 446
1336846459254: Received UDP payload: 446
1336846459930: Received UDP payload: 446
1336846460067: Received UDP payload: 446
1336846460412: Received UDP payload: 446
1336846461172: Received UDP payload: 446
1336846463615: inside sendPacket(Packet p)
1336846463621: Sending UDP payload: 446
1336846464266: Received UDP payload: 446
1336846464936: Received UDP payload: 446
1336846465055: Received UDP payload: 446
1336846465421: Received UDP payload: 446
1336846466176: Received UDP payload: 446
1336846468624: inside sendPacket(Packet p)
1336846468627: Sending UDP payload: 446
1336846469258: Received UDP payload: 446
1336846469951: Received UDP payload: 446
1336846470060: Received UDP payload: 446
1336846470428: Received UDP payload: 446
1336846471183: Received UDP payload: 446
1336846473625: inside sendPacket(Packet p)
1336846473642: Sending UDP payload: 446
1336846474258: Received UDP payload: 446
1336846474943: Received UDP payload: 446
1336846475060: Received UDP payload: 446
1336846475432: Received UDP payload: 446
1336846476220: Received UDP payload: 446
1336846478647: inside sendPacket(Packet p)
1336846478662: Sending UDP payload: 446
1336846479260: Received UDP payload: 446
1336846479958: Received UDP payload: 446
1336846480064: Received UDP payload: 446
1336846480437: Received UDP payload: 446
1336846481189: Received UDP payload: 446
1336846483664: inside sendPacket(Packet p)
1336846483665: Sending UDP payload: 446
1336846484260: Received UDP payload: 446
1336846484964: Received UDP payload: 446
1336846485069: Received UDP payload: 446
1336846485432: Received UDP payload: 446
1336846486246: Received UDP payload: 446
1336846488665: inside sendPacket(Packet p)
1336846488668: Sending UDP payload: 446
1336846488717: Received UDP payload: 1006
1336846488727: mux: GOT CSM_Msg
1336846488727: forwarding disabled, not forwarding packets
1336846488853: Received UDP payload: 3790
1336846488855: mux: GOT CSM_Msg
1336846488855: forwarding disabled, not forwarding packets
1336846489133: Received UDP payload: 642
1336846489135: mux: Inside mux Packet.CLIENT_REQUEST
1336846489135: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846489135: inside handleClientRequest. Originator leader of region 0
1336846489135: got new request, requestCounter = 5001026
1336846489135: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846489136: Sending to region: 2
1336846489136: Sending PROC_REQUEST 11:2 (0,0)->(2,0)
1336846489136: Dispatching Atom PROC_REQUEST 11:2 (0,0)->(2,0)
1336846489137: mux: I got a CSM packet at a leader 

1336846489137: Note down new request by adding requestCounter=5001026 to HashMap processedRequests
1336846489137: Make FirstLeg Ack regardless of new or already-processed requests
1336846489137: The leader sending a First Leg ack to originator client (which id = 5001)
1336846489137: inside sendPacket(Packet p)
1336846489138: Sending UDP payload: 1006
1336846489139: forwarding disabled, not forwarding packets
1336846489140: Sending UDP payload: 446
1336846489229: Received UDP payload: 3790
1336846489233: mux: GOT CSM_Msg
1336846489234: Received PROC_REPLY 11:2 (2,0)->(0,0), handing to UserApp
1336846489235: inside handleDSMReply. Now back in originator leader of region 0
1336846489235: DSM layer: Going to and from remote region took latency = 98
1336846489235: DSM layer: orig leader sent packet at 1336846489136 ~ received reply from remote leader at 1336846489234
1336846489237: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846489238: leader client reply has replyCounter: 500102600
1336846489238: reply packet contains the newest photo/success info from the remote region
1336846489238: inside sendReplies of replyCount = 500102600
1336846489239: =======================
1336846489239: inside sendReplyRepeatingRunnable for replyCount = 500102600
1336846489240: Leader about to send REPLY packet, number: 500102600 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846489241: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846489241: inside sendPacket(Packet p)
1336846489242: === Finished one round of sending REPLY Packet =======
1336846489246: Sending UDP payload: 3443
1336846489317: Received UDP payload: 446
1336846489320: mux: Inside mux Packet.CLIENT_REQUEST
1336846489320: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846489320: inside handleClientRequest. Originator leader of region 0
1336846489321: got new request, requestCounter = 5001027
1336846489321: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500102600
1336846489321: Yay the last leg succeeded. Removing reply runnables ...
1336846489322: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500102600
1336846489322: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500102600
1336846489322: do not send ack for received final_leg_ack
1336846489335: Received UDP payload: 446
1336846489821: Received UDP payload: 642
1336846489826: mux: Inside mux Packet.CLIENT_REQUEST
1336846489864: Received UDP payload: 1006
1336846489877: mux: GOT CSM_Msg
1336846489877: forwarding disabled, not forwarding packets
1336846489878: Received UDP payload: 446
1336846489889: mux: Inside Packet.SERVER_REPLY
1336846489889: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846489946: Received UDP payload: 3790
1336846489948: mux: GOT CSM_Msg
1336846489948: forwarding disabled, not forwarding packets
1336846489958: Received UDP payload: 446
1336846490001: Received UDP payload: 3443
1336846490003: mux: Inside Packet.SERVER_REPLY
1336846490003: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846490018: Received UDP payload: 446
1336846490020: mux: Inside mux Packet.CLIENT_REQUEST
1336846490056: Received UDP payload: 446
1336846490429: Received UDP payload: 446
1336846490611: canPressButton = TRUE
1336846490612: areButtonsEnabled --> false 
1336846490612: get picture disableButtonsR
1336846490612: areButtonsEnabled --> false
1336846490638: one more getNum: 9
1336846490639: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=8 getBad=0 getTimedout=0 getPercent=88%
1336846490639: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846490640: change local requestCounter to 25
1336846490640: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014025 Client in region: 0 Client nodID: 5014
1336846490669: ----------------------------
1336846490669: inside sendRequestPacketRepeatingRunnable for requestCount = 5014025
1336846490669: I'm a leader, my requesting photos packet going to mux directly
1336846490676: --- Finished one round of sending REQUEST Packet ---------
1336846490670: mux: Inside mux Packet.CLIENT_REQUEST
1336846490670: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846490715: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846490670: inside handleClientRequest. Originator leader of region 0
1336846490670: got new request, requestCounter = 5014025
1336846490670: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846490671: Sending to region: 2
1336846490672: Sending PROC_REQUEST 11:3 (0,0)->(2,0)
1336846490672: Dispatching Atom PROC_REQUEST 11:3 (0,0)->(2,0)
1336846490672: mux: I got a CSM packet at a leader 

1336846490672: Note down new request by adding requestCounter=5014025 to HashMap processedRequests
1336846490672: Make FirstLeg Ack regardless of new or already-processed requests
1336846490672: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846490675: Sending UDP payload: 1006
1336846490676: forwarding disabled, not forwarding packets
1336846490777: Received UDP payload: 3790
1336846490779: mux: GOT CSM_Msg
1336846490787: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846490787: disabling progressdialog due to successful new photo get
1336846490787: Inside _enableButtons
1336846490787: areButtonsEnabled --> true
1336846490788: send final leg ack regardless of new or already-processed reply
1336846490788: inside finalLegAck: change requestCounter to 26
1336846490788: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014026 Client in region: (0,0) Client nodID: 5014
1336846490788: I'm a leader client, my final_leg packet going to mux directly
1336846490790: new client_show_remotephoto reply with replyCounter 501402500
1336846490791: note down new reply by adding replyCounter=501402500 to HashMap processedReplies
1336846490791: leader download remote photo latency = 117
1336846490791: = leader download start 1336846490670 ~ stop 1336846490787
1336846490792: one more getGood: 9
1336846490793: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=9 getBad=0 getTimedout=0 getPercent=100%
1336846490793: adding get latency: 117
1336846490794: Success! Client getting photo from remote region, showing photo...
1336846490794: Remote photo's length: 2762
1336846490780: Received PROC_REPLY 11:3 (2,0)->(0,0), handing to UserApp
1336846490780: inside handleDSMReply. Now back in originator leader of region 0
1336846490780: DSM layer: Going to and from remote region took latency = 109
1336846490780: DSM layer: orig leader sent packet at 1336846490671 ~ received reply from remote leader at 1336846490780
1336846490781: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846490781: leader client reply has replyCounter: 501402500
1336846490781: reply packet contains the newest photo/success info from the remote region
1336846490781: inside sendReplies of replyCount = 501402500
1336846490782: =======================
1336846490782: inside sendReplyRepeatingRunnable for replyCount = 501402500
1336846490782: Leader about to send REPLY packet, number: 501402500 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846490782: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846490782: === Finished one round of sending REPLY Packet =======
1336846490789: mux: Inside mux Packet.CLIENT_REQUEST
1336846490789: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846490789: inside handleClientRequest. Originator leader of region 0
1336846490790: got new request, requestCounter = 5014026
1336846490790: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501402500
1336846490790: Yay the last leg succeeded. Removing reply runnables ...
1336846490790: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501402500
1336846490790: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501402500
1336846490790: do not send ack for received final_leg_ack
1336846491197: Received UDP payload: 446
1336846493666: inside sendPacket(Packet p)
1336846493680: Sending UDP payload: 446
1336846494267: Received UDP payload: 446
1336846494973: Received UDP payload: 446
1336846495075: Received UDP payload: 446
1336846495444: Received UDP payload: 446
1336846496210: Received UDP payload: 446
1336846498241: Received UDP payload: 1006
1336846498248: mux: GOT CSM_Msg
1336846498249: forwarding disabled, not forwarding packets
1336846498293: Received UDP payload: 3790
1336846498301: mux: GOT CSM_Msg
1336846498301: forwarding disabled, not forwarding packets
1336846498508: Received UDP payload: 1006
1336846498511: mux: GOT CSM_Msg
1336846498512: forwarding disabled, not forwarding packets
1336846498566: Received UDP payload: 3790
1336846498569: mux: GOT CSM_Msg
1336846498569: forwarding disabled, not forwarding packets
1336846498682: inside sendPacket(Packet p)
1336846498683: Sending UDP payload: 446
1336846499305: Received UDP payload: 446
1336846499980: Received UDP payload: 446
1336846500078: Received UDP payload: 446
1336846500743: Received UDP payload: 446
1336846501234: Received UDP payload: 446
1336846501650: leader to cloud hearbeat...
1336846503682: inside sendPacket(Packet p)
1336846503685: Sending UDP payload: 446
1336846504288: Received UDP payload: 446
1336846504506: Received UDP payload: 1006
1336846504516: mux: GOT CSM_Msg
1336846504516: forwarding disabled, not forwarding packets
1336846504593: Received UDP payload: 3790
1336846504600: mux: GOT CSM_Msg
1336846504600: forwarding disabled, not forwarding packets
1336846504975: Received UDP payload: 446
1336846505082: Received UDP payload: 446
1336846505099: Received UDP payload: 642
1336846505104: mux: Inside mux Packet.CLIENT_REQUEST
1336846505137: Received UDP payload: 1006
1336846505148: mux: GOT CSM_Msg
1336846505149: forwarding disabled, not forwarding packets
1336846505159: Received UDP payload: 446
1336846505164: mux: Inside Packet.SERVER_REPLY
1336846505164: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846505300: Received UDP payload: 3790
1336846505303: mux: GOT CSM_Msg
1336846505303: forwarding disabled, not forwarding packets
1336846505379: Received UDP payload: 3443
1336846505380: mux: Inside Packet.SERVER_REPLY
1336846505381: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846505392: Received UDP payload: 446
1336846505394: mux: Inside mux Packet.CLIENT_REQUEST
1336846505695: Received UDP payload: 642
1336846505696: mux: Inside mux Packet.CLIENT_REQUEST
1336846505715: Received UDP payload: 1006
1336846505719: mux: GOT CSM_Msg
1336846505719: forwarding disabled, not forwarding packets
1336846505720: Received UDP payload: 446
1336846505721: mux: Inside Packet.SERVER_REPLY
1336846505722: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846505747: Received UDP payload: 446
1336846505807: Received UDP payload: 3790
1336846505814: mux: GOT CSM_Msg
1336846505815: forwarding disabled, not forwarding packets
1336846505856: Received UDP payload: 3443
1336846505861: mux: Inside Packet.SERVER_REPLY
1336846505861: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846505884: Received UDP payload: 446
1336846505885: mux: Inside mux Packet.CLIENT_REQUEST
1336846506235: Received UDP payload: 446
1336846506246: Received UDP payload: 1006
1336846506248: mux: GOT CSM_Msg
1336846506248: forwarding disabled, not forwarding packets
1336846506306: Received UDP payload: 3790
1336846506309: mux: GOT CSM_Msg
1336846506309: forwarding disabled, not forwarding packets
1336846508684: inside sendPacket(Packet p)
1336846508687: Sending UDP payload: 446
1336846509293: Received UDP payload: 446
1336846509976: Received UDP payload: 446
1336846510081: Received UDP payload: 446
1336846510750: Received UDP payload: 446
1336846511497: Received UDP payload: 446
1336846513685: inside sendPacket(Packet p)
1336846513688: Sending UDP payload: 446
1336846514298: Received UDP payload: 446
1336846514990: Received UDP payload: 446
1336846515365: Received UDP payload: 446
1336846515761: Received UDP payload: 446
1336846516503: Received UDP payload: 446
1336846518020: Received UDP payload: 642
1336846518024: mux: Inside mux Packet.CLIENT_REQUEST
1336846518024: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846518025: inside handleClientRequest. Originator leader of region 0
1336846518025: got new request, requestCounter = 5001028
1336846518025: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846518027: Sending to region: 3
1336846518028: Sending PROC_REQUEST 11:2 (0,0)->(3,0)
1336846518039: Dispatching Atom PROC_REQUEST 11:2 (0,0)->(3,0)
1336846518042: mux: I got a CSM packet at a leader 

1336846518040: Note down new request by adding requestCounter=5001028 to HashMap processedRequests
1336846518040: Make FirstLeg Ack regardless of new or already-processed requests
1336846518041: The leader sending a First Leg ack to originator client (which id = 5001)
1336846518041: inside sendPacket(Packet p)
1336846518045: Sending UDP payload: 1006
1336846518052: forwarding disabled, not forwarding packets
1336846518056: Sending UDP payload: 446
1336846518144: Received UDP payload: 3757
1336846518146: mux: GOT CSM_Msg
1336846518147: Received PROC_REPLY 11:2 (3,0)->(0,0), handing to UserApp
1336846518147: inside handleDSMReply. Now back in originator leader of region 0
1336846518147: DSM layer: Going to and from remote region took latency = 120
1336846518147: DSM layer: orig leader sent packet at 1336846518027 ~ received reply from remote leader at 1336846518147
1336846518148: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846518148: leader client reply has replyCounter: 500102800
1336846518149: reply packet contains the newest photo/success info from the remote region
1336846518149: inside sendReplies of replyCount = 500102800
1336846518149: =======================
1336846518149: inside sendReplyRepeatingRunnable for replyCount = 500102800
1336846518149: Leader about to send REPLY packet, number: 500102800 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846518150: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846518150: inside sendPacket(Packet p)
1336846518150: === Finished one round of sending REPLY Packet =======
1336846518152: Sending UDP payload: 3410
1336846518209: Received UDP payload: 446
1336846518210: mux: Inside mux Packet.CLIENT_REQUEST
1336846518210: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846518211: inside handleClientRequest. Originator leader of region 0
1336846518211: got new request, requestCounter = 5001029
1336846518211: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500102800
1336846518211: Yay the last leg succeeded. Removing reply runnables ...
1336846518211: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500102800
1336846518211: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500102800
1336846518211: do not send ack for received final_leg_ack
1336846518688: inside sendPacket(Packet p)
1336846518689: Sending UDP payload: 446
1336846519294: Received UDP payload: 446
1336846519437: canPressButton = TRUE
1336846519438: areButtonsEnabled --> false 
1336846519438: get picture disableButtonsR
1336846519438: areButtonsEnabled --> false
1336846519490: one more getNum: 10
1336846519491: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=9 getBad=0 getTimedout=0 getPercent=90%
1336846519492: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846519492: change local requestCounter to 27
1336846519492: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014027 Client in region: 0 Client nodID: 5014
1336846519529: ----------------------------
1336846519529: inside sendRequestPacketRepeatingRunnable for requestCount = 5014027
1336846519529: I'm a leader, my requesting photos packet going to mux directly
1336846519536: --- Finished one round of sending REQUEST Packet ---------
1336846519530: mux: Inside mux Packet.CLIENT_REQUEST
1336846519530: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846519567: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846519530: inside handleClientRequest. Originator leader of region 0
1336846519530: got new request, requestCounter = 5014027
1336846519530: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846519531: Sending to region: 3
1336846519532: Sending PROC_REQUEST 11:3 (0,0)->(3,0)
1336846519532: Dispatching Atom PROC_REQUEST 11:3 (0,0)->(3,0)
1336846519533: mux: I got a CSM packet at a leader 

1336846519532: Note down new request by adding requestCounter=5014027 to HashMap processedRequests
1336846519533: Make FirstLeg Ack regardless of new or already-processed requests
1336846519533: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846519535: Sending UDP payload: 1006
1336846519536: forwarding disabled, not forwarding packets
1336846519642: Received UDP payload: 3757
1336846519644: mux: GOT CSM_Msg
1336846519644: Received PROC_REPLY 11:3 (3,0)->(0,0), handing to UserApp
1336846519644: inside handleDSMReply. Now back in originator leader of region 0
1336846519644: DSM layer: Going to and from remote region took latency = 113
1336846519645: DSM layer: orig leader sent packet at 1336846519531 ~ received reply from remote leader at 1336846519644
1336846519645: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846519645: leader client reply has replyCounter: 501402700
1336846519646: reply packet contains the newest photo/success info from the remote region
1336846519646: inside sendReplies of replyCount = 501402700
1336846519660: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846519660: disabling progressdialog due to successful new photo get
1336846519660: Inside _enableButtons
1336846519661: areButtonsEnabled --> true
1336846519661: send final leg ack regardless of new or already-processed reply
1336846519661: inside finalLegAck: change requestCounter to 28
1336846519661: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014028 Client in region: (0,0) Client nodID: 5014
1336846519662: I'm a leader client, my final_leg packet going to mux directly
1336846519671: new client_show_remotephoto reply with replyCounter 501402700
1336846519671: note down new reply by adding replyCounter=501402700 to HashMap processedReplies
1336846519672: leader download remote photo latency = 130
1336846519672: = leader download start 1336846519530 ~ stop 1336846519660
1336846519673: one more getGood: 10
1336846519673: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=10 getBad=0 getTimedout=0 getPercent=100%
1336846519674: adding get latency: 130
1336846519674: Success! Client getting photo from remote region, showing photo...
1336846519674: Remote photo's length: 2729
1336846519650: =======================
1336846519650: inside sendReplyRepeatingRunnable for replyCount = 501402700
1336846519651: Leader about to send REPLY packet, number: 501402700 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846519651: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846519651: === Finished one round of sending REPLY Packet =======
1336846519662: mux: Inside mux Packet.CLIENT_REQUEST
1336846519662: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846519662: inside handleClientRequest. Originator leader of region 0
1336846519662: got new request, requestCounter = 5014028
1336846519662: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501402700
1336846519662: Yay the last leg succeeded. Removing reply runnables ...
1336846519662: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501402700
1336846519663: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501402700
1336846519663: do not send ack for received final_leg_ack
1336846519993: Received UDP payload: 446
1336846520133: Received UDP payload: 1006
1336846520135: mux: GOT CSM_Msg
1336846520135: forwarding disabled, not forwarding packets
1336846520188: Received UDP payload: 3757
1336846520190: mux: GOT CSM_Msg
1336846520190: forwarding disabled, not forwarding packets
1336846520363: Received UDP payload: 446
1336846520764: Received UDP payload: 446
1336846521502: Received UDP payload: 446
1336846523688: inside sendPacket(Packet p)
1336846523701: Sending UDP payload: 446
1336846524668: Received UDP payload: 446
1336846524913: Received UDP payload: 642
1336846524917: mux: Inside mux Packet.CLIENT_REQUEST
1336846524954: Received UDP payload: 1006
1336846524961: mux: GOT CSM_Msg
1336846524962: forwarding disabled, not forwarding packets
1336846524967: Received UDP payload: 446
1336846524972: mux: Inside Packet.SERVER_REPLY
1336846524973: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846524995: Received UDP payload: 446
1336846525030: Received UDP payload: 3757
1336846525033: mux: GOT CSM_Msg
1336846525033: forwarding disabled, not forwarding packets
1336846525074: Received UDP payload: 3410
1336846525076: mux: Inside Packet.SERVER_REPLY
1336846525076: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846525119: Received UDP payload: 446
1336846525121: mux: Inside mux Packet.CLIENT_REQUEST
1336846525363: Received UDP payload: 446
1336846525769: Received UDP payload: 446
1336846526516: Received UDP payload: 446
1336846527743: Received UDP payload: 1006
1336846527751: mux: GOT CSM_Msg
1336846527752: forwarding disabled, not forwarding packets
1336846527833: Received UDP payload: 3757
1336846527836: mux: GOT CSM_Msg
1336846527837: forwarding disabled, not forwarding packets
1336846528688: inside sendPacket(Packet p)
1336846528693: Sending UDP payload: 446
1336846529384: Received UDP payload: 1006
1336846529392: mux: GOT CSM_Msg
1336846529392: forwarding disabled, not forwarding packets
1336846529433: Received UDP payload: 3757
1336846529442: mux: GOT CSM_Msg
1336846529442: forwarding disabled, not forwarding packets
1336846529690: Received UDP payload: 446
1336846529993: Received UDP payload: 446
1336846530366: Received UDP payload: 446
1336846530776: Received UDP payload: 446
1336846531521: Received UDP payload: 446
1336846533691: inside sendPacket(Packet p)
1336846533701: Sending UDP payload: 446
1336846534500: Received UDP payload: 1006
1336846534506: mux: GOT CSM_Msg
1336846534507: forwarding disabled, not forwarding packets
1336846534647: Received UDP payload: 3757
1336846534654: mux: GOT CSM_Msg
1336846534654: forwarding disabled, not forwarding packets
1336846534676: Received UDP payload: 446
1336846534703: Received UDP payload: 642
1336846534707: mux: Inside mux Packet.CLIENT_REQUEST
1336846534749: Received UDP payload: 1006
1336846534751: mux: GOT CSM_Msg
1336846534751: forwarding disabled, not forwarding packets
1336846534754: Received UDP payload: 446
1336846534755: mux: Inside Packet.SERVER_REPLY
1336846534755: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846534806: Received UDP payload: 3757
1336846534808: mux: GOT CSM_Msg
1336846534808: forwarding disabled, not forwarding packets
1336846534863: Received UDP payload: 3410
1336846534865: mux: Inside Packet.SERVER_REPLY
1336846534865: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846534877: Received UDP payload: 446
1336846534878: mux: Inside mux Packet.CLIENT_REQUEST
1336846534993: Received UDP payload: 446
1336846535419: Received UDP payload: 446
1336846535734: Received UDP payload: 642
1336846535740: mux: Inside mux Packet.CLIENT_REQUEST
1336846535770: Received UDP payload: 1006
1336846535784: mux: GOT CSM_Msg
1336846535785: forwarding disabled, not forwarding packets
1336846535786: Received UDP payload: 446
1336846535787: Received UDP payload: 446
1336846535788: mux: Inside Packet.SERVER_REPLY
1336846535789: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846535859: Received UDP payload: 3757
1336846535862: mux: GOT CSM_Msg
1336846535862: forwarding disabled, not forwarding packets
1336846535905: Received UDP payload: 3410
1336846535906: mux: Inside Packet.SERVER_REPLY
1336846535907: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846535942: Received UDP payload: 446
1336846535944: mux: Inside mux Packet.CLIENT_REQUEST
1336846535991: Received UDP payload: 1006
1336846535994: mux: GOT CSM_Msg
1336846535994: forwarding disabled, not forwarding packets
1336846536039: Received UDP payload: 3757
1336846536042: mux: GOT CSM_Msg
1336846536042: forwarding disabled, not forwarding packets
1336846536506: Received UDP payload: 446
1336846538693: inside sendPacket(Packet p)
1336846538697: Sending UDP payload: 446
1336846539713: Received UDP payload: 446
1336846540003: Received UDP payload: 446
1336846540444: Received UDP payload: 446
1336846540788: Received UDP payload: 446
1336846541568: Received UDP payload: 446
1336846543696: inside sendPacket(Packet p)
1336846543710: Sending UDP payload: 446
1336846544701: Received UDP payload: 446
1336846545022: Received UDP payload: 446
1336846545385: Received UDP payload: 446
1336846545790: Received UDP payload: 446
1336846546342: Received UDP payload: 642
1336846546346: mux: Inside mux Packet.CLIENT_REQUEST
1336846546346: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846546346: inside handleClientRequest. Originator leader of region 0
1336846546347: got new request, requestCounter = 5001030
1336846546347: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846546359: Sending to region: 4
1336846546361: Sending PROC_REQUEST 11:2 (0,0)->(4,0)
1336846546362: Dispatching Atom PROC_REQUEST 11:2 (0,0)->(4,0)
1336846546364: mux: I got a CSM packet at a leader 

1336846546362: Note down new request by adding requestCounter=5001030 to HashMap processedRequests
1336846546362: Make FirstLeg Ack regardless of new or already-processed requests
1336846546363: The leader sending a First Leg ack to originator client (which id = 5001)
1336846546363: inside sendPacket(Packet p)
1336846546371: Sending UDP payload: 1006
1336846546381: forwarding disabled, not forwarding packets
1336846546383: Sending UDP payload: 446
1336846546448: Received UDP payload: 3734
1336846546450: mux: GOT CSM_Msg
1336846546451: Received PROC_REPLY 11:2 (4,0)->(0,0), handing to UserApp
1336846546451: inside handleDSMReply. Now back in originator leader of region 0
1336846546451: DSM layer: Going to and from remote region took latency = 91
1336846546451: DSM layer: orig leader sent packet at 1336846546360 ~ received reply from remote leader at 1336846546451
1336846546452: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846546452: leader client reply has replyCounter: 500103000
1336846546452: reply packet contains the newest photo/success info from the remote region
1336846546452: inside sendReplies of replyCount = 500103000
1336846546452: =======================
1336846546452: inside sendReplyRepeatingRunnable for replyCount = 500103000
1336846546452: Leader about to send REPLY packet, number: 500103000 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846546453: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846546453: inside sendPacket(Packet p)
1336846546453: === Finished one round of sending REPLY Packet =======
1336846546454: Sending UDP payload: 3387
1336846546505: Received UDP payload: 446
1336846546516: Received UDP payload: 446
1336846546518: mux: Inside mux Packet.CLIENT_REQUEST
1336846546518: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846546518: inside handleClientRequest. Originator leader of region 0
1336846546518: got new request, requestCounter = 5001031
1336846546519: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500103000
1336846546519: Yay the last leg succeeded. Removing reply runnables ...
1336846546519: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500103000
1336846546519: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500103000
1336846546519: do not send ack for received final_leg_ack
1336846547565: canPressButton = TRUE
1336846547565: areButtonsEnabled --> false 
1336846547565: get picture disableButtonsR
1336846547565: areButtonsEnabled --> false
1336846547591: one more getNum: 11
1336846547592: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=10 getBad=0 getTimedout=0 getPercent=90%
1336846547592: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846547593: change local requestCounter to 29
1336846547593: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014029 Client in region: 0 Client nodID: 5014
1336846547622: ----------------------------
1336846547623: inside sendRequestPacketRepeatingRunnable for requestCount = 5014029
1336846547623: I'm a leader, my requesting photos packet going to mux directly
1336846547630: --- Finished one round of sending REQUEST Packet ---------
1336846547623: mux: Inside mux Packet.CLIENT_REQUEST
1336846547623: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846547665: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846547624: inside handleClientRequest. Originator leader of region 0
1336846547624: got new request, requestCounter = 5014029
1336846547624: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846547624: Sending to region: 4
1336846547625: Sending PROC_REQUEST 11:3 (0,0)->(4,0)
1336846547625: Dispatching Atom PROC_REQUEST 11:3 (0,0)->(4,0)
1336846547626: mux: I got a CSM packet at a leader 

1336846547625: Note down new request by adding requestCounter=5014029 to HashMap processedRequests
1336846547625: Make FirstLeg Ack regardless of new or already-processed requests
1336846547625: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846547628: Sending UDP payload: 1006
1336846547630: forwarding disabled, not forwarding packets
1336846547729: Received UDP payload: 3734
1336846547732: mux: GOT CSM_Msg
1336846547732: Received PROC_REPLY 11:3 (4,0)->(0,0), handing to UserApp
1336846547732: inside handleDSMReply. Now back in originator leader of region 0
1336846547732: DSM layer: Going to and from remote region took latency = 107
1336846547732: DSM layer: orig leader sent packet at 1336846547625 ~ received reply from remote leader at 1336846547732
1336846547733: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846547733: leader client reply has replyCounter: 501402900
1336846547733: reply packet contains the newest photo/success info from the remote region
1336846547733: inside sendReplies of replyCount = 501402900
1336846547739: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846547740: disabling progressdialog due to successful new photo get
1336846547740: Inside _enableButtons
1336846547740: areButtonsEnabled --> true
1336846547740: send final leg ack regardless of new or already-processed reply
1336846547741: inside finalLegAck: change requestCounter to 30
1336846547741: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014030 Client in region: (0,0) Client nodID: 5014
1336846547741: I'm a leader client, my final_leg packet going to mux directly
1336846547742: new client_show_remotephoto reply with replyCounter 501402900
1336846547743: note down new reply by adding replyCounter=501402900 to HashMap processedReplies
1336846547743: leader download remote photo latency = 116
1336846547743: = leader download start 1336846547623 ~ stop 1336846547739
1336846547744: one more getGood: 11
1336846547745: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=11 getBad=0 getTimedout=0 getPercent=100%
1336846547745: adding get latency: 116
1336846547746: Success! Client getting photo from remote region, showing photo...
1336846547746: Remote photo's length: 2706
1336846547734: =======================
1336846547734: inside sendReplyRepeatingRunnable for replyCount = 501402900
1336846547735: Leader about to send REPLY packet, number: 501402900 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846547735: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846547735: === Finished one round of sending REPLY Packet =======
1336846547741: mux: Inside mux Packet.CLIENT_REQUEST
1336846547742: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846547742: inside handleClientRequest. Originator leader of region 0
1336846547742: got new request, requestCounter = 5014030
1336846547742: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501402900
1336846547742: Yay the last leg succeeded. Removing reply runnables ...
1336846547742: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501402900
1336846547742: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501402900
1336846547742: do not send ack for received final_leg_ack
1336846548696: inside sendPacket(Packet p)
1336846548699: Sending UDP payload: 446
1336846549696: Received UDP payload: 446
1336846549749: Received UDP payload: 1006
1336846549757: mux: GOT CSM_Msg
1336846549758: forwarding disabled, not forwarding packets
1336846549828: Received UDP payload: 3734
1336846549836: mux: GOT CSM_Msg
1336846549837: forwarding disabled, not forwarding packets
1336846550003: Received UDP payload: 446
1336846550377: Received UDP payload: 446
1336846550793: Received UDP payload: 446
1336846551088: Received UDP payload: 642
1336846551093: mux: Inside mux Packet.CLIENT_REQUEST
1336846551133: Received UDP payload: 1006
1336846551143: mux: GOT CSM_Msg
1336846551143: forwarding disabled, not forwarding packets
1336846551148: Received UDP payload: 446
1336846551149: mux: Inside Packet.SERVER_REPLY
1336846551150: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846551187: Received UDP payload: 3734
1336846551189: mux: GOT CSM_Msg
1336846551189: forwarding disabled, not forwarding packets
1336846551269: Received UDP payload: 446
1336846551270: mux: Inside mux Packet.CLIENT_REQUEST
1336846551503: Received UDP payload: 446
1336846553703: inside sendPacket(Packet p)
1336846553711: Sending UDP payload: 446
1336846554696: Received UDP payload: 446
1336846554962: Received UDP payload: 1006
1336846554970: mux: GOT CSM_Msg
1336846554971: forwarding disabled, not forwarding packets
1336846555019: Received UDP payload: 446
1336846555028: Received UDP payload: 1006
1336846555030: mux: GOT CSM_Msg
1336846555030: forwarding disabled, not forwarding packets
1336846555071: Received UDP payload: 3734
1336846555073: mux: GOT CSM_Msg
1336846555073: forwarding disabled, not forwarding packets
1336846555122: Received UDP payload: 3734
1336846555124: mux: GOT CSM_Msg
1336846555124: forwarding disabled, not forwarding packets
1336846555382: Received UDP payload: 446
1336846555799: Received UDP payload: 446
1336846556530: Received UDP payload: 446
1336846558713: inside sendPacket(Packet p)
1336846558716: Sending UDP payload: 446
1336846559694: Received UDP payload: 446
1336846560013: Received UDP payload: 446
1336846560447: Received UDP payload: 446
1336846560603: Received UDP payload: 1006
1336846560607: mux: GOT CSM_Msg
1336846560607: forwarding disabled, not forwarding packets
1336846560653: Received UDP payload: 3734
1336846560660: mux: GOT CSM_Msg
1336846560660: forwarding disabled, not forwarding packets
1336846560711: Received UDP payload: 1006
1336846560718: mux: GOT CSM_Msg
1336846560718: forwarding disabled, not forwarding packets
1336846560803: Received UDP payload: 446
1336846561434: Received UDP payload: 1006
1336846561442: mux: GOT CSM_Msg
1336846561443: forwarding disabled, not forwarding packets
1336846561507: Received UDP payload: 3734
1336846561514: mux: GOT CSM_Msg
1336846561515: forwarding disabled, not forwarding packets
1336846561523: Received UDP payload: 446
1336846561906: Received UDP payload: 642
1336846561912: mux: Inside mux Packet.CLIENT_REQUEST
1336846561947: Received UDP payload: 1006
1336846561954: mux: GOT CSM_Msg
1336846561954: forwarding disabled, not forwarding packets
1336846561967: Received UDP payload: 446
1336846561969: mux: Inside Packet.SERVER_REPLY
1336846561969: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846562014: Received UDP payload: 3734
1336846562016: mux: GOT CSM_Msg
1336846562016: forwarding disabled, not forwarding packets
1336846562051: Received UDP payload: 3387
1336846562052: mux: Inside Packet.SERVER_REPLY
1336846562052: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846562070: Received UDP payload: 446
1336846562071: mux: Inside mux Packet.CLIENT_REQUEST
1336846562444: Received UDP payload: 642
1336846562445: mux: Inside mux Packet.CLIENT_REQUEST
1336846562514: Received UDP payload: 1006
1336846562519: mux: GOT CSM_Msg
1336846562519: forwarding disabled, not forwarding packets
1336846562528: Received UDP payload: 446
1336846562530: mux: Inside Packet.SERVER_REPLY
1336846562530: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846562606: Received UDP payload: 3734
1336846562608: mux: GOT CSM_Msg
1336846562608: forwarding disabled, not forwarding packets
1336846562656: Received UDP payload: 3387
1336846562660: mux: Inside Packet.SERVER_REPLY
1336846562660: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846562681: Received UDP payload: 446
1336846562683: mux: Inside mux Packet.CLIENT_REQUEST
1336846563714: inside sendPacket(Packet p)
1336846563717: Sending UDP payload: 446
1336846564697: Received UDP payload: 446
1336846565019: Received UDP payload: 446
1336846565462: Received UDP payload: 446
1336846565835: Received UDP payload: 446
1336846567045: Received UDP payload: 446
1336846568715: inside sendPacket(Packet p)
1336846568718: Sending UDP payload: 446
1336846569706: Received UDP payload: 446
1336846570026: Received UDP payload: 446
1336846570164: Received UDP payload: 642
1336846570170: mux: Inside mux Packet.CLIENT_REQUEST
1336846570170: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846570170: inside handleClientRequest. Originator leader of region 0
1336846570171: got new request, requestCounter = 5001032
1336846570171: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846570173: Sending to region: 5
1336846570175: Sending PROC_REQUEST 11:2 (0,0)->(5,0)
1336846570190: Dispatching Atom PROC_REQUEST 11:2 (0,0)->(5,0)
1336846570192: mux: I got a CSM packet at a leader 

1336846570190: Note down new request by adding requestCounter=5001032 to HashMap processedRequests
1336846570191: Make FirstLeg Ack regardless of new or already-processed requests
1336846570191: The leader sending a First Leg ack to originator client (which id = 5001)
1336846570191: inside sendPacket(Packet p)
1336846570195: Sending UDP payload: 1006
1336846570197: forwarding disabled, not forwarding packets
1336846570200: Sending UDP payload: 446
1336846570290: Received UDP payload: 3777
1336846570295: mux: GOT CSM_Msg
1336846570295: Received PROC_REPLY 11:2 (5,0)->(0,0), handing to UserApp
1336846570296: inside handleDSMReply. Now back in originator leader of region 0
1336846570296: DSM layer: Going to and from remote region took latency = 122
1336846570296: DSM layer: orig leader sent packet at 1336846570174 ~ received reply from remote leader at 1336846570296
1336846570297: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846570297: leader client reply has replyCounter: 500103200
1336846570298: reply packet contains the newest photo/success info from the remote region
1336846570298: inside sendReplies of replyCount = 500103200
1336846570298: =======================
1336846570298: inside sendReplyRepeatingRunnable for replyCount = 500103200
1336846570299: Leader about to send REPLY packet, number: 500103200 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846570299: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846570299: inside sendPacket(Packet p)
1336846570299: === Finished one round of sending REPLY Packet =======
1336846570301: Sending UDP payload: 3430
1336846570364: Received UDP payload: 446
1336846570366: mux: Inside mux Packet.CLIENT_REQUEST
1336846570366: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846570367: inside handleClientRequest. Originator leader of region 0
1336846570367: got new request, requestCounter = 5001033
1336846570367: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500103200
1336846570367: Yay the last leg succeeded. Removing reply runnables ...
1336846570367: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500103200
1336846570368: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500103200
1336846570368: do not send ack for received final_leg_ack
1336846570392: Received UDP payload: 446
1336846570820: Received UDP payload: 446
1336846571468: canPressButton = TRUE
1336846571469: areButtonsEnabled --> false 
1336846571469: get picture disableButtonsR
1336846571469: areButtonsEnabled --> false
1336846571494: one more getNum: 12
1336846571495: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=11 getBad=0 getTimedout=0 getPercent=91%
1336846571495: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846571496: change local requestCounter to 31
1336846571496: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014031 Client in region: 0 Client nodID: 5014
1336846571526: ----------------------------
1336846571526: inside sendRequestPacketRepeatingRunnable for requestCount = 5014031
1336846571526: I'm a leader, my requesting photos packet going to mux directly
1336846571532: --- Finished one round of sending REQUEST Packet ---------
1336846571527: mux: Inside mux Packet.CLIENT_REQUEST
1336846571527: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846571569: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846571527: inside handleClientRequest. Originator leader of region 0
1336846571527: got new request, requestCounter = 5014031
1336846571527: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846571528: Sending to region: 5
1336846571528: Sending PROC_REQUEST 11:3 (0,0)->(5,0)
1336846571529: Dispatching Atom PROC_REQUEST 11:3 (0,0)->(5,0)
1336846571529: mux: I got a CSM packet at a leader 

1336846571529: Note down new request by adding requestCounter=5014031 to HashMap processedRequests
1336846571529: Make FirstLeg Ack regardless of new or already-processed requests
1336846571529: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846571531: Sending UDP payload: 1006
1336846571531: forwarding disabled, not forwarding packets
1336846571542: Received UDP payload: 446
1336846571697: Received UDP payload: 3777
1336846571700: mux: GOT CSM_Msg
1336846571700: Received PROC_REPLY 11:3 (5,0)->(0,0), handing to UserApp
1336846571700: inside handleDSMReply. Now back in originator leader of region 0
1336846571700: DSM layer: Going to and from remote region took latency = 172
1336846571700: DSM layer: orig leader sent packet at 1336846571528 ~ received reply from remote leader at 1336846571700
1336846571701: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846571701: leader client reply has replyCounter: 501403100
1336846571701: reply packet contains the newest photo/success info from the remote region
1336846571701: inside sendReplies of replyCount = 501403100
1336846571705: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846571705: disabling progressdialog due to successful new photo get
1336846571706: Inside _enableButtons
1336846571706: areButtonsEnabled --> true
1336846571706: send final leg ack regardless of new or already-processed reply
1336846571706: inside finalLegAck: change requestCounter to 32
1336846571707: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014032 Client in region: (0,0) Client nodID: 5014
1336846571707: I'm a leader client, my final_leg packet going to mux directly
1336846571708: new client_show_remotephoto reply with replyCounter 501403100
1336846571708: note down new reply by adding replyCounter=501403100 to HashMap processedReplies
1336846571709: leader download remote photo latency = 179
1336846571709: = leader download start 1336846571526 ~ stop 1336846571705
1336846571710: one more getGood: 12
1336846571710: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846571711: adding get latency: 179
1336846571711: Success! Client getting photo from remote region, showing photo...
1336846571712: Remote photo's length: 2749
1336846571702: =======================
1336846571702: inside sendReplyRepeatingRunnable for replyCount = 501403100
1336846571702: Leader about to send REPLY packet, number: 501403100 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846571702: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846571702: === Finished one round of sending REPLY Packet =======
1336846571707: mux: Inside mux Packet.CLIENT_REQUEST
1336846571707: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846571707: inside handleClientRequest. Originator leader of region 0
1336846571707: got new request, requestCounter = 5014032
1336846571707: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501403100
1336846571707: Yay the last leg succeeded. Removing reply runnables ...
1336846571708: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501403100
1336846571708: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501403100
1336846571708: do not send ack for received final_leg_ack
1336846573716: inside sendPacket(Packet p)
1336846573732: Sending UDP payload: 446
1336846573794: Received UDP payload: 1006
1336846573796: mux: GOT CSM_Msg
1336846573796: forwarding disabled, not forwarding packets
1336846573865: Received UDP payload: 3777
1336846573868: mux: GOT CSM_Msg
1336846573869: forwarding disabled, not forwarding packets
1336846574707: Received UDP payload: 446
1336846575040: Received UDP payload: 446
1336846575078: Received UDP payload: 642
1336846575084: mux: Inside mux Packet.CLIENT_REQUEST
1336846575126: Received UDP payload: 1006
1336846575134: mux: GOT CSM_Msg
1336846575135: forwarding disabled, not forwarding packets
1336846575142: Received UDP payload: 446
1336846575143: mux: Inside Packet.SERVER_REPLY
1336846575143: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846575196: Received UDP payload: 3777
1336846575198: mux: GOT CSM_Msg
1336846575199: forwarding disabled, not forwarding packets
1336846575242: Received UDP payload: 3430
1336846575243: mux: Inside Packet.SERVER_REPLY
1336846575243: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846575279: Received UDP payload: 446
1336846575280: mux: Inside mux Packet.CLIENT_REQUEST
1336846575393: Received UDP payload: 446
1336846575822: Received UDP payload: 446
1336846576542: Received UDP payload: 446
1336846578376: Received UDP payload: 1006
1336846578384: mux: GOT CSM_Msg
1336846578384: forwarding disabled, not forwarding packets
1336846578433: Received UDP payload: 1006
1336846578440: mux: GOT CSM_Msg
1336846578440: forwarding disabled, not forwarding packets
1336846578544: Received UDP payload: 3777
1336846578549: mux: GOT CSM_Msg
1336846578549: forwarding disabled, not forwarding packets
1336846578733: inside sendPacket(Packet p)
1336846578735: Sending UDP payload: 446
1336846579085: Received UDP payload: 1006
1336846579089: mux: GOT CSM_Msg
1336846579089: forwarding disabled, not forwarding packets
1336846579167: Received UDP payload: 3777
1336846579173: mux: GOT CSM_Msg
1336846579174: forwarding disabled, not forwarding packets
1336846579696: Received UDP payload: 446
1336846580045: Received UDP payload: 446
1336846580404: Received UDP payload: 446
1336846580830: Received UDP payload: 446
1336846581576: Received UDP payload: 446
1336846583061: Received UDP payload: 642
1336846583065: mux: Inside mux Packet.CLIENT_REQUEST
1336846583105: Received UDP payload: 1006
1336846583113: mux: GOT CSM_Msg
1336846583114: forwarding disabled, not forwarding packets
1336846583134: Received UDP payload: 446
1336846583136: mux: Inside Packet.SERVER_REPLY
1336846583136: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846583179: Received UDP payload: 3777
1336846583181: mux: GOT CSM_Msg
1336846583181: forwarding disabled, not forwarding packets
1336846583219: Received UDP payload: 3430
1336846583220: mux: Inside Packet.SERVER_REPLY
1336846583220: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846583231: Received UDP payload: 446
1336846583233: mux: Inside mux Packet.CLIENT_REQUEST
1336846583735: inside sendPacket(Packet p)
1336846583737: Sending UDP payload: 446
1336846584100: Received UDP payload: 1006
1336846584109: mux: GOT CSM_Msg
1336846584109: forwarding disabled, not forwarding packets
1336846584207: Received UDP payload: 3777
1336846584214: mux: GOT CSM_Msg
1336846584215: forwarding disabled, not forwarding packets
1336846584482: Received UDP payload: 1006
1336846584488: mux: GOT CSM_Msg
1336846584489: forwarding disabled, not forwarding packets
1336846584541: Received UDP payload: 3777
1336846584547: mux: GOT CSM_Msg
1336846584547: forwarding disabled, not forwarding packets
1336846584699: Received UDP payload: 446
1336846585051: Received UDP payload: 446
1336846585406: Received UDP payload: 446
1336846585841: Received UDP payload: 446
1336846586560: Received UDP payload: 446
1336846588736: inside sendPacket(Packet p)
1336846588738: Sending UDP payload: 446
1336846589710: Received UDP payload: 446
1336846589723: Received UDP payload: 642
1336846589728: mux: Inside mux Packet.CLIENT_REQUEST
1336846589766: Received UDP payload: 1006
1336846589768: mux: GOT CSM_Msg
1336846589768: forwarding disabled, not forwarding packets
1336846589769: Received UDP payload: 446
1336846589770: mux: Inside Packet.SERVER_REPLY
1336846589770: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846589813: Received UDP payload: 3777
1336846589815: mux: GOT CSM_Msg
1336846589816: forwarding disabled, not forwarding packets
1336846589862: Received UDP payload: 3430
1336846589863: mux: Inside Packet.SERVER_REPLY
1336846589863: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846589905: Received UDP payload: 446
1336846589906: mux: Inside mux Packet.CLIENT_REQUEST
1336846590047: Received UDP payload: 446
1336846590416: Received UDP payload: 446
1336846590836: Received UDP payload: 446
1336846591574: Received UDP payload: 446
1336846593736: inside sendPacket(Packet p)
1336846593738: Sending UDP payload: 446
1336846594705: Received UDP payload: 446
1336846595055: Received UDP payload: 446
1336846595478: Received UDP payload: 446
1336846595855: Received UDP payload: 446
1336846596609: Received UDP payload: 446
1336846598738: inside sendPacket(Packet p)
1336846598741: Sending UDP payload: 446
1336846599724: Received UDP payload: 446
1336846600088: Received UDP payload: 446
1336846600425: Received UDP payload: 446
1336846600866: Received UDP payload: 446
1336846601568: Received UDP payload: 446
1336846603739: inside sendPacket(Packet p)
1336846603741: Sending UDP payload: 446
1336846604727: Received UDP payload: 446
1336846605080: Received UDP payload: 446
1336846605435: Received UDP payload: 446
1336846605945: Received UDP payload: 446
1336846606570: Received UDP payload: 446
1336846608739: inside sendPacket(Packet p)
1336846608742: Sending UDP payload: 446
1336846609641: Received UDP payload: 3776
1336846609649: mux: GOT CSM_Msg
1336846609649: forwarding disabled, not forwarding packets
1336846609659: Received UDP payload: 1006
1336846609673: mux: GOT CSM_Msg
1336846609674: forwarding disabled, not forwarding packets
1336846609706: Received UDP payload: 446
1336846609729: Received UDP payload: 3474
1336846609732: mux: Inside mux Packet.CLIENT_REQUEST
1336846609732: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846609733: inside handleClientRequest. Originator leader of region 0
1336846609733: got new request, requestCounter = 5001034
1336846609733: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846609733: Sending PROC_REQUEST 10:12 (0,0)->(0,0)
1336846609733: Dispatching Atom PROC_REQUEST 10:12 (0,0)->(0,0)
1336846609734: mux: I got a CSM packet at a leader 

1336846609745: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846609746: I'm a leader and I successfully saved my client's new photo
1336846609746: now showing in UI the new photo I just saved ... 
1336846609747: the photo length: 2810
1336846609797: end of server show photo aside %%%%%%%%%
1336846609734: Note down new request by adding requestCounter=5001034 to HashMap processedRequests
1336846609734: Make FirstLeg Ack regardless of new or already-processed requests
1336846609734: The leader sending a First Leg ack to originator client (which id = 5001)
1336846609734: inside sendPacket(Packet p)
1336846609735: Sending UDP payload: 3838
1336846609738: removed replies before id 12 from sentReplies of size 0
1336846609738: inside handleDSMRequest. At requests's remote leader of region 0
1336846609739: Inside UPLOAD_PHOTO!!
1336846609740: my_gpinfo.isSuccess is now (should be true): true
1336846609740: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846609742: Received PROC_REQUEST 10:12 (0,0)->(0,0), replying PROC_REPLY 10:12 (0,0)->(0,0)
1336846609742: Dispatching Atom PROC_REPLY 10:12 (0,0)->(0,0)
1336846609781: mux: I got a CSM packet at a leader 

1336846609743: Sending UDP payload: 446
1336846609783: Sending UDP payload: 1006
1336846609783: Received PROC_REPLY 10:12 (0,0)->(0,0), handing to UserApp
1336846609784: inside handleDSMReply. Now back in originator leader of region 0
1336846609784: DSM layer: Going to and from remote region took latency = 51
1336846609784: DSM layer: orig leader sent packet at 1336846609733 ~ received reply from remote leader at 1336846609784
1336846609784: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846609785: leader client reply has replyCounter: 500103400
1336846609785: reply packet contains the success info for UPLOAD_PHOTO
1336846609785: inside sendReplies of replyCount = 500103400
1336846609785: =======================
1336846609785: inside sendReplyRepeatingRunnable for replyCount = 500103400
1336846609786: Leader about to send REPLY packet, number: 500103400 type: 16 Leader in region: (0,0) to Client nodID: 5001
1336846609786: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846609786: inside sendPacket(Packet p)
1336846609786: === Finished one round of sending REPLY Packet =======
1336846609787: Sending UDP payload: 659
1336846609789: Received UDP payload: 3474
1336846609791: mux: Inside mux Packet.CLIENT_REQUEST
1336846609791: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846609791: inside handleClientRequest. Originator leader of region 0
1336846609791: discarding repeated requestCounter=5001034, but still send an ack back
1336846609791: Note down new request by adding requestCounter=5001034 to HashMap processedRequests
1336846609791: Make FirstLeg Ack regardless of new or already-processed requests
1336846609791: The leader sending a First Leg ack to originator client (which id = 5001)
1336846609791: inside sendPacket(Packet p)
1336846609792: Sending UDP payload: 446
1336846609852: Received UDP payload: 3474
1336846609854: mux: Inside mux Packet.CLIENT_REQUEST
1336846609854: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846609854: inside handleClientRequest. Originator leader of region 0
1336846609854: discarding repeated requestCounter=5001034, but still send an ack back
1336846609854: Note down new request by adding requestCounter=5001034 to HashMap processedRequests
1336846609854: Make FirstLeg Ack regardless of new or already-processed requests
1336846609854: The leader sending a First Leg ack to originator client (which id = 5001)
1336846609854: inside sendPacket(Packet p)
1336846609855: Sending UDP payload: 446
1336846609972: Received UDP payload: 446
1336846609973: mux: Inside mux Packet.CLIENT_REQUEST
1336846609973: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846609974: inside handleClientRequest. Originator leader of region 0
1336846609974: got new request, requestCounter = 5001035
1336846609974: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500103400
1336846609974: Yay the last leg succeeded. Removing reply runnables ...
1336846609974: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500103400
1336846609974: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500103400
1336846609974: do not send ack for received final_leg_ack
1336846610066: Received UDP payload: 446
1336846610436: Received UDP payload: 446
1336846610872: Received UDP payload: 446
1336846611578: Received UDP payload: 446
1336846612500: Received UDP payload: 3412
1336846612505: mux: Inside mux Packet.CLIENT_REQUEST
1336846612594: Received UDP payload: 3776
1336846612596: mux: GOT CSM_Msg
1336846612596: forwarding disabled, not forwarding packets
1336846612606: Received UDP payload: 446
1336846612607: mux: Inside Packet.SERVER_REPLY
1336846612607: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846612613: Received UDP payload: 1006
1336846612615: mux: GOT CSM_Msg
1336846612615: forwarding disabled, not forwarding packets
1336846612626: Received UDP payload: 659
1336846612627: mux: Inside Packet.SERVER_REPLY
1336846612627: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846612641: Received UDP payload: 446
1336846612642: mux: Inside mux Packet.CLIENT_REQUEST
1336846613727: canPressButton = TRUE
1336846613727: areButtonsEnabled --> false
1336846613727: disabling buttons ...
1336846613728: took picture disableButtonsR
1336846613728: areButtonsEnabled --> false
1336846613754: one more takeNum: 5
1336846613754: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846613755: Clicked take picture button ..
1336846613740: inside sendPacket(Packet p)
1336846613741: Sending UDP payload: 446
1336846614707: Received UDP payload: 446
1336846614988: inside HandlePictureStorage onPictureTaken()
1336846614989: one more takeCamGood: 5
1336846614990: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846615477: Picture successfully taken, ORIG BYTE LENGTH = 1801645
1336846615810: Our new height x width: 306 x 408
1336846615811: Show photo from handle my camera take
1336846615812: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846615812: change local requestCounter to 33
1336846615842: BYTE SIZE AFTER COMPRESSION: 2720
1336846615844: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5014033 Client in region: 0 Client nodID: 5014
1336846615069: Received UDP payload: 446
1336846615440: Received UDP payload: 446
1336846615904: ----------------------------
1336846615904: inside sendRequestPacketRepeatingRunnable for requestCount = 5014033
1336846615905: I'm a leader, my requesting photos packet going to mux directly
1336846615919: --- Finished one round of sending REQUEST Packet ---------
1336846615878: Received UDP payload: 446
1336846615905: mux: Inside mux Packet.CLIENT_REQUEST
1336846615906: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846615961: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846615906: inside handleClientRequest. Originator leader of region 0
1336846615906: got new request, requestCounter = 5014033
1336846615906: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846615907: Sending PROC_REQUEST 10:13 (0,0)->(0,0)
1336846615907: Dispatching Atom PROC_REQUEST 10:13 (0,0)->(0,0)
1336846615908: mux: I got a CSM packet at a leader 

1336846615962: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846615963: I'm a leader and I successfully saved my client's new photo
1336846615964: now showing in UI the new photo I just saved ... 
1336846615964: the photo length: 2720
1336846615997: end of server show photo aside %%%%%%%%%
1336846615908: Note down new request by adding requestCounter=5014033 to HashMap processedRequests
1336846615908: Make FirstLeg Ack regardless of new or already-processed requests
1336846615908: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846615911: Sending UDP payload: 3748
1336846615914: removed replies before id 13 from sentReplies of size 0
1336846615914: inside handleDSMRequest. At requests's remote leader of region 0
1336846615915: Inside UPLOAD_PHOTO!!
1336846615917: my_gpinfo.isSuccess is now (should be true): true
1336846615917: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846615934: Received PROC_REQUEST 10:13 (0,0)->(0,0), replying PROC_REPLY 10:13 (0,0)->(0,0)
1336846615935: Dispatching Atom PROC_REPLY 10:13 (0,0)->(0,0)
1336846615936: mux: I got a CSM packet at a leader 

1336846615999: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846615999: disabling progressdialog due to successful new photo upload
1336846616000: Inside _enableButtons
1336846616000: areButtonsEnabled --> true
1336846616000: send final leg ack regardless of new or already-processed reply
1336846616000: inside finalLegAck: change requestCounter to 34
1336846616001: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014034 Client in region: (0,0) Client nodID: 5014
1336846616001: I'm a leader client, my final_leg packet going to mux directly
1336846616002: new client_upload_photo_ack reply with replyCounter 501403300
1336846616002: note down new reply by adding replyCounter=501403300 to HashMap processedReplies
1336846616003: leader upload new photo latency = 94
1336846616003: = leader upload start 1336846615905 ~ stop 1336846615999
1336846616004: one more takeGoodSave: 5
1336846616005: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846616005: adding take latency: 94
1336846616005: SUCCESS Client now knows saving photo on its leader succeeded
1336846615938: Sending UDP payload: 1006
1336846615940: Received PROC_REPLY 10:13 (0,0)->(0,0), handing to UserApp
1336846615941: inside handleDSMReply. Now back in originator leader of region 0
1336846615941: DSM layer: Going to and from remote region took latency = 35
1336846615941: DSM layer: orig leader sent packet at 1336846615906 ~ received reply from remote leader at 1336846615941
1336846615942: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846615943: leader client reply has replyCounter: 501403300
1336846615943: reply packet contains the success info for UPLOAD_PHOTO
1336846615943: inside sendReplies of replyCount = 501403300
1336846615943: =======================
1336846615943: inside sendReplyRepeatingRunnable for replyCount = 501403300
1336846615944: Leader about to send REPLY packet, number: 501403300 type: 16 Leader in region: (0,0) to Client nodID: 5014
1336846615944: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846615944: === Finished one round of sending REPLY Packet =======
1336846616001: mux: Inside mux Packet.CLIENT_REQUEST
1336846616001: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846616001: inside handleClientRequest. Originator leader of region 0
1336846616001: got new request, requestCounter = 5014034
1336846616001: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501403300
1336846616002: Yay the last leg succeeded. Removing reply runnables ...
1336846616002: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501403300
1336846616002: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501403300
1336846616002: do not send ack for received final_leg_ack
1336846616567: Received UDP payload: 446
1336846618740: inside sendPacket(Packet p)
1336846618751: Sending UDP payload: 446
1336846619756: Received UDP payload: 446
1336846620446: Received UDP payload: 446
1336846621163: Received UDP payload: 446
1336846621581: Received UDP payload: 446
1336846622082: leader to cloud hearbeat...
1336846623754: inside sendPacket(Packet p)
1336846623761: Sending UDP payload: 446
1336846624711: Received UDP payload: 446
1336846625080: Received UDP payload: 446
1336846625474: Received UDP payload: 446
1336846625956: Received UDP payload: 3734
1336846625963: mux: GOT CSM_Msg
1336846625963: forwarding disabled, not forwarding packets
1336846625973: Received UDP payload: 1006
1336846625987: mux: GOT CSM_Msg
1336846625987: forwarding disabled, not forwarding packets
1336846626188: Received UDP payload: 446
1336846626305: Received UDP payload: 1006
1336846626312: mux: GOT CSM_Msg
1336846626313: forwarding disabled, not forwarding packets
1336846626593: Received UDP payload: 446
1336846628764: inside sendPacket(Packet p)
1336846628766: Sending UDP payload: 446
1336846629740: Received UDP payload: 446
1336846630082: Received UDP payload: 446
1336846630482: Received UDP payload: 446
1336846631173: Received UDP payload: 446
1336846631777: Received UDP payload: 3791
1336846631784: mux: GOT CSM_Msg
1336846631784: forwarding disabled, not forwarding packets
1336846631801: Received UDP payload: 1006
1336846631807: mux: GOT CSM_Msg
1336846631808: forwarding disabled, not forwarding packets
1336846631956: Received UDP payload: 446
1336846632899: Received UDP payload: 3370
1336846632904: mux: Inside mux Packet.CLIENT_REQUEST
1336846632998: Received UDP payload: 3734
1336846633002: mux: GOT CSM_Msg
1336846633002: forwarding disabled, not forwarding packets
1336846633006: Received UDP payload: 446
1336846633009: mux: Inside Packet.SERVER_REPLY
1336846633009: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846633015: Received UDP payload: 1006
1336846633019: mux: GOT CSM_Msg
1336846633019: forwarding disabled, not forwarding packets
1336846633035: Received UDP payload: 659
1336846633039: mux: Inside Packet.SERVER_REPLY
1336846633039: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846633055: Received UDP payload: 446
1336846633057: mux: Inside mux Packet.CLIENT_REQUEST
1336846633764: inside sendPacket(Packet p)
1336846633768: Sending UDP payload: 446
1336846633772: Received UDP payload: 3447
1336846633777: mux: Inside mux Packet.CLIENT_REQUEST
1336846633856: Received UDP payload: 3811
1336846633864: mux: GOT CSM_Msg
1336846633865: forwarding disabled, not forwarding packets
1336846633865: Received UDP payload: 446
1336846633877: mux: Inside Packet.SERVER_REPLY
1336846633878: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846633878: Received UDP payload: 1006
1336846633893: mux: GOT CSM_Msg
1336846633894: forwarding disabled, not forwarding packets
1336846633894: Received UDP payload: 659
1336846633900: mux: Inside Packet.SERVER_REPLY
1336846633901: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846633901: Received UDP payload: 446
1336846633905: mux: Inside mux Packet.CLIENT_REQUEST
1336846634722: Received UDP payload: 446
1336846635088: Received UDP payload: 446
1336846635725: Received UDP payload: 3768
1336846635733: mux: GOT CSM_Msg
1336846635734: forwarding disabled, not forwarding packets
1336846635749: Received UDP payload: 1006
1336846635756: mux: GOT CSM_Msg
1336846635757: forwarding disabled, not forwarding packets
1336846635794: Received UDP payload: 446
1336846636204: Received UDP payload: 446
1336846636912: Received UDP payload: 446
1336846638765: inside sendPacket(Packet p)
1336846638781: Sending UDP payload: 446
1336846639716: Received UDP payload: 446
1336846640100: Received UDP payload: 446
1336846640799: Received UDP payload: 446
1336846641193: Received UDP payload: 446
1336846641913: Received UDP payload: 446
1336846643784: inside sendPacket(Packet p)
1336846643786: Sending UDP payload: 446
1336846645096: Received UDP payload: 446
1336846645125: Received UDP payload: 446
1336846645861: Received UDP payload: 446
1336846646265: Received UDP payload: 446
1336846646972: Received UDP payload: 446
1336846648784: inside sendPacket(Packet p)
1336846648801: Sending UDP payload: 446
1336846650099: Received UDP payload: 446
1336846650118: Received UDP payload: 446
1336846650797: Received UDP payload: 446
1336846651214: Received UDP payload: 446
1336846651926: Received UDP payload: 446
1336846652655: Received UDP payload: 642
1336846652660: mux: Inside mux Packet.CLIENT_REQUEST
1336846652698: Received UDP payload: 1006
1336846652705: mux: GOT CSM_Msg
1336846652706: removed replies before id 4 from sentReplies of size 0
1336846652706: inside handleDSMRequest. At requests's remote leader of region 0
1336846652708: INSIDE SERVER_GET_PHOTO!!!
1336846652713: Received PROC_REQUEST 11:4 (1,0)->(0,0), replying PROC_REPLY 11:4 (0,0)->(1,0)
1336846652714: Dispatching Atom PROC_REPLY 11:4 (0,0)->(1,0)
1336846652714: mux: I got a CSM packet at a leader 

1336846652719: Received UDP payload: 446
1336846652722: Sending UDP payload: 3748
1336846652743: mux: Inside Packet.SERVER_REPLY
1336846652743: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846652743: forwarding disabled, not forwarding packets
1336846652814: Received UDP payload: 3401
1336846652815: mux: Inside Packet.SERVER_REPLY
1336846652815: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846652825: Received UDP payload: 446
1336846652826: mux: Inside mux Packet.CLIENT_REQUEST
1336846653767: Received UDP payload: 1006
1336846653775: mux: GOT CSM_Msg
1336846653775: removed replies before id 5 from sentReplies of size 0
1336846653776: inside handleDSMRequest. At requests's remote leader of region 0
1336846653778: INSIDE SERVER_GET_PHOTO!!!
1336846653792: Received PROC_REQUEST 11:5 (1,0)->(0,0), replying PROC_REPLY 11:5 (0,0)->(1,0)
1336846653800: Dispatching Atom PROC_REPLY 11:5 (0,0)->(1,0)
1336846653801: mux: I got a CSM packet at a leader 

1336846653803: inside sendPacket(Packet p)
1336846653805: Sending UDP payload: 3748
1336846653821: forwarding disabled, not forwarding packets
1336846653823: Sending UDP payload: 446
1336846654153: Received UDP payload: 642
1336846654157: mux: Inside mux Packet.CLIENT_REQUEST
1336846654157: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846654157: inside handleClientRequest. Originator leader of region 0
1336846654158: got new request, requestCounter = 5001036
1336846654158: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846654160: Sending to region: 0
1336846654162: Sending PROC_REQUEST 11:14 (0,0)->(0,0)
1336846654163: Dispatching Atom PROC_REQUEST 11:14 (0,0)->(0,0)
1336846654165: mux: I got a CSM packet at a leader 

1336846654163: Note down new request by adding requestCounter=5001036 to HashMap processedRequests
1336846654163: Make FirstLeg Ack regardless of new or already-processed requests
1336846654164: The leader sending a First Leg ack to originator client (which id = 5001)
1336846654164: inside sendPacket(Packet p)
1336846654175: Sending UDP payload: 1006
1336846654177: removed replies before id 14 from sentReplies of size 0
1336846654178: inside handleDSMRequest. At requests's remote leader of region 0
1336846654188: INSIDE SERVER_GET_PHOTO!!!
1336846654192: dst_region == src_region = 0
1336846654192:  1 self to self atomRequest
1336846654195: Received PROC_REQUEST 11:14 (0,0)->(0,0), replying PROC_REPLY 11:14 (0,0)->(0,0)
1336846654197: Dispatching Atom PROC_REPLY 11:14 (0,0)->(0,0)
1336846654209: mux: I got a CSM packet at a leader 

1336846654207: Sending UDP payload: 446
1336846654212: Sending UDP payload: 3748
1336846654221: Received PROC_REPLY 11:14 (0,0)->(0,0), handing to UserApp
1336846654222: inside handleDSMReply. Now back in originator leader of region 0
1336846654222: DSM layer: Going to and from remote region took latency = 61
1336846654223: DSM layer: orig leader sent packet at 1336846654161 ~ received reply from remote leader at 1336846654222
1336846654225: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846654225: leader client reply has replyCounter: 500103600
1336846654226: reply packet contains the newest photo/success info from the remote region
1336846654226: inside sendReplies of replyCount = 500103600
1336846654227: =======================
1336846654227: inside sendReplyRepeatingRunnable for replyCount = 500103600
1336846654227: Leader about to send REPLY packet, number: 500103600 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846654228: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846654228: inside sendPacket(Packet p)
1336846654228: === Finished one round of sending REPLY Packet =======
1336846654242: Sending UDP payload: 3401
1336846654322: Received UDP payload: 446
1336846654342: mux: Inside mux Packet.CLIENT_REQUEST
1336846654342: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846654343: inside handleClientRequest. Originator leader of region 0
1336846654343: got new request, requestCounter = 5001037
1336846654343: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500103600
1336846654344: Yay the last leg succeeded. Removing reply runnables ...
1336846654344: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500103600
1336846654345: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500103600
1336846654345: do not send ack for received final_leg_ack
1336846655107: Received UDP payload: 446
1336846655115: Received UDP payload: 446
1336846655840: Received UDP payload: 446
1336846656214: Received UDP payload: 446
1336846656603: canPressButton = TRUE
1336846656604: areButtonsEnabled --> false 
1336846656604: get picture disableButtonsR
1336846656604: areButtonsEnabled --> false
1336846656630: one more getNum: 13
1336846656631: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=12 getBad=0 getTimedout=0 getPercent=92%
1336846656631: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846656632: change local requestCounter to 35
1336846656632: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014035 Client in region: 0 Client nodID: 5014
1336846656660: ----------------------------
1336846656661: inside sendRequestPacketRepeatingRunnable for requestCount = 5014035
1336846656661: I'm a leader, my requesting photos packet going to mux directly
1336846656672: --- Finished one round of sending REQUEST Packet ---------
1336846656661: mux: Inside mux Packet.CLIENT_REQUEST
1336846656661: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846656708: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846656661: inside handleClientRequest. Originator leader of region 0
1336846656662: got new request, requestCounter = 5014035
1336846656662: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846656662: Sending to region: 0
1336846656663: Sending PROC_REQUEST 11:15 (0,0)->(0,0)
1336846656663: Dispatching Atom PROC_REQUEST 11:15 (0,0)->(0,0)
1336846656664: mux: I got a CSM packet at a leader 

1336846656663: Note down new request by adding requestCounter=5014035 to HashMap processedRequests
1336846656663: Make FirstLeg Ack regardless of new or already-processed requests
1336846656663: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846656665: Sending UDP payload: 1006
1336846656666: removed replies before id 15 from sentReplies of size 0
1336846656667: inside handleDSMRequest. At requests's remote leader of region 0
1336846656668: INSIDE SERVER_GET_PHOTO!!!
1336846656669: dst_region == src_region = 0
1336846656669:  1 self to self atomRequest
1336846656670: Received PROC_REQUEST 11:15 (0,0)->(0,0), replying PROC_REPLY 11:15 (0,0)->(0,0)
1336846656670: Dispatching Atom PROC_REPLY 11:15 (0,0)->(0,0)
1336846656670: mux: I got a CSM packet at a leader 

1336846656713: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846656713: disabling progressdialog due to successful new photo get
1336846656714: Inside _enableButtons
1336846656714: areButtonsEnabled --> true
1336846656714: send final leg ack regardless of new or already-processed reply
1336846656714: inside finalLegAck: change requestCounter to 36
1336846656715: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014036 Client in region: (0,0) Client nodID: 5014
1336846656715: I'm a leader client, my final_leg packet going to mux directly
1336846656716: new client_show_remotephoto reply with replyCounter 501403500
1336846656717: note down new reply by adding replyCounter=501403500 to HashMap processedReplies
1336846656717: leader download remote photo latency = 52
1336846656717: = leader download start 1336846656661 ~ stop 1336846656713
1336846656719: one more getGood: 13
1336846656722: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=13 getBad=0 getTimedout=0 getPercent=100%
1336846656722: adding get latency: 52
1336846656723: Success! Client getting photo from remote region, showing photo...
1336846656723: Remote photo's length: 2720
1336846656671: Sending UDP payload: 3748
1336846656683: Received PROC_REPLY 11:15 (0,0)->(0,0), handing to UserApp
1336846656684: inside handleDSMReply. Now back in originator leader of region 0
1336846656684: DSM layer: Going to and from remote region took latency = 22
1336846656684: DSM layer: orig leader sent packet at 1336846656662 ~ received reply from remote leader at 1336846656684
1336846656685: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846656685: leader client reply has replyCounter: 501403500
1336846656685: reply packet contains the newest photo/success info from the remote region
1336846656685: inside sendReplies of replyCount = 501403500
1336846656685: =======================
1336846656685: inside sendReplyRepeatingRunnable for replyCount = 501403500
1336846656685: Leader about to send REPLY packet, number: 501403500 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846656686: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846656686: === Finished one round of sending REPLY Packet =======
1336846656715: mux: Inside mux Packet.CLIENT_REQUEST
1336846656715: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846656715: inside handleClientRequest. Originator leader of region 0
1336846656716: got new request, requestCounter = 5014036
1336846656716: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501403500
1336846656716: Yay the last leg succeeded. Removing reply runnables ...
1336846656716: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501403500
1336846656716: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501403500
1336846656716: do not send ack for received final_leg_ack
1336846656929: Received UDP payload: 446
1336846658086: Received UDP payload: 1006
1336846658098: mux: GOT CSM_Msg
1336846658099: removed replies before id 2 from sentReplies of size 0
1336846658099: inside handleDSMRequest. At requests's remote leader of region 0
1336846658101: INSIDE SERVER_GET_PHOTO!!!
1336846658106: Received PROC_REQUEST 11:2 (3,0)->(0,0), replying PROC_REPLY 11:2 (0,0)->(3,0)
1336846658107: Dispatching Atom PROC_REPLY 11:2 (0,0)->(3,0)
1336846658108: mux: I got a CSM packet at a leader 

1336846658123: Sending UDP payload: 3748
1336846658133: forwarding disabled, not forwarding packets
1336846658803: inside sendPacket(Packet p)
1336846658806: Sending UDP payload: 446
1336846660116: Received UDP payload: 446
1336846660134: Received UDP payload: 446
1336846660888: Received UDP payload: 446
1336846661217: Received UDP payload: 446
1336846661950: Received UDP payload: 446
1336846663809: inside sendPacket(Packet p)
1336846663811: Sending UDP payload: 446
1336846664107: Received UDP payload: 642
1336846664111: mux: Inside mux Packet.CLIENT_REQUEST
1336846664190: Received UDP payload: 1006
1336846664192: mux: GOT CSM_Msg
1336846664192: removed replies before id 4 from sentReplies of size 0
1336846664192: inside handleDSMRequest. At requests's remote leader of region 0
1336846664193: INSIDE SERVER_GET_PHOTO!!!
1336846664194: Received PROC_REQUEST 11:4 (5,0)->(0,0), replying PROC_REPLY 11:4 (0,0)->(5,0)
1336846664195: Dispatching Atom PROC_REPLY 11:4 (0,0)->(5,0)
1336846664195: mux: I got a CSM packet at a leader 

1336846664196: Sending UDP payload: 3748
1336846664198: forwarding disabled, not forwarding packets
1336846664205: Received UDP payload: 446
1336846664207: mux: Inside Packet.SERVER_REPLY
1336846664207: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846664299: Received UDP payload: 3401
1336846664301: mux: Inside Packet.SERVER_REPLY
1336846664301: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846664326: Received UDP payload: 446
1336846664328: mux: Inside mux Packet.CLIENT_REQUEST
1336846665118: Received UDP payload: 446
1336846665125: Received UDP payload: 446
1336846665295: Received UDP payload: 1006
1336846665303: mux: GOT CSM_Msg
1336846665304: removed replies before id 5 from sentReplies of size 0
1336846665304: inside handleDSMRequest. At requests's remote leader of region 0
1336846665319: INSIDE SERVER_GET_PHOTO!!!
1336846665325: Received PROC_REQUEST 11:5 (5,0)->(0,0), replying PROC_REPLY 11:5 (0,0)->(5,0)
1336846665326: Dispatching Atom PROC_REPLY 11:5 (0,0)->(5,0)
1336846665327: mux: I got a CSM packet at a leader 

1336846665343: Sending UDP payload: 3748
1336846665344: forwarding disabled, not forwarding packets
1336846665867: Received UDP payload: 446
1336846666217: Received UDP payload: 446
1336846666966: Received UDP payload: 446
1336846668809: inside sendPacket(Packet p)
1336846668818: Sending UDP payload: 446
1336846669413: Received UDP payload: 1006
1336846669421: mux: GOT CSM_Msg
1336846669422: removed replies before id 2 from sentReplies of size 0
1336846669423: inside handleDSMRequest. At requests's remote leader of region 0
1336846669425: INSIDE SERVER_GET_PHOTO!!!
1336846669437: Received PROC_REQUEST 11:2 (2,0)->(0,0), replying PROC_REPLY 11:2 (0,0)->(2,0)
1336846669439: Dispatching Atom PROC_REPLY 11:2 (0,0)->(2,0)
1336846669439: mux: I got a CSM packet at a leader 

1336846669443: Sending UDP payload: 3748
1336846669461: forwarding disabled, not forwarding packets
1336846670119: Received UDP payload: 446
1336846670125: Received UDP payload: 446
1336846670875: Received UDP payload: 446
1336846671226: Received UDP payload: 446
1336846671992: Received UDP payload: 446
1336846673819: inside sendPacket(Packet p)
1336846673822: Sending UDP payload: 446
1336846675121: Received UDP payload: 446
1336846675130: Received UDP payload: 446
1336846675857: Received UDP payload: 446
1336846676228: Received UDP payload: 446
1336846676994: Received UDP payload: 446
1336846677560: Received UDP payload: 1006
1336846677566: mux: GOT CSM_Msg
1336846677567: removed replies before id 4 from sentReplies of size 0
1336846677567: inside handleDSMRequest. At requests's remote leader of region 0
1336846677569: INSIDE SERVER_GET_PHOTO!!!
1336846677574: Received PROC_REQUEST 11:4 (4,0)->(0,0), replying PROC_REPLY 11:4 (0,0)->(4,0)
1336846677575: Dispatching Atom PROC_REPLY 11:4 (0,0)->(4,0)
1336846677576: mux: I got a CSM packet at a leader 

1336846677598: Sending UDP payload: 3748
1336846677609: forwarding disabled, not forwarding packets
1336846678821: inside sendPacket(Packet p)
1336846678823: Sending UDP payload: 446
1336846680133: Received UDP payload: 446
1336846680220: Received UDP payload: 642
1336846680222: mux: Inside mux Packet.CLIENT_REQUEST
1336846680266: Received UDP payload: 1006
1336846680271: mux: GOT CSM_Msg
1336846680272: removed replies before id 5 from sentReplies of size 0
1336846680272: inside handleDSMRequest. At requests's remote leader of region 0
1336846680273: INSIDE SERVER_GET_PHOTO!!!
1336846680276: Received PROC_REQUEST 11:5 (4,0)->(0,0), replying PROC_REPLY 11:5 (0,0)->(4,0)
1336846680276: Dispatching Atom PROC_REPLY 11:5 (0,0)->(4,0)
1336846680277: mux: I got a CSM packet at a leader 

1336846680279: Received UDP payload: 446
1336846680289: Sending UDP payload: 3748
1336846680293: mux: Inside Packet.SERVER_REPLY
1336846680293: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846680292: forwarding disabled, not forwarding packets
1336846680426: Received UDP payload: 3401
1336846680428: mux: Inside Packet.SERVER_REPLY
1336846680428: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846680447: Received UDP payload: 446
1336846680449: mux: Inside mux Packet.CLIENT_REQUEST
1336846680853: Received UDP payload: 446
1336846681236: Received UDP payload: 446
1336846682001: Received UDP payload: 446
1336846683821: inside sendPacket(Packet p)
1336846683824: Sending UDP payload: 446
1336846685220: Received UDP payload: 446
1336846685291: Received UDP payload: 446
1336846685909: Received UDP payload: 446
1336846686259: Received UDP payload: 446
1336846687000: Received UDP payload: 446
1336846688062: Received UDP payload: 1006
1336846688068: mux: GOT CSM_Msg
1336846688069: forwarding disabled, not forwarding packets
1336846688101: Received UDP payload: 3776
1336846688108: mux: GOT CSM_Msg
1336846688108: forwarding disabled, not forwarding packets
1336846688822: inside sendPacket(Packet p)
1336846688825: Sending UDP payload: 446
1336846689333: Received UDP payload: 642
1336846689338: mux: Inside mux Packet.CLIENT_REQUEST
1336846689378: Received UDP payload: 1006
1336846689384: mux: GOT CSM_Msg
1336846689385: forwarding disabled, not forwarding packets
1336846689395: Received UDP payload: 446
1336846689396: mux: Inside Packet.SERVER_REPLY
1336846689396: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846689437: Received UDP payload: 3776
1336846689439: mux: GOT CSM_Msg
1336846689439: forwarding disabled, not forwarding packets
1336846689481: Received UDP payload: 3429
1336846689482: mux: Inside Packet.SERVER_REPLY
1336846689483: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846689502: Received UDP payload: 446
1336846689503: mux: Inside mux Packet.CLIENT_REQUEST
1336846690142: Received UDP payload: 446
1336846690163: Received UDP payload: 446
1336846690865: Received UDP payload: 446
1336846691235: Received UDP payload: 446
1336846691242: Received UDP payload: 642
1336846691247: mux: Inside mux Packet.CLIENT_REQUEST
1336846691248: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846691248: inside handleClientRequest. Originator leader of region 0
1336846691249: got new request, requestCounter = 5001038
1336846691249: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846691260: Sending to region: 1
1336846691262: Sending PROC_REQUEST 11:4 (0,0)->(1,0)
1336846691263: Dispatching Atom PROC_REQUEST 11:4 (0,0)->(1,0)
1336846691265: mux: I got a CSM packet at a leader 

1336846691263: Note down new request by adding requestCounter=5001038 to HashMap processedRequests
1336846691264: Make FirstLeg Ack regardless of new or already-processed requests
1336846691264: The leader sending a First Leg ack to originator client (which id = 5001)
1336846691264: inside sendPacket(Packet p)
1336846691268: Sending UDP payload: 1006
1336846691281: forwarding disabled, not forwarding packets
1336846691283: Sending UDP payload: 446
1336846691346: Received UDP payload: 3776
1336846691348: mux: GOT CSM_Msg
1336846691348: Received PROC_REPLY 11:4 (1,0)->(0,0), handing to UserApp
1336846691348: inside handleDSMReply. Now back in originator leader of region 0
1336846691349: DSM layer: Going to and from remote region took latency = 87
1336846691349: DSM layer: orig leader sent packet at 1336846691261 ~ received reply from remote leader at 1336846691348
1336846691349: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846691350: leader client reply has replyCounter: 500103800
1336846691350: reply packet contains the newest photo/success info from the remote region
1336846691350: inside sendReplies of replyCount = 500103800
1336846691350: =======================
1336846691350: inside sendReplyRepeatingRunnable for replyCount = 500103800
1336846691350: Leader about to send REPLY packet, number: 500103800 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846691351: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846691351: inside sendPacket(Packet p)
1336846691351: === Finished one round of sending REPLY Packet =======
1336846691352: Sending UDP payload: 3429
1336846691420: Received UDP payload: 446
1336846691421: mux: Inside mux Packet.CLIENT_REQUEST
1336846691421: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846691422: inside handleClientRequest. Originator leader of region 0
1336846691422: got new request, requestCounter = 5001039
1336846691422: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500103800
1336846691422: Yay the last leg succeeded. Removing reply runnables ...
1336846691422: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500103800
1336846691422: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500103800
1336846691422: do not send ack for received final_leg_ack
1336846692014: Received UDP payload: 446
1336846693695: canPressButton = TRUE
1336846693696: areButtonsEnabled --> false 
1336846693696: get picture disableButtonsR
1336846693709: areButtonsEnabled --> false
1336846693735: one more getNum: 14
1336846693735: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=13 getBad=0 getTimedout=0 getPercent=92%
1336846693736: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846693736: change local requestCounter to 37
1336846693738: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014037 Client in region: 0 Client nodID: 5014
1336846693796: ----------------------------
1336846693797: inside sendRequestPacketRepeatingRunnable for requestCount = 5014037
1336846693797: I'm a leader, my requesting photos packet going to mux directly
1336846693801: --- Finished one round of sending REQUEST Packet ---------
1336846693797: mux: Inside mux Packet.CLIENT_REQUEST
1336846693797: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846693838: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846693797: inside handleClientRequest. Originator leader of region 0
1336846693797: got new request, requestCounter = 5014037
1336846693798: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846693798: Sending to region: 1
1336846693799: Sending PROC_REQUEST 11:5 (0,0)->(1,0)
1336846693799: Dispatching Atom PROC_REQUEST 11:5 (0,0)->(1,0)
1336846693800: mux: I got a CSM packet at a leader 

1336846693799: Note down new request by adding requestCounter=5014037 to HashMap processedRequests
1336846693799: Make FirstLeg Ack regardless of new or already-processed requests
1336846693799: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846693801: Sending UDP payload: 1006
1336846693804: forwarding disabled, not forwarding packets
1336846693824: inside sendPacket(Packet p)
1336846693825: Sending UDP payload: 446
1336846693901: Received UDP payload: 3776
1336846693903: mux: GOT CSM_Msg
1336846693911: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846693911: disabling progressdialog due to successful new photo get
1336846693911: Inside _enableButtons
1336846693911: areButtonsEnabled --> true
1336846693912: send final leg ack regardless of new or already-processed reply
1336846693912: inside finalLegAck: change requestCounter to 38
1336846693912: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014038 Client in region: (0,0) Client nodID: 5014
1336846693912: I'm a leader client, my final_leg packet going to mux directly
1336846693914: new client_show_remotephoto reply with replyCounter 501403700
1336846693914: note down new reply by adding replyCounter=501403700 to HashMap processedReplies
1336846693915: leader download remote photo latency = 114
1336846693915: = leader download start 1336846693797 ~ stop 1336846693911
1336846693916: one more getGood: 14
1336846693917: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=14 getBad=0 getTimedout=0 getPercent=100%
1336846693917: adding get latency: 114
1336846693918: Success! Client getting photo from remote region, showing photo...
1336846693918: Remote photo's length: 2748
1336846693903: Received PROC_REPLY 11:5 (1,0)->(0,0), handing to UserApp
1336846693903: inside handleDSMReply. Now back in originator leader of region 0
1336846693903: DSM layer: Going to and from remote region took latency = 105
1336846693904: DSM layer: orig leader sent packet at 1336846693798 ~ received reply from remote leader at 1336846693903
1336846693904: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846693905: leader client reply has replyCounter: 501403700
1336846693905: reply packet contains the newest photo/success info from the remote region
1336846693907: inside sendReplies of replyCount = 501403700
1336846693909: =======================
1336846693909: inside sendReplyRepeatingRunnable for replyCount = 501403700
1336846693910: Leader about to send REPLY packet, number: 501403700 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846693910: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846693910: === Finished one round of sending REPLY Packet =======
1336846693912: mux: Inside mux Packet.CLIENT_REQUEST
1336846693913: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846693913: inside handleClientRequest. Originator leader of region 0
1336846693913: got new request, requestCounter = 5014038
1336846693913: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501403700
1336846693913: Yay the last leg succeeded. Removing reply runnables ...
1336846693913: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501403700
1336846693913: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501403700
1336846693913: do not send ack for received final_leg_ack
1336846695154: Received UDP payload: 446
1336846695167: Received UDP payload: 446
1336846695870: Received UDP payload: 446
1336846696242: Received UDP payload: 446
1336846697002: Received UDP payload: 1006
1336846697012: mux: GOT CSM_Msg
1336846697013: forwarding disabled, not forwarding packets
1336846697027: Received UDP payload: 446
1336846697106: Received UDP payload: 3776
1336846697109: mux: GOT CSM_Msg
1336846697109: forwarding disabled, not forwarding packets
1336846698825: inside sendPacket(Packet p)
1336846698836: Sending UDP payload: 446
1336846700150: Received UDP payload: 446
1336846700165: Received UDP payload: 446
1336846700884: Received UDP payload: 446
1336846701298: Received UDP payload: 446
1336846702028: Received UDP payload: 446
1336846702259: Received UDP payload: 642
1336846702265: mux: Inside mux Packet.CLIENT_REQUEST
1336846702300: Received UDP payload: 1006
1336846702312: mux: GOT CSM_Msg
1336846702312: forwarding disabled, not forwarding packets
1336846702312: Received UDP payload: 446
1336846702313: mux: Inside Packet.SERVER_REPLY
1336846702313: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846702377: Received UDP payload: 3776
1336846702379: mux: GOT CSM_Msg
1336846702379: forwarding disabled, not forwarding packets
1336846702422: Received UDP payload: 3429
1336846702424: mux: Inside Packet.SERVER_REPLY
1336846702424: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846702434: Received UDP payload: 446
1336846702435: mux: Inside mux Packet.CLIENT_REQUEST
1336846702608: Received UDP payload: 1006
1336846702610: mux: GOT CSM_Msg
1336846702610: forwarding disabled, not forwarding packets
1336846702666: Received UDP payload: 3776
1336846702668: mux: GOT CSM_Msg
1336846702669: forwarding disabled, not forwarding packets
1336846703329: Received UDP payload: 1006
1336846703336: mux: GOT CSM_Msg
1336846703336: forwarding disabled, not forwarding packets
1336846703405: Received UDP payload: 3776
1336846703407: mux: GOT CSM_Msg
1336846703407: forwarding disabled, not forwarding packets
1336846703838: inside sendPacket(Packet p)
1336846703840: Sending UDP payload: 446
1336846705164: Received UDP payload: 446
1336846705205: Received UDP payload: 446
1336846705889: Received UDP payload: 446
1336846706250: Received UDP payload: 446
1336846707024: Received UDP payload: 446
1336846708533: Received UDP payload: 1006
1336846708541: mux: GOT CSM_Msg
1336846708541: forwarding disabled, not forwarding packets
1336846708622: Received UDP payload: 3776
1336846708628: mux: GOT CSM_Msg
1336846708629: forwarding disabled, not forwarding packets
1336846708839: inside sendPacket(Packet p)
1336846708841: Sending UDP payload: 446
1336846709935: Received UDP payload: 642
1336846709940: mux: Inside mux Packet.CLIENT_REQUEST
1336846709977: Received UDP payload: 1006
1336846709984: mux: GOT CSM_Msg
1336846709984: forwarding disabled, not forwarding packets
1336846709994: Received UDP payload: 446
1336846709995: mux: Inside Packet.SERVER_REPLY
1336846709995: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846710042: Received UDP payload: 3776
1336846710044: mux: GOT CSM_Msg
1336846710044: forwarding disabled, not forwarding packets
1336846710087: Received UDP payload: 3429
1336846710089: mux: Inside Packet.SERVER_REPLY
1336846710089: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846710098: Received UDP payload: 446
1336846710100: mux: Inside mux Packet.CLIENT_REQUEST
1336846710163: Received UDP payload: 446
1336846710190: Received UDP payload: 446
1336846710893: Received UDP payload: 446
1336846711253: Received UDP payload: 446
1336846712034: Received UDP payload: 446
1336846713840: inside sendPacket(Packet p)
1336846713847: Sending UDP payload: 446
1336846715179: Received UDP payload: 446
1336846715242: Received UDP payload: 446
1336846715776: Received UDP payload: 1006
1336846715784: mux: GOT CSM_Msg
1336846715785: forwarding disabled, not forwarding packets
1336846715873: Received UDP payload: 3778
1336846715880: mux: GOT CSM_Msg
1336846715881: forwarding disabled, not forwarding packets
1336846715894: Received UDP payload: 446
1336846716252: Received UDP payload: 446
1336846717017: Received UDP payload: 642
1336846717023: mux: Inside mux Packet.CLIENT_REQUEST
1336846717039: Received UDP payload: 446
1336846717062: Received UDP payload: 1006
1336846717071: mux: GOT CSM_Msg
1336846717072: forwarding disabled, not forwarding packets
1336846717086: Received UDP payload: 446
1336846717087: mux: Inside Packet.SERVER_REPLY
1336846717088: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846717134: Received UDP payload: 3778
1336846717135: mux: GOT CSM_Msg
1336846717136: forwarding disabled, not forwarding packets
1336846717218: Received UDP payload: 3431
1336846717220: mux: Inside Packet.SERVER_REPLY
1336846717220: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846717244: Received UDP payload: 446
1336846717245: mux: Inside mux Packet.CLIENT_REQUEST
1336846718448: Received UDP payload: 642
1336846718453: mux: Inside mux Packet.CLIENT_REQUEST
1336846718453: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846718453: inside handleClientRequest. Originator leader of region 0
1336846718454: got new request, requestCounter = 5001040
1336846718454: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846718456: Sending to region: 2
1336846718457: Sending PROC_REQUEST 11:4 (0,0)->(2,0)
1336846718458: Dispatching Atom PROC_REQUEST 11:4 (0,0)->(2,0)
1336846718477: mux: I got a CSM packet at a leader 

1336846718475: Note down new request by adding requestCounter=5001040 to HashMap processedRequests
1336846718476: Make FirstLeg Ack regardless of new or already-processed requests
1336846718476: The leader sending a First Leg ack to originator client (which id = 5001)
1336846718476: inside sendPacket(Packet p)
1336846718481: Sending UDP payload: 1006
1336846718489: forwarding disabled, not forwarding packets
1336846718492: Sending UDP payload: 446
1336846718639: Received UDP payload: 3778
1336846718643: mux: GOT CSM_Msg
1336846718643: Received PROC_REPLY 11:4 (2,0)->(0,0), handing to UserApp
1336846718644: inside handleDSMReply. Now back in originator leader of region 0
1336846718644: DSM layer: Going to and from remote region took latency = 188
1336846718644: DSM layer: orig leader sent packet at 1336846718456 ~ received reply from remote leader at 1336846718644
1336846718645: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846718645: leader client reply has replyCounter: 500104000
1336846718646: reply packet contains the newest photo/success info from the remote region
1336846718646: inside sendReplies of replyCount = 500104000
1336846718647: =======================
1336846718647: inside sendReplyRepeatingRunnable for replyCount = 500104000
1336846718647: Leader about to send REPLY packet, number: 500104000 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846718647: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846718648: inside sendPacket(Packet p)
1336846718648: === Finished one round of sending REPLY Packet =======
1336846718650: Sending UDP payload: 3431
1336846718704: Received UDP payload: 446
1336846718706: mux: Inside mux Packet.CLIENT_REQUEST
1336846718706: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846718707: inside handleClientRequest. Originator leader of region 0
1336846718707: got new request, requestCounter = 5001041
1336846718707: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500104000
1336846718707: Yay the last leg succeeded. Removing reply runnables ...
1336846718708: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500104000
1336846718708: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500104000
1336846718708: do not send ack for received final_leg_ack
1336846718841: inside sendPacket(Packet p)
1336846718842: Sending UDP payload: 446
1336846719735: canPressButton = TRUE
1336846719736: areButtonsEnabled --> false 
1336846719736: get picture disableButtonsR
1336846719736: areButtonsEnabled --> false
1336846719762: one more getNum: 15
1336846719763: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=14 getBad=0 getTimedout=0 getPercent=93%
1336846719763: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846719764: change local requestCounter to 39
1336846719764: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014039 Client in region: 0 Client nodID: 5014
1336846719793: ----------------------------
1336846719794: inside sendRequestPacketRepeatingRunnable for requestCount = 5014039
1336846719794: I'm a leader, my requesting photos packet going to mux directly
1336846719800: --- Finished one round of sending REQUEST Packet ---------
1336846719794: mux: Inside mux Packet.CLIENT_REQUEST
1336846719794: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846719836: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846719794: inside handleClientRequest. Originator leader of region 0
1336846719794: got new request, requestCounter = 5014039
1336846719794: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846719795: Sending to region: 2
1336846719796: Sending PROC_REQUEST 11:5 (0,0)->(2,0)
1336846719796: Dispatching Atom PROC_REQUEST 11:5 (0,0)->(2,0)
1336846719796: mux: I got a CSM packet at a leader 

1336846719796: Note down new request by adding requestCounter=5014039 to HashMap processedRequests
1336846719796: Make FirstLeg Ack regardless of new or already-processed requests
1336846719796: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846719799: Sending UDP payload: 1006
1336846719799: forwarding disabled, not forwarding packets
1336846720206: Received UDP payload: 446
1336846720221: Received UDP payload: 446
1336846720594: Retrying PROC_REQUEST 11:5 (0,0)->(2,0)
1336846720594: Dispatching Atom PROC_REQUEST 11:5 (0,0)->(2,0)
1336846720594: mux: I got a CSM packet at a leader 

1336846720595: Sending UDP payload: 1006
1336846720599: forwarding disabled, not forwarding packets
1336846720688: Received UDP payload: 3778
1336846720690: mux: GOT CSM_Msg
1336846720690: Received PROC_REPLY 11:5 (2,0)->(0,0), handing to UserApp
1336846720690: inside handleDSMReply. Now back in originator leader of region 0
1336846720690: DSM layer: Going to and from remote region took latency = 895
1336846720690: DSM layer: orig leader sent packet at 1336846719795 ~ received reply from remote leader at 1336846720690
1336846720691: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846720691: leader client reply has replyCounter: 501403900
1336846720691: reply packet contains the newest photo/success info from the remote region
1336846720691: inside sendReplies of replyCount = 501403900
1336846720695: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846720696: disabling progressdialog due to successful new photo get
1336846720696: Inside _enableButtons
1336846720696: areButtonsEnabled --> true
1336846720696: send final leg ack regardless of new or already-processed reply
1336846720696: inside finalLegAck: change requestCounter to 40
1336846720697: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014040 Client in region: (0,0) Client nodID: 5014
1336846720697: I'm a leader client, my final_leg packet going to mux directly
1336846720698: new client_show_remotephoto reply with replyCounter 501403900
1336846720699: note down new reply by adding replyCounter=501403900 to HashMap processedReplies
1336846720699: leader download remote photo latency = 901
1336846720699: = leader download start 1336846719794 ~ stop 1336846720695
1336846720700: one more getGood: 15
1336846720701: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=15 getBad=0 getTimedout=0 getPercent=100%
1336846720701: adding get latency: 901
1336846720702: Success! Client getting photo from remote region, showing photo...
1336846720703: Remote photo's length: 2750
1336846720692: =======================
1336846720692: inside sendReplyRepeatingRunnable for replyCount = 501403900
1336846720692: Leader about to send REPLY packet, number: 501403900 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846720692: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846720692: === Finished one round of sending REPLY Packet =======
1336846720697: mux: Inside mux Packet.CLIENT_REQUEST
1336846720697: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846720697: inside handleClientRequest. Originator leader of region 0
1336846720697: got new request, requestCounter = 5014040
1336846720698: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501403900
1336846720698: Yay the last leg succeeded. Removing reply runnables ...
1336846720698: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501403900
1336846720698: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501403900
1336846720698: do not send ack for received final_leg_ack
1336846720895: Received UDP payload: 446
1336846721263: Received UDP payload: 446
1336846722058: Received UDP payload: 446
1336846723227: Received UDP payload: 1006
1336846723235: mux: GOT CSM_Msg
1336846723235: forwarding disabled, not forwarding packets
1336846723364: Received UDP payload: 3778
1336846723371: mux: GOT CSM_Msg
1336846723371: forwarding disabled, not forwarding packets
1336846723841: inside sendPacket(Packet p)
1336846723843: Sending UDP payload: 446
1336846725206: Received UDP payload: 446
1336846725216: Received UDP payload: 446
1336846725899: Received UDP payload: 446
1336846726300: Received UDP payload: 446
1336846727097: Received UDP payload: 446
1336846727829: Received UDP payload: 1006
1336846727836: mux: GOT CSM_Msg
1336846727836: forwarding disabled, not forwarding packets
1336846727876: Received UDP payload: 3778
1336846727891: mux: GOT CSM_Msg
1336846727891: forwarding disabled, not forwarding packets
1336846728845: inside sendPacket(Packet p)
1336846728847: Sending UDP payload: 446
1336846729312: Received UDP payload: 642
1336846729316: mux: Inside mux Packet.CLIENT_REQUEST
1336846729369: Received UDP payload: 1006
1336846729375: mux: GOT CSM_Msg
1336846729376: forwarding disabled, not forwarding packets
1336846729384: Received UDP payload: 446
1336846729385: mux: Inside Packet.SERVER_REPLY
1336846729385: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846729437: Received UDP payload: 3778
1336846729439: mux: GOT CSM_Msg
1336846729439: forwarding disabled, not forwarding packets
1336846729486: Received UDP payload: 3431
1336846729487: mux: Inside Packet.SERVER_REPLY
1336846729487: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846729499: Received UDP payload: 446
1336846729500: mux: Inside mux Packet.CLIENT_REQUEST
1336846730181: Received UDP payload: 446
1336846730192: Received UDP payload: 446
1336846730363: Received UDP payload: 1006
1336846730371: mux: GOT CSM_Msg
1336846730371: forwarding disabled, not forwarding packets
1336846730454: Received UDP payload: 3778
1336846730456: mux: GOT CSM_Msg
1336846730456: forwarding disabled, not forwarding packets
1336846730899: Received UDP payload: 446
1336846731295: Received UDP payload: 446
1336846732061: Received UDP payload: 446
1336846733095: Received UDP payload: 1006
1336846733103: mux: GOT CSM_Msg
1336846733103: forwarding disabled, not forwarding packets
1336846733245: Received UDP payload: 3778
1336846733252: mux: GOT CSM_Msg
1336846733252: forwarding disabled, not forwarding packets
1336846733845: inside sendPacket(Packet p)
1336846733848: Sending UDP payload: 446
1336846734420: Received UDP payload: 642
1336846734424: mux: Inside mux Packet.CLIENT_REQUEST
1336846734474: Received UDP payload: 1006
1336846734476: mux: GOT CSM_Msg
1336846734476: forwarding disabled, not forwarding packets
1336846734503: Received UDP payload: 446
1336846734505: mux: Inside Packet.SERVER_REPLY
1336846734505: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846734535: Received UDP payload: 3778
1336846734537: mux: GOT CSM_Msg
1336846734537: forwarding disabled, not forwarding packets
1336846734586: Received UDP payload: 3431
1336846734587: mux: Inside Packet.SERVER_REPLY
1336846734587: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846734600: Received UDP payload: 446
1336846734602: mux: Inside mux Packet.CLIENT_REQUEST
1336846735185: Received UDP payload: 446
1336846735251: Received UDP payload: 446
1336846735913: Received UDP payload: 446
1336846736275: Received UDP payload: 446
1336846737066: Received UDP payload: 446
1336846738850: inside sendPacket(Packet p)
1336846738861: Sending UDP payload: 446
1336846740201: Received UDP payload: 446
1336846740211: Received UDP payload: 446
1336846740926: Received UDP payload: 446
1336846741621: Received UDP payload: 446
1336846742067: Received UDP payload: 446
1336846742498: leader to cloud hearbeat...
1336846743862: inside sendPacket(Packet p)
1336846743874: Sending UDP payload: 446
1336846745206: Received UDP payload: 446
1336846745220: Received UDP payload: 446
1336846745655: Received UDP payload: 642
1336846745661: mux: Inside mux Packet.CLIENT_REQUEST
1336846745662: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846745662: inside handleClientRequest. Originator leader of region 0
1336846745663: got new request, requestCounter = 5001042
1336846745663: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846745664: Sending to region: 3
1336846745666: Sending PROC_REQUEST 11:4 (0,0)->(3,0)
1336846745667: Dispatching Atom PROC_REQUEST 11:4 (0,0)->(3,0)
1336846745680: mux: I got a CSM packet at a leader 

1336846745667: Note down new request by adding requestCounter=5001042 to HashMap processedRequests
1336846745667: Make FirstLeg Ack regardless of new or already-processed requests
1336846745668: The leader sending a First Leg ack to originator client (which id = 5001)
1336846745668: inside sendPacket(Packet p)
1336846745684: Sending UDP payload: 1006
1336846745689: forwarding disabled, not forwarding packets
1336846745691: Sending UDP payload: 446
1336846745829: Received UDP payload: 3734
1336846745833: mux: GOT CSM_Msg
1336846745834: Received PROC_REPLY 11:4 (3,0)->(0,0), handing to UserApp
1336846745834: inside handleDSMReply. Now back in originator leader of region 0
1336846745834: DSM layer: Going to and from remote region took latency = 169
1336846745834: DSM layer: orig leader sent packet at 1336846745665 ~ received reply from remote leader at 1336846745834
1336846745836: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846745836: leader client reply has replyCounter: 500104200
1336846745836: reply packet contains the newest photo/success info from the remote region
1336846745837: inside sendReplies of replyCount = 500104200
1336846745837: =======================
1336846745837: inside sendReplyRepeatingRunnable for replyCount = 500104200
1336846745838: Leader about to send REPLY packet, number: 500104200 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846745838: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846745838: inside sendPacket(Packet p)
1336846745838: === Finished one round of sending REPLY Packet =======
1336846745840: Sending UDP payload: 3387
1336846745904: Received UDP payload: 446
1336846745906: mux: Inside mux Packet.CLIENT_REQUEST
1336846745906: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846745906: inside handleClientRequest. Originator leader of region 0
1336846745907: got new request, requestCounter = 5001043
1336846745907: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500104200
1336846745907: Yay the last leg succeeded. Removing reply runnables ...
1336846745907: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500104200
1336846745907: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500104200
1336846745908: do not send ack for received final_leg_ack
1336846745977: Received UDP payload: 446
1336846746633: Received UDP payload: 446
1336846746979: canPressButton = TRUE
1336846746980: areButtonsEnabled --> false 
1336846746980: get picture disableButtonsR
1336846746981: areButtonsEnabled --> false
1336846747018: one more getNum: 16
1336846747019: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=15 getBad=0 getTimedout=0 getPercent=93%
1336846747019: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846747019: change local requestCounter to 41
1336846747020: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014041 Client in region: 0 Client nodID: 5014
1336846747049: ----------------------------
1336846747050: inside sendRequestPacketRepeatingRunnable for requestCount = 5014041
1336846747050: I'm a leader, my requesting photos packet going to mux directly
1336846747055: --- Finished one round of sending REQUEST Packet ---------
1336846747050: mux: Inside mux Packet.CLIENT_REQUEST
1336846747050: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846747093: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846747050: inside handleClientRequest. Originator leader of region 0
1336846747050: got new request, requestCounter = 5014041
1336846747051: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846747051: Sending to region: 3
1336846747052: Sending PROC_REQUEST 11:5 (0,0)->(3,0)
1336846747052: Dispatching Atom PROC_REQUEST 11:5 (0,0)->(3,0)
1336846747053: mux: I got a CSM packet at a leader 

1336846747052: Note down new request by adding requestCounter=5014041 to HashMap processedRequests
1336846747052: Make FirstLeg Ack regardless of new or already-processed requests
1336846747052: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846747054: Sending UDP payload: 1006
1336846747055: forwarding disabled, not forwarding packets
1336846747074: Received UDP payload: 446
1336846747147: Received UDP payload: 3734
1336846747149: mux: GOT CSM_Msg
1336846747154: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846747154: disabling progressdialog due to successful new photo get
1336846747155: Inside _enableButtons
1336846747155: areButtonsEnabled --> true
1336846747155: send final leg ack regardless of new or already-processed reply
1336846747155: inside finalLegAck: change requestCounter to 42
1336846747156: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014042 Client in region: (0,0) Client nodID: 5014
1336846747156: I'm a leader client, my final_leg packet going to mux directly
1336846747157: new client_show_remotephoto reply with replyCounter 501404100
1336846747157: note down new reply by adding replyCounter=501404100 to HashMap processedReplies
1336846747157: leader download remote photo latency = 104
1336846747158: = leader download start 1336846747050 ~ stop 1336846747154
1336846747159: one more getGood: 16
1336846747160: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=16 getBad=0 getTimedout=0 getPercent=100%
1336846747160: adding get latency: 104
1336846747160: Success! Client getting photo from remote region, showing photo...
1336846747160: Remote photo's length: 2706
1336846747149: Received PROC_REPLY 11:5 (3,0)->(0,0), handing to UserApp
1336846747149: inside handleDSMReply. Now back in originator leader of region 0
1336846747149: DSM layer: Going to and from remote region took latency = 98
1336846747149: DSM layer: orig leader sent packet at 1336846747051 ~ received reply from remote leader at 1336846747149
1336846747153: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846747153: leader client reply has replyCounter: 501404100
1336846747153: reply packet contains the newest photo/success info from the remote region
1336846747153: inside sendReplies of replyCount = 501404100
1336846747153: =======================
1336846747153: inside sendReplyRepeatingRunnable for replyCount = 501404100
1336846747153: Leader about to send REPLY packet, number: 501404100 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846747153: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846747154: === Finished one round of sending REPLY Packet =======
1336846747156: mux: Inside mux Packet.CLIENT_REQUEST
1336846747156: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846747156: inside handleClientRequest. Originator leader of region 0
1336846747156: got new request, requestCounter = 5014042
1336846747156: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501404100
1336846747156: Yay the last leg succeeded. Removing reply runnables ...
1336846747157: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501404100
1336846747157: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501404100
1336846747157: do not send ack for received final_leg_ack
1336846748875: inside sendPacket(Packet p)
1336846748878: Sending UDP payload: 446
1336846749782: Received UDP payload: 1006
1336846749788: mux: GOT CSM_Msg
1336846749789: forwarding disabled, not forwarding packets
1336846749872: Received UDP payload: 3734
1336846749878: mux: GOT CSM_Msg
1336846749879: forwarding disabled, not forwarding packets
1336846750204: Received UDP payload: 446
1336846750226: Received UDP payload: 446
1336846750934: Received UDP payload: 446
1336846751369: Received UDP payload: 642
1336846751373: mux: Inside mux Packet.CLIENT_REQUEST
1336846751423: Received UDP payload: 1006
1336846751431: mux: GOT CSM_Msg
1336846751432: forwarding disabled, not forwarding packets
1336846751432: Received UDP payload: 446
1336846751436: mux: Inside Packet.SERVER_REPLY
1336846751437: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846751478: Received UDP payload: 3734
1336846751485: mux: GOT CSM_Msg
1336846751485: forwarding disabled, not forwarding packets
1336846751536: Received UDP payload: 3387
1336846751538: mux: Inside Packet.SERVER_REPLY
1336846751538: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846751555: Received UDP payload: 446
1336846751556: mux: Inside mux Packet.CLIENT_REQUEST
1336846751625: Received UDP payload: 446
1336846752367: Received UDP payload: 446
1336846753875: inside sendPacket(Packet p)
1336846753875: Sending UDP payload: 446
1336846755068: Received UDP payload: 1006
1336846755080: mux: GOT CSM_Msg
1336846755080: forwarding disabled, not forwarding packets
1336846755180: Received UDP payload: 3734
1336846755186: mux: GOT CSM_Msg
1336846755187: forwarding disabled, not forwarding packets
1336846755204: Received UDP payload: 446
1336846755234: Received UDP payload: 446
1336846756072: Received UDP payload: 1006
1336846756078: mux: GOT CSM_Msg
1336846756079: forwarding disabled, not forwarding packets
1336846756113: Received UDP payload: 3734
1336846756121: mux: GOT CSM_Msg
1336846756122: forwarding disabled, not forwarding packets
1336846756324: Received UDP payload: 446
1336846756631: Received UDP payload: 446
1336846757410: Received UDP payload: 446
1336846758877: inside sendPacket(Packet p)
1336846758879: Sending UDP payload: 446
1336846760224: Received UDP payload: 446
1336846760231: Received UDP payload: 446
1336846761334: Received UDP payload: 446
1336846761628: Received UDP payload: 446
1336846762212: Received UDP payload: 1006
1336846762220: mux: GOT CSM_Msg
1336846762220: forwarding disabled, not forwarding packets
1336846762310: Received UDP payload: 3734
1336846762316: mux: GOT CSM_Msg
1336846762316: forwarding disabled, not forwarding packets
1336846762364: Received UDP payload: 446
1336846763490: Received UDP payload: 642
1336846763494: mux: Inside mux Packet.CLIENT_REQUEST
1336846763532: Received UDP payload: 1006
1336846763541: mux: GOT CSM_Msg
1336846763541: forwarding disabled, not forwarding packets
1336846763542: Received UDP payload: 446
1336846763543: mux: Inside Packet.SERVER_REPLY
1336846763543: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846763594: Received UDP payload: 3734
1336846763597: mux: GOT CSM_Msg
1336846763597: forwarding disabled, not forwarding packets
1336846763640: Received UDP payload: 3387
1336846763642: mux: Inside Packet.SERVER_REPLY
1336846763642: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846763652: Received UDP payload: 446
1336846763653: mux: Inside mux Packet.CLIENT_REQUEST
1336846763880: inside sendPacket(Packet p)
1336846763881: Sending UDP payload: 446
1336846765235: Received UDP payload: 446
1336846765352: Received UDP payload: 642
1336846765356: mux: Inside mux Packet.CLIENT_REQUEST
1336846765472: Received UDP payload: 3734
1336846765478: mux: GOT CSM_Msg
1336846765478: forwarding disabled, not forwarding packets
1336846765500: Received UDP payload: 446
1336846765544: Received UDP payload: 3387
1336846765548: mux: Inside Packet.SERVER_REPLY
1336846765548: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846765555: Received UDP payload: 446
1336846765560: mux: Inside mux Packet.CLIENT_REQUEST
1336846766340: Received UDP payload: 446
1336846766630: Received UDP payload: 446
1336846767371: Received UDP payload: 446
1336846768881: inside sendPacket(Packet p)
1336846768883: Sending UDP payload: 446
1336846769058: Received UDP payload: 1006
1336846769064: mux: GOT CSM_Msg
1336846769065: forwarding disabled, not forwarding packets
1336846769151: Received UDP payload: 3734
1336846769158: mux: GOT CSM_Msg
1336846769158: forwarding disabled, not forwarding packets
1336846770556: Received UDP payload: 446
1336846771354: Received UDP payload: 446
1336846771633: Received UDP payload: 446
1336846772377: Received UDP payload: 446
1336846773881: inside sendPacket(Packet p)
1336846773883: Sending UDP payload: 446
1336846775246: Received UDP payload: 446
1336846775524: Received UDP payload: 446
1336846776444: Received UDP payload: 446
1336846776648: Received UDP payload: 446
1336846777445: Received UDP payload: 446
1336846778881: inside sendPacket(Packet p)
1336846778884: Sending UDP payload: 446
1336846779949: Received UDP payload: 642
1336846779953: mux: Inside mux Packet.CLIENT_REQUEST
1336846779954: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846779954: inside handleClientRequest. Originator leader of region 0
1336846779955: got new request, requestCounter = 5001044
1336846779955: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846779957: Sending to region: 4
1336846779958: Sending PROC_REQUEST 11:4 (0,0)->(4,0)
1336846779970: Dispatching Atom PROC_REQUEST 11:4 (0,0)->(4,0)
1336846779972: mux: I got a CSM packet at a leader 

1336846779971: Note down new request by adding requestCounter=5001044 to HashMap processedRequests
1336846779971: Make FirstLeg Ack regardless of new or already-processed requests
1336846779971: The leader sending a First Leg ack to originator client (which id = 5001)
1336846779972: inside sendPacket(Packet p)
1336846779976: Sending UDP payload: 1006
1336846779981: forwarding disabled, not forwarding packets
1336846779984: Sending UDP payload: 446
1336846780063: Received UDP payload: 3811
1336846780065: mux: GOT CSM_Msg
1336846780066: Received PROC_REPLY 11:4 (4,0)->(0,0), handing to UserApp
1336846780066: inside handleDSMReply. Now back in originator leader of region 0
1336846780066: DSM layer: Going to and from remote region took latency = 109
1336846780066: DSM layer: orig leader sent packet at 1336846779957 ~ received reply from remote leader at 1336846780066
1336846780066: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846780067: leader client reply has replyCounter: 500104400
1336846780067: reply packet contains the newest photo/success info from the remote region
1336846780067: inside sendReplies of replyCount = 500104400
1336846780067: =======================
1336846780067: inside sendReplyRepeatingRunnable for replyCount = 500104400
1336846780067: Leader about to send REPLY packet, number: 500104400 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846780067: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846780068: inside sendPacket(Packet p)
1336846780068: === Finished one round of sending REPLY Packet =======
1336846780070: Sending UDP payload: 3464
1336846780144: Received UDP payload: 446
1336846780145: mux: Inside mux Packet.CLIENT_REQUEST
1336846780145: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846780145: inside handleClientRequest. Originator leader of region 0
1336846780146: got new request, requestCounter = 5001045
1336846780146: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500104400
1336846780146: Yay the last leg succeeded. Removing reply runnables ...
1336846780146: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500104400
1336846780146: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500104400
1336846780146: do not send ack for received final_leg_ack
1336846780244: Received UDP payload: 446
1336846780503: Received UDP payload: 446
1336846781381: Received UDP payload: 446
1336846781655: Received UDP payload: 446
1336846781943: Received UDP payload: 1006
1336846781951: mux: GOT CSM_Msg
1336846781952: forwarding disabled, not forwarding packets
1336846782040: Received UDP payload: 3811
1336846782046: mux: GOT CSM_Msg
1336846782046: forwarding disabled, not forwarding packets
1336846782381: Received UDP payload: 446
1336846783848: canPressButton = TRUE
1336846783848: areButtonsEnabled --> false 
1336846783848: get picture disableButtonsR
1336846783848: areButtonsEnabled --> false
1336846783862: one more getNum: 17
1336846783863: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=16 getBad=0 getTimedout=0 getPercent=94%
1336846783863: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846783863: change local requestCounter to 43
1336846783864: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014043 Client in region: 0 Client nodID: 5014
1336846783893: ----------------------------
1336846783893: inside sendRequestPacketRepeatingRunnable for requestCount = 5014043
1336846783893: I'm a leader, my requesting photos packet going to mux directly
1336846783899: --- Finished one round of sending REQUEST Packet ---------
1336846783882: inside sendPacket(Packet p)
1336846783883: Sending UDP payload: 446
1336846783894: mux: Inside mux Packet.CLIENT_REQUEST
1336846783894: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846783934: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846783894: inside handleClientRequest. Originator leader of region 0
1336846783894: got new request, requestCounter = 5014043
1336846783894: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846783895: Sending to region: 4
1336846783895: Sending PROC_REQUEST 11:5 (0,0)->(4,0)
1336846783896: Dispatching Atom PROC_REQUEST 11:5 (0,0)->(4,0)
1336846783896: mux: I got a CSM packet at a leader 

1336846783896: Note down new request by adding requestCounter=5014043 to HashMap processedRequests
1336846783896: Make FirstLeg Ack regardless of new or already-processed requests
1336846783896: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846783898: Sending UDP payload: 1006
1336846783899: forwarding disabled, not forwarding packets
1336846783991: Received UDP payload: 3811
1336846783993: mux: GOT CSM_Msg
1336846783993: Received PROC_REPLY 11:5 (4,0)->(0,0), handing to UserApp
1336846783993: inside handleDSMReply. Now back in originator leader of region 0
1336846783994: DSM layer: Going to and from remote region took latency = 98
1336846783994: DSM layer: orig leader sent packet at 1336846783895 ~ received reply from remote leader at 1336846783993
1336846783994: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846783994: leader client reply has replyCounter: 501404300
1336846783994: reply packet contains the newest photo/success info from the remote region
1336846783995: inside sendReplies of replyCount = 501404300
1336846783996: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846783997: disabling progressdialog due to successful new photo get
1336846783997: Inside _enableButtons
1336846783997: areButtonsEnabled --> true
1336846783997: send final leg ack regardless of new or already-processed reply
1336846783997: inside finalLegAck: change requestCounter to 44
1336846783998: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014044 Client in region: (0,0) Client nodID: 5014
1336846783998: I'm a leader client, my final_leg packet going to mux directly
1336846784000: new client_show_remotephoto reply with replyCounter 501404300
1336846784000: note down new reply by adding replyCounter=501404300 to HashMap processedReplies
1336846784000: leader download remote photo latency = 102
1336846784000: = leader download start 1336846783894 ~ stop 1336846783996
1336846784001: one more getGood: 17
1336846784002: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=17 getBad=0 getTimedout=0 getPercent=100%
1336846784002: adding get latency: 102
1336846784003: Success! Client getting photo from remote region, showing photo...
1336846784003: Remote photo's length: 2783
1336846783995: =======================
1336846783995: inside sendReplyRepeatingRunnable for replyCount = 501404300
1336846783995: Leader about to send REPLY packet, number: 501404300 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846783995: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846783995: === Finished one round of sending REPLY Packet =======
1336846783998: mux: Inside mux Packet.CLIENT_REQUEST
1336846783998: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846783998: inside handleClientRequest. Originator leader of region 0
1336846783999: got new request, requestCounter = 5014044
1336846783999: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501404300
1336846783999: Yay the last leg succeeded. Removing reply runnables ...
1336846783999: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501404300
1336846783999: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501404300
1336846783999: do not send ack for received final_leg_ack
1336846785252: Received UDP payload: 446
1336846785511: Received UDP payload: 446
1336846786383: Received UDP payload: 446
1336846786659: Received UDP payload: 446
1336846787391: Received UDP payload: 446
1336846788040: Received UDP payload: 642
1336846788045: mux: Inside mux Packet.CLIENT_REQUEST
1336846788078: Received UDP payload: 1006
1336846788087: mux: GOT CSM_Msg
1336846788087: forwarding disabled, not forwarding packets
1336846788088: Received UDP payload: 446
1336846788102: mux: Inside Packet.SERVER_REPLY
1336846788103: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846788149: Received UDP payload: 3811
1336846788151: mux: GOT CSM_Msg
1336846788151: forwarding disabled, not forwarding packets
1336846788220: Received UDP payload: 3464
1336846788221: mux: Inside Packet.SERVER_REPLY
1336846788221: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846788236: Received UDP payload: 446
1336846788238: mux: Inside mux Packet.CLIENT_REQUEST
1336846788882: inside sendPacket(Packet p)
1336846788885: Sending UDP payload: 446
1336846790257: Received UDP payload: 446
1336846790506: Received UDP payload: 446
1336846791146: Received UDP payload: 1006
1336846791154: mux: GOT CSM_Msg
1336846791155: forwarding disabled, not forwarding packets
1336846791218: Received UDP payload: 3811
1336846791224: mux: GOT CSM_Msg
1336846791225: forwarding disabled, not forwarding packets
1336846791369: Received UDP payload: 446
1336846791656: Received UDP payload: 446
1336846792393: Received UDP payload: 446
1336846792923: Received UDP payload: 1006
1336846792930: mux: GOT CSM_Msg
1336846792931: forwarding disabled, not forwarding packets
1336846793023: Received UDP payload: 3811
1336846793030: mux: GOT CSM_Msg
1336846793030: forwarding disabled, not forwarding packets
1336846793883: inside sendPacket(Packet p)
1336846793885: Sending UDP payload: 446
1336846795284: Received UDP payload: 446
1336846795519: Received UDP payload: 446
1336846796373: Received UDP payload: 446
1336846796671: Received UDP payload: 446
1336846797369: Received UDP payload: 1006
1336846797376: mux: GOT CSM_Msg
1336846797376: forwarding disabled, not forwarding packets
1336846797429: Received UDP payload: 3811
1336846797437: mux: GOT CSM_Msg
1336846797438: forwarding disabled, not forwarding packets
1336846797438: Received UDP payload: 446
1336846798168: Received UDP payload: 642
1336846798173: mux: Inside mux Packet.CLIENT_REQUEST
1336846798234: Received UDP payload: 1006
1336846798242: mux: GOT CSM_Msg
1336846798243: forwarding disabled, not forwarding packets
1336846798249: Received UDP payload: 446
1336846798253: mux: Inside Packet.SERVER_REPLY
1336846798253: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846798312: Received UDP payload: 3811
1336846798314: mux: GOT CSM_Msg
1336846798314: forwarding disabled, not forwarding packets
1336846798368: Received UDP payload: 3464
1336846798369: mux: Inside Packet.SERVER_REPLY
1336846798369: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846798378: Received UDP payload: 446
1336846798380: mux: Inside mux Packet.CLIENT_REQUEST
1336846798843: Received UDP payload: 642
1336846798845: mux: Inside mux Packet.CLIENT_REQUEST
1336846798862: Received UDP payload: 1006
1336846798874: mux: GOT CSM_Msg
1336846798874: forwarding disabled, not forwarding packets
1336846798887: inside sendPacket(Packet p)
1336846798890: Sending UDP payload: 446
1336846798892: Received UDP payload: 446
1336846798897: mux: Inside Packet.SERVER_REPLY
1336846798897: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846798985: Received UDP payload: 3464
1336846798987: mux: Inside Packet.SERVER_REPLY
1336846798987: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846799016: Received UDP payload: 446
1336846799018: mux: Inside mux Packet.CLIENT_REQUEST
1336846800253: Received UDP payload: 1006
1336846800255: mux: GOT CSM_Msg
1336846800255: forwarding disabled, not forwarding packets
1336846800315: Received UDP payload: 446
1336846800521: Received UDP payload: 446
1336846801004: Received UDP payload: 1006
1336846801013: mux: GOT CSM_Msg
1336846801013: forwarding disabled, not forwarding packets
1336846801102: Received UDP payload: 1006
1336846801108: mux: GOT CSM_Msg
1336846801108: forwarding disabled, not forwarding packets
1336846801372: Received UDP payload: 446
1336846801655: Received UDP payload: 446
1336846802387: Received UDP payload: 446
1336846803887: inside sendPacket(Packet p)
1336846803901: Sending UDP payload: 446
1336846805351: Received UDP payload: 446
1336846805533: Received UDP payload: 446
1336846806421: Received UDP payload: 446
1336846806664: Received UDP payload: 446
1336846807389: Received UDP payload: 446
1336846808903: inside sendPacket(Packet p)
1336846808921: Sending UDP payload: 446
1336846810304: Received UDP payload: 446
1336846810460: Received UDP payload: 642
1336846810465: mux: Inside mux Packet.CLIENT_REQUEST
1336846810465: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846810466: inside handleClientRequest. Originator leader of region 0
1336846810466: got new request, requestCounter = 5001046
1336846810467: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846810468: Sending to region: 5
1336846810480: Sending PROC_REQUEST 11:4 (0,0)->(5,0)
1336846810481: Dispatching Atom PROC_REQUEST 11:4 (0,0)->(5,0)
1336846810483: mux: I got a CSM packet at a leader 

1336846810482: Note down new request by adding requestCounter=5001046 to HashMap processedRequests
1336846810482: Make FirstLeg Ack regardless of new or already-processed requests
1336846810482: The leader sending a First Leg ack to originator client (which id = 5001)
1336846810483: inside sendPacket(Packet p)
1336846810487: Sending UDP payload: 1006
1336846810500: forwarding disabled, not forwarding packets
1336846810504: Sending UDP payload: 446
1336846810539: Received UDP payload: 446
1336846810596: Received UDP payload: 3768
1336846810599: mux: GOT CSM_Msg
1336846810599: Received PROC_REPLY 11:4 (5,0)->(0,0), handing to UserApp
1336846810599: inside handleDSMReply. Now back in originator leader of region 0
1336846810600: DSM layer: Going to and from remote region took latency = 120
1336846810600: DSM layer: orig leader sent packet at 1336846810479 ~ received reply from remote leader at 1336846810599
1336846810601: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846810601: leader client reply has replyCounter: 500104600
1336846810601: reply packet contains the newest photo/success info from the remote region
1336846810601: inside sendReplies of replyCount = 500104600
1336846810601: =======================
1336846810601: inside sendReplyRepeatingRunnable for replyCount = 500104600
1336846810602: Leader about to send REPLY packet, number: 500104600 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846810602: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846810602: inside sendPacket(Packet p)
1336846810602: === Finished one round of sending REPLY Packet =======
1336846810603: Sending UDP payload: 3421
1336846810661: Received UDP payload: 446
1336846810662: mux: Inside mux Packet.CLIENT_REQUEST
1336846810663: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846810663: inside handleClientRequest. Originator leader of region 0
1336846810663: got new request, requestCounter = 5001047
1336846810663: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500104600
1336846810663: Yay the last leg succeeded. Removing reply runnables ...
1336846810663: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500104600
1336846810663: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500104600
1336846810664: do not send ack for received final_leg_ack
1336846811373: Received UDP payload: 446
1336846811606: canPressButton = TRUE
1336846811606: areButtonsEnabled --> false 
1336846811607: get picture disableButtonsR
1336846811607: areButtonsEnabled --> false
1336846811633: one more getNum: 18
1336846811634: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=17 getBad=0 getTimedout=0 getPercent=94%
1336846811634: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846811634: change local requestCounter to 45
1336846811635: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014045 Client in region: 0 Client nodID: 5014
1336846811669: ----------------------------
1336846811669: inside sendRequestPacketRepeatingRunnable for requestCount = 5014045
1336846811670: I'm a leader, my requesting photos packet going to mux directly
1336846811675: --- Finished one round of sending REQUEST Packet ---------
1336846811666: Received UDP payload: 446
1336846811670: mux: Inside mux Packet.CLIENT_REQUEST
1336846811670: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846811716: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846811670: inside handleClientRequest. Originator leader of region 0
1336846811670: got new request, requestCounter = 5014045
1336846811670: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846811671: Sending to region: 5
1336846811672: Sending PROC_REQUEST 11:5 (0,0)->(5,0)
1336846811672: Dispatching Atom PROC_REQUEST 11:5 (0,0)->(5,0)
1336846811672: mux: I got a CSM packet at a leader 

1336846811672: Note down new request by adding requestCounter=5014045 to HashMap processedRequests
1336846811672: Make FirstLeg Ack regardless of new or already-processed requests
1336846811672: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846811673: Sending UDP payload: 1006
1336846811675: forwarding disabled, not forwarding packets
1336846811763: Received UDP payload: 3768
1336846811765: mux: GOT CSM_Msg
1336846811773: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846811773: disabling progressdialog due to successful new photo get
1336846811774: Inside _enableButtons
1336846811774: areButtonsEnabled --> true
1336846811774: send final leg ack regardless of new or already-processed reply
1336846811774: inside finalLegAck: change requestCounter to 46
1336846811775: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014046 Client in region: (0,0) Client nodID: 5014
1336846811775: I'm a leader client, my final_leg packet going to mux directly
1336846811777: new client_show_remotephoto reply with replyCounter 501404500
1336846811777: note down new reply by adding replyCounter=501404500 to HashMap processedReplies
1336846811777: leader download remote photo latency = 103
1336846811777: = leader download start 1336846811670 ~ stop 1336846811773
1336846811778: one more getGood: 18
1336846811779: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846811779: adding get latency: 103
1336846811780: Success! Client getting photo from remote region, showing photo...
1336846811780: Remote photo's length: 2740
1336846811766: Received PROC_REPLY 11:5 (5,0)->(0,0), handing to UserApp
1336846811766: inside handleDSMReply. Now back in originator leader of region 0
1336846811766: DSM layer: Going to and from remote region took latency = 95
1336846811766: DSM layer: orig leader sent packet at 1336846811671 ~ received reply from remote leader at 1336846811766
1336846811767: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846811767: leader client reply has replyCounter: 501404500
1336846811767: reply packet contains the newest photo/success info from the remote region
1336846811767: inside sendReplies of replyCount = 501404500
1336846811768: =======================
1336846811768: inside sendReplyRepeatingRunnable for replyCount = 501404500
1336846811768: Leader about to send REPLY packet, number: 501404500 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846811768: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846811768: === Finished one round of sending REPLY Packet =======
1336846811775: mux: Inside mux Packet.CLIENT_REQUEST
1336846811775: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846811775: inside handleClientRequest. Originator leader of region 0
1336846811775: got new request, requestCounter = 5014046
1336846811775: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501404500
1336846811775: Yay the last leg succeeded. Removing reply runnables ...
1336846811776: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501404500
1336846811776: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501404500
1336846811776: do not send ack for received final_leg_ack
1336846812384: Received UDP payload: 446
1336846813923: inside sendPacket(Packet p)
1336846813931: Sending UDP payload: 446
1336846815286: Received UDP payload: 446
1336846815533: Received UDP payload: 446
1336846816389: Received UDP payload: 446
1336846816503: Received UDP payload: 1006
1336846816505: mux: GOT CSM_Msg
1336846816505: forwarding disabled, not forwarding packets
1336846816594: Received UDP payload: 3768
1336846816596: mux: GOT CSM_Msg
1336846816596: forwarding disabled, not forwarding packets
1336846816674: Received UDP payload: 446
1336846817394: Received UDP payload: 446
1336846817700: Received UDP payload: 642
1336846817705: mux: Inside mux Packet.CLIENT_REQUEST
1336846817738: Received UDP payload: 1006
1336846817746: mux: GOT CSM_Msg
1336846817746: forwarding disabled, not forwarding packets
1336846817763: Received UDP payload: 446
1336846817765: mux: Inside Packet.SERVER_REPLY
1336846817765: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846817810: Received UDP payload: 3768
1336846817812: mux: GOT CSM_Msg
1336846817812: forwarding disabled, not forwarding packets
1336846817886: Received UDP payload: 3421
1336846817888: mux: Inside Packet.SERVER_REPLY
1336846817888: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846817901: Received UDP payload: 446
1336846817903: mux: Inside mux Packet.CLIENT_REQUEST
1336846818934: inside sendPacket(Packet p)
1336846818937: Sending UDP payload: 446
1336846820300: Received UDP payload: 446
1336846820531: Received UDP payload: 446
1336846821380: Received UDP payload: 446
1336846821688: Received UDP payload: 446
1336846822238: Received UDP payload: 1006
1336846822245: mux: GOT CSM_Msg
1336846822246: forwarding disabled, not forwarding packets
1336846822339: Received UDP payload: 3768
1336846822345: mux: GOT CSM_Msg
1336846822345: forwarding disabled, not forwarding packets
1336846822398: Received UDP payload: 446
1336846823260: Received UDP payload: 1006
1336846823268: mux: GOT CSM_Msg
1336846823269: forwarding disabled, not forwarding packets
1336846823327: Received UDP payload: 3768
1336846823329: mux: GOT CSM_Msg
1336846823329: forwarding disabled, not forwarding packets
1336846823936: inside sendPacket(Packet p)
1336846823939: Sending UDP payload: 446
1336846825314: Received UDP payload: 446
1336846825527: Received UDP payload: 446
1336846826411: Received UDP payload: 446
1336846826690: Received UDP payload: 446
1336846827417: Received UDP payload: 446
1336846828900: Received UDP payload: 642
1336846828904: mux: Inside mux Packet.CLIENT_REQUEST
1336846828941: inside sendPacket(Packet p)
1336846828944: Received UDP payload: 1006
1336846828945: Sending UDP payload: 446
1336846828958: mux: GOT CSM_Msg
1336846828958: forwarding disabled, not forwarding packets
1336846828981: Received UDP payload: 446
1336846828982: mux: Inside Packet.SERVER_REPLY
1336846828983: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846829017: Received UDP payload: 3768
1336846829019: mux: GOT CSM_Msg
1336846829019: forwarding disabled, not forwarding packets
1336846829055: Received UDP payload: 3421
1336846829057: mux: Inside Packet.SERVER_REPLY
1336846829057: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846829072: Received UDP payload: 446
1336846829073: mux: Inside mux Packet.CLIENT_REQUEST
1336846829171: Received UDP payload: 1006
1336846829173: mux: GOT CSM_Msg
1336846829173: forwarding disabled, not forwarding packets
1336846829218: Received UDP payload: 3768
1336846829220: mux: GOT CSM_Msg
1336846829220: forwarding disabled, not forwarding packets
1336846830026: Received UDP payload: 1006
1336846830035: mux: GOT CSM_Msg
1336846830035: forwarding disabled, not forwarding packets
1336846830087: Received UDP payload: 3768
1336846830094: mux: GOT CSM_Msg
1336846830094: forwarding disabled, not forwarding packets
1336846830221: Received UDP payload: 642
1336846830223: mux: Inside mux Packet.CLIENT_REQUEST
1336846830239: Received UDP payload: 1006
1336846830242: mux: GOT CSM_Msg
1336846830242: forwarding disabled, not forwarding packets
1336846830250: Received UDP payload: 446
1336846830251: mux: Inside Packet.SERVER_REPLY
1336846830252: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846830292: Received UDP payload: 3768
1336846830295: mux: GOT CSM_Msg
1336846830295: forwarding disabled, not forwarding packets
1336846830336: Received UDP payload: 3421
1336846830338: mux: Inside Packet.SERVER_REPLY
1336846830338: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846830341: Received UDP payload: 446
1336846830390: Received UDP payload: 446
1336846830391: mux: Inside mux Packet.CLIENT_REQUEST
1336846830525: Received UDP payload: 446
1336846831383: Received UDP payload: 446
1336846831693: Received UDP payload: 446
1336846832400: Received UDP payload: 446
1336846833944: inside sendPacket(Packet p)
1336846833954: Sending UDP payload: 446
1336846835331: Received UDP payload: 446
1336846835560: Received UDP payload: 446
1336846836393: Received UDP payload: 446
1336846836710: Received UDP payload: 446
1336846837400: Received UDP payload: 446
1336846838957: inside sendPacket(Packet p)
1336846838966: Sending UDP payload: 446
1336846840349: Received UDP payload: 446
1336846840534: Received UDP payload: 446
1336846841401: Received UDP payload: 446
1336846841693: Received UDP payload: 446
1336846842412: Received UDP payload: 446
1336846843968: inside sendPacket(Packet p)
1336846843970: Sending UDP payload: 446
1336846845369: Received UDP payload: 446
1336846845545: Received UDP payload: 446
1336846846410: Received UDP payload: 446
1336846846721: Received UDP payload: 446
1336846847402: Received UDP payload: 446
1336846848968: inside sendPacket(Packet p)
1336846848971: Sending UDP payload: 446
1336846850373: Received UDP payload: 446
1336846850556: Received UDP payload: 446
1336846851420: Received UDP payload: 446
1336846851705: Received UDP payload: 446
1336846852401: Received UDP payload: 446
1336846853969: inside sendPacket(Packet p)
1336846853972: Sending UDP payload: 446
1336846855384: Received UDP payload: 446
1336846855506: Received UDP payload: 3762
1336846855514: mux: GOT CSM_Msg
1336846855514: forwarding disabled, not forwarding packets
1336846855529: Received UDP payload: 1006
1336846855536: mux: GOT CSM_Msg
1336846855536: forwarding disabled, not forwarding packets
1336846855562: Received UDP payload: 446
1336846856426: Received UDP payload: 446
1336846856706: Received UDP payload: 446
1336846857414: Received UDP payload: 446
1336846857869: Received UDP payload: 3380
1336846857873: mux: Inside mux Packet.CLIENT_REQUEST
1336846857939: Received UDP payload: 3744
1336846857945: mux: GOT CSM_Msg
1336846857946: forwarding disabled, not forwarding packets
1336846857953: Received UDP payload: 446
1336846857957: mux: Inside Packet.SERVER_REPLY
1336846857957: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846857963: Received UDP payload: 1006
1336846857971: mux: GOT CSM_Msg
1336846857971: forwarding disabled, not forwarding packets
1336846858001: Received UDP payload: 659
1336846858002: mux: Inside Packet.SERVER_REPLY
1336846858003: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846858294: Received UDP payload: 659
1336846858296: mux: Inside Packet.SERVER_REPLY
1336846858296: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846858312: Received UDP payload: 446
1336846858314: mux: Inside mux Packet.CLIENT_REQUEST
1336846858920: Received UDP payload: 3420
1336846858925: mux: Inside mux Packet.CLIENT_REQUEST
1336846858925: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846858926: inside handleClientRequest. Originator leader of region 0
1336846858926: got new request, requestCounter = 5001048
1336846858926: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846858929: Sending PROC_REQUEST 10:16 (0,0)->(0,0)
1336846858930: Dispatching Atom PROC_REQUEST 10:16 (0,0)->(0,0)
1336846858932: mux: I got a CSM packet at a leader 

1336846859022: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846859023: I'm a leader and I successfully saved my client's new photo
1336846859023: now showing in UI the new photo I just saved ... 
1336846859024: the photo length: 2756
1336846859091: end of server show photo aside %%%%%%%%%
1336846858931: Note down new request by adding requestCounter=5001048 to HashMap processedRequests
1336846858931: Make FirstLeg Ack regardless of new or already-processed requests
1336846858931: The leader sending a First Leg ack to originator client (which id = 5001)
1336846858932: inside sendPacket(Packet p)
1336846858936: Sending UDP payload: 3784
1336846858952: removed replies before id 16 from sentReplies of size 0
1336846858952: inside handleDSMRequest. At requests's remote leader of region 0
1336846858955: Inside UPLOAD_PHOTO!!
1336846858963: my_gpinfo.isSuccess is now (should be true): true
1336846858963: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846858969: inside sendPacket(Packet p)
1336846858976: Received PROC_REQUEST 10:16 (0,0)->(0,0), replying PROC_REPLY 10:16 (0,0)->(0,0)
1336846858978: Dispatching Atom PROC_REPLY 10:16 (0,0)->(0,0)
1336846858993: mux: I got a CSM packet at a leader 

1336846858981: Sending UDP payload: 446
1336846858992: Sending UDP payload: 446
1336846858994: Sending UDP payload: 1006
1336846858994: Received PROC_REPLY 10:16 (0,0)->(0,0), handing to UserApp
1336846858995: inside handleDSMReply. Now back in originator leader of region 0
1336846858995: DSM layer: Going to and from remote region took latency = 68
1336846858995: DSM layer: orig leader sent packet at 1336846858927 ~ received reply from remote leader at 1336846858995
1336846858995: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846858996: leader client reply has replyCounter: 500104800
1336846858996: reply packet contains the success info for UPLOAD_PHOTO
1336846858996: inside sendReplies of replyCount = 500104800
1336846858996: =======================
1336846858996: inside sendReplyRepeatingRunnable for replyCount = 500104800
1336846858996: Leader about to send REPLY packet, number: 500104800 type: 16 Leader in region: (0,0) to Client nodID: 5001
1336846858996: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846858996: inside sendPacket(Packet p)
1336846858996: === Finished one round of sending REPLY Packet =======
1336846859025: Sending UDP payload: 659
1336846859048: Received UDP payload: 446
1336846859049: mux: Inside mux Packet.CLIENT_REQUEST
1336846859049: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846859049: inside handleClientRequest. Originator leader of region 0
1336846859050: got new request, requestCounter = 5001049
1336846859050: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500104800
1336846859050: Yay the last leg succeeded. Removing reply runnables ...
1336846859050: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500104800
1336846859050: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500104800
1336846859050: do not send ack for received final_leg_ack
1336846860369: Received UDP payload: 446
1336846860567: Received UDP payload: 446
1336846861424: Received UDP payload: 446
1336846862007: Received UDP payload: 446
1336846862413: Received UDP payload: 446
1336846862824: canPressButton = TRUE
1336846862825: areButtonsEnabled --> false
1336846862825: disabling buttons ...
1336846862825: took picture disableButtonsR
1336846862825: areButtonsEnabled --> false
1336846862838: one more takeNum: 6
1336846862839: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=83% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846862839: Clicked take picture button ..
1336846862928: leader to cloud hearbeat...
1336846863970: inside sendPacket(Packet p)
1336846863971: Sending UDP payload: 446
1336846864082: inside HandlePictureStorage onPictureTaken()
1336846864082: one more takeCamGood: 6
1336846864083: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=83% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846864573: Picture successfully taken, ORIG BYTE LENGTH = 2261870
1336846864780: Our new height x width: 306 x 408
1336846864781: Show photo from handle my camera take
1336846864781: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846864781: change local requestCounter to 47
1336846864795: BYTE SIZE AFTER COMPRESSION: 2775
1336846864796: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5014047 Client in region: 0 Client nodID: 5014
1336846864820: ----------------------------
1336846864820: inside sendRequestPacketRepeatingRunnable for requestCount = 5014047
1336846864821: I'm a leader, my requesting photos packet going to mux directly
1336846864832: --- Finished one round of sending REQUEST Packet ---------
1336846864821: mux: Inside mux Packet.CLIENT_REQUEST
1336846864821: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846864857: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846864821: inside handleClientRequest. Originator leader of region 0
1336846864821: got new request, requestCounter = 5014047
1336846864821: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846864822: Sending PROC_REQUEST 10:17 (0,0)->(0,0)
1336846864822: Dispatching Atom PROC_REQUEST 10:17 (0,0)->(0,0)
1336846864823: mux: I got a CSM packet at a leader 

1336846864858: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846864860: I'm a leader and I successfully saved my client's new photo
1336846864860: now showing in UI the new photo I just saved ... 
1336846864860: the photo length: 2775
1336846864895: end of server show photo aside %%%%%%%%%
1336846864823: Note down new request by adding requestCounter=5014047 to HashMap processedRequests
1336846864823: Make FirstLeg Ack regardless of new or already-processed requests
1336846864823: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846864824: Sending UDP payload: 3803
1336846864826: removed replies before id 17 from sentReplies of size 0
1336846864826: inside handleDSMRequest. At requests's remote leader of region 0
1336846864827: Inside UPLOAD_PHOTO!!
1336846864828: my_gpinfo.isSuccess is now (should be true): true
1336846864828: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846864829: Received PROC_REQUEST 10:17 (0,0)->(0,0), replying PROC_REPLY 10:17 (0,0)->(0,0)
1336846864830: Dispatching Atom PROC_REPLY 10:17 (0,0)->(0,0)
1336846864830: mux: I got a CSM packet at a leader 

1336846864896: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846864897: disabling progressdialog due to successful new photo upload
1336846864897: Inside _enableButtons
1336846864897: areButtonsEnabled --> true
1336846864897: send final leg ack regardless of new or already-processed reply
1336846864898: inside finalLegAck: change requestCounter to 48
1336846864898: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014048 Client in region: (0,0) Client nodID: 5014
1336846864898: I'm a leader client, my final_leg packet going to mux directly
1336846864900: new client_upload_photo_ack reply with replyCounter 501404700
1336846864900: note down new reply by adding replyCounter=501404700 to HashMap processedReplies
1336846864900: leader upload new photo latency = 75
1336846864900: = leader upload start 1336846864821 ~ stop 1336846864896
1336846864901: one more takeGoodSave: 6
1336846864902: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846864902: adding take latency: 75
1336846864903: SUCCESS Client now knows saving photo on its leader succeeded
1336846864831: Sending UDP payload: 1006
1336846864839: Received PROC_REPLY 10:17 (0,0)->(0,0), handing to UserApp
1336846864839: inside handleDSMReply. Now back in originator leader of region 0
1336846864839: DSM layer: Going to and from remote region took latency = 18
1336846864840: DSM layer: orig leader sent packet at 1336846864821 ~ received reply from remote leader at 1336846864839
1336846864840: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846864841: leader client reply has replyCounter: 501404700
1336846864841: reply packet contains the success info for UPLOAD_PHOTO
1336846864841: inside sendReplies of replyCount = 501404700
1336846864841: =======================
1336846864841: inside sendReplyRepeatingRunnable for replyCount = 501404700
1336846864841: Leader about to send REPLY packet, number: 501404700 type: 16 Leader in region: (0,0) to Client nodID: 5014
1336846864841: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846864841: === Finished one round of sending REPLY Packet =======
1336846864898: mux: Inside mux Packet.CLIENT_REQUEST
1336846864898: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846864899: inside handleClientRequest. Originator leader of region 0
1336846864899: got new request, requestCounter = 5014048
1336846864899: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501404700
1336846864899: Yay the last leg succeeded. Removing reply runnables ...
1336846864899: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501404700
1336846864899: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501404700
1336846864899: do not send ack for received final_leg_ack
1336846865416: Received UDP payload: 446
1336846865562: Received UDP payload: 446
1336846866473: Received UDP payload: 446
1336846867016: Received UDP payload: 446
1336846867420: Received UDP payload: 446
1336846868971: inside sendPacket(Packet p)
1336846868981: Sending UDP payload: 446
1336846869084: Received UDP payload: 3734
1336846869091: mux: GOT CSM_Msg
1336846869091: forwarding disabled, not forwarding packets
1336846869099: Received UDP payload: 1006
1336846869106: mux: GOT CSM_Msg
1336846869106: forwarding disabled, not forwarding packets
1336846870371: Received UDP payload: 446
1336846870566: Received UDP payload: 446
1336846871471: Received UDP payload: 446
1336846872008: Received UDP payload: 446
1336846872763: Received UDP payload: 446
1336846873984: inside sendPacket(Packet p)
1336846873987: Sending UDP payload: 446
1336846875372: Received UDP payload: 446
1336846875587: Received UDP payload: 446
1336846875892: Received UDP payload: 1006
1336846875898: mux: GOT CSM_Msg
1336846875899: forwarding disabled, not forwarding packets
1336846875977: Received UDP payload: 3370
1336846875981: mux: Inside mux Packet.CLIENT_REQUEST
1336846876040: Received UDP payload: 3734
1336846876047: mux: GOT CSM_Msg
1336846876047: forwarding disabled, not forwarding packets
1336846876050: Received UDP payload: 446
1336846876054: mux: Inside Packet.SERVER_REPLY
1336846876054: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846876060: Received UDP payload: 1006
1336846876066: mux: GOT CSM_Msg
1336846876066: forwarding disabled, not forwarding packets
1336846876212: Received UDP payload: 659
1336846876215: mux: Inside Packet.SERVER_REPLY
1336846876215: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846876227: Received UDP payload: 446
1336846876229: mux: Inside mux Packet.CLIENT_REQUEST
1336846876738: Received UDP payload: 446
1336846877010: Received UDP payload: 446
1336846877742: Received UDP payload: 446
1336846878987: inside sendPacket(Packet p)
1336846878989: Sending UDP payload: 446
1336846879200: Received UDP payload: 3766
1336846879206: mux: GOT CSM_Msg
1336846879207: forwarding disabled, not forwarding packets
1336846879209: Received UDP payload: 1006
1336846879224: mux: GOT CSM_Msg
1336846879224: forwarding disabled, not forwarding packets
1336846880369: Received UDP payload: 446
1336846880618: Received UDP payload: 446
1336846881743: Received UDP payload: 446
1336846881804: Received UDP payload: 3807
1336846881811: mux: GOT CSM_Msg
1336846881812: forwarding disabled, not forwarding packets
1336846881822: Received UDP payload: 1006
1336846881841: mux: GOT CSM_Msg
1336846881841: forwarding disabled, not forwarding packets
1336846882013: Received UDP payload: 446
1336846882753: Received UDP payload: 446
1336846883987: inside sendPacket(Packet p)
1336846883991: Sending UDP payload: 446
1336846884445: Received UDP payload: 3417
1336846884450: mux: Inside mux Packet.CLIENT_REQUEST
1336846884531: Received UDP payload: 3781
1336846884537: mux: GOT CSM_Msg
1336846884537: forwarding disabled, not forwarding packets
1336846884541: Received UDP payload: 446
1336846884545: mux: Inside Packet.SERVER_REPLY
1336846884545: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846884550: Received UDP payload: 1006
1336846884558: mux: GOT CSM_Msg
1336846884558: Received UDP payload: 659
1336846884558: forwarding disabled, not forwarding packets
1336846884568: mux: Inside Packet.SERVER_REPLY
1336846884568: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846884632: Received UDP payload: 446
1336846884637: mux: Inside mux Packet.CLIENT_REQUEST
1336846885373: Received UDP payload: 446
1336846885971: Received UDP payload: 446
1336846886806: Received UDP payload: 446
1336846887016: Received UDP payload: 446
1336846887768: Received UDP payload: 446
1336846888989: inside sendPacket(Packet p)
1336846888991: Sending UDP payload: 446
1336846890378: Received UDP payload: 446
1336846890975: Received UDP payload: 446
1336846891774: Received UDP payload: 446
1336846892019: Received UDP payload: 446
1336846892774: Received UDP payload: 446
1336846893989: inside sendPacket(Packet p)
1336846893992: Sending UDP payload: 446
1336846894911: Received UDP payload: 642
1336846894915: mux: Inside mux Packet.CLIENT_REQUEST
1336846894915: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846894916: inside handleClientRequest. Originator leader of region 0
1336846894916: got new request, requestCounter = 5001050
1336846894916: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846894918: Sending to region: 0
1336846894925: Sending PROC_REQUEST 11:18 (0,0)->(0,0)
1336846894926: Dispatching Atom PROC_REQUEST 11:18 (0,0)->(0,0)
1336846894939: mux: I got a CSM packet at a leader 

1336846894927: Note down new request by adding requestCounter=5001050 to HashMap processedRequests
1336846894927: Make FirstLeg Ack regardless of new or already-processed requests
1336846894928: The leader sending a First Leg ack to originator client (which id = 5001)
1336846894928: inside sendPacket(Packet p)
1336846894944: Sending UDP payload: 1006
1336846894950: removed replies before id 18 from sentReplies of size 0
1336846894951: inside handleDSMRequest. At requests's remote leader of region 0
1336846894953: INSIDE SERVER_GET_PHOTO!!!
1336846894955: dst_region == src_region = 0
1336846894955:  1 self to self atomRequest
1336846894958: Received PROC_REQUEST 11:18 (0,0)->(0,0), replying PROC_REPLY 11:18 (0,0)->(0,0)
1336846894971: Dispatching Atom PROC_REPLY 11:18 (0,0)->(0,0)
1336846894973: mux: I got a CSM packet at a leader 

1336846894972: Sending UDP payload: 446
1336846894974: Sending UDP payload: 3803
1336846894975: Received PROC_REPLY 11:18 (0,0)->(0,0), handing to UserApp
1336846894975: inside handleDSMReply. Now back in originator leader of region 0
1336846894976: DSM layer: Going to and from remote region took latency = 57
1336846894976: DSM layer: orig leader sent packet at 1336846894918 ~ received reply from remote leader at 1336846894975
1336846894976: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846894977: leader client reply has replyCounter: 500105000
1336846894977: reply packet contains the newest photo/success info from the remote region
1336846894977: inside sendReplies of replyCount = 500105000
1336846894977: =======================
1336846894977: inside sendReplyRepeatingRunnable for replyCount = 500105000
1336846894978: Leader about to send REPLY packet, number: 500105000 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846894978: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846894978: inside sendPacket(Packet p)
1336846894978: === Finished one round of sending REPLY Packet =======
1336846894990: Sending UDP payload: 3456
1336846895101: Received UDP payload: 446
1336846895103: mux: Inside mux Packet.CLIENT_REQUEST
1336846895103: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846895104: inside handleClientRequest. Originator leader of region 0
1336846895104: got new request, requestCounter = 5001051
1336846895104: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500105000
1336846895104: Yay the last leg succeeded. Removing reply runnables ...
1336846895104: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500105000
1336846895104: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500105000
1336846895105: do not send ack for received final_leg_ack
1336846895431: Received UDP payload: 446
1336846895966: Received UDP payload: 446
1336846896092: canPressButton = TRUE
1336846896092: areButtonsEnabled --> false 
1336846896092: get picture disableButtonsR
1336846896092: areButtonsEnabled --> false
1336846896118: one more getNum: 19
1336846896119: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=18 getBad=0 getTimedout=0 getPercent=94%
1336846896119: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846896120: change local requestCounter to 49
1336846896120: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014049 Client in region: 0 Client nodID: 5014
1336846896152: ----------------------------
1336846896152: inside sendRequestPacketRepeatingRunnable for requestCount = 5014049
1336846896152: I'm a leader, my requesting photos packet going to mux directly
1336846896162: --- Finished one round of sending REQUEST Packet ---------
1336846896153: mux: Inside mux Packet.CLIENT_REQUEST
1336846896153: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846896208: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846896153: inside handleClientRequest. Originator leader of region 0
1336846896153: got new request, requestCounter = 5014049
1336846896153: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846896154: Sending to region: 0
1336846896154: Sending PROC_REQUEST 11:19 (0,0)->(0,0)
1336846896155: Dispatching Atom PROC_REQUEST 11:19 (0,0)->(0,0)
1336846896156: mux: I got a CSM packet at a leader 

1336846896155: Note down new request by adding requestCounter=5014049 to HashMap processedRequests
1336846896155: Make FirstLeg Ack regardless of new or already-processed requests
1336846896156: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846896157: Sending UDP payload: 1006
1336846896158: removed replies before id 19 from sentReplies of size 0
1336846896158: inside handleDSMRequest. At requests's remote leader of region 0
1336846896159: INSIDE SERVER_GET_PHOTO!!!
1336846896159: dst_region == src_region = 0
1336846896160:  1 self to self atomRequest
1336846896161: Received PROC_REQUEST 11:19 (0,0)->(0,0), replying PROC_REPLY 11:19 (0,0)->(0,0)
1336846896161: Dispatching Atom PROC_REPLY 11:19 (0,0)->(0,0)
1336846896161: mux: I got a CSM packet at a leader 

1336846896210: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846896210: disabling progressdialog due to successful new photo get
1336846896210: Inside _enableButtons
1336846896210: areButtonsEnabled --> true
1336846896211: send final leg ack regardless of new or already-processed reply
1336846896211: inside finalLegAck: change requestCounter to 50
1336846896211: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014050 Client in region: (0,0) Client nodID: 5014
1336846896211: I'm a leader client, my final_leg packet going to mux directly
1336846896215: new client_show_remotephoto reply with replyCounter 501404900
1336846896215: note down new reply by adding replyCounter=501404900 to HashMap processedReplies
1336846896215: leader download remote photo latency = 57
1336846896216: = leader download start 1336846896153 ~ stop 1336846896210
1336846896216: one more getGood: 19
1336846896219: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=19 getBad=0 getTimedout=0 getPercent=100%
1336846896219: adding get latency: 57
1336846896220: Success! Client getting photo from remote region, showing photo...
1336846896220: Remote photo's length: 2775
1336846896173: Sending UDP payload: 3803
1336846896174: Received PROC_REPLY 11:19 (0,0)->(0,0), handing to UserApp
1336846896175: inside handleDSMReply. Now back in originator leader of region 0
1336846896175: DSM layer: Going to and from remote region took latency = 21
1336846896175: DSM layer: orig leader sent packet at 1336846896154 ~ received reply from remote leader at 1336846896175
1336846896175: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846896176: leader client reply has replyCounter: 501404900
1336846896176: reply packet contains the newest photo/success info from the remote region
1336846896176: inside sendReplies of replyCount = 501404900
1336846896176: =======================
1336846896176: inside sendReplyRepeatingRunnable for replyCount = 501404900
1336846896176: Leader about to send REPLY packet, number: 501404900 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846896176: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846896176: === Finished one round of sending REPLY Packet =======
1336846896211: mux: Inside mux Packet.CLIENT_REQUEST
1336846896212: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846896212: inside handleClientRequest. Originator leader of region 0
1336846896212: got new request, requestCounter = 5014050
1336846896212: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501404900
1336846896212: Yay the last leg succeeded. Removing reply runnables ...
1336846896212: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501404900
1336846896212: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501404900
1336846896212: do not send ack for received final_leg_ack
1336846896832: Received UDP payload: 446
1336846897044: Received UDP payload: 446
1336846897294: Received UDP payload: 642
1336846897300: mux: Inside mux Packet.CLIENT_REQUEST
1336846897346: Received UDP payload: 1006
1336846897356: mux: GOT CSM_Msg
1336846897356: removed replies before id 6 from sentReplies of size 0
1336846897356: inside handleDSMRequest. At requests's remote leader of region 0
1336846897357: INSIDE SERVER_GET_PHOTO!!!
1336846897358: Received PROC_REQUEST 11:6 (1,0)->(0,0), replying PROC_REPLY 11:6 (0,0)->(1,0)
1336846897359: Dispatching Atom PROC_REPLY 11:6 (0,0)->(1,0)
1336846897359: mux: I got a CSM packet at a leader 

1336846897360: Sending UDP payload: 3803
1336846897360: forwarding disabled, not forwarding packets
1336846897361: Received UDP payload: 446
1336846897362: mux: Inside Packet.SERVER_REPLY
1336846897362: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846897468: Received UDP payload: 3456
1336846897469: mux: Inside Packet.SERVER_REPLY
1336846897469: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846897480: Received UDP payload: 446
1336846897481: mux: Inside mux Packet.CLIENT_REQUEST
1336846897769: Received UDP payload: 446
1336846898255: Received UDP payload: 1006
1336846898265: mux: GOT CSM_Msg
1336846898265: removed replies before id 7 from sentReplies of size 0
1336846898266: inside handleDSMRequest. At requests's remote leader of region 0
1336846898268: INSIDE SERVER_GET_PHOTO!!!
1336846898280: Received PROC_REQUEST 11:7 (1,0)->(0,0), replying PROC_REPLY 11:7 (0,0)->(1,0)
1336846898281: Dispatching Atom PROC_REPLY 11:7 (0,0)->(1,0)
1336846898282: mux: I got a CSM packet at a leader 

1336846898300: Sending UDP payload: 3803
1336846898303: forwarding disabled, not forwarding packets
1336846898990: inside sendPacket(Packet p)
1336846898993: Sending UDP payload: 446
1336846900392: Received UDP payload: 446
1336846900986: Received UDP payload: 446
1336846901795: Received UDP payload: 446
1336846902015: Received UDP payload: 446
1336846902774: Received UDP payload: 446
1336846903409: Received UDP payload: 1006
1336846903417: mux: GOT CSM_Msg
1336846903418: removed replies before id 3 from sentReplies of size 0
1336846903419: inside handleDSMRequest. At requests's remote leader of region 0
1336846903429: INSIDE SERVER_GET_PHOTO!!!
1336846903434: Received PROC_REQUEST 11:3 (3,0)->(0,0), replying PROC_REPLY 11:3 (0,0)->(3,0)
1336846903444: Dispatching Atom PROC_REPLY 11:3 (0,0)->(3,0)
1336846903445: mux: I got a CSM packet at a leader 

1336846903448: Sending UDP payload: 3803
1336846903462: forwarding disabled, not forwarding packets
1336846903997: inside sendPacket(Packet p)
1336846903999: Sending UDP payload: 446
1336846905410: Received UDP payload: 446
1336846905967: Received UDP payload: 446
1336846906807: Received UDP payload: 446
1336846907024: Received UDP payload: 446
1336846907776: Received UDP payload: 446
1336846908640: Received UDP payload: 1006
1336846908653: mux: GOT CSM_Msg
1336846908654: removed replies before id 3 from sentReplies of size 0
1336846908654: inside handleDSMRequest. At requests's remote leader of region 0
1336846908656: INSIDE SERVER_GET_PHOTO!!!
1336846908670: Received PROC_REQUEST 11:3 (2,0)->(0,0), replying PROC_REPLY 11:3 (0,0)->(2,0)
1336846908671: Dispatching Atom PROC_REPLY 11:3 (0,0)->(2,0)
1336846908672: mux: I got a CSM packet at a leader 

1336846908676: Sending UDP payload: 3803
1336846908691: forwarding disabled, not forwarding packets
1336846908998: inside sendPacket(Packet p)
1336846909000: Sending UDP payload: 446
1336846910195: Received UDP payload: 642
1336846910202: mux: Inside mux Packet.CLIENT_REQUEST
1336846910257: Received UDP payload: 1006
1336846910265: mux: GOT CSM_Msg
1336846910265: removed replies before id 6 from sentReplies of size 0
1336846910266: inside handleDSMRequest. At requests's remote leader of region 0
1336846910268: INSIDE SERVER_GET_PHOTO!!!
1336846910272: Received PROC_REQUEST 11:6 (5,0)->(0,0), replying PROC_REPLY 11:6 (0,0)->(5,0)
1336846910273: Dispatching Atom PROC_REPLY 11:6 (0,0)->(5,0)
1336846910274: mux: I got a CSM packet at a leader 

1336846910277: Sending UDP payload: 3803
1336846910290: Received UDP payload: 446
1336846910294: mux: Inside Packet.SERVER_REPLY
1336846910295: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846910294: forwarding disabled, not forwarding packets
1336846910396: Received UDP payload: 3456
1336846910398: mux: Inside Packet.SERVER_REPLY
1336846910398: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846910407: Received UDP payload: 446
1336846910413: Received UDP payload: 446
1336846910415: mux: Inside mux Packet.CLIENT_REQUEST
1336846910966: Received UDP payload: 446
1336846911188: Received UDP payload: 1006
1336846911196: mux: GOT CSM_Msg
1336846911196: removed replies before id 7 from sentReplies of size 0
1336846911197: inside handleDSMRequest. At requests's remote leader of region 0
1336846911202: INSIDE SERVER_GET_PHOTO!!!
1336846911221: Received PROC_REQUEST 11:7 (5,0)->(0,0), replying PROC_REPLY 11:7 (0,0)->(5,0)
1336846911222: Dispatching Atom PROC_REPLY 11:7 (0,0)->(5,0)
1336846911223: mux: I got a CSM packet at a leader 

1336846911226: Sending UDP payload: 3803
1336846911230: forwarding disabled, not forwarding packets
1336846911833: Received UDP payload: 446
1336846912021: Received UDP payload: 446
1336846912783: Received UDP payload: 446
1336846913866: Received UDP payload: 1006
1336846913873: mux: GOT CSM_Msg
1336846913874: removed replies before id 6 from sentReplies of size 0
1336846913875: inside handleDSMRequest. At requests's remote leader of region 0
1336846913877: INSIDE SERVER_GET_PHOTO!!!
1336846913894: Received PROC_REQUEST 11:6 (4,0)->(0,0), replying PROC_REPLY 11:6 (0,0)->(4,0)
1336846913895: Dispatching Atom PROC_REPLY 11:6 (0,0)->(4,0)
1336846913895: mux: I got a CSM packet at a leader 

1336846913909: Sending UDP payload: 3803
1336846913913: forwarding disabled, not forwarding packets
1336846914000: inside sendPacket(Packet p)
1336846914002: Sending UDP payload: 446
1336846915414: Received UDP payload: 642
1336846915418: mux: Inside mux Packet.CLIENT_REQUEST
1336846915430: Received UDP payload: 446
1336846915469: Received UDP payload: 1006
1336846915476: mux: GOT CSM_Msg
1336846915476: removed replies before id 7 from sentReplies of size 0
1336846915476: inside handleDSMRequest. At requests's remote leader of region 0
1336846915477: INSIDE SERVER_GET_PHOTO!!!
1336846915478: Received PROC_REQUEST 11:7 (4,0)->(0,0), replying PROC_REPLY 11:7 (0,0)->(4,0)
1336846915478: Dispatching Atom PROC_REPLY 11:7 (0,0)->(4,0)
1336846915479: mux: I got a CSM packet at a leader 

1336846915480: Sending UDP payload: 3803
1336846915480: forwarding disabled, not forwarding packets
1336846915481: Received UDP payload: 446
1336846915482: mux: Inside Packet.SERVER_REPLY
1336846915482: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846915587: Received UDP payload: 3456
1336846915590: mux: Inside Packet.SERVER_REPLY
1336846915590: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846915602: Received UDP payload: 446
1336846915604: mux: Inside mux Packet.CLIENT_REQUEST
1336846915992: Received UDP payload: 446
1336846916832: Received UDP payload: 446
1336846917037: Received UDP payload: 446
1336846917788: Received UDP payload: 446
1336846919001: inside sendPacket(Packet p)
1336846919004: Sending UDP payload: 446
1336846920436: Received UDP payload: 446
1336846920984: Received UDP payload: 446
1336846921854: Received UDP payload: 446
1336846922048: Received UDP payload: 446
1336846922748: Received UDP payload: 1006
1336846922755: mux: GOT CSM_Msg
1336846922755: forwarding disabled, not forwarding packets
1336846922787: Received UDP payload: 3744
1336846922796: mux: GOT CSM_Msg
1336846922796: forwarding disabled, not forwarding packets
1336846922797: Received UDP payload: 446
1336846923894: Received UDP payload: 642
1336846923898: mux: Inside mux Packet.CLIENT_REQUEST
1336846923951: Received UDP payload: 1006
1336846923957: mux: GOT CSM_Msg
1336846923957: forwarding disabled, not forwarding packets
1336846923970: Received UDP payload: 446
1336846923974: mux: Inside Packet.SERVER_REPLY
1336846923974: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846924003: inside sendPacket(Packet p)
1336846924005: Sending UDP payload: 446
1336846924022: Received UDP payload: 3744
1336846924024: mux: GOT CSM_Msg
1336846924025: forwarding disabled, not forwarding packets
1336846924069: Received UDP payload: 3397
1336846924071: mux: Inside Packet.SERVER_REPLY
1336846924071: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846924083: Received UDP payload: 446
1336846924084: mux: Inside mux Packet.CLIENT_REQUEST
1336846925339: Received UDP payload: 642
1336846925344: mux: Inside mux Packet.CLIENT_REQUEST
1336846925344: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846925344: inside handleClientRequest. Originator leader of region 0
1336846925345: got new request, requestCounter = 5001052
1336846925345: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846925347: Sending to region: 1
1336846925355: Sending PROC_REQUEST 11:6 (0,0)->(1,0)
1336846925357: Dispatching Atom PROC_REQUEST 11:6 (0,0)->(1,0)
1336846925370: mux: I got a CSM packet at a leader 

1336846925357: Note down new request by adding requestCounter=5001052 to HashMap processedRequests
1336846925357: Make FirstLeg Ack regardless of new or already-processed requests
1336846925358: The leader sending a First Leg ack to originator client (which id = 5001)
1336846925369: inside sendPacket(Packet p)
1336846925373: Sending UDP payload: 1006
1336846925375: forwarding disabled, not forwarding packets
1336846925377: Sending UDP payload: 446
1336846925447: Received UDP payload: 446
1336846925491: Received UDP payload: 3744
1336846925493: mux: GOT CSM_Msg
1336846925494: Received PROC_REPLY 11:6 (1,0)->(0,0), handing to UserApp
1336846925494: inside handleDSMReply. Now back in originator leader of region 0
1336846925494: DSM layer: Going to and from remote region took latency = 146
1336846925494: DSM layer: orig leader sent packet at 1336846925348 ~ received reply from remote leader at 1336846925494
1336846925495: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846925495: leader client reply has replyCounter: 500105200
1336846925495: reply packet contains the newest photo/success info from the remote region
1336846925495: inside sendReplies of replyCount = 500105200
1336846925496: =======================
1336846925496: inside sendReplyRepeatingRunnable for replyCount = 500105200
1336846925496: Leader about to send REPLY packet, number: 500105200 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846925496: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846925496: inside sendPacket(Packet p)
1336846925496: === Finished one round of sending REPLY Packet =======
1336846925498: Sending UDP payload: 3397
1336846925562: Received UDP payload: 446
1336846925564: mux: Inside mux Packet.CLIENT_REQUEST
1336846925564: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846925564: inside handleClientRequest. Originator leader of region 0
1336846925564: got new request, requestCounter = 5001053
1336846925564: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500105200
1336846925565: Yay the last leg succeeded. Removing reply runnables ...
1336846925565: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500105200
1336846925565: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500105200
1336846925565: do not send ack for received final_leg_ack
1336846925994: Received UDP payload: 446
1336846926664: canPressButton = TRUE
1336846926664: areButtonsEnabled --> false 
1336846926664: get picture disableButtonsR
1336846926665: areButtonsEnabled --> false
1336846926678: one more getNum: 20
1336846926679: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=19 getBad=0 getTimedout=0 getPercent=95%
1336846926679: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846926679: change local requestCounter to 51
1336846926680: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014051 Client in region: 0 Client nodID: 5014
1336846926712: ----------------------------
1336846926712: inside sendRequestPacketRepeatingRunnable for requestCount = 5014051
1336846926712: I'm a leader, my requesting photos packet going to mux directly
1336846926717: --- Finished one round of sending REQUEST Packet ---------
1336846926713: mux: Inside mux Packet.CLIENT_REQUEST
1336846926713: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846926753: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846926713: inside handleClientRequest. Originator leader of region 0
1336846926713: got new request, requestCounter = 5014051
1336846926713: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846926714: Sending to region: 1
1336846926714: Sending PROC_REQUEST 11:7 (0,0)->(1,0)
1336846926714: Dispatching Atom PROC_REQUEST 11:7 (0,0)->(1,0)
1336846926715: mux: I got a CSM packet at a leader 

1336846926715: Note down new request by adding requestCounter=5014051 to HashMap processedRequests
1336846926715: Make FirstLeg Ack regardless of new or already-processed requests
1336846926715: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846926716: Sending UDP payload: 1006
1336846926717: forwarding disabled, not forwarding packets
1336846926834: Received UDP payload: 3744
1336846926836: mux: GOT CSM_Msg
1336846926837: Received PROC_REPLY 11:7 (1,0)->(0,0), handing to UserApp
1336846926837: inside handleDSMReply. Now back in originator leader of region 0
1336846926837: DSM layer: Going to and from remote region took latency = 123
1336846926837: DSM layer: orig leader sent packet at 1336846926714 ~ received reply from remote leader at 1336846926837
1336846926837: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846926838: leader client reply has replyCounter: 501405100
1336846926838: reply packet contains the newest photo/success info from the remote region
1336846926838: inside sendReplies of replyCount = 501405100
1336846926838: =======================
1336846926844: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846926845: disabling progressdialog due to successful new photo get
1336846926845: Inside _enableButtons
1336846926846: areButtonsEnabled --> true
1336846926847: send final leg ack regardless of new or already-processed reply
1336846926847: inside finalLegAck: change requestCounter to 52
1336846926848: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014052 Client in region: (0,0) Client nodID: 5014
1336846926849: I'm a leader client, my final_leg packet going to mux directly
1336846926849: new client_show_remotephoto reply with replyCounter 501405100
1336846926850: note down new reply by adding replyCounter=501405100 to HashMap processedReplies
1336846926851: leader download remote photo latency = 132
1336846926852: = leader download start 1336846926712 ~ stop 1336846926844
1336846926870: one more getGood: 20
1336846926871: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=20 getBad=0 getTimedout=0 getPercent=100%
1336846926873: adding get latency: 132
1336846926874: Success! Client getting photo from remote region, showing photo...
1336846926874: Remote photo's length: 2716
1336846926840: inside sendReplyRepeatingRunnable for replyCount = 501405100
1336846926840: Leader about to send REPLY packet, number: 501405100 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846926840: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846926841: === Finished one round of sending REPLY Packet =======
1336846926849: mux: Inside mux Packet.CLIENT_REQUEST
1336846926849: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846926850: inside handleClientRequest. Originator leader of region 0
1336846926850: got new request, requestCounter = 5014052
1336846926850: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501405100
1336846926850: Yay the last leg succeeded. Removing reply runnables ...
1336846926850: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501405100
1336846926850: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501405100
1336846926851: do not send ack for received final_leg_ack
1336846927050: Received UDP payload: 446
1336846927803: Received UDP payload: 446
1336846929003: inside sendPacket(Packet p)
1336846929006: Sending UDP payload: 446
1336846930488: Received UDP payload: 446
1336846930998: Received UDP payload: 446
1336846931666: Received UDP payload: 1006
1336846931673: mux: GOT CSM_Msg
1336846931673: forwarding disabled, not forwarding packets
1336846931754: Received UDP payload: 3744
1336846931761: mux: GOT CSM_Msg
1336846931761: forwarding disabled, not forwarding packets
1336846932053: Received UDP payload: 446
1336846932818: Received UDP payload: 446
1336846934004: inside sendPacket(Packet p)
1336846934006: Sending UDP payload: 446
1336846934686: Received UDP payload: 1006
1336846934693: mux: GOT CSM_Msg
1336846934694: forwarding disabled, not forwarding packets
1336846934774: Received UDP payload: 3744
1336846934782: mux: GOT CSM_Msg
1336846934782: forwarding disabled, not forwarding packets
1336846935452: Received UDP payload: 446
1336846936000: Received UDP payload: 446
1336846936896: Received UDP payload: 446
1336846937061: Received UDP payload: 446
1336846937303: Received UDP payload: 642
1336846937308: mux: Inside mux Packet.CLIENT_REQUEST
1336846937362: Received UDP payload: 1006
1336846937370: mux: GOT CSM_Msg
1336846937370: forwarding disabled, not forwarding packets
1336846937371: Received UDP payload: 446
1336846937374: mux: Inside Packet.SERVER_REPLY
1336846937375: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846937436: Received UDP payload: 3744
1336846937438: mux: GOT CSM_Msg
1336846937438: forwarding disabled, not forwarding packets
1336846937484: Received UDP payload: 3397
1336846937486: mux: Inside Packet.SERVER_REPLY
1336846937486: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846937496: Received UDP payload: 446
1336846937497: mux: Inside mux Packet.CLIENT_REQUEST
1336846937807: Received UDP payload: 446
1336846938545: Received UDP payload: 1006
1336846938554: mux: GOT CSM_Msg
1336846938554: forwarding disabled, not forwarding packets
1336846938643: Received UDP payload: 3744
1336846938650: mux: GOT CSM_Msg
1336846938650: forwarding disabled, not forwarding packets
1336846939004: inside sendPacket(Packet p)
1336846939007: Sending UDP payload: 446
1336846940461: Received UDP payload: 446
1336846941005: Received UDP payload: 446
1336846941327: Received UDP payload: 1006
1336846941336: mux: GOT CSM_Msg
1336846941336: forwarding disabled, not forwarding packets
1336846941408: Received UDP payload: 3744
1336846941410: mux: GOT CSM_Msg
1336846941410: forwarding disabled, not forwarding packets
1336846941893: Received UDP payload: 446
1336846942057: Received UDP payload: 446
1336846942518: Received UDP payload: 642
1336846942523: mux: Inside mux Packet.CLIENT_REQUEST
1336846942576: Received UDP payload: 1006
1336846942583: mux: GOT CSM_Msg
1336846942584: forwarding disabled, not forwarding packets
1336846942584: Received UDP payload: 446
1336846942588: mux: Inside Packet.SERVER_REPLY
1336846942588: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846942645: Received UDP payload: 3744
1336846942647: mux: GOT CSM_Msg
1336846942647: forwarding disabled, not forwarding packets
1336846942693: Received UDP payload: 3397
1336846942694: mux: Inside Packet.SERVER_REPLY
1336846942694: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846942718: Received UDP payload: 446
1336846942719: mux: Inside mux Packet.CLIENT_REQUEST
1336846942806: Received UDP payload: 446
1336846944009: inside sendPacket(Packet p)
1336846944011: Sending UDP payload: 446
1336846945475: Received UDP payload: 446
1336846946025: Received UDP payload: 446
1336846946902: Received UDP payload: 446
1336846947074: Received UDP payload: 446
1336846947814: Received UDP payload: 446
1336846949009: inside sendPacket(Packet p)
1336846949011: Sending UDP payload: 446
1336846950489: Received UDP payload: 446
1336846950696: Received UDP payload: 642
1336846950702: mux: Inside mux Packet.CLIENT_REQUEST
1336846950741: Received UDP payload: 1006
1336846950748: mux: GOT CSM_Msg
1336846950748: forwarding disabled, not forwarding packets
1336846950753: Received UDP payload: 446
1336846950754: mux: Inside Packet.SERVER_REPLY
1336846950754: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846950833: Received UDP payload: 3791
1336846950835: mux: GOT CSM_Msg
1336846950835: forwarding disabled, not forwarding packets
1336846950894: Received UDP payload: 3444
1336846950895: mux: Inside Packet.SERVER_REPLY
1336846950895: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846950904: Received UDP payload: 446
1336846950905: mux: Inside mux Packet.CLIENT_REQUEST
1336846951030: Received UDP payload: 446
1336846951914: Received UDP payload: 446
1336846951992: Received UDP payload: 1006
1336846952001: mux: GOT CSM_Msg
1336846952001: forwarding disabled, not forwarding packets
1336846952066: Received UDP payload: 642
1336846952071: mux: Inside mux Packet.CLIENT_REQUEST
1336846952071: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846952071: inside handleClientRequest. Originator leader of region 0
1336846952072: got new request, requestCounter = 5001054
1336846952072: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846952074: Sending to region: 2
1336846952075: Sending PROC_REQUEST 11:6 (0,0)->(2,0)
1336846952076: Dispatching Atom PROC_REQUEST 11:6 (0,0)->(2,0)
1336846952078: mux: I got a CSM packet at a leader 

1336846952077: Note down new request by adding requestCounter=5001054 to HashMap processedRequests
1336846952077: Make FirstLeg Ack regardless of new or already-processed requests
1336846952077: The leader sending a First Leg ack to originator client (which id = 5001)
1336846952078: inside sendPacket(Packet p)
1336846952080: Received UDP payload: 446
1336846952089: Received UDP payload: 3791
1336846952112: Sending UDP payload: 1006
1336846952113: forwarding disabled, not forwarding packets
1336846952115: Sending UDP payload: 446
1336846952117: mux: GOT CSM_Msg
1336846952118: forwarding disabled, not forwarding packets
1336846952180: Received UDP payload: 3791
1336846952182: mux: GOT CSM_Msg
1336846952182: Received PROC_REPLY 11:6 (2,0)->(0,0), handing to UserApp
1336846952182: inside handleDSMReply. Now back in originator leader of region 0
1336846952182: DSM layer: Going to and from remote region took latency = 108
1336846952183: DSM layer: orig leader sent packet at 1336846952074 ~ received reply from remote leader at 1336846952182
1336846952183: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846952183: leader client reply has replyCounter: 500105400
1336846952183: reply packet contains the newest photo/success info from the remote region
1336846952184: inside sendReplies of replyCount = 500105400
1336846952184: =======================
1336846952184: inside sendReplyRepeatingRunnable for replyCount = 500105400
1336846952184: Leader about to send REPLY packet, number: 500105400 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846952184: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846952184: inside sendPacket(Packet p)
1336846952184: === Finished one round of sending REPLY Packet =======
1336846952185: Sending UDP payload: 3444
1336846952250: Received UDP payload: 446
1336846952251: mux: Inside mux Packet.CLIENT_REQUEST
1336846952251: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846952252: inside handleClientRequest. Originator leader of region 0
1336846952252: got new request, requestCounter = 5001055
1336846952252: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500105400
1336846952252: Yay the last leg succeeded. Removing reply runnables ...
1336846952252: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500105400
1336846952252: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500105400
1336846952252: do not send ack for received final_leg_ack
1336846952812: Received UDP payload: 446
1336846953328: canPressButton = TRUE
1336846953329: areButtonsEnabled --> false 
1336846953329: get picture disableButtonsR
1336846953329: areButtonsEnabled --> false
1336846953355: one more getNum: 21
1336846953356: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=20 getBad=0 getTimedout=0 getPercent=95%
1336846953356: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846953356: change local requestCounter to 53
1336846953357: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014053 Client in region: 0 Client nodID: 5014
1336846953386: ----------------------------
1336846953386: inside sendRequestPacketRepeatingRunnable for requestCount = 5014053
1336846953387: I'm a leader, my requesting photos packet going to mux directly
1336846953387: --- Finished one round of sending REQUEST Packet ---------
1336846953388: mux: Inside mux Packet.CLIENT_REQUEST
1336846953388: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846953428: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846953388: inside handleClientRequest. Originator leader of region 0
1336846953389: got new request, requestCounter = 5014053
1336846953389: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846953389: Sending to region: 2
1336846953390: Sending PROC_REQUEST 11:7 (0,0)->(2,0)
1336846953390: Dispatching Atom PROC_REQUEST 11:7 (0,0)->(2,0)
1336846953391: mux: I got a CSM packet at a leader 

1336846953390: Note down new request by adding requestCounter=5014053 to HashMap processedRequests
1336846953391: Make FirstLeg Ack regardless of new or already-processed requests
1336846953391: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846953392: Sending UDP payload: 1006
1336846953398: forwarding disabled, not forwarding packets
1336846953485: Received UDP payload: 3791
1336846953487: mux: GOT CSM_Msg
1336846953490: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846953490: disabling progressdialog due to successful new photo get
1336846953490: Inside _enableButtons
1336846953491: areButtonsEnabled --> true
1336846953491: send final leg ack regardless of new or already-processed reply
1336846953491: inside finalLegAck: change requestCounter to 54
1336846953491: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014054 Client in region: (0,0) Client nodID: 5014
1336846953491: I'm a leader client, my final_leg packet going to mux directly
1336846953492: new client_show_remotephoto reply with replyCounter 501405300
1336846953492: note down new reply by adding replyCounter=501405300 to HashMap processedReplies
1336846953492: leader download remote photo latency = 103
1336846953492: = leader download start 1336846953387 ~ stop 1336846953490
1336846953493: one more getGood: 21
1336846953494: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=21 getBad=0 getTimedout=0 getPercent=100%
1336846953494: adding get latency: 103
1336846953495: Success! Client getting photo from remote region, showing photo...
1336846953495: Remote photo's length: 2763
1336846953487: Received PROC_REPLY 11:7 (2,0)->(0,0), handing to UserApp
1336846953487: inside handleDSMReply. Now back in originator leader of region 0
1336846953487: DSM layer: Going to and from remote region took latency = 97
1336846953487: DSM layer: orig leader sent packet at 1336846953390 ~ received reply from remote leader at 1336846953487
1336846953488: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846953488: leader client reply has replyCounter: 501405300
1336846953488: reply packet contains the newest photo/success info from the remote region
1336846953489: inside sendReplies of replyCount = 501405300
1336846953489: =======================
1336846953489: inside sendReplyRepeatingRunnable for replyCount = 501405300
1336846953489: Leader about to send REPLY packet, number: 501405300 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846953489: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846953489: === Finished one round of sending REPLY Packet =======
1336846953538: mux: Inside mux Packet.CLIENT_REQUEST
1336846953538: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846953538: inside handleClientRequest. Originator leader of region 0
1336846953539: got new request, requestCounter = 5014054
1336846953539: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501405300
1336846953539: Yay the last leg succeeded. Removing reply runnables ...
1336846953539: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501405300
1336846953539: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501405300
1336846953539: do not send ack for received final_leg_ack
1336846954009: inside sendPacket(Packet p)
1336846954012: Sending UDP payload: 446
1336846955491: Received UDP payload: 446
1336846956031: Received UDP payload: 446
1336846956933: Received UDP payload: 446
1336846957064: Received UDP payload: 446
1336846957857: Received UDP payload: 446
1336846958141: Received UDP payload: 1006
1336846958148: mux: GOT CSM_Msg
1336846958149: forwarding disabled, not forwarding packets
1336846958236: Received UDP payload: 3791
1336846958245: mux: GOT CSM_Msg
1336846958245: forwarding disabled, not forwarding packets
1336846959012: inside sendPacket(Packet p)
1336846959021: Sending UDP payload: 446
1336846960491: Received UDP payload: 446
1336846961044: Received UDP payload: 446
1336846961780: Received UDP payload: 1006
1336846961788: mux: GOT CSM_Msg
1336846961789: forwarding disabled, not forwarding packets
1336846961820: Received UDP payload: 3791
1336846961826: mux: GOT CSM_Msg
1336846961827: forwarding disabled, not forwarding packets
1336846961937: Received UDP payload: 446
1336846962064: Received UDP payload: 446
1336846962822: Received UDP payload: 446
1336846963635: Received UDP payload: 642
1336846963642: mux: Inside mux Packet.CLIENT_REQUEST
1336846963690: Received UDP payload: 1006
1336846963697: mux: GOT CSM_Msg
1336846963698: forwarding disabled, not forwarding packets
1336846963709: Received UDP payload: 446
1336846963710: mux: Inside Packet.SERVER_REPLY
1336846963710: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846963754: Received UDP payload: 3791
1336846963756: mux: GOT CSM_Msg
1336846963756: forwarding disabled, not forwarding packets
1336846963807: Received UDP payload: 3444
1336846963809: mux: Inside Packet.SERVER_REPLY
1336846963809: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846963818: Received UDP payload: 446
1336846963819: mux: Inside mux Packet.CLIENT_REQUEST
1336846964029: inside sendPacket(Packet p)
1336846964030: Sending UDP payload: 446
1336846964641: Received UDP payload: 1006
1336846964648: mux: GOT CSM_Msg
1336846964649: forwarding disabled, not forwarding packets
1336846964733: Received UDP payload: 3791
1336846964735: mux: GOT CSM_Msg
1336846964735: forwarding disabled, not forwarding packets
1336846965494: Received UDP payload: 446
1336846966096: Received UDP payload: 446
1336846966937: Received UDP payload: 446
1336846967070: Received UDP payload: 446
1336846967816: Received UDP payload: 446
1336846968129: Received UDP payload: 1006
1336846968137: mux: GOT CSM_Msg
1336846968137: forwarding disabled, not forwarding packets
1336846968223: Received UDP payload: 3791
1336846968230: mux: GOT CSM_Msg
1336846968230: forwarding disabled, not forwarding packets
1336846969030: inside sendPacket(Packet p)
1336846969033: Sending UDP payload: 446
1336846969329: Received UDP payload: 642
1336846969333: mux: Inside mux Packet.CLIENT_REQUEST
1336846969379: Received UDP payload: 1006
1336846969387: mux: GOT CSM_Msg
1336846969387: forwarding disabled, not forwarding packets
1336846969387: Received UDP payload: 446
1336846969388: mux: Inside Packet.SERVER_REPLY
1336846969388: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846969430: Received UDP payload: 3791
1336846969432: mux: GOT CSM_Msg
1336846969432: forwarding disabled, not forwarding packets
1336846969471: Received UDP payload: 3444
1336846969473: mux: Inside Packet.SERVER_REPLY
1336846969473: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846969484: Received UDP payload: 446
1336846969485: mux: Inside mux Packet.CLIENT_REQUEST
1336846970500: Received UDP payload: 446
1336846971064: Received UDP payload: 446
1336846971942: Received UDP payload: 446
1336846972068: Received UDP payload: 446
1336846972822: Received UDP payload: 446
1336846974031: inside sendPacket(Packet p)
1336846974034: Sending UDP payload: 446
1336846975307: Received UDP payload: 1006
1336846975314: mux: GOT CSM_Msg
1336846975314: forwarding disabled, not forwarding packets
1336846975360: Received UDP payload: 3734
1336846975366: mux: GOT CSM_Msg
1336846975367: forwarding disabled, not forwarding packets
1336846975493: Received UDP payload: 446
1336846976065: Received UDP payload: 446
1336846976952: Received UDP payload: 446
1336846977070: Received UDP payload: 446
1336846977827: Received UDP payload: 446
1336846978065: Received UDP payload: 642
1336846978070: mux: Inside mux Packet.CLIENT_REQUEST
1336846978070: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846978071: inside handleClientRequest. Originator leader of region 0
1336846978071: got new request, requestCounter = 5001056
1336846978072: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846978073: Sending to region: 3
1336846978074: Sending PROC_REQUEST 11:6 (0,0)->(3,0)
1336846978075: Dispatching Atom PROC_REQUEST 11:6 (0,0)->(3,0)
1336846978091: mux: I got a CSM packet at a leader 

1336846978089: Note down new request by adding requestCounter=5001056 to HashMap processedRequests
1336846978090: Make FirstLeg Ack regardless of new or already-processed requests
1336846978090: The leader sending a First Leg ack to originator client (which id = 5001)
1336846978091: inside sendPacket(Packet p)
1336846978098: Sending UDP payload: 1006
1336846978100: forwarding disabled, not forwarding packets
1336846978102: Sending UDP payload: 446
1336846978194: Received UDP payload: 3734
1336846978198: mux: GOT CSM_Msg
1336846978199: Received PROC_REPLY 11:6 (3,0)->(0,0), handing to UserApp
1336846978199: inside handleDSMReply. Now back in originator leader of region 0
1336846978199: DSM layer: Going to and from remote region took latency = 126
1336846978199: DSM layer: orig leader sent packet at 1336846978073 ~ received reply from remote leader at 1336846978199
1336846978201: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846978201: leader client reply has replyCounter: 500105600
1336846978201: reply packet contains the newest photo/success info from the remote region
1336846978201: inside sendReplies of replyCount = 500105600
1336846978201: =======================
1336846978202: inside sendReplyRepeatingRunnable for replyCount = 500105600
1336846978202: Leader about to send REPLY packet, number: 500105600 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336846978202: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336846978202: inside sendPacket(Packet p)
1336846978203: === Finished one round of sending REPLY Packet =======
1336846978204: Sending UDP payload: 3387
1336846978267: Received UDP payload: 446
1336846978269: mux: Inside mux Packet.CLIENT_REQUEST
1336846978270: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846978270: inside handleClientRequest. Originator leader of region 0
1336846978270: got new request, requestCounter = 5001057
1336846978270: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500105600
1336846978270: Yay the last leg succeeded. Removing reply runnables ...
1336846978271: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500105600
1336846978271: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500105600
1336846978271: do not send ack for received final_leg_ack
1336846979032: inside sendPacket(Packet p)
1336846979035: Sending UDP payload: 446
1336846979477: canPressButton = TRUE
1336846979478: areButtonsEnabled --> false 
1336846979478: get picture disableButtonsR
1336846979478: areButtonsEnabled --> false
1336846979504: one more getNum: 22
1336846979505: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=21 getBad=0 getTimedout=0 getPercent=95%
1336846979505: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846979505: change local requestCounter to 55
1336846979506: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014055 Client in region: 0 Client nodID: 5014
1336846979487: Received UDP payload: 642
1336846979489: mux: Inside mux Packet.CLIENT_REQUEST
1336846979539: ----------------------------
1336846979539: inside sendRequestPacketRepeatingRunnable for requestCount = 5014055
1336846979539: I'm a leader, my requesting photos packet going to mux directly
1336846979545: --- Finished one round of sending REQUEST Packet ---------
1336846979533: Received UDP payload: 1006
1336846979535: mux: GOT CSM_Msg
1336846979535: forwarding disabled, not forwarding packets
1336846979540: mux: Inside mux Packet.CLIENT_REQUEST
1336846979540: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846979582: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846979540: inside handleClientRequest. Originator leader of region 0
1336846979540: got new request, requestCounter = 5014055
1336846979540: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846979541: Sending to region: 3
1336846979541: Sending PROC_REQUEST 11:7 (0,0)->(3,0)
1336846979542: Dispatching Atom PROC_REQUEST 11:7 (0,0)->(3,0)
1336846979542: mux: I got a CSM packet at a leader 

1336846979542: Note down new request by adding requestCounter=5014055 to HashMap processedRequests
1336846979542: Make FirstLeg Ack regardless of new or already-processed requests
1336846979542: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336846979544: Sending UDP payload: 1006
1336846979544: forwarding disabled, not forwarding packets
1336846979547: Received UDP payload: 446
1336846979549: mux: Inside Packet.SERVER_REPLY
1336846979549: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846979611: Received UDP payload: 3734
1336846979613: mux: GOT CSM_Msg
1336846979614: forwarding disabled, not forwarding packets
1336846979656: Received UDP payload: 3734
1336846979658: mux: GOT CSM_Msg
1336846979669: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846979670: disabling progressdialog due to successful new photo get
1336846979670: Inside _enableButtons
1336846979670: areButtonsEnabled --> true
1336846979670: send final leg ack regardless of new or already-processed reply
1336846979671: inside finalLegAck: change requestCounter to 56
1336846979671: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014056 Client in region: (0,0) Client nodID: 5014
1336846979671: I'm a leader client, my final_leg packet going to mux directly
1336846979673: new client_show_remotephoto reply with replyCounter 501405500
1336846979673: note down new reply by adding replyCounter=501405500 to HashMap processedReplies
1336846979673: leader download remote photo latency = 129
1336846979674: = leader download start 1336846979540 ~ stop 1336846979669
1336846979674: one more getGood: 22
1336846979677: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=22 getBad=0 getTimedout=0 getPercent=100%
1336846979677: adding get latency: 129
1336846979678: Success! Client getting photo from remote region, showing photo...
1336846979679: Remote photo's length: 2706
1336846979659: Received PROC_REPLY 11:7 (3,0)->(0,0), handing to UserApp
1336846979659: inside handleDSMReply. Now back in originator leader of region 0
1336846979663: DSM layer: Going to and from remote region took latency = 118
1336846979663: DSM layer: orig leader sent packet at 1336846979541 ~ received reply from remote leader at 1336846979659
1336846979663: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846979664: leader client reply has replyCounter: 501405500
1336846979664: reply packet contains the newest photo/success info from the remote region
1336846979664: inside sendReplies of replyCount = 501405500
1336846979664: =======================
1336846979664: inside sendReplyRepeatingRunnable for replyCount = 501405500
1336846979664: Leader about to send REPLY packet, number: 501405500 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336846979664: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336846979664: === Finished one round of sending REPLY Packet =======
1336846979671: mux: Inside mux Packet.CLIENT_REQUEST
1336846979671: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846979671: inside handleClientRequest. Originator leader of region 0
1336846979672: got new request, requestCounter = 5014056
1336846979672: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501405500
1336846979672: Yay the last leg succeeded. Removing reply runnables ...
1336846979672: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501405500
1336846979672: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501405500
1336846979673: do not send ack for received final_leg_ack
1336846979733: Received UDP payload: 3387
1336846979737: mux: Inside Packet.SERVER_REPLY
1336846979737: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846979735: Received UDP payload: 446
1336846979737: mux: Inside mux Packet.CLIENT_REQUEST
1336846980493: Received UDP payload: 446
1336846981072: Received UDP payload: 446
1336846981963: Received UDP payload: 446
1336846982441: Received UDP payload: 446
1336846983380: leader to cloud hearbeat...
1336846984039: inside sendPacket(Packet p)
1336846984053: Sending UDP payload: 446
1336846985511: Received UDP payload: 446
1336846986088: Received UDP payload: 446
1336846986990: Received UDP payload: 446
1336846987882: Received UDP payload: 446
1336846989056: inside sendPacket(Packet p)
1336846989059: Sending UDP payload: 446
1336846990519: Received UDP payload: 446
1336846990643: Received UDP payload: 1006
1336846990654: mux: GOT CSM_Msg
1336846990654: forwarding disabled, not forwarding packets
1336846990748: Received UDP payload: 3734
1336846990755: mux: GOT CSM_Msg
1336846990755: forwarding disabled, not forwarding packets
1336846991081: Received UDP payload: 446
1336846991418: Received UDP payload: 642
1336846991423: mux: Inside mux Packet.CLIENT_REQUEST
1336846991486: Received UDP payload: 1006
1336846991494: mux: GOT CSM_Msg
1336846991495: forwarding disabled, not forwarding packets
1336846991495: Received UDP payload: 446
1336846991509: mux: Inside Packet.SERVER_REPLY
1336846991510: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846991552: Received UDP payload: 3734
1336846991554: mux: GOT CSM_Msg
1336846991554: forwarding disabled, not forwarding packets
1336846991597: Received UDP payload: 3387
1336846991599: mux: Inside Packet.SERVER_REPLY
1336846991599: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336846991609: Received UDP payload: 446
1336846991611: mux: Inside mux Packet.CLIENT_REQUEST
1336846991992: Received UDP payload: 446
1336846992447: Received UDP payload: 446
1336846992487: Received UDP payload: 1006
1336846992496: mux: GOT CSM_Msg
1336846992496: forwarding disabled, not forwarding packets
1336846992576: Received UDP payload: 3734
1336846992582: mux: GOT CSM_Msg
1336846992583: forwarding disabled, not forwarding packets
1336846992902: Received UDP payload: 446
1336846994057: inside sendPacket(Packet p)
1336846994063: Sending UDP payload: 446
1336846995534: Received UDP payload: 446
1336846996104: Received UDP payload: 446
1336846997183: Received UDP payload: 446
1336846997453: Received UDP payload: 446
1336846997908: Received UDP payload: 446
1336846999009: Received UDP payload: 1006
1336846999016: mux: GOT CSM_Msg
1336846999016: forwarding disabled, not forwarding packets
1336846999061: inside sendPacket(Packet p)
1336846999063: Sending UDP payload: 446
1336847000289: Received UDP payload: 642
1336847000293: mux: Inside mux Packet.CLIENT_REQUEST
1336847000341: Received UDP payload: 1006
1336847000348: mux: GOT CSM_Msg
1336847000348: forwarding disabled, not forwarding packets
1336847000358: Received UDP payload: 446
1336847000361: mux: Inside Packet.SERVER_REPLY
1336847000361: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847000416: Received UDP payload: 3734
1336847000418: mux: GOT CSM_Msg
1336847000418: forwarding disabled, not forwarding packets
1336847000466: Received UDP payload: 3387
1336847000467: mux: Inside Packet.SERVER_REPLY
1336847000467: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847000482: Received UDP payload: 446
1336847000484: mux: Inside mux Packet.CLIENT_REQUEST
1336847000519: Received UDP payload: 446
1336847001089: Received UDP payload: 446
1336847002189: Received UDP payload: 446
1336847002462: Received UDP payload: 446
1336847002906: Received UDP payload: 446
1336847003600: Received UDP payload: 1006
1336847003607: mux: GOT CSM_Msg
1336847003607: forwarding disabled, not forwarding packets
1336847003693: Received UDP payload: 3781
1336847003700: mux: GOT CSM_Msg
1336847003700: forwarding disabled, not forwarding packets
1336847004062: inside sendPacket(Packet p)
1336847004064: Sending UDP payload: 446
1336847004705: Received UDP payload: 642
1336847004710: mux: Inside mux Packet.CLIENT_REQUEST
1336847004762: Received UDP payload: 1006
1336847004768: mux: GOT CSM_Msg
1336847004769: forwarding disabled, not forwarding packets
1336847004774: Received UDP payload: 446
1336847004789: mux: Inside Packet.SERVER_REPLY
1336847004789: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847004831: Received UDP payload: 3781
1336847004834: mux: GOT CSM_Msg
1336847004834: forwarding disabled, not forwarding packets
1336847004886: Received UDP payload: 3434
1336847004888: mux: Inside Packet.SERVER_REPLY
1336847004888: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847004902: Received UDP payload: 446
1336847004903: mux: Inside mux Packet.CLIENT_REQUEST
1336847005538: Received UDP payload: 446
1336847006376: Received UDP payload: 446
1336847007192: Received UDP payload: 446
1336847007480: Received UDP payload: 446
1336847007560: Received UDP payload: 642
1336847007565: mux: Inside mux Packet.CLIENT_REQUEST
1336847007565: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847007566: inside handleClientRequest. Originator leader of region 0
1336847007566: got new request, requestCounter = 5001058
1336847007567: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847007576: Sending to region: 4
1336847007584: Sending PROC_REQUEST 11:6 (0,0)->(4,0)
1336847007586: Dispatching Atom PROC_REQUEST 11:6 (0,0)->(4,0)
1336847007589: mux: I got a CSM packet at a leader 

1336847007586: Note down new request by adding requestCounter=5001058 to HashMap processedRequests
1336847007587: Make FirstLeg Ack regardless of new or already-processed requests
1336847007587: The leader sending a First Leg ack to originator client (which id = 5001)
1336847007588: inside sendPacket(Packet p)
1336847007592: Sending UDP payload: 1006
1336847007611: forwarding disabled, not forwarding packets
1336847007612: Sending UDP payload: 446
1336847007678: Received UDP payload: 3781
1336847007681: mux: GOT CSM_Msg
1336847007681: Received PROC_REPLY 11:6 (4,0)->(0,0), handing to UserApp
1336847007681: inside handleDSMReply. Now back in originator leader of region 0
1336847007681: DSM layer: Going to and from remote region took latency = 105
1336847007682: DSM layer: orig leader sent packet at 1336847007576 ~ received reply from remote leader at 1336847007681
1336847007682: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847007683: leader client reply has replyCounter: 500105800
1336847007683: reply packet contains the newest photo/success info from the remote region
1336847007683: inside sendReplies of replyCount = 500105800
1336847007683: =======================
1336847007683: inside sendReplyRepeatingRunnable for replyCount = 500105800
1336847007684: Leader about to send REPLY packet, number: 500105800 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336847007684: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336847007684: inside sendPacket(Packet p)
1336847007684: === Finished one round of sending REPLY Packet =======
1336847007685: Sending UDP payload: 3434
1336847007743: Received UDP payload: 446
1336847007744: mux: Inside mux Packet.CLIENT_REQUEST
1336847007744: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847007745: inside handleClientRequest. Originator leader of region 0
1336847007745: got new request, requestCounter = 5001059
1336847007745: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500105800
1336847007745: Yay the last leg succeeded. Removing reply runnables ...
1336847007745: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500105800
1336847007745: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500105800
1336847007745: do not send ack for received final_leg_ack
1336847007910: Received UDP payload: 446
1336847008688: canPressButton = TRUE
1336847008688: areButtonsEnabled --> false 
1336847008689: get picture disableButtonsR
1336847008689: areButtonsEnabled --> false
1336847008715: one more getNum: 23
1336847008716: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=22 getBad=0 getTimedout=0 getPercent=95%
1336847008716: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336847008716: change local requestCounter to 57
1336847008717: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014057 Client in region: 0 Client nodID: 5014
1336847008745: ----------------------------
1336847008745: inside sendRequestPacketRepeatingRunnable for requestCount = 5014057
1336847008746: I'm a leader, my requesting photos packet going to mux directly
1336847008752: --- Finished one round of sending REQUEST Packet ---------
1336847008746: mux: Inside mux Packet.CLIENT_REQUEST
1336847008746: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847008791: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336847008746: inside handleClientRequest. Originator leader of region 0
1336847008746: got new request, requestCounter = 5014057
1336847008746: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847008747: Sending to region: 4
1336847008747: Sending PROC_REQUEST 11:7 (0,0)->(4,0)
1336847008748: Dispatching Atom PROC_REQUEST 11:7 (0,0)->(4,0)
1336847008748: mux: I got a CSM packet at a leader 

1336847008748: Note down new request by adding requestCounter=5014057 to HashMap processedRequests
1336847008748: Make FirstLeg Ack regardless of new or already-processed requests
1336847008748: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336847008751: Sending UDP payload: 1006
1336847008751: forwarding disabled, not forwarding packets
1336847008845: Received UDP payload: 3781
1336847008848: mux: GOT CSM_Msg
1336847008854: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336847008855: disabling progressdialog due to successful new photo get
1336847008855: Inside _enableButtons
1336847008855: areButtonsEnabled --> true
1336847008855: send final leg ack regardless of new or already-processed reply
1336847008856: inside finalLegAck: change requestCounter to 58
1336847008856: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014058 Client in region: (0,0) Client nodID: 5014
1336847008856: I'm a leader client, my final_leg packet going to mux directly
1336847008861: new client_show_remotephoto reply with replyCounter 501405700
1336847008861: note down new reply by adding replyCounter=501405700 to HashMap processedReplies
1336847008861: leader download remote photo latency = 108
1336847008861: = leader download start 1336847008746 ~ stop 1336847008854
1336847008862: one more getGood: 23
1336847008863: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=23 getBad=0 getTimedout=0 getPercent=100%
1336847008863: adding get latency: 108
1336847008864: Success! Client getting photo from remote region, showing photo...
1336847008864: Remote photo's length: 2753
1336847008848: Received PROC_REPLY 11:7 (4,0)->(0,0), handing to UserApp
1336847008848: inside handleDSMReply. Now back in originator leader of region 0
1336847008848: DSM layer: Going to and from remote region took latency = 101
1336847008849: DSM layer: orig leader sent packet at 1336847008747 ~ received reply from remote leader at 1336847008848
1336847008849: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847008849: leader client reply has replyCounter: 501405700
1336847008850: reply packet contains the newest photo/success info from the remote region
1336847008852: inside sendReplies of replyCount = 501405700
1336847008853: =======================
1336847008853: inside sendReplyRepeatingRunnable for replyCount = 501405700
1336847008853: Leader about to send REPLY packet, number: 501405700 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336847008853: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336847008853: === Finished one round of sending REPLY Packet =======
1336847008857: mux: Inside mux Packet.CLIENT_REQUEST
1336847008857: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847008857: inside handleClientRequest. Originator leader of region 0
1336847008857: got new request, requestCounter = 5014058
1336847008859: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501405700
1336847008859: Yay the last leg succeeded. Removing reply runnables ...
1336847008860: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501405700
1336847008860: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501405700
1336847008860: do not send ack for received final_leg_ack
1336847009066: inside sendPacket(Packet p)
1336847009067: Sending UDP payload: 446
1336847010554: Received UDP payload: 446
1336847011381: Received UDP payload: 446
1336847012192: Received UDP payload: 446
1336847012472: Received UDP payload: 446
1336847012910: Received UDP payload: 446
1336847013946: Received UDP payload: 1006
1336847013955: mux: GOT CSM_Msg
1336847013955: forwarding disabled, not forwarding packets
1336847014011: Received UDP payload: 3781
1336847014013: mux: GOT CSM_Msg
1336847014013: forwarding disabled, not forwarding packets
1336847014066: inside sendPacket(Packet p)
1336847014067: Sending UDP payload: 446
1336847015566: Received UDP payload: 446
1336847015820: Received UDP payload: 1006
1336847015827: mux: GOT CSM_Msg
1336847015827: forwarding disabled, not forwarding packets
1336847015889: Received UDP payload: 3781
1336847015891: mux: GOT CSM_Msg
1336847015891: forwarding disabled, not forwarding packets
1336847016397: Received UDP payload: 446
1336847017208: Received UDP payload: 446
1336847017475: Received UDP payload: 446
1336847017954: Received UDP payload: 446
1336847019066: inside sendPacket(Packet p)
1336847019069: Sending UDP payload: 446
1336847020030: Received UDP payload: 642
1336847020034: mux: Inside mux Packet.CLIENT_REQUEST
1336847020102: Received UDP payload: 1006
1336847020109: mux: GOT CSM_Msg
1336847020109: forwarding disabled, not forwarding packets
1336847020112: Received UDP payload: 446
1336847020116: mux: Inside Packet.SERVER_REPLY
1336847020116: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847020155: Received UDP payload: 3781
1336847020161: mux: GOT CSM_Msg
1336847020162: forwarding disabled, not forwarding packets
1336847020199: Received UDP payload: 3434
1336847020201: mux: Inside Packet.SERVER_REPLY
1336847020201: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847020215: Received UDP payload: 446
1336847020218: mux: Inside mux Packet.CLIENT_REQUEST
1336847020566: Received UDP payload: 446
1336847021269: Received UDP payload: 1006
1336847021276: mux: GOT CSM_Msg
1336847021276: forwarding disabled, not forwarding packets
1336847021320: Received UDP payload: 3781
1336847021327: mux: GOT CSM_Msg
1336847021327: forwarding disabled, not forwarding packets
1336847021340: Received UDP payload: 1006
1336847021346: mux: GOT CSM_Msg
1336847021346: forwarding disabled, not forwarding packets
1336847021376: Received UDP payload: 3781
1336847021378: mux: GOT CSM_Msg
1336847021378: forwarding disabled, not forwarding packets
1336847021405: Received UDP payload: 446
1336847022212: Received UDP payload: 446
1336847022442: Received UDP payload: 642
1336847022448: mux: Inside mux Packet.CLIENT_REQUEST
1336847022473: Received UDP payload: 446
1336847022498: Received UDP payload: 1006
1336847022505: mux: GOT CSM_Msg
1336847022505: forwarding disabled, not forwarding packets
1336847022518: Received UDP payload: 446
1336847022520: mux: Inside Packet.SERVER_REPLY
1336847022520: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847022561: Received UDP payload: 3781
1336847022562: mux: GOT CSM_Msg
1336847022563: forwarding disabled, not forwarding packets
1336847022599: Received UDP payload: 3434
1336847022601: mux: Inside Packet.SERVER_REPLY
1336847022601: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847022621: Received UDP payload: 446
1336847022622: mux: Inside mux Packet.CLIENT_REQUEST
1336847022916: Received UDP payload: 446
1336847024068: inside sendPacket(Packet p)
1336847024070: Sending UDP payload: 446
1336847025574: Received UDP payload: 446
1336847026423: Received UDP payload: 446
1336847027220: Received UDP payload: 446
1336847027478: Received UDP payload: 446
1336847027914: Received UDP payload: 446
1336847029068: inside sendPacket(Packet p)
1336847029081: Sending UDP payload: 446
1336847030599: Received UDP payload: 446
1336847031437: Received UDP payload: 446
1336847032234: Received UDP payload: 446
1336847032477: Received UDP payload: 446
1336847032925: Received UDP payload: 446
1336847033977: Received UDP payload: 642
1336847033982: mux: Inside mux Packet.CLIENT_REQUEST
1336847033983: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847033983: inside handleClientRequest. Originator leader of region 0
1336847033984: got new request, requestCounter = 5001060
1336847033984: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847033986: Sending to region: 5
1336847033996: Sending PROC_REQUEST 11:6 (0,0)->(5,0)
1336847033997: Dispatching Atom PROC_REQUEST 11:6 (0,0)->(5,0)
1336847034000: mux: I got a CSM packet at a leader 

1336847033997: Note down new request by adding requestCounter=5001060 to HashMap processedRequests
1336847033998: Make FirstLeg Ack regardless of new or already-processed requests
1336847033998: The leader sending a First Leg ack to originator client (which id = 5001)
1336847033999: inside sendPacket(Packet p)
1336847034003: Sending UDP payload: 1006
1336847034019: forwarding disabled, not forwarding packets
1336847034022: Sending UDP payload: 446
1336847034083: inside sendPacket(Packet p)
1336847034084: Sending UDP payload: 446
1336847034110: Received UDP payload: 3766
1336847034112: mux: GOT CSM_Msg
1336847034112: Received PROC_REPLY 11:6 (5,0)->(0,0), handing to UserApp
1336847034112: inside handleDSMReply. Now back in originator leader of region 0
1336847034112: DSM layer: Going to and from remote region took latency = 126
1336847034113: DSM layer: orig leader sent packet at 1336847033986 ~ received reply from remote leader at 1336847034112
1336847034113: Originator Region=0's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847034113: leader client reply has replyCounter: 500106000
1336847034113: reply packet contains the newest photo/success info from the remote region
1336847034114: inside sendReplies of replyCount = 500106000
1336847034114: =======================
1336847034114: inside sendReplyRepeatingRunnable for replyCount = 500106000
1336847034114: Leader about to send REPLY packet, number: 500106000 type: 15 Leader in region: (0,0) to Client nodID: 5001
1336847034114: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1336847034114: inside sendPacket(Packet p)
1336847034114: === Finished one round of sending REPLY Packet =======
1336847034115: Sending UDP payload: 3419
1336847034180: Received UDP payload: 446
1336847034181: mux: Inside mux Packet.CLIENT_REQUEST
1336847034181: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847034181: inside handleClientRequest. Originator leader of region 0
1336847034182: got new request, requestCounter = 5001061
1336847034182: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500106000
1336847034182: Yay the last leg succeeded. Removing reply runnables ...
1336847034182: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500106000
1336847034182: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500106000
1336847034182: do not send ack for received final_leg_ack
1336847035170: canPressButton = TRUE
1336847035170: areButtonsEnabled --> false 
1336847035171: get picture disableButtonsR
1336847035171: areButtonsEnabled --> false
1336847035184: one more getNum: 24
1336847035184: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=23 getBad=0 getTimedout=0 getPercent=95%
1336847035185: ** Client of state 2 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336847035185: change local requestCounter to 59
1336847035185: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5014059 Client in region: 0 Client nodID: 5014
1336847035217: ----------------------------
1336847035218: inside sendRequestPacketRepeatingRunnable for requestCount = 5014059
1336847035218: I'm a leader, my requesting photos packet going to mux directly
1336847035224: --- Finished one round of sending REQUEST Packet ---------
1336847035218: mux: Inside mux Packet.CLIENT_REQUEST
1336847035219: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847035263: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336847035219: inside handleClientRequest. Originator leader of region 0
1336847035219: got new request, requestCounter = 5014059
1336847035219: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847035219: Sending to region: 5
1336847035220: Sending PROC_REQUEST 11:7 (0,0)->(5,0)
1336847035220: Dispatching Atom PROC_REQUEST 11:7 (0,0)->(5,0)
1336847035221: mux: I got a CSM packet at a leader 

1336847035220: Note down new request by adding requestCounter=5014059 to HashMap processedRequests
1336847035220: Make FirstLeg Ack regardless of new or already-processed requests
1336847035221: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5014)
1336847035223: Sending UDP payload: 1006
1336847035223: forwarding disabled, not forwarding packets
1336847035330: Received UDP payload: 3766
1336847035333: mux: GOT CSM_Msg
1336847035335: Received PROC_REPLY 11:7 (5,0)->(0,0), handing to UserApp
1336847035335: inside handleDSMReply. Now back in originator leader of region 0
1336847035336: DSM layer: Going to and from remote region took latency = 115
1336847035336: DSM layer: orig leader sent packet at 1336847035220 ~ received reply from remote leader at 1336847035335
1336847035338: Originator Region=0's Leader (for Client=5014) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847035339: leader client reply has replyCounter: 501405900
1336847035339: reply packet contains the newest photo/success info from the remote region
1336847035340: inside sendReplies of replyCount = 501405900
1336847035340: =======================
1336847035345: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336847035346: disabling progressdialog due to successful new photo get
1336847035346: Inside _enableButtons
1336847035346: areButtonsEnabled --> true
1336847035346: send final leg ack regardless of new or already-processed reply
1336847035346: inside finalLegAck: change requestCounter to 60
1336847035347: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5014060 Client in region: (0,0) Client nodID: 5014
1336847035347: I'm a leader client, my final_leg packet going to mux directly
1336847035347: new client_show_remotephoto reply with replyCounter 501405900
1336847035348: note down new reply by adding replyCounter=501405900 to HashMap processedReplies
1336847035348: leader download remote photo latency = 127
1336847035348: = leader download start 1336847035218 ~ stop 1336847035345
1336847035351: one more getGood: 24
1336847035352: reg=0 id=5014 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=24 getBad=0 getTimedout=0 getPercent=100%
1336847035352: adding get latency: 127
1336847035352: Success! Client getting photo from remote region, showing photo...
1336847035353: Remote photo's length: 2738
1336847035340: inside sendReplyRepeatingRunnable for replyCount = 501405900
1336847035340: Leader about to send REPLY packet, number: 501405900 type: 15 Leader in region: (0,0) to Client nodID: 5014
1336847035341: I (the leader) was also the originator client (id = 5014) so I hand the packet to my mux directly, without UDP
1336847035341: === Finished one round of sending REPLY Packet =======
1336847035347: mux: Inside mux Packet.CLIENT_REQUEST
1336847035348: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847035348: inside handleClientRequest. Originator leader of region 0
1336847035348: got new request, requestCounter = 5014060
1336847035349: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501405900
1336847035349: Yay the last leg succeeded. Removing reply runnables ...
1336847035349: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501405900
1336847035350: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501405900
1336847035350: do not send ack for received final_leg_ack
1336847035604: Received UDP payload: 446
1336847036438: Received UDP payload: 642
1336847036445: mux: Inside mux Packet.CLIENT_REQUEST
1336847036452: Received UDP payload: 446
1336847036492: Received UDP payload: 1006
1336847036500: mux: GOT CSM_Msg
1336847036501: forwarding disabled, not forwarding packets
1336847036501: Received UDP payload: 446
1336847036507: mux: Inside Packet.SERVER_REPLY
1336847036507: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847036552: Received UDP payload: 3766
1336847036557: mux: GOT CSM_Msg
1336847036558: forwarding disabled, not forwarding packets
1336847036603: Received UDP payload: 3419
1336847036607: mux: Inside Packet.SERVER_REPLY
1336847036607: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847036616: Received UDP payload: 446
1336847036622: mux: Inside mux Packet.CLIENT_REQUEST
1336847037219: Received UDP payload: 446
1336847037479: Received UDP payload: 446
1336847037935: Received UDP payload: 446
1336847038135: Received UDP payload: 1006
1336847038145: mux: GOT CSM_Msg
1336847038145: forwarding disabled, not forwarding packets
1336847038224: Received UDP payload: 3766
1336847038226: mux: GOT CSM_Msg
1336847038226: forwarding disabled, not forwarding packets
1336847039084: inside sendPacket(Packet p)
1336847039087: Sending UDP payload: 446
1336847040613: Received UDP payload: 446
1336847041454: Received UDP payload: 446
1336847042261: Received UDP payload: 446
1336847042481: Received UDP payload: 446
1336847042940: Received UDP payload: 446
1336847044085: Received UDP payload: 1006
1336847044089: inside sendPacket(Packet p)
1336847044104: Sending UDP payload: 446
1336847044106: mux: GOT CSM_Msg
1336847044106: forwarding disabled, not forwarding packets
1336847044234: Received UDP payload: 3766
1336847044241: mux: GOT CSM_Msg
1336847044241: forwarding disabled, not forwarding packets
1336847045642: Received UDP payload: 446
1336847046461: Received UDP payload: 446
1336847047224: Received UDP payload: 446
1336847047380: Received UDP payload: 1006
1336847047386: mux: GOT CSM_Msg
1336847047387: forwarding disabled, not forwarding packets
1336847047472: Received UDP payload: 3766
1336847047474: mux: GOT CSM_Msg
1336847047474: forwarding disabled, not forwarding packets
1336847047512: Received UDP payload: 446
1336847047940: Received UDP payload: 446
1336847049089: inside sendPacket(Packet p)
1336847049092: Sending UDP payload: 446
1336847050632: Received UDP payload: 446
1336847051461: Received UDP payload: 446
1336847052257: Received UDP payload: 446
1336847052460: Received UDP payload: 642
1336847052465: mux: Inside mux Packet.CLIENT_REQUEST
1336847052490: Received UDP payload: 446
1336847052505: Received UDP payload: 1006
1336847052517: mux: GOT CSM_Msg
1336847052517: forwarding disabled, not forwarding packets
1336847052541: Received UDP payload: 446
1336847052542: mux: Inside Packet.SERVER_REPLY
1336847052542: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847052585: Received UDP payload: 3766
1336847052587: mux: GOT CSM_Msg
1336847052587: forwarding disabled, not forwarding packets
1336847052626: Received UDP payload: 3419
1336847052627: mux: Inside Packet.SERVER_REPLY
1336847052627: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847052638: Received UDP payload: 446
1336847052640: mux: Inside mux Packet.CLIENT_REQUEST
1336847052928: Received UDP payload: 446
1336847053865: Received UDP payload: 1006
1336847053876: mux: GOT CSM_Msg
1336847053876: forwarding disabled, not forwarding packets
1336847053921: Received UDP payload: 3766
1336847053931: mux: GOT CSM_Msg
1336847053931: forwarding disabled, not forwarding packets
1336847054090: inside sendPacket(Packet p)
1336847054091: Sending UDP payload: 446
1336847055630: Received UDP payload: 446
1336847056483: Received UDP payload: 446
1336847057252: Received UDP payload: 446
1336847057492: Received UDP payload: 446
1336847057943: Received UDP payload: 446
1336847059090: inside sendPacket(Packet p)
1336847059093: Sending UDP payload: 446
1336847060628: Received UDP payload: 446
1336847061463: Received UDP payload: 446
1336847062129: Received UDP payload: 1006
1336847062137: mux: GOT CSM_Msg
1336847062137: forwarding disabled, not forwarding packets
1336847062226: Received UDP payload: 3766
1336847062228: mux: GOT CSM_Msg
1336847062228: forwarding disabled, not forwarding packets
1336847062246: Received UDP payload: 446
1336847062494: Received UDP payload: 446
1336847062953: Received UDP payload: 446
1336847063552: Received UDP payload: 642
1336847063557: mux: Inside mux Packet.CLIENT_REQUEST
1336847063609: Received UDP payload: 1006
1336847063611: mux: GOT CSM_Msg
1336847063611: forwarding disabled, not forwarding packets
1336847063622: Received UDP payload: 446
1336847063624: mux: Inside Packet.SERVER_REPLY
1336847063624: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847063672: Received UDP payload: 3766
1336847063674: mux: GOT CSM_Msg
1336847063674: forwarding disabled, not forwarding packets
1336847063720: Received UDP payload: 3419
1336847063722: mux: Inside Packet.SERVER_REPLY
1336847063722: mux: Ignoring SERVER_REPLY since it's not for me  5014
1336847063734: Received UDP payload: 446
1336847063735: mux: Inside mux Packet.CLIENT_REQUEST
1336847064091: inside sendPacket(Packet p)
1336847064092: Sending UDP payload: 446
1336847065637: Received UDP payload: 446
1336847066463: Received UDP payload: 446
1336847067261: Received UDP payload: 446
1336847067511: Received UDP payload: 446
1336847067965: Received UDP payload: 446
1336847069091: inside sendPacket(Packet p)
1336847069094: Sending UDP payload: 446
1336847070650: Received UDP payload: 446
1336847072273: Received UDP payload: 446
1336847072510: Received UDP payload: 446
1336847072971: Received UDP payload: 446
1336847074092: inside sendPacket(Packet p)
1336847074095: Sending UDP payload: 446
1336847075643: Received UDP payload: 446
1336847077320: Received UDP payload: 446
1336847077547: Received UDP payload: 446
1336847079093: inside sendPacket(Packet p)
1336847079110: Sending UDP payload: 446
1336847080655: Received UDP payload: 446
1336847082304: Received UDP payload: 446
1336847082520: Received UDP payload: 446
1336847084113: inside sendPacket(Packet p)
1336847084115: Sending UDP payload: 446
1336847085672: Received UDP payload: 446
1336847087297: Received UDP payload: 446
1336847089113: inside sendPacket(Packet p)
1336847089116: Sending UDP payload: 446
1336847089878: HI I'm in ONPAUSE()
1336847090679: Received UDP payload: 446
1336847090697: inside onDestroy()
