1336845918920: *** Opened log file for writing ***
1336845918920: Android build: SAMSUNG-SGH-I717
1336845918921: NET_NAME set to: eth0
1336845918921: starting Mux with id = -1
1336845918921: areButtonsEnabled --> true
1336845918923: *** Application started ***
1336845918923: HI I'm in ONRESUME()
1336845918927: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1336845918930: ************ GPS turned OFF *************
1336845918932: mux: Mux.java run() beginning -------------
1336845918941: mux: Mux.java's nodeId is5008
1336845918941: mux: starting vncDaemon ........
1336845918955: mux: vncDaemon started
1336845918942: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1336845918956: VCoreDaemon.java onStart() ....
1336845918956: started, mId = 5008
1336845918956: VCoreDaemon.java inside stateTransition ..........
1336845918956: removing leaderRequestRetryR because I'm doing a stateTransition
1336845918956: ..... VCoreDaemon.java out of bounds
1336845918957: region (-1, -1) out of bounds, dormant
1336845918957: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845919586: Received UDP payload: 446
1336845920180: Received UDP payload: 446
1336845920200: Received UDP payload: 446
1336845921084: moving from region (-1,-1), to (5,0)
1336845921086: VCoreDaemon.java inside stateTransition ..........
1336845921086: removing leaderRequestRetryR because I'm doing a stateTransition
1336845921088: ..... VCoreDaemon.java targetState = JOINING (5,0)
1336845921089: posting leaderRequestRetryR because I'm joining
1336845921090: sending LEADER_REQUEST
1336845921090: inside sendPacket(Packet p)
1336845921091: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845921108: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845921125: Sending UDP payload: 446
1336845921391: sending LEADER_REQUEST
1336845921391: inside sendPacket(Packet p)
1336845921391: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845921393: Sending UDP payload: 446
1336845921692: sending LEADER_REQUEST
1336845921692: inside sendPacket(Packet p)
1336845921692: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845921693: Sending UDP payload: 446
1336845921993: sending LEADER_REQUEST
1336845921993: inside sendPacket(Packet p)
1336845921994: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845922000: Sending UDP payload: 446
1336845922109: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1336845922109: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1336845922110: VCoreDaemon.java inside stateTransition ..........
1336845922110: removing leaderRequestRetryR because I'm doing a stateTransition
1336845922110: ..... VCoreDaemon.java targetState = LEADER
1336845922111: trying to take leadership (5,0) to the cloud
1336845922747: cloud accepted leadership request, no csm data included.
1336845922747: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1336845922748: *** Starting CSM Layer ***
1336845922748: *** CSM Layer starting with cache disabled ***
1336845922748: *** CSM Layer starting with forwarding disabled ***
1336845922764: DSMLayer starting
1336845922764: UserApp started.
1336845922765: UserApp for Camera Diploma initialized and waiting for requests.
1336845923045: inside sendPacket(Packet p)
1336845923053: now fully up as LEADER (id=5008) of (5,0)
1336845923053: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845923063: Sending UDP payload: 22318
1336845923701: Received UDP payload: 446
1336845923958: inside sendPacket(Packet p)
1336845923961: Sending UDP payload: 446
1336845924612: Received UDP payload: 446
1336845925211: Received UDP payload: 446
1336845925229: Received UDP payload: 446
1336845928725: Received UDP payload: 446
1336845928958: inside sendPacket(Packet p)
1336845928976: Sending UDP payload: 446
1336845929028: Received UDP payload: 446
1336845929273: Received UDP payload: 446
1336845929580: Received UDP payload: 446
1336845929619: Received UDP payload: 446
1336845929877: Received UDP payload: 446
1336845930216: Received UDP payload: 446
1336845930224: Received UDP payload: 446
1336845930234: Received UDP payload: 446
1336845930505: Received UDP payload: 446
1336845930819: Received UDP payload: 446
1336845930971: Received UDP payload: 22318
1336845930984: ignoring leader_reply that's not for me
1336845931226: Received UDP payload: 22335
1336845931494: Received UDP payload: 22335
1336845931753: Received UDP payload: 22335
1336845933711: Received UDP payload: 446
1336845933980: inside sendPacket(Packet p)
1336845934016: Sending UDP payload: 446
1336845934636: Received UDP payload: 446
1336845934782: Received UDP payload: 446
1336845935221: Received UDP payload: 446
1336845935248: Received UDP payload: 446
1336845938725: Received UDP payload: 446
1336845939005: inside sendPacket(Packet p)
1336845939026: Sending UDP payload: 446
1336845939658: Received UDP payload: 446
1336845939798: Received UDP payload: 446
1336845939813: Received UDP payload: 446
1336845939821: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1336845939947: inside sendPacket(Packet p)
1336845939958: Sending UDP payload: 22335
1336845940064: Received UDP payload: 446
1336845940066: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1336845940187: inside sendPacket(Packet p)
1336845940196: Sending UDP payload: 22950
1336845940267: Received UDP payload: 446
1336845940485: Received UDP payload: 446
1336845943749: Received UDP payload: 446
1336845944028: inside sendPacket(Packet p)
1336845944046: Sending UDP payload: 446
1336845944674: Received UDP payload: 446
1336845944815: Received UDP payload: 446
1336845945236: Received UDP payload: 446
1336845945245: Received UDP payload: 446
1336845948714: Received UDP payload: 446
1336845949029: inside sendPacket(Packet p)
1336845949048: Sending UDP payload: 446
1336845949697: Received UDP payload: 446
1336845949836: Received UDP payload: 446
1336845950238: Received UDP payload: 446
1336845950264: Received UDP payload: 446
1336845953715: Received UDP payload: 446
1336845954031: inside sendPacket(Packet p)
1336845954035: Sending UDP payload: 446
1336845954736: Received UDP payload: 446
1336845954853: Received UDP payload: 446
1336845955257: Received UDP payload: 446
1336845955287: Received UDP payload: 446
1336845958745: Received UDP payload: 446
1336845959033: inside sendPacket(Packet p)
1336845959038: Sending UDP payload: 446
1336845959736: Received UDP payload: 446
1336845959919: Received UDP payload: 446
1336845960245: Received UDP payload: 446
1336845960282: Received UDP payload: 446
1336845963731: Received UDP payload: 446
1336845964035: inside sendPacket(Packet p)
1336845964078: Sending UDP payload: 446
1336845964760: Received UDP payload: 446
1336845964882: Received UDP payload: 446
1336845965230: Received UDP payload: 446
1336845965280: Received UDP payload: 446
1336845968787: Received UDP payload: 446
1336845969053: inside sendPacket(Packet p)
1336845969057: Sending UDP payload: 446
1336845969784: Received UDP payload: 446
1336845969899: Received UDP payload: 446
1336845970275: Received UDP payload: 446
1336845970317: Received UDP payload: 446
1336845973773: Received UDP payload: 446
1336845974054: inside sendPacket(Packet p)
1336845974065: Sending UDP payload: 446
1336845974784: Received UDP payload: 446
1336845974911: Received UDP payload: 446
1336845975244: Received UDP payload: 446
1336845975327: Received UDP payload: 446
1336845978757: Received UDP payload: 446
1336845979069: inside sendPacket(Packet p)
1336845979072: Sending UDP payload: 446
1336845979790: Received UDP payload: 446
1336845979924: Received UDP payload: 446
1336845980295: Received UDP payload: 446
1336845980304: Received UDP payload: 446
1336845983760: Received UDP payload: 446
1336845984069: inside sendPacket(Packet p)
1336845984081: Sending UDP payload: 446
1336845984803: Received UDP payload: 446
1336845984963: Received UDP payload: 446
1336845985260: Received UDP payload: 446
1336845985304: Received UDP payload: 446
1336845988760: Received UDP payload: 446
1336845989071: inside sendPacket(Packet p)
1336845989086: Sending UDP payload: 446
1336845989851: Received UDP payload: 446
1336845989959: Received UDP payload: 446
1336845990264: Received UDP payload: 446
1336845990308: Received UDP payload: 446
1336845993768: Received UDP payload: 446
1336845994074: inside sendPacket(Packet p)
1336845994077: Sending UDP payload: 446
1336845994525: Received UDP payload: 4083
1336845994532: mux: Inside mux Packet.CLIENT_REQUEST
1336845994655: Received UDP payload: 4447
1336845994703: mux: GOT CSM_Msg
1336845994703: forwarding disabled, not forwarding packets
1336845994728: Received UDP payload: 446
1336845994729: mux: Inside Packet.SERVER_REPLY
1336845994729: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845994730: Received UDP payload: 1006
1336845994732: mux: GOT CSM_Msg
1336845994733: forwarding disabled, not forwarding packets
1336845994743: Received UDP payload: 659
1336845994745: mux: Inside Packet.SERVER_REPLY
1336845994745: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845994745: Received UDP payload: 446
1336845994747: mux: Inside mux Packet.CLIENT_REQUEST
1336845994829: Received UDP payload: 446
1336845994959: Received UDP payload: 446
1336845995260: Received UDP payload: 446
1336845995303: Received UDP payload: 446
1336845998764: Received UDP payload: 446
1336845999074: inside sendPacket(Packet p)
1336845999109: Sending UDP payload: 446
1336845999878: Received UDP payload: 4373
1336845999894: mux: GOT CSM_Msg
1336845999894: forwarding disabled, not forwarding packets
1336845999913: Received UDP payload: 446
1336845999933: Received UDP payload: 1006
1336845999945: mux: GOT CSM_Msg
1336845999945: forwarding disabled, not forwarding packets
1336845999959: Received UDP payload: 446
1336846000287: Received UDP payload: 446
1336846000319: Received UDP payload: 446
1336846001639: Received UDP payload: 1006
1336846001652: mux: GOT CSM_Msg
1336846001653: forwarding disabled, not forwarding packets
1336846003828: Received UDP payload: 446
1336846004075: inside sendPacket(Packet p)
1336846004078: Sending UDP payload: 446
1336846004894: Received UDP payload: 446
1336846004968: Received UDP payload: 446
1336846005284: Received UDP payload: 446
1336846005303: Received UDP payload: 446
1336846007654: Received UDP payload: 4169
1336846007660: mux: Inside mux Packet.CLIENT_REQUEST
1336846007796: Received UDP payload: 4533
1336846007808: mux: GOT CSM_Msg
1336846007808: forwarding disabled, not forwarding packets
1336846007826: Received UDP payload: 446
1336846007832: mux: Inside Packet.SERVER_REPLY
1336846007833: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846007843: Received UDP payload: 4169
1336846007851: mux: Inside mux Packet.CLIENT_REQUEST
1336846007857: Received UDP payload: 1006
1336846007877: mux: GOT CSM_Msg
1336846007877: forwarding disabled, not forwarding packets
1336846007892: Received UDP payload: 659
1336846007895: mux: Inside Packet.SERVER_REPLY
1336846007895: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846007895: Received UDP payload: 446
1336846007897: mux: Inside Packet.SERVER_REPLY
1336846007897: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846007898: Received UDP payload: 446
1336846007900: mux: Inside mux Packet.CLIENT_REQUEST
1336846008774: Received UDP payload: 446
1336846009075: inside sendPacket(Packet p)
1336846009079: Sending UDP payload: 446
1336846009954: Received UDP payload: 446
1336846010053: Received UDP payload: 446
1336846010286: Received UDP payload: 446
1336846010366: Received UDP payload: 446
1336846013940: Received UDP payload: 446
1336846014076: inside sendPacket(Packet p)
1336846014080: Sending UDP payload: 446
1336846014885: Received UDP payload: 446
1336846015005: Received UDP payload: 446
1336846015297: Received UDP payload: 446
1336846015343: Received UDP payload: 446
1336846017504: Received UDP payload: 4942
1336846017520: mux: GOT CSM_Msg
1336846017521: forwarding disabled, not forwarding packets
1336846017533: Received UDP payload: 1006
1336846017539: mux: GOT CSM_Msg
1336846017539: forwarding disabled, not forwarding packets
1336846018847: Received UDP payload: 446
1336846019078: inside sendPacket(Packet p)
1336846019125: Sending UDP payload: 446
1336846019897: Received UDP payload: 446
1336846020039: Received UDP payload: 446
1336846020336: Received UDP payload: 446
1336846020356: Received UDP payload: 446
1336846021352: Received UDP payload: 4368
1336846021368: mux: GOT CSM_Msg
1336846021369: forwarding disabled, not forwarding packets
1336846021384: Received UDP payload: 1006
1336846021406: mux: GOT CSM_Msg
1336846021406: forwarding disabled, not forwarding packets
1336846023870: Received UDP payload: 446
1336846024080: inside sendPacket(Packet p)
1336846024085: Sending UDP payload: 446
1336846024938: Received UDP payload: 446
1336846025085: Received UDP payload: 446
1336846025331: Received UDP payload: 446
1336846025366: Received UDP payload: 446
1336846028851: Received UDP payload: 446
1336846029081: inside sendPacket(Packet p)
1336846029088: Sending UDP payload: 446
1336846029938: Received UDP payload: 446
1336846030105: Received UDP payload: 446
1336846030320: Received UDP payload: 446
1336846030365: Received UDP payload: 446
1336846033830: Received UDP payload: 3963
1336846033840: mux: GOT CSM_Msg
1336846033841: forwarding disabled, not forwarding packets
1336846033855: Received UDP payload: 1006
1336846033879: mux: GOT CSM_Msg
1336846033880: forwarding disabled, not forwarding packets
1336846033883: Received UDP payload: 446
1336846034090: inside sendPacket(Packet p)
1336846034092: Sending UDP payload: 446
1336846034173: Received UDP payload: 3935
1336846034177: mux: Inside mux Packet.CLIENT_REQUEST
1336846034177: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846034177: inside handleClientRequest. Originator leader of region 5
1336846034177: got new request, requestCounter = 5013001
1336846034178: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846034179: Sending PROC_REQUEST 10:0 (5,0)->(5,0)
1336846034179: Dispatching Atom PROC_REQUEST 10:0 (5,0)->(5,0)
1336846034181: mux: I got a CSM packet at a leader 

1336846034228: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846034257: I'm a leader and I successfully saved my client's new photo
1336846034258: now showing in UI the new photo I just saved ... 
1336846034258: the photo length: 3271
1336846034387: end of server show photo aside %%%%%%%%%
1336846034180: Note down new request by adding requestCounter=5013001 to HashMap processedRequests
1336846034180: Make FirstLeg Ack regardless of new or already-processed requests
1336846034180: The leader sending a First Leg ack to originator client (which id = 5013)
1336846034181: inside sendPacket(Packet p)
1336846034191: Sending UDP payload: 4299
1336846034200: removed replies before id 0 from sentReplies of size 0
1336846034201: inside handleDSMRequest. At requests's remote leader of region 5
1336846034211: Inside UPLOAD_PHOTO!!
1336846034223: my_gpinfo.isSuccess is now (should be true): true
1336846034224: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846034259: Received PROC_REQUEST 10:0 (5,0)->(5,0), replying PROC_REPLY 10:0 (5,0)->(5,0)
1336846034260: Dispatching Atom PROC_REPLY 10:0 (5,0)->(5,0)
1336846034264: mux: I got a CSM packet at a leader 

1336846034262: Sending UDP payload: 446
1336846034268: Sending UDP payload: 1006
1336846034276: Received PROC_REPLY 10:0 (5,0)->(5,0), handing to UserApp
1336846034276: inside handleDSMReply. Now back in originator leader of region 5
1336846034277: DSM layer: Going to and from remote region took latency = 98
1336846034277: DSM layer: orig leader sent packet at 1336846034178 ~ received reply from remote leader at 1336846034276
1336846034278: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846034279: leader client reply has replyCounter: 501300100
1336846034280: reply packet contains the success info for UPLOAD_PHOTO
1336846034280: inside sendReplies of replyCount = 501300100
1336846034281: =======================
1336846034281: inside sendReplyRepeatingRunnable for replyCount = 501300100
1336846034281: Leader about to send REPLY packet, number: 501300100 type: 16 Leader in region: (5,0) to Client nodID: 5013
1336846034282: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846034282: inside sendPacket(Packet p)
1336846034282: === Finished one round of sending REPLY Packet =======
1336846034296: Sending UDP payload: 659
1336846034319: Received UDP payload: 446
1336846034326: mux: Inside mux Packet.CLIENT_REQUEST
1336846034326: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846034326: inside handleClientRequest. Originator leader of region 5
1336846034327: got new request, requestCounter = 5013002
1336846034327: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300100
1336846034327: Yay the last leg succeeded. Removing reply runnables ...
1336846034327: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501300100
1336846034328: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501300100
1336846034328: do not send ack for received final_leg_ack
1336846034926: Received UDP payload: 446
1336846035054: Received UDP payload: 446
1336846035351: Received UDP payload: 446
1336846035382: Received UDP payload: 446
1336846037778: Received UDP payload: 3727
1336846037790: mux: Inside mux Packet.CLIENT_REQUEST
1336846037872: Received UDP payload: 4091
1336846037883: mux: GOT CSM_Msg
1336846037884: forwarding disabled, not forwarding packets
1336846037894: Received UDP payload: 446
1336846037897: mux: Inside Packet.SERVER_REPLY
1336846037898: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846037899: Received UDP payload: 1006
1336846037917: mux: GOT CSM_Msg
1336846037917: forwarding disabled, not forwarding packets
1336846037918: Received UDP payload: 659
1336846037927: mux: Inside Packet.SERVER_REPLY
1336846037927: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846037928: Received UDP payload: 446
1336846037931: mux: Inside mux Packet.CLIENT_REQUEST
1336846038909: Received UDP payload: 446
1336846039091: inside sendPacket(Packet p)
1336846039129: Sending UDP payload: 446
1336846039690: canPressButton = TRUE
1336846039691: areButtonsEnabled --> false
1336846039691: disabling buttons ...
1336846039692: took picture disableButtonsR
1336846039692: areButtonsEnabled --> false
1336846039786: one more takeNum: 1
1336846039787: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336846039788: Clicked take picture button ..
1336846039954: Received UDP payload: 446
1336846040054: Received UDP payload: 446
1336846040320: Received UDP payload: 446
1336846040382: Received UDP payload: 446
1336846041081: inside HandlePictureStorage onPictureTaken()
1336846041081: one more takeCamGood: 1
1336846041082: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336846041345: Picture successfully taken, ORIG BYTE LENGTH = 2653129
1336846041571: Our new height x width: 306 x 408
1336846041572: Show photo from handle my camera take
1336846041573: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846041573: change local requestCounter to 1
1336846041587: BYTE SIZE AFTER COMPRESSION: 3340
1336846041593: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5008001 Client in region: 5 Client nodID: 5008
1336846041625: ----------------------------
1336846041626: inside sendRequestPacketRepeatingRunnable for requestCount = 5008001
1336846041626: I'm a leader, my requesting photos packet going to mux directly
1336846041637: --- Finished one round of sending REQUEST Packet ---------
1336846041627: mux: Inside mux Packet.CLIENT_REQUEST
1336846041627: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846041672: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846041627: inside handleClientRequest. Originator leader of region 5
1336846041627: got new request, requestCounter = 5008001
1336846041627: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846041628: Sending PROC_REQUEST 10:1 (5,0)->(5,0)
1336846041628: Dispatching Atom PROC_REQUEST 10:1 (5,0)->(5,0)
1336846041629: mux: I got a CSM packet at a leader 

1336846041674: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846041675: I'm a leader and I successfully saved my client's new photo
1336846041675: now showing in UI the new photo I just saved ... 
1336846041675: the photo length: 3340
1336846041708: end of server show photo aside %%%%%%%%%
1336846041628: Note down new request by adding requestCounter=5008001 to HashMap processedRequests
1336846041628: Make FirstLeg Ack regardless of new or already-processed requests
1336846041628: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846041636: Sending UDP payload: 4368
1336846041643: removed replies before id 1 from sentReplies of size 0
1336846041644: inside handleDSMRequest. At requests's remote leader of region 5
1336846041646: Inside UPLOAD_PHOTO!!
1336846041657: my_gpinfo.isSuccess is now (should be true): true
1336846041657: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846041659: Received PROC_REQUEST 10:1 (5,0)->(5,0), replying PROC_REPLY 10:1 (5,0)->(5,0)
1336846041659: Dispatching Atom PROC_REPLY 10:1 (5,0)->(5,0)
1336846041659: mux: I got a CSM packet at a leader 

1336846041710: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846041710: disabling progressdialog due to successful new photo upload
1336846041711: Inside _enableButtons
1336846041711: areButtonsEnabled --> true
1336846041711: send final leg ack regardless of new or already-processed reply
1336846041711: inside finalLegAck: change requestCounter to 2
1336846041713: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008002 Client in region: (5,0) Client nodID: 5008
1336846041714: I'm a leader client, my final_leg packet going to mux directly
1336846041716: new client_upload_photo_ack reply with replyCounter 500800100
1336846041717: note down new reply by adding replyCounter=500800100 to HashMap processedReplies
1336846041717: leader upload new photo latency = 84
1336846041718: = leader upload start 1336846041626 ~ stop 1336846041710
1336846041719: one more takeGoodSave: 1
1336846041720: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336846041720: adding take latency: 84
1336846041721: SUCCESS Client now knows saving photo on its leader succeeded
1336846041661: Sending UDP payload: 1006
1336846041666: Received PROC_REPLY 10:1 (5,0)->(5,0), handing to UserApp
1336846041666: inside handleDSMReply. Now back in originator leader of region 5
1336846041666: DSM layer: Going to and from remote region took latency = 39
1336846041666: DSM layer: orig leader sent packet at 1336846041627 ~ received reply from remote leader at 1336846041666
1336846041667: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846041667: leader client reply has replyCounter: 500800100
1336846041667: reply packet contains the success info for UPLOAD_PHOTO
1336846041667: inside sendReplies of replyCount = 500800100
1336846041668: =======================
1336846041668: inside sendReplyRepeatingRunnable for replyCount = 500800100
1336846041668: Leader about to send REPLY packet, number: 500800100 type: 16 Leader in region: (5,0) to Client nodID: 5008
1336846041668: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846041668: === Finished one round of sending REPLY Packet =======
1336846041714: mux: Inside mux Packet.CLIENT_REQUEST
1336846041714: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846041714: inside handleClientRequest. Originator leader of region 5
1336846041714: got new request, requestCounter = 5008002
1336846041715: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500800100
1336846041715: Yay the last leg succeeded. Removing reply runnables ...
1336846041715: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500800100
1336846041715: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500800100
1336846041715: do not send ack for received final_leg_ack
1336846043045: leader to cloud hearbeat...
1336846044092: inside sendPacket(Packet p)
1336846044095: Sending UDP payload: 446
1336846044144: Received UDP payload: 446
1336846044933: Received UDP payload: 446
1336846045091: Received UDP payload: 446
1336846045324: Received UDP payload: 446
1336846045395: Received UDP payload: 446
1336846048814: Received UDP payload: 446
1336846049094: inside sendPacket(Packet p)
1336846049107: Sending UDP payload: 446
1336846049940: Received UDP payload: 446
1336846050064: Received UDP payload: 446
1336846050335: Received UDP payload: 446
1336846050376: Received UDP payload: 446
1336846054045: Received UDP payload: 446
1336846054110: inside sendPacket(Packet p)
1336846054113: Sending UDP payload: 446
1336846054951: Received UDP payload: 446
1336846055107: Received UDP payload: 446
1336846055425: Received UDP payload: 446
1336846058994: Received UDP payload: 446
1336846059111: inside sendPacket(Packet p)
1336846059114: Sending UDP payload: 446
1336846059977: Received UDP payload: 446
1336846060081: Received UDP payload: 446
1336846060328: Received UDP payload: 446
1336846060387: Received UDP payload: 446
1336846063866: Received UDP payload: 446
1336846064112: inside sendPacket(Packet p)
1336846064116: Sending UDP payload: 446
1336846064978: Received UDP payload: 446
1336846065074: Received UDP payload: 446
1336846065333: Received UDP payload: 446
1336846065390: Received UDP payload: 446
1336846067701: Received UDP payload: 642
1336846067714: mux: Inside mux Packet.CLIENT_REQUEST
1336846067791: Received UDP payload: 1006
1336846067808: mux: GOT CSM_Msg
1336846067808: forwarding disabled, not forwarding packets
1336846067823: Received UDP payload: 446
1336846067828: mux: Inside Packet.SERVER_REPLY
1336846067829: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846067857: Received UDP payload: 4373
1336846067860: mux: GOT CSM_Msg
1336846067860: forwarding disabled, not forwarding packets
1336846067909: Received UDP payload: 4026
1336846067911: mux: Inside Packet.SERVER_REPLY
1336846067912: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846067927: Received UDP payload: 446
1336846067929: mux: Inside mux Packet.CLIENT_REQUEST
1336846068838: Received UDP payload: 446
1336846068856: Received UDP payload: 1006
1336846068870: mux: GOT CSM_Msg
1336846068871: forwarding disabled, not forwarding packets
1336846068901: Received UDP payload: 4373
1336846068925: mux: GOT CSM_Msg
1336846068925: forwarding disabled, not forwarding packets
1336846069114: inside sendPacket(Packet p)
1336846069119: Sending UDP payload: 446
1336846069457: Received UDP payload: 642
1336846069465: mux: Inside mux Packet.CLIENT_REQUEST
1336846069500: Received UDP payload: 1006
1336846069517: mux: GOT CSM_Msg
1336846069518: forwarding disabled, not forwarding packets
1336846069526: Received UDP payload: 446
1336846069544: mux: Inside Packet.SERVER_REPLY
1336846069545: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846069591: Received UDP payload: 4373
1336846069603: mux: GOT CSM_Msg
1336846069604: forwarding disabled, not forwarding packets
1336846069686: Received UDP payload: 446
1336846069691: mux: Inside mux Packet.CLIENT_REQUEST
1336846069997: Received UDP payload: 446
1336846070120: Received UDP payload: 1006
1336846070136: mux: GOT CSM_Msg
1336846070136: forwarding disabled, not forwarding packets
1336846070153: Received UDP payload: 446
1336846070190: Received UDP payload: 4373
1336846070193: mux: GOT CSM_Msg
1336846070193: forwarding disabled, not forwarding packets
1336846070329: Received UDP payload: 446
1336846070399: Received UDP payload: 446
1336846073834: Received UDP payload: 446
1336846074115: inside sendPacket(Packet p)
1336846074126: Sending UDP payload: 446
1336846074981: Received UDP payload: 446
1336846075084: Received UDP payload: 446
1336846075340: Received UDP payload: 446
1336846075407: Received UDP payload: 446
1336846075716: Received UDP payload: 1006
1336846075728: mux: GOT CSM_Msg
1336846075729: forwarding disabled, not forwarding packets
1336846075827: Received UDP payload: 4373
1336846075837: mux: GOT CSM_Msg
1336846075838: forwarding disabled, not forwarding packets
1336846076735: Received UDP payload: 1006
1336846076749: mux: GOT CSM_Msg
1336846076750: forwarding disabled, not forwarding packets
1336846076856: Received UDP payload: 4373
1336846076858: mux: GOT CSM_Msg
1336846076858: forwarding disabled, not forwarding packets
1336846078847: Received UDP payload: 446
1336846079130: inside sendPacket(Packet p)
1336846079143: Sending UDP payload: 446
1336846080072: Received UDP payload: 446
1336846080117: Received UDP payload: 446
1336846080338: Received UDP payload: 446
1336846080427: Received UDP payload: 446
1336846081913: Received UDP payload: 642
1336846081919: mux: Inside mux Packet.CLIENT_REQUEST
1336846081920: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846081920: inside handleClientRequest. Originator leader of region 5
1336846081920: got new request, requestCounter = 5013003
1336846081921: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846081953: Sending to region: 0
1336846081955: Sending PROC_REQUEST 11:0 (5,0)->(0,0)
1336846081957: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(0,0)
1336846081984: mux: I got a CSM packet at a leader 

1336846081959: Note down new request by adding requestCounter=5013003 to HashMap processedRequests
1336846081959: Make FirstLeg Ack regardless of new or already-processed requests
1336846081960: The leader sending a First Leg ack to originator client (which id = 5013)
1336846081983: inside sendPacket(Packet p)
1336846081990: Sending UDP payload: 1006
1336846082005: forwarding disabled, not forwarding packets
1336846082009: Sending UDP payload: 446
1336846082149: Received UDP payload: 4373
1336846082153: mux: GOT CSM_Msg
1336846082154: Received PROC_REPLY 11:0 (0,0)->(5,0), handing to UserApp
1336846082154: inside handleDSMReply. Now back in originator leader of region 5
1336846082154: DSM layer: Going to and from remote region took latency = 200
1336846082154: DSM layer: orig leader sent packet at 1336846081954 ~ received reply from remote leader at 1336846082154
1336846082155: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846082155: leader client reply has replyCounter: 501300300
1336846082155: reply packet contains the newest photo/success info from the remote region
1336846082156: inside sendReplies of replyCount = 501300300
1336846082162: =======================
1336846082163: inside sendReplyRepeatingRunnable for replyCount = 501300300
1336846082163: Leader about to send REPLY packet, number: 501300300 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846082163: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846082163: inside sendPacket(Packet p)
1336846082163: === Finished one round of sending REPLY Packet =======
1336846082166: Sending UDP payload: 4026
1336846082223: Received UDP payload: 446
1336846082224: mux: Inside mux Packet.CLIENT_REQUEST
1336846082225: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846082225: inside handleClientRequest. Originator leader of region 5
1336846082225: got new request, requestCounter = 5013004
1336846082225: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300300
1336846082225: Yay the last leg succeeded. Removing reply runnables ...
1336846082225: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501300300
1336846082225: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501300300
1336846082226: do not send ack for received final_leg_ack
1336846082433: canPressButton = TRUE
1336846082433: areButtonsEnabled --> false 
1336846082433: get picture disableButtonsR
1336846082434: areButtonsEnabled --> false
1336846082464: one more getNum: 1
1336846082465: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1336846082465: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846082465: change local requestCounter to 3
1336846082466: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008003 Client in region: 5 Client nodID: 5008
1336846082497: ----------------------------
1336846082498: inside sendRequestPacketRepeatingRunnable for requestCount = 5008003
1336846082498: I'm a leader, my requesting photos packet going to mux directly
1336846082506: --- Finished one round of sending REQUEST Packet ---------
1336846082498: mux: Inside mux Packet.CLIENT_REQUEST
1336846082498: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846082542: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846082498: inside handleClientRequest. Originator leader of region 5
1336846082498: got new request, requestCounter = 5008003
1336846082499: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846082499: Sending to region: 0
1336846082500: Sending PROC_REQUEST 11:1 (5,0)->(0,0)
1336846082500: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1336846082502: mux: I got a CSM packet at a leader 

1336846082502: Note down new request by adding requestCounter=5008003 to HashMap processedRequests
1336846082502: Make FirstLeg Ack regardless of new or already-processed requests
1336846082502: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846082504: Sending UDP payload: 1006
1336846082505: forwarding disabled, not forwarding packets
1336846082588: Received UDP payload: 4373
1336846082592: mux: GOT CSM_Msg
1336846082616: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846082617: disabling progressdialog due to successful new photo get
1336846082617: Inside _enableButtons
1336846082617: areButtonsEnabled --> true
1336846082617: send final leg ack regardless of new or already-processed reply
1336846082618: inside finalLegAck: change requestCounter to 4
1336846082618: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008004 Client in region: (5,0) Client nodID: 5008
1336846082619: I'm a leader client, my final_leg packet going to mux directly
1336846082622: new client_show_remotephoto reply with replyCounter 500800300
1336846082622: note down new reply by adding replyCounter=500800300 to HashMap processedReplies
1336846082623: leader download remote photo latency = 118
1336846082623: = leader download start 1336846082498 ~ stop 1336846082616
1336846082624: one more getGood: 1
1336846082633: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1336846082634: adding get latency: 118
1336846082634: Success! Client getting photo from remote region, showing photo...
1336846082634: Remote photo's length: 3345
1336846082593: Received PROC_REPLY 11:1 (0,0)->(5,0), handing to UserApp
1336846082593: inside handleDSMReply. Now back in originator leader of region 5
1336846082593: DSM layer: Going to and from remote region took latency = 94
1336846082593: DSM layer: orig leader sent packet at 1336846082499 ~ received reply from remote leader at 1336846082593
1336846082594: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846082594: leader client reply has replyCounter: 500800300
1336846082595: reply packet contains the newest photo/success info from the remote region
1336846082598: inside sendReplies of replyCount = 500800300
1336846082598: =======================
1336846082598: inside sendReplyRepeatingRunnable for replyCount = 500800300
1336846082599: Leader about to send REPLY packet, number: 500800300 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846082599: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846082599: === Finished one round of sending REPLY Packet =======
1336846082619: mux: Inside mux Packet.CLIENT_REQUEST
1336846082619: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846082619: inside handleClientRequest. Originator leader of region 5
1336846082620: got new request, requestCounter = 5008004
1336846082620: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500800300
1336846082620: Yay the last leg succeeded. Removing reply runnables ...
1336846082620: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500800300
1336846082620: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500800300
1336846082620: do not send ack for received final_leg_ack
1336846083559: Received UDP payload: 1006
1336846083594: mux: GOT CSM_Msg
1336846083595: forwarding disabled, not forwarding packets
1336846083659: Received UDP payload: 4373
1336846083662: mux: GOT CSM_Msg
1336846083663: forwarding disabled, not forwarding packets
1336846083853: Received UDP payload: 446
1336846084140: inside sendPacket(Packet p)
1336846084147: Sending UDP payload: 446
1336846084957: Received UDP payload: 642
1336846084965: mux: Inside mux Packet.CLIENT_REQUEST
1336846085018: Received UDP payload: 1006
1336846085036: mux: GOT CSM_Msg
1336846085036: forwarding disabled, not forwarding packets
1336846085036: Received UDP payload: 446
1336846085038: mux: Inside Packet.SERVER_REPLY
1336846085038: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846085051: Received UDP payload: 446
1336846085081: Received UDP payload: 446
1336846085130: Received UDP payload: 4373
1336846085133: mux: GOT CSM_Msg
1336846085133: forwarding disabled, not forwarding packets
1336846085190: Received UDP payload: 446
1336846085191: mux: Inside mux Packet.CLIENT_REQUEST
1336846085331: Received UDP payload: 446
1336846085393: Received UDP payload: 446
1336846088922: Received UDP payload: 446
1336846089141: inside sendPacket(Packet p)
1336846089145: Sending UDP payload: 446
1336846090029: Received UDP payload: 446
1336846090102: Received UDP payload: 446
1336846090336: Received UDP payload: 446
1336846090456: Received UDP payload: 446
1336846094016: Received UDP payload: 446
1336846094143: inside sendPacket(Packet p)
1336846094146: Sending UDP payload: 446
1336846095025: Received UDP payload: 446
1336846095105: Received UDP payload: 446
1336846095350: Received UDP payload: 446
1336846095403: Received UDP payload: 446
1336846097699: Received UDP payload: 642
1336846097708: mux: Inside mux Packet.CLIENT_REQUEST
1336846097790: Received UDP payload: 1006
1336846097804: mux: GOT CSM_Msg
1336846097805: forwarding disabled, not forwarding packets
1336846097813: Received UDP payload: 446
1336846097819: mux: Inside Packet.SERVER_REPLY
1336846097819: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846097955: Received UDP payload: 4533
1336846097969: mux: GOT CSM_Msg
1336846097970: forwarding disabled, not forwarding packets
1336846098015: Received UDP payload: 642
1336846098020: mux: Inside mux Packet.CLIENT_REQUEST
1336846098048: Received UDP payload: 1006
1336846098065: mux: GOT CSM_Msg
1336846098066: forwarding disabled, not forwarding packets
1336846098073: Received UDP payload: 446
1336846098080: mux: Inside Packet.SERVER_REPLY
1336846098080: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846098163: Received UDP payload: 4186
1336846098171: mux: Inside Packet.SERVER_REPLY
1336846098171: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846098212: Received UDP payload: 446
1336846098220: mux: Inside mux Packet.CLIENT_REQUEST
1336846098226: Received UDP payload: 4186
1336846098232: mux: Inside Packet.SERVER_REPLY
1336846098232: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846098270: Received UDP payload: 446
1336846098276: mux: Inside mux Packet.CLIENT_REQUEST
1336846098340: Received UDP payload: 4186
1336846098347: mux: Inside Packet.SERVER_REPLY
1336846098347: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846098381: Received UDP payload: 446
1336846098391: mux: Inside mux Packet.CLIENT_REQUEST
1336846098837: Received UDP payload: 446
1336846098895: Received UDP payload: 1006
1336846098906: mux: GOT CSM_Msg
1336846098906: forwarding disabled, not forwarding packets
1336846099013: Received UDP payload: 4533
1336846099023: mux: GOT CSM_Msg
1336846099024: forwarding disabled, not forwarding packets
1336846099040: Received UDP payload: 1006
1336846099051: mux: GOT CSM_Msg
1336846099051: forwarding disabled, not forwarding packets
1336846099108: Received UDP payload: 4533
1336846099111: mux: GOT CSM_Msg
1336846099111: forwarding disabled, not forwarding packets
1336846099143: inside sendPacket(Packet p)
1336846099144: Sending UDP payload: 446
1336846100026: Received UDP payload: 446
1336846100105: Received UDP payload: 446
1336846100355: Received UDP payload: 446
1336846100456: Received UDP payload: 446
1336846103882: Received UDP payload: 446
1336846104145: inside sendPacket(Packet p)
1336846104155: Sending UDP payload: 446
1336846104637: Received UDP payload: 1006
1336846104650: mux: GOT CSM_Msg
1336846104651: forwarding disabled, not forwarding packets
1336846104744: Received UDP payload: 4533
1336846104755: mux: GOT CSM_Msg
1336846104756: forwarding disabled, not forwarding packets
1336846105033: Received UDP payload: 446
1336846105129: Received UDP payload: 446
1336846105340: Received UDP payload: 446
1336846105401: Received UDP payload: 446
1336846108515: Received UDP payload: 1006
1336846108527: mux: GOT CSM_Msg
1336846108528: forwarding disabled, not forwarding packets
1336846108603: Received UDP payload: 4533
1336846108606: mux: GOT CSM_Msg
1336846108606: forwarding disabled, not forwarding packets
1336846108853: Received UDP payload: 446
1336846109147: inside sendPacket(Packet p)
1336846109148: Sending UDP payload: 446
1336846110040: Received UDP payload: 446
1336846110102: Received UDP payload: 446
1336846110345: Received UDP payload: 446
1336846110416: Received UDP payload: 446
1336846110655: Received UDP payload: 642
1336846110662: mux: Inside mux Packet.CLIENT_REQUEST
1336846110663: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846110664: inside handleClientRequest. Originator leader of region 5
1336846110664: got new request, requestCounter = 5013005
1336846110664: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846110686: Sending to region: 1
1336846110688: Sending PROC_REQUEST 11:0 (5,0)->(1,0)
1336846110690: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(1,0)
1336846110692: mux: I got a CSM packet at a leader 

1336846110690: Note down new request by adding requestCounter=5013005 to HashMap processedRequests
1336846110691: Make FirstLeg Ack regardless of new or already-processed requests
1336846110691: The leader sending a First Leg ack to originator client (which id = 5013)
1336846110691: inside sendPacket(Packet p)
1336846110716: Sending UDP payload: 1006
1336846110717: forwarding disabled, not forwarding packets
1336846110718: Sending UDP payload: 446
1336846110839: Received UDP payload: 4533
1336846110841: mux: GOT CSM_Msg
1336846110842: Received PROC_REPLY 11:0 (1,0)->(5,0), handing to UserApp
1336846110842: inside handleDSMReply. Now back in originator leader of region 5
1336846110842: DSM layer: Going to and from remote region took latency = 155
1336846110842: DSM layer: orig leader sent packet at 1336846110687 ~ received reply from remote leader at 1336846110842
1336846110843: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846110843: leader client reply has replyCounter: 501300500
1336846110843: reply packet contains the newest photo/success info from the remote region
1336846110843: inside sendReplies of replyCount = 501300500
1336846110844: =======================
1336846110844: inside sendReplyRepeatingRunnable for replyCount = 501300500
1336846110845: Leader about to send REPLY packet, number: 501300500 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846110845: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846110845: inside sendPacket(Packet p)
1336846110845: === Finished one round of sending REPLY Packet =======
1336846110863: Sending UDP payload: 4186
1336846110924: Received UDP payload: 446
1336846110927: mux: Inside mux Packet.CLIENT_REQUEST
1336846110927: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846110927: inside handleClientRequest. Originator leader of region 5
1336846110927: got new request, requestCounter = 5013006
1336846110928: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300500
1336846110928: Yay the last leg succeeded. Removing reply runnables ...
1336846110928: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501300500
1336846110928: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501300500
1336846110928: do not send ack for received final_leg_ack
1336846111597: canPressButton = TRUE
1336846111598: areButtonsEnabled --> false 
1336846111598: get picture disableButtonsR
1336846111598: areButtonsEnabled --> false
1336846111624: one more getNum: 2
1336846111625: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=0 getTimedout=0 getPercent=50%
1336846111625: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846111625: change local requestCounter to 5
1336846111631: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008005 Client in region: 5 Client nodID: 5008
1336846111665: ----------------------------
1336846111666: inside sendRequestPacketRepeatingRunnable for requestCount = 5008005
1336846111666: I'm a leader, my requesting photos packet going to mux directly
1336846111676: --- Finished one round of sending REQUEST Packet ---------
1336846111666: mux: Inside mux Packet.CLIENT_REQUEST
1336846111666: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846111721: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846111667: inside handleClientRequest. Originator leader of region 5
1336846111667: got new request, requestCounter = 5008005
1336846111667: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846111669: Sending to region: 1
1336846111669: Sending PROC_REQUEST 11:1 (5,0)->(1,0)
1336846111669: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(1,0)
1336846111671: mux: I got a CSM packet at a leader 

1336846111671: Note down new request by adding requestCounter=5008005 to HashMap processedRequests
1336846111671: Make FirstLeg Ack regardless of new or already-processed requests
1336846111671: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846111684: Sending UDP payload: 1006
1336846111689: forwarding disabled, not forwarding packets
1336846111792: Received UDP payload: 4533
1336846111798: mux: GOT CSM_Msg
1336846111802: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846111803: disabling progressdialog due to successful new photo get
1336846111803: Inside _enableButtons
1336846111803: areButtonsEnabled --> true
1336846111803: send final leg ack regardless of new or already-processed reply
1336846111804: inside finalLegAck: change requestCounter to 6
1336846111804: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008006 Client in region: (5,0) Client nodID: 5008
1336846111804: I'm a leader client, my final_leg packet going to mux directly
1336846111808: new client_show_remotephoto reply with replyCounter 500800500
1336846111808: note down new reply by adding replyCounter=500800500 to HashMap processedReplies
1336846111809: leader download remote photo latency = 136
1336846111809: = leader download start 1336846111666 ~ stop 1336846111802
1336846111810: one more getGood: 2
1336846111811: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=2 getBad=0 getTimedout=0 getPercent=100%
1336846111811: adding get latency: 136
1336846111812: Success! Client getting photo from remote region, showing photo...
1336846111812: Remote photo's length: 3505
1336846111799: Received PROC_REPLY 11:1 (1,0)->(5,0), handing to UserApp
1336846111799: inside handleDSMReply. Now back in originator leader of region 5
1336846111799: DSM layer: Going to and from remote region took latency = 130
1336846111799: DSM layer: orig leader sent packet at 1336846111669 ~ received reply from remote leader at 1336846111799
1336846111800: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846111800: leader client reply has replyCounter: 500800500
1336846111800: reply packet contains the newest photo/success info from the remote region
1336846111800: inside sendReplies of replyCount = 500800500
1336846111800: =======================
1336846111801: inside sendReplyRepeatingRunnable for replyCount = 500800500
1336846111801: Leader about to send REPLY packet, number: 500800500 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846111801: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846111801: === Finished one round of sending REPLY Packet =======
1336846111804: mux: Inside mux Packet.CLIENT_REQUEST
1336846111804: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846111805: inside handleClientRequest. Originator leader of region 5
1336846111805: got new request, requestCounter = 5008006
1336846111805: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500800500
1336846111805: Yay the last leg succeeded. Removing reply runnables ...
1336846111805: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500800500
1336846111805: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500800500
1336846111805: do not send ack for received final_leg_ack
1336846113878: Received UDP payload: 446
1336846114147: inside sendPacket(Packet p)
1336846114190: Sending UDP payload: 446
1336846114395: Received UDP payload: 1006
1336846114414: mux: GOT CSM_Msg
1336846114414: forwarding disabled, not forwarding packets
1336846114519: Received UDP payload: 4533
1336846114530: mux: GOT CSM_Msg
1336846114531: forwarding disabled, not forwarding packets
1336846115061: Received UDP payload: 446
1336846115103: Received UDP payload: 446
1336846115352: Received UDP payload: 446
1336846115420: Received UDP payload: 446
1336846115626: Received UDP payload: 642
1336846115631: mux: Inside mux Packet.CLIENT_REQUEST
1336846115731: Received UDP payload: 1006
1336846115741: mux: GOT CSM_Msg
1336846115742: forwarding disabled, not forwarding packets
1336846115775: Received UDP payload: 446
1336846115785: mux: Inside Packet.SERVER_REPLY
1336846115785: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846115876: Received UDP payload: 4533
1336846115879: mux: GOT CSM_Msg
1336846115880: forwarding disabled, not forwarding packets
1336846115944: Received UDP payload: 4186
1336846115946: mux: Inside Packet.SERVER_REPLY
1336846115947: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846115992: Received UDP payload: 446
1336846115995: mux: Inside mux Packet.CLIENT_REQUEST
1336846118917: Received UDP payload: 446
1336846119148: inside sendPacket(Packet p)
1336846119152: Sending UDP payload: 446
1336846120101: Received UDP payload: 446
1336846120116: Received UDP payload: 446
1336846120345: Received UDP payload: 446
1336846120450: Received UDP payload: 446
1336846123894: Received UDP payload: 446
1336846124149: inside sendPacket(Packet p)
1336846124153: Sending UDP payload: 446
1336846124654: Received UDP payload: 1006
1336846124678: mux: GOT CSM_Msg
1336846124678: forwarding disabled, not forwarding packets
1336846124757: Received UDP payload: 4368
1336846124759: mux: GOT CSM_Msg
1336846124759: forwarding disabled, not forwarding packets
1336846125064: Received UDP payload: 446
1336846125130: Received UDP payload: 446
1336846125348: Received UDP payload: 446
1336846125419: Received UDP payload: 446
1336846125560: Received UDP payload: 642
1336846125570: mux: Inside mux Packet.CLIENT_REQUEST
1336846125608: Received UDP payload: 1006
1336846125617: mux: GOT CSM_Msg
1336846125618: forwarding disabled, not forwarding packets
1336846125618: Received UDP payload: 446
1336846125619: mux: Inside Packet.SERVER_REPLY
1336846125619: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846125662: Received UDP payload: 4368
1336846125664: mux: GOT CSM_Msg
1336846125665: forwarding disabled, not forwarding packets
1336846125735: Received UDP payload: 4021
1336846125736: mux: Inside Packet.SERVER_REPLY
1336846125737: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846125747: Received UDP payload: 446
1336846125748: mux: Inside mux Packet.CLIENT_REQUEST
1336846128893: Received UDP payload: 446
1336846129150: inside sendPacket(Packet p)
1336846129154: Sending UDP payload: 446
1336846130075: Received UDP payload: 446
1336846130141: Received UDP payload: 446
1336846130354: Received UDP payload: 446
1336846130433: Received UDP payload: 446
1336846132916: Received UDP payload: 642
1336846132925: mux: Inside mux Packet.CLIENT_REQUEST
1336846132939: Received UDP payload: 642
1336846132945: mux: Inside mux Packet.CLIENT_REQUEST
1336846133146: Received UDP payload: 1006
1336846133156: mux: GOT CSM_Msg
1336846133156: forwarding disabled, not forwarding packets
1336846133164: Received UDP payload: 446
1336846133170: mux: Inside Packet.SERVER_REPLY
1336846133170: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846133175: Received UDP payload: 446
1336846133180: mux: Inside Packet.SERVER_REPLY
1336846133180: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846133285: Received UDP payload: 4368
1336846133295: mux: GOT CSM_Msg
1336846133296: forwarding disabled, not forwarding packets
1336846133368: Received UDP payload: 4021
1336846133377: mux: Inside Packet.SERVER_REPLY
1336846133377: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846133386: Received UDP payload: 446
1336846133391: mux: Inside mux Packet.CLIENT_REQUEST
1336846133894: Received UDP payload: 446
1336846133929: Received UDP payload: 1006
1336846133940: mux: GOT CSM_Msg
1336846133940: forwarding disabled, not forwarding packets
1336846134027: Received UDP payload: 4368
1336846134036: mux: GOT CSM_Msg
1336846134037: forwarding disabled, not forwarding packets
1336846134151: inside sendPacket(Packet p)
1336846134155: Sending UDP payload: 446
1336846134982: Received UDP payload: 1006
1336846134991: mux: GOT CSM_Msg
1336846134992: forwarding disabled, not forwarding packets
1336846135092: Received UDP payload: 446
1336846135140: Received UDP payload: 4368
1336846135156: mux: GOT CSM_Msg
1336846135156: forwarding disabled, not forwarding packets
1336846135170: Received UDP payload: 446
1336846135348: Received UDP payload: 446
1336846135410: Received UDP payload: 446
1336846138906: Received UDP payload: 446
1336846139152: inside sendPacket(Packet p)
1336846139156: Sending UDP payload: 446
1336846140057: Received UDP payload: 446
1336846140151: Received UDP payload: 446
1336846140360: Received UDP payload: 446
1336846140428: Received UDP payload: 446
1336846140875: Received UDP payload: 1006
1336846140885: mux: GOT CSM_Msg
1336846140886: forwarding disabled, not forwarding packets
1336846140930: Received UDP payload: 4368
1336846140937: mux: GOT CSM_Msg
1336846140937: forwarding disabled, not forwarding packets
1336846141068: Received UDP payload: 642
1336846141069: mux: Inside mux Packet.CLIENT_REQUEST
1336846141069: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846141069: inside handleClientRequest. Originator leader of region 5
1336846141070: got new request, requestCounter = 5013007
1336846141070: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846141071: Sending to region: 2
1336846141072: Sending PROC_REQUEST 11:0 (5,0)->(2,0)
1336846141072: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1336846141076: mux: I got a CSM packet at a leader 

1336846141072: Note down new request by adding requestCounter=5013007 to HashMap processedRequests
1336846141075: Make FirstLeg Ack regardless of new or already-processed requests
1336846141075: The leader sending a First Leg ack to originator client (which id = 5013)
1336846141075: inside sendPacket(Packet p)
1336846141081: Sending UDP payload: 1006
1336846141093: forwarding disabled, not forwarding packets
1336846141095: Sending UDP payload: 446
1336846141164: Received UDP payload: 4368
1336846141169: mux: GOT CSM_Msg
1336846141170: Received PROC_REPLY 11:0 (2,0)->(5,0), handing to UserApp
1336846141170: inside handleDSMReply. Now back in originator leader of region 5
1336846141170: DSM layer: Going to and from remote region took latency = 99
1336846141170: DSM layer: orig leader sent packet at 1336846141071 ~ received reply from remote leader at 1336846141170
1336846141190: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846141191: leader client reply has replyCounter: 501300700
1336846141191: reply packet contains the newest photo/success info from the remote region
1336846141191: inside sendReplies of replyCount = 501300700
1336846141191: =======================
1336846141192: inside sendReplyRepeatingRunnable for replyCount = 501300700
1336846141192: Leader about to send REPLY packet, number: 501300700 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846141192: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846141193: inside sendPacket(Packet p)
1336846141193: === Finished one round of sending REPLY Packet =======
1336846141195: Sending UDP payload: 4021
1336846141253: Received UDP payload: 446
1336846141255: mux: Inside mux Packet.CLIENT_REQUEST
1336846141256: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846141256: inside handleClientRequest. Originator leader of region 5
1336846141256: got new request, requestCounter = 5013008
1336846141256: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300700
1336846141256: Yay the last leg succeeded. Removing reply runnables ...
1336846141257: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501300700
1336846141257: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501300700
1336846141257: do not send ack for received final_leg_ack
1336846141968: canPressButton = TRUE
1336846141970: areButtonsEnabled --> false 
1336846141970: get picture disableButtonsR
1336846141971: areButtonsEnabled --> false
1336846141993: one more getNum: 3
1336846141993: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=0 getTimedout=0 getPercent=66%
1336846141994: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846141994: change local requestCounter to 7
1336846141998: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008007 Client in region: 5 Client nodID: 5008
1336846142028: ----------------------------
1336846142029: inside sendRequestPacketRepeatingRunnable for requestCount = 5008007
1336846142030: I'm a leader, my requesting photos packet going to mux directly
1336846142041: --- Finished one round of sending REQUEST Packet ---------
1336846142030: mux: Inside mux Packet.CLIENT_REQUEST
1336846142030: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846142080: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846142030: inside handleClientRequest. Originator leader of region 5
1336846142030: got new request, requestCounter = 5008007
1336846142030: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846142033: Sending to region: 2
1336846142034: Sending PROC_REQUEST 11:1 (5,0)->(2,0)
1336846142035: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(2,0)
1336846142036: mux: I got a CSM packet at a leader 

1336846142035: Note down new request by adding requestCounter=5008007 to HashMap processedRequests
1336846142035: Make FirstLeg Ack regardless of new or already-processed requests
1336846142035: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846142050: Sending UDP payload: 1006
1336846142051: forwarding disabled, not forwarding packets
1336846142172: Received UDP payload: 4368
1336846142179: mux: GOT CSM_Msg
1336846142186: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846142186: disabling progressdialog due to successful new photo get
1336846142186: Inside _enableButtons
1336846142187: areButtonsEnabled --> true
1336846142187: send final leg ack regardless of new or already-processed reply
1336846142187: inside finalLegAck: change requestCounter to 8
1336846142187: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008008 Client in region: (5,0) Client nodID: 5008
1336846142187: I'm a leader client, my final_leg packet going to mux directly
1336846142190: new client_show_remotephoto reply with replyCounter 500800700
1336846142190: note down new reply by adding replyCounter=500800700 to HashMap processedReplies
1336846142191: leader download remote photo latency = 156
1336846142191: = leader download start 1336846142030 ~ stop 1336846142186
1336846142193: one more getGood: 3
1336846142194: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=3 getBad=0 getTimedout=0 getPercent=100%
1336846142194: adding get latency: 156
1336846142195: Success! Client getting photo from remote region, showing photo...
1336846142195: Remote photo's length: 3340
1336846142180: Received PROC_REPLY 11:1 (2,0)->(5,0), handing to UserApp
1336846142180: inside handleDSMReply. Now back in originator leader of region 5
1336846142180: DSM layer: Going to and from remote region took latency = 147
1336846142180: DSM layer: orig leader sent packet at 1336846142033 ~ received reply from remote leader at 1336846142180
1336846142181: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846142181: leader client reply has replyCounter: 500800700
1336846142181: reply packet contains the newest photo/success info from the remote region
1336846142181: inside sendReplies of replyCount = 500800700
1336846142182: =======================
1336846142182: inside sendReplyRepeatingRunnable for replyCount = 500800700
1336846142182: Leader about to send REPLY packet, number: 500800700 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846142182: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846142182: === Finished one round of sending REPLY Packet =======
1336846142188: mux: Inside mux Packet.CLIENT_REQUEST
1336846142188: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846142188: inside handleClientRequest. Originator leader of region 5
1336846142188: got new request, requestCounter = 5008008
1336846142188: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500800700
1336846142188: Yay the last leg succeeded. Removing reply runnables ...
1336846142188: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500800700
1336846142188: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500800700
1336846142188: do not send ack for received final_leg_ack
1336846143911: Received UDP payload: 446
1336846144153: inside sendPacket(Packet p)
1336846144157: Sending UDP payload: 446
1336846145071: Received UDP payload: 446
1336846145156: Received UDP payload: 446
1336846145357: Received UDP payload: 446
1336846145415: Received UDP payload: 446
1336846148304: Received UDP payload: 1006
1336846148314: mux: GOT CSM_Msg
1336846148314: forwarding disabled, not forwarding packets
1336846148414: Received UDP payload: 4368
1336846148424: mux: GOT CSM_Msg
1336846148424: forwarding disabled, not forwarding packets
1336846148913: Received UDP payload: 446
1336846149154: inside sendPacket(Packet p)
1336846149157: Sending UDP payload: 446
1336846149675: Received UDP payload: 642
1336846149682: mux: Inside mux Packet.CLIENT_REQUEST
1336846149740: Received UDP payload: 1006
1336846149754: mux: GOT CSM_Msg
1336846149754: forwarding disabled, not forwarding packets
1336846149763: Received UDP payload: 446
1336846149768: mux: Inside Packet.SERVER_REPLY
1336846149768: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846149840: Received UDP payload: 4368
1336846149842: mux: GOT CSM_Msg
1336846149842: forwarding disabled, not forwarding packets
1336846149894: Received UDP payload: 4021
1336846149896: mux: Inside Packet.SERVER_REPLY
1336846149896: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846149907: Received UDP payload: 446
1336846149909: mux: Inside mux Packet.CLIENT_REQUEST
1336846150066: Received UDP payload: 446
1336846150156: Received UDP payload: 446
1336846150350: Received UDP payload: 446
1336846150794: Received UDP payload: 446
1336846153919: Received UDP payload: 446
1336846154160: inside sendPacket(Packet p)
1336846154176: Sending UDP payload: 446
1336846155075: Received UDP payload: 446
1336846155174: Received UDP payload: 446
1336846155351: Received UDP payload: 446
1336846155802: Received UDP payload: 446
1336846158919: Received UDP payload: 446
1336846159180: inside sendPacket(Packet p)
1336846159196: Sending UDP payload: 446
1336846160092: Received UDP payload: 446
1336846160191: Received UDP payload: 446
1336846160351: Received UDP payload: 446
1336846160805: Received UDP payload: 446
1336846163503: leader to cloud hearbeat...
1336846163921: Received UDP payload: 446
1336846164181: inside sendPacket(Packet p)
1336846164196: Sending UDP payload: 446
1336846165083: Received UDP payload: 446
1336846165210: Received UDP payload: 446
1336846165367: Received UDP payload: 446
1336846165854: Received UDP payload: 446
1336846168938: Received UDP payload: 446
1336846169197: inside sendPacket(Packet p)
1336846169201: Sending UDP payload: 446
1336846170120: Received UDP payload: 446
1336846170209: Received UDP payload: 446
1336846170355: Received UDP payload: 446
1336846170817: Received UDP payload: 446
1336846173243: Received UDP payload: 1006
1336846173251: mux: GOT CSM_Msg
1336846173251: forwarding disabled, not forwarding packets
1336846173403: Received UDP payload: 4942
1336846173413: mux: GOT CSM_Msg
1336846173413: forwarding disabled, not forwarding packets
1336846173927: Received UDP payload: 446
1336846174199: inside sendPacket(Packet p)
1336846174203: Sending UDP payload: 446
1336846174423: Received UDP payload: 642
1336846174434: mux: Inside mux Packet.CLIENT_REQUEST
1336846174486: Received UDP payload: 1006
1336846174499: mux: GOT CSM_Msg
1336846174499: forwarding disabled, not forwarding packets
1336846174507: Received UDP payload: 446
1336846174513: mux: Inside Packet.SERVER_REPLY
1336846174513: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846174575: Received UDP payload: 4942
1336846174577: mux: GOT CSM_Msg
1336846174577: forwarding disabled, not forwarding packets
1336846174639: Received UDP payload: 4595
1336846174641: mux: Inside Packet.SERVER_REPLY
1336846174641: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846174664: Received UDP payload: 446
1336846174665: mux: Inside mux Packet.CLIENT_REQUEST
1336846175099: Received UDP payload: 446
1336846175208: Received UDP payload: 446
1336846175355: Received UDP payload: 446
1336846175843: Received UDP payload: 446
1336846176962: Received UDP payload: 642
1336846176968: mux: Inside mux Packet.CLIENT_REQUEST
1336846177003: Received UDP payload: 1006
1336846177012: mux: GOT CSM_Msg
1336846177013: forwarding disabled, not forwarding packets
1336846177023: Received UDP payload: 446
1336846177049: mux: Inside Packet.SERVER_REPLY
1336846177049: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846177076: Received UDP payload: 4942
1336846177079: mux: GOT CSM_Msg
1336846177079: forwarding disabled, not forwarding packets
1336846177152: Received UDP payload: 4595
1336846177154: mux: Inside Packet.SERVER_REPLY
1336846177154: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846177164: Received UDP payload: 446
1336846177166: mux: Inside mux Packet.CLIENT_REQUEST
1336846178283: Received UDP payload: 1006
1336846178302: mux: GOT CSM_Msg
1336846178303: forwarding disabled, not forwarding packets
1336846178375: Received UDP payload: 4942
1336846178381: mux: GOT CSM_Msg
1336846178381: forwarding disabled, not forwarding packets
1336846178933: Received UDP payload: 446
1336846179205: inside sendPacket(Packet p)
1336846179219: Sending UDP payload: 446
1336846180126: Received UDP payload: 446
1336846180205: Received UDP payload: 446
1336846180402: Received UDP payload: 446
1336846180836: Received UDP payload: 446
1336846183946: Received UDP payload: 446
1336846184206: inside sendPacket(Packet p)
1336846184217: Sending UDP payload: 446
1336846184398: Received UDP payload: 1006
1336846184408: mux: GOT CSM_Msg
1336846184408: forwarding disabled, not forwarding packets
1336846184457: Received UDP payload: 4942
1336846184459: mux: GOT CSM_Msg
1336846184460: forwarding disabled, not forwarding packets
1336846185105: Received UDP payload: 446
1336846185220: Received UDP payload: 446
1336846185357: Received UDP payload: 446
1336846185862: Received UDP payload: 446
1336846187301: Received UDP payload: 1006
1336846187311: mux: GOT CSM_Msg
1336846187311: forwarding disabled, not forwarding packets
1336846187424: Received UDP payload: 4942
1336846187436: mux: GOT CSM_Msg
1336846187437: forwarding disabled, not forwarding packets
1336846188949: Received UDP payload: 446
1336846189221: inside sendPacket(Packet p)
1336846189224: Sending UDP payload: 446
1336846190109: Received UDP payload: 446
1336846190216: Received UDP payload: 446
1336846190358: Received UDP payload: 446
1336846190864: Received UDP payload: 446
1336846191223: Received UDP payload: 642
1336846191229: mux: Inside mux Packet.CLIENT_REQUEST
1336846191229: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846191229: inside handleClientRequest. Originator leader of region 5
1336846191230: got new request, requestCounter = 5013009
1336846191230: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846191255: Sending to region: 3
1336846191256: Sending PROC_REQUEST 11:0 (5,0)->(3,0)
1336846191257: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1336846191260: mux: I got a CSM packet at a leader 

1336846191258: Note down new request by adding requestCounter=5013009 to HashMap processedRequests
1336846191259: Make FirstLeg Ack regardless of new or already-processed requests
1336846191259: The leader sending a First Leg ack to originator client (which id = 5013)
1336846191259: inside sendPacket(Packet p)
1336846191284: Sending UDP payload: 1006
1336846191285: forwarding disabled, not forwarding packets
1336846191286: Sending UDP payload: 446
1336846191392: Received UDP payload: 4942
1336846191395: mux: GOT CSM_Msg
1336846191396: Received PROC_REPLY 11:0 (3,0)->(5,0), handing to UserApp
1336846191396: inside handleDSMReply. Now back in originator leader of region 5
1336846191396: DSM layer: Going to and from remote region took latency = 141
1336846191396: DSM layer: orig leader sent packet at 1336846191255 ~ received reply from remote leader at 1336846191396
1336846191397: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846191397: leader client reply has replyCounter: 501300900
1336846191398: reply packet contains the newest photo/success info from the remote region
1336846191398: inside sendReplies of replyCount = 501300900
1336846191398: =======================
1336846191399: inside sendReplyRepeatingRunnable for replyCount = 501300900
1336846191399: Leader about to send REPLY packet, number: 501300900 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846191399: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846191399: inside sendPacket(Packet p)
1336846191399: === Finished one round of sending REPLY Packet =======
1336846191402: Sending UDP payload: 4595
1336846191476: Received UDP payload: 446
1336846191478: mux: Inside mux Packet.CLIENT_REQUEST
1336846191478: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846191478: inside handleClientRequest. Originator leader of region 5
1336846191478: got new request, requestCounter = 5013010
1336846191479: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300900
1336846191479: Yay the last leg succeeded. Removing reply runnables ...
1336846191479: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501300900
1336846191479: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501300900
1336846191479: do not send ack for received final_leg_ack
1336846192148: canPressButton = TRUE
1336846192149: areButtonsEnabled --> false 
1336846192149: get picture disableButtonsR
1336846192149: areButtonsEnabled --> false
1336846192176: one more getNum: 4
1336846192176: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=3 getBad=0 getTimedout=0 getPercent=75%
1336846192177: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846192177: change local requestCounter to 9
1336846192180: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008009 Client in region: 5 Client nodID: 5008
1336846192212: ----------------------------
1336846192214: inside sendRequestPacketRepeatingRunnable for requestCount = 5008009
1336846192214: I'm a leader, my requesting photos packet going to mux directly
1336846192220: --- Finished one round of sending REQUEST Packet ---------
1336846192214: mux: Inside mux Packet.CLIENT_REQUEST
1336846192214: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846192269: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846192215: inside handleClientRequest. Originator leader of region 5
1336846192215: got new request, requestCounter = 5008009
1336846192215: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846192216: Sending to region: 3
1336846192216: Sending PROC_REQUEST 11:1 (5,0)->(3,0)
1336846192216: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(3,0)
1336846192217: mux: I got a CSM packet at a leader 

1336846192217: Note down new request by adding requestCounter=5008009 to HashMap processedRequests
1336846192217: Make FirstLeg Ack regardless of new or already-processed requests
1336846192217: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846192219: Sending UDP payload: 1006
1336846192220: forwarding disabled, not forwarding packets
1336846192329: Received UDP payload: 4942
1336846192333: mux: GOT CSM_Msg
1336846192345: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846192345: disabling progressdialog due to successful new photo get
1336846192345: Inside _enableButtons
1336846192345: areButtonsEnabled --> true
1336846192346: send final leg ack regardless of new or already-processed reply
1336846192346: inside finalLegAck: change requestCounter to 10
1336846192346: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008010 Client in region: (5,0) Client nodID: 5008
1336846192346: I'm a leader client, my final_leg packet going to mux directly
1336846192348: new client_show_remotephoto reply with replyCounter 500800900
1336846192348: note down new reply by adding replyCounter=500800900 to HashMap processedReplies
1336846192349: leader download remote photo latency = 131
1336846192349: = leader download start 1336846192214 ~ stop 1336846192345
1336846192350: one more getGood: 4
1336846192351: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=4 getBad=0 getTimedout=0 getPercent=100%
1336846192351: adding get latency: 131
1336846192352: Success! Client getting photo from remote region, showing photo...
1336846192352: Remote photo's length: 3914
1336846192334: Received PROC_REPLY 11:1 (3,0)->(5,0), handing to UserApp
1336846192334: inside handleDSMReply. Now back in originator leader of region 5
1336846192334: DSM layer: Going to and from remote region took latency = 118
1336846192334: DSM layer: orig leader sent packet at 1336846192216 ~ received reply from remote leader at 1336846192334
1336846192335: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846192335: leader client reply has replyCounter: 500800900
1336846192335: reply packet contains the newest photo/success info from the remote region
1336846192335: inside sendReplies of replyCount = 500800900
1336846192337: =======================
1336846192338: inside sendReplyRepeatingRunnable for replyCount = 500800900
1336846192338: Leader about to send REPLY packet, number: 500800900 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846192338: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846192338: === Finished one round of sending REPLY Packet =======
1336846192346: mux: Inside mux Packet.CLIENT_REQUEST
1336846192347: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846192347: inside handleClientRequest. Originator leader of region 5
1336846192347: got new request, requestCounter = 5008010
1336846192347: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500800900
1336846192347: Yay the last leg succeeded. Removing reply runnables ...
1336846192347: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500800900
1336846192347: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500800900
1336846192347: do not send ack for received final_leg_ack
1336846193950: Received UDP payload: 446
1336846194224: inside sendPacket(Packet p)
1336846194228: Sending UDP payload: 446
1336846195111: Received UDP payload: 446
1336846195228: Received UDP payload: 446
1336846195357: Received UDP payload: 446
1336846195865: Received UDP payload: 446
1336846196973: Received UDP payload: 1006
1336846196982: mux: GOT CSM_Msg
1336846196982: forwarding disabled, not forwarding packets
1336846197080: Received UDP payload: 4942
1336846197083: mux: GOT CSM_Msg
1336846197083: forwarding disabled, not forwarding packets
1336846198364: Received UDP payload: 642
1336846198371: mux: Inside mux Packet.CLIENT_REQUEST
1336846198426: Received UDP payload: 1006
1336846198435: mux: GOT CSM_Msg
1336846198435: forwarding disabled, not forwarding packets
1336846198443: Received UDP payload: 446
1336846198448: mux: Inside Packet.SERVER_REPLY
1336846198448: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846198497: Received UDP payload: 4942
1336846198506: mux: GOT CSM_Msg
1336846198506: forwarding disabled, not forwarding packets
1336846198577: Received UDP payload: 4595
1336846198579: mux: Inside Packet.SERVER_REPLY
1336846198579: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846198622: Received UDP payload: 446
1336846198624: mux: Inside mux Packet.CLIENT_REQUEST
1336846198954: Received UDP payload: 446
1336846199231: inside sendPacket(Packet p)
1336846199236: Sending UDP payload: 446
1336846200115: Received UDP payload: 446
1336846200230: Received UDP payload: 446
1336846200354: Received UDP payload: 446
1336846200872: Received UDP payload: 446
1336846204001: Received UDP payload: 446
1336846204232: inside sendPacket(Packet p)
1336846204254: Sending UDP payload: 446
1336846204823: Received UDP payload: 1006
1336846204832: mux: GOT CSM_Msg
1336846204833: forwarding disabled, not forwarding packets
1336846204920: Received UDP payload: 4091
1336846204928: mux: GOT CSM_Msg
1336846204928: forwarding disabled, not forwarding packets
1336846205120: Received UDP payload: 446
1336846205237: Received UDP payload: 446
1336846205365: Received UDP payload: 446
1336846205886: Received UDP payload: 446
1336846206181: Received UDP payload: 642
1336846206190: mux: Inside mux Packet.CLIENT_REQUEST
1336846206230: Received UDP payload: 1006
1336846206237: mux: GOT CSM_Msg
1336846206237: forwarding disabled, not forwarding packets
1336846206256: Received UDP payload: 446
1336846206258: mux: Inside Packet.SERVER_REPLY
1336846206258: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846206343: Received UDP payload: 4091
1336846206345: mux: GOT CSM_Msg
1336846206346: forwarding disabled, not forwarding packets
1336846206404: Received UDP payload: 3744
1336846206405: mux: Inside Packet.SERVER_REPLY
1336846206405: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846206431: Received UDP payload: 446
1336846206432: mux: Inside mux Packet.CLIENT_REQUEST
1336846208971: Received UDP payload: 446
1336846209258: inside sendPacket(Packet p)
1336846209262: Sending UDP payload: 446
1336846210153: Received UDP payload: 446
1336846210238: Received UDP payload: 446
1336846210377: Received UDP payload: 446
1336846210901: Received UDP payload: 446
1336846213454: Received UDP payload: 642
1336846213459: mux: Inside mux Packet.CLIENT_REQUEST
1336846213517: Received UDP payload: 1006
1336846213527: mux: GOT CSM_Msg
1336846213527: forwarding disabled, not forwarding packets
1336846213542: Received UDP payload: 446
1336846213546: mux: Inside Packet.SERVER_REPLY
1336846213547: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846213601: Received UDP payload: 4091
1336846213606: mux: GOT CSM_Msg
1336846213606: forwarding disabled, not forwarding packets
1336846213649: Received UDP payload: 3744
1336846213652: mux: Inside Packet.SERVER_REPLY
1336846213652: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846213700: Received UDP payload: 446
1336846213704: mux: Inside mux Packet.CLIENT_REQUEST
1336846213974: Received UDP payload: 446
1336846214259: inside sendPacket(Packet p)
1336846214266: Sending UDP payload: 446
1336846214846: Received UDP payload: 1006
1336846214856: mux: GOT CSM_Msg
1336846214856: forwarding disabled, not forwarding packets
1336846214940: Received UDP payload: 4091
1336846214951: mux: GOT CSM_Msg
1336846214951: forwarding disabled, not forwarding packets
1336846215121: Received UDP payload: 446
1336846215252: Received UDP payload: 446
1336846215360: Received UDP payload: 446
1336846215564: Received UDP payload: 1006
1336846215574: mux: GOT CSM_Msg
1336846215575: forwarding disabled, not forwarding packets
1336846215652: Received UDP payload: 4091
1336846215661: mux: GOT CSM_Msg
1336846215661: forwarding disabled, not forwarding packets
1336846215910: Received UDP payload: 446
1336846218991: Received UDP payload: 446
1336846219269: inside sendPacket(Packet p)
1336846219272: Sending UDP payload: 446
1336846220121: Received UDP payload: 446
1336846220254: Received UDP payload: 446
1336846220360: Received UDP payload: 446
1336846220914: Received UDP payload: 446
1336846222619: Received UDP payload: 642
1336846222626: mux: Inside mux Packet.CLIENT_REQUEST
1336846222626: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846222627: inside handleClientRequest. Originator leader of region 5
1336846222627: got new request, requestCounter = 5013011
1336846222628: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846222629: Sending to region: 4
1336846222631: Sending PROC_REQUEST 11:0 (5,0)->(4,0)
1336846222632: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(4,0)
1336846222646: mux: I got a CSM packet at a leader 

1336846222632: Note down new request by adding requestCounter=5013011 to HashMap processedRequests
1336846222643: Make FirstLeg Ack regardless of new or already-processed requests
1336846222645: The leader sending a First Leg ack to originator client (which id = 5013)
1336846222645: inside sendPacket(Packet p)
1336846222663: Sending UDP payload: 1006
1336846222665: forwarding disabled, not forwarding packets
1336846222670: Sending UDP payload: 446
1336846222818: Received UDP payload: 4091
1336846222824: mux: GOT CSM_Msg
1336846222824: Received PROC_REPLY 11:0 (4,0)->(5,0), handing to UserApp
1336846222825: inside handleDSMReply. Now back in originator leader of region 5
1336846222825: DSM layer: Going to and from remote region took latency = 195
1336846222825: DSM layer: orig leader sent packet at 1336846222630 ~ received reply from remote leader at 1336846222825
1336846222826: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846222827: leader client reply has replyCounter: 501301100
1336846222827: reply packet contains the newest photo/success info from the remote region
1336846222827: inside sendReplies of replyCount = 501301100
1336846222827: =======================
1336846222828: inside sendReplyRepeatingRunnable for replyCount = 501301100
1336846222828: Leader about to send REPLY packet, number: 501301100 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846222828: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846222828: inside sendPacket(Packet p)
1336846222829: === Finished one round of sending REPLY Packet =======
1336846222832: Sending UDP payload: 3744
1336846222893: Received UDP payload: 446
1336846222896: mux: Inside mux Packet.CLIENT_REQUEST
1336846222896: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846222897: inside handleClientRequest. Originator leader of region 5
1336846222897: got new request, requestCounter = 5013012
1336846222897: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501301100
1336846222897: Yay the last leg succeeded. Removing reply runnables ...
1336846222897: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501301100
1336846222898: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501301100
1336846222898: do not send ack for received final_leg_ack
1336846222985: Received UDP payload: 1006
1336846222990: mux: GOT CSM_Msg
1336846222990: forwarding disabled, not forwarding packets
1336846223043: Received UDP payload: 4091
1336846223050: mux: GOT CSM_Msg
1336846223050: forwarding disabled, not forwarding packets
1336846223730: canPressButton = TRUE
1336846223731: areButtonsEnabled --> false 
1336846223731: get picture disableButtonsR
1336846223731: areButtonsEnabled --> false
1336846223757: one more getNum: 5
1336846223758: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=0 getTimedout=0 getPercent=80%
1336846223759: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846223759: change local requestCounter to 11
1336846223759: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008011 Client in region: 5 Client nodID: 5008
1336846223788: ----------------------------
1336846223789: inside sendRequestPacketRepeatingRunnable for requestCount = 5008011
1336846223789: I'm a leader, my requesting photos packet going to mux directly
1336846223818: --- Finished one round of sending REQUEST Packet ---------
1336846223812: mux: Inside mux Packet.CLIENT_REQUEST
1336846223812: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846223884: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846223812: inside handleClientRequest. Originator leader of region 5
1336846223812: got new request, requestCounter = 5008011
1336846223813: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846223814: Sending to region: 4
1336846223814: Sending PROC_REQUEST 11:1 (5,0)->(4,0)
1336846223815: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(4,0)
1336846223815: mux: I got a CSM packet at a leader 

1336846223815: Note down new request by adding requestCounter=5008011 to HashMap processedRequests
1336846223815: Make FirstLeg Ack regardless of new or already-processed requests
1336846223815: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846223816: Sending UDP payload: 1006
1336846223817: forwarding disabled, not forwarding packets
1336846223929: Received UDP payload: 4091
1336846223936: mux: GOT CSM_Msg
1336846223950: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846223950: disabling progressdialog due to successful new photo get
1336846223950: Inside _enableButtons
1336846223951: areButtonsEnabled --> true
1336846223951: send final leg ack regardless of new or already-processed reply
1336846223951: inside finalLegAck: change requestCounter to 12
1336846223952: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008012 Client in region: (5,0) Client nodID: 5008
1336846223952: I'm a leader client, my final_leg packet going to mux directly
1336846223957: new client_show_remotephoto reply with replyCounter 500801100
1336846223957: note down new reply by adding replyCounter=500801100 to HashMap processedReplies
1336846223958: leader download remote photo latency = 138
1336846223958: = leader download start 1336846223812 ~ stop 1336846223950
1336846223962: one more getGood: 5
1336846223963: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=5 getBad=0 getTimedout=0 getPercent=100%
1336846223963: adding get latency: 138
1336846223964: Success! Client getting photo from remote region, showing photo...
1336846223964: Remote photo's length: 3063
1336846223936: Received PROC_REPLY 11:1 (4,0)->(5,0), handing to UserApp
1336846223936: inside handleDSMReply. Now back in originator leader of region 5
1336846223936: DSM layer: Going to and from remote region took latency = 122
1336846223936: DSM layer: orig leader sent packet at 1336846223814 ~ received reply from remote leader at 1336846223936
1336846223941: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846223941: leader client reply has replyCounter: 500801100
1336846223941: reply packet contains the newest photo/success info from the remote region
1336846223941: inside sendReplies of replyCount = 500801100
1336846223942: =======================
1336846223942: inside sendReplyRepeatingRunnable for replyCount = 500801100
1336846223942: Leader about to send REPLY packet, number: 500801100 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846223942: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846223942: === Finished one round of sending REPLY Packet =======
1336846223952: mux: Inside mux Packet.CLIENT_REQUEST
1336846223953: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846223953: inside handleClientRequest. Originator leader of region 5
1336846223953: got new request, requestCounter = 5008012
1336846223953: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500801100
1336846223953: Yay the last leg succeeded. Removing reply runnables ...
1336846223953: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500801100
1336846223953: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500801100
1336846223953: do not send ack for received final_leg_ack
1336846224071: Received UDP payload: 446
1336846224270: inside sendPacket(Packet p)
1336846224277: Sending UDP payload: 446
1336846225155: Received UDP payload: 446
1336846225242: Received UDP payload: 446
1336846225362: Received UDP payload: 446
1336846225965: Received UDP payload: 446
1336846229039: Received UDP payload: 446
1336846229271: inside sendPacket(Packet p)
1336846229284: Sending UDP payload: 446
1336846229399: Received UDP payload: 1006
1336846229417: mux: GOT CSM_Msg
1336846229417: forwarding disabled, not forwarding packets
1336846229446: Received UDP payload: 4091
1336846229458: mux: GOT CSM_Msg
1336846229458: forwarding disabled, not forwarding packets
1336846230207: Received UDP payload: 446
1336846230254: Received UDP payload: 446
1336846230371: Received UDP payload: 446
1336846230686: Received UDP payload: 642
1336846230693: mux: Inside mux Packet.CLIENT_REQUEST
1336846230718: Received UDP payload: 1006
1336846230736: mux: GOT CSM_Msg
1336846230736: forwarding disabled, not forwarding packets
1336846230736: Received UDP payload: 446
1336846230738: mux: Inside Packet.SERVER_REPLY
1336846230738: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846230783: Received UDP payload: 4091
1336846230786: mux: GOT CSM_Msg
1336846230786: forwarding disabled, not forwarding packets
1336846230830: Received UDP payload: 3744
1336846230832: mux: Inside Packet.SERVER_REPLY
1336846230832: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846230843: Received UDP payload: 446
1336846230845: mux: Inside mux Packet.CLIENT_REQUEST
1336846230921: Received UDP payload: 446
1336846234006: Received UDP payload: 446
1336846234272: inside sendPacket(Packet p)
1336846234285: Sending UDP payload: 446
1336846235160: Received UDP payload: 446
1336846235270: Received UDP payload: 446
1336846235366: Received UDP payload: 446
1336846235941: Received UDP payload: 446
1336846236244: Received UDP payload: 1006
1336846236255: mux: GOT CSM_Msg
1336846236256: removed replies before id 0 from sentReplies of size 0
1336846236257: inside handleDSMRequest. At requests's remote leader of region 5
1336846236275: INSIDE SERVER_GET_PHOTO!!!
1336846236306: Received PROC_REQUEST 11:0 (1,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(1,0)
1336846236307: Dispatching Atom PROC_REPLY 11:0 (5,0)->(1,0)
1336846236308: mux: I got a CSM packet at a leader 

1336846236329: Sending UDP payload: 4368
1336846236330: forwarding disabled, not forwarding packets
1336846237259: Received UDP payload: 642
1336846237266: mux: Inside mux Packet.CLIENT_REQUEST
1336846237293: Received UDP payload: 1006
1336846237302: mux: GOT CSM_Msg
1336846237303: removed replies before id 1 from sentReplies of size 0
1336846237304: inside handleDSMRequest. At requests's remote leader of region 5
1336846237306: INSIDE SERVER_GET_PHOTO!!!
1336846237321: Received UDP payload: 446
1336846237322: Received PROC_REQUEST 11:1 (1,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(1,0)
1336846237333: mux: Inside Packet.SERVER_REPLY
1336846237333: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846237332: Dispatching Atom PROC_REPLY 11:1 (5,0)->(1,0)
1336846237333: mux: I got a CSM packet at a leader 

1336846237334: Sending UDP payload: 4368
1336846237335: forwarding disabled, not forwarding packets
1336846237448: Received UDP payload: 4021
1336846237450: mux: Inside Packet.SERVER_REPLY
1336846237450: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846237467: Received UDP payload: 446
1336846237469: mux: Inside mux Packet.CLIENT_REQUEST
1336846239013: Received UDP payload: 446
1336846239287: inside sendPacket(Packet p)
1336846239291: Sending UDP payload: 446
1336846240180: Received UDP payload: 446
1336846240271: Received UDP payload: 446
1336846240374: Received UDP payload: 446
1336846240961: Received UDP payload: 446
1336846243340: Received UDP payload: 642
1336846243349: mux: Inside mux Packet.CLIENT_REQUEST
1336846243390: Received UDP payload: 1006
1336846243400: mux: GOT CSM_Msg
1336846243401: removed replies before id 0 from sentReplies of size 0
1336846243401: inside handleDSMRequest. At requests's remote leader of region 5
1336846243403: INSIDE SERVER_GET_PHOTO!!!
1336846243409: Received PROC_REQUEST 11:0 (0,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(0,0)
1336846243410: Dispatching Atom PROC_REPLY 11:0 (5,0)->(0,0)
1336846243426: mux: I got a CSM packet at a leader 

1336846243424: Received UDP payload: 446
1336846243429: mux: Inside Packet.SERVER_REPLY
1336846243429: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846243427: Sending UDP payload: 4368
1336846243428: forwarding disabled, not forwarding packets
1336846243537: Received UDP payload: 4021
1336846243540: mux: Inside Packet.SERVER_REPLY
1336846243540: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846243555: Received UDP payload: 446
1336846243557: mux: Inside mux Packet.CLIENT_REQUEST
1336846244010: Received UDP payload: 446
1336846244288: inside sendPacket(Packet p)
1336846244291: Sending UDP payload: 446
1336846244659: Received UDP payload: 1006
1336846244671: mux: GOT CSM_Msg
1336846244672: removed replies before id 1 from sentReplies of size 0
1336846244672: inside handleDSMRequest. At requests's remote leader of region 5
1336846244674: INSIDE SERVER_GET_PHOTO!!!
1336846244681: Received PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1336846244695: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1336846244696: mux: I got a CSM packet at a leader 

1336846244700: Sending UDP payload: 4368
1336846244716: forwarding disabled, not forwarding packets
1336846245197: Received UDP payload: 446
1336846245261: Received UDP payload: 446
1336846245368: Received UDP payload: 446
1336846245980: Received UDP payload: 446
1336846249066: Received UDP payload: 446
1336846249296: inside sendPacket(Packet p)
1336846249299: Sending UDP payload: 446
1336846250234: Received UDP payload: 446
1336846250288: Received UDP payload: 446
1336846250380: Received UDP payload: 446
1336846251021: Received UDP payload: 446
1336846251716: Received UDP payload: 1006
1336846251728: mux: GOT CSM_Msg
1336846251729: removed replies before id 0 from sentReplies of size 0
1336846251729: inside handleDSMRequest. At requests's remote leader of region 5
1336846251731: INSIDE SERVER_GET_PHOTO!!!
1336846251763: Received PROC_REQUEST 11:0 (3,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(3,0)
1336846251765: Dispatching Atom PROC_REPLY 11:0 (5,0)->(3,0)
1336846251766: mux: I got a CSM packet at a leader 

1336846251771: Sending UDP payload: 4368
1336846251776: forwarding disabled, not forwarding packets
1336846253263: Received UDP payload: 1006
1336846253278: mux: GOT CSM_Msg
1336846253279: removed replies before id 0 from sentReplies of size 0
1336846253279: inside handleDSMRequest. At requests's remote leader of region 5
1336846253281: INSIDE SERVER_GET_PHOTO!!!
1336846253299: Received PROC_REQUEST 11:0 (2,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(2,0)
1336846253302: Dispatching Atom PROC_REPLY 11:0 (5,0)->(2,0)
1336846253303: mux: I got a CSM packet at a leader 

1336846253316: Sending UDP payload: 4368
1336846253325: forwarding disabled, not forwarding packets
1336846254029: Received UDP payload: 446
1336846254299: inside sendPacket(Packet p)
1336846254306: Sending UDP payload: 446
1336846255245: Received UDP payload: 446
1336846255273: Received UDP payload: 446
1336846255381: Received UDP payload: 446
1336846255996: Received UDP payload: 446
1336846258366: Received UDP payload: 642
1336846258371: mux: Inside mux Packet.CLIENT_REQUEST
1336846258372: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846258372: inside handleClientRequest. Originator leader of region 5
1336846258373: got new request, requestCounter = 5013013
1336846258373: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846258376: Sending to region: 5
1336846258377: Sending PROC_REQUEST 11:2 (5,0)->(5,0)
1336846258378: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(5,0)
1336846258380: mux: I got a CSM packet at a leader 

1336846258379: Note down new request by adding requestCounter=5013013 to HashMap processedRequests
1336846258379: Make FirstLeg Ack regardless of new or already-processed requests
1336846258379: The leader sending a First Leg ack to originator client (which id = 5013)
1336846258380: inside sendPacket(Packet p)
1336846258407: Sending UDP payload: 1006
1336846258410: removed replies before id 2 from sentReplies of size 0
1336846258411: inside handleDSMRequest. At requests's remote leader of region 5
1336846258423: INSIDE SERVER_GET_PHOTO!!!
1336846258426: dst_region == src_region = 5
1336846258427:  1 self to self atomRequest
1336846258430: Received PROC_REQUEST 11:2 (5,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(5,0)
1336846258431: Dispatching Atom PROC_REPLY 11:2 (5,0)->(5,0)
1336846258443: mux: I got a CSM packet at a leader 

1336846258436: Sending UDP payload: 446
1336846258445: Sending UDP payload: 4368
1336846258447: Received PROC_REPLY 11:2 (5,0)->(5,0), handing to UserApp
1336846258447: inside handleDSMReply. Now back in originator leader of region 5
1336846258447: DSM layer: Going to and from remote region took latency = 71
1336846258448: DSM layer: orig leader sent packet at 1336846258376 ~ received reply from remote leader at 1336846258447
1336846258448: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846258449: leader client reply has replyCounter: 501301300
1336846258449: reply packet contains the newest photo/success info from the remote region
1336846258449: inside sendReplies of replyCount = 501301300
1336846258449: =======================
1336846258449: inside sendReplyRepeatingRunnable for replyCount = 501301300
1336846258449: Leader about to send REPLY packet, number: 501301300 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846258450: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846258450: inside sendPacket(Packet p)
1336846258450: === Finished one round of sending REPLY Packet =======
1336846258451: Sending UDP payload: 4021
1336846258552: Received UDP payload: 446
1336846258554: mux: Inside mux Packet.CLIENT_REQUEST
1336846258554: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846258554: inside handleClientRequest. Originator leader of region 5
1336846258554: got new request, requestCounter = 5013014
1336846258555: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501301300
1336846258555: Yay the last leg succeeded. Removing reply runnables ...
1336846258555: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501301300
1336846258555: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501301300
1336846258555: do not send ack for received final_leg_ack
1336846259035: Received UDP payload: 446
1336846259309: inside sendPacket(Packet p)
1336846259313: Sending UDP payload: 446
1336846259411: canPressButton = TRUE
1336846259411: areButtonsEnabled --> false 
1336846259412: get picture disableButtonsR
1336846259412: areButtonsEnabled --> false
1336846259438: one more getNum: 6
1336846259439: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=5 getBad=0 getTimedout=0 getPercent=83%
1336846259439: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846259439: change local requestCounter to 13
1336846259444: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008013 Client in region: 5 Client nodID: 5008
1336846259474: ----------------------------
1336846259475: inside sendRequestPacketRepeatingRunnable for requestCount = 5008013
1336846259475: I'm a leader, my requesting photos packet going to mux directly
1336846259486: --- Finished one round of sending REQUEST Packet ---------
1336846259476: mux: Inside mux Packet.CLIENT_REQUEST
1336846259476: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846259536: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846259476: inside handleClientRequest. Originator leader of region 5
1336846259476: got new request, requestCounter = 5008013
1336846259476: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846259477: Sending to region: 5
1336846259477: Sending PROC_REQUEST 11:3 (5,0)->(5,0)
1336846259478: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(5,0)
1336846259478: mux: I got a CSM packet at a leader 

1336846259478: Note down new request by adding requestCounter=5008013 to HashMap processedRequests
1336846259478: Make FirstLeg Ack regardless of new or already-processed requests
1336846259478: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846259481: Sending UDP payload: 1006
1336846259482: removed replies before id 3 from sentReplies of size 0
1336846259482: inside handleDSMRequest. At requests's remote leader of region 5
1336846259483: INSIDE SERVER_GET_PHOTO!!!
1336846259484: dst_region == src_region = 5
1336846259484:  1 self to self atomRequest
1336846259485: Received PROC_REQUEST 11:3 (5,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(5,0)
1336846259485: Dispatching Atom PROC_REPLY 11:3 (5,0)->(5,0)
1336846259486: mux: I got a CSM packet at a leader 

1336846259541: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846259541: disabling progressdialog due to successful new photo get
1336846259542: Inside _enableButtons
1336846259542: areButtonsEnabled --> true
1336846259542: send final leg ack regardless of new or already-processed reply
1336846259543: inside finalLegAck: change requestCounter to 14
1336846259545: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008014 Client in region: (5,0) Client nodID: 5008
1336846259545: I'm a leader client, my final_leg packet going to mux directly
1336846259547: new client_show_remotephoto reply with replyCounter 500801300
1336846259547: note down new reply by adding replyCounter=500801300 to HashMap processedReplies
1336846259548: leader download remote photo latency = 65
1336846259548: = leader download start 1336846259476 ~ stop 1336846259541
1336846259550: one more getGood: 6
1336846259551: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846259552: adding get latency: 65
1336846259553: Success! Client getting photo from remote region, showing photo...
1336846259553: Remote photo's length: 3340
1336846259498: Sending UDP payload: 4368
1336846259500: Received PROC_REPLY 11:3 (5,0)->(5,0), handing to UserApp
1336846259500: inside handleDSMReply. Now back in originator leader of region 5
1336846259500: DSM layer: Going to and from remote region took latency = 23
1336846259500: DSM layer: orig leader sent packet at 1336846259477 ~ received reply from remote leader at 1336846259500
1336846259501: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846259501: leader client reply has replyCounter: 500801300
1336846259501: reply packet contains the newest photo/success info from the remote region
1336846259501: inside sendReplies of replyCount = 500801300
1336846259501: =======================
1336846259502: inside sendReplyRepeatingRunnable for replyCount = 500801300
1336846259502: Leader about to send REPLY packet, number: 500801300 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846259502: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846259502: === Finished one round of sending REPLY Packet =======
1336846259546: mux: Inside mux Packet.CLIENT_REQUEST
1336846259546: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846259546: inside handleClientRequest. Originator leader of region 5
1336846259546: got new request, requestCounter = 5008014
1336846259546: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500801300
1336846259546: Yay the last leg succeeded. Removing reply runnables ...
1336846259546: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500801300
1336846259546: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500801300
1336846259547: do not send ack for received final_leg_ack
1336846260199: Received UDP payload: 446
1336846260265: Received UDP payload: 446
1336846260427: Received UDP payload: 446
1336846260992: Received UDP payload: 446
1336846264044: Received UDP payload: 446
1336846264311: inside sendPacket(Packet p)
1336846264356: Sending UDP payload: 446
1336846265212: Received UDP payload: 446
1336846265271: Received UDP payload: 446
1336846265451: Received UDP payload: 446
1336846265997: Received UDP payload: 446
1336846267208: Received UDP payload: 1006
1336846267232: mux: GOT CSM_Msg
1336846267233: removed replies before id 0 from sentReplies of size 0
1336846267233: inside handleDSMRequest. At requests's remote leader of region 5
1336846267239: INSIDE SERVER_GET_PHOTO!!!
1336846267267: Received PROC_REQUEST 11:0 (4,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(4,0)
1336846267268: Dispatching Atom PROC_REPLY 11:0 (5,0)->(4,0)
1336846267268: mux: I got a CSM packet at a leader 

1336846267271: Sending UDP payload: 4368
1336846267272: forwarding disabled, not forwarding packets
1336846268464: Received UDP payload: 642
1336846268470: mux: Inside mux Packet.CLIENT_REQUEST
1336846268497: Received UDP payload: 1006
1336846268509: mux: GOT CSM_Msg
1336846268510: removed replies before id 1 from sentReplies of size 0
1336846268510: inside handleDSMRequest. At requests's remote leader of region 5
1336846268513: INSIDE SERVER_GET_PHOTO!!!
1336846268518: Received PROC_REQUEST 11:1 (4,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(4,0)
1336846268519: Dispatching Atom PROC_REPLY 11:1 (5,0)->(4,0)
1336846268520: mux: I got a CSM packet at a leader 

1336846268538: Received UDP payload: 446
1336846268539: Sending UDP payload: 4368
1336846268540: forwarding disabled, not forwarding packets
1336846268544: mux: Inside Packet.SERVER_REPLY
1336846268544: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846268659: Received UDP payload: 4021
1336846268660: mux: Inside Packet.SERVER_REPLY
1336846268661: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846268693: Received UDP payload: 446
1336846268695: mux: Inside mux Packet.CLIENT_REQUEST
1336846269106: Received UDP payload: 446
1336846269333: inside sendPacket(Packet p)
1336846269336: Sending UDP payload: 446
1336846270236: Received UDP payload: 446
1336846270287: Received UDP payload: 446
1336846270451: Received UDP payload: 446
1336846271208: Received UDP payload: 446
1336846274042: Received UDP payload: 446
1336846274337: inside sendPacket(Packet p)
1336846274345: Sending UDP payload: 446
1336846275233: Received UDP payload: 446
1336846275274: Received UDP payload: 446
1336846275442: Received UDP payload: 446
1336846276226: Received UDP payload: 446
1336846279047: Received UDP payload: 446
1336846279346: inside sendPacket(Packet p)
1336846279363: Sending UDP payload: 446
1336846280247: Received UDP payload: 446
1336846280274: Received UDP payload: 446
1336846280444: Received UDP payload: 446
1336846281229: Received UDP payload: 446
1336846283913: leader to cloud hearbeat...
1336846284057: Received UDP payload: 446
1336846284354: inside sendPacket(Packet p)
1336846284375: Sending UDP payload: 446
1336846285261: Received UDP payload: 446
1336846285288: Received UDP payload: 446
1336846285451: Received UDP payload: 446
1336846286249: Received UDP payload: 446
1336846289051: Received UDP payload: 446
1336846289379: inside sendPacket(Packet p)
1336846289381: Sending UDP payload: 446
1336846290307: Received UDP payload: 446
1336846290324: Received UDP payload: 446
1336846290476: Received UDP payload: 446
1336846291296: Received UDP payload: 446
1336846294126: Received UDP payload: 446
1336846294379: inside sendPacket(Packet p)
1336846294386: Sending UDP payload: 446
1336846295301: Received UDP payload: 446
1336846295313: Received UDP payload: 446
1336846295463: Received UDP payload: 446
1336846296295: Received UDP payload: 446
1336846299074: Received UDP payload: 446
1336846299385: inside sendPacket(Packet p)
1336846299395: Sending UDP payload: 446
1336846300309: Received UDP payload: 446
1336846300337: Received UDP payload: 446
1336846300456: Received UDP payload: 446
1336846301332: Received UDP payload: 446
1336846304115: Received UDP payload: 446
1336846304397: inside sendPacket(Packet p)
1336846304401: Sending UDP payload: 446
1336846305318: Received UDP payload: 446
1336846305334: Received UDP payload: 446
1336846305452: Received UDP payload: 446
1336846306349: Received UDP payload: 446
1336846309104: Received UDP payload: 446
1336846309398: inside sendPacket(Packet p)
1336846309401: Sending UDP payload: 446
1336846310288: Received UDP payload: 446
1336846310312: Received UDP payload: 446
1336846310451: Received UDP payload: 446
1336846311401: Received UDP payload: 446
1336846312533: Received UDP payload: 3771
1336846312544: mux: GOT CSM_Msg
1336846312545: forwarding disabled, not forwarding packets
1336846312553: Received UDP payload: 1006
1336846312567: mux: GOT CSM_Msg
1336846312568: forwarding disabled, not forwarding packets
1336846312657: Received UDP payload: 3409
1336846312659: mux: Inside mux Packet.CLIENT_REQUEST
1336846312711: Received UDP payload: 3773
1336846312714: mux: GOT CSM_Msg
1336846312714: forwarding disabled, not forwarding packets
1336846312732: Received UDP payload: 446
1336846312733: mux: Inside Packet.SERVER_REPLY
1336846312734: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846312741: Received UDP payload: 1006
1336846312744: mux: GOT CSM_Msg
1336846312744: forwarding disabled, not forwarding packets
1336846312761: Received UDP payload: 446
1336846312763: mux: Inside mux Packet.CLIENT_REQUEST
1336846314142: Received UDP payload: 446
1336846314399: inside sendPacket(Packet p)
1336846314401: Sending UDP payload: 446
1336846315360: Received UDP payload: 446
1336846315367: Received UDP payload: 446
1336846315454: Received UDP payload: 446
1336846316395: Received UDP payload: 446
1336846319114: Received UDP payload: 446
1336846319400: inside sendPacket(Packet p)
1336846319403: Sending UDP payload: 446
1336846320316: Received UDP payload: 446
1336846320379: Received UDP payload: 446
1336846320509: Received UDP payload: 446
1336846321346: Received UDP payload: 446
1336846324102: Received UDP payload: 446
1336846324403: inside sendPacket(Packet p)
1336846324406: Sending UDP payload: 446
1336846324511: Received UDP payload: 3757
1336846324519: mux: GOT CSM_Msg
1336846324519: forwarding disabled, not forwarding packets
1336846324533: Received UDP payload: 1006
1336846324540: mux: GOT CSM_Msg
1336846324541: forwarding disabled, not forwarding packets
1336846325316: Received UDP payload: 446
1336846325357: Received UDP payload: 446
1336846325461: Received UDP payload: 446
1336846326073: Received UDP payload: 3547
1336846326080: mux: Inside mux Packet.CLIENT_REQUEST
1336846326139: Received UDP payload: 3911
1336846326154: mux: GOT CSM_Msg
1336846326155: forwarding disabled, not forwarding packets
1336846326165: Received UDP payload: 446
1336846326169: mux: Inside Packet.SERVER_REPLY
1336846326169: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846326170: Received UDP payload: 1006
1336846326185: mux: GOT CSM_Msg
1336846326186: forwarding disabled, not forwarding packets
1336846326186: Received UDP payload: 659
1336846326192: mux: Inside Packet.SERVER_REPLY
1336846326192: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846326204: Received UDP payload: 446
1336846326206: mux: Inside mux Packet.CLIENT_REQUEST
1336846326407: Received UDP payload: 446
1336846327816: Received UDP payload: 3857
1336846327828: mux: GOT CSM_Msg
1336846327828: forwarding disabled, not forwarding packets
1336846327843: Received UDP payload: 1006
1336846327855: mux: GOT CSM_Msg
1336846327856: forwarding disabled, not forwarding packets
1336846329107: Received UDP payload: 446
1336846329404: inside sendPacket(Packet p)
1336846329413: Sending UDP payload: 446
1336846330321: Received UDP payload: 446
1336846330342: Received UDP payload: 446
1336846330474: Received UDP payload: 446
1336846330770: canPressButton = TRUE
1336846330771: areButtonsEnabled --> false
1336846330772: disabling buttons ...
1336846330772: took picture disableButtonsR
1336846330773: areButtonsEnabled --> false
1336846330804: one more takeNum: 2
1336846330805: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846330805: Clicked take picture button ..
1336846331387: Received UDP payload: 446
1336846331891: Received UDP payload: 3370
1336846331893: mux: Inside mux Packet.CLIENT_REQUEST
1336846331893: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846331893: inside handleClientRequest. Originator leader of region 5
1336846331893: got new request, requestCounter = 5013015
1336846331893: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846331894: Sending PROC_REQUEST 10:4 (5,0)->(5,0)
1336846331894: Dispatching Atom PROC_REQUEST 10:4 (5,0)->(5,0)
1336846331894: mux: I got a CSM packet at a leader 

1336846331937: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846331953: I'm a leader and I successfully saved my client's new photo
1336846331953: now showing in UI the new photo I just saved ... 
1336846331954: the photo length: 2706
1336846332022: end of server show photo aside %%%%%%%%%
1336846331894: Note down new request by adding requestCounter=5013015 to HashMap processedRequests
1336846331894: Make FirstLeg Ack regardless of new or already-processed requests
1336846331894: The leader sending a First Leg ack to originator client (which id = 5013)
1336846331894: inside sendPacket(Packet p)
1336846331906: Sending UDP payload: 3734
1336846331908: removed replies before id 4 from sentReplies of size 0
1336846331908: inside handleDSMRequest. At requests's remote leader of region 5
1336846331909: Inside UPLOAD_PHOTO!!
1336846331910: my_gpinfo.isSuccess is now (should be true): true
1336846331910: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846331911: Received PROC_REQUEST 10:4 (5,0)->(5,0), replying PROC_REPLY 10:4 (5,0)->(5,0)
1336846331911: Dispatching Atom PROC_REPLY 10:4 (5,0)->(5,0)
1336846331924: mux: I got a CSM packet at a leader 

1336846331912: Sending UDP payload: 446
1336846331927: Sending UDP payload: 1006
1336846331931: Received PROC_REPLY 10:4 (5,0)->(5,0), handing to UserApp
1336846331931: inside handleDSMReply. Now back in originator leader of region 5
1336846331931: DSM layer: Going to and from remote region took latency = 38
1336846331931: DSM layer: orig leader sent packet at 1336846331893 ~ received reply from remote leader at 1336846331931
1336846331932: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846331932: leader client reply has replyCounter: 501301500
1336846331932: reply packet contains the success info for UPLOAD_PHOTO
1336846331941: inside sendReplies of replyCount = 501301500
1336846331942: =======================
1336846331942: inside sendReplyRepeatingRunnable for replyCount = 501301500
1336846331942: Leader about to send REPLY packet, number: 501301500 type: 16 Leader in region: (5,0) to Client nodID: 5013
1336846331942: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846331942: inside sendPacket(Packet p)
1336846331942: === Finished one round of sending REPLY Packet =======
1336846331944: Sending UDP payload: 659
1336846332013: Received UDP payload: 446
1336846332016: mux: Inside mux Packet.CLIENT_REQUEST
1336846332016: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846332016: inside handleClientRequest. Originator leader of region 5
1336846332016: got new request, requestCounter = 5013016
1336846332016: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501301500
1336846332016: Yay the last leg succeeded. Removing reply runnables ...
1336846332016: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501301500
1336846332016: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501301500
1336846332017: do not send ack for received final_leg_ack
1336846332202: inside HandlePictureStorage onPictureTaken()
1336846332203: one more takeCamGood: 2
1336846332204: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846332691: Picture successfully taken, ORIG BYTE LENGTH = 1770204
1336846332871: Our new height x width: 306 x 408
1336846332872: Show photo from handle my camera take
1336846332872: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846332873: change local requestCounter to 15
1336846332886: BYTE SIZE AFTER COMPRESSION: 2749
1336846332892: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5008015 Client in region: 5 Client nodID: 5008
1336846332918: ----------------------------
1336846332919: inside sendRequestPacketRepeatingRunnable for requestCount = 5008015
1336846332919: I'm a leader, my requesting photos packet going to mux directly
1336846332932: --- Finished one round of sending REQUEST Packet ---------
1336846332919: mux: Inside mux Packet.CLIENT_REQUEST
1336846332919: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846332964: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846332920: inside handleClientRequest. Originator leader of region 5
1336846332920: got new request, requestCounter = 5008015
1336846332920: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846332920: Sending PROC_REQUEST 10:5 (5,0)->(5,0)
1336846332921: Dispatching Atom PROC_REQUEST 10:5 (5,0)->(5,0)
1336846332921: mux: I got a CSM packet at a leader 

1336846332965: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846332966: I'm a leader and I successfully saved my client's new photo
1336846332966: now showing in UI the new photo I just saved ... 
1336846332967: the photo length: 2749
1336846333000: end of server show photo aside %%%%%%%%%
1336846332921: Note down new request by adding requestCounter=5008015 to HashMap processedRequests
1336846332921: Make FirstLeg Ack regardless of new or already-processed requests
1336846332921: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846332931: Sending UDP payload: 3777
1336846332939: removed replies before id 5 from sentReplies of size 0
1336846332939: inside handleDSMRequest. At requests's remote leader of region 5
1336846332941: Inside UPLOAD_PHOTO!!
1336846332944: my_gpinfo.isSuccess is now (should be true): true
1336846332953: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846332954: Received PROC_REQUEST 10:5 (5,0)->(5,0), replying PROC_REPLY 10:5 (5,0)->(5,0)
1336846332954: Dispatching Atom PROC_REPLY 10:5 (5,0)->(5,0)
1336846332954: mux: I got a CSM packet at a leader 

1336846333001: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846333002: disabling progressdialog due to successful new photo upload
1336846333002: Inside _enableButtons
1336846333002: areButtonsEnabled --> true
1336846333002: send final leg ack regardless of new or already-processed reply
1336846333003: inside finalLegAck: change requestCounter to 16
1336846333003: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008016 Client in region: (5,0) Client nodID: 5008
1336846333003: I'm a leader client, my final_leg packet going to mux directly
1336846333005: new client_upload_photo_ack reply with replyCounter 500801500
1336846333005: note down new reply by adding replyCounter=500801500 to HashMap processedReplies
1336846333006: leader upload new photo latency = 82
1336846333006: = leader upload start 1336846332919 ~ stop 1336846333001
1336846333009: one more takeGoodSave: 2
1336846333009: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846333010: adding take latency: 82
1336846333010: SUCCESS Client now knows saving photo on its leader succeeded
1336846332956: Sending UDP payload: 1006
1336846332957: Received PROC_REPLY 10:5 (5,0)->(5,0), handing to UserApp
1336846332957: inside handleDSMReply. Now back in originator leader of region 5
1336846332957: DSM layer: Going to and from remote region took latency = 37
1336846332957: DSM layer: orig leader sent packet at 1336846332920 ~ received reply from remote leader at 1336846332957
1336846332958: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846332958: leader client reply has replyCounter: 500801500
1336846332958: reply packet contains the success info for UPLOAD_PHOTO
1336846332958: inside sendReplies of replyCount = 500801500
1336846332959: =======================
1336846332959: inside sendReplyRepeatingRunnable for replyCount = 500801500
1336846332959: Leader about to send REPLY packet, number: 500801500 type: 16 Leader in region: (5,0) to Client nodID: 5008
1336846332959: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846332959: === Finished one round of sending REPLY Packet =======
1336846333004: mux: Inside mux Packet.CLIENT_REQUEST
1336846333004: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846333004: inside handleClientRequest. Originator leader of region 5
1336846333004: got new request, requestCounter = 5008016
1336846333004: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500801500
1336846333004: Yay the last leg succeeded. Removing reply runnables ...
1336846333004: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500801500
1336846333005: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500801500
1336846333005: do not send ack for received final_leg_ack
1336846333292: Received UDP payload: 3489
1336846333295: mux: Inside mux Packet.CLIENT_REQUEST
1336846333361: Received UDP payload: 3853
1336846333365: mux: GOT CSM_Msg
1336846333366: forwarding disabled, not forwarding packets
1336846333383: Received UDP payload: 446
1336846333385: mux: Inside Packet.SERVER_REPLY
1336846333385: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846333392: Received UDP payload: 1006
1336846333394: mux: GOT CSM_Msg
1336846333394: forwarding disabled, not forwarding packets
1336846333405: Received UDP payload: 659
1336846333407: mux: Inside Packet.SERVER_REPLY
1336846333407: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846333431: Received UDP payload: 446
1336846333432: mux: Inside mux Packet.CLIENT_REQUEST
1336846334152: Received UDP payload: 446
1336846334406: inside sendPacket(Packet p)
1336846334431: Sending UDP payload: 446
1336846334773: Received UDP payload: 3861
1336846334781: mux: GOT CSM_Msg
1336846334781: forwarding disabled, not forwarding packets
1336846334789: Received UDP payload: 1006
1336846334811: mux: GOT CSM_Msg
1336846334811: forwarding disabled, not forwarding packets
1336846335333: Received UDP payload: 446
1336846335361: Received UDP payload: 446
1336846335462: Received UDP payload: 446
1336846336409: Received UDP payload: 446
1336846339160: Received UDP payload: 446
1336846339425: inside sendPacket(Packet p)
1336846339428: Sending UDP payload: 446
1336846340443: Received UDP payload: 446
1336846340488: Received UDP payload: 446
1336846340495: Received UDP payload: 446
1336846341379: Received UDP payload: 446
1336846344161: Received UDP payload: 446
1336846344427: inside sendPacket(Packet p)
1336846344430: Sending UDP payload: 446
1336846345351: Received UDP payload: 446
1336846345374: Received UDP payload: 446
1336846345470: Received UDP payload: 446
1336846346386: Received UDP payload: 446
1336846349147: Received UDP payload: 446
1336846349428: inside sendPacket(Packet p)
1336846349432: Sending UDP payload: 446
1336846350341: Received UDP payload: 446
1336846350394: Received UDP payload: 446
1336846350474: Received UDP payload: 446
1336846351390: Received UDP payload: 446
1336846352245: Received UDP payload: 3790
1336846352253: mux: GOT CSM_Msg
1336846352253: forwarding disabled, not forwarding packets
1336846352273: Received UDP payload: 1006
1336846352280: mux: GOT CSM_Msg
1336846352280: forwarding disabled, not forwarding packets
1336846354124: Received UDP payload: 446
1336846354429: inside sendPacket(Packet p)
1336846354436: Sending UDP payload: 446
1336846355382: Received UDP payload: 446
1336846355409: Received UDP payload: 446
1336846355501: Received UDP payload: 446
1336846356402: Received UDP payload: 446
1336846359144: Received UDP payload: 3734
1336846359155: mux: GOT CSM_Msg
1336846359155: forwarding disabled, not forwarding packets
1336846359168: Received UDP payload: 446
1336846359185: Received UDP payload: 1006
1336846359196: mux: GOT CSM_Msg
1336846359196: forwarding disabled, not forwarding packets
1336846359437: inside sendPacket(Packet p)
1336846359440: Sending UDP payload: 446
1336846360348: Received UDP payload: 446
1336846360436: Received UDP payload: 446
1336846360468: Received UDP payload: 446
1336846361401: Received UDP payload: 446
1336846363447: Received UDP payload: 3370
1336846363452: mux: Inside mux Packet.CLIENT_REQUEST
1336846363573: Received UDP payload: 3734
1336846363581: mux: GOT CSM_Msg
1336846363581: forwarding disabled, not forwarding packets
1336846363593: Received UDP payload: 446
1336846363598: mux: Inside Packet.SERVER_REPLY
1336846363598: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846363598: Received UDP payload: 1006
1336846363617: mux: GOT CSM_Msg
1336846363617: forwarding disabled, not forwarding packets
1336846363619: Received UDP payload: 659
1336846363624: mux: Inside Packet.SERVER_REPLY
1336846363625: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846363633: Received UDP payload: 446
1336846363637: mux: Inside mux Packet.CLIENT_REQUEST
1336846364128: Received UDP payload: 446
1336846364438: inside sendPacket(Packet p)
1336846364441: Sending UDP payload: 446
1336846365341: Received UDP payload: 446
1336846365446: Received UDP payload: 446
1336846365489: Received UDP payload: 446
1336846366436: Received UDP payload: 446
1336846369219: Received UDP payload: 446
1336846369440: inside sendPacket(Packet p)
1336846369443: Sending UDP payload: 446
1336846370334: Received UDP payload: 446
1336846370437: Received UDP payload: 446
1336846370469: Received UDP payload: 446
1336846371436: Received UDP payload: 446
1336846374133: Received UDP payload: 446
1336846374441: inside sendPacket(Packet p)
1336846374444: Sending UDP payload: 446
1336846375359: Received UDP payload: 446
1336846375448: Received UDP payload: 446
1336846375469: Received UDP payload: 446
1336846376139: Received UDP payload: 3370
1336846376143: mux: Inside mux Packet.CLIENT_REQUEST
1336846376289: Received UDP payload: 3734
1336846376298: mux: GOT CSM_Msg
1336846376298: forwarding disabled, not forwarding packets
1336846376299: Received UDP payload: 446
1336846376302: mux: Inside Packet.SERVER_REPLY
1336846376304: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846376313: Received UDP payload: 1006
1336846376319: mux: GOT CSM_Msg
1336846376320: forwarding disabled, not forwarding packets
1336846376327: Received UDP payload: 659
1336846376331: mux: Inside Packet.SERVER_REPLY
1336846376331: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846376338: Received UDP payload: 446
1336846376343: mux: Inside mux Packet.CLIENT_REQUEST
1336846376484: Received UDP payload: 446
1336846379134: Received UDP payload: 446
1336846379441: inside sendPacket(Packet p)
1336846379444: Sending UDP payload: 446
1336846379822: Received UDP payload: 3805
1336846379829: mux: GOT CSM_Msg
1336846379829: forwarding disabled, not forwarding packets
1336846379854: Received UDP payload: 1006
1336846379862: mux: GOT CSM_Msg
1336846379862: forwarding disabled, not forwarding packets
1336846380337: Received UDP payload: 446
1336846380439: Received UDP payload: 446
1336846380884: Received UDP payload: 446
1336846381436: Received UDP payload: 446
1336846384137: Received UDP payload: 446
1336846384442: inside sendPacket(Packet p)
1336846384445: Sending UDP payload: 446
1336846385334: Received UDP payload: 446
1336846385458: Received UDP payload: 446
1336846385898: Received UDP payload: 446
1336846386522: Received UDP payload: 446
1336846389302: Received UDP payload: 446
1336846389444: inside sendPacket(Packet p)
1336846389473: Sending UDP payload: 446
1336846390387: Received UDP payload: 446
1336846390450: Received UDP payload: 446
1336846390914: Received UDP payload: 446
1336846391666: Received UDP payload: 446
1336846394151: Received UDP payload: 446
1336846394445: inside sendPacket(Packet p)
1336846394448: Sending UDP payload: 446
1336846395450: Received UDP payload: 446
1336846395604: Received UDP payload: 446
1336846395916: Received UDP payload: 446
1336846396449: Received UDP payload: 642
1336846396456: mux: Inside mux Packet.CLIENT_REQUEST
1336846396491: Received UDP payload: 1006
1336846396509: mux: GOT CSM_Msg
1336846396509: forwarding disabled, not forwarding packets
1336846396517: Received UDP payload: 446
1336846396518: mux: Inside Packet.SERVER_REPLY
1336846396519: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846396579: Received UDP payload: 3805
1336846396581: mux: GOT CSM_Msg
1336846396581: forwarding disabled, not forwarding packets
1336846396619: Received UDP payload: 3458
1336846396621: mux: Inside Packet.SERVER_REPLY
1336846396621: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846396632: Received UDP payload: 446
1336846396633: mux: Inside mux Packet.CLIENT_REQUEST
1336846396675: Received UDP payload: 446
1336846397746: Received UDP payload: 1006
1336846397755: mux: GOT CSM_Msg
1336846397756: forwarding disabled, not forwarding packets
1336846397798: Received UDP payload: 3805
1336846397805: mux: GOT CSM_Msg
1336846397806: forwarding disabled, not forwarding packets
1336846397993: Received UDP payload: 1006
1336846397997: mux: GOT CSM_Msg
1336846397997: forwarding disabled, not forwarding packets
1336846398040: Received UDP payload: 3805
1336846398045: mux: GOT CSM_Msg
1336846398045: forwarding disabled, not forwarding packets
1336846399017: Received UDP payload: 642
1336846399021: mux: Inside mux Packet.CLIENT_REQUEST
1336846399059: Received UDP payload: 1006
1336846399068: mux: GOT CSM_Msg
1336846399068: forwarding disabled, not forwarding packets
1336846399069: Received UDP payload: 446
1336846399081: mux: Inside Packet.SERVER_REPLY
1336846399081: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846399153: Received UDP payload: 3805
1336846399155: mux: GOT CSM_Msg
1336846399155: forwarding disabled, not forwarding packets
1336846399161: Received UDP payload: 446
1336846399205: Received UDP payload: 3458
1336846399207: mux: Inside Packet.SERVER_REPLY
1336846399207: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846399220: Received UDP payload: 446
1336846399222: mux: Inside mux Packet.CLIENT_REQUEST
1336846399445: inside sendPacket(Packet p)
1336846399446: Sending UDP payload: 446
1336846400445: Received UDP payload: 446
1336846400597: Received UDP payload: 446
1336846400927: Received UDP payload: 446
1336846401681: Received UDP payload: 446
1336846404160: Received UDP payload: 446
1336846404354: leader to cloud hearbeat...
1336846404775: inside sendPacket(Packet p)
1336846404786: Sending UDP payload: 446
1336846405466: Received UDP payload: 446
1336846405573: Received UDP payload: 446
1336846405807: Received UDP payload: 1006
1336846405815: mux: GOT CSM_Msg
1336846405815: forwarding disabled, not forwarding packets
1336846405921: Received UDP payload: 446
1336846405955: Received UDP payload: 1006
1336846405962: mux: GOT CSM_Msg
1336846405962: forwarding disabled, not forwarding packets
1336846405994: Received UDP payload: 3805
1336846406005: mux: GOT CSM_Msg
1336846406006: forwarding disabled, not forwarding packets
1336846406046: Received UDP payload: 3805
1336846406054: mux: GOT CSM_Msg
1336846406054: forwarding disabled, not forwarding packets
1336846406694: Received UDP payload: 446
1336846409219: Received UDP payload: 446
1336846409784: inside sendPacket(Packet p)
1336846409787: Sending UDP payload: 446
1336846410469: Received UDP payload: 446
1336846410574: Received UDP payload: 446
1336846410943: Received UDP payload: 446
1336846411478: Received UDP payload: 642
1336846411483: mux: Inside mux Packet.CLIENT_REQUEST
1336846411483: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846411484: inside handleClientRequest. Originator leader of region 5
1336846411484: got new request, requestCounter = 5013017
1336846411484: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846411497: Sending to region: 0
1336846411498: Sending PROC_REQUEST 11:2 (5,0)->(0,0)
1336846411499: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1336846411501: mux: I got a CSM packet at a leader 

1336846411500: Note down new request by adding requestCounter=5013017 to HashMap processedRequests
1336846411500: Make FirstLeg Ack regardless of new or already-processed requests
1336846411500: The leader sending a First Leg ack to originator client (which id = 5013)
1336846411501: inside sendPacket(Packet p)
1336846411532: Sending UDP payload: 1006
1336846411534: forwarding disabled, not forwarding packets
1336846411536: Sending UDP payload: 446
1336846411636: Received UDP payload: 3805
1336846411638: mux: GOT CSM_Msg
1336846411638: Received PROC_REPLY 11:2 (0,0)->(5,0), handing to UserApp
1336846411638: inside handleDSMReply. Now back in originator leader of region 5
1336846411639: DSM layer: Going to and from remote region took latency = 141
1336846411639: DSM layer: orig leader sent packet at 1336846411497 ~ received reply from remote leader at 1336846411638
1336846411639: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846411640: leader client reply has replyCounter: 501301700
1336846411640: reply packet contains the newest photo/success info from the remote region
1336846411640: inside sendReplies of replyCount = 501301700
1336846411640: =======================
1336846411640: inside sendReplyRepeatingRunnable for replyCount = 501301700
1336846411641: Leader about to send REPLY packet, number: 501301700 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846411641: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846411641: inside sendPacket(Packet p)
1336846411641: === Finished one round of sending REPLY Packet =======
1336846411642: Sending UDP payload: 3458
1336846411696: Received UDP payload: 446
1336846411703: Received UDP payload: 446
1336846411705: mux: Inside mux Packet.CLIENT_REQUEST
1336846411705: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846411705: inside handleClientRequest. Originator leader of region 5
1336846411705: got new request, requestCounter = 5013018
1336846411705: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501301700
1336846411705: Yay the last leg succeeded. Removing reply runnables ...
1336846411705: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501301700
1336846411705: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501301700
1336846411706: do not send ack for received final_leg_ack
1336846412472: canPressButton = TRUE
1336846412473: areButtonsEnabled --> false 
1336846412473: get picture disableButtonsR
1336846412473: areButtonsEnabled --> false
1336846412490: one more getNum: 7
1336846412491: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=6 getBad=0 getTimedout=0 getPercent=85%
1336846412492: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846412492: change local requestCounter to 17
1336846412495: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008017 Client in region: 5 Client nodID: 5008
1336846412525: ----------------------------
1336846412526: inside sendRequestPacketRepeatingRunnable for requestCount = 5008017
1336846412526: I'm a leader, my requesting photos packet going to mux directly
1336846412532: --- Finished one round of sending REQUEST Packet ---------
1336846412526: mux: Inside mux Packet.CLIENT_REQUEST
1336846412527: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846412567: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846412527: inside handleClientRequest. Originator leader of region 5
1336846412527: got new request, requestCounter = 5008017
1336846412527: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846412528: Sending to region: 0
1336846412528: Sending PROC_REQUEST 11:3 (5,0)->(0,0)
1336846412528: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1336846412529: mux: I got a CSM packet at a leader 

1336846412528: Note down new request by adding requestCounter=5008017 to HashMap processedRequests
1336846412529: Make FirstLeg Ack regardless of new or already-processed requests
1336846412529: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846412531: Sending UDP payload: 1006
1336846412531: forwarding disabled, not forwarding packets
1336846412627: Received UDP payload: 3805
1336846412630: mux: GOT CSM_Msg
1336846412634: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846412634: disabling progressdialog due to successful new photo get
1336846412634: Inside _enableButtons
1336846412634: areButtonsEnabled --> true
1336846412635: send final leg ack regardless of new or already-processed reply
1336846412635: inside finalLegAck: change requestCounter to 18
1336846412639: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008018 Client in region: (5,0) Client nodID: 5008
1336846412639: I'm a leader client, my final_leg packet going to mux directly
1336846412640: new client_show_remotephoto reply with replyCounter 500801700
1336846412641: note down new reply by adding replyCounter=500801700 to HashMap processedReplies
1336846412641: leader download remote photo latency = 108
1336846412641: = leader download start 1336846412526 ~ stop 1336846412634
1336846412643: one more getGood: 7
1336846412644: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=7 getBad=0 getTimedout=0 getPercent=100%
1336846412645: adding get latency: 108
1336846412645: Success! Client getting photo from remote region, showing photo...
1336846412646: Remote photo's length: 2777
1336846412630: Received PROC_REPLY 11:3 (0,0)->(5,0), handing to UserApp
1336846412630: inside handleDSMReply. Now back in originator leader of region 5
1336846412631: DSM layer: Going to and from remote region took latency = 102
1336846412631: DSM layer: orig leader sent packet at 1336846412528 ~ received reply from remote leader at 1336846412630
1336846412631: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846412632: leader client reply has replyCounter: 500801700
1336846412632: reply packet contains the newest photo/success info from the remote region
1336846412632: inside sendReplies of replyCount = 500801700
1336846412632: =======================
1336846412632: inside sendReplyRepeatingRunnable for replyCount = 500801700
1336846412633: Leader about to send REPLY packet, number: 500801700 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846412633: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846412633: === Finished one round of sending REPLY Packet =======
1336846412639: mux: Inside mux Packet.CLIENT_REQUEST
1336846412639: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846412640: inside handleClientRequest. Originator leader of region 5
1336846412640: got new request, requestCounter = 5008018
1336846412640: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500801700
1336846412640: Yay the last leg succeeded. Removing reply runnables ...
1336846412640: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500801700
1336846412640: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500801700
1336846412640: do not send ack for received final_leg_ack
1336846413754: Received UDP payload: 1006
1336846413776: mux: GOT CSM_Msg
1336846413776: forwarding disabled, not forwarding packets
1336846413831: Received UDP payload: 3805
1336846413834: mux: GOT CSM_Msg
1336846413834: forwarding disabled, not forwarding packets
1336846414162: Received UDP payload: 446
1336846414785: inside sendPacket(Packet p)
1336846414837: Sending UDP payload: 446
1336846415259: Received UDP payload: 642
1336846415262: mux: Inside mux Packet.CLIENT_REQUEST
1336846415318: Received UDP payload: 1006
1336846415321: mux: GOT CSM_Msg
1336846415322: forwarding disabled, not forwarding packets
1336846415326: Received UDP payload: 446
1336846415329: mux: Inside Packet.SERVER_REPLY
1336846415329: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846415377: Received UDP payload: 3805
1336846415382: mux: GOT CSM_Msg
1336846415382: forwarding disabled, not forwarding packets
1336846415428: Received UDP payload: 3458
1336846415434: mux: Inside Packet.SERVER_REPLY
1336846415434: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846415439: Received UDP payload: 446
1336846415443: mux: Inside mux Packet.CLIENT_REQUEST
1336846415462: Received UDP payload: 446
1336846415570: Received UDP payload: 446
1336846415918: Received UDP payload: 446
1336846416748: Received UDP payload: 446
1336846419148: Received UDP payload: 446
1336846419785: inside sendPacket(Packet p)
1336846419788: Sending UDP payload: 446
1336846420527: Received UDP payload: 446
1336846420634: Received UDP payload: 446
1336846420925: Received UDP payload: 446
1336846421696: Received UDP payload: 446
1336846424156: Received UDP payload: 446
1336846424786: inside sendPacket(Packet p)
1336846424789: Sending UDP payload: 446
1336846425466: Received UDP payload: 446
1336846425584: Received UDP payload: 446
1336846425931: Received UDP payload: 446
1336846426711: Received UDP payload: 446
1336846429170: Received UDP payload: 446
1336846429787: inside sendPacket(Packet p)
1336846429790: Sending UDP payload: 446
1336846430465: Received UDP payload: 446
1336846430597: Received UDP payload: 446
1336846430935: Received UDP payload: 446
1336846431607: Received UDP payload: 1006
1336846431615: mux: GOT CSM_Msg
1336846431615: forwarding disabled, not forwarding packets
1336846431648: Received UDP payload: 3773
1336846431656: mux: GOT CSM_Msg
1336846431657: forwarding disabled, not forwarding packets
1336846431714: Received UDP payload: 446
1336846432195: Received UDP payload: 642
1336846432198: mux: Inside mux Packet.CLIENT_REQUEST
1336846432244: Received UDP payload: 1006
1336846432248: mux: GOT CSM_Msg
1336846432249: forwarding disabled, not forwarding packets
1336846432252: Received UDP payload: 446
1336846432257: mux: Inside Packet.SERVER_REPLY
1336846432257: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846432320: Received UDP payload: 3773
1336846432322: mux: GOT CSM_Msg
1336846432322: forwarding disabled, not forwarding packets
1336846432364: Received UDP payload: 3426
1336846432366: mux: Inside Packet.SERVER_REPLY
1336846432366: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846432378: Received UDP payload: 446
1336846432379: mux: Inside mux Packet.CLIENT_REQUEST
1336846433020: Received UDP payload: 642
1336846433026: mux: Inside mux Packet.CLIENT_REQUEST
1336846433063: Received UDP payload: 1006
1336846433069: mux: GOT CSM_Msg
1336846433070: forwarding disabled, not forwarding packets
1336846433110: Received UDP payload: 446
1336846433111: mux: Inside Packet.SERVER_REPLY
1336846433111: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846433153: Received UDP payload: 3773
1336846433155: mux: GOT CSM_Msg
1336846433155: forwarding disabled, not forwarding packets
1336846433195: Received UDP payload: 3426
1336846433197: mux: Inside Packet.SERVER_REPLY
1336846433197: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846433209: Received UDP payload: 446
1336846433211: mux: Inside mux Packet.CLIENT_REQUEST
1336846433885: Received UDP payload: 1006
1336846433893: mux: GOT CSM_Msg
1336846433893: forwarding disabled, not forwarding packets
1336846433980: Received UDP payload: 3773
1336846433991: mux: GOT CSM_Msg
1336846433991: forwarding disabled, not forwarding packets
1336846434174: Received UDP payload: 446
1336846434789: inside sendPacket(Packet p)
1336846434805: Sending UDP payload: 446
1336846435468: Received UDP payload: 446
1336846435610: Received UDP payload: 446
1336846435944: Received UDP payload: 446
1336846436717: Received UDP payload: 446
1336846439180: Received UDP payload: 446
1336846439791: inside sendPacket(Packet p)
1336846439803: Sending UDP payload: 446
1336846440254: Received UDP payload: 1006
1336846440260: mux: GOT CSM_Msg
1336846440260: forwarding disabled, not forwarding packets
1336846440301: Received UDP payload: 3773
1336846440308: mux: GOT CSM_Msg
1336846440308: forwarding disabled, not forwarding packets
1336846440479: Received UDP payload: 446
1336846440628: Received UDP payload: 446
1336846440961: Received UDP payload: 446
1336846441567: Received UDP payload: 1006
1336846441574: mux: GOT CSM_Msg
1336846441575: forwarding disabled, not forwarding packets
1336846441658: Received UDP payload: 3773
1336846441660: mux: GOT CSM_Msg
1336846441660: forwarding disabled, not forwarding packets
1336846441722: Received UDP payload: 446
1336846444179: Received UDP payload: 446
1336846444792: inside sendPacket(Packet p)
1336846444797: Sending UDP payload: 446
1336846445490: Received UDP payload: 446
1336846445642: Received UDP payload: 446
1336846445972: Received UDP payload: 446
1336846446771: Received UDP payload: 446
1336846447058: Received UDP payload: 642
1336846447063: mux: Inside mux Packet.CLIENT_REQUEST
1336846447064: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846447064: inside handleClientRequest. Originator leader of region 5
1336846447065: got new request, requestCounter = 5013019
1336846447065: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846447070: Sending to region: 1
1336846447072: Sending PROC_REQUEST 11:2 (5,0)->(1,0)
1336846447084: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(1,0)
1336846447087: mux: I got a CSM packet at a leader 

1336846447085: Note down new request by adding requestCounter=5013019 to HashMap processedRequests
1336846447085: Make FirstLeg Ack regardless of new or already-processed requests
1336846447086: The leader sending a First Leg ack to originator client (which id = 5013)
1336846447086: inside sendPacket(Packet p)
1336846447108: Sending UDP payload: 1006
1336846447120: forwarding disabled, not forwarding packets
1336846447122: Sending UDP payload: 446
1336846447217: Received UDP payload: 3773
1336846447221: mux: GOT CSM_Msg
1336846447222: Received PROC_REPLY 11:2 (1,0)->(5,0), handing to UserApp
1336846447222: inside handleDSMReply. Now back in originator leader of region 5
1336846447222: DSM layer: Going to and from remote region took latency = 151
1336846447223: DSM layer: orig leader sent packet at 1336846447071 ~ received reply from remote leader at 1336846447222
1336846447224: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846447224: leader client reply has replyCounter: 501301900
1336846447224: reply packet contains the newest photo/success info from the remote region
1336846447225: inside sendReplies of replyCount = 501301900
1336846447226: =======================
1336846447226: inside sendReplyRepeatingRunnable for replyCount = 501301900
1336846447227: Leader about to send REPLY packet, number: 501301900 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846447227: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846447227: inside sendPacket(Packet p)
1336846447227: === Finished one round of sending REPLY Packet =======
1336846447233: Sending UDP payload: 3426
1336846447293: Received UDP payload: 446
1336846447295: mux: Inside mux Packet.CLIENT_REQUEST
1336846447295: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846447295: inside handleClientRequest. Originator leader of region 5
1336846447296: got new request, requestCounter = 5013020
1336846447296: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501301900
1336846447296: Yay the last leg succeeded. Removing reply runnables ...
1336846447296: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501301900
1336846447296: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501301900
1336846447297: do not send ack for received final_leg_ack
1336846447918: Received UDP payload: 1006
1336846447927: mux: GOT CSM_Msg
1336846447927: forwarding disabled, not forwarding packets
1336846448515: canPressButton = TRUE
1336846448516: areButtonsEnabled --> false 
1336846448516: get picture disableButtonsR
1336846448516: areButtonsEnabled --> false
1336846448584: one more getNum: 8
1336846448585: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=7 getBad=0 getTimedout=0 getPercent=87%
1336846448586: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846448586: change local requestCounter to 19
1336846448590: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008019 Client in region: 5 Client nodID: 5008
1336846448656: ----------------------------
1336846448657: inside sendRequestPacketRepeatingRunnable for requestCount = 5008019
1336846448657: I'm a leader, my requesting photos packet going to mux directly
1336846448668: --- Finished one round of sending REQUEST Packet ---------
1336846448657: mux: Inside mux Packet.CLIENT_REQUEST
1336846448657: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846448712: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846448658: inside handleClientRequest. Originator leader of region 5
1336846448658: got new request, requestCounter = 5008019
1336846448658: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846448661: Sending to region: 1
1336846448661: Sending PROC_REQUEST 11:3 (5,0)->(1,0)
1336846448661: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(1,0)
1336846448662: mux: I got a CSM packet at a leader 

1336846448662: Note down new request by adding requestCounter=5008019 to HashMap processedRequests
1336846448662: Make FirstLeg Ack regardless of new or already-processed requests
1336846448662: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846448667: Sending UDP payload: 1006
1336846448673: forwarding disabled, not forwarding packets
1336846448792: Received UDP payload: 3773
1336846448797: mux: GOT CSM_Msg
1336846448798: Received PROC_REPLY 11:3 (1,0)->(5,0), handing to UserApp
1336846448798: inside handleDSMReply. Now back in originator leader of region 5
1336846448798: DSM layer: Going to and from remote region took latency = 137
1336846448798: DSM layer: orig leader sent packet at 1336846448661 ~ received reply from remote leader at 1336846448798
1336846448799: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846448799: leader client reply has replyCounter: 500801900
1336846448799: reply packet contains the newest photo/success info from the remote region
1336846448799: inside sendReplies of replyCount = 500801900
1336846448800: =======================
1336846448818: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846448818: disabling progressdialog due to successful new photo get
1336846448819: Inside _enableButtons
1336846448819: areButtonsEnabled --> true
1336846448819: send final leg ack regardless of new or already-processed reply
1336846448819: inside finalLegAck: change requestCounter to 20
1336846448819: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008020 Client in region: (5,0) Client nodID: 5008
1336846448820: I'm a leader client, my final_leg packet going to mux directly
1336846448821: new client_show_remotephoto reply with replyCounter 500801900
1336846448821: note down new reply by adding replyCounter=500801900 to HashMap processedReplies
1336846448822: leader download remote photo latency = 161
1336846448827: = leader download start 1336846448657 ~ stop 1336846448818
1336846448830: one more getGood: 8
1336846448831: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=8 getBad=0 getTimedout=0 getPercent=100%
1336846448831: adding get latency: 161
1336846448834: Success! Client getting photo from remote region, showing photo...
1336846448834: Remote photo's length: 2745
1336846448801: inside sendReplyRepeatingRunnable for replyCount = 500801900
1336846448801: Leader about to send REPLY packet, number: 500801900 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846448801: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846448801: === Finished one round of sending REPLY Packet =======
1336846448820: mux: Inside mux Packet.CLIENT_REQUEST
1336846448820: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846448820: inside handleClientRequest. Originator leader of region 5
1336846448820: got new request, requestCounter = 5008020
1336846448820: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500801900
1336846448820: Yay the last leg succeeded. Removing reply runnables ...
1336846448820: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500801900
1336846448821: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500801900
1336846448821: do not send ack for received final_leg_ack
1336846449193: Received UDP payload: 446
1336846449425: Received UDP payload: 642
1336846449427: mux: Inside mux Packet.CLIENT_REQUEST
1336846449484: Received UDP payload: 1006
1336846449486: mux: GOT CSM_Msg
1336846449487: forwarding disabled, not forwarding packets
1336846449495: Received UDP payload: 446
1336846449496: mux: Inside Packet.SERVER_REPLY
1336846449496: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846449553: Received UDP payload: 3773
1336846449555: mux: GOT CSM_Msg
1336846449556: forwarding disabled, not forwarding packets
1336846449601: Received UDP payload: 3426
1336846449603: mux: Inside Packet.SERVER_REPLY
1336846449603: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846449617: Received UDP payload: 446
1336846449618: mux: Inside mux Packet.CLIENT_REQUEST
1336846449794: inside sendPacket(Packet p)
1336846449795: Sending UDP payload: 446
1336846450504: Received UDP payload: 446
1336846450650: Received UDP payload: 446
1336846450977: Received UDP payload: 446
1336846451781: Received UDP payload: 446
1336846454206: Received UDP payload: 446
1336846454794: inside sendPacket(Packet p)
1336846454805: Sending UDP payload: 446
1336846455494: Received UDP payload: 446
1336846455634: Received UDP payload: 446
1336846455979: Received UDP payload: 446
1336846456724: Received UDP payload: 446
1336846459189: Received UDP payload: 446
1336846459808: inside sendPacket(Packet p)
1336846459811: Sending UDP payload: 446
1336846460496: Received UDP payload: 446
1336846460632: Received UDP payload: 446
1336846460978: Received UDP payload: 446
1336846461737: Received UDP payload: 446
1336846464201: Received UDP payload: 446
1336846464809: inside sendPacket(Packet p)
1336846464812: Sending UDP payload: 446
1336846465503: Received UDP payload: 446
1336846465620: Received UDP payload: 446
1336846465987: Received UDP payload: 446
1336846466742: Received UDP payload: 446
1336846469201: Received UDP payload: 446
1336846469811: inside sendPacket(Packet p)
1336846469814: Sending UDP payload: 446
1336846470518: Received UDP payload: 446
1336846470625: Received UDP payload: 446
1336846470995: Received UDP payload: 446
1336846471752: Received UDP payload: 446
1336846474219: Received UDP payload: 446
1336846474814: inside sendPacket(Packet p)
1336846474816: Sending UDP payload: 446
1336846475509: Received UDP payload: 446
1336846475627: Received UDP payload: 446
1336846475999: Received UDP payload: 446
1336846476788: Received UDP payload: 446
1336846479265: Received UDP payload: 446
1336846479816: inside sendPacket(Packet p)
1336846479818: Sending UDP payload: 446
1336846480524: Received UDP payload: 446
1336846480631: Received UDP payload: 446
1336846481003: Received UDP payload: 446
1336846481755: Received UDP payload: 446
1336846484240: Received UDP payload: 446
1336846484816: inside sendPacket(Packet p)
1336846484819: Sending UDP payload: 446
1336846485529: Received UDP payload: 446
1336846485637: Received UDP payload: 446
1336846486000: Received UDP payload: 446
1336846486811: Received UDP payload: 446
1336846489283: Received UDP payload: 1006
1336846489297: mux: GOT CSM_Msg
1336846489298: forwarding disabled, not forwarding packets
1336846489313: Received UDP payload: 446
1336846489421: Received UDP payload: 3790
1336846489426: mux: GOT CSM_Msg
1336846489426: forwarding disabled, not forwarding packets
1336846489700: Received UDP payload: 642
1336846489703: mux: Inside mux Packet.CLIENT_REQUEST
1336846489720: Received UDP payload: 1006
1336846489725: mux: GOT CSM_Msg
1336846489726: forwarding disabled, not forwarding packets
1336846489736: Received UDP payload: 446
1336846489738: mux: Inside Packet.SERVER_REPLY
1336846489739: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846489796: Received UDP payload: 3790
1336846489800: mux: GOT CSM_Msg
1336846489800: forwarding disabled, not forwarding packets
1336846489818: inside sendPacket(Packet p)
1336846489820: Sending UDP payload: 446
1336846489859: Received UDP payload: 3443
1336846489861: mux: Inside Packet.SERVER_REPLY
1336846489861: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846489884: Received UDP payload: 446
1336846489886: mux: Inside mux Packet.CLIENT_REQUEST
1336846490387: Received UDP payload: 642
1336846490391: mux: Inside mux Packet.CLIENT_REQUEST
1336846490431: Received UDP payload: 1006
1336846490439: mux: GOT CSM_Msg
1336846490440: forwarding disabled, not forwarding packets
1336846490443: Received UDP payload: 446
1336846490447: mux: Inside Packet.SERVER_REPLY
1336846490447: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846490514: Received UDP payload: 3790
1336846490516: mux: GOT CSM_Msg
1336846490516: forwarding disabled, not forwarding packets
1336846490524: Received UDP payload: 446
1336846490566: Received UDP payload: 3443
1336846490568: mux: Inside Packet.SERVER_REPLY
1336846490568: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846490585: Received UDP payload: 446
1336846490586: mux: Inside mux Packet.CLIENT_REQUEST
1336846490625: Received UDP payload: 446
1336846490997: Received UDP payload: 446
1336846491257: Received UDP payload: 1006
1336846491266: mux: GOT CSM_Msg
1336846491266: forwarding disabled, not forwarding packets
1336846491345: Received UDP payload: 3790
1336846491347: mux: GOT CSM_Msg
1336846491347: forwarding disabled, not forwarding packets
1336846491763: Received UDP payload: 446
1336846494256: Received UDP payload: 446
1336846494821: inside sendPacket(Packet p)
1336846494824: Sending UDP payload: 446
1336846495540: Received UDP payload: 446
1336846495642: Received UDP payload: 446
1336846496012: Received UDP payload: 446
1336846496776: Received UDP payload: 446
1336846498808: Received UDP payload: 1006
1336846498817: mux: GOT CSM_Msg
1336846498817: forwarding disabled, not forwarding packets
1336846498860: Received UDP payload: 3790
1336846498867: mux: GOT CSM_Msg
1336846498867: forwarding disabled, not forwarding packets
1336846499077: Received UDP payload: 1006
1336846499084: mux: GOT CSM_Msg
1336846499085: forwarding disabled, not forwarding packets
1336846499133: Received UDP payload: 3790
1336846499140: mux: GOT CSM_Msg
1336846499140: forwarding disabled, not forwarding packets
1336846499262: Received UDP payload: 446
1336846499821: inside sendPacket(Packet p)
1336846499849: Sending UDP payload: 446
1336846500546: Received UDP payload: 446
1336846500642: Received UDP payload: 446
1336846501311: Received UDP payload: 446
1336846501802: Received UDP payload: 446
1336846504275: Received UDP payload: 446
1336846504836: inside sendPacket(Packet p)
1336846504846: Sending UDP payload: 446
1336846505074: Received UDP payload: 1006
1336846505089: mux: GOT CSM_Msg
1336846505089: forwarding disabled, not forwarding packets
1336846505161: Received UDP payload: 3790
1336846505163: mux: GOT CSM_Msg
1336846505163: forwarding disabled, not forwarding packets
1336846505543: Received UDP payload: 446
1336846505648: Received UDP payload: 446
1336846505663: Received UDP payload: 642
1336846505666: mux: Inside mux Packet.CLIENT_REQUEST
1336846505666: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846505666: inside handleClientRequest. Originator leader of region 5
1336846505667: got new request, requestCounter = 5013021
1336846505667: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846505671: Sending to region: 2
1336846505672: Sending PROC_REQUEST 11:2 (5,0)->(2,0)
1336846505672: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(2,0)
1336846505674: mux: I got a CSM packet at a leader 

1336846505673: Note down new request by adding requestCounter=5013021 to HashMap processedRequests
1336846505673: Make FirstLeg Ack regardless of new or already-processed requests
1336846505673: The leader sending a First Leg ack to originator client (which id = 5013)
1336846505673: inside sendPacket(Packet p)
1336846505685: Sending UDP payload: 1006
1336846505686: forwarding disabled, not forwarding packets
1336846505688: Sending UDP payload: 446
1336846505868: Received UDP payload: 3790
1336846505875: mux: GOT CSM_Msg
1336846505876: Received PROC_REPLY 11:2 (2,0)->(5,0), handing to UserApp
1336846505877: inside handleDSMReply. Now back in originator leader of region 5
1336846505877: DSM layer: Going to and from remote region took latency = 206
1336846505877: DSM layer: orig leader sent packet at 1336846505671 ~ received reply from remote leader at 1336846505877
1336846505880: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846505880: leader client reply has replyCounter: 501302100
1336846505880: reply packet contains the newest photo/success info from the remote region
1336846505881: inside sendReplies of replyCount = 501302100
1336846505881: =======================
1336846505882: inside sendReplyRepeatingRunnable for replyCount = 501302100
1336846505882: Leader about to send REPLY packet, number: 501302100 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846505883: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846505884: inside sendPacket(Packet p)
1336846505884: === Finished one round of sending REPLY Packet =======
1336846505896: Sending UDP payload: 3443
1336846505960: Received UDP payload: 446
1336846505962: mux: Inside mux Packet.CLIENT_REQUEST
1336846505962: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846505962: inside handleClientRequest. Originator leader of region 5
1336846505962: got new request, requestCounter = 5013022
1336846505962: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501302100
1336846505962: Yay the last leg succeeded. Removing reply runnables ...
1336846505962: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501302100
1336846505963: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501302100
1336846505963: do not send ack for received final_leg_ack
1336846506261: Received UDP payload: 642
1336846506263: mux: Inside mux Packet.CLIENT_REQUEST
1336846506283: Received UDP payload: 1006
1336846506286: mux: GOT CSM_Msg
1336846506286: forwarding disabled, not forwarding packets
1336846506287: Received UDP payload: 446
1336846506289: mux: Inside Packet.SERVER_REPLY
1336846506289: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846506313: Received UDP payload: 446
1336846506373: Received UDP payload: 3790
1336846506376: mux: GOT CSM_Msg
1336846506377: forwarding disabled, not forwarding packets
1336846506421: Received UDP payload: 3443
1336846506423: mux: Inside Packet.SERVER_REPLY
1336846506423: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846506452: Received UDP payload: 446
1336846506454: mux: Inside mux Packet.CLIENT_REQUEST
1336846506710: canPressButton = TRUE
1336846506711: areButtonsEnabled --> false 
1336846506711: get picture disableButtonsR
1336846506711: areButtonsEnabled --> false
1336846506742: one more getNum: 9
1336846506745: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=8 getBad=0 getTimedout=0 getPercent=88%
1336846506745: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846506746: change local requestCounter to 21
1336846506750: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008021 Client in region: 5 Client nodID: 5008
1336846506788: ----------------------------
1336846506789: inside sendRequestPacketRepeatingRunnable for requestCount = 5008021
1336846506789: I'm a leader, my requesting photos packet going to mux directly
1336846506799: --- Finished one round of sending REQUEST Packet ---------
1336846506789: mux: Inside mux Packet.CLIENT_REQUEST
1336846506789: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846506840: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846506789: inside handleClientRequest. Originator leader of region 5
1336846506789: got new request, requestCounter = 5008021
1336846506790: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846506790: Sending to region: 2
1336846506791: Sending PROC_REQUEST 11:3 (5,0)->(2,0)
1336846506791: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1336846506798: mux: I got a CSM packet at a leader 

1336846506792: Note down new request by adding requestCounter=5008021 to HashMap processedRequests
1336846506792: Make FirstLeg Ack regardless of new or already-processed requests
1336846506794: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846506802: Received UDP payload: 446
1336846506802: Sending UDP payload: 1006
1336846506803: forwarding disabled, not forwarding packets
1336846506874: Received UDP payload: 3790
1336846506878: mux: GOT CSM_Msg
1336846506879: Received PROC_REPLY 11:3 (2,0)->(5,0), handing to UserApp
1336846506880: inside handleDSMReply. Now back in originator leader of region 5
1336846506880: DSM layer: Going to and from remote region took latency = 90
1336846506880: DSM layer: orig leader sent packet at 1336846506790 ~ received reply from remote leader at 1336846506880
1336846506900: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846506901: disabling progressdialog due to successful new photo get
1336846506901: Inside _enableButtons
1336846506901: areButtonsEnabled --> true
1336846506901: send final leg ack regardless of new or already-processed reply
1336846506902: inside finalLegAck: change requestCounter to 22
1336846506902: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008022 Client in region: (5,0) Client nodID: 5008
1336846506902: I'm a leader client, my final_leg packet going to mux directly
1336846506904: new client_show_remotephoto reply with replyCounter 500802100
1336846506905: note down new reply by adding replyCounter=500802100 to HashMap processedReplies
1336846506906: leader download remote photo latency = 111
1336846506906: = leader download start 1336846506789 ~ stop 1336846506900
1336846506910: one more getGood: 9
1336846506912: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=9 getBad=0 getTimedout=0 getPercent=100%
1336846506912: adding get latency: 111
1336846506915: Success! Client getting photo from remote region, showing photo...
1336846506915: Remote photo's length: 2762
1336846506882: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846506883: leader client reply has replyCounter: 500802100
1336846506883: reply packet contains the newest photo/success info from the remote region
1336846506883: inside sendReplies of replyCount = 500802100
1336846506884: =======================
1336846506884: inside sendReplyRepeatingRunnable for replyCount = 500802100
1336846506884: Leader about to send REPLY packet, number: 500802100 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846506884: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846506884: === Finished one round of sending REPLY Packet =======
1336846506902: mux: Inside mux Packet.CLIENT_REQUEST
1336846506903: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846506903: inside handleClientRequest. Originator leader of region 5
1336846506903: got new request, requestCounter = 5008022
1336846506903: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500802100
1336846506903: Yay the last leg succeeded. Removing reply runnables ...
1336846506903: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500802100
1336846506903: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500802100
1336846506903: do not send ack for received final_leg_ack
1336846509309: Received UDP payload: 446
1336846509848: inside sendPacket(Packet p)
1336846509851: Sending UDP payload: 446
1336846510543: Received UDP payload: 446
1336846510647: Received UDP payload: 446
1336846511316: Received UDP payload: 446
1336846512063: Received UDP payload: 446
1336846514262: Received UDP payload: 446
1336846514849: inside sendPacket(Packet p)
1336846514852: Sending UDP payload: 446
1336846515556: Received UDP payload: 446
1336846515932: Received UDP payload: 446
1336846516328: Received UDP payload: 446
1336846517070: Received UDP payload: 446
1336846518585: Received UDP payload: 642
1336846518589: mux: Inside mux Packet.CLIENT_REQUEST
1336846518626: Received UDP payload: 1006
1336846518636: mux: GOT CSM_Msg
1336846518637: forwarding disabled, not forwarding packets
1336846518638: Received UDP payload: 446
1336846518641: mux: Inside Packet.SERVER_REPLY
1336846518642: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846518712: Received UDP payload: 3757
1336846518716: mux: GOT CSM_Msg
1336846518716: forwarding disabled, not forwarding packets
1336846518759: Received UDP payload: 3410
1336846518762: mux: Inside Packet.SERVER_REPLY
1336846518762: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846518776: Received UDP payload: 446
1336846518778: mux: Inside mux Packet.CLIENT_REQUEST
1336846519267: Received UDP payload: 446
1336846519851: inside sendPacket(Packet p)
1336846519854: Sending UDP payload: 446
1336846520115: Received UDP payload: 1006
1336846520125: mux: GOT CSM_Msg
1336846520125: forwarding disabled, not forwarding packets
1336846520208: Received UDP payload: 3757
1336846520211: mux: GOT CSM_Msg
1336846520211: forwarding disabled, not forwarding packets
1336846520561: Received UDP payload: 446
1336846520701: Received UDP payload: 1006
1336846520706: mux: GOT CSM_Msg
1336846520706: forwarding disabled, not forwarding packets
1336846520757: Received UDP payload: 3757
1336846520761: mux: GOT CSM_Msg
1336846520761: forwarding disabled, not forwarding packets
1336846520931: Received UDP payload: 446
1336846521331: Received UDP payload: 446
1336846522070: Received UDP payload: 446
1336846524279: Received UDP payload: 446
1336846524776: leader to cloud hearbeat...
1336846525208: inside sendPacket(Packet p)
1336846525226: Sending UDP payload: 446
1336846525479: Received UDP payload: 642
1336846525485: mux: Inside mux Packet.CLIENT_REQUEST
1336846525521: Received UDP payload: 1006
1336846525528: mux: GOT CSM_Msg
1336846525528: forwarding disabled, not forwarding packets
1336846525531: Received UDP payload: 446
1336846525543: mux: Inside Packet.SERVER_REPLY
1336846525543: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846525563: Received UDP payload: 446
1336846525597: Received UDP payload: 3757
1336846525599: mux: GOT CSM_Msg
1336846525599: forwarding disabled, not forwarding packets
1336846525641: Received UDP payload: 3410
1336846525642: mux: Inside Packet.SERVER_REPLY
1336846525643: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846525685: Received UDP payload: 446
1336846525686: mux: Inside mux Packet.CLIENT_REQUEST
1336846525930: Received UDP payload: 446
1336846526334: Received UDP payload: 446
1336846527084: Received UDP payload: 446
1336846528311: Received UDP payload: 1006
1336846528318: mux: GOT CSM_Msg
1336846528319: forwarding disabled, not forwarding packets
1336846528402: Received UDP payload: 3757
1336846528408: mux: GOT CSM_Msg
1336846528409: forwarding disabled, not forwarding packets
1336846529269: Received UDP payload: 446
1336846529951: Received UDP payload: 1006
1336846529957: mux: GOT CSM_Msg
1336846529958: forwarding disabled, not forwarding packets
1336846530000: Received UDP payload: 3757
1336846530007: mux: GOT CSM_Msg
1336846530007: forwarding disabled, not forwarding packets
1336846530228: inside sendPacket(Packet p)
1336846530230: Sending UDP payload: 446
1336846530560: Received UDP payload: 446
1336846530935: Received UDP payload: 446
1336846531342: Received UDP payload: 446
1336846532088: Received UDP payload: 446
1336846534311: Received UDP payload: 446
1336846535069: Received UDP payload: 1006
1336846535079: mux: GOT CSM_Msg
1336846535079: forwarding disabled, not forwarding packets
1336846535215: Received UDP payload: 3757
1336846535221: mux: GOT CSM_Msg
1336846535221: forwarding disabled, not forwarding packets
1336846535229: inside sendPacket(Packet p)
1336846535232: Sending UDP payload: 446
1336846535270: Received UDP payload: 642
1336846535276: mux: Inside mux Packet.CLIENT_REQUEST
1336846535276: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846535276: inside handleClientRequest. Originator leader of region 5
1336846535277: got new request, requestCounter = 5013023
1336846535277: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846535279: Sending to region: 3
1336846535280: Sending PROC_REQUEST 11:2 (5,0)->(3,0)
1336846535281: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(3,0)
1336846535292: mux: I got a CSM packet at a leader 

1336846535282: Note down new request by adding requestCounter=5013023 to HashMap processedRequests
1336846535282: Make FirstLeg Ack regardless of new or already-processed requests
1336846535282: The leader sending a First Leg ack to originator client (which id = 5013)
1336846535291: inside sendPacket(Packet p)
1336846535300: Sending UDP payload: 1006
1336846535301: forwarding disabled, not forwarding packets
1336846535315: Sending UDP payload: 446
1336846535373: Received UDP payload: 3757
1336846535380: mux: GOT CSM_Msg
1336846535381: Received PROC_REPLY 11:2 (3,0)->(5,0), handing to UserApp
1336846535381: inside handleDSMReply. Now back in originator leader of region 5
1336846535381: DSM layer: Going to and from remote region took latency = 102
1336846535382: DSM layer: orig leader sent packet at 1336846535279 ~ received reply from remote leader at 1336846535381
1336846535384: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846535384: leader client reply has replyCounter: 501302300
1336846535385: reply packet contains the newest photo/success info from the remote region
1336846535385: inside sendReplies of replyCount = 501302300
1336846535385: =======================
1336846535386: inside sendReplyRepeatingRunnable for replyCount = 501302300
1336846535387: Leader about to send REPLY packet, number: 501302300 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846535387: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846535387: inside sendPacket(Packet p)
1336846535388: === Finished one round of sending REPLY Packet =======
1336846535391: Sending UDP payload: 3410
1336846535444: Received UDP payload: 446
1336846535447: mux: Inside mux Packet.CLIENT_REQUEST
1336846535448: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846535448: inside handleClientRequest. Originator leader of region 5
1336846535448: got new request, requestCounter = 5013024
1336846535449: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501302300
1336846535449: Yay the last leg succeeded. Removing reply runnables ...
1336846535449: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501302300
1336846535450: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501302300
1336846535450: do not send ack for received final_leg_ack
1336846535562: Received UDP payload: 446
1336846535986: Received UDP payload: 446
1336846536301: Received UDP payload: 642
1336846536303: mux: Inside mux Packet.CLIENT_REQUEST
1336846536337: Received UDP payload: 1006
1336846536339: mux: GOT CSM_Msg
1336846536340: forwarding disabled, not forwarding packets
1336846536345: Received UDP payload: 446
1336846536354: Received UDP payload: 446
1336846536356: mux: Inside Packet.SERVER_REPLY
1336846536356: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846536388: canPressButton = TRUE
1336846536388: areButtonsEnabled --> false 
1336846536388: get picture disableButtonsR
1336846536388: areButtonsEnabled --> false
1336846536440: one more getNum: 10
1336846536441: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=9 getBad=0 getTimedout=0 getPercent=90%
1336846536441: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846536442: change local requestCounter to 23
1336846536443: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008023 Client in region: 5 Client nodID: 5008
1336846536427: Received UDP payload: 3757
1336846536429: mux: GOT CSM_Msg
1336846536429: forwarding disabled, not forwarding packets
1336846536504: ----------------------------
1336846536504: inside sendRequestPacketRepeatingRunnable for requestCount = 5008023
1336846536504: I'm a leader, my requesting photos packet going to mux directly
1336846536513: --- Finished one round of sending REQUEST Packet ---------
1336846536479: Received UDP payload: 3410
1336846536480: mux: Inside Packet.SERVER_REPLY
1336846536480: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846536505: mux: Inside mux Packet.CLIENT_REQUEST
1336846536505: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846536542: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846536505: inside handleClientRequest. Originator leader of region 5
1336846536505: got new request, requestCounter = 5008023
1336846536505: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846536506: Sending to region: 3
1336846536506: Sending PROC_REQUEST 11:3 (5,0)->(3,0)
1336846536507: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(3,0)
1336846536507: mux: I got a CSM packet at a leader 

1336846536507: Note down new request by adding requestCounter=5008023 to HashMap processedRequests
1336846536507: Make FirstLeg Ack regardless of new or already-processed requests
1336846536507: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846536508: Sending UDP payload: 1006
1336846536510: Received UDP payload: 446
1336846536511: mux: Inside mux Packet.CLIENT_REQUEST
1336846536511: forwarding disabled, not forwarding packets
1336846536605: Received UDP payload: 3757
1336846536608: mux: GOT CSM_Msg
1336846536612: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846536613: disabling progressdialog due to successful new photo get
1336846536613: Inside _enableButtons
1336846536613: areButtonsEnabled --> true
1336846536613: send final leg ack regardless of new or already-processed reply
1336846536613: inside finalLegAck: change requestCounter to 24
1336846536614: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008024 Client in region: (5,0) Client nodID: 5008
1336846536614: I'm a leader client, my final_leg packet going to mux directly
1336846536617: new client_show_remotephoto reply with replyCounter 500802300
1336846536617: note down new reply by adding replyCounter=500802300 to HashMap processedReplies
1336846536617: leader download remote photo latency = 108
1336846536620: = leader download start 1336846536504 ~ stop 1336846536612
1336846536621: one more getGood: 10
1336846536622: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=10 getBad=0 getTimedout=0 getPercent=100%
1336846536622: adding get latency: 108
1336846536622: Success! Client getting photo from remote region, showing photo...
1336846536623: Remote photo's length: 2729
1336846536609: Received PROC_REPLY 11:3 (3,0)->(5,0), handing to UserApp
1336846536609: inside handleDSMReply. Now back in originator leader of region 5
1336846536609: DSM layer: Going to and from remote region took latency = 103
1336846536609: DSM layer: orig leader sent packet at 1336846536506 ~ received reply from remote leader at 1336846536609
1336846536610: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846536610: leader client reply has replyCounter: 500802300
1336846536610: reply packet contains the newest photo/success info from the remote region
1336846536610: inside sendReplies of replyCount = 500802300
1336846536611: =======================
1336846536611: inside sendReplyRepeatingRunnable for replyCount = 500802300
1336846536611: Leader about to send REPLY packet, number: 500802300 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846536611: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846536611: === Finished one round of sending REPLY Packet =======
1336846536614: mux: Inside mux Packet.CLIENT_REQUEST
1336846536614: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846536615: inside handleClientRequest. Originator leader of region 5
1336846536615: got new request, requestCounter = 5008024
1336846536615: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500802300
1336846536615: Yay the last leg succeeded. Removing reply runnables ...
1336846536615: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500802300
1336846536615: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500802300
1336846536615: do not send ack for received final_leg_ack
1336846537071: Received UDP payload: 446
1336846539324: Received UDP payload: 446
1336846540231: inside sendPacket(Packet p)
1336846540257: Sending UDP payload: 446
1336846540571: Received UDP payload: 446
1336846541012: Received UDP payload: 446
1336846541355: Received UDP payload: 446
1336846542136: Received UDP payload: 446
1336846544292: Received UDP payload: 446
1336846545231: inside sendPacket(Packet p)
1336846545246: Sending UDP payload: 446
1336846545590: Received UDP payload: 446
1336846545957: Received UDP payload: 446
1336846546359: Received UDP payload: 446
1336846546911: Received UDP payload: 642
1336846546919: mux: Inside mux Packet.CLIENT_REQUEST
1336846546962: Received UDP payload: 1006
1336846546977: mux: GOT CSM_Msg
1336846546977: forwarding disabled, not forwarding packets
1336846546994: Received UDP payload: 446
1336846546996: mux: Inside Packet.SERVER_REPLY
1336846546996: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846547017: Received UDP payload: 3734
1336846547019: mux: GOT CSM_Msg
1336846547019: forwarding disabled, not forwarding packets
1336846547057: Received UDP payload: 3387
1336846547059: mux: Inside Packet.SERVER_REPLY
1336846547059: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846547072: Received UDP payload: 446
1336846547083: Received UDP payload: 446
1336846547084: mux: Inside mux Packet.CLIENT_REQUEST
1336846548213: Received UDP payload: 1006
1336846548220: mux: GOT CSM_Msg
1336846548221: forwarding disabled, not forwarding packets
1336846548297: Received UDP payload: 3734
1336846548299: mux: GOT CSM_Msg
1336846548299: forwarding disabled, not forwarding packets
1336846549277: Received UDP payload: 446
1336846550248: inside sendPacket(Packet p)
1336846550252: Sending UDP payload: 446
1336846550317: Received UDP payload: 1006
1336846550324: mux: GOT CSM_Msg
1336846550325: forwarding disabled, not forwarding packets
1336846550396: Received UDP payload: 3734
1336846550404: mux: GOT CSM_Msg
1336846550404: forwarding disabled, not forwarding packets
1336846550571: Received UDP payload: 446
1336846550945: Received UDP payload: 446
1336846551361: Received UDP payload: 446
1336846551655: Received UDP payload: 642
1336846551660: mux: Inside mux Packet.CLIENT_REQUEST
1336846551699: Received UDP payload: 1006
1336846551709: mux: GOT CSM_Msg
1336846551710: forwarding disabled, not forwarding packets
1336846551710: Received UDP payload: 446
1336846551725: mux: Inside Packet.SERVER_REPLY
1336846551725: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846551755: Received UDP payload: 3734
1336846551757: mux: GOT CSM_Msg
1336846551757: forwarding disabled, not forwarding packets
1336846551836: Received UDP payload: 446
1336846551838: mux: Inside mux Packet.CLIENT_REQUEST
1336846552069: Received UDP payload: 446
1336846554287: Received UDP payload: 446
1336846555251: inside sendPacket(Packet p)
1336846555254: Sending UDP payload: 446
1336846555530: Received UDP payload: 1006
1336846555537: mux: GOT CSM_Msg
1336846555537: forwarding disabled, not forwarding packets
1336846555587: Received UDP payload: 446
1336846555598: Received UDP payload: 1006
1336846555605: mux: GOT CSM_Msg
1336846555605: forwarding disabled, not forwarding packets
1336846555640: Received UDP payload: 3734
1336846555646: mux: GOT CSM_Msg
1336846555646: forwarding disabled, not forwarding packets
1336846555688: Received UDP payload: 3734
1336846555690: mux: GOT CSM_Msg
1336846555690: forwarding disabled, not forwarding packets
1336846555951: Received UDP payload: 446
1336846556365: Received UDP payload: 446
1336846557096: Received UDP payload: 446
1336846559298: Received UDP payload: 446
1336846560252: inside sendPacket(Packet p)
1336846560253: Sending UDP payload: 446
1336846560574: Received UDP payload: 446
1336846561013: Received UDP payload: 446
1336846561170: Received UDP payload: 1006
1336846561172: mux: GOT CSM_Msg
1336846561172: forwarding disabled, not forwarding packets
1336846561195: canPressButton = TRUE
1336846561195: areButtonsEnabled --> false 
1336846561196: get picture disableButtonsR
1336846561196: areButtonsEnabled --> false
1336846561224: one more getNum: 11
1336846561225: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=10 getBad=0 getTimedout=0 getPercent=90%
1336846561225: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846561227: change local requestCounter to 25
1336846561230: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008025 Client in region: 5 Client nodID: 5008
1336846561220: Received UDP payload: 3734
1336846561222: mux: GOT CSM_Msg
1336846561222: forwarding disabled, not forwarding packets
1336846561260: ----------------------------
1336846561261: inside sendRequestPacketRepeatingRunnable for requestCount = 5008025
1336846561261: I'm a leader, my requesting photos packet going to mux directly
1336846561268: --- Finished one round of sending REQUEST Packet ---------
1336846561261: mux: Inside mux Packet.CLIENT_REQUEST
1336846561261: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846561310: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846561261: inside handleClientRequest. Originator leader of region 5
1336846561262: got new request, requestCounter = 5008025
1336846561262: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846561264: Sending to region: 4
1336846561264: Sending PROC_REQUEST 11:2 (5,0)->(4,0)
1336846561264: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(4,0)
1336846561265: mux: I got a CSM packet at a leader 

1336846561264: Note down new request by adding requestCounter=5008025 to HashMap processedRequests
1336846561264: Make FirstLeg Ack regardless of new or already-processed requests
1336846561265: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846561268: Sending UDP payload: 1006
1336846561271: forwarding disabled, not forwarding packets
1336846561370: Received UDP payload: 446
1336846561987: Retrying PROC_REQUEST 11:2 (5,0)->(4,0)
1336846561988: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(4,0)
1336846561988: mux: I got a CSM packet at a leader 

1336846561989: Sending UDP payload: 1006
1336846561990: forwarding disabled, not forwarding packets
1336846562074: Received UDP payload: 3734
1336846562076: mux: GOT CSM_Msg
1336846562077: Received PROC_REPLY 11:2 (4,0)->(5,0), handing to UserApp
1336846562077: inside handleDSMReply. Now back in originator leader of region 5
1336846562077: DSM layer: Going to and from remote region took latency = 813
1336846562077: DSM layer: orig leader sent packet at 1336846561264 ~ received reply from remote leader at 1336846562077
1336846562078: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846562078: leader client reply has replyCounter: 500802500
1336846562078: reply packet contains the newest photo/success info from the remote region
1336846562078: inside sendReplies of replyCount = 500802500
1336846562082: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846562082: disabling progressdialog due to successful new photo get
1336846562083: Inside _enableButtons
1336846562084: areButtonsEnabled --> true
1336846562084: send final leg ack regardless of new or already-processed reply
1336846562086: inside finalLegAck: change requestCounter to 26
1336846562086: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008026 Client in region: (5,0) Client nodID: 5008
1336846562087: I'm a leader client, my final_leg packet going to mux directly
1336846562088: new client_show_remotephoto reply with replyCounter 500802500
1336846562088: note down new reply by adding replyCounter=500802500 to HashMap processedReplies
1336846562089: leader download remote photo latency = 821
1336846562091: = leader download start 1336846561261 ~ stop 1336846562082
1336846562093: one more getGood: 11
1336846562094: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=11 getBad=0 getTimedout=0 getPercent=100%
1336846562094: adding get latency: 821
1336846562094: Success! Client getting photo from remote region, showing photo...
1336846562096: Remote photo's length: 2706
1336846562078: =======================
1336846562078: inside sendReplyRepeatingRunnable for replyCount = 500802500
1336846562078: Leader about to send REPLY packet, number: 500802500 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846562079: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846562079: === Finished one round of sending REPLY Packet =======
1336846562087: mux: Inside mux Packet.CLIENT_REQUEST
1336846562087: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846562087: inside handleClientRequest. Originator leader of region 5
1336846562087: got new request, requestCounter = 5008026
1336846562087: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500802500
1336846562087: Yay the last leg succeeded. Removing reply runnables ...
1336846562088: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500802500
1336846562088: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500802500
1336846562088: do not send ack for received final_leg_ack
1336846562089: Received UDP payload: 446
1336846562473: Received UDP payload: 642
1336846562476: mux: Inside mux Packet.CLIENT_REQUEST
1336846562514: Received UDP payload: 1006
1336846562517: mux: GOT CSM_Msg
1336846562517: forwarding disabled, not forwarding packets
1336846562535: Received UDP payload: 446
1336846562536: mux: Inside Packet.SERVER_REPLY
1336846562536: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846562583: Received UDP payload: 3734
1336846562585: mux: GOT CSM_Msg
1336846562585: forwarding disabled, not forwarding packets
1336846562636: Received UDP payload: 446
1336846562638: mux: Inside mux Packet.CLIENT_REQUEST
1336846563011: Received UDP payload: 642
1336846563016: mux: Inside mux Packet.CLIENT_REQUEST
1336846563017: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846563017: inside handleClientRequest. Originator leader of region 5
1336846563018: got new request, requestCounter = 5013025
1336846563018: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846563027: Sending to region: 4
1336846563028: Sending PROC_REQUEST 11:3 (5,0)->(4,0)
1336846563029: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(4,0)
1336846563053: mux: I got a CSM packet at a leader 

1336846563030: Note down new request by adding requestCounter=5013025 to HashMap processedRequests
1336846563030: Make FirstLeg Ack regardless of new or already-processed requests
1336846563030: The leader sending a First Leg ack to originator client (which id = 5013)
1336846563031: inside sendPacket(Packet p)
1336846563069: Sending UDP payload: 1006
1336846563073: forwarding disabled, not forwarding packets
1336846563074: Sending UDP payload: 446
1336846563172: Received UDP payload: 3734
1336846563174: mux: GOT CSM_Msg
1336846563174: Received PROC_REPLY 11:3 (4,0)->(5,0), handing to UserApp
1336846563174: inside handleDSMReply. Now back in originator leader of region 5
1336846563175: DSM layer: Going to and from remote region took latency = 147
1336846563175: DSM layer: orig leader sent packet at 1336846563027 ~ received reply from remote leader at 1336846563174
1336846563175: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846563176: leader client reply has replyCounter: 501302500
1336846563176: reply packet contains the newest photo/success info from the remote region
1336846563176: inside sendReplies of replyCount = 501302500
1336846563181: =======================
1336846563181: inside sendReplyRepeatingRunnable for replyCount = 501302500
1336846563181: Leader about to send REPLY packet, number: 501302500 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846563181: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846563181: inside sendPacket(Packet p)
1336846563181: === Finished one round of sending REPLY Packet =======
1336846563182: Sending UDP payload: 3387
1336846563247: Received UDP payload: 446
1336846563248: mux: Inside mux Packet.CLIENT_REQUEST
1336846563248: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846563248: inside handleClientRequest. Originator leader of region 5
1336846563248: got new request, requestCounter = 5013026
1336846563248: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501302500
1336846563249: Yay the last leg succeeded. Removing reply runnables ...
1336846563249: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501302500
1336846563249: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501302500
1336846563249: do not send ack for received final_leg_ack
1336846564293: Received UDP payload: 446
1336846565252: inside sendPacket(Packet p)
1336846565255: Sending UDP payload: 446
1336846565588: Received UDP payload: 446
1336846566030: Received UDP payload: 446
1336846566403: Received UDP payload: 446
1336846567613: Received UDP payload: 446
1336846569306: Received UDP payload: 446
1336846570253: inside sendPacket(Packet p)
1336846570256: Sending UDP payload: 446
1336846570594: Received UDP payload: 446
1336846570734: Received UDP payload: 642
1336846570739: mux: Inside mux Packet.CLIENT_REQUEST
1336846570775: Received UDP payload: 1006
1336846570783: mux: GOT CSM_Msg
1336846570784: removed replies before id 2 from sentReplies of size 0
1336846570785: inside handleDSMRequest. At requests's remote leader of region 5
1336846570786: INSIDE SERVER_GET_PHOTO!!!
1336846570799: Received UDP payload: 446
1336846570806: Received PROC_REQUEST 11:2 (0,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(0,0)
1336846570807: Dispatching Atom PROC_REPLY 11:2 (5,0)->(0,0)
1336846570807: mux: I got a CSM packet at a leader 

1336846570813: mux: Inside Packet.SERVER_REPLY
1336846570813: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846570808: Sending UDP payload: 3777
1336846570813: forwarding disabled, not forwarding packets
1336846570910: Received UDP payload: 3430
1336846570912: mux: Inside Packet.SERVER_REPLY
1336846570912: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846570932: Received UDP payload: 446
1336846570934: mux: Inside mux Packet.CLIENT_REQUEST
1336846570958: Received UDP payload: 446
1336846571388: Received UDP payload: 446
1336846572111: Received UDP payload: 446
1336846572177: Received UDP payload: 1006
1336846572186: mux: GOT CSM_Msg
1336846572187: removed replies before id 3 from sentReplies of size 0
1336846572188: inside handleDSMRequest. At requests's remote leader of region 5
1336846572190: INSIDE SERVER_GET_PHOTO!!!
1336846572206: Received PROC_REQUEST 11:3 (0,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(0,0)
1336846572207: Dispatching Atom PROC_REPLY 11:3 (5,0)->(0,0)
1336846572208: mux: I got a CSM packet at a leader 

1336846572223: Sending UDP payload: 3777
1336846572226: forwarding disabled, not forwarding packets
1336846574308: Received UDP payload: 446
1336846574363: Received UDP payload: 1006
1336846574370: mux: GOT CSM_Msg
1336846574371: removed replies before id 2 from sentReplies of size 0
1336846574371: inside handleDSMRequest. At requests's remote leader of region 5
1336846574374: INSIDE SERVER_GET_PHOTO!!!
1336846574379: Received PROC_REQUEST 11:2 (1,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(1,0)
1336846574381: Dispatching Atom PROC_REPLY 11:2 (5,0)->(1,0)
1336846574383: mux: I got a CSM packet at a leader 

1336846574390: Sending UDP payload: 3777
1336846574392: forwarding disabled, not forwarding packets
1336846575254: inside sendPacket(Packet p)
1336846575265: Sending UDP payload: 446
1336846575605: Received UDP payload: 446
1336846575646: Received UDP payload: 642
1336846575651: mux: Inside mux Packet.CLIENT_REQUEST
1336846575693: Received UDP payload: 1006
1336846575699: mux: GOT CSM_Msg
1336846575700: removed replies before id 3 from sentReplies of size 0
1336846575700: inside handleDSMRequest. At requests's remote leader of region 5
1336846575702: INSIDE SERVER_GET_PHOTO!!!
1336846575708: Received PROC_REQUEST 11:3 (1,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(1,0)
1336846575714: Received UDP payload: 446
1336846575721: mux: Inside Packet.SERVER_REPLY
1336846575721: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846575720: Dispatching Atom PROC_REPLY 11:3 (5,0)->(1,0)
1336846575721: mux: I got a CSM packet at a leader 

1336846575722: Sending UDP payload: 3777
1336846575724: forwarding disabled, not forwarding packets
1336846575809: Received UDP payload: 3430
1336846575811: mux: Inside Packet.SERVER_REPLY
1336846575811: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846575846: Received UDP payload: 446
1336846575848: mux: Inside mux Packet.CLIENT_REQUEST
1336846575961: Received UDP payload: 446
1336846576390: Received UDP payload: 446
1336846577108: Received UDP payload: 446
1336846579000: Received UDP payload: 1006
1336846579008: mux: GOT CSM_Msg
1336846579009: removed replies before id 1 from sentReplies of size 0
1336846579009: inside handleDSMRequest. At requests's remote leader of region 5
1336846579011: INSIDE SERVER_GET_PHOTO!!!
1336846579027: Received PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1336846579028: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1336846579029: mux: I got a CSM packet at a leader 

1336846579041: Sending UDP payload: 3777
1336846579046: forwarding disabled, not forwarding packets
1336846579397: Received UDP payload: 446
1336846579651: Received UDP payload: 1006
1336846579656: mux: GOT CSM_Msg
1336846579657: removed replies before id 1 from sentReplies of size 0
1336846579658: inside handleDSMRequest. At requests's remote leader of region 5
1336846579661: INSIDE SERVER_GET_PHOTO!!!
1336846579683: Received PROC_REQUEST 11:1 (2,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(2,0)
1336846579684: Dispatching Atom PROC_REPLY 11:1 (5,0)->(2,0)
1336846579685: mux: I got a CSM packet at a leader 

1336846579689: Sending UDP payload: 3777
1336846579692: forwarding disabled, not forwarding packets
1336846580255: inside sendPacket(Packet p)
1336846580257: Sending UDP payload: 446
1336846580612: Received UDP payload: 446
1336846580971: Received UDP payload: 446
1336846581396: Received UDP payload: 446
1336846582144: Received UDP payload: 446
1336846583627: Received UDP payload: 642
1336846583631: mux: Inside mux Packet.CLIENT_REQUEST
1336846583631: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846583632: inside handleClientRequest. Originator leader of region 5
1336846583632: got new request, requestCounter = 5013027
1336846583632: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846583634: Sending to region: 5
1336846583636: Sending PROC_REQUEST 11:6 (5,0)->(5,0)
1336846583653: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(5,0)
1336846583655: mux: I got a CSM packet at a leader 

1336846583654: Note down new request by adding requestCounter=5013027 to HashMap processedRequests
1336846583654: Make FirstLeg Ack regardless of new or already-processed requests
1336846583654: The leader sending a First Leg ack to originator client (which id = 5013)
1336846583655: inside sendPacket(Packet p)
1336846583659: Sending UDP payload: 1006
1336846583661: removed replies before id 6 from sentReplies of size 0
1336846583662: inside handleDSMRequest. At requests's remote leader of region 5
1336846583664: INSIDE SERVER_GET_PHOTO!!!
1336846583665: dst_region == src_region = 5
1336846583666:  1 self to self atomRequest
1336846583669: Received PROC_REQUEST 11:6 (5,0)->(5,0), replying PROC_REPLY 11:6 (5,0)->(5,0)
1336846583670: Dispatching Atom PROC_REPLY 11:6 (5,0)->(5,0)
1336846583696: mux: I got a CSM packet at a leader 

1336846583695: Sending UDP payload: 446
1336846583697: Sending UDP payload: 3777
1336846583698: Received PROC_REPLY 11:6 (5,0)->(5,0), handing to UserApp
1336846583698: inside handleDSMReply. Now back in originator leader of region 5
1336846583698: DSM layer: Going to and from remote region took latency = 63
1336846583698: DSM layer: orig leader sent packet at 1336846583635 ~ received reply from remote leader at 1336846583698
1336846583699: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846583699: leader client reply has replyCounter: 501302700
1336846583699: reply packet contains the newest photo/success info from the remote region
1336846583699: inside sendReplies of replyCount = 501302700
1336846583700: =======================
1336846583700: inside sendReplyRepeatingRunnable for replyCount = 501302700
1336846583700: Leader about to send REPLY packet, number: 501302700 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846583700: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846583700: inside sendPacket(Packet p)
1336846583700: === Finished one round of sending REPLY Packet =======
1336846583701: Sending UDP payload: 3430
1336846583800: Received UDP payload: 446
1336846583801: mux: Inside mux Packet.CLIENT_REQUEST
1336846583802: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846583802: inside handleClientRequest. Originator leader of region 5
1336846583802: got new request, requestCounter = 5013028
1336846583802: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501302700
1336846583802: Yay the last leg succeeded. Removing reply runnables ...
1336846583802: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501302700
1336846583802: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501302700
1336846583802: do not send ack for received final_leg_ack
1336846584315: Received UDP payload: 446
1336846584668: Received UDP payload: 1006
1336846584681: mux: GOT CSM_Msg
1336846584682: removed replies before id 2 from sentReplies of size 0
1336846584682: inside handleDSMRequest. At requests's remote leader of region 5
1336846584684: INSIDE SERVER_GET_PHOTO!!!
1336846584689: Received PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1336846584690: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1336846584691: mux: I got a CSM packet at a leader 

1336846584727: Sending UDP payload: 3777
1336846584747: forwarding disabled, not forwarding packets
1336846584910: canPressButton = TRUE
1336846584910: areButtonsEnabled --> false 
1336846584910: get picture disableButtonsR
1336846584910: areButtonsEnabled --> false
1336846584942: one more getNum: 12
1336846584944: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=11 getBad=0 getTimedout=0 getPercent=91%
1336846584945: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846584945: change local requestCounter to 27
1336846584953: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008027 Client in region: 5 Client nodID: 5008
1336846585012: ----------------------------
1336846585013: inside sendRequestPacketRepeatingRunnable for requestCount = 5008027
1336846585014: I'm a leader, my requesting photos packet going to mux directly
1336846585015: --- Finished one round of sending REQUEST Packet ---------
1336846585015: mux: Inside mux Packet.CLIENT_REQUEST
1336846585015: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846585047: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846585016: inside handleClientRequest. Originator leader of region 5
1336846585016: got new request, requestCounter = 5008027
1336846585016: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846585019: Sending to region: 5
1336846585020: Sending PROC_REQUEST 11:7 (5,0)->(5,0)
1336846585021: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(5,0)
1336846585031: mux: I got a CSM packet at a leader 

1336846585022: Note down new request by adding requestCounter=5008027 to HashMap processedRequests
1336846585022: Make FirstLeg Ack regardless of new or already-processed requests
1336846585030: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846585036: Sending UDP payload: 1006
1336846585050: removed replies before id 7 from sentReplies of size 0
1336846585051: inside handleDSMRequest. At requests's remote leader of region 5
1336846585052: INSIDE SERVER_GET_PHOTO!!!
1336846585055: dst_region == src_region = 5
1336846585056:  1 self to self atomRequest
1336846585061: Received PROC_REQUEST 11:7 (5,0)->(5,0), replying PROC_REPLY 11:7 (5,0)->(5,0)
1336846585061: Dispatching Atom PROC_REPLY 11:7 (5,0)->(5,0)
1336846585062: mux: I got a CSM packet at a leader 

1336846585086: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846585086: disabling progressdialog due to successful new photo get
1336846585086: Inside _enableButtons
1336846585086: areButtonsEnabled --> true
1336846585087: send final leg ack regardless of new or already-processed reply
1336846585087: inside finalLegAck: change requestCounter to 28
1336846585087: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008028 Client in region: (5,0) Client nodID: 5008
1336846585087: I'm a leader client, my final_leg packet going to mux directly
1336846585089: new client_show_remotephoto reply with replyCounter 500802700
1336846585089: note down new reply by adding replyCounter=500802700 to HashMap processedReplies
1336846585089: leader download remote photo latency = 71
1336846585089: = leader download start 1336846585015 ~ stop 1336846585086
1336846585091: one more getGood: 12
1336846585092: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846585092: adding get latency: 71
1336846585092: Success! Client getting photo from remote region, showing photo...
1336846585093: Remote photo's length: 2749
1336846585064: Sending UDP payload: 3777
1336846585065: Received PROC_REPLY 11:7 (5,0)->(5,0), handing to UserApp
1336846585065: inside handleDSMReply. Now back in originator leader of region 5
1336846585065: DSM layer: Going to and from remote region took latency = 46
1336846585065: DSM layer: orig leader sent packet at 1336846585019 ~ received reply from remote leader at 1336846585065
1336846585072: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846585072: leader client reply has replyCounter: 500802700
1336846585072: reply packet contains the newest photo/success info from the remote region
1336846585072: inside sendReplies of replyCount = 500802700
1336846585072: =======================
1336846585073: inside sendReplyRepeatingRunnable for replyCount = 500802700
1336846585073: Leader about to send REPLY packet, number: 500802700 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846585073: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846585073: === Finished one round of sending REPLY Packet =======
1336846585088: mux: Inside mux Packet.CLIENT_REQUEST
1336846585088: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846585088: inside handleClientRequest. Originator leader of region 5
1336846585088: got new request, requestCounter = 5008028
1336846585088: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500802700
1336846585088: Yay the last leg succeeded. Removing reply runnables ...
1336846585088: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500802700
1336846585088: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500802700
1336846585088: do not send ack for received final_leg_ack
1336846585258: inside sendPacket(Packet p)
1336846585259: Sending UDP payload: 446
1336846585618: Received UDP payload: 446
1336846585973: Received UDP payload: 446
1336846586414: Received UDP payload: 446
1336846587128: Received UDP payload: 446
1336846589318: Received UDP payload: 446
1336846590260: inside sendPacket(Packet p)
1336846590263: Sending UDP payload: 446
1336846590293: Received UDP payload: 642
1336846590299: mux: Inside mux Packet.CLIENT_REQUEST
1336846590332: Received UDP payload: 1006
1336846590334: mux: GOT CSM_Msg
1336846590335: removed replies before id 3 from sentReplies of size 0
1336846590335: inside handleDSMRequest. At requests's remote leader of region 5
1336846590335: INSIDE SERVER_GET_PHOTO!!!
1336846590337: Received PROC_REQUEST 11:3 (4,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(4,0)
1336846590338: Dispatching Atom PROC_REPLY 11:3 (5,0)->(4,0)
1336846590338: mux: I got a CSM packet at a leader 

1336846590339: Sending UDP payload: 3777
1336846590341: Received UDP payload: 446
1336846590342: forwarding disabled, not forwarding packets
1336846590343: mux: Inside Packet.SERVER_REPLY
1336846590343: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846590429: Received UDP payload: 3430
1336846590431: mux: Inside Packet.SERVER_REPLY
1336846590431: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846590471: Received UDP payload: 446
1336846590473: mux: Inside mux Packet.CLIENT_REQUEST
1336846590614: Received UDP payload: 446
1336846590984: Received UDP payload: 446
1336846592143: Received UDP payload: 446
1336846594316: Received UDP payload: 446
1336846595261: inside sendPacket(Packet p)
1336846595264: Sending UDP payload: 446
1336846595623: Received UDP payload: 446
1336846596046: Received UDP payload: 446
1336846596424: Received UDP payload: 446
1336846597174: Received UDP payload: 446
1336846599366: Received UDP payload: 446
1336846600261: inside sendPacket(Packet p)
1336846600264: Sending UDP payload: 446
1336846600656: Received UDP payload: 446
1336846600994: Received UDP payload: 446
1336846601434: Received UDP payload: 446
1336846602134: Received UDP payload: 446
1336846604322: Received UDP payload: 446
1336846605263: inside sendPacket(Packet p)
1336846605267: Sending UDP payload: 446
1336846605647: Received UDP payload: 446
1336846606004: Received UDP payload: 446
1336846606514: Received UDP payload: 446
1336846609350: Received UDP payload: 446
1336846610223: Received UDP payload: 1006
1336846610237: mux: GOT CSM_Msg
1336846610238: forwarding disabled, not forwarding packets
1336846610264: inside sendPacket(Packet p)
1336846610267: Sending UDP payload: 446
1336846610359: Received UDP payload: 3474
1336846610360: mux: Inside mux Packet.CLIENT_REQUEST
1336846610419: Received UDP payload: 3474
1336846610421: mux: Inside mux Packet.CLIENT_REQUEST
1336846610427: Received UDP payload: 3838
1336846610430: mux: GOT CSM_Msg
1336846610430: forwarding disabled, not forwarding packets
1336846610433: Received UDP payload: 446
1336846610435: mux: Inside Packet.SERVER_REPLY
1336846610435: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846610489: Received UDP payload: 1006
1336846610492: mux: GOT CSM_Msg
1336846610492: forwarding disabled, not forwarding packets
1336846610506: Received UDP payload: 659
1336846610508: mux: Inside Packet.SERVER_REPLY
1336846610508: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846610515: Received UDP payload: 446
1336846610517: mux: Inside Packet.SERVER_REPLY
1336846610517: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846610522: Received UDP payload: 446
1336846610524: mux: Inside Packet.SERVER_REPLY
1336846610524: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846610541: Received UDP payload: 446
1336846610543: mux: Inside mux Packet.CLIENT_REQUEST
1336846610634: Received UDP payload: 446
1336846611006: Received UDP payload: 446
1336846611440: Received UDP payload: 446
1336846612146: Received UDP payload: 446
1336846613068: Received UDP payload: 3412
1336846613073: mux: Inside mux Packet.CLIENT_REQUEST
1336846613163: Received UDP payload: 3776
1336846613170: mux: GOT CSM_Msg
1336846613171: forwarding disabled, not forwarding packets
1336846613171: Received UDP payload: 446
1336846613175: mux: Inside Packet.SERVER_REPLY
1336846613175: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846613194: Received UDP payload: 1006
1336846613200: mux: GOT CSM_Msg
1336846613200: forwarding disabled, not forwarding packets
1336846613201: Received UDP payload: 659
1336846613205: mux: Inside Packet.SERVER_REPLY
1336846613206: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846613209: Received UDP payload: 446
1336846613223: mux: Inside mux Packet.CLIENT_REQUEST
1336846614315: Received UDP payload: 446
1336846615265: inside sendPacket(Packet p)
1336846615268: Sending UDP payload: 446
1336846615636: Received UDP payload: 446
1336846616009: Received UDP payload: 446
1336846616447: Received UDP payload: 446
1336846616528: Received UDP payload: 3748
1336846616535: mux: GOT CSM_Msg
1336846616536: forwarding disabled, not forwarding packets
1336846616553: Received UDP payload: 1006
1336846616559: mux: GOT CSM_Msg
1336846616560: forwarding disabled, not forwarding packets
1336846617137: Received UDP payload: 446
1336846619327: Received UDP payload: 446
1336846620266: inside sendPacket(Packet p)
1336846620268: Sending UDP payload: 446
1336846620638: Received UDP payload: 446
1336846621014: Received UDP payload: 446
1336846621731: Received UDP payload: 446
1336846622150: Received UDP payload: 446
1336846624413: Received UDP payload: 446
1336846625267: inside sendPacket(Packet p)
1336846625270: Sending UDP payload: 446
1336846625649: Received UDP payload: 446
1336846626042: Received UDP payload: 446
1336846626525: Received UDP payload: 3734
1336846626538: mux: GOT CSM_Msg
1336846626538: forwarding disabled, not forwarding packets
1336846626553: Received UDP payload: 1006
1336846626560: mux: GOT CSM_Msg
1336846626561: forwarding disabled, not forwarding packets
1336846626754: Received UDP payload: 446
1336846626872: Received UDP payload: 1006
1336846626881: mux: GOT CSM_Msg
1336846626882: forwarding disabled, not forwarding packets
1336846627159: Received UDP payload: 446
1336846629342: Received UDP payload: 446
1336846630269: inside sendPacket(Packet p)
1336846630276: Sending UDP payload: 446
1336846630650: Received UDP payload: 446
1336846631052: Received UDP payload: 446
1336846631741: Received UDP payload: 446
1336846632346: Received UDP payload: 3791
1336846632355: mux: GOT CSM_Msg
1336846632356: forwarding disabled, not forwarding packets
1336846632363: Received UDP payload: 1006
1336846632369: mux: GOT CSM_Msg
1336846632369: forwarding disabled, not forwarding packets
1336846632523: Received UDP payload: 446
1336846633468: Received UDP payload: 3370
1336846633472: mux: Inside mux Packet.CLIENT_REQUEST
1336846633473: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846633473: inside handleClientRequest. Originator leader of region 5
1336846633474: got new request, requestCounter = 5013029
1336846633474: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846633475: Sending PROC_REQUEST 10:8 (5,0)->(5,0)
1336846633477: Dispatching Atom PROC_REQUEST 10:8 (5,0)->(5,0)
1336846633479: mux: I got a CSM packet at a leader 

1336846633571: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846633572: I'm a leader and I successfully saved my client's new photo
1336846633572: now showing in UI the new photo I just saved ... 
1336846633577: the photo length: 2706
1336846633641: end of server show photo aside %%%%%%%%%
1336846633477: Note down new request by adding requestCounter=5013029 to HashMap processedRequests
1336846633478: Make FirstLeg Ack regardless of new or already-processed requests
1336846633478: The leader sending a First Leg ack to originator client (which id = 5013)
1336846633478: inside sendPacket(Packet p)
1336846633523: Sending UDP payload: 3734
1336846633527: removed replies before id 8 from sentReplies of size 0
1336846633527: inside handleDSMRequest. At requests's remote leader of region 5
1336846633529: Inside UPLOAD_PHOTO!!
1336846633541: my_gpinfo.isSuccess is now (should be true): true
1336846633541: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846633565: Received PROC_REQUEST 10:8 (5,0)->(5,0), replying PROC_REPLY 10:8 (5,0)->(5,0)
1336846633565: Dispatching Atom PROC_REPLY 10:8 (5,0)->(5,0)
1336846633567: mux: I got a CSM packet at a leader 

1336846633566: Sending UDP payload: 446
1336846633568: Sending UDP payload: 1006
1336846633573: Received PROC_REPLY 10:8 (5,0)->(5,0), handing to UserApp
1336846633573: inside handleDSMReply. Now back in originator leader of region 5
1336846633573: DSM layer: Going to and from remote region took latency = 99
1336846633573: DSM layer: orig leader sent packet at 1336846633474 ~ received reply from remote leader at 1336846633573
1336846633574: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846633574: leader client reply has replyCounter: 501302900
1336846633574: reply packet contains the success info for UPLOAD_PHOTO
1336846633574: inside sendReplies of replyCount = 501302900
1336846633575: =======================
1336846633575: inside sendReplyRepeatingRunnable for replyCount = 501302900
1336846633575: Leader about to send REPLY packet, number: 501302900 type: 16 Leader in region: (5,0) to Client nodID: 5013
1336846633575: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846633575: inside sendPacket(Packet p)
1336846633575: === Finished one round of sending REPLY Packet =======
1336846633576: Sending UDP payload: 659
1336846633632: Received UDP payload: 446
1336846633635: mux: Inside mux Packet.CLIENT_REQUEST
1336846633635: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846633635: inside handleClientRequest. Originator leader of region 5
1336846633636: got new request, requestCounter = 5013030
1336846633636: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501302900
1336846633636: Yay the last leg succeeded. Removing reply runnables ...
1336846633636: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501302900
1336846633636: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501302900
1336846633636: do not send ack for received final_leg_ack
1336846634249: canPressButton = TRUE
1336846634249: areButtonsEnabled --> false
1336846634249: disabling buttons ...
1336846634249: took picture disableButtonsR
1336846634250: areButtonsEnabled --> false
1336846634267: one more takeNum: 3
1336846634268: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846634269: Clicked take picture button ..
1336846634340: Received UDP payload: 3447
1336846634342: mux: Inside mux Packet.CLIENT_REQUEST
1336846634351: Received UDP payload: 446
1336846634422: Received UDP payload: 3811
1336846634426: mux: GOT CSM_Msg
1336846634426: forwarding disabled, not forwarding packets
1336846634431: Received UDP payload: 446
1336846634432: mux: Inside Packet.SERVER_REPLY
1336846634432: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846634443: Received UDP payload: 1006
1336846634445: mux: GOT CSM_Msg
1336846634445: forwarding disabled, not forwarding packets
1336846634451: Received UDP payload: 659
1336846634453: mux: Inside Packet.SERVER_REPLY
1336846634453: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846634468: Received UDP payload: 446
1336846634470: mux: Inside mux Packet.CLIENT_REQUEST
1336846635270: inside sendPacket(Packet p)
1336846635283: Sending UDP payload: 446
1336846635531: inside HandlePictureStorage onPictureTaken()
1336846635531: one more takeCamGood: 3
1336846635532: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846636020: Picture successfully taken, ORIG BYTE LENGTH = 1701520
1336846636183: Our new height x width: 306 x 408
1336846636183: Show photo from handle my camera take
1336846636183: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846636184: change local requestCounter to 29
1336846636198: BYTE SIZE AFTER COMPRESSION: 2740
1336846636206: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5008029 Client in region: 5 Client nodID: 5008
1336846635654: Received UDP payload: 446
1336846636234: ----------------------------
1336846636234: inside sendRequestPacketRepeatingRunnable for requestCount = 5008029
1336846636234: I'm a leader, my requesting photos packet going to mux directly
1336846636244: --- Finished one round of sending REQUEST Packet ---------
1336846636234: mux: Inside mux Packet.CLIENT_REQUEST
1336846636235: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846636288: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846636235: inside handleClientRequest. Originator leader of region 5
1336846636235: got new request, requestCounter = 5008029
1336846636235: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846636235: Sending PROC_REQUEST 10:9 (5,0)->(5,0)
1336846636236: Dispatching Atom PROC_REQUEST 10:9 (5,0)->(5,0)
1336846636236: mux: I got a CSM packet at a leader 

1336846636289: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846636290: I'm a leader and I successfully saved my client's new photo
1336846636291: now showing in UI the new photo I just saved ... 
1336846636292: the photo length: 2740
1336846636330: end of server show photo aside %%%%%%%%%
1336846636236: Note down new request by adding requestCounter=5008029 to HashMap processedRequests
1336846636236: Make FirstLeg Ack regardless of new or already-processed requests
1336846636236: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846636243: Sending UDP payload: 3768
1336846636254: removed replies before id 9 from sentReplies of size 0
1336846636254: inside handleDSMRequest. At requests's remote leader of region 5
1336846636258: Inside UPLOAD_PHOTO!!
1336846636269: my_gpinfo.isSuccess is now (should be true): true
1336846636269: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846636271: Received PROC_REQUEST 10:9 (5,0)->(5,0), replying PROC_REPLY 10:9 (5,0)->(5,0)
1336846636272: Dispatching Atom PROC_REPLY 10:9 (5,0)->(5,0)
1336846636272: mux: I got a CSM packet at a leader 

1336846636332: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846636333: disabling progressdialog due to successful new photo upload
1336846636333: Inside _enableButtons
1336846636334: areButtonsEnabled --> true
1336846636334: send final leg ack regardless of new or already-processed reply
1336846636334: inside finalLegAck: change requestCounter to 30
1336846636335: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008030 Client in region: (5,0) Client nodID: 5008
1336846636335: I'm a leader client, my final_leg packet going to mux directly
1336846636337: new client_upload_photo_ack reply with replyCounter 500802900
1336846636337: note down new reply by adding replyCounter=500802900 to HashMap processedReplies
1336846636338: leader upload new photo latency = 98
1336846636338: = leader upload start 1336846636234 ~ stop 1336846636332
1336846636339: one more takeGoodSave: 3
1336846636341: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846636342: adding take latency: 98
1336846636342: SUCCESS Client now knows saving photo on its leader succeeded
1336846636274: Sending UDP payload: 1006
1336846636281: Received PROC_REPLY 10:9 (5,0)->(5,0), handing to UserApp
1336846636281: inside handleDSMReply. Now back in originator leader of region 5
1336846636282: DSM layer: Going to and from remote region took latency = 46
1336846636282: DSM layer: orig leader sent packet at 1336846636235 ~ received reply from remote leader at 1336846636281
1336846636283: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846636283: leader client reply has replyCounter: 500802900
1336846636283: reply packet contains the success info for UPLOAD_PHOTO
1336846636283: inside sendReplies of replyCount = 500802900
1336846636284: =======================
1336846636284: inside sendReplyRepeatingRunnable for replyCount = 500802900
1336846636285: Leader about to send REPLY packet, number: 500802900 type: 16 Leader in region: (5,0) to Client nodID: 5008
1336846636285: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846636285: === Finished one round of sending REPLY Packet =======
1336846636336: mux: Inside mux Packet.CLIENT_REQUEST
1336846636336: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846636336: inside handleClientRequest. Originator leader of region 5
1336846636336: got new request, requestCounter = 5008030
1336846636336: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500802900
1336846636336: Yay the last leg succeeded. Removing reply runnables ...
1336846636336: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500802900
1336846636337: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500802900
1336846636337: do not send ack for received final_leg_ack
1336846636362: Received UDP payload: 446
1336846636771: Received UDP payload: 446
1336846637478: Received UDP payload: 446
1336846639422: Received UDP payload: 446
1336846640273: inside sendPacket(Packet p)
1336846640276: Sending UDP payload: 446
1336846640669: Received UDP payload: 446
1336846641367: Received UDP payload: 446
1336846641761: Received UDP payload: 446
1336846642480: Received UDP payload: 446
1336846644363: Received UDP payload: 446
1336846645208: leader to cloud hearbeat...
1336846645632: inside sendPacket(Packet p)
1336846645645: Sending UDP payload: 446
1336846645693: Received UDP payload: 446
1336846646429: Received UDP payload: 446
1336846646832: Received UDP payload: 446
1336846647540: Received UDP payload: 446
1336846649421: Received UDP payload: 446
1336846650649: inside sendPacket(Packet p)
1336846650658: Sending UDP payload: 446
1336846650686: Received UDP payload: 446
1336846651366: Received UDP payload: 446
1336846651781: Received UDP payload: 446
1336846652496: Received UDP payload: 446
1336846653225: Received UDP payload: 642
1336846653231: mux: Inside mux Packet.CLIENT_REQUEST
1336846653267: Received UDP payload: 1006
1336846653280: mux: GOT CSM_Msg
1336846653280: forwarding disabled, not forwarding packets
1336846653283: Received UDP payload: 446
1336846653295: mux: Inside Packet.SERVER_REPLY
1336846653296: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846653332: Received UDP payload: 3748
1336846653334: mux: GOT CSM_Msg
1336846653335: forwarding disabled, not forwarding packets
1336846653381: Received UDP payload: 3401
1336846653382: mux: Inside Packet.SERVER_REPLY
1336846653382: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846653393: Received UDP payload: 446
1336846653394: mux: Inside mux Packet.CLIENT_REQUEST
1336846654335: Received UDP payload: 1006
1336846654342: mux: GOT CSM_Msg
1336846654342: forwarding disabled, not forwarding packets
1336846654419: Received UDP payload: 3748
1336846654426: mux: GOT CSM_Msg
1336846654426: forwarding disabled, not forwarding packets
1336846654430: Received UDP payload: 446
1336846654721: Received UDP payload: 642
1336846654726: mux: Inside mux Packet.CLIENT_REQUEST
1336846654759: Received UDP payload: 1006
1336846654776: mux: GOT CSM_Msg
1336846654776: forwarding disabled, not forwarding packets
1336846654787: Received UDP payload: 446
1336846654788: mux: Inside Packet.SERVER_REPLY
1336846654788: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846654833: Received UDP payload: 3748
1336846654835: mux: GOT CSM_Msg
1336846654835: forwarding disabled, not forwarding packets
1336846654875: Received UDP payload: 3401
1336846654876: mux: Inside Packet.SERVER_REPLY
1336846654877: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846654890: Received UDP payload: 446
1336846654891: mux: Inside mux Packet.CLIENT_REQUEST
1336846655662: inside sendPacket(Packet p)
1336846655665: Sending UDP payload: 446
1336846655684: Received UDP payload: 446
1336846656409: Received UDP payload: 446
1336846656782: Received UDP payload: 446
1336846657248: Received UDP payload: 1006
1336846657255: mux: GOT CSM_Msg
1336846657255: forwarding disabled, not forwarding packets
1336846657292: Received UDP payload: 3748
1336846657299: mux: GOT CSM_Msg
1336846657299: forwarding disabled, not forwarding packets
1336846657498: Received UDP payload: 446
1336846658656: Received UDP payload: 1006
1336846658662: mux: GOT CSM_Msg
1336846658663: forwarding disabled, not forwarding packets
1336846658741: Received UDP payload: 3748
1336846658748: mux: GOT CSM_Msg
1336846658749: forwarding disabled, not forwarding packets
1336846659381: Received UDP payload: 446
1336846660667: inside sendPacket(Packet p)
1336846660675: Sending UDP payload: 446
1336846660703: Received UDP payload: 446
1336846661457: Received UDP payload: 446
1336846661786: Received UDP payload: 446
1336846662516: Received UDP payload: 446
1336846664427: Received UDP payload: 446
1336846664675: Received UDP payload: 642
1336846664679: mux: Inside mux Packet.CLIENT_REQUEST
1336846664680: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846664680: inside handleClientRequest. Originator leader of region 5
1336846664680: got new request, requestCounter = 5013031
1336846664681: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846664682: Sending to region: 0
1336846664695: Sending PROC_REQUEST 11:4 (5,0)->(0,0)
1336846664696: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(0,0)
1336846664698: mux: I got a CSM packet at a leader 

1336846664696: Note down new request by adding requestCounter=5013031 to HashMap processedRequests
1336846664697: Make FirstLeg Ack regardless of new or already-processed requests
1336846664697: The leader sending a First Leg ack to originator client (which id = 5013)
1336846664697: inside sendPacket(Packet p)
1336846664709: Sending UDP payload: 1006
1336846664711: forwarding disabled, not forwarding packets
1336846664725: Sending UDP payload: 446
1336846664819: Received UDP payload: 3748
1336846664822: mux: GOT CSM_Msg
1336846664823: Received PROC_REPLY 11:4 (0,0)->(5,0), handing to UserApp
1336846664823: inside handleDSMReply. Now back in originator leader of region 5
1336846664823: DSM layer: Going to and from remote region took latency = 129
1336846664824: DSM layer: orig leader sent packet at 1336846664694 ~ received reply from remote leader at 1336846664823
1336846664824: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846664825: leader client reply has replyCounter: 501303100
1336846664825: reply packet contains the newest photo/success info from the remote region
1336846664825: inside sendReplies of replyCount = 501303100
1336846664825: =======================
1336846664825: inside sendReplyRepeatingRunnable for replyCount = 501303100
1336846664826: Leader about to send REPLY packet, number: 501303100 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846664826: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846664826: inside sendPacket(Packet p)
1336846664826: === Finished one round of sending REPLY Packet =======
1336846664827: Sending UDP payload: 3401
1336846664895: Received UDP payload: 446
1336846664897: mux: Inside mux Packet.CLIENT_REQUEST
1336846664897: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846664897: inside handleClientRequest. Originator leader of region 5
1336846664897: got new request, requestCounter = 5013032
1336846664897: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501303100
1336846664897: Yay the last leg succeeded. Removing reply runnables ...
1336846664898: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501303100
1336846664898: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501303100
1336846664898: do not send ack for received final_leg_ack
1336846665677: inside sendPacket(Packet p)
1336846665678: Sending UDP payload: 446
1336846665684: Received UDP payload: 446
1336846665769: canPressButton = TRUE
1336846665770: areButtonsEnabled --> false 
1336846665770: get picture disableButtonsR
1336846665770: areButtonsEnabled --> false
1336846665803: one more getNum: 13
1336846665805: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=12 getBad=0 getTimedout=0 getPercent=92%
1336846665805: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846665806: change local requestCounter to 31
1336846665807: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008031 Client in region: 5 Client nodID: 5008
1336846665841: ----------------------------
1336846665842: inside sendRequestPacketRepeatingRunnable for requestCount = 5008031
1336846665842: I'm a leader, my requesting photos packet going to mux directly
1336846665848: --- Finished one round of sending REQUEST Packet ---------
1336846665843: mux: Inside mux Packet.CLIENT_REQUEST
1336846665843: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846665883: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846665843: inside handleClientRequest. Originator leader of region 5
1336846665843: got new request, requestCounter = 5008031
1336846665843: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846665844: Sending to region: 0
1336846665845: Sending PROC_REQUEST 11:5 (5,0)->(0,0)
1336846665845: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(0,0)
1336846665846: mux: I got a CSM packet at a leader 

1336846665845: Note down new request by adding requestCounter=5008031 to HashMap processedRequests
1336846665845: Make FirstLeg Ack regardless of new or already-processed requests
1336846665845: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846665847: Sending UDP payload: 1006
1336846665848: forwarding disabled, not forwarding packets
1336846665954: Received UDP payload: 3748
1336846665956: mux: GOT CSM_Msg
1336846665959: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846665959: disabling progressdialog due to successful new photo get
1336846665959: Inside _enableButtons
1336846665960: areButtonsEnabled --> true
1336846665960: send final leg ack regardless of new or already-processed reply
1336846665960: inside finalLegAck: change requestCounter to 32
1336846665960: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008032 Client in region: (5,0) Client nodID: 5008
1336846665961: I'm a leader client, my final_leg packet going to mux directly
1336846665961: new client_show_remotephoto reply with replyCounter 500803100
1336846665961: note down new reply by adding replyCounter=500803100 to HashMap processedReplies
1336846665961: leader download remote photo latency = 116
1336846665961: = leader download start 1336846665843 ~ stop 1336846665959
1336846665962: one more getGood: 13
1336846665967: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=13 getBad=0 getTimedout=0 getPercent=100%
1336846665968: adding get latency: 116
1336846665969: Success! Client getting photo from remote region, showing photo...
1336846665969: Remote photo's length: 2720
1336846665956: Received PROC_REPLY 11:5 (0,0)->(5,0), handing to UserApp
1336846665957: inside handleDSMReply. Now back in originator leader of region 5
1336846665957: DSM layer: Going to and from remote region took latency = 113
1336846665957: DSM layer: orig leader sent packet at 1336846665844 ~ received reply from remote leader at 1336846665957
1336846665957: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846665958: leader client reply has replyCounter: 500803100
1336846665958: reply packet contains the newest photo/success info from the remote region
1336846665958: inside sendReplies of replyCount = 500803100
1336846665958: =======================
1336846665958: inside sendReplyRepeatingRunnable for replyCount = 500803100
1336846665958: Leader about to send REPLY packet, number: 500803100 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846665958: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846665958: === Finished one round of sending REPLY Packet =======
1336846665965: mux: Inside mux Packet.CLIENT_REQUEST
1336846665965: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846665966: inside handleClientRequest. Originator leader of region 5
1336846665966: got new request, requestCounter = 5008032
1336846665966: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500803100
1336846665966: Yay the last leg succeeded. Removing reply runnables ...
1336846665966: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500803100
1336846665966: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500803100
1336846665966: do not send ack for received final_leg_ack
1336846666434: Received UDP payload: 446
1336846666784: Received UDP payload: 446
1336846667535: Received UDP payload: 446
1336846669398: Received UDP payload: 446
1336846669981: Received UDP payload: 1006
1336846669991: mux: GOT CSM_Msg
1336846669991: forwarding disabled, not forwarding packets
1336846670055: Received UDP payload: 3748
1336846670057: mux: GOT CSM_Msg
1336846670057: forwarding disabled, not forwarding packets
1336846670679: inside sendPacket(Packet p)
1336846670681: Sending UDP payload: 446
1336846670685: Received UDP payload: 446
1336846671443: Received UDP payload: 446
1336846671794: Received UDP payload: 446
1336846672559: Received UDP payload: 446
1336846674424: Received UDP payload: 446
1336846675682: inside sendPacket(Packet p)
1336846675685: Sending UDP payload: 446
1336846675694: Received UDP payload: 446
1336846676425: Received UDP payload: 446
1336846676798: Received UDP payload: 446
1336846677564: Received UDP payload: 446
1336846678128: Received UDP payload: 1006
1336846678137: mux: GOT CSM_Msg
1336846678137: forwarding disabled, not forwarding packets
1336846678213: Received UDP payload: 3748
1336846678220: mux: GOT CSM_Msg
1336846678220: forwarding disabled, not forwarding packets
1336846679400: Received UDP payload: 446
1336846680683: inside sendPacket(Packet p)
1336846680694: Sending UDP payload: 446
1336846680701: Received UDP payload: 446
1336846680788: Received UDP payload: 642
1336846680792: mux: Inside mux Packet.CLIENT_REQUEST
1336846680834: Received UDP payload: 1006
1336846680841: mux: GOT CSM_Msg
1336846680841: forwarding disabled, not forwarding packets
1336846680853: Received UDP payload: 446
1336846680857: mux: Inside Packet.SERVER_REPLY
1336846680858: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846680923: Received UDP payload: 3748
1336846680925: mux: GOT CSM_Msg
1336846680925: forwarding disabled, not forwarding packets
1336846680994: Received UDP payload: 3401
1336846680996: mux: Inside Packet.SERVER_REPLY
1336846680996: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846681015: Received UDP payload: 446
1336846681016: mux: Inside mux Packet.CLIENT_REQUEST
1336846681420: Received UDP payload: 446
1336846681804: Received UDP payload: 446
1336846682570: Received UDP payload: 446
1336846684452: Received UDP payload: 446
1336846685697: inside sendPacket(Packet p)
1336846685705: Sending UDP payload: 446
1336846685788: Received UDP payload: 446
1336846686479: Received UDP payload: 446
1336846686826: Received UDP payload: 446
1336846687568: Received UDP payload: 446
1336846688628: Received UDP payload: 1006
1336846688637: mux: GOT CSM_Msg
1336846688638: forwarding disabled, not forwarding packets
1336846688670: Received UDP payload: 3776
1336846688676: mux: GOT CSM_Msg
1336846688677: forwarding disabled, not forwarding packets
1336846689471: Received UDP payload: 446
1336846689902: Received UDP payload: 642
1336846689907: mux: Inside mux Packet.CLIENT_REQUEST
1336846689946: Received UDP payload: 1006
1336846689954: mux: GOT CSM_Msg
1336846689955: forwarding disabled, not forwarding packets
1336846689963: Received UDP payload: 446
1336846689964: mux: Inside Packet.SERVER_REPLY
1336846689964: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846690004: Received UDP payload: 3776
1336846690006: mux: GOT CSM_Msg
1336846690006: forwarding disabled, not forwarding packets
1336846690048: Received UDP payload: 3429
1336846690050: mux: Inside Packet.SERVER_REPLY
1336846690050: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846690071: Received UDP payload: 446
1336846690072: mux: Inside mux Packet.CLIENT_REQUEST
1336846690711: Received UDP payload: 446
1336846690713: inside sendPacket(Packet p)
1336846690719: Sending UDP payload: 446
1336846691434: Received UDP payload: 446
1336846691804: Received UDP payload: 446
1336846691811: Received UDP payload: 642
1336846691816: mux: Inside mux Packet.CLIENT_REQUEST
1336846691864: Received UDP payload: 1006
1336846691872: mux: GOT CSM_Msg
1336846691872: forwarding disabled, not forwarding packets
1336846691876: Received UDP payload: 446
1336846691877: mux: Inside Packet.SERVER_REPLY
1336846691878: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846691914: Received UDP payload: 3776
1336846691916: mux: GOT CSM_Msg
1336846691916: forwarding disabled, not forwarding packets
1336846691976: Received UDP payload: 3429
1336846691977: mux: Inside Packet.SERVER_REPLY
1336846691977: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846691987: Received UDP payload: 446
1336846691988: mux: Inside mux Packet.CLIENT_REQUEST
1336846692584: Received UDP payload: 446
1336846694383: Received UDP payload: 1006
1336846694392: mux: GOT CSM_Msg
1336846694392: forwarding disabled, not forwarding packets
1336846694408: Received UDP payload: 446
1336846694470: Received UDP payload: 3776
1336846694472: mux: GOT CSM_Msg
1336846694472: forwarding disabled, not forwarding packets
1336846695714: inside sendPacket(Packet p)
1336846695717: Sending UDP payload: 446
1336846695727: Received UDP payload: 446
1336846696438: Received UDP payload: 446
1336846696812: Received UDP payload: 446
1336846697572: Received UDP payload: 1006
1336846697582: mux: GOT CSM_Msg
1336846697582: forwarding disabled, not forwarding packets
1336846697593: Received UDP payload: 446
1336846697675: Received UDP payload: 3776
1336846697677: mux: GOT CSM_Msg
1336846697677: forwarding disabled, not forwarding packets
1336846699419: Received UDP payload: 446
1336846700716: Received UDP payload: 446
1336846700721: inside sendPacket(Packet p)
1336846700724: Sending UDP payload: 446
1336846701451: Received UDP payload: 446
1336846701865: Received UDP payload: 446
1336846702598: Received UDP payload: 446
1336846702825: Received UDP payload: 642
1336846702829: mux: Inside mux Packet.CLIENT_REQUEST
1336846702830: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846702830: inside handleClientRequest. Originator leader of region 5
1336846702830: got new request, requestCounter = 5013033
1336846702831: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846702832: Sending to region: 1
1336846702846: Sending PROC_REQUEST 11:4 (5,0)->(1,0)
1336846702848: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(1,0)
1336846702850: mux: I got a CSM packet at a leader 

1336846702848: Note down new request by adding requestCounter=5013033 to HashMap processedRequests
1336846702849: Make FirstLeg Ack regardless of new or already-processed requests
1336846702849: The leader sending a First Leg ack to originator client (which id = 5013)
1336846702849: inside sendPacket(Packet p)
1336846702854: Sending UDP payload: 1006
1336846702863: forwarding disabled, not forwarding packets
1336846702865: Sending UDP payload: 446
1336846702944: Received UDP payload: 3776
1336846702947: mux: GOT CSM_Msg
1336846702948: Received PROC_REPLY 11:4 (1,0)->(5,0), handing to UserApp
1336846702948: inside handleDSMReply. Now back in originator leader of region 5
1336846702948: DSM layer: Going to and from remote region took latency = 102
1336846702948: DSM layer: orig leader sent packet at 1336846702846 ~ received reply from remote leader at 1336846702948
1336846702949: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846702949: leader client reply has replyCounter: 501303300
1336846702949: reply packet contains the newest photo/success info from the remote region
1336846702950: inside sendReplies of replyCount = 501303300
1336846702950: =======================
1336846702950: inside sendReplyRepeatingRunnable for replyCount = 501303300
1336846702950: Leader about to send REPLY packet, number: 501303300 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846702950: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846702951: inside sendPacket(Packet p)
1336846702951: === Finished one round of sending REPLY Packet =======
1336846702954: Sending UDP payload: 3429
1336846703004: Received UDP payload: 446
1336846703005: mux: Inside mux Packet.CLIENT_REQUEST
1336846703006: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846703006: inside handleClientRequest. Originator leader of region 5
1336846703006: got new request, requestCounter = 5013034
1336846703006: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501303300
1336846703006: Yay the last leg succeeded. Removing reply runnables ...
1336846703006: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501303300
1336846703007: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501303300
1336846703007: do not send ack for received final_leg_ack
1336846703178: Received UDP payload: 1006
1336846703180: mux: GOT CSM_Msg
1336846703181: forwarding disabled, not forwarding packets
1336846703235: Received UDP payload: 3776
1336846703238: mux: GOT CSM_Msg
1336846703238: forwarding disabled, not forwarding packets
1336846703798: canPressButton = TRUE
1336846703799: areButtonsEnabled --> false 
1336846703800: get picture disableButtonsR
1336846703800: areButtonsEnabled --> false
1336846703841: one more getNum: 14
1336846703844: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=13 getBad=0 getTimedout=0 getPercent=92%
1336846703844: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846703845: change local requestCounter to 33
1336846703845: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008033 Client in region: 5 Client nodID: 5008
1336846703875: ----------------------------
1336846703876: inside sendRequestPacketRepeatingRunnable for requestCount = 5008033
1336846703876: I'm a leader, my requesting photos packet going to mux directly
1336846703885: --- Finished one round of sending REQUEST Packet ---------
1336846703876: mux: Inside mux Packet.CLIENT_REQUEST
1336846703876: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846703919: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846703877: inside handleClientRequest. Originator leader of region 5
1336846703877: got new request, requestCounter = 5008033
1336846703877: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846703877: Sending to region: 1
1336846703878: Sending PROC_REQUEST 11:5 (5,0)->(1,0)
1336846703878: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(1,0)
1336846703882: mux: I got a CSM packet at a leader 

1336846703878: Note down new request by adding requestCounter=5008033 to HashMap processedRequests
1336846703878: Make FirstLeg Ack regardless of new or already-processed requests
1336846703879: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846703884: Sending UDP payload: 1006
1336846703885: forwarding disabled, not forwarding packets
1336846703974: Received UDP payload: 3776
1336846703976: mux: GOT CSM_Msg
1336846703976: Received PROC_REPLY 11:5 (1,0)->(5,0), handing to UserApp
1336846703977: inside handleDSMReply. Now back in originator leader of region 5
1336846703977: DSM layer: Going to and from remote region took latency = 99
1336846703977: DSM layer: orig leader sent packet at 1336846703878 ~ received reply from remote leader at 1336846703977
1336846703978: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846703978: leader client reply has replyCounter: 500803300
1336846703978: reply packet contains the newest photo/success info from the remote region
1336846703978: inside sendReplies of replyCount = 500803300
1336846703982: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846703983: disabling progressdialog due to successful new photo get
1336846703983: Inside _enableButtons
1336846703983: areButtonsEnabled --> true
1336846703983: send final leg ack regardless of new or already-processed reply
1336846703984: inside finalLegAck: change requestCounter to 34
1336846703984: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008034 Client in region: (5,0) Client nodID: 5008
1336846703984: I'm a leader client, my final_leg packet going to mux directly
1336846703985: new client_show_remotephoto reply with replyCounter 500803300
1336846703986: note down new reply by adding replyCounter=500803300 to HashMap processedReplies
1336846703986: leader download remote photo latency = 106
1336846703986: = leader download start 1336846703876 ~ stop 1336846703982
1336846703987: one more getGood: 14
1336846703988: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=14 getBad=0 getTimedout=0 getPercent=100%
1336846703988: adding get latency: 106
1336846703989: Success! Client getting photo from remote region, showing photo...
1336846703989: Remote photo's length: 2748
1336846703980: =======================
1336846703981: inside sendReplyRepeatingRunnable for replyCount = 500803300
1336846703981: Leader about to send REPLY packet, number: 500803300 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846703981: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846703981: === Finished one round of sending REPLY Packet =======
1336846703984: mux: Inside mux Packet.CLIENT_REQUEST
1336846703984: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846703984: inside handleClientRequest. Originator leader of region 5
1336846703985: got new request, requestCounter = 5008034
1336846703985: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500803300
1336846703985: Yay the last leg succeeded. Removing reply runnables ...
1336846703985: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500803300
1336846703985: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500803300
1336846703985: do not send ack for received final_leg_ack
1336846704418: Received UDP payload: 446
1336846705722: inside sendPacket(Packet p)
1336846705731: Received UDP payload: 446
1336846705766: Sending UDP payload: 446
1336846706456: Received UDP payload: 446
1336846706821: Received UDP payload: 446
1336846707593: Received UDP payload: 446
1336846709102: Received UDP payload: 1006
1336846709116: mux: GOT CSM_Msg
1336846709116: forwarding disabled, not forwarding packets
1336846709191: Received UDP payload: 3776
1336846709193: mux: GOT CSM_Msg
1336846709193: forwarding disabled, not forwarding packets
1336846709416: Received UDP payload: 446
1336846710503: Received UDP payload: 642
1336846710508: mux: Inside mux Packet.CLIENT_REQUEST
1336846710546: Received UDP payload: 1006
1336846710555: mux: GOT CSM_Msg
1336846710555: forwarding disabled, not forwarding packets
1336846710562: Received UDP payload: 446
1336846710563: mux: Inside Packet.SERVER_REPLY
1336846710563: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846710612: Received UDP payload: 3776
1336846710614: mux: GOT CSM_Msg
1336846710614: forwarding disabled, not forwarding packets
1336846710656: Received UDP payload: 3429
1336846710657: mux: Inside Packet.SERVER_REPLY
1336846710657: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846710667: Received UDP payload: 446
1336846710668: mux: Inside mux Packet.CLIENT_REQUEST
1336846710731: Received UDP payload: 446
1336846710750: inside sendPacket(Packet p)
1336846710751: Sending UDP payload: 446
1336846711460: Received UDP payload: 446
1336846711822: Received UDP payload: 446
1336846712604: Received UDP payload: 446
1336846714424: Received UDP payload: 446
1336846715748: Received UDP payload: 446
1336846715752: inside sendPacket(Packet p)
1336846715767: Sending UDP payload: 446
1336846716345: Received UDP payload: 1006
1336846716351: mux: GOT CSM_Msg
1336846716352: forwarding disabled, not forwarding packets
1336846716440: Received UDP payload: 3778
1336846716449: mux: GOT CSM_Msg
1336846716449: forwarding disabled, not forwarding packets
1336846716462: Received UDP payload: 446
1336846716820: Received UDP payload: 446
1336846717586: Received UDP payload: 642
1336846717590: mux: Inside mux Packet.CLIENT_REQUEST
1336846717608: Received UDP payload: 446
1336846717630: Received UDP payload: 1006
1336846717637: mux: GOT CSM_Msg
1336846717638: forwarding disabled, not forwarding packets
1336846717651: Received UDP payload: 446
1336846717655: mux: Inside Packet.SERVER_REPLY
1336846717655: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846717702: Received UDP payload: 3778
1336846717704: mux: GOT CSM_Msg
1336846717704: forwarding disabled, not forwarding packets
1336846717786: Received UDP payload: 3431
1336846717787: mux: Inside Packet.SERVER_REPLY
1336846717787: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846717813: Received UDP payload: 446
1336846717814: mux: Inside mux Packet.CLIENT_REQUEST
1336846719016: Received UDP payload: 642
1336846719030: mux: Inside mux Packet.CLIENT_REQUEST
1336846719127: Received UDP payload: 1006
1336846719135: mux: GOT CSM_Msg
1336846719135: forwarding disabled, not forwarding packets
1336846719139: Received UDP payload: 446
1336846719144: mux: Inside Packet.SERVER_REPLY
1336846719144: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846719208: Received UDP payload: 3778
1336846719215: mux: GOT CSM_Msg
1336846719215: forwarding disabled, not forwarding packets
1336846719258: Received UDP payload: 3431
1336846719262: mux: Inside Packet.SERVER_REPLY
1336846719262: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846719271: Received UDP payload: 446
1336846719275: mux: Inside mux Packet.CLIENT_REQUEST
1336846719429: Received UDP payload: 446
1336846720383: Received UDP payload: 1006
1336846720390: mux: GOT CSM_Msg
1336846720390: forwarding disabled, not forwarding packets
1336846720474: Received UDP payload: 3778
1336846720481: mux: GOT CSM_Msg
1336846720481: forwarding disabled, not forwarding packets
1336846720752: inside sendPacket(Packet p)
1336846720754: Sending UDP payload: 446
1336846720789: Received UDP payload: 446
1336846721182: Received UDP payload: 1006
1336846721189: mux: GOT CSM_Msg
1336846721189: forwarding disabled, not forwarding packets
1336846721257: Received UDP payload: 3778
1336846721259: mux: GOT CSM_Msg
1336846721259: forwarding disabled, not forwarding packets
1336846721463: Received UDP payload: 446
1336846721832: Received UDP payload: 446
1336846722628: Received UDP payload: 446
1336846723796: Received UDP payload: 1006
1336846723804: mux: GOT CSM_Msg
1336846723805: forwarding disabled, not forwarding packets
1336846723933: Received UDP payload: 3778
1336846723943: mux: GOT CSM_Msg
1336846723943: forwarding disabled, not forwarding packets
1336846724451: Received UDP payload: 446
1336846725752: inside sendPacket(Packet p)
1336846725755: Sending UDP payload: 446
1336846725774: Received UDP payload: 446
1336846726467: Received UDP payload: 446
1336846726869: Received UDP payload: 446
1336846727666: Received UDP payload: 446
1336846728397: Received UDP payload: 1006
1336846728406: mux: GOT CSM_Msg
1336846728406: forwarding disabled, not forwarding packets
1336846728447: Received UDP payload: 3778
1336846728456: mux: GOT CSM_Msg
1336846728457: forwarding disabled, not forwarding packets
1336846729424: Received UDP payload: 446
1336846729881: Received UDP payload: 642
1336846729885: mux: Inside mux Packet.CLIENT_REQUEST
1336846729886: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846729886: inside handleClientRequest. Originator leader of region 5
1336846729886: got new request, requestCounter = 5013035
1336846729887: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846729905: Sending to region: 2
1336846729906: Sending PROC_REQUEST 11:4 (5,0)->(2,0)
1336846729907: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1336846729909: mux: I got a CSM packet at a leader 

1336846729908: Note down new request by adding requestCounter=5013035 to HashMap processedRequests
1336846729908: Make FirstLeg Ack regardless of new or already-processed requests
1336846729908: The leader sending a First Leg ack to originator client (which id = 5013)
1336846729909: inside sendPacket(Packet p)
1336846729926: Sending UDP payload: 1006
1336846729927: forwarding disabled, not forwarding packets
1336846729930: Sending UDP payload: 446
1336846730007: Received UDP payload: 3778
1336846730009: mux: GOT CSM_Msg
1336846730009: Received PROC_REPLY 11:4 (2,0)->(5,0), handing to UserApp
1336846730009: inside handleDSMReply. Now back in originator leader of region 5
1336846730009: DSM layer: Going to and from remote region took latency = 104
1336846730009: DSM layer: orig leader sent packet at 1336846729905 ~ received reply from remote leader at 1336846730009
1336846730010: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846730010: leader client reply has replyCounter: 501303500
1336846730010: reply packet contains the newest photo/success info from the remote region
1336846730010: inside sendReplies of replyCount = 501303500
1336846730011: =======================
1336846730011: inside sendReplyRepeatingRunnable for replyCount = 501303500
1336846730011: Leader about to send REPLY packet, number: 501303500 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846730011: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846730011: inside sendPacket(Packet p)
1336846730011: === Finished one round of sending REPLY Packet =======
1336846730012: Sending UDP payload: 3431
1336846730067: Received UDP payload: 446
1336846730069: mux: Inside mux Packet.CLIENT_REQUEST
1336846730069: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846730069: inside handleClientRequest. Originator leader of region 5
1336846730069: got new request, requestCounter = 5013036
1336846730069: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501303500
1336846730069: Yay the last leg succeeded. Removing reply runnables ...
1336846730069: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501303500
1336846730069: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501303500
1336846730069: do not send ack for received final_leg_ack
1336846730747: Received UDP payload: 446
1336846730753: inside sendPacket(Packet p)
1336846730754: Sending UDP payload: 446
1336846730849: canPressButton = TRUE
1336846730849: areButtonsEnabled --> false 
1336846730849: get picture disableButtonsR
1336846730849: areButtonsEnabled --> false
1336846730876: one more getNum: 15
1336846730877: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=14 getBad=0 getTimedout=0 getPercent=93%
1336846730877: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846730877: change local requestCounter to 35
1336846730882: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008035 Client in region: 5 Client nodID: 5008
1336846730910: ----------------------------
1336846730911: inside sendRequestPacketRepeatingRunnable for requestCount = 5008035
1336846730912: I'm a leader, my requesting photos packet going to mux directly
1336846730918: --- Finished one round of sending REQUEST Packet ---------
1336846730912: mux: Inside mux Packet.CLIENT_REQUEST
1336846730912: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846730959: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846730912: inside handleClientRequest. Originator leader of region 5
1336846730913: got new request, requestCounter = 5008035
1336846730913: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846730913: Sending to region: 2
1336846730914: Sending PROC_REQUEST 11:5 (5,0)->(2,0)
1336846730914: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1336846730915: mux: I got a CSM packet at a leader 

1336846730914: Note down new request by adding requestCounter=5008035 to HashMap processedRequests
1336846730915: Make FirstLeg Ack regardless of new or already-processed requests
1336846730915: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846730917: Sending UDP payload: 1006
1336846730918: forwarding disabled, not forwarding packets
1336846731022: Received UDP payload: 3778
1336846731024: mux: GOT CSM_Msg
1336846731025: Received PROC_REPLY 11:5 (2,0)->(5,0), handing to UserApp
1336846731025: inside handleDSMReply. Now back in originator leader of region 5
1336846731025: DSM layer: Going to and from remote region took latency = 111
1336846731025: DSM layer: orig leader sent packet at 1336846730914 ~ received reply from remote leader at 1336846731025
1336846731026: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846731026: leader client reply has replyCounter: 500803500
1336846731026: reply packet contains the newest photo/success info from the remote region
1336846731026: inside sendReplies of replyCount = 500803500
1336846731031: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846731032: disabling progressdialog due to successful new photo get
1336846731032: Inside _enableButtons
1336846731032: areButtonsEnabled --> true
1336846731033: send final leg ack regardless of new or already-processed reply
1336846731033: inside finalLegAck: change requestCounter to 36
1336846731033: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008036 Client in region: (5,0) Client nodID: 5008
1336846731033: I'm a leader client, my final_leg packet going to mux directly
1336846731035: new client_show_remotephoto reply with replyCounter 500803500
1336846731035: note down new reply by adding replyCounter=500803500 to HashMap processedReplies
1336846731035: leader download remote photo latency = 119
1336846731035: = leader download start 1336846730912 ~ stop 1336846731031
1336846731037: one more getGood: 15
1336846731038: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=15 getBad=0 getTimedout=0 getPercent=100%
1336846731038: adding get latency: 119
1336846731038: Success! Client getting photo from remote region, showing photo...
1336846731039: Remote photo's length: 2750
1336846731026: =======================
1336846731026: inside sendReplyRepeatingRunnable for replyCount = 500803500
1336846731027: Leader about to send REPLY packet, number: 500803500 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846731027: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846731027: === Finished one round of sending REPLY Packet =======
1336846731034: mux: Inside mux Packet.CLIENT_REQUEST
1336846731034: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846731034: inside handleClientRequest. Originator leader of region 5
1336846731034: got new request, requestCounter = 5008036
1336846731034: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500803500
1336846731034: Yay the last leg succeeded. Removing reply runnables ...
1336846731034: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500803500
1336846731034: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500803500
1336846731034: do not send ack for received final_leg_ack
1336846731467: Received UDP payload: 446
1336846731864: Received UDP payload: 446
1336846732630: Received UDP payload: 446
1336846733664: Received UDP payload: 1006
1336846733672: mux: GOT CSM_Msg
1336846733672: forwarding disabled, not forwarding packets
1336846733812: Received UDP payload: 3778
1336846733816: mux: GOT CSM_Msg
1336846733816: forwarding disabled, not forwarding packets
1336846734439: Received UDP payload: 446
1336846734989: Received UDP payload: 642
1336846734996: mux: Inside mux Packet.CLIENT_REQUEST
1336846735045: Received UDP payload: 1006
1336846735047: mux: GOT CSM_Msg
1336846735047: forwarding disabled, not forwarding packets
1336846735072: Received UDP payload: 446
1336846735073: mux: Inside Packet.SERVER_REPLY
1336846735074: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846735102: Received UDP payload: 3778
1336846735104: mux: GOT CSM_Msg
1336846735104: forwarding disabled, not forwarding packets
1336846735154: Received UDP payload: 3431
1336846735156: mux: Inside Packet.SERVER_REPLY
1336846735156: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846735168: Received UDP payload: 446
1336846735170: mux: Inside mux Packet.CLIENT_REQUEST
1336846735754: Received UDP payload: 446
1336846735759: inside sendPacket(Packet p)
1336846735762: Sending UDP payload: 446
1336846736481: Received UDP payload: 446
1336846736844: Received UDP payload: 446
1336846737634: Received UDP payload: 446
1336846739439: Received UDP payload: 446
1336846740760: inside sendPacket(Packet p)
1336846740763: Sending UDP payload: 446
1336846740769: Received UDP payload: 446
1336846741494: Received UDP payload: 446
1336846742188: Received UDP payload: 446
1336846742637: Received UDP payload: 446
1336846744451: Received UDP payload: 446
1336846745761: inside sendPacket(Packet p)
1336846745774: Received UDP payload: 446
1336846745781: Sending UDP payload: 446
1336846746224: Received UDP payload: 642
1336846746231: mux: Inside mux Packet.CLIENT_REQUEST
1336846746268: Received UDP payload: 1006
1336846746277: mux: GOT CSM_Msg
1336846746278: forwarding disabled, not forwarding packets
1336846746278: Received UDP payload: 446
1336846746282: mux: Inside Packet.SERVER_REPLY
1336846746282: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846746398: Received UDP payload: 3734
1336846746402: mux: GOT CSM_Msg
1336846746402: forwarding disabled, not forwarding packets
1336846746455: Received UDP payload: 3387
1336846746458: mux: Inside Packet.SERVER_REPLY
1336846746458: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846746471: Received UDP payload: 446
1336846746474: mux: Inside mux Packet.CLIENT_REQUEST
1336846746545: Received UDP payload: 446
1336846747201: Received UDP payload: 446
1336846747635: Received UDP payload: 1006
1336846747637: mux: GOT CSM_Msg
1336846747637: forwarding disabled, not forwarding packets
1336846747643: Received UDP payload: 446
1336846747717: Received UDP payload: 3734
1336846747719: mux: GOT CSM_Msg
1336846747719: forwarding disabled, not forwarding packets
1336846749483: Received UDP payload: 446
1336846750351: Received UDP payload: 1006
1336846750360: mux: GOT CSM_Msg
1336846750361: forwarding disabled, not forwarding packets
1336846750441: Received UDP payload: 3734
1336846750443: mux: GOT CSM_Msg
1336846750443: forwarding disabled, not forwarding packets
1336846750773: Received UDP payload: 446
1336846750784: inside sendPacket(Packet p)
1336846750786: Sending UDP payload: 446
1336846751501: Received UDP payload: 446
1336846751937: Received UDP payload: 642
1336846751941: mux: Inside mux Packet.CLIENT_REQUEST
1336846751992: Received UDP payload: 1006
1336846752000: mux: GOT CSM_Msg
1336846752000: forwarding disabled, not forwarding packets
1336846752003: Received UDP payload: 446
1336846752006: mux: Inside Packet.SERVER_REPLY
1336846752007: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846752047: Received UDP payload: 3734
1336846752053: mux: GOT CSM_Msg
1336846752054: forwarding disabled, not forwarding packets
1336846752105: Received UDP payload: 3387
1336846752106: mux: Inside Packet.SERVER_REPLY
1336846752107: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846752125: Received UDP payload: 446
1336846752126: mux: Inside mux Packet.CLIENT_REQUEST
1336846752194: Received UDP payload: 446
1336846752937: Received UDP payload: 446
1336846754468: Received UDP payload: 446
1336846755637: Received UDP payload: 1006
1336846755677: mux: GOT CSM_Msg
1336846755678: forwarding disabled, not forwarding packets
1336846755748: Received UDP payload: 3734
1336846755751: mux: GOT CSM_Msg
1336846755751: forwarding disabled, not forwarding packets
1336846755772: Received UDP payload: 446
1336846755785: inside sendPacket(Packet p)
1336846755787: Sending UDP payload: 446
1336846756639: Received UDP payload: 1006
1336846756648: mux: GOT CSM_Msg
1336846756648: forwarding disabled, not forwarding packets
1336846756682: Received UDP payload: 3734
1336846756689: mux: GOT CSM_Msg
1336846756689: forwarding disabled, not forwarding packets
1336846756894: Received UDP payload: 446
1336846757202: Received UDP payload: 446
1336846757977: Received UDP payload: 446
1336846759461: Received UDP payload: 446
1336846760786: inside sendPacket(Packet p)
1336846760788: Sending UDP payload: 446
1336846760793: Received UDP payload: 446
1336846761904: Received UDP payload: 446
1336846762197: Received UDP payload: 446
1336846762780: Received UDP payload: 1006
1336846762788: mux: GOT CSM_Msg
1336846762789: forwarding disabled, not forwarding packets
1336846762877: Received UDP payload: 3734
1336846762884: mux: GOT CSM_Msg
1336846762885: forwarding disabled, not forwarding packets
1336846762933: Received UDP payload: 446
1336846764057: Received UDP payload: 642
1336846764061: mux: Inside mux Packet.CLIENT_REQUEST
1336846764101: Received UDP payload: 1006
1336846764108: mux: GOT CSM_Msg
1336846764108: forwarding disabled, not forwarding packets
1336846764108: Received UDP payload: 446
1336846764109: mux: Inside Packet.SERVER_REPLY
1336846764109: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846764162: Received UDP payload: 3734
1336846764165: mux: GOT CSM_Msg
1336846764165: forwarding disabled, not forwarding packets
1336846764210: Received UDP payload: 3387
1336846764212: mux: Inside Packet.SERVER_REPLY
1336846764212: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846764220: Received UDP payload: 446
1336846764222: mux: Inside mux Packet.CLIENT_REQUEST
1336846764461: Received UDP payload: 446
1336846765634: leader to cloud hearbeat...
1336846765804: Received UDP payload: 446
1336846765920: Received UDP payload: 642
1336846765937: mux: Inside mux Packet.CLIENT_REQUEST
1336846765938: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846765938: inside handleClientRequest. Originator leader of region 5
1336846765939: got new request, requestCounter = 5013037
1336846765939: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846765941: Sending to region: 3
1336846765942: Sending PROC_REQUEST 11:4 (5,0)->(3,0)
1336846765944: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(3,0)
1336846765946: mux: I got a CSM packet at a leader 

1336846765944: Note down new request by adding requestCounter=5013037 to HashMap processedRequests
1336846765944: Make FirstLeg Ack regardless of new or already-processed requests
1336846765945: The leader sending a First Leg ack to originator client (which id = 5013)
1336846765945: inside sendPacket(Packet p)
1336846765957: Sending UDP payload: 1006
1336846765964: forwarding disabled, not forwarding packets
1336846765968: Sending UDP payload: 446
1336846766040: Received UDP payload: 3734
1336846766042: mux: GOT CSM_Msg
1336846766042: Received PROC_REPLY 11:4 (3,0)->(5,0), handing to UserApp
1336846766042: inside handleDSMReply. Now back in originator leader of region 5
1336846766043: DSM layer: Going to and from remote region took latency = 101
1336846766043: DSM layer: orig leader sent packet at 1336846765941 ~ received reply from remote leader at 1336846766042
1336846766043: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846766044: leader client reply has replyCounter: 501303700
1336846766044: reply packet contains the newest photo/success info from the remote region
1336846766044: inside sendReplies of replyCount = 501303700
1336846766058: inside sendPacket(Packet p)
1336846766059: =======================
1336846766059: inside sendReplyRepeatingRunnable for replyCount = 501303700
1336846766059: Leader about to send REPLY packet, number: 501303700 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846766059: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846766059: inside sendPacket(Packet p)
1336846766059: === Finished one round of sending REPLY Packet =======
1336846766060: Sending UDP payload: 446
1336846766062: Sending UDP payload: 3387
1336846766124: Received UDP payload: 446
1336846766125: mux: Inside mux Packet.CLIENT_REQUEST
1336846766125: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846766125: inside handleClientRequest. Originator leader of region 5
1336846766125: got new request, requestCounter = 5013038
1336846766125: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501303700
1336846766125: Yay the last leg succeeded. Removing reply runnables ...
1336846766126: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501303700
1336846766126: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501303700
1336846766126: do not send ack for received final_leg_ack
1336846766908: Received UDP payload: 446
1336846767199: Received UDP payload: 446
1336846767940: Received UDP payload: 446
1336846769460: Received UDP payload: 446
1336846769550: canPressButton = TRUE
1336846769551: areButtonsEnabled --> false 
1336846769551: get picture disableButtonsR
1336846769551: areButtonsEnabled --> false
1336846769577: one more getNum: 16
1336846769578: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=15 getBad=0 getTimedout=0 getPercent=93%
1336846769578: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846769578: change local requestCounter to 37
1336846769579: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008037 Client in region: 5 Client nodID: 5008
1336846769610: ----------------------------
1336846769611: inside sendRequestPacketRepeatingRunnable for requestCount = 5008037
1336846769611: I'm a leader, my requesting photos packet going to mux directly
1336846769617: --- Finished one round of sending REQUEST Packet ---------
1336846769611: mux: Inside mux Packet.CLIENT_REQUEST
1336846769611: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846769653: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846769611: inside handleClientRequest. Originator leader of region 5
1336846769611: got new request, requestCounter = 5008037
1336846769612: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846769612: Sending to region: 3
1336846769613: Sending PROC_REQUEST 11:5 (5,0)->(3,0)
1336846769614: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1336846769615: mux: I got a CSM packet at a leader 

1336846769614: Note down new request by adding requestCounter=5008037 to HashMap processedRequests
1336846769614: Make FirstLeg Ack regardless of new or already-processed requests
1336846769614: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846769616: Sending UDP payload: 1006
1336846769616: forwarding disabled, not forwarding packets
1336846769718: Received UDP payload: 3734
1336846769720: mux: GOT CSM_Msg
1336846769727: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846769728: disabling progressdialog due to successful new photo get
1336846769728: Inside _enableButtons
1336846769728: areButtonsEnabled --> true
1336846769728: send final leg ack regardless of new or already-processed reply
1336846769729: inside finalLegAck: change requestCounter to 38
1336846769729: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008038 Client in region: (5,0) Client nodID: 5008
1336846769730: I'm a leader client, my final_leg packet going to mux directly
1336846769732: new client_show_remotephoto reply with replyCounter 500803700
1336846769732: note down new reply by adding replyCounter=500803700 to HashMap processedReplies
1336846769733: leader download remote photo latency = 116
1336846769733: = leader download start 1336846769611 ~ stop 1336846769727
1336846769734: one more getGood: 16
1336846769735: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=16 getBad=0 getTimedout=0 getPercent=100%
1336846769735: adding get latency: 116
1336846769736: Success! Client getting photo from remote region, showing photo...
1336846769736: Remote photo's length: 2706
1336846769720: Received PROC_REPLY 11:5 (3,0)->(5,0), handing to UserApp
1336846769721: inside handleDSMReply. Now back in originator leader of region 5
1336846769721: DSM layer: Going to and from remote region took latency = 109
1336846769721: DSM layer: orig leader sent packet at 1336846769612 ~ received reply from remote leader at 1336846769721
1336846769722: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846769722: leader client reply has replyCounter: 500803700
1336846769722: reply packet contains the newest photo/success info from the remote region
1336846769722: inside sendReplies of replyCount = 500803700
1336846769722: =======================
1336846769722: inside sendReplyRepeatingRunnable for replyCount = 500803700
1336846769723: Leader about to send REPLY packet, number: 500803700 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846769723: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846769723: === Finished one round of sending REPLY Packet =======
1336846769730: mux: Inside mux Packet.CLIENT_REQUEST
1336846769731: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846769731: inside handleClientRequest. Originator leader of region 5
1336846769731: got new request, requestCounter = 5008038
1336846769731: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500803700
1336846769731: Yay the last leg succeeded. Removing reply runnables ...
1336846769731: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500803700
1336846769731: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500803700
1336846769731: do not send ack for received final_leg_ack
1336846770810: Received UDP payload: 446
1336846771059: inside sendPacket(Packet p)
1336846771105: Sending UDP payload: 446
1336846771922: Received UDP payload: 446
1336846772200: Received UDP payload: 446
1336846772945: Received UDP payload: 446
1336846774464: Received UDP payload: 446
1336846775815: Received UDP payload: 446
1336846776061: inside sendPacket(Packet p)
1336846776064: Sending UDP payload: 446
1336846777012: Received UDP payload: 446
1336846777216: Received UDP payload: 446
1336846778014: Received UDP payload: 446
1336846779487: Received UDP payload: 446
1336846780518: Received UDP payload: 642
1336846780525: mux: Inside mux Packet.CLIENT_REQUEST
1336846780558: Received UDP payload: 1006
1336846780574: mux: GOT CSM_Msg
1336846780575: forwarding disabled, not forwarding packets
1336846780583: Received UDP payload: 446
1336846780587: mux: Inside Packet.SERVER_REPLY
1336846780587: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846780631: Received UDP payload: 3811
1336846780633: mux: GOT CSM_Msg
1336846780634: forwarding disabled, not forwarding packets
1336846780692: Received UDP payload: 3464
1336846780694: mux: Inside Packet.SERVER_REPLY
1336846780694: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846780711: Received UDP payload: 446
1336846780713: mux: Inside mux Packet.CLIENT_REQUEST
1336846780811: Received UDP payload: 446
1336846781061: inside sendPacket(Packet p)
1336846781063: Sending UDP payload: 446
1336846781950: Received UDP payload: 446
1336846782222: Received UDP payload: 446
1336846782510: Received UDP payload: 1006
1336846782518: mux: GOT CSM_Msg
1336846782518: forwarding disabled, not forwarding packets
1336846782609: Received UDP payload: 3811
1336846782616: mux: GOT CSM_Msg
1336846782617: forwarding disabled, not forwarding packets
1336846782950: Received UDP payload: 446
1336846784460: Received UDP payload: 446
1336846784483: Received UDP payload: 1006
1336846784493: mux: GOT CSM_Msg
1336846784493: forwarding disabled, not forwarding packets
1336846784561: Received UDP payload: 3811
1336846784568: mux: GOT CSM_Msg
1336846784568: forwarding disabled, not forwarding packets
1336846785822: Received UDP payload: 446
1336846786062: inside sendPacket(Packet p)
1336846786064: Sending UDP payload: 446
1336846786954: Received UDP payload: 446
1336846787225: Received UDP payload: 446
1336846787959: Received UDP payload: 446
1336846788608: Received UDP payload: 642
1336846788613: mux: Inside mux Packet.CLIENT_REQUEST
1336846788648: Received UDP payload: 1006
1336846788657: mux: GOT CSM_Msg
1336846788657: forwarding disabled, not forwarding packets
1336846788658: Received UDP payload: 446
1336846788675: mux: Inside Packet.SERVER_REPLY
1336846788675: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846788718: Received UDP payload: 3811
1336846788720: mux: GOT CSM_Msg
1336846788720: forwarding disabled, not forwarding packets
1336846788789: Received UDP payload: 3464
1336846788790: mux: Inside Packet.SERVER_REPLY
1336846788790: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846788804: Received UDP payload: 446
1336846788806: mux: Inside mux Packet.CLIENT_REQUEST
1336846789465: Received UDP payload: 446
1336846790826: Received UDP payload: 446
1336846791062: inside sendPacket(Packet p)
1336846791066: Sending UDP payload: 446
1336846791715: Received UDP payload: 1006
1336846791721: mux: GOT CSM_Msg
1336846791722: forwarding disabled, not forwarding packets
1336846791784: Received UDP payload: 3811
1336846791786: mux: GOT CSM_Msg
1336846791787: forwarding disabled, not forwarding packets
1336846791938: Received UDP payload: 446
1336846792225: Received UDP payload: 446
1336846792961: Received UDP payload: 446
1336846793490: Received UDP payload: 1006
1336846793498: mux: GOT CSM_Msg
1336846793499: forwarding disabled, not forwarding packets
1336846793592: Received UDP payload: 3811
1336846793599: mux: GOT CSM_Msg
1336846793599: forwarding disabled, not forwarding packets
1336846794467: Received UDP payload: 446
1336846795854: Received UDP payload: 446
1336846796065: inside sendPacket(Packet p)
1336846796079: Sending UDP payload: 446
1336846796944: Received UDP payload: 446
1336846797241: Received UDP payload: 446
1336846797939: Received UDP payload: 1006
1336846797947: mux: GOT CSM_Msg
1336846797948: forwarding disabled, not forwarding packets
1336846797996: Received UDP payload: 3811
1336846797998: mux: GOT CSM_Msg
1336846797998: forwarding disabled, not forwarding packets
1336846798003: Received UDP payload: 446
1336846798736: Received UDP payload: 642
1336846798741: mux: Inside mux Packet.CLIENT_REQUEST
1336846798741: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846798741: inside handleClientRequest. Originator leader of region 5
1336846798742: got new request, requestCounter = 5013039
1336846798742: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846798751: Sending to region: 4
1336846798764: Sending PROC_REQUEST 11:4 (5,0)->(4,0)
1336846798765: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(4,0)
1336846798767: mux: I got a CSM packet at a leader 

1336846798765: Note down new request by adding requestCounter=5013039 to HashMap processedRequests
1336846798766: Make FirstLeg Ack regardless of new or already-processed requests
1336846798766: The leader sending a First Leg ack to originator client (which id = 5013)
1336846798766: inside sendPacket(Packet p)
1336846798788: Sending UDP payload: 1006
1336846798795: forwarding disabled, not forwarding packets
1336846798796: Sending UDP payload: 446
1336846798882: Received UDP payload: 3811
1336846798884: mux: GOT CSM_Msg
1336846798885: Received PROC_REPLY 11:4 (4,0)->(5,0), handing to UserApp
1336846798885: inside handleDSMReply. Now back in originator leader of region 5
1336846798885: DSM layer: Going to and from remote region took latency = 133
1336846798885: DSM layer: orig leader sent packet at 1336846798752 ~ received reply from remote leader at 1336846798885
1336846798886: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846798886: leader client reply has replyCounter: 501303900
1336846798886: reply packet contains the newest photo/success info from the remote region
1336846798886: inside sendReplies of replyCount = 501303900
1336846798887: =======================
1336846798887: inside sendReplyRepeatingRunnable for replyCount = 501303900
1336846798887: Leader about to send REPLY packet, number: 501303900 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846798887: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846798887: inside sendPacket(Packet p)
1336846798887: === Finished one round of sending REPLY Packet =======
1336846798889: Sending UDP payload: 3464
1336846798949: Received UDP payload: 446
1336846798950: mux: Inside mux Packet.CLIENT_REQUEST
1336846798950: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846798950: inside handleClientRequest. Originator leader of region 5
1336846798950: got new request, requestCounter = 5013040
1336846798950: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501303900
1336846798950: Yay the last leg succeeded. Removing reply runnables ...
1336846798951: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501303900
1336846798951: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501303900
1336846798951: do not send ack for received final_leg_ack
1336846799414: Received UDP payload: 642
1336846799419: mux: Inside mux Packet.CLIENT_REQUEST
1336846799431: Received UDP payload: 1006
1336846799439: mux: GOT CSM_Msg
1336846799439: forwarding disabled, not forwarding packets
1336846799459: Received UDP payload: 446
1336846799463: mux: Inside Packet.SERVER_REPLY
1336846799463: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846799466: Received UDP payload: 446
1336846799556: Received UDP payload: 3464
1336846799558: mux: Inside Packet.SERVER_REPLY
1336846799558: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846799587: Received UDP payload: 446
1336846799589: mux: Inside mux Packet.CLIENT_REQUEST
1336846800742: canPressButton = TRUE
1336846800742: areButtonsEnabled --> false 
1336846800742: get picture disableButtonsR
1336846800743: areButtonsEnabled --> false
1336846800769: one more getNum: 17
1336846800769: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=16 getBad=0 getTimedout=0 getPercent=94%
1336846800770: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846800770: change local requestCounter to 39
1336846800774: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008039 Client in region: 5 Client nodID: 5008
1336846800802: ----------------------------
1336846800802: inside sendRequestPacketRepeatingRunnable for requestCount = 5008039
1336846800803: I'm a leader, my requesting photos packet going to mux directly
1336846800808: --- Finished one round of sending REQUEST Packet ---------
1336846800803: mux: Inside mux Packet.CLIENT_REQUEST
1336846800803: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846800853: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846800803: inside handleClientRequest. Originator leader of region 5
1336846800803: got new request, requestCounter = 5008039
1336846800803: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846800804: Sending to region: 4
1336846800805: Sending PROC_REQUEST 11:5 (5,0)->(4,0)
1336846800805: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(4,0)
1336846800806: mux: I got a CSM packet at a leader 

1336846800805: Note down new request by adding requestCounter=5008039 to HashMap processedRequests
1336846800805: Make FirstLeg Ack regardless of new or already-processed requests
1336846800805: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846800807: Sending UDP payload: 1006
1336846800808: forwarding disabled, not forwarding packets
1336846800884: Received UDP payload: 446
1336846801081: inside sendPacket(Packet p)
1336846801082: Sending UDP payload: 446
1336846801557: Retrying PROC_REQUEST 11:5 (5,0)->(4,0)
1336846801557: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(4,0)
1336846801558: mux: I got a CSM packet at a leader 

1336846801560: Sending UDP payload: 1006
1336846801563: forwarding disabled, not forwarding packets
1336846801659: Retrying PROC_REQUEST 11:5 (5,0)->(4,0)
1336846801659: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(4,0)
1336846801659: mux: I got a CSM packet at a leader 

1336846801660: Sending UDP payload: 1006
1336846801661: forwarding disabled, not forwarding packets
1336846801724: Received UDP payload: 3811
1336846801725: mux: GOT CSM_Msg
1336846801730: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846801730: disabling progressdialog due to successful new photo get
1336846801731: Inside _enableButtons
1336846801731: areButtonsEnabled --> true
1336846801731: send final leg ack regardless of new or already-processed reply
1336846801731: inside finalLegAck: change requestCounter to 40
1336846801731: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008040 Client in region: (5,0) Client nodID: 5008
1336846801732: I'm a leader client, my final_leg packet going to mux directly
1336846801733: new client_show_remotephoto reply with replyCounter 500803900
1336846801734: note down new reply by adding replyCounter=500803900 to HashMap processedReplies
1336846801734: leader download remote photo latency = 927
1336846801734: = leader download start 1336846800803 ~ stop 1336846801730
1336846801735: one more getGood: 17
1336846801736: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=17 getBad=0 getTimedout=0 getPercent=100%
1336846801736: adding get latency: 927
1336846801756: Success! Client getting photo from remote region, showing photo...
1336846801757: Remote photo's length: 2783
1336846801727: Received PROC_REPLY 11:5 (4,0)->(5,0), handing to UserApp
1336846801727: inside handleDSMReply. Now back in originator leader of region 5
1336846801728: DSM layer: Going to and from remote region took latency = 923
1336846801728: DSM layer: orig leader sent packet at 1336846800804 ~ received reply from remote leader at 1336846801727
1336846801728: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846801728: leader client reply has replyCounter: 500803900
1336846801729: reply packet contains the newest photo/success info from the remote region
1336846801729: inside sendReplies of replyCount = 500803900
1336846801729: =======================
1336846801729: inside sendReplyRepeatingRunnable for replyCount = 500803900
1336846801729: Leader about to send REPLY packet, number: 500803900 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846801729: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846801729: === Finished one round of sending REPLY Packet =======
1336846801732: mux: Inside mux Packet.CLIENT_REQUEST
1336846801732: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846801732: inside handleClientRequest. Originator leader of region 5
1336846801733: got new request, requestCounter = 5008040
1336846801733: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500803900
1336846801733: Yay the last leg succeeded. Removing reply runnables ...
1336846801733: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500803900
1336846801733: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500803900
1336846801733: do not send ack for received final_leg_ack
1336846801941: Received UDP payload: 446
1336846802223: Received UDP payload: 446
1336846802956: Received UDP payload: 446
1336846804535: Received UDP payload: 446
1336846805921: Received UDP payload: 446
1336846806081: inside sendPacket(Packet p)
1336846806094: Sending UDP payload: 446
1336846806988: Received UDP payload: 446
1336846807232: Received UDP payload: 446
1336846807960: Received UDP payload: 446
1336846809499: Received UDP payload: 446
1336846810873: Received UDP payload: 446
1336846811028: Received UDP payload: 642
1336846811035: mux: Inside mux Packet.CLIENT_REQUEST
1336846811068: Received UDP payload: 1006
1336846811083: inside sendPacket(Packet p)
1336846811095: Sending UDP payload: 446
1336846811096: mux: GOT CSM_Msg
1336846811097: removed replies before id 4 from sentReplies of size 0
1336846811097: inside handleDSMRequest. At requests's remote leader of region 5
1336846811104: Received UDP payload: 446
1336846811110: mux: Inside Packet.SERVER_REPLY
1336846811110: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846811106: INSIDE SERVER_GET_PHOTO!!!
1336846811110: Received PROC_REQUEST 11:4 (0,0)->(5,0), replying PROC_REPLY 11:4 (5,0)->(0,0)
1336846811110: Dispatching Atom PROC_REPLY 11:4 (5,0)->(0,0)
1336846811110: mux: I got a CSM packet at a leader 

1336846811112: Sending UDP payload: 3768
1336846811123: forwarding disabled, not forwarding packets
1336846811215: Received UDP payload: 3421
1336846811217: mux: Inside Packet.SERVER_REPLY
1336846811217: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846811229: Received UDP payload: 446
1336846811230: mux: Inside mux Packet.CLIENT_REQUEST
1336846811943: Received UDP payload: 446
1336846812236: Received UDP payload: 446
1336846812256: Received UDP payload: 1006
1336846812265: mux: GOT CSM_Msg
1336846812266: removed replies before id 5 from sentReplies of size 0
1336846812267: inside handleDSMRequest. At requests's remote leader of region 5
1336846812268: INSIDE SERVER_GET_PHOTO!!!
1336846812285: Received PROC_REQUEST 11:5 (0,0)->(5,0), replying PROC_REPLY 11:5 (5,0)->(0,0)
1336846812286: Dispatching Atom PROC_REPLY 11:5 (5,0)->(0,0)
1336846812286: mux: I got a CSM packet at a leader 

1336846812290: Sending UDP payload: 3768
1336846812305: forwarding disabled, not forwarding packets
1336846812954: Received UDP payload: 446
1336846814508: Received UDP payload: 446
1336846815854: Received UDP payload: 446
1336846816084: inside sendPacket(Packet p)
1336846816094: Sending UDP payload: 446
1336846816959: Received UDP payload: 446
1336846817075: Received UDP payload: 1006
1336846817081: mux: GOT CSM_Msg
1336846817082: removed replies before id 4 from sentReplies of size 0
1336846817083: inside handleDSMRequest. At requests's remote leader of region 5
1336846817084: INSIDE SERVER_GET_PHOTO!!!
1336846817088: Received PROC_REQUEST 11:4 (1,0)->(5,0), replying PROC_REPLY 11:4 (5,0)->(1,0)
1336846817089: Dispatching Atom PROC_REPLY 11:4 (5,0)->(1,0)
1336846817090: mux: I got a CSM packet at a leader 

1336846817114: Sending UDP payload: 3768
1336846817117: forwarding disabled, not forwarding packets
1336846817242: Received UDP payload: 446
1336846817962: Received UDP payload: 446
1336846818270: Received UDP payload: 642
1336846818277: mux: Inside mux Packet.CLIENT_REQUEST
1336846818308: Received UDP payload: 1006
1336846818316: mux: GOT CSM_Msg
1336846818316: removed replies before id 5 from sentReplies of size 0
1336846818317: inside handleDSMRequest. At requests's remote leader of region 5
1336846818319: INSIDE SERVER_GET_PHOTO!!!
1336846818333: Received UDP payload: 446
1336846818335: mux: Inside Packet.SERVER_REPLY
1336846818335: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846818335: Received PROC_REQUEST 11:5 (1,0)->(5,0), replying PROC_REPLY 11:5 (5,0)->(1,0)
1336846818335: Dispatching Atom PROC_REPLY 11:5 (5,0)->(1,0)
1336846818336: mux: I got a CSM packet at a leader 

1336846818337: Sending UDP payload: 3768
1336846818337: forwarding disabled, not forwarding packets
1336846818456: Received UDP payload: 3421
1336846818457: mux: Inside Packet.SERVER_REPLY
1336846818457: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846818472: Received UDP payload: 446
1336846818474: mux: Inside mux Packet.CLIENT_REQUEST
1336846819516: Received UDP payload: 446
1336846820870: Received UDP payload: 446
1336846821084: inside sendPacket(Packet p)
1336846821087: Sending UDP payload: 446
1336846821949: Received UDP payload: 446
1336846822256: Received UDP payload: 446
1336846822807: Received UDP payload: 1006
1336846822815: mux: GOT CSM_Msg
1336846822816: removed replies before id 2 from sentReplies of size 0
1336846822816: inside handleDSMRequest. At requests's remote leader of region 5
1336846822827: INSIDE SERVER_GET_PHOTO!!!
1336846822836: Received PROC_REQUEST 11:2 (2,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(2,0)
1336846822837: Dispatching Atom PROC_REPLY 11:2 (5,0)->(2,0)
1336846822838: mux: I got a CSM packet at a leader 

1336846822855: Sending UDP payload: 3768
1336846822865: forwarding disabled, not forwarding packets
1336846822966: Received UDP payload: 446
1336846823827: Received UDP payload: 1006
1336846823835: mux: GOT CSM_Msg
1336846823836: removed replies before id 2 from sentReplies of size 0
1336846823837: inside handleDSMRequest. At requests's remote leader of region 5
1336846823838: INSIDE SERVER_GET_PHOTO!!!
1336846823853: Received PROC_REQUEST 11:2 (3,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(3,0)
1336846823854: Dispatching Atom PROC_REPLY 11:2 (5,0)->(3,0)
1336846823855: mux: I got a CSM packet at a leader 

1336846823859: Sending UDP payload: 3768
1336846823876: forwarding disabled, not forwarding packets
1336846824518: Received UDP payload: 446
1336846825885: Received UDP payload: 446
1336846826085: inside sendPacket(Packet p)
1336846826088: Sending UDP payload: 446
1336846826981: Received UDP payload: 446
1336846827259: Received UDP payload: 446
1336846827988: Received UDP payload: 446
1336846829470: Received UDP payload: 642
1336846829477: mux: Inside mux Packet.CLIENT_REQUEST
1336846829477: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846829477: inside handleClientRequest. Originator leader of region 5
1336846829478: got new request, requestCounter = 5013041
1336846829478: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846829480: Sending to region: 5
1336846829482: Sending PROC_REQUEST 11:10 (5,0)->(5,0)
1336846829493: Dispatching Atom PROC_REQUEST 11:10 (5,0)->(5,0)
1336846829496: mux: I got a CSM packet at a leader 

1336846829494: Note down new request by adding requestCounter=5013041 to HashMap processedRequests
1336846829494: Make FirstLeg Ack regardless of new or already-processed requests
1336846829495: The leader sending a First Leg ack to originator client (which id = 5013)
1336846829495: inside sendPacket(Packet p)
1336846829500: Sending UDP payload: 1006
1336846829508: removed replies before id 10 from sentReplies of size 0
1336846829509: inside handleDSMRequest. At requests's remote leader of region 5
1336846829512: INSIDE SERVER_GET_PHOTO!!!
1336846829514: dst_region == src_region = 5
1336846829515:  1 self to self atomRequest
1336846829518: Received PROC_REQUEST 11:10 (5,0)->(5,0), replying PROC_REPLY 11:10 (5,0)->(5,0)
1336846829519: Dispatching Atom PROC_REPLY 11:10 (5,0)->(5,0)
1336846829544: mux: I got a CSM packet at a leader 

1336846829526: Received UDP payload: 446
1336846829521: Sending UDP payload: 446
1336846829545: Sending UDP payload: 3768
1336846829547: Received PROC_REPLY 11:10 (5,0)->(5,0), handing to UserApp
1336846829547: inside handleDSMReply. Now back in originator leader of region 5
1336846829547: DSM layer: Going to and from remote region took latency = 66
1336846829547: DSM layer: orig leader sent packet at 1336846829481 ~ received reply from remote leader at 1336846829547
1336846829548: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846829548: leader client reply has replyCounter: 501304100
1336846829548: reply packet contains the newest photo/success info from the remote region
1336846829548: inside sendReplies of replyCount = 501304100
1336846829548: =======================
1336846829548: inside sendReplyRepeatingRunnable for replyCount = 501304100
1336846829548: Leader about to send REPLY packet, number: 501304100 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846829548: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846829549: inside sendPacket(Packet p)
1336846829549: === Finished one round of sending REPLY Packet =======
1336846829550: Sending UDP payload: 3421
1336846829641: Received UDP payload: 446
1336846829642: mux: Inside mux Packet.CLIENT_REQUEST
1336846829642: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846829642: inside handleClientRequest. Originator leader of region 5
1336846829642: got new request, requestCounter = 5013042
1336846829643: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501304100
1336846829643: Yay the last leg succeeded. Removing reply runnables ...
1336846829643: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501304100
1336846829643: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501304100
1336846829643: do not send ack for received final_leg_ack
1336846829739: Received UDP payload: 1006
1336846829741: mux: GOT CSM_Msg
1336846829741: removed replies before id 4 from sentReplies of size 0
1336846829741: inside handleDSMRequest. At requests's remote leader of region 5
1336846829742: INSIDE SERVER_GET_PHOTO!!!
1336846829744: Received PROC_REQUEST 11:4 (4,0)->(5,0), replying PROC_REPLY 11:4 (5,0)->(4,0)
1336846829744: Dispatching Atom PROC_REPLY 11:4 (5,0)->(4,0)
1336846829744: mux: I got a CSM packet at a leader 

1336846829745: Sending UDP payload: 3768
1336846829746: forwarding disabled, not forwarding packets
1336846830499: canPressButton = TRUE
1336846830500: areButtonsEnabled --> false 
1336846830500: get picture disableButtonsR
1336846830500: areButtonsEnabled --> false
1336846830527: one more getNum: 18
1336846830528: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=17 getBad=0 getTimedout=0 getPercent=94%
1336846830528: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846830529: change local requestCounter to 41
1336846830532: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008041 Client in region: 5 Client nodID: 5008
1336846830562: ----------------------------
1336846830563: inside sendRequestPacketRepeatingRunnable for requestCount = 5008041
1336846830563: I'm a leader, my requesting photos packet going to mux directly
1336846830595: --- Finished one round of sending REQUEST Packet ---------
1336846830563: mux: Inside mux Packet.CLIENT_REQUEST
1336846830563: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846830652: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846830564: inside handleClientRequest. Originator leader of region 5
1336846830564: got new request, requestCounter = 5008041
1336846830564: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846830564: Sending to region: 5
1336846830565: Sending PROC_REQUEST 11:11 (5,0)->(5,0)
1336846830565: Dispatching Atom PROC_REQUEST 11:11 (5,0)->(5,0)
1336846830583: mux: I got a CSM packet at a leader 

1336846830565: Note down new request by adding requestCounter=5008041 to HashMap processedRequests
1336846830583: Make FirstLeg Ack regardless of new or already-processed requests
1336846830583: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846830584: Sending UDP payload: 1006
1336846830591: removed replies before id 11 from sentReplies of size 0
1336846830591: inside handleDSMRequest. At requests's remote leader of region 5
1336846830592: INSIDE SERVER_GET_PHOTO!!!
1336846830592: dst_region == src_region = 5
1336846830593:  1 self to self atomRequest
1336846830594: Received PROC_REQUEST 11:11 (5,0)->(5,0), replying PROC_REPLY 11:11 (5,0)->(5,0)
1336846830594: Dispatching Atom PROC_REPLY 11:11 (5,0)->(5,0)
1336846830594: mux: I got a CSM packet at a leader 

1336846830674: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846830674: disabling progressdialog due to successful new photo get
1336846830675: Inside _enableButtons
1336846830675: areButtonsEnabled --> true
1336846830675: send final leg ack regardless of new or already-processed reply
1336846830675: inside finalLegAck: change requestCounter to 42
1336846830676: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008042 Client in region: (5,0) Client nodID: 5008
1336846830676: I'm a leader client, my final_leg packet going to mux directly
1336846830677: new client_show_remotephoto reply with replyCounter 500804100
1336846830677: note down new reply by adding replyCounter=500804100 to HashMap processedReplies
1336846830678: leader download remote photo latency = 111
1336846830678: = leader download start 1336846830563 ~ stop 1336846830674
1336846830682: one more getGood: 18
1336846830687: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846830688: adding get latency: 111
1336846830688: Success! Client getting photo from remote region, showing photo...
1336846830689: Remote photo's length: 2740
1336846830602: Sending UDP payload: 3768
1336846830604: Received PROC_REPLY 11:11 (5,0)->(5,0), handing to UserApp
1336846830604: inside handleDSMReply. Now back in originator leader of region 5
1336846830604: DSM layer: Going to and from remote region took latency = 39
1336846830604: DSM layer: orig leader sent packet at 1336846830565 ~ received reply from remote leader at 1336846830604
1336846830606: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846830606: leader client reply has replyCounter: 500804100
1336846830606: reply packet contains the newest photo/success info from the remote region
1336846830607: inside sendReplies of replyCount = 500804100
1336846830607: =======================
1336846830607: inside sendReplyRepeatingRunnable for replyCount = 500804100
1336846830607: Leader about to send REPLY packet, number: 500804100 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846830607: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846830608: === Finished one round of sending REPLY Packet =======
1336846830676: mux: Inside mux Packet.CLIENT_REQUEST
1336846830676: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846830676: inside handleClientRequest. Originator leader of region 5
1336846830676: got new request, requestCounter = 5008042
1336846830676: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500804100
1336846830677: Yay the last leg succeeded. Removing reply runnables ...
1336846830677: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500804100
1336846830677: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500804100
1336846830677: do not send ack for received final_leg_ack
1336846830788: Received UDP payload: 642
1336846830792: mux: Inside mux Packet.CLIENT_REQUEST
1336846830809: Received UDP payload: 1006
1336846830811: mux: GOT CSM_Msg
1336846830811: removed replies before id 5 from sentReplies of size 0
1336846830811: inside handleDSMRequest. At requests's remote leader of region 5
1336846830812: INSIDE SERVER_GET_PHOTO!!!
1336846830815: Received PROC_REQUEST 11:5 (4,0)->(5,0), replying PROC_REPLY 11:5 (5,0)->(4,0)
1336846830816: Dispatching Atom PROC_REPLY 11:5 (5,0)->(4,0)
1336846830816: mux: I got a CSM packet at a leader 

1336846830817: Sending UDP payload: 3768
1336846830818: Received UDP payload: 446
1336846830819: forwarding disabled, not forwarding packets
1336846830820: mux: Inside Packet.SERVER_REPLY
1336846830820: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846830905: Received UDP payload: 3421
1336846830907: mux: Inside Packet.SERVER_REPLY
1336846830907: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846830912: Received UDP payload: 446
1336846830959: Received UDP payload: 446
1336846830962: mux: Inside mux Packet.CLIENT_REQUEST
1336846831086: inside sendPacket(Packet p)
1336846831087: Sending UDP payload: 446
1336846831950: Received UDP payload: 446
1336846832259: Received UDP payload: 446
1336846832967: Received UDP payload: 446
1336846834533: Received UDP payload: 446
1336846835901: Received UDP payload: 446
1336846836087: inside sendPacket(Packet p)
1336846836088: Sending UDP payload: 446
1336846836963: Received UDP payload: 446
1336846837277: Received UDP payload: 446
1336846837968: Received UDP payload: 446
1336846839553: Received UDP payload: 446
1336846840918: Received UDP payload: 446
1336846841088: inside sendPacket(Packet p)
1336846841091: Sending UDP payload: 446
1336846841971: Received UDP payload: 446
1336846842263: Received UDP payload: 446
1336846842979: Received UDP payload: 446
1336846844560: Received UDP payload: 446
1336846845940: Received UDP payload: 446
1336846846095: inside sendPacket(Packet p)
1336846846107: Sending UDP payload: 446
1336846846979: Received UDP payload: 446
1336846847289: Received UDP payload: 446
1336846847971: Received UDP payload: 446
1336846849577: Received UDP payload: 446
1336846850943: Received UDP payload: 446
1336846851105: inside sendPacket(Packet p)
1336846851115: Sending UDP payload: 446
1336846851991: Received UDP payload: 446
1336846852275: Received UDP payload: 446
1336846852972: Received UDP payload: 446
1336846854549: Received UDP payload: 446
1336846855955: Received UDP payload: 446
1336846856077: Received UDP payload: 3762
1336846856085: mux: GOT CSM_Msg
1336846856087: forwarding disabled, not forwarding packets
1336846856098: Received UDP payload: 1006
1336846856116: mux: GOT CSM_Msg
1336846856117: forwarding disabled, not forwarding packets
1336846856118: inside sendPacket(Packet p)
1336846856122: Sending UDP payload: 446
1336846856994: Received UDP payload: 446
1336846857276: Received UDP payload: 446
1336846857983: Received UDP payload: 446
1336846858439: Received UDP payload: 3380
1336846858444: mux: Inside mux Packet.CLIENT_REQUEST
1336846858507: Received UDP payload: 3744
1336846858514: mux: GOT CSM_Msg
1336846858514: forwarding disabled, not forwarding packets
1336846858523: Received UDP payload: 446
1336846858527: mux: Inside Packet.SERVER_REPLY
1336846858527: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846858533: Received UDP payload: 1006
1336846858539: mux: GOT CSM_Msg
1336846858539: forwarding disabled, not forwarding packets
1336846858863: Received UDP payload: 659
1336846858867: mux: Inside Packet.SERVER_REPLY
1336846858867: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846858881: Received UDP payload: 446
1336846858885: mux: Inside mux Packet.CLIENT_REQUEST
1336846859489: Received UDP payload: 3420
1336846859494: mux: Inside mux Packet.CLIENT_REQUEST
1336846859548: Received UDP payload: 3784
1336846859555: mux: GOT CSM_Msg
1336846859555: forwarding disabled, not forwarding packets
1336846859564: Received UDP payload: 446
1336846859568: mux: Inside Packet.SERVER_REPLY
1336846859568: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846859571: Received UDP payload: 446
1336846859581: Received UDP payload: 1006
1336846859596: mux: GOT CSM_Msg
1336846859596: forwarding disabled, not forwarding packets
1336846859606: Received UDP payload: 659
1336846859610: mux: Inside Packet.SERVER_REPLY
1336846859611: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846859617: Received UDP payload: 446
1336846859618: mux: Inside mux Packet.CLIENT_REQUEST
1336846860940: Received UDP payload: 446
1336846861119: inside sendPacket(Packet p)
1336846861122: Sending UDP payload: 446
1336846861994: Received UDP payload: 446
1336846862575: Received UDP payload: 446
1336846862982: Received UDP payload: 446
1336846864554: Received UDP payload: 446
1336846865453: Received UDP payload: 3803
1336846865459: mux: GOT CSM_Msg
1336846865459: forwarding disabled, not forwarding packets
1336846865471: Received UDP payload: 1006
1336846865478: mux: GOT CSM_Msg
1336846865479: forwarding disabled, not forwarding packets
1336846865986: Received UDP payload: 446
1336846866121: inside sendPacket(Packet p)
1336846866124: Sending UDP payload: 446
1336846867042: Received UDP payload: 446
1336846867584: Received UDP payload: 446
1336846867988: Received UDP payload: 446
1336846869558: Received UDP payload: 446
1336846869653: Received UDP payload: 3734
1336846869661: mux: GOT CSM_Msg
1336846869662: forwarding disabled, not forwarding packets
1336846869673: Received UDP payload: 1006
1336846869680: mux: GOT CSM_Msg
1336846869680: forwarding disabled, not forwarding packets
1336846870942: Received UDP payload: 446
1336846871126: inside sendPacket(Packet p)
1336846871129: Sending UDP payload: 446
1336846872040: Received UDP payload: 446
1336846872578: Received UDP payload: 446
1336846873332: Received UDP payload: 446
1336846874565: Received UDP payload: 446
1336846875941: Received UDP payload: 446
1336846876127: inside sendPacket(Packet p)
1336846876147: Sending UDP payload: 446
1336846876449: Received UDP payload: 3791
1336846876457: mux: GOT CSM_Msg
1336846876457: forwarding disabled, not forwarding packets
1336846876473: Received UDP payload: 1006
1336846876479: mux: GOT CSM_Msg
1336846876479: forwarding disabled, not forwarding packets
1336846876548: Received UDP payload: 3370
1336846876552: mux: Inside mux Packet.CLIENT_REQUEST
1336846876553: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846876553: inside handleClientRequest. Originator leader of region 5
1336846876554: got new request, requestCounter = 5013043
1336846876554: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846876555: Sending PROC_REQUEST 10:12 (5,0)->(5,0)
1336846876556: Dispatching Atom PROC_REQUEST 10:12 (5,0)->(5,0)
1336846876558: mux: I got a CSM packet at a leader 

1336846876625: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846876628: I'm a leader and I successfully saved my client's new photo
1336846876629: now showing in UI the new photo I just saved ... 
1336846876630: the photo length: 2706
1336846876783: end of server show photo aside %%%%%%%%%
1336846876557: Note down new request by adding requestCounter=5013043 to HashMap processedRequests
1336846876557: Make FirstLeg Ack regardless of new or already-processed requests
1336846876557: The leader sending a First Leg ack to originator client (which id = 5013)
1336846876558: inside sendPacket(Packet p)
1336846876562: Sending UDP payload: 3734
1336846876576: removed replies before id 12 from sentReplies of size 0
1336846876580: inside handleDSMRequest. At requests's remote leader of region 5
1336846876582: Inside UPLOAD_PHOTO!!
1336846876586: my_gpinfo.isSuccess is now (should be true): true
1336846876586: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846876590: Received PROC_REQUEST 10:12 (5,0)->(5,0), replying PROC_REPLY 10:12 (5,0)->(5,0)
1336846876590: Dispatching Atom PROC_REPLY 10:12 (5,0)->(5,0)
1336846876606: mux: I got a CSM packet at a leader 

1336846876603: Sending UDP payload: 446
1336846876609: Sending UDP payload: 1006
1336846876618: Received PROC_REPLY 10:12 (5,0)->(5,0), handing to UserApp
1336846876618: inside handleDSMReply. Now back in originator leader of region 5
1336846876619: DSM layer: Going to and from remote region took latency = 64
1336846876619: DSM layer: orig leader sent packet at 1336846876554 ~ received reply from remote leader at 1336846876618
1336846876621: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846876621: leader client reply has replyCounter: 501304300
1336846876622: reply packet contains the success info for UPLOAD_PHOTO
1336846876622: inside sendReplies of replyCount = 501304300
1336846876730: =======================
1336846876730: inside sendReplyRepeatingRunnable for replyCount = 501304300
1336846876731: Leader about to send REPLY packet, number: 501304300 type: 16 Leader in region: (5,0) to Client nodID: 5013
1336846876731: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846876732: inside sendPacket(Packet p)
1336846876732: === Finished one round of sending REPLY Packet =======
1336846876772: Sending UDP payload: 659
1336846876797: Received UDP payload: 446
1336846876814: mux: Inside mux Packet.CLIENT_REQUEST
1336846876815: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846876815: inside handleClientRequest. Originator leader of region 5
1336846876816: got new request, requestCounter = 5013044
1336846876816: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501304300
1336846876816: Yay the last leg succeeded. Removing reply runnables ...
1336846876817: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501304300
1336846876817: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501304300
1336846876817: do not send ack for received final_leg_ack
1336846877306: Received UDP payload: 446
1336846877581: Received UDP payload: 446
1336846877712: canPressButton = TRUE
1336846877712: areButtonsEnabled --> false
1336846877719: disabling buttons ...
1336846877720: took picture disableButtonsR
1336846877720: areButtonsEnabled --> false
1336846877734: one more takeNum: 4
1336846877734: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846877735: Clicked take picture button ..
1336846878309: Received UDP payload: 446
1336846878878: inside HandlePictureStorage onPictureTaken()
1336846878879: one more takeCamGood: 4
1336846878904: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846879391: Picture successfully taken, ORIG BYTE LENGTH = 1593113
1336846879602: Our new height x width: 306 x 408
1336846879603: Show photo from handle my camera take
1336846879604: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846879604: change local requestCounter to 43
1336846879633: BYTE SIZE AFTER COMPRESSION: 2738
1336846879643: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5008043 Client in region: 5 Client nodID: 5008
1336846879570: Received UDP payload: 446
1336846879698: ----------------------------
1336846879698: inside sendRequestPacketRepeatingRunnable for requestCount = 5008043
1336846879699: I'm a leader, my requesting photos packet going to mux directly
1336846879712: --- Finished one round of sending REQUEST Packet ---------
1336846879699: mux: Inside mux Packet.CLIENT_REQUEST
1336846879700: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846879767: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846879700: inside handleClientRequest. Originator leader of region 5
1336846879700: got new request, requestCounter = 5008043
1336846879700: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846879701: Sending PROC_REQUEST 10:13 (5,0)->(5,0)
1336846879701: Dispatching Atom PROC_REQUEST 10:13 (5,0)->(5,0)
1336846879703: mux: I got a CSM packet at a leader 

1336846879769: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846879771: I'm a leader and I successfully saved my client's new photo
1336846879771: now showing in UI the new photo I just saved ... 
1336846879772: the photo length: 2738
1336846879845: end of server show photo aside %%%%%%%%%
1336846879702: Note down new request by adding requestCounter=5008043 to HashMap processedRequests
1336846879702: Make FirstLeg Ack regardless of new or already-processed requests
1336846879702: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846879725: Sending UDP payload: 3766
1336846879729: removed replies before id 13 from sentReplies of size 0
1336846879729: inside handleDSMRequest. At requests's remote leader of region 5
1336846879740: Inside UPLOAD_PHOTO!!
1336846879747: my_gpinfo.isSuccess is now (should be true): true
1336846879748: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846879750: Received PROC_REQUEST 10:13 (5,0)->(5,0), replying PROC_REPLY 10:13 (5,0)->(5,0)
1336846879750: Dispatching Atom PROC_REPLY 10:13 (5,0)->(5,0)
1336846879763: mux: I got a CSM packet at a leader 

1336846879889: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846879890: disabling progressdialog due to successful new photo upload
1336846879890: Inside _enableButtons
1336846879891: areButtonsEnabled --> true
1336846879891: send final leg ack regardless of new or already-processed reply
1336846879892: inside finalLegAck: change requestCounter to 44
1336846879893: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008044 Client in region: (5,0) Client nodID: 5008
1336846879893: I'm a leader client, my final_leg packet going to mux directly
1336846879896: new client_upload_photo_ack reply with replyCounter 500804300
1336846879897: note down new reply by adding replyCounter=500804300 to HashMap processedReplies
1336846879897: leader upload new photo latency = 190
1336846879897: = leader upload start 1336846879699 ~ stop 1336846879889
1336846879903: one more takeGoodSave: 4
1336846879904: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846879905: adding take latency: 190
1336846879905: SUCCESS Client now knows saving photo on its leader succeeded
1336846879765: Sending UDP payload: 1006
1336846879774: Received PROC_REPLY 10:13 (5,0)->(5,0), handing to UserApp
1336846879775: inside handleDSMReply. Now back in originator leader of region 5
1336846879775: DSM layer: Going to and from remote region took latency = 75
1336846879775: DSM layer: orig leader sent packet at 1336846879700 ~ received reply from remote leader at 1336846879775
1336846879776: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846879777: leader client reply has replyCounter: 500804300
1336846879777: reply packet contains the success info for UPLOAD_PHOTO
1336846879778: inside sendReplies of replyCount = 500804300
1336846879778: =======================
1336846879778: inside sendReplyRepeatingRunnable for replyCount = 500804300
1336846879778: Leader about to send REPLY packet, number: 500804300 type: 16 Leader in region: (5,0) to Client nodID: 5008
1336846879779: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846879779: === Finished one round of sending REPLY Packet =======
1336846879894: mux: Inside mux Packet.CLIENT_REQUEST
1336846879894: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846879894: inside handleClientRequest. Originator leader of region 5
1336846879894: got new request, requestCounter = 5008044
1336846879895: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500804300
1336846879895: Yay the last leg succeeded. Removing reply runnables ...
1336846879895: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500804300
1336846879895: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500804300
1336846879895: do not send ack for received final_leg_ack
1336846880939: Received UDP payload: 446
1336846881150: inside sendPacket(Packet p)
1336846881177: Sending UDP payload: 446
1336846882311: Received UDP payload: 446
1336846882374: Received UDP payload: 3807
1336846882397: mux: GOT CSM_Msg
1336846882397: forwarding disabled, not forwarding packets
1336846882408: Received UDP payload: 1006
1336846882424: mux: GOT CSM_Msg
1336846882424: forwarding disabled, not forwarding packets
1336846882583: Received UDP payload: 446
1336846883322: Received UDP payload: 446
1336846884643: Received UDP payload: 446
1336846885014: Received UDP payload: 3417
1336846885019: mux: Inside mux Packet.CLIENT_REQUEST
1336846885102: Received UDP payload: 3781
1336846885109: mux: GOT CSM_Msg
1336846885109: forwarding disabled, not forwarding packets
1336846885113: Received UDP payload: 446
1336846885122: mux: Inside Packet.SERVER_REPLY
1336846885123: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846885133: Received UDP payload: 1006
1336846885139: mux: GOT CSM_Msg
1336846885140: forwarding disabled, not forwarding packets
1336846885173: Received UDP payload: 659
1336846885178: mux: Inside Packet.SERVER_REPLY
1336846885179: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846885201: Received UDP payload: 446
1336846885202: mux: Inside mux Packet.CLIENT_REQUEST
1336846885944: Received UDP payload: 446
1336846886060: leader to cloud hearbeat...
1336846886495: inside sendPacket(Packet p)
1336846886515: Sending UDP payload: 446
1336846887375: Received UDP payload: 446
1336846887586: Received UDP payload: 446
1336846888339: Received UDP payload: 446
1336846889581: Received UDP payload: 446
1336846890948: Received UDP payload: 446
1336846891517: inside sendPacket(Packet p)
1336846891520: Sending UDP payload: 446
1336846892343: Received UDP payload: 446
1336846892588: Received UDP payload: 446
1336846893343: Received UDP payload: 446
1336846894570: Received UDP payload: 446
1336846895478: Received UDP payload: 642
1336846895484: mux: Inside mux Packet.CLIENT_REQUEST
1336846895527: Received UDP payload: 1006
1336846895534: mux: GOT CSM_Msg
1336846895534: forwarding disabled, not forwarding packets
1336846895553: Received UDP payload: 446
1336846895557: mux: Inside Packet.SERVER_REPLY
1336846895557: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846895595: Received UDP payload: 3803
1336846895597: mux: GOT CSM_Msg
1336846895597: forwarding disabled, not forwarding packets
1336846895648: Received UDP payload: 3456
1336846895649: mux: Inside Packet.SERVER_REPLY
1336846895650: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846895671: Received UDP payload: 446
1336846895672: mux: Inside mux Packet.CLIENT_REQUEST
1336846895999: Received UDP payload: 446
1336846896518: inside sendPacket(Packet p)
1336846896521: Sending UDP payload: 446
1336846896758: Received UDP payload: 1006
1336846896767: mux: GOT CSM_Msg
1336846896768: forwarding disabled, not forwarding packets
1336846896798: Received UDP payload: 3803
1336846896809: mux: GOT CSM_Msg
1336846896809: forwarding disabled, not forwarding packets
1336846897399: Received UDP payload: 446
1336846897615: Received UDP payload: 446
1336846897863: Received UDP payload: 642
1336846897868: mux: Inside mux Packet.CLIENT_REQUEST
1336846897916: Received UDP payload: 1006
1336846897924: mux: GOT CSM_Msg
1336846897925: forwarding disabled, not forwarding packets
1336846897925: Received UDP payload: 446
1336846897929: mux: Inside Packet.SERVER_REPLY
1336846897929: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846897978: Received UDP payload: 3803
1336846897985: mux: GOT CSM_Msg
1336846897985: forwarding disabled, not forwarding packets
1336846898037: Received UDP payload: 3456
1336846898039: mux: Inside Packet.SERVER_REPLY
1336846898039: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846898050: Received UDP payload: 446
1336846898051: mux: Inside mux Packet.CLIENT_REQUEST
1336846898340: Received UDP payload: 446
1336846898826: Received UDP payload: 1006
1336846898834: mux: GOT CSM_Msg
1336846898834: forwarding disabled, not forwarding packets
1336846898930: Received UDP payload: 3803
1336846898931: mux: GOT CSM_Msg
1336846898932: forwarding disabled, not forwarding packets
1336846899574: Received UDP payload: 446
1336846900963: Received UDP payload: 446
1336846901523: inside sendPacket(Packet p)
1336846901525: Sending UDP payload: 446
1336846902366: Received UDP payload: 446
1336846902584: Received UDP payload: 446
1336846903342: Received UDP payload: 446
1336846903978: Received UDP payload: 1006
1336846903986: mux: GOT CSM_Msg
1336846903986: forwarding disabled, not forwarding packets
1336846904078: Received UDP payload: 3803
1336846904086: mux: GOT CSM_Msg
1336846904086: forwarding disabled, not forwarding packets
1336846904578: Received UDP payload: 446
1336846905979: Received UDP payload: 446
1336846906525: inside sendPacket(Packet p)
1336846906528: Sending UDP payload: 446
1336846907376: Received UDP payload: 446
1336846907594: Received UDP payload: 446
1336846908344: Received UDP payload: 446
1336846909209: Received UDP payload: 1006
1336846909217: mux: GOT CSM_Msg
1336846909217: forwarding disabled, not forwarding packets
1336846909293: Received UDP payload: 3803
1336846909299: mux: GOT CSM_Msg
1336846909300: forwarding disabled, not forwarding packets
1336846909580: Received UDP payload: 446
1336846910765: Received UDP payload: 642
1336846910769: mux: Inside mux Packet.CLIENT_REQUEST
1336846910769: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846910769: inside handleClientRequest. Originator leader of region 5
1336846910770: got new request, requestCounter = 5013045
1336846910770: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846910783: Sending to region: 0
1336846910784: Sending PROC_REQUEST 11:6 (5,0)->(0,0)
1336846910785: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336846910787: mux: I got a CSM packet at a leader 

1336846910785: Note down new request by adding requestCounter=5013045 to HashMap processedRequests
1336846910786: Make FirstLeg Ack regardless of new or already-processed requests
1336846910786: The leader sending a First Leg ack to originator client (which id = 5013)
1336846910786: inside sendPacket(Packet p)
1336846910814: Sending UDP payload: 1006
1336846910815: forwarding disabled, not forwarding packets
1336846910818: Sending UDP payload: 446
1336846910909: Received UDP payload: 3803
1336846910911: mux: GOT CSM_Msg
1336846910911: Received PROC_REPLY 11:6 (0,0)->(5,0), handing to UserApp
1336846910912: inside handleDSMReply. Now back in originator leader of region 5
1336846910912: DSM layer: Going to and from remote region took latency = 129
1336846910912: DSM layer: orig leader sent packet at 1336846910783 ~ received reply from remote leader at 1336846910912
1336846910916: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846910917: leader client reply has replyCounter: 501304500
1336846910917: reply packet contains the newest photo/success info from the remote region
1336846910918: inside sendReplies of replyCount = 501304500
1336846910918: =======================
1336846910918: inside sendReplyRepeatingRunnable for replyCount = 501304500
1336846910919: Leader about to send REPLY packet, number: 501304500 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846910919: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846910919: inside sendPacket(Packet p)
1336846910919: === Finished one round of sending REPLY Packet =======
1336846910921: Sending UDP payload: 3456
1336846910977: Received UDP payload: 446
1336846910983: Received UDP payload: 446
1336846910984: mux: Inside mux Packet.CLIENT_REQUEST
1336846910985: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846910985: inside handleClientRequest. Originator leader of region 5
1336846910986: got new request, requestCounter = 5013046
1336846910986: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501304500
1336846910986: Yay the last leg succeeded. Removing reply runnables ...
1336846910986: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501304500
1336846910987: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501304500
1336846910987: do not send ack for received final_leg_ack
1336846911526: inside sendPacket(Packet p)
1336846911528: Sending UDP payload: 446
1336846911696: canPressButton = TRUE
1336846911696: areButtonsEnabled --> false 
1336846911696: get picture disableButtonsR
1336846911696: areButtonsEnabled --> false
1336846911710: one more getNum: 19
1336846911711: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=18 getBad=0 getTimedout=0 getPercent=94%
1336846911711: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846911712: change local requestCounter to 45
1336846911713: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008045 Client in region: 5 Client nodID: 5008
1336846911742: ----------------------------
1336846911742: inside sendRequestPacketRepeatingRunnable for requestCount = 5008045
1336846911742: I'm a leader, my requesting photos packet going to mux directly
1336846911748: --- Finished one round of sending REQUEST Packet ---------
1336846911743: mux: Inside mux Packet.CLIENT_REQUEST
1336846911743: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846911785: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846911743: inside handleClientRequest. Originator leader of region 5
1336846911743: got new request, requestCounter = 5008045
1336846911743: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846911744: Sending to region: 0
1336846911744: Sending PROC_REQUEST 11:7 (5,0)->(0,0)
1336846911745: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336846911745: mux: I got a CSM packet at a leader 

1336846911745: Note down new request by adding requestCounter=5008045 to HashMap processedRequests
1336846911745: Make FirstLeg Ack regardless of new or already-processed requests
1336846911745: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846911746: Sending UDP payload: 1006
1336846911747: forwarding disabled, not forwarding packets
1336846911850: Received UDP payload: 3803
1336846911852: mux: GOT CSM_Msg
1336846911865: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846911865: disabling progressdialog due to successful new photo get
1336846911866: Inside _enableButtons
1336846911866: areButtonsEnabled --> true
1336846911866: send final leg ack regardless of new or already-processed reply
1336846911866: inside finalLegAck: change requestCounter to 46
1336846911867: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008046 Client in region: (5,0) Client nodID: 5008
1336846911867: I'm a leader client, my final_leg packet going to mux directly
1336846911868: new client_show_remotephoto reply with replyCounter 500804500
1336846911869: note down new reply by adding replyCounter=500804500 to HashMap processedReplies
1336846911869: leader download remote photo latency = 122
1336846911869: = leader download start 1336846911743 ~ stop 1336846911865
1336846911881: one more getGood: 19
1336846911882: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=19 getBad=0 getTimedout=0 getPercent=100%
1336846911883: adding get latency: 122
1336846911885: Success! Client getting photo from remote region, showing photo...
1336846911885: Remote photo's length: 2775
1336846911853: Received PROC_REPLY 11:7 (0,0)->(5,0), handing to UserApp
1336846911853: inside handleDSMReply. Now back in originator leader of region 5
1336846911853: DSM layer: Going to and from remote region took latency = 109
1336846911853: DSM layer: orig leader sent packet at 1336846911744 ~ received reply from remote leader at 1336846911853
1336846911854: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846911854: leader client reply has replyCounter: 500804500
1336846911854: reply packet contains the newest photo/success info from the remote region
1336846911854: inside sendReplies of replyCount = 500804500
1336846911862: =======================
1336846911863: inside sendReplyRepeatingRunnable for replyCount = 500804500
1336846911863: Leader about to send REPLY packet, number: 500804500 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846911863: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846911863: === Finished one round of sending REPLY Packet =======
1336846911867: mux: Inside mux Packet.CLIENT_REQUEST
1336846911867: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846911867: inside handleClientRequest. Originator leader of region 5
1336846911868: got new request, requestCounter = 5008046
1336846911868: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500804500
1336846911868: Yay the last leg succeeded. Removing reply runnables ...
1336846911868: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500804500
1336846911868: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500804500
1336846911868: do not send ack for received final_leg_ack
1336846912401: Received UDP payload: 446
1336846912588: Received UDP payload: 446
1336846913355: Received UDP payload: 446
1336846914435: Received UDP payload: 1006
1336846914450: mux: GOT CSM_Msg
1336846914450: forwarding disabled, not forwarding packets
1336846914529: Received UDP payload: 3803
1336846914531: mux: GOT CSM_Msg
1336846914531: forwarding disabled, not forwarding packets
1336846914579: Received UDP payload: 446
1336846915985: Received UDP payload: 642
1336846915989: mux: Inside mux Packet.CLIENT_REQUEST
1336846916007: Received UDP payload: 446
1336846916039: Received UDP payload: 1006
1336846916048: mux: GOT CSM_Msg
1336846916048: forwarding disabled, not forwarding packets
1336846916049: Received UDP payload: 446
1336846916063: mux: Inside Packet.SERVER_REPLY
1336846916063: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846916098: Received UDP payload: 3803
1336846916100: mux: GOT CSM_Msg
1336846916100: forwarding disabled, not forwarding packets
1336846916155: Received UDP payload: 3456
1336846916156: mux: Inside Packet.SERVER_REPLY
1336846916156: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846916171: Received UDP payload: 446
1336846916172: mux: Inside mux Packet.CLIENT_REQUEST
1336846916530: inside sendPacket(Packet p)
1336846916554: Sending UDP payload: 446
1336846917402: Received UDP payload: 446
1336846917607: Received UDP payload: 446
1336846918356: Received UDP payload: 446
1336846919581: Received UDP payload: 446
1336846921006: Received UDP payload: 446
1336846921531: inside sendPacket(Packet p)
1336846921544: Sending UDP payload: 446
1336846922422: Received UDP payload: 446
1336846922617: Received UDP payload: 446
1336846923318: Received UDP payload: 1006
1336846923327: mux: GOT CSM_Msg
1336846923327: forwarding disabled, not forwarding packets
1336846923357: Received UDP payload: 3744
1336846923365: mux: GOT CSM_Msg
1336846923365: forwarding disabled, not forwarding packets
1336846923366: Received UDP payload: 446
1336846924464: Received UDP payload: 642
1336846924476: mux: Inside mux Packet.CLIENT_REQUEST
1336846924519: Received UDP payload: 1006
1336846924528: mux: GOT CSM_Msg
1336846924528: forwarding disabled, not forwarding packets
1336846924540: Received UDP payload: 446
1336846924544: mux: Inside Packet.SERVER_REPLY
1336846924545: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846924593: Received UDP payload: 3744
1336846924601: mux: GOT CSM_Msg
1336846924601: forwarding disabled, not forwarding packets
1336846924602: Received UDP payload: 446
1336846924640: Received UDP payload: 3397
1336846924645: mux: Inside Packet.SERVER_REPLY
1336846924645: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846924655: Received UDP payload: 446
1336846924659: mux: Inside mux Packet.CLIENT_REQUEST
1336846925909: Received UDP payload: 642
1336846925915: mux: Inside mux Packet.CLIENT_REQUEST
1336846925960: Received UDP payload: 1006
1336846925967: mux: GOT CSM_Msg
1336846925967: forwarding disabled, not forwarding packets
1336846925967: Received UDP payload: 446
1336846925968: mux: Inside Packet.SERVER_REPLY
1336846925968: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846926016: Received UDP payload: 446
1336846926061: Received UDP payload: 3744
1336846926064: mux: GOT CSM_Msg
1336846926064: forwarding disabled, not forwarding packets
1336846926118: Received UDP payload: 3397
1336846926119: mux: Inside Packet.SERVER_REPLY
1336846926120: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846926131: Received UDP payload: 446
1336846926132: mux: Inside mux Packet.CLIENT_REQUEST
1336846926547: inside sendPacket(Packet p)
1336846926549: Sending UDP payload: 446
1336846927313: Received UDP payload: 1006
1336846927319: mux: GOT CSM_Msg
1336846927320: forwarding disabled, not forwarding packets
1336846927404: Received UDP payload: 3744
1336846927406: mux: GOT CSM_Msg
1336846927406: forwarding disabled, not forwarding packets
1336846927620: Received UDP payload: 446
1336846928373: Received UDP payload: 446
1336846929588: Received UDP payload: 446
1336846931058: Received UDP payload: 446
1336846931547: inside sendPacket(Packet p)
1336846931557: Sending UDP payload: 446
1336846932234: Received UDP payload: 1006
1336846932241: mux: GOT CSM_Msg
1336846932241: forwarding disabled, not forwarding packets
1336846932324: Received UDP payload: 3744
1336846932330: mux: GOT CSM_Msg
1336846932331: forwarding disabled, not forwarding packets
1336846932622: Received UDP payload: 446
1336846933389: Received UDP payload: 446
1336846934587: Received UDP payload: 446
1336846935257: Received UDP payload: 1006
1336846935265: mux: GOT CSM_Msg
1336846935266: forwarding disabled, not forwarding packets
1336846935344: Received UDP payload: 3744
1336846935355: mux: GOT CSM_Msg
1336846935355: forwarding disabled, not forwarding packets
1336846936022: Received UDP payload: 446
1336846936557: inside sendPacket(Packet p)
1336846936560: Sending UDP payload: 446
1336846937465: Received UDP payload: 446
1336846937631: Received UDP payload: 446
1336846937873: Received UDP payload: 642
1336846937877: mux: Inside mux Packet.CLIENT_REQUEST
1336846937878: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846937878: inside handleClientRequest. Originator leader of region 5
1336846937879: got new request, requestCounter = 5013047
1336846937879: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846937895: Sending to region: 1
1336846937897: Sending PROC_REQUEST 11:6 (5,0)->(1,0)
1336846937898: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(1,0)
1336846937900: mux: I got a CSM packet at a leader 

1336846937898: Note down new request by adding requestCounter=5013047 to HashMap processedRequests
1336846937898: Make FirstLeg Ack regardless of new or already-processed requests
1336846937899: The leader sending a First Leg ack to originator client (which id = 5013)
1336846937899: inside sendPacket(Packet p)
1336846937918: Sending UDP payload: 1006
1336846937923: forwarding disabled, not forwarding packets
1336846937925: Sending UDP payload: 446
1336846938005: Received UDP payload: 3744
1336846938007: mux: GOT CSM_Msg
1336846938008: Received PROC_REPLY 11:6 (1,0)->(5,0), handing to UserApp
1336846938008: inside handleDSMReply. Now back in originator leader of region 5
1336846938008: DSM layer: Going to and from remote region took latency = 112
1336846938008: DSM layer: orig leader sent packet at 1336846937896 ~ received reply from remote leader at 1336846938008
1336846938009: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846938009: leader client reply has replyCounter: 501304700
1336846938009: reply packet contains the newest photo/success info from the remote region
1336846938009: inside sendReplies of replyCount = 501304700
1336846938009: =======================
1336846938009: inside sendReplyRepeatingRunnable for replyCount = 501304700
1336846938010: Leader about to send REPLY packet, number: 501304700 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846938010: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846938010: inside sendPacket(Packet p)
1336846938010: === Finished one round of sending REPLY Packet =======
1336846938011: Sending UDP payload: 3397
1336846938067: Received UDP payload: 446
1336846938068: mux: Inside mux Packet.CLIENT_REQUEST
1336846938068: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846938068: inside handleClientRequest. Originator leader of region 5
1336846938068: got new request, requestCounter = 5013048
1336846938069: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501304700
1336846938069: Yay the last leg succeeded. Removing reply runnables ...
1336846938069: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501304700
1336846938069: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501304700
1336846938069: do not send ack for received final_leg_ack
1336846938377: Received UDP payload: 446
1336846939042: canPressButton = TRUE
1336846939043: areButtonsEnabled --> false 
1336846939043: get picture disableButtonsR
1336846939043: areButtonsEnabled --> false
1336846939056: one more getNum: 20
1336846939057: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=19 getBad=0 getTimedout=0 getPercent=95%
1336846939057: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846939057: change local requestCounter to 47
1336846939060: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008047 Client in region: 5 Client nodID: 5008
1336846939092: ----------------------------
1336846939092: inside sendRequestPacketRepeatingRunnable for requestCount = 5008047
1336846939092: I'm a leader, my requesting photos packet going to mux directly
1336846939098: --- Finished one round of sending REQUEST Packet ---------
1336846939093: mux: Inside mux Packet.CLIENT_REQUEST
1336846939093: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846939133: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846939093: inside handleClientRequest. Originator leader of region 5
1336846939093: got new request, requestCounter = 5008047
1336846939093: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846939094: Sending to region: 1
1336846939094: Sending PROC_REQUEST 11:7 (5,0)->(1,0)
1336846939095: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(1,0)
1336846939096: mux: I got a CSM packet at a leader 

1336846939095: Note down new request by adding requestCounter=5008047 to HashMap processedRequests
1336846939095: Make FirstLeg Ack regardless of new or already-processed requests
1336846939095: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846939097: Sending UDP payload: 1006
1336846939098: forwarding disabled, not forwarding packets
1336846939212: Received UDP payload: 3744
1336846939216: mux: GOT CSM_Msg
1336846939219: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846939220: disabling progressdialog due to successful new photo get
1336846939220: Inside _enableButtons
1336846939220: areButtonsEnabled --> true
1336846939220: send final leg ack regardless of new or already-processed reply
1336846939221: inside finalLegAck: change requestCounter to 48
1336846939225: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008048 Client in region: (5,0) Client nodID: 5008
1336846939225: I'm a leader client, my final_leg packet going to mux directly
1336846939227: new client_show_remotephoto reply with replyCounter 500804700
1336846939227: note down new reply by adding replyCounter=500804700 to HashMap processedReplies
1336846939227: leader download remote photo latency = 127
1336846939228: = leader download start 1336846939092 ~ stop 1336846939219
1336846939229: one more getGood: 20
1336846939230: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=20 getBad=0 getTimedout=0 getPercent=100%
1336846939231: adding get latency: 127
1336846939231: Success! Client getting photo from remote region, showing photo...
1336846939231: Remote photo's length: 2716
1336846939216: Received PROC_REPLY 11:7 (1,0)->(5,0), handing to UserApp
1336846939216: inside handleDSMReply. Now back in originator leader of region 5
1336846939216: DSM layer: Going to and from remote region took latency = 122
1336846939216: DSM layer: orig leader sent packet at 1336846939094 ~ received reply from remote leader at 1336846939216
1336846939217: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846939217: leader client reply has replyCounter: 500804700
1336846939217: reply packet contains the newest photo/success info from the remote region
1336846939217: inside sendReplies of replyCount = 500804700
1336846939218: =======================
1336846939218: inside sendReplyRepeatingRunnable for replyCount = 500804700
1336846939218: Leader about to send REPLY packet, number: 500804700 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846939218: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846939218: === Finished one round of sending REPLY Packet =======
1336846939225: mux: Inside mux Packet.CLIENT_REQUEST
1336846939225: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846939225: inside handleClientRequest. Originator leader of region 5
1336846939225: got new request, requestCounter = 5008048
1336846939226: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500804700
1336846939226: Yay the last leg succeeded. Removing reply runnables ...
1336846939226: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500804700
1336846939226: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500804700
1336846939226: do not send ack for received final_leg_ack
1336846939585: Received UDP payload: 446
1336846941031: Received UDP payload: 446
1336846941558: inside sendPacket(Packet p)
1336846941566: Sending UDP payload: 446
1336846941895: Received UDP payload: 1006
1336846941902: mux: GOT CSM_Msg
1336846941902: forwarding disabled, not forwarding packets
1336846941977: Received UDP payload: 3744
1336846941985: mux: GOT CSM_Msg
1336846941986: forwarding disabled, not forwarding packets
1336846942464: Received UDP payload: 446
1336846942625: Received UDP payload: 446
1336846943088: Received UDP payload: 642
1336846943092: mux: Inside mux Packet.CLIENT_REQUEST
1336846943146: Received UDP payload: 1006
1336846943154: mux: GOT CSM_Msg
1336846943154: forwarding disabled, not forwarding packets
1336846943163: Received UDP payload: 446
1336846943167: mux: Inside Packet.SERVER_REPLY
1336846943167: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846943216: Received UDP payload: 3744
1336846943223: mux: GOT CSM_Msg
1336846943223: forwarding disabled, not forwarding packets
1336846943264: Received UDP payload: 3397
1336846943269: mux: Inside Packet.SERVER_REPLY
1336846943270: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846943287: Received UDP payload: 446
1336846943291: mux: Inside mux Packet.CLIENT_REQUEST
1336846943378: Received UDP payload: 446
1336846944608: Received UDP payload: 446
1336846946043: Received UDP payload: 446
1336846946568: inside sendPacket(Packet p)
1336846946585: Sending UDP payload: 446
1336846947472: Received UDP payload: 446
1336846947642: Received UDP payload: 446
1336846948382: Received UDP payload: 446
1336846949603: Received UDP payload: 446
1336846951058: Received UDP payload: 446
1336846951265: Received UDP payload: 642
1336846951270: mux: Inside mux Packet.CLIENT_REQUEST
1336846951311: Received UDP payload: 1006
1336846951318: mux: GOT CSM_Msg
1336846951318: forwarding disabled, not forwarding packets
1336846951325: Received UDP payload: 446
1336846951326: mux: Inside Packet.SERVER_REPLY
1336846951326: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846951404: Received UDP payload: 3791
1336846951406: mux: GOT CSM_Msg
1336846951406: forwarding disabled, not forwarding packets
1336846951463: Received UDP payload: 3444
1336846951465: mux: Inside Packet.SERVER_REPLY
1336846951465: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846951474: Received UDP payload: 446
1336846951475: mux: Inside mux Packet.CLIENT_REQUEST
1336846951589: inside sendPacket(Packet p)
1336846951590: Sending UDP payload: 446
1336846952484: Received UDP payload: 446
1336846952562: Received UDP payload: 1006
1336846952569: mux: GOT CSM_Msg
1336846952570: forwarding disabled, not forwarding packets
1336846952634: Received UDP payload: 642
1336846952639: mux: Inside mux Packet.CLIENT_REQUEST
1336846952643: Received UDP payload: 446
1336846952655: Received UDP payload: 3791
1336846952661: mux: GOT CSM_Msg
1336846952662: forwarding disabled, not forwarding packets
1336846952697: Received UDP payload: 1006
1336846952705: mux: GOT CSM_Msg
1336846952705: forwarding disabled, not forwarding packets
1336846952706: Received UDP payload: 446
1336846952710: mux: Inside Packet.SERVER_REPLY
1336846952710: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846952749: Received UDP payload: 3791
1336846952751: mux: GOT CSM_Msg
1336846952751: forwarding disabled, not forwarding packets
1336846952806: Received UDP payload: 3444
1336846952808: mux: Inside Packet.SERVER_REPLY
1336846952808: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846952820: Received UDP payload: 446
1336846952821: mux: Inside mux Packet.CLIENT_REQUEST
1336846953381: Received UDP payload: 446
1336846953977: Received UDP payload: 1006
1336846953984: mux: GOT CSM_Msg
1336846953985: forwarding disabled, not forwarding packets
1336846954055: Received UDP payload: 3791
1336846954061: mux: GOT CSM_Msg
1336846954062: forwarding disabled, not forwarding packets
1336846954596: Received UDP payload: 446
1336846956062: Received UDP payload: 446
1336846956591: inside sendPacket(Packet p)
1336846956594: Sending UDP payload: 446
1336846957503: Received UDP payload: 446
1336846957634: Received UDP payload: 446
1336846958427: Received UDP payload: 446
1336846958711: Received UDP payload: 1006
1336846958719: mux: GOT CSM_Msg
1336846958719: forwarding disabled, not forwarding packets
1336846958807: Received UDP payload: 3791
1336846958809: mux: GOT CSM_Msg
1336846958809: forwarding disabled, not forwarding packets
1336846959653: Received UDP payload: 446
1336846961061: Received UDP payload: 446
1336846961592: inside sendPacket(Packet p)
1336846961606: Sending UDP payload: 446
1336846962350: Received UDP payload: 1006
1336846962358: mux: GOT CSM_Msg
1336846962359: forwarding disabled, not forwarding packets
1336846962389: Received UDP payload: 3791
1336846962397: mux: GOT CSM_Msg
1336846962397: forwarding disabled, not forwarding packets
1336846962506: Received UDP payload: 446
1336846962632: Received UDP payload: 446
1336846963391: Received UDP payload: 446
1336846964205: Received UDP payload: 642
1336846964210: mux: Inside mux Packet.CLIENT_REQUEST
1336846964210: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846964211: inside handleClientRequest. Originator leader of region 5
1336846964211: got new request, requestCounter = 5013049
1336846964212: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846964225: Sending to region: 2
1336846964226: Sending PROC_REQUEST 11:6 (5,0)->(2,0)
1336846964227: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(2,0)
1336846964229: mux: I got a CSM packet at a leader 

1336846964227: Note down new request by adding requestCounter=5013049 to HashMap processedRequests
1336846964228: Make FirstLeg Ack regardless of new or already-processed requests
1336846964228: The leader sending a First Leg ack to originator client (which id = 5013)
1336846964228: inside sendPacket(Packet p)
1336846964244: Sending UDP payload: 1006
1336846964246: forwarding disabled, not forwarding packets
1336846964248: Sending UDP payload: 446
1336846964324: Received UDP payload: 3791
1336846964327: mux: GOT CSM_Msg
1336846964328: Received PROC_REPLY 11:6 (2,0)->(5,0), handing to UserApp
1336846964328: inside handleDSMReply. Now back in originator leader of region 5
1336846964328: DSM layer: Going to and from remote region took latency = 103
1336846964328: DSM layer: orig leader sent packet at 1336846964225 ~ received reply from remote leader at 1336846964328
1336846964329: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846964329: leader client reply has replyCounter: 501304900
1336846964330: reply packet contains the newest photo/success info from the remote region
1336846964330: inside sendReplies of replyCount = 501304900
1336846964330: =======================
1336846964331: inside sendReplyRepeatingRunnable for replyCount = 501304900
1336846964331: Leader about to send REPLY packet, number: 501304900 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846964331: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846964331: inside sendPacket(Packet p)
1336846964331: === Finished one round of sending REPLY Packet =======
1336846964333: Sending UDP payload: 3444
1336846964388: Received UDP payload: 446
1336846964390: mux: Inside mux Packet.CLIENT_REQUEST
1336846964390: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846964390: inside handleClientRequest. Originator leader of region 5
1336846964391: got new request, requestCounter = 5013050
1336846964391: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501304900
1336846964391: Yay the last leg succeeded. Removing reply runnables ...
1336846964391: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501304900
1336846964391: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501304900
1336846964391: do not send ack for received final_leg_ack
1336846964685: Received UDP payload: 446
1336846965102: canPressButton = TRUE
1336846965102: areButtonsEnabled --> false 
1336846965105: get picture disableButtonsR
1336846965107: areButtonsEnabled --> false
1336846965158: one more getNum: 21
1336846965159: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=20 getBad=0 getTimedout=0 getPercent=95%
1336846965159: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846965159: change local requestCounter to 49
1336846965160: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008049 Client in region: 5 Client nodID: 5008
1336846965191: ----------------------------
1336846965191: inside sendRequestPacketRepeatingRunnable for requestCount = 5008049
1336846965191: I'm a leader, my requesting photos packet going to mux directly
1336846965197: --- Finished one round of sending REQUEST Packet ---------
1336846965192: mux: Inside mux Packet.CLIENT_REQUEST
1336846965192: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846965228: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846965192: inside handleClientRequest. Originator leader of region 5
1336846965192: got new request, requestCounter = 5008049
1336846965192: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846965193: Sending to region: 2
1336846965193: Sending PROC_REQUEST 11:7 (5,0)->(2,0)
1336846965194: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(2,0)
1336846965194: mux: I got a CSM packet at a leader 

1336846965194: Note down new request by adding requestCounter=5008049 to HashMap processedRequests
1336846965194: Make FirstLeg Ack regardless of new or already-processed requests
1336846965194: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846965196: Sending UDP payload: 1006
1336846965196: forwarding disabled, not forwarding packets
1336846965303: Received UDP payload: 3791
1336846965305: mux: GOT CSM_Msg
1336846965305: Received PROC_REPLY 11:7 (2,0)->(5,0), handing to UserApp
1336846965305: inside handleDSMReply. Now back in originator leader of region 5
1336846965305: DSM layer: Going to and from remote region took latency = 112
1336846965306: DSM layer: orig leader sent packet at 1336846965193 ~ received reply from remote leader at 1336846965305
1336846965306: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846965306: leader client reply has replyCounter: 500804900
1336846965306: reply packet contains the newest photo/success info from the remote region
1336846965307: inside sendReplies of replyCount = 500804900
1336846965312: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846965312: disabling progressdialog due to successful new photo get
1336846965312: Inside _enableButtons
1336846965313: areButtonsEnabled --> true
1336846965313: send final leg ack regardless of new or already-processed reply
1336846965313: inside finalLegAck: change requestCounter to 50
1336846965313: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008050 Client in region: (5,0) Client nodID: 5008
1336846965314: I'm a leader client, my final_leg packet going to mux directly
1336846965315: new client_show_remotephoto reply with replyCounter 500804900
1336846965315: note down new reply by adding replyCounter=500804900 to HashMap processedReplies
1336846965315: leader download remote photo latency = 120
1336846965316: = leader download start 1336846965192 ~ stop 1336846965312
1336846965316: one more getGood: 21
1336846965317: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=21 getBad=0 getTimedout=0 getPercent=100%
1336846965318: adding get latency: 120
1336846965319: Success! Client getting photo from remote region, showing photo...
1336846965319: Remote photo's length: 2763
1336846965308: =======================
1336846965308: inside sendReplyRepeatingRunnable for replyCount = 500804900
1336846965308: Leader about to send REPLY packet, number: 500804900 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846965308: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846965308: === Finished one round of sending REPLY Packet =======
1336846965314: mux: Inside mux Packet.CLIENT_REQUEST
1336846965314: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846965314: inside handleClientRequest. Originator leader of region 5
1336846965314: got new request, requestCounter = 5008050
1336846965314: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500804900
1336846965314: Yay the last leg succeeded. Removing reply runnables ...
1336846965314: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500804900
1336846965315: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500804900
1336846965315: do not send ack for received final_leg_ack
1336846966064: Received UDP payload: 446
1336846966608: inside sendPacket(Packet p)
1336846966655: Sending UDP payload: 446
1336846967507: Received UDP payload: 446
1336846967639: Received UDP payload: 446
1336846968385: Received UDP payload: 446
1336846968698: Received UDP payload: 1006
1336846968710: mux: GOT CSM_Msg
1336846968711: forwarding disabled, not forwarding packets
1336846968791: Received UDP payload: 3791
1336846968793: mux: GOT CSM_Msg
1336846968793: forwarding disabled, not forwarding packets
1336846969610: Received UDP payload: 446
1336846969899: Received UDP payload: 642
1336846969905: mux: Inside mux Packet.CLIENT_REQUEST
1336846969949: Received UDP payload: 1006
1336846969957: mux: GOT CSM_Msg
1336846969957: forwarding disabled, not forwarding packets
1336846969957: Received UDP payload: 446
1336846969958: mux: Inside Packet.SERVER_REPLY
1336846969958: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846970000: Received UDP payload: 3791
1336846970002: mux: GOT CSM_Msg
1336846970002: forwarding disabled, not forwarding packets
1336846970040: Received UDP payload: 3444
1336846970041: mux: Inside Packet.SERVER_REPLY
1336846970041: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846970054: Received UDP payload: 446
1336846970055: mux: Inside mux Packet.CLIENT_REQUEST
1336846971071: Received UDP payload: 446
1336846971623: inside sendPacket(Packet p)
1336846971626: Sending UDP payload: 446
1336846972513: Received UDP payload: 446
1336846972639: Received UDP payload: 446
1336846973392: Received UDP payload: 446
1336846974614: Received UDP payload: 446
1336846975878: Received UDP payload: 1006
1336846975886: mux: GOT CSM_Msg
1336846975887: forwarding disabled, not forwarding packets
1336846975931: Received UDP payload: 3734
1336846975940: mux: GOT CSM_Msg
1336846975940: forwarding disabled, not forwarding packets
1336846976062: Received UDP payload: 446
1336846976624: inside sendPacket(Packet p)
1336846976626: Sending UDP payload: 446
1336846977523: Received UDP payload: 446
1336846977638: Received UDP payload: 446
1336846978397: Received UDP payload: 446
1336846978634: Received UDP payload: 642
1336846978638: mux: Inside mux Packet.CLIENT_REQUEST
1336846978682: Received UDP payload: 1006
1336846978689: mux: GOT CSM_Msg
1336846978689: forwarding disabled, not forwarding packets
1336846978693: Received UDP payload: 446
1336846978697: mux: Inside Packet.SERVER_REPLY
1336846978697: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846978764: Received UDP payload: 3734
1336846978766: mux: GOT CSM_Msg
1336846978766: forwarding disabled, not forwarding packets
1336846978823: Received UDP payload: 3387
1336846978825: mux: Inside Packet.SERVER_REPLY
1336846978825: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846978836: Received UDP payload: 446
1336846978837: mux: Inside mux Packet.CLIENT_REQUEST
1336846979622: Received UDP payload: 446
1336846980058: Received UDP payload: 642
1336846980060: mux: Inside mux Packet.CLIENT_REQUEST
1336846980103: Received UDP payload: 1006
1336846980105: mux: GOT CSM_Msg
1336846980105: forwarding disabled, not forwarding packets
1336846980166: Received UDP payload: 1006
1336846980168: mux: GOT CSM_Msg
1336846980168: forwarding disabled, not forwarding packets
1336846980181: Received UDP payload: 3734
1336846980183: mux: GOT CSM_Msg
1336846980183: forwarding disabled, not forwarding packets
1336846980226: Received UDP payload: 3734
1336846980228: mux: GOT CSM_Msg
1336846980228: forwarding disabled, not forwarding packets
1336846980266: Received UDP payload: 3387
1336846980267: mux: Inside Packet.SERVER_REPLY
1336846980268: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336846980280: Received UDP payload: 446
1336846980281: mux: Inside mux Packet.CLIENT_REQUEST
1336846981064: Received UDP payload: 446
1336846981625: inside sendPacket(Packet p)
1336846981628: Sending UDP payload: 446
1336846982534: Received UDP payload: 446
1336846983009: Received UDP payload: 446
1336846984648: Received UDP payload: 446
1336846986081: Received UDP payload: 446
1336846986628: inside sendPacket(Packet p)
1336846986636: Sending UDP payload: 446
1336846987561: Received UDP payload: 446
1336846988450: Received UDP payload: 446
1336846989641: Received UDP payload: 446
1336846991090: Received UDP payload: 446
1336846991214: Received UDP payload: 1006
1336846991222: mux: GOT CSM_Msg
1336846991222: forwarding disabled, not forwarding packets
1336846991316: Received UDP payload: 3734
1336846991323: mux: GOT CSM_Msg
1336846991324: forwarding disabled, not forwarding packets
1336846991640: inside sendPacket(Packet p)
1336846991643: Sending UDP payload: 446
1336846991985: Received UDP payload: 642
1336846991990: mux: Inside mux Packet.CLIENT_REQUEST
1336846991990: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846991991: inside handleClientRequest. Originator leader of region 5
1336846991991: got new request, requestCounter = 5013051
1336846991991: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846992000: Sending to region: 3
1336846992002: Sending PROC_REQUEST 11:6 (5,0)->(3,0)
1336846992014: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1336846992016: mux: I got a CSM packet at a leader 

1336846992014: Note down new request by adding requestCounter=5013051 to HashMap processedRequests
1336846992014: Make FirstLeg Ack regardless of new or already-processed requests
1336846992015: The leader sending a First Leg ack to originator client (which id = 5013)
1336846992015: inside sendPacket(Packet p)
1336846992037: Sending UDP payload: 1006
1336846992039: forwarding disabled, not forwarding packets
1336846992042: Sending UDP payload: 446
1336846992122: Received UDP payload: 3734
1336846992125: mux: GOT CSM_Msg
1336846992126: Received PROC_REPLY 11:6 (3,0)->(5,0), handing to UserApp
1336846992126: inside handleDSMReply. Now back in originator leader of region 5
1336846992126: DSM layer: Going to and from remote region took latency = 125
1336846992126: DSM layer: orig leader sent packet at 1336846992001 ~ received reply from remote leader at 1336846992126
1336846992127: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846992128: leader client reply has replyCounter: 501305100
1336846992128: reply packet contains the newest photo/success info from the remote region
1336846992128: inside sendReplies of replyCount = 501305100
1336846992128: =======================
1336846992128: inside sendReplyRepeatingRunnable for replyCount = 501305100
1336846992128: Leader about to send REPLY packet, number: 501305100 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336846992129: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336846992129: inside sendPacket(Packet p)
1336846992129: === Finished one round of sending REPLY Packet =======
1336846992130: Sending UDP payload: 3387
1336846992179: Received UDP payload: 446
1336846992181: mux: Inside mux Packet.CLIENT_REQUEST
1336846992181: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846992181: inside handleClientRequest. Originator leader of region 5
1336846992182: got new request, requestCounter = 5013052
1336846992182: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501305100
1336846992182: Yay the last leg succeeded. Removing reply runnables ...
1336846992182: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501305100
1336846992182: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501305100
1336846992183: do not send ack for received final_leg_ack
1336846992562: Received UDP payload: 446
1336846992974: canPressButton = TRUE
1336846992974: areButtonsEnabled --> false 
1336846992974: get picture disableButtonsR
1336846992975: areButtonsEnabled --> false
1336846993000: one more getNum: 22
1336846993001: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=21 getBad=0 getTimedout=0 getPercent=95%
1336846993001: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846993002: change local requestCounter to 51
1336846993006: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008051 Client in region: 5 Client nodID: 5008
1336846993037: ----------------------------
1336846993037: inside sendRequestPacketRepeatingRunnable for requestCount = 5008051
1336846993037: I'm a leader, my requesting photos packet going to mux directly
1336846993047: --- Finished one round of sending REQUEST Packet ---------
1336846993016: Received UDP payload: 446
1336846993038: mux: Inside mux Packet.CLIENT_REQUEST
1336846993038: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846993094: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846993038: inside handleClientRequest. Originator leader of region 5
1336846993038: got new request, requestCounter = 5008051
1336846993038: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846993039: Sending to region: 3
1336846993039: Sending PROC_REQUEST 11:7 (5,0)->(3,0)
1336846993039: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1336846993040: mux: I got a CSM packet at a leader 

1336846993039: Note down new request by adding requestCounter=5008051 to HashMap processedRequests
1336846993040: Make FirstLeg Ack regardless of new or already-processed requests
1336846993040: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336846993043: Sending UDP payload: 1006
1336846993043: forwarding disabled, not forwarding packets
1336846993144: Received UDP payload: 3734
1336846993146: mux: GOT CSM_Msg
1336846993146: Received PROC_REPLY 11:7 (3,0)->(5,0), handing to UserApp
1336846993146: inside handleDSMReply. Now back in originator leader of region 5
1336846993146: DSM layer: Going to and from remote region took latency = 107
1336846993146: DSM layer: orig leader sent packet at 1336846993039 ~ received reply from remote leader at 1336846993146
1336846993147: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846993147: leader client reply has replyCounter: 500805100
1336846993147: reply packet contains the newest photo/success info from the remote region
1336846993147: inside sendReplies of replyCount = 500805100
1336846993158: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846993159: disabling progressdialog due to successful new photo get
1336846993160: Inside _enableButtons
1336846993160: areButtonsEnabled --> true
1336846993161: send final leg ack regardless of new or already-processed reply
1336846993161: inside finalLegAck: change requestCounter to 52
1336846993162: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008052 Client in region: (5,0) Client nodID: 5008
1336846993163: I'm a leader client, my final_leg packet going to mux directly
1336846993164: new client_show_remotephoto reply with replyCounter 500805100
1336846993164: note down new reply by adding replyCounter=500805100 to HashMap processedReplies
1336846993165: leader download remote photo latency = 120
1336846993166: = leader download start 1336846993038 ~ stop 1336846993158
1336846993169: one more getGood: 22
1336846993171: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=22 getBad=0 getTimedout=0 getPercent=100%
1336846993172: adding get latency: 120
1336846993173: Success! Client getting photo from remote region, showing photo...
1336846993174: Remote photo's length: 2706
1336846993148: =======================
1336846993148: inside sendReplyRepeatingRunnable for replyCount = 500805100
1336846993148: Leader about to send REPLY packet, number: 500805100 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336846993148: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336846993148: === Finished one round of sending REPLY Packet =======
1336846993163: mux: Inside mux Packet.CLIENT_REQUEST
1336846993164: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846993164: inside handleClientRequest. Originator leader of region 5
1336846993164: got new request, requestCounter = 5008052
1336846993164: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500805100
1336846993164: Yay the last leg succeeded. Removing reply runnables ...
1336846993164: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500805100
1336846993165: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500805100
1336846993165: do not send ack for received final_leg_ack
1336846993469: Received UDP payload: 446
1336846994677: Received UDP payload: 446
1336846996103: Received UDP payload: 446
1336846996645: inside sendPacket(Packet p)
1336846996665: Sending UDP payload: 446
1336846997753: Received UDP payload: 446
1336846998021: Received UDP payload: 446
1336846998476: Received UDP payload: 446
1336846999579: Received UDP payload: 1006
1336846999591: mux: GOT CSM_Msg
1336846999592: forwarding disabled, not forwarding packets
1336846999640: Received UDP payload: 446
1336847000859: Received UDP payload: 642
1336847000865: mux: Inside mux Packet.CLIENT_REQUEST
1336847000911: Received UDP payload: 1006
1336847000918: mux: GOT CSM_Msg
1336847000918: forwarding disabled, not forwarding packets
1336847000919: Received UDP payload: 446
1336847000920: mux: Inside Packet.SERVER_REPLY
1336847000920: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847000985: Received UDP payload: 3734
1336847000987: mux: GOT CSM_Msg
1336847000988: forwarding disabled, not forwarding packets
1336847001037: Received UDP payload: 3387
1336847001039: mux: Inside Packet.SERVER_REPLY
1336847001039: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847001052: Received UDP payload: 446
1336847001054: mux: Inside mux Packet.CLIENT_REQUEST
1336847001090: Received UDP payload: 446
1336847001645: inside sendPacket(Packet p)
1336847001648: Sending UDP payload: 446
1336847002759: Received UDP payload: 446
1336847003032: Received UDP payload: 446
1336847003477: Received UDP payload: 446
1336847004170: Received UDP payload: 1006
1336847004179: mux: GOT CSM_Msg
1336847004180: forwarding disabled, not forwarding packets
1336847004262: Received UDP payload: 3781
1336847004268: mux: GOT CSM_Msg
1336847004269: forwarding disabled, not forwarding packets
1336847004647: Received UDP payload: 446
1336847005273: Received UDP payload: 642
1336847005278: mux: Inside mux Packet.CLIENT_REQUEST
1336847005331: Received UDP payload: 1006
1336847005338: mux: GOT CSM_Msg
1336847005338: forwarding disabled, not forwarding packets
1336847005344: Received UDP payload: 446
1336847005347: mux: Inside Packet.SERVER_REPLY
1336847005348: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847005402: Received UDP payload: 3781
1336847005404: mux: GOT CSM_Msg
1336847005404: forwarding disabled, not forwarding packets
1336847005457: Received UDP payload: 3434
1336847005458: mux: Inside Packet.SERVER_REPLY
1336847005458: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847005471: Received UDP payload: 446
1336847005472: mux: Inside mux Packet.CLIENT_REQUEST
1336847006107: Received UDP payload: 446
1336847006494: leader to cloud hearbeat...
1336847006922: inside sendPacket(Packet p)
1336847006935: Sending UDP payload: 446
1336847007762: Received UDP payload: 446
1336847008051: Received UDP payload: 446
1336847008129: Received UDP payload: 642
1336847008136: mux: Inside mux Packet.CLIENT_REQUEST
1336847008178: Received UDP payload: 1006
1336847008185: mux: GOT CSM_Msg
1336847008186: forwarding disabled, not forwarding packets
1336847008196: Received UDP payload: 446
1336847008197: mux: Inside Packet.SERVER_REPLY
1336847008197: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847008250: Received UDP payload: 3781
1336847008252: mux: GOT CSM_Msg
1336847008252: forwarding disabled, not forwarding packets
1336847008300: Received UDP payload: 3434
1336847008302: mux: Inside Packet.SERVER_REPLY
1336847008302: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847008312: Received UDP payload: 446
1336847008313: mux: Inside mux Packet.CLIENT_REQUEST
1336847008480: Received UDP payload: 446
1336847009334: Received UDP payload: 1006
1336847009341: mux: GOT CSM_Msg
1336847009342: forwarding disabled, not forwarding packets
1336847009418: Received UDP payload: 3781
1336847009424: mux: GOT CSM_Msg
1336847009425: forwarding disabled, not forwarding packets
1336847009644: Received UDP payload: 446
1336847011125: Received UDP payload: 446
1336847011940: inside sendPacket(Packet p)
1336847011943: Sending UDP payload: 446
1336847012762: Received UDP payload: 446
1336847013042: Received UDP payload: 446
1336847013480: Received UDP payload: 446
1336847014505: Received UDP payload: 1006
1336847014516: mux: GOT CSM_Msg
1336847014517: forwarding disabled, not forwarding packets
1336847014582: Received UDP payload: 3781
1336847014584: mux: GOT CSM_Msg
1336847014584: forwarding disabled, not forwarding packets
1336847014646: Received UDP payload: 446
1336847016136: Received UDP payload: 446
1336847016390: Received UDP payload: 1006
1336847016398: mux: GOT CSM_Msg
1336847016399: forwarding disabled, not forwarding packets
1336847016459: Received UDP payload: 3781
1336847016461: mux: GOT CSM_Msg
1336847016461: forwarding disabled, not forwarding packets
1336847016941: inside sendPacket(Packet p)
1336847016943: Sending UDP payload: 446
1336847017778: Received UDP payload: 446
1336847018046: Received UDP payload: 446
1336847018522: Received UDP payload: 446
1336847019679: Received UDP payload: 446
1336847020600: Received UDP payload: 642
1336847020605: mux: Inside mux Packet.CLIENT_REQUEST
1336847020605: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847020606: inside handleClientRequest. Originator leader of region 5
1336847020606: got new request, requestCounter = 5013053
1336847020606: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847020629: Sending to region: 4
1336847020630: Sending PROC_REQUEST 11:6 (5,0)->(4,0)
1336847020631: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(4,0)
1336847020634: mux: I got a CSM packet at a leader 

1336847020632: Note down new request by adding requestCounter=5013053 to HashMap processedRequests
1336847020632: Make FirstLeg Ack regardless of new or already-processed requests
1336847020632: The leader sending a First Leg ack to originator client (which id = 5013)
1336847020633: inside sendPacket(Packet p)
1336847020653: Sending UDP payload: 1006
1336847020655: forwarding disabled, not forwarding packets
1336847020657: Sending UDP payload: 446
1336847020724: Received UDP payload: 3781
1336847020726: mux: GOT CSM_Msg
1336847020726: Received PROC_REPLY 11:6 (4,0)->(5,0), handing to UserApp
1336847020727: inside handleDSMReply. Now back in originator leader of region 5
1336847020727: DSM layer: Going to and from remote region took latency = 98
1336847020727: DSM layer: orig leader sent packet at 1336847020629 ~ received reply from remote leader at 1336847020727
1336847020727: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847020728: leader client reply has replyCounter: 501305300
1336847020728: reply packet contains the newest photo/success info from the remote region
1336847020728: inside sendReplies of replyCount = 501305300
1336847020728: =======================
1336847020728: inside sendReplyRepeatingRunnable for replyCount = 501305300
1336847020728: Leader about to send REPLY packet, number: 501305300 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336847020728: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336847020729: inside sendPacket(Packet p)
1336847020729: === Finished one round of sending REPLY Packet =======
1336847020729: Sending UDP payload: 3434
1336847020786: Received UDP payload: 446
1336847020788: mux: Inside mux Packet.CLIENT_REQUEST
1336847020788: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847020788: inside handleClientRequest. Originator leader of region 5
1336847020788: got new request, requestCounter = 5013054
1336847020788: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501305300
1336847020788: Yay the last leg succeeded. Removing reply runnables ...
1336847020788: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501305300
1336847020788: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501305300
1336847020789: do not send ack for received final_leg_ack
1336847021136: Received UDP payload: 446
1336847021762: canPressButton = TRUE
1336847021762: areButtonsEnabled --> false 
1336847021763: get picture disableButtonsR
1336847021763: areButtonsEnabled --> false
1336847021789: one more getNum: 23
1336847021790: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=22 getBad=0 getTimedout=0 getPercent=95%
1336847021790: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336847021790: change local requestCounter to 53
1336847021795: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008053 Client in region: 5 Client nodID: 5008
1336847021823: ----------------------------
1336847021823: inside sendRequestPacketRepeatingRunnable for requestCount = 5008053
1336847021823: I'm a leader, my requesting photos packet going to mux directly
1336847021829: --- Finished one round of sending REQUEST Packet ---------
1336847021824: mux: Inside mux Packet.CLIENT_REQUEST
1336847021824: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847021867: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336847021824: inside handleClientRequest. Originator leader of region 5
1336847021824: got new request, requestCounter = 5008053
1336847021824: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847021825: Sending to region: 4
1336847021826: Sending PROC_REQUEST 11:7 (5,0)->(4,0)
1336847021826: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1336847021826: mux: I got a CSM packet at a leader 

1336847021826: Note down new request by adding requestCounter=5008053 to HashMap processedRequests
1336847021826: Make FirstLeg Ack regardless of new or already-processed requests
1336847021826: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336847021828: Sending UDP payload: 1006
1336847021829: forwarding disabled, not forwarding packets
1336847021890: Received UDP payload: 3781
1336847021892: mux: GOT CSM_Msg
1336847021893: Received PROC_REPLY 11:7 (4,0)->(5,0), handing to UserApp
1336847021893: inside handleDSMReply. Now back in originator leader of region 5
1336847021893: DSM layer: Going to and from remote region took latency = 68
1336847021893: DSM layer: orig leader sent packet at 1336847021825 ~ received reply from remote leader at 1336847021893
1336847021894: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847021894: leader client reply has replyCounter: 500805300
1336847021894: reply packet contains the newest photo/success info from the remote region
1336847021894: inside sendReplies of replyCount = 500805300
1336847021904: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336847021904: disabling progressdialog due to successful new photo get
1336847021904: Inside _enableButtons
1336847021905: areButtonsEnabled --> true
1336847021905: send final leg ack regardless of new or already-processed reply
1336847021905: inside finalLegAck: change requestCounter to 54
1336847021905: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008054 Client in region: (5,0) Client nodID: 5008
1336847021905: I'm a leader client, my final_leg packet going to mux directly
1336847021906: new client_show_remotephoto reply with replyCounter 500805300
1336847021906: note down new reply by adding replyCounter=500805300 to HashMap processedReplies
1336847021906: leader download remote photo latency = 80
1336847021907: = leader download start 1336847021824 ~ stop 1336847021904
1336847021908: one more getGood: 23
1336847021909: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=23 getBad=0 getTimedout=0 getPercent=100%
1336847021909: adding get latency: 80
1336847021910: Success! Client getting photo from remote region, showing photo...
1336847021910: Remote photo's length: 2753
1336847021895: =======================
1336847021895: inside sendReplyRepeatingRunnable for replyCount = 500805300
1336847021895: Leader about to send REPLY packet, number: 500805300 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336847021895: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336847021895: === Finished one round of sending REPLY Packet =======
1336847021906: mux: Inside mux Packet.CLIENT_REQUEST
1336847021906: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847021906: inside handleClientRequest. Originator leader of region 5
1336847021906: got new request, requestCounter = 5008054
1336847021906: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500805300
1336847021906: Yay the last leg succeeded. Removing reply runnables ...
1336847021907: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500805300
1336847021907: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500805300
1336847021907: do not send ack for received final_leg_ack
1336847021909: Received UDP payload: 1006
1336847021960: inside sendPacket(Packet p)
1336847021968: Sending UDP payload: 446
1336847021970: mux: GOT CSM_Msg
1336847021968: Received UDP payload: 3781
1336847021970: forwarding disabled, not forwarding packets
1336847021972: mux: GOT CSM_Msg
1336847021972: forwarding disabled, not forwarding packets
1336847022781: Received UDP payload: 446
1336847023012: Received UDP payload: 642
1336847023016: mux: Inside mux Packet.CLIENT_REQUEST
1336847023044: Received UDP payload: 446
1336847023068: Received UDP payload: 1006
1336847023070: mux: GOT CSM_Msg
1336847023070: forwarding disabled, not forwarding packets
1336847023077: Received UDP payload: 446
1336847023078: mux: Inside Packet.SERVER_REPLY
1336847023078: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847023130: Received UDP payload: 3781
1336847023132: mux: GOT CSM_Msg
1336847023132: forwarding disabled, not forwarding packets
1336847023170: Received UDP payload: 3434
1336847023171: mux: Inside Packet.SERVER_REPLY
1336847023171: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847023191: Received UDP payload: 446
1336847023193: mux: Inside mux Packet.CLIENT_REQUEST
1336847023487: Received UDP payload: 446
1336847024653: Received UDP payload: 446
1336847026144: Received UDP payload: 446
1336847026981: inside sendPacket(Packet p)
1336847026983: Sending UDP payload: 446
1336847027790: Received UDP payload: 446
1336847028049: Received UDP payload: 446
1336847028484: Received UDP payload: 446
1336847029661: Received UDP payload: 446
1336847031168: Received UDP payload: 446
1336847031981: inside sendPacket(Packet p)
1336847031996: Sending UDP payload: 446
1336847032806: Received UDP payload: 446
1336847033048: Received UDP payload: 446
1336847033495: Received UDP payload: 446
1336847034549: Received UDP payload: 642
1336847034555: mux: Inside mux Packet.CLIENT_REQUEST
1336847034586: Received UDP payload: 1006
1336847034593: mux: GOT CSM_Msg
1336847034594: removed replies before id 6 from sentReplies of size 0
1336847034594: inside handleDSMRequest. At requests's remote leader of region 5
1336847034601: INSIDE SERVER_GET_PHOTO!!!
1336847034614: Received UDP payload: 446
1336847034620: mux: Inside Packet.SERVER_REPLY
1336847034620: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847034620: Received PROC_REQUEST 11:6 (0,0)->(5,0), replying PROC_REPLY 11:6 (5,0)->(0,0)
1336847034620: Dispatching Atom PROC_REPLY 11:6 (5,0)->(0,0)
1336847034621: mux: I got a CSM packet at a leader 

1336847034630: Sending UDP payload: 3766
1336847034631: forwarding disabled, not forwarding packets
1336847034668: Received UDP payload: 446
1336847034737: Received UDP payload: 3419
1336847034738: mux: Inside Packet.SERVER_REPLY
1336847034739: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847034750: Received UDP payload: 446
1336847034752: mux: Inside mux Packet.CLIENT_REQUEST
1336847035806: Received UDP payload: 1006
1336847035815: mux: GOT CSM_Msg
1336847035816: removed replies before id 7 from sentReplies of size 0
1336847035816: inside handleDSMRequest. At requests's remote leader of region 5
1336847035819: INSIDE SERVER_GET_PHOTO!!!
1336847035834: Received PROC_REQUEST 11:7 (0,0)->(5,0), replying PROC_REPLY 11:7 (5,0)->(0,0)
1336847035835: Dispatching Atom PROC_REPLY 11:7 (5,0)->(0,0)
1336847035836: mux: I got a CSM packet at a leader 

1336847035854: Sending UDP payload: 3766
1336847035859: forwarding disabled, not forwarding packets
1336847036176: Received UDP payload: 446
1336847036997: inside sendPacket(Packet p)
1336847037000: Sending UDP payload: 446
1336847037008: Received UDP payload: 642
1336847037012: mux: Inside mux Packet.CLIENT_REQUEST
1336847037061: Received UDP payload: 1006
1336847037064: mux: GOT CSM_Msg
1336847037064: removed replies before id 6 from sentReplies of size 0
1336847037065: inside handleDSMRequest. At requests's remote leader of region 5
1336847037066: INSIDE SERVER_GET_PHOTO!!!
1336847037070: Received UDP payload: 446
1336847037070: Received PROC_REQUEST 11:6 (1,0)->(5,0), replying PROC_REPLY 11:6 (5,0)->(1,0)
1336847037071: Dispatching Atom PROC_REPLY 11:6 (5,0)->(1,0)
1336847037072: mux: I got a CSM packet at a leader 

1336847037077: mux: Inside Packet.SERVER_REPLY
1336847037078: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847037076: Sending UDP payload: 3766
1336847037077: forwarding disabled, not forwarding packets
1336847037173: Received UDP payload: 3419
1336847037175: mux: Inside Packet.SERVER_REPLY
1336847037175: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847037186: Received UDP payload: 446
1336847037188: mux: Inside mux Packet.CLIENT_REQUEST
1336847037791: Received UDP payload: 446
1336847038049: Received UDP payload: 446
1336847038505: Received UDP payload: 446
1336847038707: Received UDP payload: 1006
1336847038718: mux: GOT CSM_Msg
1336847038719: removed replies before id 7 from sentReplies of size 0
1336847038720: inside handleDSMRequest. At requests's remote leader of region 5
1336847038721: INSIDE SERVER_GET_PHOTO!!!
1336847038737: Received PROC_REQUEST 11:7 (1,0)->(5,0), replying PROC_REPLY 11:7 (5,0)->(1,0)
1336847038738: Dispatching Atom PROC_REPLY 11:7 (5,0)->(1,0)
1336847038739: mux: I got a CSM packet at a leader 

1336847038753: Sending UDP payload: 3766
1336847038756: forwarding disabled, not forwarding packets
1336847039667: Received UDP payload: 446
1336847041185: Received UDP payload: 446
1336847041999: inside sendPacket(Packet p)
1336847042016: Sending UDP payload: 446
1336847042831: Received UDP payload: 446
1336847043053: Received UDP payload: 446
1336847043510: Received UDP payload: 446
1336847044657: Received UDP payload: 1006
1336847044665: mux: GOT CSM_Msg
1336847044666: removed replies before id 3 from sentReplies of size 0
1336847044666: inside handleDSMRequest. At requests's remote leader of region 5
1336847044668: INSIDE SERVER_GET_PHOTO!!!
1336847044672: Received PROC_REQUEST 11:3 (3,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(3,0)
1336847044687: Received UDP payload: 446
1336847044691: Dispatching Atom PROC_REPLY 11:3 (5,0)->(3,0)
1336847044692: mux: I got a CSM packet at a leader 

1336847044696: Sending UDP payload: 3766
1336847044715: forwarding disabled, not forwarding packets
1336847046211: Received UDP payload: 446
1336847047018: inside sendPacket(Packet p)
1336847047021: Sending UDP payload: 446
1336847047796: Received UDP payload: 446
1336847047950: Received UDP payload: 1006
1336847047958: mux: GOT CSM_Msg
1336847047959: removed replies before id 3 from sentReplies of size 0
1336847047959: inside handleDSMRequest. At requests's remote leader of region 5
1336847047961: INSIDE SERVER_GET_PHOTO!!!
1336847047978: Received PROC_REQUEST 11:3 (2,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(2,0)
1336847047979: Dispatching Atom PROC_REPLY 11:3 (5,0)->(2,0)
1336847047979: mux: I got a CSM packet at a leader 

1336847047993: Sending UDP payload: 3766
1336847047998: forwarding disabled, not forwarding packets
1336847048081: Received UDP payload: 446
1336847048509: Received UDP payload: 446
1336847049696: Received UDP payload: 446
1336847051203: Received UDP payload: 446
1336847052020: inside sendPacket(Packet p)
1336847052023: Sending UDP payload: 446
1336847052829: Received UDP payload: 446
1336847053030: Received UDP payload: 642
1336847053036: mux: Inside mux Packet.CLIENT_REQUEST
1336847053036: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847053037: inside handleClientRequest. Originator leader of region 5
1336847053037: got new request, requestCounter = 5013055
1336847053038: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847053039: Sending to region: 5
1336847053041: Sending PROC_REQUEST 11:14 (5,0)->(5,0)
1336847053042: Dispatching Atom PROC_REQUEST 11:14 (5,0)->(5,0)
1336847053056: mux: I got a CSM packet at a leader 

1336847053042: Note down new request by adding requestCounter=5013055 to HashMap processedRequests
1336847053042: Make FirstLeg Ack regardless of new or already-processed requests
1336847053055: The leader sending a First Leg ack to originator client (which id = 5013)
1336847053055: inside sendPacket(Packet p)
1336847053061: Received UDP payload: 446
1336847053062: Sending UDP payload: 1006
1336847053077: removed replies before id 14 from sentReplies of size 0
1336847053078: inside handleDSMRequest. At requests's remote leader of region 5
1336847053079: INSIDE SERVER_GET_PHOTO!!!
1336847053082: dst_region == src_region = 5
1336847053082:  1 self to self atomRequest
1336847053086: Received PROC_REQUEST 11:14 (5,0)->(5,0), replying PROC_REPLY 11:14 (5,0)->(5,0)
1336847053087: Dispatching Atom PROC_REPLY 11:14 (5,0)->(5,0)
1336847053106: mux: I got a CSM packet at a leader 

1336847053102: Sending UDP payload: 446
1336847053107: Sending UDP payload: 3766
1336847053108: Received PROC_REPLY 11:14 (5,0)->(5,0), handing to UserApp
1336847053109: inside handleDSMReply. Now back in originator leader of region 5
1336847053109: DSM layer: Going to and from remote region took latency = 69
1336847053109: DSM layer: orig leader sent packet at 1336847053040 ~ received reply from remote leader at 1336847053109
1336847053110: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847053110: leader client reply has replyCounter: 501305500
1336847053110: reply packet contains the newest photo/success info from the remote region
1336847053110: inside sendReplies of replyCount = 501305500
1336847053110: =======================
1336847053110: inside sendReplyRepeatingRunnable for replyCount = 501305500
1336847053111: Leader about to send REPLY packet, number: 501305500 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336847053111: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336847053111: inside sendPacket(Packet p)
1336847053111: === Finished one round of sending REPLY Packet =======
1336847053112: Sending UDP payload: 3419
1336847053210: Received UDP payload: 446
1336847053211: mux: Inside mux Packet.CLIENT_REQUEST
1336847053211: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847053211: inside handleClientRequest. Originator leader of region 5
1336847053212: got new request, requestCounter = 5013056
1336847053212: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501305500
1336847053212: Yay the last leg succeeded. Removing reply runnables ...
1336847053212: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501305500
1336847053212: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501305500
1336847053212: do not send ack for received final_leg_ack
1336847053498: Received UDP payload: 446
1336847054358: canPressButton = TRUE
1336847054358: areButtonsEnabled --> false 
1336847054358: get picture disableButtonsR
1336847054359: areButtonsEnabled --> false
1336847054385: one more getNum: 24
1336847054385: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=23 getBad=0 getTimedout=0 getPercent=95%
1336847054386: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336847054386: change local requestCounter to 55
1336847054390: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008055 Client in region: 5 Client nodID: 5008
1336847054419: ----------------------------
1336847054419: inside sendRequestPacketRepeatingRunnable for requestCount = 5008055
1336847054419: I'm a leader, my requesting photos packet going to mux directly
1336847054430: --- Finished one round of sending REQUEST Packet ---------
1336847054420: mux: Inside mux Packet.CLIENT_REQUEST
1336847054420: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847054468: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336847054420: inside handleClientRequest. Originator leader of region 5
1336847054421: got new request, requestCounter = 5008055
1336847054421: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847054422: Sending to region: 5
1336847054422: Sending PROC_REQUEST 11:15 (5,0)->(5,0)
1336847054422: Dispatching Atom PROC_REQUEST 11:15 (5,0)->(5,0)
1336847054423: mux: I got a CSM packet at a leader 

1336847054423: Note down new request by adding requestCounter=5008055 to HashMap processedRequests
1336847054423: Make FirstLeg Ack regardless of new or already-processed requests
1336847054423: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336847054424: Sending UDP payload: 1006
1336847054425: removed replies before id 15 from sentReplies of size 0
1336847054425: inside handleDSMRequest. At requests's remote leader of region 5
1336847054426: INSIDE SERVER_GET_PHOTO!!!
1336847054427: dst_region == src_region = 5
1336847054427:  1 self to self atomRequest
1336847054428: Received PROC_REQUEST 11:15 (5,0)->(5,0), replying PROC_REPLY 11:15 (5,0)->(5,0)
1336847054428: Dispatching Atom PROC_REPLY 11:15 (5,0)->(5,0)
1336847054429: mux: I got a CSM packet at a leader 

1336847054470: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336847054471: disabling progressdialog due to successful new photo get
1336847054471: Inside _enableButtons
1336847054471: areButtonsEnabled --> true
1336847054471: send final leg ack regardless of new or already-processed reply
1336847054472: inside finalLegAck: change requestCounter to 56
1336847054472: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008056 Client in region: (5,0) Client nodID: 5008
1336847054472: I'm a leader client, my final_leg packet going to mux directly
1336847054477: new client_show_remotephoto reply with replyCounter 500805500
1336847054477: note down new reply by adding replyCounter=500805500 to HashMap processedReplies
1336847054477: leader download remote photo latency = 50
1336847054478: = leader download start 1336847054420 ~ stop 1336847054470
1336847054481: one more getGood: 24
1336847054482: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=24 getBad=0 getTimedout=0 getPercent=100%
1336847054482: adding get latency: 50
1336847054483: Success! Client getting photo from remote region, showing photo...
1336847054483: Remote photo's length: 2738
1336847054436: Sending UDP payload: 3766
1336847054443: Received PROC_REPLY 11:15 (5,0)->(5,0), handing to UserApp
1336847054443: inside handleDSMReply. Now back in originator leader of region 5
1336847054443: DSM layer: Going to and from remote region took latency = 21
1336847054443: DSM layer: orig leader sent packet at 1336847054422 ~ received reply from remote leader at 1336847054443
1336847054444: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847054444: leader client reply has replyCounter: 500805500
1336847054444: reply packet contains the newest photo/success info from the remote region
1336847054444: inside sendReplies of replyCount = 500805500
1336847054444: =======================
1336847054444: inside sendReplyRepeatingRunnable for replyCount = 500805500
1336847054445: Leader about to send REPLY packet, number: 500805500 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336847054445: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336847054445: === Finished one round of sending REPLY Packet =======
1336847054474: mux: Inside mux Packet.CLIENT_REQUEST
1336847054474: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847054474: inside handleClientRequest. Originator leader of region 5
1336847054474: got new request, requestCounter = 5008056
1336847054475: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500805500
1336847054475: Yay the last leg succeeded. Removing reply runnables ...
1336847054476: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500805500
1336847054476: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500805500
1336847054476: do not send ack for received final_leg_ack
1336847054681: Received UDP payload: 446
1336847056199: Received UDP payload: 446
1336847057021: inside sendPacket(Packet p)
1336847057045: Sending UDP payload: 446
1336847057821: Received UDP payload: 446
1336847058064: Received UDP payload: 446
1336847058514: Received UDP payload: 446
1336847059672: Received UDP payload: 446
1336847061198: Received UDP payload: 446
1336847062022: inside sendPacket(Packet p)
1336847062025: Sending UDP payload: 446
1336847062699: Received UDP payload: 1006
1336847062711: mux: GOT CSM_Msg
1336847062711: removed replies before id 6 from sentReplies of size 0
1336847062712: inside handleDSMRequest. At requests's remote leader of region 5
1336847062718: INSIDE SERVER_GET_PHOTO!!!
1336847062754: Received PROC_REQUEST 11:6 (4,0)->(5,0), replying PROC_REPLY 11:6 (5,0)->(4,0)
1336847062755: Dispatching Atom PROC_REPLY 11:6 (5,0)->(4,0)
1336847062755: mux: I got a CSM packet at a leader 

1336847062757: Sending UDP payload: 3766
1336847062758: forwarding disabled, not forwarding packets
1336847062817: Received UDP payload: 446
1336847063063: Received UDP payload: 446
1336847063525: Received UDP payload: 446
1336847064123: Received UDP payload: 642
1336847064128: mux: Inside mux Packet.CLIENT_REQUEST
1336847064182: Received UDP payload: 1006
1336847064189: mux: GOT CSM_Msg
1336847064190: removed replies before id 7 from sentReplies of size 0
1336847064190: inside handleDSMRequest. At requests's remote leader of region 5
1336847064192: INSIDE SERVER_GET_PHOTO!!!
1336847064197: Received PROC_REQUEST 11:7 (4,0)->(5,0), replying PROC_REPLY 11:7 (5,0)->(4,0)
1336847064197: Dispatching Atom PROC_REPLY 11:7 (5,0)->(4,0)
1336847064197: mux: I got a CSM packet at a leader 

1336847064198: Sending UDP payload: 3766
1336847064199: forwarding disabled, not forwarding packets
1336847064203: Received UDP payload: 446
1336847064204: mux: Inside Packet.SERVER_REPLY
1336847064204: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847064291: Received UDP payload: 3419
1336847064293: mux: Inside Packet.SERVER_REPLY
1336847064293: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336847064304: Received UDP payload: 446
1336847064306: mux: Inside mux Packet.CLIENT_REQUEST
1336847064673: Received UDP payload: 446
1336847066208: Received UDP payload: 446
1336847067023: inside sendPacket(Packet p)
1336847067026: Sending UDP payload: 446
1336847067833: Received UDP payload: 446
1336847068081: Received UDP payload: 446
1336847068536: Received UDP payload: 446
1336847069673: Received UDP payload: 446
1336847070249: HI I'm in ONPAUSE()
1336847071218: Received UDP payload: 446
1336847071791: inside onDestroy()
