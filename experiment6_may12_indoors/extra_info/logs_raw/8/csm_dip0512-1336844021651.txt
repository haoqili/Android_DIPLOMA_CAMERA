1336844021655: *** Opened log file for writing ***
1336844021656: Android build: SAMSUNG-SGH-I717
1336844021656: NET_NAME set to: eth0
1336844021657: starting Mux with id = -1
1336844021658: areButtonsEnabled --> true
1336844021659: *** Application started ***
1336844021659: HI I'm in ONRESUME()
1336844021663: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1336844021660: mux: Mux.java run() beginning -------------
1336844021664: mux: Mux.java's nodeId is5008
1336844021664: mux: starting vncDaemon ........
1336844021667: mux: vncDaemon started
1336844021666: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1336844021667: VCoreDaemon.java onStart() ....
1336844021668: started, mId = 5008
1336844021671: ************ GPS turned OFF *************
1336844021668: VCoreDaemon.java inside stateTransition ..........
1336844021668: removing leaderRequestRetryR because I'm doing a stateTransition
1336844021669: ..... VCoreDaemon.java out of bounds
1336844021669: region (-1, -1) out of bounds, dormant
1336844021670: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336844023850: Received UDP payload: 446
1336844025833: Received UDP payload: 446
1336844026162: moving from region (-1,-1), to (1,0)
1336844026162: VCoreDaemon.java inside stateTransition ..........
1336844026162: removing leaderRequestRetryR because I'm doing a stateTransition
1336844026163: ..... VCoreDaemon.java targetState = JOINING (1,0)
1336844026163: posting leaderRequestRetryR because I'm joining
1336844026163: sending LEADER_REQUEST
1336844026163: inside sendPacket(Packet p)
1336844026163: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336844026169: Sending UDP payload: 446
1336844026172: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336844026465: sending LEADER_REQUEST
1336844026465: inside sendPacket(Packet p)
1336844026466: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336844026470: Sending UDP payload: 446
1336844026633: Received UDP payload: 446
1336844026642: removing leaderRequestRetryR because heard Packet.Heartbeat
1336844026643: heard HEARTBEAT from 5022, now following
1336844026644: VCoreDaemon.java inside stateTransition ..........
1336844026644: removing leaderRequestRetryR because I'm doing a stateTransition
1336844026644: ..... VCoreDaemon.java targetState = NONLEADER
1336844026645: now NONLEADER (id=5008) following LEADER (id=5022) in (1,0)
1336844026646: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336844028903: Received UDP payload: 446
1336844028958: Received UDP payload: 446
1336844029072: Received UDP payload: 446
1336844029239: Received UDP payload: 446
1336844029363: Received UDP payload: 446
1336844029669: Received UDP payload: 446
1336844029862: Received UDP payload: 446
1336844029980: Received UDP payload: 446
1336844030368: Received UDP payload: 22335
1336844030654: Received UDP payload: 446
1336844030854: Received UDP payload: 446
1336844030954: Received UDP payload: 446
1336844031248: Received UDP payload: 446
1336844031390: Received UDP payload: 446
1336844031554: Received UDP payload: 446
1336844033562: Received UDP payload: 22335
1336844033830: Received UDP payload: 22335
1336844033869: Received UDP payload: 446
1336844034099: Received UDP payload: 22950
1336844034111: Received UDP payload: 446
1336844035869: Received UDP payload: 446
1336844036390: Received UDP payload: 446
1336844038264: Received UDP payload: 446
1336844038886: Received UDP payload: 446
1336844038976: moving from region (1,0), to (5,0)
1336844038977: VCoreDaemon.java inside stateTransition ..........
1336844038977: removing leaderRequestRetryR because I'm doing a stateTransition
1336844038977: ..... VCoreDaemon.java targetState = JOINING (5,0)
1336844038977: posting leaderRequestRetryR because I'm joining
1336844038977: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336844038978: sending LEADER_REQUEST
1336844038978: inside sendPacket(Packet p)
1336844038978: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336844038980: Sending UDP payload: 446
1336844039278: sending LEADER_REQUEST
1336844039279: inside sendPacket(Packet p)
1336844039279: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336844039280: Sending UDP payload: 446
1336844039579: sending LEADER_REQUEST
1336844039580: inside sendPacket(Packet p)
1336844039580: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336844039581: Sending UDP payload: 446
1336844039880: sending LEADER_REQUEST
1336844039881: inside sendPacket(Packet p)
1336844039882: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336844039888: Sending UDP payload: 446
1336844039977: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1336844039977: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1336844039978: VCoreDaemon.java inside stateTransition ..........
1336844039978: removing leaderRequestRetryR because I'm doing a stateTransition
1336844039978: ..... VCoreDaemon.java targetState = LEADER
1336844039978: trying to take leadership (5,0) to the cloud
1336844040593: Received UDP payload: 446
1336844040883: Received UDP payload: 446
1336844040897: Received UDP payload: 446
1336844041203: Received UDP payload: 446
1336844041390: Received UDP payload: 446
1336844041520: Received UDP payload: 446
1336844042280: cloud accepted leadership request, no csm data included.
1336844042293: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1336844042296: *** Starting CSM Layer ***
1336844042298: *** CSM Layer starting with cache disabled ***
1336844042300: *** CSM Layer starting with forwarding disabled ***
1336844042378: DSMLayer starting
1336844042379: UserApp started.
1336844042381: UserApp for Camera Diploma initialized and waiting for requests.
1336844042681: inside sendPacket(Packet p)
1336844042683: now fully up as LEADER (id=5008) of (5,0)
1336844042683: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336844042683: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1336844042694: Sending UDP payload: 22318
1336844042784: inside sendPacket(Packet p)
1336844042785: Sending UDP payload: 22335
1336844042786: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1336844042860: inside sendPacket(Packet p)
1336844042862: Sending UDP payload: 22335
1336844042882: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1336844043022: inside sendPacket(Packet p)
1336844043030: Sending UDP payload: 22950
1336844043034: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1336844043157: inside sendPacket(Packet p)
1336844043158: inside sendPacket(Packet p)
1336844043161: Sending UDP payload: 22335
1336844043167: Sending UDP payload: 446
1336844043234: Received UDP payload: 446
1336844043979: Received UDP payload: 446
1336844045885: Received UDP payload: 446
1336844046404: Received UDP payload: 446
1336844048158: inside sendPacket(Packet p)
1336844048177: Sending UDP payload: 446
1336844048249: Received UDP payload: 446
1336844048867: Received UDP payload: 446
1336844050899: Received UDP payload: 446
1336844051418: Received UDP payload: 446
1336844053184: inside sendPacket(Packet p)
1336844053196: Sending UDP payload: 446
1336844053245: Received UDP payload: 446
1336844053873: Received UDP payload: 446
1336844055897: Received UDP payload: 446
1336844056434: Received UDP payload: 446
1336844056808: Received UDP payload: 446
1336844057119: Received UDP payload: 446
1336844057410: Received UDP payload: 446
1336844057709: Received UDP payload: 446
1336844058203: inside sendPacket(Packet p)
1336844058218: Sending UDP payload: 446
1336844058253: Received UDP payload: 446
1336844058911: Received UDP payload: 446
1336844060969: Received UDP payload: 22318
1336844060981: ignoring leader_reply that's not for me
1336844060995: Received UDP payload: 446
1336844061027: Received UDP payload: 446
1336844061446: Received UDP payload: 446
1336844063221: inside sendPacket(Packet p)
1336844063225: Sending UDP payload: 446
1336844063307: Received UDP payload: 446
1336844063924: Received UDP payload: 446
1336844065675: Received UDP payload: 446
1336844065913: Received UDP payload: 446
1336844066455: Received UDP payload: 446
1336844068222: inside sendPacket(Packet p)
1336844068238: Sending UDP payload: 446
1336844068258: Received UDP payload: 446
1336844068932: Received UDP payload: 446
1336844070756: Received UDP payload: 446
1336844070931: Received UDP payload: 446
1336844071482: Received UDP payload: 446
1336844073239: inside sendPacket(Packet p)
1336844073257: Sending UDP payload: 446
1336844073321: Received UDP payload: 446
1336844073958: Received UDP payload: 446
1336844075713: Received UDP payload: 446
1336844075927: Received UDP payload: 446
1336844076513: Received UDP payload: 446
1336844078239: inside sendPacket(Packet p)
1336844078257: Sending UDP payload: 446
1336844078277: Received UDP payload: 446
1336844078957: Received UDP payload: 446
1336844080732: Received UDP payload: 446
1336844080923: Received UDP payload: 446
1336844081489: Received UDP payload: 446
1336844083260: inside sendPacket(Packet p)
1336844083264: Sending UDP payload: 446
1336844083279: Received UDP payload: 446
1336844084054: Received UDP payload: 446
1336844085750: Received UDP payload: 446
1336844085935: Received UDP payload: 446
1336844086493: Received UDP payload: 446
1336844088261: inside sendPacket(Packet p)
1336844088264: Sending UDP payload: 446
1336844088296: Received UDP payload: 446
1336844089042: Received UDP payload: 446
1336844090738: Received UDP payload: 446
1336844090928: Received UDP payload: 446
1336844091517: Received UDP payload: 446
1336844093262: inside sendPacket(Packet p)
1336844093265: Sending UDP payload: 446
1336844093310: Received UDP payload: 446
1336844093998: Received UDP payload: 446
1336844095739: Received UDP payload: 446
1336844095942: Received UDP payload: 446
1336844096510: Received UDP payload: 446
1336844098263: inside sendPacket(Packet p)
1336844098266: Sending UDP payload: 446
1336844098296: Received UDP payload: 446
1336844099008: Received UDP payload: 446
1336844100787: Received UDP payload: 446
1336844100962: Received UDP payload: 446
1336844101567: Received UDP payload: 446
1336844103263: inside sendPacket(Packet p)
1336844103266: Sending UDP payload: 446
1336844103339: Received UDP payload: 446
1336844104033: Received UDP payload: 446
1336844105756: Received UDP payload: 446
1336844105993: Received UDP payload: 446
1336844106600: Received UDP payload: 446
1336844108265: inside sendPacket(Packet p)
1336844108277: Sending UDP payload: 446
1336844108317: Received UDP payload: 446
1336844109082: Received UDP payload: 446
1336844110795: Received UDP payload: 446
1336844110978: Received UDP payload: 446
1336844111571: Received UDP payload: 446
1336844113279: inside sendPacket(Packet p)
1336844113296: Sending UDP payload: 446
1336844113348: Received UDP payload: 446
1336844114043: Received UDP payload: 446
1336844115759: Received UDP payload: 446
1336844115993: Received UDP payload: 446
1336844118300: inside sendPacket(Packet p)
1336844118304: Sending UDP payload: 446
1336844118315: Received UDP payload: 446
1336844118393: Received UDP payload: 446
1336844120761: Received UDP payload: 446
1336844120778: Received UDP payload: 446
1336844120894: Received UDP payload: 3979
1336844120901: mux: Inside mux Packet.CLIENT_REQUEST
1336844121010: Received UDP payload: 4343
1336844121029: mux: GOT CSM_Msg
1336844121030: forwarding disabled, not forwarding packets
1336844121042: Received UDP payload: 446
1336844121050: Received UDP payload: 446
1336844121066: mux: Inside Packet.SERVER_REPLY
1336844121067: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844121068: Received UDP payload: 1006
1336844121102: mux: GOT CSM_Msg
1336844121102: forwarding disabled, not forwarding packets
1336844121102: Received UDP payload: 659
1336844121104: mux: Inside Packet.SERVER_REPLY
1336844121104: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844121105: Received UDP payload: 446
1336844121106: mux: Inside mux Packet.CLIENT_REQUEST
1336844123301: inside sendPacket(Packet p)
1336844123305: Sending UDP payload: 446
1336844123336: Received UDP payload: 446
1336844123350: Received UDP payload: 446
1336844125691: Received UDP payload: 446
1336844125763: Received UDP payload: 446
1336844126013: Received UDP payload: 446
1336844127567: Received UDP payload: 4294
1336844127578: mux: GOT CSM_Msg
1336844127578: forwarding disabled, not forwarding packets
1336844127593: Received UDP payload: 1006
1336844127615: mux: GOT CSM_Msg
1336844127615: forwarding disabled, not forwarding packets
1336844128302: inside sendPacket(Packet p)
1336844128306: Sending UDP payload: 446
1336844128314: Received UDP payload: 446
1336844128427: Received UDP payload: 446
1336844130767: Received UDP payload: 446
1336844130776: Received UDP payload: 446
1336844131082: Received UDP payload: 446
1336844133227: Received UDP payload: 5909
1336844133235: mux: Inside mux Packet.CLIENT_REQUEST
1336844133308: inside sendPacket(Packet p)
1336844133309: Sending UDP payload: 446
1336844133325: Received UDP payload: 446
1336844133348: Received UDP payload: 6273
1336844133352: mux: GOT CSM_Msg
1336844133352: forwarding disabled, not forwarding packets
1336844133362: Received UDP payload: 446
1336844133371: Received UDP payload: 446
1336844133374: mux: Inside Packet.SERVER_REPLY
1336844133374: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844133379: Received UDP payload: 1006
1336844133401: mux: GOT CSM_Msg
1336844133401: forwarding disabled, not forwarding packets
1336844133402: Received UDP payload: 659
1336844133405: mux: Inside Packet.SERVER_REPLY
1336844133405: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844133419: Received UDP payload: 446
1336844133421: mux: Inside mux Packet.CLIENT_REQUEST
1336844135722: Received UDP payload: 446
1336844135776: Received UDP payload: 446
1336844138075: Received UDP payload: 446
1336844138310: inside sendPacket(Packet p)
1336844138333: Received UDP payload: 446
1336844138366: Sending UDP payload: 446
1336844138465: Received UDP payload: 446
1336844140558: Received UDP payload: 4398
1336844140580: mux: GOT CSM_Msg
1336844140580: forwarding disabled, not forwarding packets
1336844140593: Received UDP payload: 1006
1336844140616: mux: GOT CSM_Msg
1336844140617: forwarding disabled, not forwarding packets
1336844140712: Received UDP payload: 446
1336844140780: Received UDP payload: 446
1336844143056: Received UDP payload: 446
1336844143313: inside sendPacket(Packet p)
1336844143316: Sending UDP payload: 446
1336844143336: Received UDP payload: 446
1336844143359: Received UDP payload: 446
1336844145709: Received UDP payload: 446
1336844145777: Received UDP payload: 446
1336844148127: Received UDP payload: 446
1336844148315: inside sendPacket(Packet p)
1336844148319: Sending UDP payload: 446
1336844148367: Received UDP payload: 446
1336844148405: Received UDP payload: 446
1336844150713: Received UDP payload: 446
1336844150795: Received UDP payload: 446
1336844153088: Received UDP payload: 446
1336844153316: inside sendPacket(Packet p)
1336844153320: Sending UDP payload: 446
1336844153352: Received UDP payload: 446
1336844154885: Received UDP payload: 446
1336844155719: Received UDP payload: 446
1336844155776: Received UDP payload: 446
1336844156906: Received UDP payload: 4587
1336844156919: mux: GOT CSM_Msg
1336844156920: forwarding disabled, not forwarding packets
1336844156933: Received UDP payload: 1006
1336844156955: mux: GOT CSM_Msg
1336844156955: forwarding disabled, not forwarding packets
1336844158107: Received UDP payload: 446
1336844158317: inside sendPacket(Packet p)
1336844158322: Sending UDP payload: 446
1336844158361: Received UDP payload: 446
1336844159885: Received UDP payload: 446
1336844160746: Received UDP payload: 446
1336844160826: Received UDP payload: 446
1336844162683: leader to cloud hearbeat...
1336844163146: Received UDP payload: 446
1336844163366: Received UDP payload: 446
1336844164871: Received UDP payload: 446
1336844165084: inside sendPacket(Packet p)
1336844165122: Sending UDP payload: 446
1336844165721: Received UDP payload: 446
1336844165794: Received UDP payload: 446
1336844168157: Received UDP payload: 446
1336844168358: Received UDP payload: 446
1336844168891: Received UDP payload: 4172
1336844168909: mux: GOT CSM_Msg
1336844168909: forwarding disabled, not forwarding packets
1336844168925: Received UDP payload: 1006
1336844168945: mux: GOT CSM_Msg
1336844168946: forwarding disabled, not forwarding packets
1336844169888: Received UDP payload: 446
1336844170113: inside sendPacket(Packet p)
1336844170114: Sending UDP payload: 446
1336844170738: Received UDP payload: 446
1336844170799: Received UDP payload: 446
1336844173123: Received UDP payload: 446
1336844173364: Received UDP payload: 446
1336844174878: Received UDP payload: 446
1336844175114: inside sendPacket(Packet p)
1336844175115: Sending UDP payload: 446
1336844175748: Received UDP payload: 446
1336844175846: Received UDP payload: 4244
1336844175855: mux: Inside mux Packet.CLIENT_REQUEST
1336844175856: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844175856: inside handleClientRequest. Originator leader of region 5
1336844175857: got new request, requestCounter = 5013001
1336844175857: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844175864: Sending PROC_REQUEST 10:0 (5,0)->(5,0)
1336844175866: Dispatching Atom PROC_REQUEST 10:0 (5,0)->(5,0)
1336844175868: mux: I got a CSM packet at a leader 

1336844175978: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844175997: I'm a leader and I successfully saved my client's new photo
1336844175997: now showing in UI the new photo I just saved ... 
1336844175997: the photo length: 3580
1336844176037: end of server show photo aside %%%%%%%%%
1336844175866: Note down new request by adding requestCounter=5013001 to HashMap processedRequests
1336844175867: Make FirstLeg Ack regardless of new or already-processed requests
1336844175867: The leader sending a First Leg ack to originator client (which id = 5013)
1336844175867: inside sendPacket(Packet p)
1336844175902: Received UDP payload: 446
1336844175921: Sending UDP payload: 4608
1336844175950: removed replies before id 0 from sentReplies of size 0
1336844175952: inside handleDSMRequest. At requests's remote leader of region 5
1336844175963: Inside UPLOAD_PHOTO!!
1336844175965: my_gpinfo.isSuccess is now (should be true): true
1336844175966: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844175972: Received PROC_REQUEST 10:0 (5,0)->(5,0), replying PROC_REPLY 10:0 (5,0)->(5,0)
1336844175973: Dispatching Atom PROC_REPLY 10:0 (5,0)->(5,0)
1336844176022: mux: I got a CSM packet at a leader 

1336844175974: Sending UDP payload: 446
1336844176031: Sending UDP payload: 1006
1336844176038: Received PROC_REPLY 10:0 (5,0)->(5,0), handing to UserApp
1336844176039: inside handleDSMReply. Now back in originator leader of region 5
1336844176039: DSM layer: Going to and from remote region took latency = 177
1336844176039: DSM layer: orig leader sent packet at 1336844175862 ~ received reply from remote leader at 1336844176039
1336844176041: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844176041: leader client reply has replyCounter: 501300100
1336844176041: reply packet contains the success info for UPLOAD_PHOTO
1336844176041: inside sendReplies of replyCount = 501300100
1336844176042: =======================
1336844176042: inside sendReplyRepeatingRunnable for replyCount = 501300100
1336844176042: Leader about to send REPLY packet, number: 501300100 type: 16 Leader in region: (5,0) to Client nodID: 5013
1336844176042: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844176042: inside sendPacket(Packet p)
1336844176042: === Finished one round of sending REPLY Packet =======
1336844176044: Sending UDP payload: 659
1336844176076: Received UDP payload: 446
1336844176079: mux: Inside mux Packet.CLIENT_REQUEST
1336844176079: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844176079: inside handleClientRequest. Originator leader of region 5
1336844176079: got new request, requestCounter = 5013002
1336844176079: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300100
1336844176079: Yay the last leg succeeded. Removing reply runnables ...
1336844176079: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501300100
1336844176080: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501300100
1336844176080: do not send ack for received final_leg_ack
1336844178132: Received UDP payload: 446
1336844178383: Received UDP payload: 446
1336844179903: Received UDP payload: 446
1336844180115: inside sendPacket(Packet p)
1336844180130: Sending UDP payload: 446
1336844180769: Received UDP payload: 446
1336844180837: canPressButton = TRUE
1336844180839: areButtonsEnabled --> false
1336844180840: disabling buttons ...
1336844180840: took picture disableButtonsR
1336844180841: areButtonsEnabled --> false
1336844180968: one more takeNum: 1
1336844180970: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336844180970: Clicked take picture button ..
1336844182232: inside HandlePictureStorage onPictureTaken()
1336844182233: one more takeCamGood: 1
1336844182234: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336844182494: Picture successfully taken, ORIG BYTE LENGTH = 2170374
1336844182679: Our new height x width: 306 x 408
1336844182679: Show photo from handle my camera take
1336844182679: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336844182680: change local requestCounter to 1
1336844182696: BYTE SIZE AFTER COMPRESSION: 3738
1336844182704: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5008001 Client in region: 5 Client nodID: 5008
1336844182736: ----------------------------
1336844182737: inside sendRequestPacketRepeatingRunnable for requestCount = 5008001
1336844182737: I'm a leader, my requesting photos packet going to mux directly
1336844182749: --- Finished one round of sending REQUEST Packet ---------
1336844182737: mux: Inside mux Packet.CLIENT_REQUEST
1336844182738: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844182790: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844182738: inside handleClientRequest. Originator leader of region 5
1336844182738: got new request, requestCounter = 5008001
1336844182738: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844182739: Sending PROC_REQUEST 10:1 (5,0)->(5,0)
1336844182739: Dispatching Atom PROC_REQUEST 10:1 (5,0)->(5,0)
1336844182740: mux: I got a CSM packet at a leader 

1336844182792: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844182794: I'm a leader and I successfully saved my client's new photo
1336844182794: now showing in UI the new photo I just saved ... 
1336844182794: the photo length: 3738
1336844182829: end of server show photo aside %%%%%%%%%
1336844182739: Note down new request by adding requestCounter=5008001 to HashMap processedRequests
1336844182739: Make FirstLeg Ack regardless of new or already-processed requests
1336844182739: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844182762: Sending UDP payload: 4766
1336844182765: removed replies before id 1 from sentReplies of size 0
1336844182766: inside handleDSMRequest. At requests's remote leader of region 5
1336844182769: Inside UPLOAD_PHOTO!!
1336844182773: my_gpinfo.isSuccess is now (should be true): true
1336844182773: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844182775: Received PROC_REQUEST 10:1 (5,0)->(5,0), replying PROC_REPLY 10:1 (5,0)->(5,0)
1336844182776: Dispatching Atom PROC_REPLY 10:1 (5,0)->(5,0)
1336844182776: mux: I got a CSM packet at a leader 

1336844182830: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336844182831: disabling progressdialog due to successful new photo upload
1336844182831: Inside _enableButtons
1336844182832: areButtonsEnabled --> true
1336844182832: send final leg ack regardless of new or already-processed reply
1336844182833: inside finalLegAck: change requestCounter to 2
1336844182833: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008002 Client in region: (5,0) Client nodID: 5008
1336844182833: I'm a leader client, my final_leg packet going to mux directly
1336844182837: new client_upload_photo_ack reply with replyCounter 500800100
1336844182837: note down new reply by adding replyCounter=500800100 to HashMap processedReplies
1336844182838: leader upload new photo latency = 93
1336844182838: = leader upload start 1336844182737 ~ stop 1336844182830
1336844182842: one more takeGoodSave: 1
1336844182843: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336844182843: adding take latency: 93
1336844182844: SUCCESS Client now knows saving photo on its leader succeeded
1336844182778: Sending UDP payload: 1006
1336844182782: Received PROC_REPLY 10:1 (5,0)->(5,0), handing to UserApp
1336844182782: inside handleDSMReply. Now back in originator leader of region 5
1336844182782: DSM layer: Going to and from remote region took latency = 44
1336844182783: DSM layer: orig leader sent packet at 1336844182738 ~ received reply from remote leader at 1336844182782
1336844182784: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844182784: leader client reply has replyCounter: 500800100
1336844182784: reply packet contains the success info for UPLOAD_PHOTO
1336844182784: inside sendReplies of replyCount = 500800100
1336844182784: =======================
1336844182785: inside sendReplyRepeatingRunnable for replyCount = 500800100
1336844182785: Leader about to send REPLY packet, number: 500800100 type: 16 Leader in region: (5,0) to Client nodID: 5008
1336844182785: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844182785: === Finished one round of sending REPLY Packet =======
1336844182834: mux: Inside mux Packet.CLIENT_REQUEST
1336844182834: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844182834: inside handleClientRequest. Originator leader of region 5
1336844182834: got new request, requestCounter = 5008002
1336844182834: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500800100
1336844182835: Yay the last leg succeeded. Removing reply runnables ...
1336844182835: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500800100
1336844182835: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500800100
1336844182835: do not send ack for received final_leg_ack
1336844182858: Received UDP payload: 446
1336844183134: Received UDP payload: 446
1336844183373: Received UDP payload: 446
1336844184927: Received UDP payload: 446
1336844185135: inside sendPacket(Packet p)
1336844185161: Sending UDP payload: 446
1336844185789: Received UDP payload: 446
1336844187858: Received UDP payload: 446
1336844188148: Received UDP payload: 446
1336844188383: Received UDP payload: 446
1336844189882: Received UDP payload: 446
1336844190144: inside sendPacket(Packet p)
1336844190155: Sending UDP payload: 446
1336844190801: Received UDP payload: 446
1336844191499: Received UDP payload: 4618
1336844191524: mux: GOT CSM_Msg
1336844191524: forwarding disabled, not forwarding packets
1336844191533: Received UDP payload: 1006
1336844191557: mux: GOT CSM_Msg
1336844191557: forwarding disabled, not forwarding packets
1336844192867: Received UDP payload: 446
1336844193151: Received UDP payload: 446
1336844193414: Received UDP payload: 446
1336844194907: Received UDP payload: 446
1336844195158: inside sendPacket(Packet p)
1336844195175: Sending UDP payload: 446
1336844195891: Received UDP payload: 446
1336844197864: Received UDP payload: 446
1336844198184: Received UDP payload: 446
1336844198454: Received UDP payload: 446
1336844198496: Received UDP payload: 5367
1336844198503: mux: Inside mux Packet.CLIENT_REQUEST
1336844198607: Received UDP payload: 5731
1336844198621: mux: GOT CSM_Msg
1336844198622: forwarding disabled, not forwarding packets
1336844198630: Received UDP payload: 446
1336844198636: mux: Inside Packet.SERVER_REPLY
1336844198637: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844198650: Received UDP payload: 1006
1336844198660: mux: GOT CSM_Msg
1336844198660: forwarding disabled, not forwarding packets
1336844198669: Received UDP payload: 659
1336844198676: mux: Inside Packet.SERVER_REPLY
1336844198676: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844198689: Received UDP payload: 446
1336844198691: mux: Inside mux Packet.CLIENT_REQUEST
1336844199878: Received UDP payload: 446
1336844200178: inside sendPacket(Packet p)
1336844200194: Sending UDP payload: 446
1336844200817: Received UDP payload: 446
1336844202896: Received UDP payload: 446
1336844203182: Received UDP payload: 446
1336844203415: Received UDP payload: 446
1336844204930: Received UDP payload: 446
1336844205197: inside sendPacket(Packet p)
1336844205209: Sending UDP payload: 446
1336844205864: Received UDP payload: 446
1336844207920: Received UDP payload: 446
1336844208196: Received UDP payload: 446
1336844208417: Received UDP payload: 446
1336844209899: Received UDP payload: 446
1336844210213: inside sendPacket(Packet p)
1336844210217: Sending UDP payload: 446
1336844210838: Received UDP payload: 446
1336844212868: Received UDP payload: 446
1336844213172: Received UDP payload: 446
1336844213424: Received UDP payload: 446
1336844214900: Received UDP payload: 446
1336844215214: inside sendPacket(Packet p)
1336844215223: Sending UDP payload: 446
1336844215858: Received UDP payload: 446
1336844217871: Received UDP payload: 446
1336844218179: Received UDP payload: 446
1336844218435: Received UDP payload: 446
1336844219903: Received UDP payload: 446
1336844220216: inside sendPacket(Packet p)
1336844220218: Sending UDP payload: 446
1336844220857: Received UDP payload: 446
1336844222930: Received UDP payload: 446
1336844223259: Received UDP payload: 446
1336844223478: Received UDP payload: 446
1336844224911: Received UDP payload: 446
1336844225217: inside sendPacket(Packet p)
1336844225221: Sending UDP payload: 446
1336844225873: Received UDP payload: 446
1336844227878: Received UDP payload: 446
1336844228227: Received UDP payload: 446
1336844228450: Received UDP payload: 446
1336844229925: Received UDP payload: 446
1336844230218: inside sendPacket(Packet p)
1336844230221: Sending UDP payload: 446
1336844230895: Received UDP payload: 446
1336844232878: Received UDP payload: 446
1336844233184: Received UDP payload: 446
1336844233451: Received UDP payload: 446
1336844234934: Received UDP payload: 446
1336844235220: inside sendPacket(Packet p)
1336844235232: Sending UDP payload: 446
1336844235880: Received UDP payload: 446
1336844237892: Received UDP payload: 446
1336844238193: Received UDP payload: 446
1336844239964: Received UDP payload: 446
1336844240235: inside sendPacket(Packet p)
1336844240240: Sending UDP payload: 446
1336844240390: Received UDP payload: 446
1336844242801: Received UDP payload: 446
1336844242877: Received UDP payload: 446
1336844243209: Received UDP payload: 446
1336844244939: Received UDP payload: 446
1336844245238: inside sendPacket(Packet p)
1336844245243: Sending UDP payload: 446
1336844245420: Received UDP payload: 446
1336844247809: Received UDP payload: 446
1336844247887: Received UDP payload: 446
1336844248222: Received UDP payload: 446
1336844249944: Received UDP payload: 446
1336844250239: inside sendPacket(Packet p)
1336844250265: Sending UDP payload: 446
1336844250396: Received UDP payload: 446
1336844252898: Received UDP payload: 446
1336844252970: Received UDP payload: 446
1336844253280: Received UDP payload: 446
1336844254953: Received UDP payload: 446
1336844255264: inside sendPacket(Packet p)
1336844255276: Sending UDP payload: 446
1336844255501: Received UDP payload: 446
1336844257909: Received UDP payload: 446
1336844257930: Received UDP payload: 446
1336844259968: Received UDP payload: 446
1336844260225: Received UDP payload: 446
1336844260281: inside sendPacket(Packet p)
1336844260294: Sending UDP payload: 446
1336844260399: Received UDP payload: 446
1336844262826: Received UDP payload: 446
1336844262914: Received UDP payload: 446
1336844265030: Received UDP payload: 446
1336844265235: Received UDP payload: 446
1336844265281: inside sendPacket(Packet p)
1336844265286: Sending UDP payload: 446
1336844265450: Received UDP payload: 446
1336844267871: Received UDP payload: 446
1336844267911: Received UDP payload: 446
1336844270031: Received UDP payload: 446
1336844270244: Received UDP payload: 446
1336844270283: inside sendPacket(Packet p)
1336844270287: Sending UDP payload: 446
1336844270455: Received UDP payload: 446
1336844272822: Received UDP payload: 446
1336844272907: Received UDP payload: 446
1336844273817: Received UDP payload: 1006
1336844273833: mux: GOT CSM_Msg
1336844273834: forwarding disabled, not forwarding packets
1336844273940: Received UDP payload: 4398
1336844273948: mux: GOT CSM_Msg
1336844273948: forwarding disabled, not forwarding packets
1336844274277: Received UDP payload: 642
1336844274280: mux: Inside mux Packet.CLIENT_REQUEST
1336844274323: Received UDP payload: 1006
1336844274328: mux: GOT CSM_Msg
1336844274329: forwarding disabled, not forwarding packets
1336844274354: Received UDP payload: 446
1336844274357: mux: Inside Packet.SERVER_REPLY
1336844274357: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844274434: Received UDP payload: 4398
1336844274445: mux: GOT CSM_Msg
1336844274445: forwarding disabled, not forwarding packets
1336844274488: Received UDP payload: 4051
1336844274495: mux: Inside Packet.SERVER_REPLY
1336844274495: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844274507: Received UDP payload: 446
1336844274511: mux: Inside mux Packet.CLIENT_REQUEST
1336844275077: Received UDP payload: 642
1336844275079: mux: Inside mux Packet.CLIENT_REQUEST
1336844275114: Received UDP payload: 1006
1336844275127: mux: GOT CSM_Msg
1336844275127: forwarding disabled, not forwarding packets
1336844275136: Received UDP payload: 446
1336844275137: mux: Inside Packet.SERVER_REPLY
1336844275137: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844275224: Received UDP payload: 4398
1336844275227: mux: GOT CSM_Msg
1336844275227: forwarding disabled, not forwarding packets
1336844275244: Received UDP payload: 446
1336844275284: inside sendPacket(Packet p)
1336844275285: Sending UDP payload: 446
1336844275315: Received UDP payload: 4051
1336844275317: mux: Inside Packet.SERVER_REPLY
1336844275317: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844275330: Received UDP payload: 446
1336844275333: mux: Inside mux Packet.CLIENT_REQUEST
1336844275403: Received UDP payload: 446
1336844275950: Received UDP payload: 1006
1336844275959: mux: GOT CSM_Msg
1336844275960: forwarding disabled, not forwarding packets
1336844276005: Received UDP payload: 4398
1336844276008: mux: GOT CSM_Msg
1336844276008: forwarding disabled, not forwarding packets
1336844277016: Received UDP payload: 446
1336844277845: Received UDP payload: 446
1336844277906: Received UDP payload: 446
1336844280245: Received UDP payload: 446
1336844280284: inside sendPacket(Packet p)
1336844280286: Sending UDP payload: 446
1336844280407: Received UDP payload: 446
1336844282013: Received UDP payload: 446
1336844282935: Received UDP payload: 446
1336844282959: Received UDP payload: 446
1336844283881: Received UDP payload: 1006
1336844283892: mux: GOT CSM_Msg
1336844283893: forwarding disabled, not forwarding packets
1336844283917: Received UDP payload: 1006
1336844283945: mux: GOT CSM_Msg
1336844283945: forwarding disabled, not forwarding packets
1336844284032: Received UDP payload: 4294
1336844284035: mux: GOT CSM_Msg
1336844284035: forwarding disabled, not forwarding packets
1336844284072: Received UDP payload: 4398
1336844284075: mux: GOT CSM_Msg
1336844284075: forwarding disabled, not forwarding packets
1336844285084: leader to cloud hearbeat...
1336844285249: Received UDP payload: 446
1336844285415: Received UDP payload: 446
1336844287011: Received UDP payload: 446
1336844287191: inside sendPacket(Packet p)
1336844287209: Sending UDP payload: 446
1336844287847: Received UDP payload: 446
1336844287955: Received UDP payload: 446
1336844290153: Received UDP payload: 1006
1336844290170: mux: GOT CSM_Msg
1336844290171: forwarding disabled, not forwarding packets
1336844290246: Received UDP payload: 4398
1336844290249: mux: GOT CSM_Msg
1336844290249: forwarding disabled, not forwarding packets
1336844290256: Received UDP payload: 446
1336844290421: Received UDP payload: 446
1336844291326: Received UDP payload: 642
1336844291328: mux: Inside mux Packet.CLIENT_REQUEST
1336844291425: Received UDP payload: 1006
1336844291428: mux: GOT CSM_Msg
1336844291429: forwarding disabled, not forwarding packets
1336844291429: Received UDP payload: 446
1336844291431: mux: Inside Packet.SERVER_REPLY
1336844291431: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844291544: Received UDP payload: 4398
1336844291563: mux: GOT CSM_Msg
1336844291564: forwarding disabled, not forwarding packets
1336844291605: Received UDP payload: 4051
1336844291606: mux: Inside Packet.SERVER_REPLY
1336844291607: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844291625: Received UDP payload: 446
1336844291627: mux: Inside mux Packet.CLIENT_REQUEST
1336844292014: Received UDP payload: 446
1336844292202: inside sendPacket(Packet p)
1336844292203: Sending UDP payload: 446
1336844292872: Received UDP payload: 446
1336844292933: Received UDP payload: 446
1336844295257: Received UDP payload: 446
1336844295447: Received UDP payload: 446
1336844297023: Received UDP payload: 446
1336844297203: inside sendPacket(Packet p)
1336844297204: Sending UDP payload: 446
1336844297871: Received UDP payload: 446
1336844297940: Received UDP payload: 446
1336844299788: Received UDP payload: 1006
1336844299799: mux: GOT CSM_Msg
1336844299799: forwarding disabled, not forwarding packets
1336844299879: Received UDP payload: 4398
1336844299881: mux: GOT CSM_Msg
1336844299881: forwarding disabled, not forwarding packets
1336844300249: Received UDP payload: 446
1336844300437: Received UDP payload: 446
1336844302041: Received UDP payload: 446
1336844302204: inside sendPacket(Packet p)
1336844302207: Sending UDP payload: 446
1336844302875: Received UDP payload: 446
1336844305198: Received UDP payload: 446
1336844305259: Received UDP payload: 446
1336844305451: Received UDP payload: 446
1336844307033: Received UDP payload: 446
1336844307205: inside sendPacket(Packet p)
1336844307209: Sending UDP payload: 446
1336844307886: Received UDP payload: 446
1336844310194: Received UDP payload: 446
1336844310254: Received UDP payload: 446
1336844310486: Received UDP payload: 446
1336844312050: Received UDP payload: 446
1336844312207: inside sendPacket(Packet p)
1336844312210: Sending UDP payload: 446
1336844312950: Received UDP payload: 446
1336844314881: canPressButton = TRUE
1336844314886: areButtonsEnabled --> false 
1336844314887: get picture disableButtonsR
1336844314887: areButtonsEnabled --> false
1336844314904: one more getNum: 1
1336844314905: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1336844314905: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336844314906: change local requestCounter to 3
1336844314909: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008003 Client in region: 5 Client nodID: 5008
1336844314940: ----------------------------
1336844314941: inside sendRequestPacketRepeatingRunnable for requestCount = 5008003
1336844314942: I'm a leader, my requesting photos packet going to mux directly
1336844314951: --- Finished one round of sending REQUEST Packet ---------
1336844314942: mux: Inside mux Packet.CLIENT_REQUEST
1336844314942: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844314990: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844314942: inside handleClientRequest. Originator leader of region 5
1336844314942: got new request, requestCounter = 5008003
1336844314943: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844314944: Sending to region: 0
1336844314946: Sending PROC_REQUEST 11:0 (5,0)->(0,0)
1336844314947: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(0,0)
1336844314949: mux: I got a CSM packet at a leader 

1336844314948: Note down new request by adding requestCounter=5008003 to HashMap processedRequests
1336844314948: Make FirstLeg Ack regardless of new or already-processed requests
1336844314948: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844314951: Sending UDP payload: 1006
1336844314957: forwarding disabled, not forwarding packets
1336844315095: Received UDP payload: 4398
1336844315100: mux: GOT CSM_Msg
1336844315134: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844315135: disabling progressdialog due to successful new photo get
1336844315136: Inside _enableButtons
1336844315136: areButtonsEnabled --> true
1336844315137: send final leg ack regardless of new or already-processed reply
1336844315138: inside finalLegAck: change requestCounter to 4
1336844315139: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008004 Client in region: (5,0) Client nodID: 5008
1336844315140: I'm a leader client, my final_leg packet going to mux directly
1336844315142: new client_show_remotephoto reply with replyCounter 500800300
1336844315142: note down new reply by adding replyCounter=500800300 to HashMap processedReplies
1336844315143: leader download remote photo latency = 192
1336844315143: = leader download start 1336844314942 ~ stop 1336844315134
1336844315151: one more getGood: 1
1336844315154: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1336844315155: adding get latency: 192
1336844315157: Success! Client getting photo from remote region, showing photo...
1336844315158: Remote photo's length: 3370
1336844315100: Received PROC_REPLY 11:0 (0,0)->(5,0), handing to UserApp
1336844315101: inside handleDSMReply. Now back in originator leader of region 5
1336844315101: DSM layer: Going to and from remote region took latency = 156
1336844315101: DSM layer: orig leader sent packet at 1336844314945 ~ received reply from remote leader at 1336844315101
1336844315104: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844315105: leader client reply has replyCounter: 500800300
1336844315105: reply packet contains the newest photo/success info from the remote region
1336844315105: inside sendReplies of replyCount = 500800300
1336844315106: =======================
1336844315106: inside sendReplyRepeatingRunnable for replyCount = 500800300
1336844315106: Leader about to send REPLY packet, number: 500800300 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844315107: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844315107: === Finished one round of sending REPLY Packet =======
1336844315140: mux: Inside mux Packet.CLIENT_REQUEST
1336844315141: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844315142: inside handleClientRequest. Originator leader of region 5
1336844315142: got new request, requestCounter = 5008004
1336844315143: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500800300
1336844315144: Yay the last leg succeeded. Removing reply runnables ...
1336844315144: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500800300
1336844315145: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500800300
1336844315147: do not send ack for received final_leg_ack
1336844315216: Received UDP payload: 446
1336844315273: Received UDP payload: 446
1336844315470: Received UDP payload: 446
1336844316436: Received UDP payload: 642
1336844316446: mux: Inside mux Packet.CLIENT_REQUEST
1336844316446: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844316447: inside handleClientRequest. Originator leader of region 5
1336844316447: got new request, requestCounter = 5013003
1336844316447: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844316450: Sending to region: 0
1336844316452: Sending PROC_REQUEST 11:1 (5,0)->(0,0)
1336844316463: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1336844316467: mux: I got a CSM packet at a leader 

1336844316464: Note down new request by adding requestCounter=5013003 to HashMap processedRequests
1336844316465: Make FirstLeg Ack regardless of new or already-processed requests
1336844316465: The leader sending a First Leg ack to originator client (which id = 5013)
1336844316466: inside sendPacket(Packet p)
1336844316480: Sending UDP payload: 1006
1336844316483: forwarding disabled, not forwarding packets
1336844316486: Sending UDP payload: 446
1336844316578: Received UDP payload: 4398
1336844316581: mux: GOT CSM_Msg
1336844316581: Received PROC_REPLY 11:1 (0,0)->(5,0), handing to UserApp
1336844316581: inside handleDSMReply. Now back in originator leader of region 5
1336844316581: DSM layer: Going to and from remote region took latency = 131
1336844316582: DSM layer: orig leader sent packet at 1336844316450 ~ received reply from remote leader at 1336844316581
1336844316583: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844316583: leader client reply has replyCounter: 501300300
1336844316583: reply packet contains the newest photo/success info from the remote region
1336844316583: inside sendReplies of replyCount = 501300300
1336844316585: =======================
1336844316585: inside sendReplyRepeatingRunnable for replyCount = 501300300
1336844316585: Leader about to send REPLY packet, number: 501300300 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844316585: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844316585: inside sendPacket(Packet p)
1336844316586: === Finished one round of sending REPLY Packet =======
1336844316588: Sending UDP payload: 4051
1336844316646: Received UDP payload: 446
1336844316648: mux: Inside mux Packet.CLIENT_REQUEST
1336844316648: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844316648: inside handleClientRequest. Originator leader of region 5
1336844316648: got new request, requestCounter = 5013004
1336844316648: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300300
1336844316648: Yay the last leg succeeded. Removing reply runnables ...
1336844316649: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501300300
1336844316649: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501300300
1336844316649: do not send ack for received final_leg_ack
1336844317088: Received UDP payload: 446
1336844317208: inside sendPacket(Packet p)
1336844317211: Sending UDP payload: 446
1336844317950: Received UDP payload: 446
1336844320241: Received UDP payload: 446
1336844320272: Received UDP payload: 446
1336844320477: Received UDP payload: 446
1336844322058: Received UDP payload: 446
1336844322214: inside sendPacket(Packet p)
1336844322218: Sending UDP payload: 446
1336844322930: Received UDP payload: 446
1336844325211: Received UDP payload: 446
1336844325264: Received UDP payload: 446
1336844325481: Received UDP payload: 446
1336844326996: Received UDP payload: 642
1336844327001: mux: Inside mux Packet.CLIENT_REQUEST
1336844327058: Received UDP payload: 446
1336844327076: Received UDP payload: 1006
1336844327086: mux: GOT CSM_Msg
1336844327087: forwarding disabled, not forwarding packets
1336844327100: Received UDP payload: 446
1336844327105: mux: Inside Packet.SERVER_REPLY
1336844327106: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844327143: Received UDP payload: 4294
1336844327145: mux: GOT CSM_Msg
1336844327146: forwarding disabled, not forwarding packets
1336844327193: Received UDP payload: 3947
1336844327194: mux: Inside Packet.SERVER_REPLY
1336844327195: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844327216: inside sendPacket(Packet p)
1336844327216: Sending UDP payload: 446
1336844327230: Received UDP payload: 446
1336844327231: mux: Inside mux Packet.CLIENT_REQUEST
1336844327389: Received UDP payload: 642
1336844327391: mux: Inside mux Packet.CLIENT_REQUEST
1336844327408: Received UDP payload: 1006
1336844327411: mux: GOT CSM_Msg
1336844327411: forwarding disabled, not forwarding packets
1336844327415: Received UDP payload: 446
1336844327417: mux: Inside Packet.SERVER_REPLY
1336844327417: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844327521: Received UDP payload: 3947
1336844327523: mux: Inside Packet.SERVER_REPLY
1336844327523: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844327541: Received UDP payload: 446
1336844327542: mux: Inside mux Packet.CLIENT_REQUEST
1336844327936: Received UDP payload: 446
1336844328758: Received UDP payload: 1006
1336844328770: mux: GOT CSM_Msg
1336844328771: forwarding disabled, not forwarding packets
1336844328879: Received UDP payload: 4294
1336844328890: mux: GOT CSM_Msg
1336844328890: forwarding disabled, not forwarding packets
1336844330277: Received UDP payload: 446
1336844330300: Received UDP payload: 446
1336844330485: Received UDP payload: 446
1336844332098: Received UDP payload: 446
1336844332216: inside sendPacket(Packet p)
1336844332219: Sending UDP payload: 446
1336844332980: Received UDP payload: 446
1336844333543: Received UDP payload: 1006
1336844333553: mux: GOT CSM_Msg
1336844333553: forwarding disabled, not forwarding packets
1336844333644: Received UDP payload: 4294
1336844333647: mux: GOT CSM_Msg
1336844333647: forwarding disabled, not forwarding packets
1336844335263: Received UDP payload: 446
1336844335287: Received UDP payload: 446
1336844335487: Received UDP payload: 446
1336844337091: Received UDP payload: 446
1336844337216: inside sendPacket(Packet p)
1336844337221: Sending UDP payload: 446
1336844337235: Received UDP payload: 1006
1336844337254: mux: GOT CSM_Msg
1336844337255: forwarding disabled, not forwarding packets
1336844337331: Received UDP payload: 4294
1336844337334: mux: GOT CSM_Msg
1336844337334: forwarding disabled, not forwarding packets
1336844337957: Received UDP payload: 446
1336844340257: Received UDP payload: 446
1336844340284: Received UDP payload: 446
1336844340493: Received UDP payload: 446
1336844342101: Received UDP payload: 446
1336844342218: inside sendPacket(Packet p)
1336844342221: Sending UDP payload: 446
1336844342828: canPressButton = TRUE
1336844342828: areButtonsEnabled --> false 
1336844342829: get picture disableButtonsR
1336844342829: areButtonsEnabled --> false
1336844342855: one more getNum: 2
1336844342856: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=0 getTimedout=0 getPercent=50%
1336844342857: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336844342857: change local requestCounter to 5
1336844342858: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008005 Client in region: 5 Client nodID: 5008
1336844342890: ----------------------------
1336844342891: inside sendRequestPacketRepeatingRunnable for requestCount = 5008005
1336844342891: I'm a leader, my requesting photos packet going to mux directly
1336844342898: --- Finished one round of sending REQUEST Packet ---------
1336844342891: mux: Inside mux Packet.CLIENT_REQUEST
1336844342892: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844342939: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844342892: inside handleClientRequest. Originator leader of region 5
1336844342892: got new request, requestCounter = 5008005
1336844342892: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844342893: Sending to region: 1
1336844342893: Sending PROC_REQUEST 11:0 (5,0)->(1,0)
1336844342894: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(1,0)
1336844342894: mux: I got a CSM packet at a leader 

1336844342894: Note down new request by adding requestCounter=5008005 to HashMap processedRequests
1336844342894: Make FirstLeg Ack regardless of new or already-processed requests
1336844342894: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844342897: Sending UDP payload: 1006
1336844342898: forwarding disabled, not forwarding packets
1336844343071: Received UDP payload: 446
1336844343189: Received UDP payload: 4294
1336844343198: mux: GOT CSM_Msg
1336844343229: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844343230: disabling progressdialog due to successful new photo get
1336844343230: Inside _enableButtons
1336844343231: areButtonsEnabled --> true
1336844343231: send final leg ack regardless of new or already-processed reply
1336844343231: inside finalLegAck: change requestCounter to 6
1336844343232: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008006 Client in region: (5,0) Client nodID: 5008
1336844343233: I'm a leader client, my final_leg packet going to mux directly
1336844343235: new client_show_remotephoto reply with replyCounter 500800500
1336844343236: note down new reply by adding replyCounter=500800500 to HashMap processedReplies
1336844343237: leader download remote photo latency = 338
1336844343238: = leader download start 1336844342891 ~ stop 1336844343229
1336844343241: one more getGood: 2
1336844343248: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=2 getBad=0 getTimedout=0 getPercent=100%
1336844343248: adding get latency: 338
1336844343250: Success! Client getting photo from remote region, showing photo...
1336844343250: Remote photo's length: 3266
1336844343199: Received PROC_REPLY 11:0 (1,0)->(5,0), handing to UserApp
1336844343199: inside handleDSMReply. Now back in originator leader of region 5
1336844343199: DSM layer: Going to and from remote region took latency = 306
1336844343199: DSM layer: orig leader sent packet at 1336844342893 ~ received reply from remote leader at 1336844343199
1336844343203: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844343203: leader client reply has replyCounter: 500800500
1336844343204: reply packet contains the newest photo/success info from the remote region
1336844343204: inside sendReplies of replyCount = 500800500
1336844343204: =======================
1336844343204: inside sendReplyRepeatingRunnable for replyCount = 500800500
1336844343205: Leader about to send REPLY packet, number: 500800500 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844343205: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844343206: === Finished one round of sending REPLY Packet =======
1336844343233: mux: Inside mux Packet.CLIENT_REQUEST
1336844343234: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844343234: inside handleClientRequest. Originator leader of region 5
1336844343234: got new request, requestCounter = 5008006
1336844343234: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500800500
1336844343234: Yay the last leg succeeded. Removing reply runnables ...
1336844343234: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500800500
1336844343235: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500800500
1336844343235: do not send ack for received final_leg_ack
1336844343242: Received UDP payload: 1006
1336844343246: mux: GOT CSM_Msg
1336844343247: forwarding disabled, not forwarding packets
1336844343303: Received UDP payload: 4294
1336844343307: mux: GOT CSM_Msg
1336844343307: forwarding disabled, not forwarding packets
1336844344554: Received UDP payload: 642
1336844344563: mux: Inside mux Packet.CLIENT_REQUEST
1336844344564: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844344565: inside handleClientRequest. Originator leader of region 5
1336844344565: got new request, requestCounter = 5013005
1336844344565: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844344568: Sending to region: 1
1336844344570: Sending PROC_REQUEST 11:1 (5,0)->(1,0)
1336844344571: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(1,0)
1336844344608: mux: I got a CSM packet at a leader 

1336844344571: Note down new request by adding requestCounter=5013005 to HashMap processedRequests
1336844344607: Make FirstLeg Ack regardless of new or already-processed requests
1336844344607: The leader sending a First Leg ack to originator client (which id = 5013)
1336844344607: inside sendPacket(Packet p)
1336844344610: Sending UDP payload: 1006
1336844344610: forwarding disabled, not forwarding packets
1336844344612: Sending UDP payload: 446
1336844344694: Received UDP payload: 4294
1336844344697: mux: GOT CSM_Msg
1336844344697: Received PROC_REPLY 11:1 (1,0)->(5,0), handing to UserApp
1336844344697: inside handleDSMReply. Now back in originator leader of region 5
1336844344698: DSM layer: Going to and from remote region took latency = 129
1336844344698: DSM layer: orig leader sent packet at 1336844344568 ~ received reply from remote leader at 1336844344697
1336844344698: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844344699: leader client reply has replyCounter: 501300500
1336844344699: reply packet contains the newest photo/success info from the remote region
1336844344699: inside sendReplies of replyCount = 501300500
1336844344699: =======================
1336844344699: inside sendReplyRepeatingRunnable for replyCount = 501300500
1336844344699: Leader about to send REPLY packet, number: 501300500 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844344700: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844344700: inside sendPacket(Packet p)
1336844344700: === Finished one round of sending REPLY Packet =======
1336844344701: Sending UDP payload: 3947
1336844344778: Received UDP payload: 446
1336844344780: mux: Inside mux Packet.CLIENT_REQUEST
1336844344780: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844344780: inside handleClientRequest. Originator leader of region 5
1336844344780: got new request, requestCounter = 5013006
1336844344780: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300500
1336844344780: Yay the last leg succeeded. Removing reply runnables ...
1336844344780: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501300500
1336844344781: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501300500
1336844344781: do not send ack for received final_leg_ack
1336844345275: Received UDP payload: 446
1336844345286: Received UDP payload: 446
1336844345526: Received UDP payload: 446
1336844346940: Received UDP payload: 642
1336844346948: mux: Inside mux Packet.CLIENT_REQUEST
1336844347053: Received UDP payload: 1006
1336844347061: mux: GOT CSM_Msg
1336844347061: forwarding disabled, not forwarding packets
1336844347072: Received UDP payload: 446
1336844347078: mux: Inside Packet.SERVER_REPLY
1336844347078: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844347123: Received UDP payload: 446
1336844347219: inside sendPacket(Packet p)
1336844347221: Sending UDP payload: 446
1336844347754: Received UDP payload: 1006
1336844347767: mux: GOT CSM_Msg
1336844347767: forwarding disabled, not forwarding packets
1336844347826: Received UDP payload: 4294
1336844347829: mux: GOT CSM_Msg
1336844347829: forwarding disabled, not forwarding packets
1336844347875: Received UDP payload: 3947
1336844347876: mux: Inside Packet.SERVER_REPLY
1336844347877: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844347891: Received UDP payload: 446
1336844347893: mux: Inside mux Packet.CLIENT_REQUEST
1336844347980: Received UDP payload: 446
1336844350320: Received UDP payload: 446
1336844350340: Received UDP payload: 446
1336844350495: Received UDP payload: 446
1336844352124: Received UDP payload: 446
1336844352219: inside sendPacket(Packet p)
1336844352223: Sending UDP payload: 446
1336844352952: Received UDP payload: 446
1336844355276: Received UDP payload: 446
1336844355313: Received UDP payload: 446
1336844355582: Received UDP payload: 446
1336844357133: Received UDP payload: 446
1336844357222: inside sendPacket(Packet p)
1336844357225: Sending UDP payload: 446
1336844357967: Received UDP payload: 446
1336844358939: Received UDP payload: 642
1336844358945: mux: Inside mux Packet.CLIENT_REQUEST
1336844359003: Received UDP payload: 1006
1336844359012: mux: GOT CSM_Msg
1336844359014: forwarding disabled, not forwarding packets
1336844359022: Received UDP payload: 446
1336844359027: mux: Inside Packet.SERVER_REPLY
1336844359028: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844359045: Received UDP payload: 642
1336844359055: mux: Inside mux Packet.CLIENT_REQUEST
1336844359091: Received UDP payload: 1006
1336844359094: mux: GOT CSM_Msg
1336844359094: forwarding disabled, not forwarding packets
1336844359114: Received UDP payload: 446
1336844359116: mux: Inside Packet.SERVER_REPLY
1336844359116: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844359131: Received UDP payload: 4172
1336844359135: mux: GOT CSM_Msg
1336844359136: forwarding disabled, not forwarding packets
1336844359186: Received UDP payload: 4172
1336844359188: mux: GOT CSM_Msg
1336844359189: forwarding disabled, not forwarding packets
1336844359210: Received UDP payload: 3825
1336844359212: mux: Inside Packet.SERVER_REPLY
1336844359212: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844359257: Received UDP payload: 3825
1336844359259: mux: Inside Packet.SERVER_REPLY
1336844359259: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844359269: Received UDP payload: 446
1336844359270: mux: Inside mux Packet.CLIENT_REQUEST
1336844359290: Received UDP payload: 446
1336844359292: mux: Inside mux Packet.CLIENT_REQUEST
1336844360270: Received UDP payload: 1006
1336844360280: mux: GOT CSM_Msg
1336844360280: forwarding disabled, not forwarding packets
1336844360305: Received UDP payload: 446
1336844360376: Received UDP payload: 4172
1336844360387: mux: GOT CSM_Msg
1336844360387: forwarding disabled, not forwarding packets
1336844360397: Received UDP payload: 446
1336844362146: Received UDP payload: 446
1336844362222: inside sendPacket(Packet p)
1336844362226: Sending UDP payload: 446
1336844362698: Received UDP payload: 1006
1336844362710: mux: GOT CSM_Msg
1336844362711: forwarding disabled, not forwarding packets
1336844362723: Received UDP payload: 446
1336844364986: Received UDP payload: 446
1336844365310: Received UDP payload: 446
1336844365330: Received UDP payload: 446
1336844366240: Received UDP payload: 1006
1336844366252: mux: GOT CSM_Msg
1336844366252: forwarding disabled, not forwarding packets
1336844366352: Received UDP payload: 4172
1336844366363: mux: GOT CSM_Msg
1336844366364: forwarding disabled, not forwarding packets
1336844367157: Received UDP payload: 446
1336844367223: inside sendPacket(Packet p)
1336844367226: Sending UDP payload: 446
1336844367703: Received UDP payload: 446
1336844368196: Received UDP payload: 1006
1336844368208: mux: GOT CSM_Msg
1336844368209: forwarding disabled, not forwarding packets
1336844368257: Received UDP payload: 4172
1336844368260: mux: GOT CSM_Msg
1336844368260: forwarding disabled, not forwarding packets
1336844369860: Received UDP payload: 446
1336844370316: Received UDP payload: 446
1336844370354: Received UDP payload: 446
1336844371699: Received UDP payload: 642
1336844371709: mux: Inside mux Packet.CLIENT_REQUEST
1336844371710: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844371710: inside handleClientRequest. Originator leader of region 5
1336844371711: got new request, requestCounter = 5013007
1336844371711: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844371725: Sending to region: 2
1336844371727: Sending PROC_REQUEST 11:0 (5,0)->(2,0)
1336844371729: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1336844371731: mux: I got a CSM packet at a leader 

1336844371729: Note down new request by adding requestCounter=5013007 to HashMap processedRequests
1336844371729: Make FirstLeg Ack regardless of new or already-processed requests
1336844371730: The leader sending a First Leg ack to originator client (which id = 5013)
1336844371730: inside sendPacket(Packet p)
1336844371746: Sending UDP payload: 1006
1336844371748: forwarding disabled, not forwarding packets
1336844371751: Sending UDP payload: 446
1336844371846: Received UDP payload: 4172
1336844371849: mux: GOT CSM_Msg
1336844371850: Received PROC_REPLY 11:0 (2,0)->(5,0), handing to UserApp
1336844371850: inside handleDSMReply. Now back in originator leader of region 5
1336844371850: DSM layer: Going to and from remote region took latency = 125
1336844371850: DSM layer: orig leader sent packet at 1336844371725 ~ received reply from remote leader at 1336844371850
1336844371851: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844371852: leader client reply has replyCounter: 501300700
1336844371862: reply packet contains the newest photo/success info from the remote region
1336844371863: inside sendReplies of replyCount = 501300700
1336844371863: =======================
1336844371863: inside sendReplyRepeatingRunnable for replyCount = 501300700
1336844371863: Leader about to send REPLY packet, number: 501300700 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844371864: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844371864: inside sendPacket(Packet p)
1336844371864: === Finished one round of sending REPLY Packet =======
1336844371865: Sending UDP payload: 3825
1336844371946: Received UDP payload: 446
1336844371952: mux: Inside mux Packet.CLIENT_REQUEST
1336844371952: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844371952: inside handleClientRequest. Originator leader of region 5
1336844371952: got new request, requestCounter = 5013008
1336844371952: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300700
1336844371953: Yay the last leg succeeded. Removing reply runnables ...
1336844371953: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501300700
1336844371953: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501300700
1336844371953: do not send ack for received final_leg_ack
1336844372142: Received UDP payload: 446
1336844372227: inside sendPacket(Packet p)
1336844372233: Sending UDP payload: 446
1336844372510: canPressButton = TRUE
1336844372510: areButtonsEnabled --> false 
1336844372510: get picture disableButtonsR
1336844372511: areButtonsEnabled --> false
1336844372524: one more getNum: 3
1336844372525: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=0 getTimedout=0 getPercent=66%
1336844372525: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336844372526: change local requestCounter to 7
1336844372528: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008007 Client in region: 5 Client nodID: 5008
1336844372575: ----------------------------
1336844372577: inside sendRequestPacketRepeatingRunnable for requestCount = 5008007
1336844372578: I'm a leader, my requesting photos packet going to mux directly
1336844372588: --- Finished one round of sending REQUEST Packet ---------
1336844372578: mux: Inside mux Packet.CLIENT_REQUEST
1336844372578: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844372636: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844372579: inside handleClientRequest. Originator leader of region 5
1336844372579: got new request, requestCounter = 5008007
1336844372579: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844372584: Sending to region: 2
1336844372585: Sending PROC_REQUEST 11:1 (5,0)->(2,0)
1336844372585: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(2,0)
1336844372586: mux: I got a CSM packet at a leader 

1336844372585: Note down new request by adding requestCounter=5008007 to HashMap processedRequests
1336844372586: Make FirstLeg Ack regardless of new or already-processed requests
1336844372586: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844372600: Sending UDP payload: 1006
1336844372609: forwarding disabled, not forwarding packets
1336844372715: Received UDP payload: 446
1336844372728: Received UDP payload: 4172
1336844372734: mux: GOT CSM_Msg
1336844372738: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844372738: disabling progressdialog due to successful new photo get
1336844372739: Inside _enableButtons
1336844372739: areButtonsEnabled --> true
1336844372739: send final leg ack regardless of new or already-processed reply
1336844372740: inside finalLegAck: change requestCounter to 8
1336844372740: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008008 Client in region: (5,0) Client nodID: 5008
1336844372740: I'm a leader client, my final_leg packet going to mux directly
1336844372744: new client_show_remotephoto reply with replyCounter 500800700
1336844372745: note down new reply by adding replyCounter=500800700 to HashMap processedReplies
1336844372745: leader download remote photo latency = 160
1336844372746: = leader download start 1336844372578 ~ stop 1336844372738
1336844372747: one more getGood: 3
1336844372748: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=3 getBad=0 getTimedout=0 getPercent=100%
1336844372748: adding get latency: 160
1336844372751: Success! Client getting photo from remote region, showing photo...
1336844372751: Remote photo's length: 3144
1336844372734: Received PROC_REPLY 11:1 (2,0)->(5,0), handing to UserApp
1336844372734: inside handleDSMReply. Now back in originator leader of region 5
1336844372734: DSM layer: Going to and from remote region took latency = 150
1336844372735: DSM layer: orig leader sent packet at 1336844372584 ~ received reply from remote leader at 1336844372734
1336844372735: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844372736: leader client reply has replyCounter: 500800700
1336844372736: reply packet contains the newest photo/success info from the remote region
1336844372736: inside sendReplies of replyCount = 500800700
1336844372736: =======================
1336844372736: inside sendReplyRepeatingRunnable for replyCount = 500800700
1336844372736: Leader about to send REPLY packet, number: 500800700 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844372736: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844372737: === Finished one round of sending REPLY Packet =======
1336844372741: mux: Inside mux Packet.CLIENT_REQUEST
1336844372741: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844372741: inside handleClientRequest. Originator leader of region 5
1336844372741: got new request, requestCounter = 5008008
1336844372741: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500800700
1336844372741: Yay the last leg succeeded. Removing reply runnables ...
1336844372741: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500800700
1336844372741: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500800700
1336844372741: do not send ack for received final_leg_ack
1336844374459: Received UDP payload: 1006
1336844374470: mux: GOT CSM_Msg
1336844374471: forwarding disabled, not forwarding packets
1336844374564: Received UDP payload: 4172
1336844374567: mux: GOT CSM_Msg
1336844374567: forwarding disabled, not forwarding packets
1336844374863: Received UDP payload: 446
1336844375316: Received UDP payload: 446
1336844375343: Received UDP payload: 446
1336844377159: Received UDP payload: 446
1336844377228: inside sendPacket(Packet p)
1336844377239: Sending UDP payload: 446
1336844377706: Received UDP payload: 446
1336844379925: Received UDP payload: 446
1336844380336: Received UDP payload: 446
1336844382243: inside sendPacket(Packet p)
1336844382255: Received UDP payload: 446
1336844382256: Sending UDP payload: 446
1336844382333: Received UDP payload: 446
1336844382719: Received UDP payload: 446
1336844383295: Received UDP payload: 642
1336844383300: mux: Inside mux Packet.CLIENT_REQUEST
1336844383348: Received UDP payload: 1006
1336844383355: mux: GOT CSM_Msg
1336844383355: forwarding disabled, not forwarding packets
1336844383360: Received UDP payload: 446
1336844383361: mux: Inside Packet.SERVER_REPLY
1336844383361: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844383429: Received UDP payload: 4172
1336844383432: mux: GOT CSM_Msg
1336844383433: forwarding disabled, not forwarding packets
1336844383484: Received UDP payload: 3825
1336844383487: mux: Inside Packet.SERVER_REPLY
1336844383487: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844383527: Received UDP payload: 446
1336844383528: mux: Inside mux Packet.CLIENT_REQUEST
1336844385005: Received UDP payload: 446
1336844385411: Received UDP payload: 446
1336844387188: Received UDP payload: 446
1336844387244: inside sendPacket(Packet p)
1336844387247: Sending UDP payload: 446
1336844387336: Received UDP payload: 446
1336844387725: Received UDP payload: 446
1336844389595: Received UDP payload: 1006
1336844389608: mux: GOT CSM_Msg
1336844389608: forwarding disabled, not forwarding packets
1336844389732: Received UDP payload: 4587
1336844389744: mux: GOT CSM_Msg
1336844389745: forwarding disabled, not forwarding packets
1336844389880: Received UDP payload: 446
1336844390358: Received UDP payload: 446
1336844391405: Received UDP payload: 642
1336844391413: mux: Inside mux Packet.CLIENT_REQUEST
1336844391461: Received UDP payload: 1006
1336844391464: mux: GOT CSM_Msg
1336844391464: forwarding disabled, not forwarding packets
1336844391471: Received UDP payload: 446
1336844391474: mux: Inside Packet.SERVER_REPLY
1336844391474: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844391570: Received UDP payload: 4587
1336844391574: mux: GOT CSM_Msg
1336844391574: forwarding disabled, not forwarding packets
1336844391625: Received UDP payload: 4240
1336844391628: mux: Inside Packet.SERVER_REPLY
1336844391628: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844391639: Received UDP payload: 446
1336844391641: mux: Inside mux Packet.CLIENT_REQUEST
1336844392197: Received UDP payload: 446
1336844392244: inside sendPacket(Packet p)
1336844392248: Sending UDP payload: 446
1336844392336: Received UDP payload: 446
1336844392739: Received UDP payload: 446
1336844392975: Received UDP payload: 642
1336844392983: mux: Inside mux Packet.CLIENT_REQUEST
1336844393045: Received UDP payload: 1006
1336844393056: mux: GOT CSM_Msg
1336844393057: forwarding disabled, not forwarding packets
1336844393072: Received UDP payload: 446
1336844393077: mux: Inside Packet.SERVER_REPLY
1336844393077: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844393147: Received UDP payload: 4587
1336844393149: mux: GOT CSM_Msg
1336844393149: forwarding disabled, not forwarding packets
1336844393205: Received UDP payload: 4240
1336844393207: mux: Inside Packet.SERVER_REPLY
1336844393207: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844393219: Received UDP payload: 446
1336844393221: mux: Inside mux Packet.CLIENT_REQUEST
1336844394575: Received UDP payload: 1006
1336844394585: mux: GOT CSM_Msg
1336844394586: forwarding disabled, not forwarding packets
1336844394704: Received UDP payload: 4587
1336844394713: mux: GOT CSM_Msg
1336844394713: forwarding disabled, not forwarding packets
1336844394869: Received UDP payload: 446
1336844395366: Received UDP payload: 446
1336844397091: Received UDP payload: 1006
1336844397100: mux: GOT CSM_Msg
1336844397100: forwarding disabled, not forwarding packets
1336844397150: Received UDP payload: 4587
1336844397153: mux: GOT CSM_Msg
1336844397153: forwarding disabled, not forwarding packets
1336844397245: inside sendPacket(Packet p)
1336844397246: Sending UDP payload: 446
1336844397336: Received UDP payload: 446
1336844397740: Received UDP payload: 446
1336844399160: Received UDP payload: 446
1336844399894: Received UDP payload: 446
1336844400433: Received UDP payload: 446
1336844402245: inside sendPacket(Packet p)
1336844402255: Sending UDP payload: 446
1336844402338: Received UDP payload: 446
1336844402570: Received UDP payload: 1006
1336844402583: mux: GOT CSM_Msg
1336844402584: forwarding disabled, not forwarding packets
1336844402705: Received UDP payload: 4587
1336844402715: mux: GOT CSM_Msg
1336844402715: forwarding disabled, not forwarding packets
1336844402740: Received UDP payload: 446
1336844403314: Received UDP payload: 1006
1336844403321: mux: GOT CSM_Msg
1336844403322: forwarding disabled, not forwarding packets
1336844403399: Received UDP payload: 4587
1336844403409: mux: GOT CSM_Msg
1336844403409: forwarding disabled, not forwarding packets
1336844403420: Received UDP payload: 1006
1336844403429: mux: GOT CSM_Msg
1336844403429: forwarding disabled, not forwarding packets
1336844403500: Received UDP payload: 4587
1336844403504: mux: GOT CSM_Msg
1336844403505: forwarding disabled, not forwarding packets
1336844404164: Received UDP payload: 446
1336844404870: Received UDP payload: 446
1336844405060: Received UDP payload: 642
1336844405084: mux: Inside mux Packet.CLIENT_REQUEST
1336844405085: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844405086: inside handleClientRequest. Originator leader of region 5
1336844405086: got new request, requestCounter = 5013009
1336844405087: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844405089: Sending to region: 3
1336844405091: Sending PROC_REQUEST 11:0 (5,0)->(3,0)
1336844405092: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1336844405094: mux: I got a CSM packet at a leader 

1336844405092: Note down new request by adding requestCounter=5013009 to HashMap processedRequests
1336844405093: Make FirstLeg Ack regardless of new or already-processed requests
1336844405093: The leader sending a First Leg ack to originator client (which id = 5013)
1336844405093: inside sendPacket(Packet p)
1336844405104: Sending UDP payload: 1006
1336844405105: forwarding disabled, not forwarding packets
1336844405107: Sending UDP payload: 446
1336844405354: Received UDP payload: 4587
1336844405359: mux: GOT CSM_Msg
1336844405360: Received PROC_REPLY 11:0 (3,0)->(5,0), handing to UserApp
1336844405360: inside handleDSMReply. Now back in originator leader of region 5
1336844405360: DSM layer: Going to and from remote region took latency = 271
1336844405360: DSM layer: orig leader sent packet at 1336844405089 ~ received reply from remote leader at 1336844405360
1336844405373: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844405373: leader client reply has replyCounter: 501300900
1336844405373: reply packet contains the newest photo/success info from the remote region
1336844405373: inside sendReplies of replyCount = 501300900
1336844405373: =======================
1336844405374: inside sendReplyRepeatingRunnable for replyCount = 501300900
1336844405374: Leader about to send REPLY packet, number: 501300900 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844405374: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844405374: inside sendPacket(Packet p)
1336844405374: === Finished one round of sending REPLY Packet =======
1336844405381: Sending UDP payload: 4240
1336844405403: Received UDP payload: 446
1336844405452: Received UDP payload: 446
1336844405453: mux: Inside mux Packet.CLIENT_REQUEST
1336844405454: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844405454: inside handleClientRequest. Originator leader of region 5
1336844405454: got new request, requestCounter = 5013010
1336844405454: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300900
1336844405454: Yay the last leg succeeded. Removing reply runnables ...
1336844405454: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501300900
1336844405454: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501300900
1336844405454: do not send ack for received final_leg_ack
1336844405848: canPressButton = TRUE
1336844405848: areButtonsEnabled --> false 
1336844405848: get picture disableButtonsR
1336844405849: areButtonsEnabled --> false
1336844405875: one more getNum: 4
1336844405876: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=3 getBad=0 getTimedout=0 getPercent=75%
1336844405876: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336844405876: change local requestCounter to 9
1336844405880: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008009 Client in region: 5 Client nodID: 5008
1336844405910: ----------------------------
1336844405911: inside sendRequestPacketRepeatingRunnable for requestCount = 5008009
1336844405912: I'm a leader, my requesting photos packet going to mux directly
1336844405919: --- Finished one round of sending REQUEST Packet ---------
1336844405912: mux: Inside mux Packet.CLIENT_REQUEST
1336844405912: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844405958: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844405913: inside handleClientRequest. Originator leader of region 5
1336844405913: got new request, requestCounter = 5008009
1336844405913: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844405914: Sending to region: 3
1336844405914: Sending PROC_REQUEST 11:1 (5,0)->(3,0)
1336844405915: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(3,0)
1336844405915: mux: I got a CSM packet at a leader 

1336844405915: Note down new request by adding requestCounter=5008009 to HashMap processedRequests
1336844405915: Make FirstLeg Ack regardless of new or already-processed requests
1336844405915: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844405918: Sending UDP payload: 1006
1336844405919: forwarding disabled, not forwarding packets
1336844406029: Received UDP payload: 4587
1336844406032: mux: GOT CSM_Msg
1336844406032: Received PROC_REPLY 11:1 (3,0)->(5,0), handing to UserApp
1336844406032: inside handleDSMReply. Now back in originator leader of region 5
1336844406032: DSM layer: Going to and from remote region took latency = 118
1336844406033: DSM layer: orig leader sent packet at 1336844405914 ~ received reply from remote leader at 1336844406032
1336844406033: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844406034: leader client reply has replyCounter: 500800900
1336844406034: reply packet contains the newest photo/success info from the remote region
1336844406034: inside sendReplies of replyCount = 500800900
1336844406036: =======================
1336844406036: inside sendReplyRepeatingRunnable for replyCount = 500800900
1336844406043: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844406044: disabling progressdialog due to successful new photo get
1336844406044: Inside _enableButtons
1336844406044: areButtonsEnabled --> true
1336844406045: send final leg ack regardless of new or already-processed reply
1336844406045: inside finalLegAck: change requestCounter to 10
1336844406045: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008010 Client in region: (5,0) Client nodID: 5008
1336844406045: I'm a leader client, my final_leg packet going to mux directly
1336844406047: new client_show_remotephoto reply with replyCounter 500800900
1336844406047: note down new reply by adding replyCounter=500800900 to HashMap processedReplies
1336844406048: leader download remote photo latency = 131
1336844406048: = leader download start 1336844405912 ~ stop 1336844406043
1336844406049: one more getGood: 4
1336844406051: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=4 getBad=0 getTimedout=0 getPercent=100%
1336844406055: adding get latency: 131
1336844406056: Success! Client getting photo from remote region, showing photo...
1336844406056: Remote photo's length: 3559
1336844406038: Leader about to send REPLY packet, number: 500800900 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844406038: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844406038: === Finished one round of sending REPLY Packet =======
1336844406046: mux: Inside mux Packet.CLIENT_REQUEST
1336844406046: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844406046: inside handleClientRequest. Originator leader of region 5
1336844406046: got new request, requestCounter = 5008010
1336844406046: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500800900
1336844406046: Yay the last leg succeeded. Removing reply runnables ...
1336844406046: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500800900
1336844406046: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500800900
1336844406047: do not send ack for received final_leg_ack
1336844407190: leader to cloud hearbeat...
1336844407341: Received UDP payload: 446
1336844407739: Received UDP payload: 446
1336844409160: Received UDP payload: 446
1336844409238: inside sendPacket(Packet p)
1336844409254: Sending UDP payload: 446
1336844409933: Received UDP payload: 446
1336844410014: Received UDP payload: 1006
1336844410023: mux: GOT CSM_Msg
1336844410024: forwarding disabled, not forwarding packets
1336844410128: Received UDP payload: 4587
1336844410136: mux: GOT CSM_Msg
1336844410137: forwarding disabled, not forwarding packets
1336844410397: Received UDP payload: 446
1336844411618: Received UDP payload: 642
1336844411626: mux: Inside mux Packet.CLIENT_REQUEST
1336844411707: Received UDP payload: 1006
1336844411716: mux: GOT CSM_Msg
1336844411717: forwarding disabled, not forwarding packets
1336844411724: Received UDP payload: 446
1336844411728: mux: Inside Packet.SERVER_REPLY
1336844411730: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844411776: Received UDP payload: 4587
1336844411778: mux: GOT CSM_Msg
1336844411779: forwarding disabled, not forwarding packets
1336844411831: Received UDP payload: 4240
1336844411833: mux: Inside Packet.SERVER_REPLY
1336844411833: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844411850: Received UDP payload: 446
1336844411852: mux: Inside mux Packet.CLIENT_REQUEST
1336844412342: Received UDP payload: 446
1336844412744: Received UDP payload: 446
1336844414171: Received UDP payload: 446
1336844414255: inside sendPacket(Packet p)
1336844414257: Sending UDP payload: 446
1336844414901: Received UDP payload: 446
1336844415431: Received UDP payload: 446
1336844417343: Received UDP payload: 446
1336844417744: Received UDP payload: 446
1336844419181: Received UDP payload: 446
1336844419255: inside sendPacket(Packet p)
1336844419265: Sending UDP payload: 446
1336844419925: Received UDP payload: 446
1336844420414: Received UDP payload: 446
1336844422343: Received UDP payload: 446
1336844422751: Received UDP payload: 446
1336844424181: Received UDP payload: 446
1336844424269: inside sendPacket(Packet p)
1336844424271: Sending UDP payload: 446
1336844424954: Received UDP payload: 446
1336844425665: Received UDP payload: 642
1336844425670: mux: Inside mux Packet.CLIENT_REQUEST
1336844425722: Received UDP payload: 1006
1336844425731: mux: GOT CSM_Msg
1336844425731: forwarding disabled, not forwarding packets
1336844425731: Received UDP payload: 446
1336844425742: mux: Inside Packet.SERVER_REPLY
1336844425742: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844425824: Received UDP payload: 5731
1336844425827: mux: GOT CSM_Msg
1336844425827: forwarding disabled, not forwarding packets
1336844425896: Received UDP payload: 5384
1336844425897: mux: Inside Packet.SERVER_REPLY
1336844425897: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844425934: Received UDP payload: 446
1336844425935: mux: Inside mux Packet.CLIENT_REQUEST
1336844426832: Received UDP payload: 1006
1336844426844: mux: GOT CSM_Msg
1336844426845: forwarding disabled, not forwarding packets
1336844426953: Received UDP payload: 5731
1336844426962: mux: GOT CSM_Msg
1336844426962: forwarding disabled, not forwarding packets
1336844427138: Received UDP payload: 642
1336844427143: mux: Inside mux Packet.CLIENT_REQUEST
1336844427174: Received UDP payload: 1006
1336844427184: mux: GOT CSM_Msg
1336844427184: forwarding disabled, not forwarding packets
1336844427188: Received UDP payload: 446
1336844427201: mux: Inside Packet.SERVER_REPLY
1336844427201: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844427255: Received UDP payload: 5731
1336844427258: mux: GOT CSM_Msg
1336844427258: forwarding disabled, not forwarding packets
1336844427277: Received UDP payload: 446
1336844427348: Received UDP payload: 446
1336844427357: Received UDP payload: 5384
1336844427359: mux: Inside Packet.SERVER_REPLY
1336844427359: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844427377: Received UDP payload: 446
1336844427378: mux: Inside mux Packet.CLIENT_REQUEST
1336844427762: Received UDP payload: 446
1336844428714: Received UDP payload: 1006
1336844428727: mux: GOT CSM_Msg
1336844428728: forwarding disabled, not forwarding packets
1336844428808: Received UDP payload: 5731
1336844428810: mux: GOT CSM_Msg
1336844428810: forwarding disabled, not forwarding packets
1336844429180: Received UDP payload: 446
1336844429269: inside sendPacket(Packet p)
1336844429270: Sending UDP payload: 446
1336844429928: Received UDP payload: 446
1336844432333: Received UDP payload: 446
1336844432353: Received UDP payload: 446
1336844432753: Received UDP payload: 446
1336844434185: Received UDP payload: 446
1336844434269: inside sendPacket(Packet p)
1336844434282: Sending UDP payload: 446
1336844434923: Received UDP payload: 446
1336844435121: Received UDP payload: 1006
1336844435128: mux: GOT CSM_Msg
1336844435128: forwarding disabled, not forwarding packets
1336844435266: Received UDP payload: 5731
1336844435289: mux: GOT CSM_Msg
1336844435289: forwarding disabled, not forwarding packets
1336844437357: Received UDP payload: 446
1336844437388: Received UDP payload: 446
1336844437766: Received UDP payload: 446
1336844438634: Received UDP payload: 1006
1336844438649: mux: GOT CSM_Msg
1336844438649: forwarding disabled, not forwarding packets
1336844438752: Received UDP payload: 5731
1336844438760: mux: GOT CSM_Msg
1336844438760: forwarding disabled, not forwarding packets
1336844439186: Received UDP payload: 446
1336844439269: inside sendPacket(Packet p)
1336844439315: Sending UDP payload: 446
1336844440004: Received UDP payload: 446
1336844440753: Received UDP payload: 642
1336844440758: mux: Inside mux Packet.CLIENT_REQUEST
1336844440758: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844440758: inside handleClientRequest. Originator leader of region 5
1336844440759: got new request, requestCounter = 5013011
1336844440759: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844440776: Sending to region: 4
1336844440778: Sending PROC_REQUEST 11:0 (5,0)->(4,0)
1336844440779: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(4,0)
1336844440781: mux: I got a CSM packet at a leader 

1336844440779: Note down new request by adding requestCounter=5013011 to HashMap processedRequests
1336844440780: Make FirstLeg Ack regardless of new or already-processed requests
1336844440780: The leader sending a First Leg ack to originator client (which id = 5013)
1336844440780: inside sendPacket(Packet p)
1336844440800: Sending UDP payload: 1006
1336844440808: forwarding disabled, not forwarding packets
1336844440810: Sending UDP payload: 446
1336844440933: Received UDP payload: 5731
1336844440936: mux: GOT CSM_Msg
1336844440937: Received PROC_REPLY 11:0 (4,0)->(5,0), handing to UserApp
1336844440937: inside handleDSMReply. Now back in originator leader of region 5
1336844440937: DSM layer: Going to and from remote region took latency = 160
1336844440937: DSM layer: orig leader sent packet at 1336844440777 ~ received reply from remote leader at 1336844440937
1336844440938: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844440938: leader client reply has replyCounter: 501301100
1336844440939: reply packet contains the newest photo/success info from the remote region
1336844440939: inside sendReplies of replyCount = 501301100
1336844440942: =======================
1336844440942: inside sendReplyRepeatingRunnable for replyCount = 501301100
1336844440943: Leader about to send REPLY packet, number: 501301100 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844440943: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844440943: inside sendPacket(Packet p)
1336844440943: === Finished one round of sending REPLY Packet =======
1336844440948: Sending UDP payload: 5384
1336844441022: Received UDP payload: 446
1336844441024: mux: Inside mux Packet.CLIENT_REQUEST
1336844441024: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844441025: inside handleClientRequest. Originator leader of region 5
1336844441025: got new request, requestCounter = 5013012
1336844441025: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501301100
1336844441026: Yay the last leg succeeded. Removing reply runnables ...
1336844441026: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501301100
1336844441026: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501301100
1336844441027: do not send ack for received final_leg_ack
1336844441466: canPressButton = TRUE
1336844441467: areButtonsEnabled --> false 
1336844441467: get picture disableButtonsR
1336844441467: areButtonsEnabled --> false
1336844441495: one more getNum: 5
1336844441496: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=0 getTimedout=0 getPercent=80%
1336844441496: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336844441497: change local requestCounter to 11
1336844441501: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008011 Client in region: 5 Client nodID: 5008
1336844441529: ----------------------------
1336844441529: inside sendRequestPacketRepeatingRunnable for requestCount = 5008011
1336844441530: I'm a leader, my requesting photos packet going to mux directly
1336844441530: --- Finished one round of sending REQUEST Packet ---------
1336844441533: mux: Inside mux Packet.CLIENT_REQUEST
1336844441533: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844441575: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844441534: inside handleClientRequest. Originator leader of region 5
1336844441534: got new request, requestCounter = 5008011
1336844441534: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844441535: Sending to region: 4
1336844441535: Sending PROC_REQUEST 11:1 (5,0)->(4,0)
1336844441536: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(4,0)
1336844441537: mux: I got a CSM packet at a leader 

1336844441536: Note down new request by adding requestCounter=5008011 to HashMap processedRequests
1336844441536: Make FirstLeg Ack regardless of new or already-processed requests
1336844441537: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844441538: Sending UDP payload: 1006
1336844441549: forwarding disabled, not forwarding packets
1336844441662: Received UDP payload: 5731
1336844441665: mux: GOT CSM_Msg
1336844441669: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844441670: disabling progressdialog due to successful new photo get
1336844441670: Inside _enableButtons
1336844441670: areButtonsEnabled --> true
1336844441671: send final leg ack regardless of new or already-processed reply
1336844441671: inside finalLegAck: change requestCounter to 12
1336844441672: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008012 Client in region: (5,0) Client nodID: 5008
1336844441672: I'm a leader client, my final_leg packet going to mux directly
1336844441674: new client_show_remotephoto reply with replyCounter 500801100
1336844441674: note down new reply by adding replyCounter=500801100 to HashMap processedReplies
1336844441675: leader download remote photo latency = 139
1336844441675: = leader download start 1336844441530 ~ stop 1336844441669
1336844441678: one more getGood: 5
1336844441679: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=5 getBad=0 getTimedout=0 getPercent=100%
1336844441680: adding get latency: 139
1336844441680: Success! Client getting photo from remote region, showing photo...
1336844441680: Remote photo's length: 4703
1336844441665: Received PROC_REPLY 11:1 (4,0)->(5,0), handing to UserApp
1336844441665: inside handleDSMReply. Now back in originator leader of region 5
1336844441666: DSM layer: Going to and from remote region took latency = 130
1336844441666: DSM layer: orig leader sent packet at 1336844441535 ~ received reply from remote leader at 1336844441665
1336844441666: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844441667: leader client reply has replyCounter: 500801100
1336844441667: reply packet contains the newest photo/success info from the remote region
1336844441667: inside sendReplies of replyCount = 500801100
1336844441668: =======================
1336844441668: inside sendReplyRepeatingRunnable for replyCount = 500801100
1336844441668: Leader about to send REPLY packet, number: 500801100 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844441668: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844441668: === Finished one round of sending REPLY Packet =======
1336844441672: mux: Inside mux Packet.CLIENT_REQUEST
1336844441672: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844441672: inside handleClientRequest. Originator leader of region 5
1336844441673: got new request, requestCounter = 5008012
1336844441673: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500801100
1336844441673: Yay the last leg succeeded. Removing reply runnables ...
1336844441673: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500801100
1336844441673: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500801100
1336844441673: do not send ack for received final_leg_ack
1336844442285: Received UDP payload: 446
1336844442359: Received UDP payload: 446
1336844442778: Received UDP payload: 446
1336844444197: Received UDP payload: 446
1336844444270: inside sendPacket(Packet p)
1336844444316: Sending UDP payload: 446
1336844444858: Received UDP payload: 1006
1336844444871: mux: GOT CSM_Msg
1336844444871: forwarding disabled, not forwarding packets
1336844444941: Received UDP payload: 5731
1336844444943: mux: GOT CSM_Msg
1336844444943: forwarding disabled, not forwarding packets
1336844444950: Received UDP payload: 446
1336844447124: Received UDP payload: 642
1336844447129: mux: Inside mux Packet.CLIENT_REQUEST
1336844447200: Received UDP payload: 1006
1336844447208: mux: GOT CSM_Msg
1336844447208: forwarding disabled, not forwarding packets
1336844447213: Received UDP payload: 446
1336844447217: mux: Inside Packet.SERVER_REPLY
1336844447218: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844447275: Received UDP payload: 5731
1336844447277: mux: GOT CSM_Msg
1336844447277: forwarding disabled, not forwarding packets
1336844447286: Received UDP payload: 446
1336844447352: Received UDP payload: 446
1336844447368: Received UDP payload: 446
1336844447369: mux: Inside mux Packet.CLIENT_REQUEST
1336844447776: Received UDP payload: 446
1336844449209: Received UDP payload: 446
1336844449271: inside sendPacket(Packet p)
1336844449285: Sending UDP payload: 446
1336844449941: Received UDP payload: 446
1336844452289: Received UDP payload: 446
1336844452353: Received UDP payload: 446
1336844452790: Received UDP payload: 446
1336844454219: Received UDP payload: 446
1336844454289: inside sendPacket(Packet p)
1336844454291: Sending UDP payload: 446
1336844454943: Received UDP payload: 446
1336844457294: Received UDP payload: 446
1336844457411: Received UDP payload: 446
1336844457828: Received UDP payload: 446
1336844459259: Received UDP payload: 446
1336844459289: inside sendPacket(Packet p)
1336844459302: Sending UDP payload: 446
1336844459938: Received UDP payload: 446
1336844462324: Received UDP payload: 446
1336844462355: Received UDP payload: 446
1336844462807: Received UDP payload: 446
1336844462910: Received UDP payload: 642
1336844462917: mux: Inside mux Packet.CLIENT_REQUEST
1336844462984: Received UDP payload: 1006
1336844462991: mux: GOT CSM_Msg
1336844462992: removed replies before id 0 from sentReplies of size 0
1336844462993: inside handleDSMRequest. At requests's remote leader of region 5
1336844463000: INSIDE SERVER_GET_PHOTO!!!
1336844463009: Received UDP payload: 446
1336844463038: mux: Inside Packet.SERVER_REPLY
1336844463039: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844463037: Received PROC_REQUEST 11:0 (0,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(0,0)
1336844463038: Dispatching Atom PROC_REPLY 11:0 (5,0)->(0,0)
1336844463039: mux: I got a CSM packet at a leader 

1336844463054: Sending UDP payload: 4766
1336844463056: forwarding disabled, not forwarding packets
1336844463185: Received UDP payload: 4419
1336844463187: mux: Inside Packet.SERVER_REPLY
1336844463187: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844463214: Received UDP payload: 446
1336844463216: mux: Inside mux Packet.CLIENT_REQUEST
1336844464227: Received UDP payload: 446
1336844464291: inside sendPacket(Packet p)
1336844464294: Sending UDP payload: 446
1336844464332: Received UDP payload: 1006
1336844464340: mux: GOT CSM_Msg
1336844464340: removed replies before id 1 from sentReplies of size 0
1336844464341: inside handleDSMRequest. At requests's remote leader of region 5
1336844464345: INSIDE SERVER_GET_PHOTO!!!
1336844464347: Received PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1336844464349: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1336844464350: mux: I got a CSM packet at a leader 

1336844464351: Sending UDP payload: 4766
1336844464362: forwarding disabled, not forwarding packets
1336844464976: Received UDP payload: 446
1336844467310: Received UDP payload: 446
1336844467360: Received UDP payload: 446
1336844467844: Received UDP payload: 446
1336844469261: Received UDP payload: 446
1336844469291: inside sendPacket(Packet p)
1336844469301: Sending UDP payload: 446
1336844470026: Received UDP payload: 446
1336844472318: Received UDP payload: 446
1336844472373: Received UDP payload: 446
1336844472835: Received UDP payload: 446
1336844473464: Received UDP payload: 1006
1336844473472: mux: GOT CSM_Msg
1336844473473: removed replies before id 0 from sentReplies of size 0
1336844473473: inside handleDSMRequest. At requests's remote leader of region 5
1336844473475: INSIDE SERVER_GET_PHOTO!!!
1336844473480: Received PROC_REQUEST 11:0 (1,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(1,0)
1336844473482: Dispatching Atom PROC_REPLY 11:0 (5,0)->(1,0)
1336844473493: mux: I got a CSM packet at a leader 

1336844473505: Sending UDP payload: 4766
1336844473513: forwarding disabled, not forwarding packets
1336844474231: Received UDP payload: 446
1336844474305: inside sendPacket(Packet p)
1336844474316: Sending UDP payload: 446
1336844474954: Received UDP payload: 446
1336844475020: Received UDP payload: 642
1336844475027: mux: Inside mux Packet.CLIENT_REQUEST
1336844475078: Received UDP payload: 1006
1336844475086: mux: GOT CSM_Msg
1336844475086: removed replies before id 1 from sentReplies of size 0
1336844475086: inside handleDSMRequest. At requests's remote leader of region 5
1336844475087: INSIDE SERVER_GET_PHOTO!!!
1336844475088: Received PROC_REQUEST 11:1 (1,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(1,0)
1336844475089: Dispatching Atom PROC_REPLY 11:1 (5,0)->(1,0)
1336844475089: mux: I got a CSM packet at a leader 

1336844475090: Sending UDP payload: 4766
1336844475092: Received UDP payload: 446
1336844475091: forwarding disabled, not forwarding packets
1336844475113: mux: Inside Packet.SERVER_REPLY
1336844475113: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844475204: Received UDP payload: 4419
1336844475208: mux: Inside Packet.SERVER_REPLY
1336844475208: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844475219: Received UDP payload: 446
1336844475221: mux: Inside mux Packet.CLIENT_REQUEST
1336844477350: Received UDP payload: 446
1336844477380: Received UDP payload: 446
1336844477834: Received UDP payload: 446
1336844478686: Received UDP payload: 1006
1336844478700: mux: GOT CSM_Msg
1336844478701: removed replies before id 0 from sentReplies of size 0
1336844478702: inside handleDSMRequest. At requests's remote leader of region 5
1336844478709: INSIDE SERVER_GET_PHOTO!!!
1336844478751: Received PROC_REQUEST 11:0 (2,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(2,0)
1336844478752: Dispatching Atom PROC_REPLY 11:0 (5,0)->(2,0)
1336844478752: mux: I got a CSM packet at a leader 

1336844478765: Sending UDP payload: 4766
1336844478766: forwarding disabled, not forwarding packets
1336844479237: Received UDP payload: 446
1336844479319: inside sendPacket(Packet p)
1336844479320: Sending UDP payload: 446
1336844480042: Received UDP payload: 446
1336844482353: Received UDP payload: 446
1336844482405: Received UDP payload: 446
1336844484243: Received UDP payload: 446
1336844484321: inside sendPacket(Packet p)
1336844484333: Sending UDP payload: 446
1336844484991: Received UDP payload: 446
1336844487122: Received UDP payload: 446
1336844487348: Received UDP payload: 446
1336844487410: Received UDP payload: 446
1336844487527: Received UDP payload: 1006
1336844487535: mux: GOT CSM_Msg
1336844487536: forwarding disabled, not forwarding packets
1336844487659: Received UDP payload: 5731
1336844487666: mux: GOT CSM_Msg
1336844487667: forwarding disabled, not forwarding packets
1336844487901: Received UDP payload: 1006
1336844487908: mux: GOT CSM_Msg
1336844487908: removed replies before id 0 from sentReplies of size 0
1336844487909: inside handleDSMRequest. At requests's remote leader of region 5
1336844487911: INSIDE SERVER_GET_PHOTO!!!
1336844487918: Received PROC_REQUEST 11:0 (4,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(4,0)
1336844487919: Dispatching Atom PROC_REPLY 11:0 (5,0)->(4,0)
1336844487920: mux: I got a CSM packet at a leader 

1336844487935: Sending UDP payload: 4766
1336844487945: forwarding disabled, not forwarding packets
1336844489279: Received UDP payload: 446
1336844489321: inside sendPacket(Packet p)
1336844489325: Sending UDP payload: 446
1336844489997: Received UDP payload: 446
1336844490245: Received UDP payload: 642
1336844490250: mux: Inside mux Packet.CLIENT_REQUEST
1336844490329: Received UDP payload: 1006
1336844490338: mux: GOT CSM_Msg
1336844490339: removed replies before id 1 from sentReplies of size 0
1336844490339: inside handleDSMRequest. At requests's remote leader of region 5
1336844490341: INSIDE SERVER_GET_PHOTO!!!
1336844490346: Received PROC_REQUEST 11:1 (4,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(4,0)
1336844490347: Dispatching Atom PROC_REPLY 11:1 (5,0)->(4,0)
1336844490348: mux: I got a CSM packet at a leader 

1336844490351: Sending UDP payload: 4766
1336844490356: Received UDP payload: 446
1336844490380: mux: Inside Packet.SERVER_REPLY
1336844490380: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844490379: forwarding disabled, not forwarding packets
1336844490482: Received UDP payload: 4419
1336844490484: mux: Inside Packet.SERVER_REPLY
1336844490484: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844490494: Received UDP payload: 446
1336844490496: mux: Inside mux Packet.CLIENT_REQUEST
1336844492127: Received UDP payload: 446
1336844492351: Received UDP payload: 446
1336844492421: Received UDP payload: 446
1336844494265: Received UDP payload: 446
1336844494322: inside sendPacket(Packet p)
1336844494334: Sending UDP payload: 446
1336844494975: Received UDP payload: 446
1336844496616: Received UDP payload: 1006
1336844496626: mux: GOT CSM_Msg
1336844496626: removed replies before id 0 from sentReplies of size 0
1336844496627: inside handleDSMRequest. At requests's remote leader of region 5
1336844496629: INSIDE SERVER_GET_PHOTO!!!
1336844496648: Received PROC_REQUEST 11:0 (3,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(3,0)
1336844496663: Dispatching Atom PROC_REPLY 11:0 (5,0)->(3,0)
1336844496663: mux: I got a CSM packet at a leader 

1336844496668: Sending UDP payload: 4766
1336844496671: forwarding disabled, not forwarding packets
1336844497233: Received UDP payload: 446
1336844497366: Received UDP payload: 446
1336844497409: Received UDP payload: 446
1336844499298: Received UDP payload: 446
1336844499336: inside sendPacket(Packet p)
1336844499339: Sending UDP payload: 446
1336844499998: Received UDP payload: 446
1336844502140: Received UDP payload: 446
1336844502378: Received UDP payload: 446
1336844504250: Received UDP payload: 446
1336844504336: inside sendPacket(Packet p)
1336844504339: Sending UDP payload: 446
1336844504403: Received UDP payload: 446
1336844505013: Received UDP payload: 446
1336844505367: Received UDP payload: 642
1336844505373: mux: Inside mux Packet.CLIENT_REQUEST
1336844505373: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844505374: inside handleClientRequest. Originator leader of region 5
1336844505374: got new request, requestCounter = 5013013
1336844505374: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844505376: Sending to region: 5
1336844505377: Sending PROC_REQUEST 11:2 (5,0)->(5,0)
1336844505378: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(5,0)
1336844505380: mux: I got a CSM packet at a leader 

1336844505379: Note down new request by adding requestCounter=5013013 to HashMap processedRequests
1336844505379: Make FirstLeg Ack regardless of new or already-processed requests
1336844505379: The leader sending a First Leg ack to originator client (which id = 5013)
1336844505380: inside sendPacket(Packet p)
1336844505395: Sending UDP payload: 1006
1336844505403: removed replies before id 2 from sentReplies of size 0
1336844505403: inside handleDSMRequest. At requests's remote leader of region 5
1336844505406: INSIDE SERVER_GET_PHOTO!!!
1336844505408: dst_region == src_region = 5
1336844505409:  1 self to self atomRequest
1336844505411: Received PROC_REQUEST 11:2 (5,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(5,0)
1336844505424: Dispatching Atom PROC_REPLY 11:2 (5,0)->(5,0)
1336844505426: mux: I got a CSM packet at a leader 

1336844505425: Sending UDP payload: 446
1336844505427: Sending UDP payload: 4766
1336844505429: Received PROC_REPLY 11:2 (5,0)->(5,0), handing to UserApp
1336844505429: inside handleDSMReply. Now back in originator leader of region 5
1336844505429: DSM layer: Going to and from remote region took latency = 53
1336844505429: DSM layer: orig leader sent packet at 1336844505376 ~ received reply from remote leader at 1336844505429
1336844505430: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844505430: leader client reply has replyCounter: 501301300
1336844505430: reply packet contains the newest photo/success info from the remote region
1336844505430: inside sendReplies of replyCount = 501301300
1336844505430: =======================
1336844505430: inside sendReplyRepeatingRunnable for replyCount = 501301300
1336844505431: Leader about to send REPLY packet, number: 501301300 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844505431: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844505431: inside sendPacket(Packet p)
1336844505431: === Finished one round of sending REPLY Packet =======
1336844505435: Sending UDP payload: 4419
1336844505548: Received UDP payload: 446
1336844505549: mux: Inside mux Packet.CLIENT_REQUEST
1336844505549: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844505550: inside handleClientRequest. Originator leader of region 5
1336844505550: got new request, requestCounter = 5013014
1336844505550: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501301300
1336844505550: Yay the last leg succeeded. Removing reply runnables ...
1336844505550: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501301300
1336844505550: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501301300
1336844505550: do not send ack for received final_leg_ack
1336844506231: canPressButton = TRUE
1336844506235: areButtonsEnabled --> false 
1336844506236: get picture disableButtonsR
1336844506236: areButtonsEnabled --> false
1336844506289: one more getNum: 6
1336844506290: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=5 getBad=0 getTimedout=0 getPercent=83%
1336844506291: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336844506291: change local requestCounter to 13
1336844506294: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008013 Client in region: 5 Client nodID: 5008
1336844506348: ----------------------------
1336844506349: inside sendRequestPacketRepeatingRunnable for requestCount = 5008013
1336844506350: I'm a leader, my requesting photos packet going to mux directly
1336844506355: --- Finished one round of sending REQUEST Packet ---------
1336844506350: mux: Inside mux Packet.CLIENT_REQUEST
1336844506350: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844506413: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844506350: inside handleClientRequest. Originator leader of region 5
1336844506350: got new request, requestCounter = 5008013
1336844506351: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844506351: Sending to region: 5
1336844506352: Sending PROC_REQUEST 11:3 (5,0)->(5,0)
1336844506352: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(5,0)
1336844506353: mux: I got a CSM packet at a leader 

1336844506352: Note down new request by adding requestCounter=5008013 to HashMap processedRequests
1336844506352: Make FirstLeg Ack regardless of new or already-processed requests
1336844506352: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844506354: Sending UDP payload: 1006
1336844506360: removed replies before id 3 from sentReplies of size 0
1336844506360: inside handleDSMRequest. At requests's remote leader of region 5
1336844506361: INSIDE SERVER_GET_PHOTO!!!
1336844506361: dst_region == src_region = 5
1336844506362:  1 self to self atomRequest
1336844506363: Received PROC_REQUEST 11:3 (5,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(5,0)
1336844506363: Dispatching Atom PROC_REPLY 11:3 (5,0)->(5,0)
1336844506363: mux: I got a CSM packet at a leader 

1336844506423: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844506424: disabling progressdialog due to successful new photo get
1336844506424: Inside _enableButtons
1336844506424: areButtonsEnabled --> true
1336844506425: send final leg ack regardless of new or already-processed reply
1336844506425: inside finalLegAck: change requestCounter to 14
1336844506428: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008014 Client in region: (5,0) Client nodID: 5008
1336844506429: I'm a leader client, my final_leg packet going to mux directly
1336844506430: new client_show_remotephoto reply with replyCounter 500801300
1336844506430: note down new reply by adding replyCounter=500801300 to HashMap processedReplies
1336844506431: leader download remote photo latency = 73
1336844506431: = leader download start 1336844506350 ~ stop 1336844506423
1336844506436: one more getGood: 6
1336844506437: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336844506438: adding get latency: 73
1336844506438: Success! Client getting photo from remote region, showing photo...
1336844506438: Remote photo's length: 3738
1336844506364: Sending UDP payload: 4766
1336844506373: Received PROC_REPLY 11:3 (5,0)->(5,0), handing to UserApp
1336844506373: inside handleDSMReply. Now back in originator leader of region 5
1336844506373: DSM layer: Going to and from remote region took latency = 22
1336844506373: DSM layer: orig leader sent packet at 1336844506351 ~ received reply from remote leader at 1336844506373
1336844506374: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844506374: leader client reply has replyCounter: 500801300
1336844506374: reply packet contains the newest photo/success info from the remote region
1336844506374: inside sendReplies of replyCount = 500801300
1336844506374: =======================
1336844506374: inside sendReplyRepeatingRunnable for replyCount = 500801300
1336844506375: Leader about to send REPLY packet, number: 500801300 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844506375: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844506375: === Finished one round of sending REPLY Packet =======
1336844506429: mux: Inside mux Packet.CLIENT_REQUEST
1336844506429: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844506429: inside handleClientRequest. Originator leader of region 5
1336844506429: got new request, requestCounter = 5008014
1336844506429: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500801300
1336844506430: Yay the last leg succeeded. Removing reply runnables ...
1336844506430: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500801300
1336844506430: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500801300
1336844506430: do not send ack for received final_leg_ack
1336844507124: Received UDP payload: 446
1336844507377: Received UDP payload: 446
1336844509256: Received UDP payload: 446
1336844509336: inside sendPacket(Packet p)
1336844509357: Received UDP payload: 446
1336844509370: Sending UDP payload: 446
1336844510014: Received UDP payload: 446
1336844512142: Received UDP payload: 446
1336844512358: Received UDP payload: 446
1336844514252: Received UDP payload: 446
1336844514337: inside sendPacket(Packet p)
1336844514340: Sending UDP payload: 446
1336844514375: Received UDP payload: 446
1336844515034: Received UDP payload: 446
1336844517153: Received UDP payload: 446
1336844517444: Received UDP payload: 446
1336844519338: inside sendPacket(Packet p)
1336844519341: Sending UDP payload: 446
1336844519380: Received UDP payload: 446
1336844520055: Received UDP payload: 446
1336844521156: Received UDP payload: 446
1336844522160: Received UDP payload: 446
1336844522358: Received UDP payload: 446
1336844524338: inside sendPacket(Packet p)
1336844524341: Sending UDP payload: 446
1336844524383: Received UDP payload: 446
1336844525066: Received UDP payload: 446
1336844526185: Received UDP payload: 446
1336844527187: Received UDP payload: 446
1336844527357: Received UDP payload: 446
1336844529238: leader to cloud hearbeat...
1336844529399: Received UDP payload: 446
1336844530085: Received UDP payload: 446
1336844531176: Received UDP payload: 446
1336844531371: inside sendPacket(Packet p)
1336844531377: Sending UDP payload: 446
1336844532165: Received UDP payload: 446
1336844532382: Received UDP payload: 446
1336844534387: Received UDP payload: 446
1336844535105: Received UDP payload: 446
1336844536187: Received UDP payload: 446
1336844536375: inside sendPacket(Packet p)
1336844536384: Sending UDP payload: 446
1336844537174: Received UDP payload: 446
1336844537381: Received UDP payload: 446
1336844539382: Received UDP payload: 446
1336844540109: Received UDP payload: 446
1336844541176: Received UDP payload: 446
1336844541385: inside sendPacket(Packet p)
1336844541388: Sending UDP payload: 446
1336844542193: Received UDP payload: 446
1336844542393: Received UDP payload: 446
1336844544385: Received UDP payload: 446
1336844545124: Received UDP payload: 446
1336844546188: Received UDP payload: 446
1336844546386: inside sendPacket(Packet p)
1336844546389: Sending UDP payload: 446
1336844547234: Received UDP payload: 446
1336844549383: Received UDP payload: 446
1336844549389: Received UDP payload: 446
1336844550113: Received UDP payload: 446
1336844551204: Received UDP payload: 446
1336844551388: inside sendPacket(Packet p)
1336844551390: Sending UDP payload: 446
1336844552195: Received UDP payload: 446
1336844554386: Received UDP payload: 446
1336844554394: Received UDP payload: 446
1336844555128: Received UDP payload: 446
1336844556260: Received UDP payload: 446
1336844556390: inside sendPacket(Packet p)
1336844556393: Sending UDP payload: 446
1336844557189: Received UDP payload: 446
1336844559399: Received UDP payload: 446
1336844559433: Received UDP payload: 446
1336844560141: Received UDP payload: 446
1336844561194: Received UDP payload: 446
1336844561391: inside sendPacket(Packet p)
1336844561394: Sending UDP payload: 446
1336844562198: Received UDP payload: 446
1336844564390: Received UDP payload: 446
1336844564414: Received UDP payload: 446
1336844565157: Received UDP payload: 446
1336844566194: Received UDP payload: 446
1336844566392: inside sendPacket(Packet p)
1336844566438: Sending UDP payload: 446
1336844567207: Received UDP payload: 446
1336844569415: Received UDP payload: 446
1336844569476: Received UDP payload: 446
1336844571198: Received UDP payload: 446
1336844571419: inside sendPacket(Packet p)
1336844571435: Sending UDP payload: 446
1336844572225: Received UDP payload: 446
1336844574393: Received UDP payload: 446
1336844574423: Received UDP payload: 446
1336844575165: Received UDP payload: 446
1336844576195: Received UDP payload: 446
1336844576438: inside sendPacket(Packet p)
1336844576440: Sending UDP payload: 446
1336844577239: Received UDP payload: 446
1336844579393: Received UDP payload: 446
1336844579435: Received UDP payload: 446
1336844580241: Received UDP payload: 446
1336844581219: Received UDP payload: 446
1336844581438: inside sendPacket(Packet p)
1336844581441: Sending UDP payload: 446
1336844582275: Received UDP payload: 446
1336844584419: Received UDP payload: 446
1336844584428: Received UDP payload: 446
1336844585207: Received UDP payload: 446
1336844586219: Received UDP payload: 446
1336844586439: inside sendPacket(Packet p)
1336844586455: Sending UDP payload: 446
1336844587242: Received UDP payload: 446
1336844589393: Received UDP payload: 446
1336844589423: Received UDP payload: 446
1336844590184: Received UDP payload: 446
1336844591210: Received UDP payload: 446
1336844591456: inside sendPacket(Packet p)
1336844591459: Sending UDP payload: 446
1336844592233: Received UDP payload: 446
1336844594402: Received UDP payload: 446
1336844594448: Received UDP payload: 446
1336844595184: Received UDP payload: 446
1336844596209: Received UDP payload: 446
1336844596457: inside sendPacket(Packet p)
1336844596465: Sending UDP payload: 446
1336844597227: Received UDP payload: 446
1336844599404: Received UDP payload: 446
1336844599425: Received UDP payload: 446
1336844600187: Received UDP payload: 446
1336844601220: Received UDP payload: 446
1336844601468: inside sendPacket(Packet p)
1336844601477: Sending UDP payload: 446
1336844602236: Received UDP payload: 446
1336844604407: Received UDP payload: 446
1336844604429: Received UDP payload: 446
1336844606211: Received UDP payload: 446
1336844606480: inside sendPacket(Packet p)
1336844606483: Sending UDP payload: 446
1336844607144: Received UDP payload: 446
1336844609286: Received UDP payload: 446
1336844609424: Received UDP payload: 446
1336844609433: Received UDP payload: 446
1336844611289: Received UDP payload: 446
1336844611482: inside sendPacket(Packet p)
1336844611484: Sending UDP payload: 446
1336844612151: Received UDP payload: 446
1336844614221: Received UDP payload: 446
1336844614412: Received UDP payload: 446
1336844614436: Received UDP payload: 446
1336844616223: Received UDP payload: 446
1336844616484: inside sendPacket(Packet p)
1336844616487: Sending UDP payload: 446
1336844617157: Received UDP payload: 446
1336844619259: Received UDP payload: 446
1336844619421: Received UDP payload: 446
1336844619483: Received UDP payload: 446
1336844621219: Received UDP payload: 446
1336844621485: inside sendPacket(Packet p)
1336844621487: Sending UDP payload: 446
1336844622163: Received UDP payload: 446
1336844624235: Received UDP payload: 446
1336844624448: Received UDP payload: 446
1336844626216: Received UDP payload: 446
1336844626405: Received UDP payload: 446
1336844626485: inside sendPacket(Packet p)
1336844626488: Sending UDP payload: 446
1336844627204: Received UDP payload: 446
1336844629241: Received UDP payload: 446
1336844629460: Received UDP payload: 446
1336844631217: Received UDP payload: 446
1336844631407: Received UDP payload: 446
1336844631488: inside sendPacket(Packet p)
1336844631491: Sending UDP payload: 446
1336844632175: Received UDP payload: 446
1336844634239: Received UDP payload: 446
1336844634521: Received UDP payload: 446
1336844636219: Received UDP payload: 446
1336844636458: Received UDP payload: 446
1336844636488: inside sendPacket(Packet p)
1336844636491: Sending UDP payload: 446
1336844637199: Received UDP payload: 446
1336844639243: Received UDP payload: 446
1336844639481: Received UDP payload: 446
1336844641414: Received UDP payload: 446
1336844641490: inside sendPacket(Packet p)
1336844641506: Sending UDP payload: 446
1336844642201: Received UDP payload: 446
1336844643475: Received UDP payload: 446
1336844644271: Received UDP payload: 446
1336844644494: Received UDP payload: 446
1336844646429: Received UDP payload: 446
1336844646508: inside sendPacket(Packet p)
1336844646511: Sending UDP payload: 446
1336844647219: Received UDP payload: 446
1336844648480: Received UDP payload: 446
1336844649258: Received UDP payload: 446
1336844649539: Received UDP payload: 446
1336844651371: leader to cloud hearbeat...
1336844651443: Received UDP payload: 446
1336844652238: Received UDP payload: 446
1336844653491: inside sendPacket(Packet p)
1336844653516: Sending UDP payload: 446
1336844653550: Received UDP payload: 446
1336844654287: Received UDP payload: 446
1336844654538: Received UDP payload: 446
1336844656445: Received UDP payload: 446
1336844657248: Received UDP payload: 446
1336844658498: Received UDP payload: 446
1336844658512: inside sendPacket(Packet p)
1336844658515: Sending UDP payload: 446
1336844659286: Received UDP payload: 446
1336844659549: Received UDP payload: 446
1336844661457: Received UDP payload: 446
1336844662236: Received UDP payload: 446
1336844663509: Received UDP payload: 446
1336844663514: inside sendPacket(Packet p)
1336844663525: Sending UDP payload: 446
1336844664363: Received UDP payload: 446
1336844664554: Received UDP payload: 446
1336844666452: Received UDP payload: 446
1336844667227: Received UDP payload: 446
1336844668497: Received UDP payload: 446
1336844668515: inside sendPacket(Packet p)
1336844668516: Sending UDP payload: 446
1336844669292: Received UDP payload: 446
1336844671427: Received UDP payload: 446
1336844671542: Received UDP payload: 446
1336844672234: Received UDP payload: 446
1336844673516: inside sendPacket(Packet p)
1336844673519: Sending UDP payload: 446
1336844673535: Received UDP payload: 446
1336844674294: Received UDP payload: 446
1336844676469: Received UDP payload: 446
1336844676478: Received UDP payload: 446
1336844677286: Received UDP payload: 446
1336844678496: Received UDP payload: 446
1336844678516: inside sendPacket(Packet p)
1336844678519: Sending UDP payload: 446
1336844679307: Received UDP payload: 446
1336844681444: Received UDP payload: 446
1336844681473: Received UDP payload: 446
1336844682263: Received UDP payload: 446
1336844683504: Received UDP payload: 446
1336844683517: inside sendPacket(Packet p)
1336844683526: Sending UDP payload: 446
1336844684289: Received UDP payload: 446
1336844686447: Received UDP payload: 446
1336844686472: Received UDP payload: 446
1336844687280: Received UDP payload: 446
1336844688498: Received UDP payload: 446
1336844688529: inside sendPacket(Packet p)
1336844688532: Sending UDP payload: 446
1336844689287: Received UDP payload: 446
1336844691464: Received UDP payload: 446
1336844691470: Received UDP payload: 446
1336844692268: Received UDP payload: 446
1336844693504: Received UDP payload: 446
1336844693530: inside sendPacket(Packet p)
1336844693533: Sending UDP payload: 446
1336844694298: Received UDP payload: 446
1336844696473: Received UDP payload: 446
1336844696498: Received UDP payload: 446
1336844697270: Received UDP payload: 446
1336844698505: Received UDP payload: 446
1336844698531: inside sendPacket(Packet p)
1336844698534: Sending UDP payload: 446
1336844699312: Received UDP payload: 446
1336844701475: Received UDP payload: 446
1336844701493: Received UDP payload: 446
1336844702277: Received UDP payload: 446
1336844703506: Received UDP payload: 446
1336844703531: inside sendPacket(Packet p)
1336844703534: Sending UDP payload: 446
1336844704343: Received UDP payload: 446
1336844706480: Received UDP payload: 446
1336844706502: Received UDP payload: 446
1336844707330: Received UDP payload: 446
1336844708521: Received UDP payload: 446
1336844708532: inside sendPacket(Packet p)
1336844708534: Sending UDP payload: 446
1336844709333: Received UDP payload: 446
1336844711477: Received UDP payload: 446
1336844711503: Received UDP payload: 446
1336844712308: Received UDP payload: 446
1336844713509: Received UDP payload: 446
1336844713532: inside sendPacket(Packet p)
1336844713535: Sending UDP payload: 446
1336844714330: Received UDP payload: 446
1336844716509: Received UDP payload: 446
1336844716546: Received UDP payload: 446
1336844717340: Received UDP payload: 446
1336844718535: inside sendPacket(Packet p)
1336844718538: Sending UDP payload: 446
1336844718554: Received UDP payload: 446
1336844719346: Received UDP payload: 446
1336844721489: Received UDP payload: 446
1336844721513: Received UDP payload: 446
1336844722326: Received UDP payload: 446
1336844723518: Received UDP payload: 446
1336844723536: inside sendPacket(Packet p)
1336844723539: Sending UDP payload: 446
1336844724359: Received UDP payload: 446
1336844726500: Received UDP payload: 446
1336844726521: Received UDP payload: 446
1336844728536: Received UDP payload: 446
1336844728541: inside sendPacket(Packet p)
1336844728544: Sending UDP payload: 446
1336844729208: Received UDP payload: 446
1336844731428: Received UDP payload: 446
1336844731508: Received UDP payload: 446
1336844731530: Received UDP payload: 446
1336844733538: Received UDP payload: 446
1336844733543: inside sendPacket(Packet p)
1336844733553: Sending UDP payload: 446
1336844734208: Received UDP payload: 446
1336844736493: Received UDP payload: 446
1336844736504: Received UDP payload: 446
1336844736510: Received UDP payload: 446
1336844738549: Received UDP payload: 446
1336844738553: inside sendPacket(Packet p)
1336844738564: Sending UDP payload: 446
1336844739258: Received UDP payload: 446
1336844741465: Received UDP payload: 446
1336844741508: Received UDP payload: 446
1336844741521: Received UDP payload: 446
1336844743543: Received UDP payload: 446
1336844743554: inside sendPacket(Packet p)
1336844743557: Sending UDP payload: 446
1336844744228: Received UDP payload: 446
1336844746432: Received UDP payload: 446
1336844746511: Received UDP payload: 446
1336844748555: inside sendPacket(Packet p)
1336844748558: Sending UDP payload: 446
1336844748575: Received UDP payload: 446
1336844748579: Received UDP payload: 446
1336844749246: Received UDP payload: 446
1336844751446: Received UDP payload: 446
1336844751511: Received UDP payload: 446
1336844753544: Received UDP payload: 446
1336844753556: inside sendPacket(Packet p)
1336844753559: Sending UDP payload: 446
1336844753589: Received UDP payload: 446
1336844754260: Received UDP payload: 446
1336844756446: Received UDP payload: 446
1336844756524: Received UDP payload: 446
1336844758547: Received UDP payload: 446
1336844758557: inside sendPacket(Packet p)
1336844758560: Sending UDP payload: 446
1336844758605: Received UDP payload: 446
1336844759271: Received UDP payload: 446
1336844761448: Received UDP payload: 446
1336844761527: Received UDP payload: 446
1336844763558: inside sendPacket(Packet p)
1336844763560: Sending UDP payload: 446
1336844763599: Received UDP payload: 446
1336844764278: Received UDP payload: 446
1336844765443: Received UDP payload: 446
1336844766118: Received UDP payload: 3734
1336844766136: mux: GOT CSM_Msg
1336844766136: forwarding disabled, not forwarding packets
1336844766146: Received UDP payload: 1006
1336844766164: mux: GOT CSM_Msg
1336844766164: forwarding disabled, not forwarding packets
1336844766443: Received UDP payload: 446
1336844766526: Received UDP payload: 446
1336844767271: Received UDP payload: 3403
1336844767276: mux: Inside mux Packet.CLIENT_REQUEST
1336844767393: Received UDP payload: 3767
1336844767401: mux: GOT CSM_Msg
1336844767402: forwarding disabled, not forwarding packets
1336844767411: Received UDP payload: 446
1336844767415: mux: Inside Packet.SERVER_REPLY
1336844767416: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844767428: Received UDP payload: 1006
1336844767438: mux: GOT CSM_Msg
1336844767438: forwarding disabled, not forwarding packets
1336844767439: Received UDP payload: 659
1336844767454: mux: Inside Packet.SERVER_REPLY
1336844767454: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844767454: Received UDP payload: 446
1336844767455: mux: Inside mux Packet.CLIENT_REQUEST
1336844768559: inside sendPacket(Packet p)
1336844768573: Sending UDP payload: 446
1336844768587: Received UDP payload: 446
1336844769300: Received UDP payload: 446
1336844769808: Received UDP payload: 3506
1336844769814: mux: Inside mux Packet.CLIENT_REQUEST
1336844769868: Received UDP payload: 3870
1336844769875: mux: GOT CSM_Msg
1336844769876: forwarding disabled, not forwarding packets
1336844769879: Received UDP payload: 446
1336844769887: mux: Inside Packet.SERVER_REPLY
1336844769888: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844769888: Received UDP payload: 1006
1336844769890: mux: GOT CSM_Msg
1336844769890: forwarding disabled, not forwarding packets
1336844769898: Received UDP payload: 659
1336844769900: mux: Inside Packet.SERVER_REPLY
1336844769900: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844769918: Received UDP payload: 446
1336844769919: mux: Inside mux Packet.CLIENT_REQUEST
1336844770443: Received UDP payload: 446
1336844771088: Received UDP payload: 3820
1336844771106: mux: GOT CSM_Msg
1336844771106: forwarding disabled, not forwarding packets
1336844771123: Received UDP payload: 1006
1336844771130: mux: GOT CSM_Msg
1336844771130: forwarding disabled, not forwarding packets
1336844771441: Received UDP payload: 446
1336844771523: Received UDP payload: 446
1336844772457: Received UDP payload: 3734
1336844772465: mux: GOT CSM_Msg
1336844772466: forwarding disabled, not forwarding packets
1336844772483: Received UDP payload: 1006
1336844772490: mux: GOT CSM_Msg
1336844772491: forwarding disabled, not forwarding packets
1336844773493: leader to cloud hearbeat...
1336844773602: Received UDP payload: 446
1336844774309: Received UDP payload: 446
1336844775447: Received UDP payload: 446
1336844775589: inside sendPacket(Packet p)
1336844775611: Sending UDP payload: 446
1336844776448: Received UDP payload: 446
1336844776533: Received UDP payload: 446
1336844777265: canPressButton = TRUE
1336844777266: areButtonsEnabled --> false
1336844777266: disabling buttons ...
1336844777266: took picture disableButtonsR
1336844777266: areButtonsEnabled --> false
1336844777296: one more takeNum: 2
1336844777297: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336844777297: Clicked take picture button ..
1336844777959: Received UDP payload: 3370
1336844777961: mux: Inside mux Packet.CLIENT_REQUEST
1336844777961: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844777961: inside handleClientRequest. Originator leader of region 5
1336844777961: got new request, requestCounter = 5013015
1336844777961: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844777962: Sending PROC_REQUEST 10:4 (5,0)->(5,0)
1336844777962: Dispatching Atom PROC_REQUEST 10:4 (5,0)->(5,0)
1336844777963: mux: I got a CSM packet at a leader 

1336844778014: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844778018: I'm a leader and I successfully saved my client's new photo
1336844778018: now showing in UI the new photo I just saved ... 
1336844778018: the photo length: 2706
1336844778073: end of server show photo aside %%%%%%%%%
1336844777962: Note down new request by adding requestCounter=5013015 to HashMap processedRequests
1336844777962: Make FirstLeg Ack regardless of new or already-processed requests
1336844777962: The leader sending a First Leg ack to originator client (which id = 5013)
1336844777962: inside sendPacket(Packet p)
1336844777966: Sending UDP payload: 3734
1336844777967: removed replies before id 4 from sentReplies of size 0
1336844777967: inside handleDSMRequest. At requests's remote leader of region 5
1336844777969: Inside UPLOAD_PHOTO!!
1336844777986: my_gpinfo.isSuccess is now (should be true): true
1336844777986: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844777987: Received PROC_REQUEST 10:4 (5,0)->(5,0), replying PROC_REPLY 10:4 (5,0)->(5,0)
1336844777988: Dispatching Atom PROC_REPLY 10:4 (5,0)->(5,0)
1336844778000: mux: I got a CSM packet at a leader 

1336844777988: Sending UDP payload: 446
1336844778001: Sending UDP payload: 1006
1336844778002: Received PROC_REPLY 10:4 (5,0)->(5,0), handing to UserApp
1336844778002: inside handleDSMReply. Now back in originator leader of region 5
1336844778003: DSM layer: Going to and from remote region took latency = 41
1336844778003: DSM layer: orig leader sent packet at 1336844777961 ~ received reply from remote leader at 1336844778002
1336844778004: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844778004: leader client reply has replyCounter: 501301500
1336844778004: reply packet contains the success info for UPLOAD_PHOTO
1336844778004: inside sendReplies of replyCount = 501301500
1336844778004: =======================
1336844778004: inside sendReplyRepeatingRunnable for replyCount = 501301500
1336844778005: Leader about to send REPLY packet, number: 501301500 type: 16 Leader in region: (5,0) to Client nodID: 5013
1336844778005: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844778005: inside sendPacket(Packet p)
1336844778005: === Finished one round of sending REPLY Packet =======
1336844778009: Sending UDP payload: 659
1336844778069: Received UDP payload: 446
1336844778070: mux: Inside mux Packet.CLIENT_REQUEST
1336844778070: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844778070: inside handleClientRequest. Originator leader of region 5
1336844778071: got new request, requestCounter = 5013016
1336844778071: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501301500
1336844778071: Yay the last leg succeeded. Removing reply runnables ...
1336844778071: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501301500
1336844778071: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501301500
1336844778071: do not send ack for received final_leg_ack
1336844778134: Received UDP payload: 3829
1336844778137: mux: GOT CSM_Msg
1336844778137: forwarding disabled, not forwarding packets
1336844778144: Received UDP payload: 1006
1336844778146: mux: GOT CSM_Msg
1336844778146: forwarding disabled, not forwarding packets
1336844778338: inside HandlePictureStorage onPictureTaken()
1336844778339: one more takeCamGood: 2
1336844778339: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336844778827: Picture successfully taken, ORIG BYTE LENGTH = 760183
1336844778932: Our new height x width: 306 x 408
1336844778932: Show photo from handle my camera take
1336844778933: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336844778933: change local requestCounter to 15
1336844778946: BYTE SIZE AFTER COMPRESSION: 2706
1336844778951: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5008015 Client in region: 5 Client nodID: 5008
1336844778601: Received UDP payload: 446
1336844778978: ----------------------------
1336844778978: inside sendRequestPacketRepeatingRunnable for requestCount = 5008015
1336844778978: I'm a leader, my requesting photos packet going to mux directly
1336844778979: --- Finished one round of sending REQUEST Packet ---------
1336844778979: mux: Inside mux Packet.CLIENT_REQUEST
1336844778979: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844779007: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844778979: inside handleClientRequest. Originator leader of region 5
1336844778980: got new request, requestCounter = 5008015
1336844778980: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844778981: Sending PROC_REQUEST 10:5 (5,0)->(5,0)
1336844778982: Dispatching Atom PROC_REQUEST 10:5 (5,0)->(5,0)
1336844778984: mux: I got a CSM packet at a leader 

1336844779051: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844779052: I'm a leader and I successfully saved my client's new photo
1336844779053: now showing in UI the new photo I just saved ... 
1336844779053: the photo length: 2706
1336844779087: end of server show photo aside %%%%%%%%%
1336844778983: Note down new request by adding requestCounter=5008015 to HashMap processedRequests
1336844778983: Make FirstLeg Ack regardless of new or already-processed requests
1336844778984: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844779005: Sending UDP payload: 3734
1336844779006: removed replies before id 5 from sentReplies of size 0
1336844779006: inside handleDSMRequest. At requests's remote leader of region 5
1336844779013: Inside UPLOAD_PHOTO!!
1336844779021: my_gpinfo.isSuccess is now (should be true): true
1336844779021: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844779025: Received PROC_REQUEST 10:5 (5,0)->(5,0), replying PROC_REPLY 10:5 (5,0)->(5,0)
1336844779025: Dispatching Atom PROC_REPLY 10:5 (5,0)->(5,0)
1336844779026: mux: I got a CSM packet at a leader 

1336844779088: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336844779089: disabling progressdialog due to successful new photo upload
1336844779089: Inside _enableButtons
1336844779089: areButtonsEnabled --> true
1336844779089: send final leg ack regardless of new or already-processed reply
1336844779090: inside finalLegAck: change requestCounter to 16
1336844779090: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008016 Client in region: (5,0) Client nodID: 5008
1336844779090: I'm a leader client, my final_leg packet going to mux directly
1336844779092: new client_upload_photo_ack reply with replyCounter 500801500
1336844779093: note down new reply by adding replyCounter=500801500 to HashMap processedReplies
1336844779093: leader upload new photo latency = 109
1336844779093: = leader upload start 1336844778979 ~ stop 1336844779088
1336844779094: one more takeGoodSave: 2
1336844779095: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336844779095: adding take latency: 109
1336844779096: SUCCESS Client now knows saving photo on its leader succeeded
1336844779030: Sending UDP payload: 1006
1336844779032: Received PROC_REPLY 10:5 (5,0)->(5,0), handing to UserApp
1336844779039: inside handleDSMReply. Now back in originator leader of region 5
1336844779039: DSM layer: Going to and from remote region took latency = 59
1336844779040: DSM layer: orig leader sent packet at 1336844778980 ~ received reply from remote leader at 1336844779039
1336844779040: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844779040: leader client reply has replyCounter: 500801500
1336844779040: reply packet contains the success info for UPLOAD_PHOTO
1336844779041: inside sendReplies of replyCount = 500801500
1336844779041: =======================
1336844779041: inside sendReplyRepeatingRunnable for replyCount = 500801500
1336844779041: Leader about to send REPLY packet, number: 500801500 type: 16 Leader in region: (5,0) to Client nodID: 5008
1336844779041: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844779041: === Finished one round of sending REPLY Packet =======
1336844779091: mux: Inside mux Packet.CLIENT_REQUEST
1336844779091: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844779091: inside handleClientRequest. Originator leader of region 5
1336844779091: got new request, requestCounter = 5008016
1336844779091: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500801500
1336844779091: Yay the last leg succeeded. Removing reply runnables ...
1336844779091: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500801500
1336844779091: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500801500
1336844779091: do not send ack for received final_leg_ack
1336844779307: Received UDP payload: 446
1336844780444: Received UDP payload: 446
1336844780613: inside sendPacket(Packet p)
1336844780614: Sending UDP payload: 446
1336844781457: Received UDP payload: 446
1336844781539: Received UDP payload: 446
1336844783327: Received UDP payload: 3805
1336844783344: mux: GOT CSM_Msg
1336844783344: forwarding disabled, not forwarding packets
1336844783362: Received UDP payload: 1006
1336844783370: mux: GOT CSM_Msg
1336844783370: forwarding disabled, not forwarding packets
1336844783601: Received UDP payload: 446
1336844784311: Received UDP payload: 446
1336844785492: Received UDP payload: 446
1336844785615: inside sendPacket(Packet p)
1336844785626: Sending UDP payload: 446
1336844786396: Received UDP payload: 3449
1336844786400: mux: Inside mux Packet.CLIENT_REQUEST
1336844786451: Received UDP payload: 446
1336844786503: Received UDP payload: 3813
1336844786511: mux: GOT CSM_Msg
1336844786511: forwarding disabled, not forwarding packets
1336844786520: Received UDP payload: 446
1336844786526: mux: Inside Packet.SERVER_REPLY
1336844786526: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844786527: Received UDP payload: 1006
1336844786545: mux: GOT CSM_Msg
1336844786545: forwarding disabled, not forwarding packets
1336844786546: Received UDP payload: 446
1336844786560: Received UDP payload: 659
1336844786564: mux: Inside Packet.SERVER_REPLY
1336844786565: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844786569: Received UDP payload: 446
1336844786574: mux: Inside mux Packet.CLIENT_REQUEST
1336844788604: Received UDP payload: 446
1336844789326: Received UDP payload: 446
1336844790463: Received UDP payload: 446
1336844790616: inside sendPacket(Packet p)
1336844790626: Sending UDP payload: 446
1336844791466: Received UDP payload: 446
1336844793455: Received UDP payload: 446
1336844793622: Received UDP payload: 446
1336844794326: Received UDP payload: 446
1336844795477: Received UDP payload: 446
1336844795628: inside sendPacket(Packet p)
1336844795644: Sending UDP payload: 446
1336844796495: Received UDP payload: 446
1336844798457: Received UDP payload: 446
1336844798643: Received UDP payload: 446
1336844799359: Received UDP payload: 446
1336844800451: Received UDP payload: 446
1336844800645: inside sendPacket(Packet p)
1336844800654: Sending UDP payload: 446
1336844801486: Received UDP payload: 446
1336844803475: Received UDP payload: 446
1336844803628: Received UDP payload: 446
1336844804347: Received UDP payload: 446
1336844805454: Received UDP payload: 446
1336844805657: inside sendPacket(Packet p)
1336844805664: Sending UDP payload: 446
1336844806490: Received UDP payload: 446
1336844808076: Received UDP payload: 642
1336844808080: mux: Inside mux Packet.CLIENT_REQUEST
1336844808118: Received UDP payload: 1006
1336844808126: mux: GOT CSM_Msg
1336844808126: forwarding disabled, not forwarding packets
1336844808138: Received UDP payload: 446
1336844808141: mux: Inside Packet.SERVER_REPLY
1336844808143: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844808179: Received UDP payload: 3820
1336844808181: mux: GOT CSM_Msg
1336844808182: forwarding disabled, not forwarding packets
1336844808220: Received UDP payload: 3473
1336844808222: mux: Inside Packet.SERVER_REPLY
1336844808222: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844808246: Received UDP payload: 446
1336844808247: mux: Inside mux Packet.CLIENT_REQUEST
1336844808474: Received UDP payload: 446
1336844808630: Received UDP payload: 446
1336844809288: Received UDP payload: 1006
1336844809298: mux: GOT CSM_Msg
1336844809298: forwarding disabled, not forwarding packets
1336844809355: Received UDP payload: 446
1336844809395: Received UDP payload: 3820
1336844809402: mux: GOT CSM_Msg
1336844809402: forwarding disabled, not forwarding packets
1336844810467: Received UDP payload: 446
1336844810667: inside sendPacket(Packet p)
1336844810675: Sending UDP payload: 446
1336844810822: Received UDP payload: 1006
1336844810829: mux: GOT CSM_Msg
1336844810829: forwarding disabled, not forwarding packets
1336844810948: Received UDP payload: 3820
1336844810955: mux: GOT CSM_Msg
1336844810956: forwarding disabled, not forwarding packets
1336844811493: Received UDP payload: 446
1336844812144: Received UDP payload: 642
1336844812148: mux: Inside mux Packet.CLIENT_REQUEST
1336844812193: Received UDP payload: 1006
1336844812202: mux: GOT CSM_Msg
1336844812203: forwarding disabled, not forwarding packets
1336844812203: Received UDP payload: 446
1336844812225: mux: Inside Packet.SERVER_REPLY
1336844812225: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844812270: Received UDP payload: 3820
1336844812273: mux: GOT CSM_Msg
1336844812273: forwarding disabled, not forwarding packets
1336844812327: Received UDP payload: 3473
1336844812329: mux: Inside Packet.SERVER_REPLY
1336844812329: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844812342: Received UDP payload: 446
1336844812343: mux: Inside mux Packet.CLIENT_REQUEST
1336844813485: Received UDP payload: 446
1336844813643: Received UDP payload: 446
1336844814360: Received UDP payload: 446
1336844815469: Received UDP payload: 446
1336844815679: inside sendPacket(Packet p)
1336844815695: Sending UDP payload: 446
1336844816490: Received UDP payload: 446
1336844816829: Received UDP payload: 1006
1336844816840: mux: GOT CSM_Msg
1336844816840: forwarding disabled, not forwarding packets
1336844816909: Received UDP payload: 3820
1336844816911: mux: GOT CSM_Msg
1336844816911: forwarding disabled, not forwarding packets
1336844817037: Received UDP payload: 1006
1336844817044: mux: GOT CSM_Msg
1336844817045: forwarding disabled, not forwarding packets
1336844817109: Received UDP payload: 3820
1336844817116: mux: GOT CSM_Msg
1336844817116: forwarding disabled, not forwarding packets
1336844818496: Received UDP payload: 446
1336844818646: Received UDP payload: 446
1336844819369: Received UDP payload: 446
1336844820540: Received UDP payload: 446
1336844820696: inside sendPacket(Packet p)
1336844820705: Sending UDP payload: 446
1336844821580: Received UDP payload: 446
1336844822605: Received UDP payload: 642
1336844822609: mux: Inside mux Packet.CLIENT_REQUEST
1336844822610: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844822610: inside handleClientRequest. Originator leader of region 5
1336844822610: got new request, requestCounter = 5013017
1336844822611: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844822619: Sending to region: 0
1336844822621: Sending PROC_REQUEST 11:2 (5,0)->(0,0)
1336844822622: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1336844822625: mux: I got a CSM packet at a leader 

1336844822623: Note down new request by adding requestCounter=5013017 to HashMap processedRequests
1336844822624: Make FirstLeg Ack regardless of new or already-processed requests
1336844822624: The leader sending a First Leg ack to originator client (which id = 5013)
1336844822624: inside sendPacket(Packet p)
1336844822643: Sending UDP payload: 1006
1336844822645: forwarding disabled, not forwarding packets
1336844822648: Sending UDP payload: 446
1336844822764: Received UDP payload: 3820
1336844822768: mux: GOT CSM_Msg
1336844822768: Received PROC_REPLY 11:2 (0,0)->(5,0), handing to UserApp
1336844822769: inside handleDSMReply. Now back in originator leader of region 5
1336844822769: DSM layer: Going to and from remote region took latency = 149
1336844822769: DSM layer: orig leader sent packet at 1336844822620 ~ received reply from remote leader at 1336844822769
1336844822771: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844822771: leader client reply has replyCounter: 501301700
1336844822771: reply packet contains the newest photo/success info from the remote region
1336844822771: inside sendReplies of replyCount = 501301700
1336844822782: =======================
1336844822783: inside sendReplyRepeatingRunnable for replyCount = 501301700
1336844822783: Leader about to send REPLY packet, number: 501301700 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844822783: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844822783: inside sendPacket(Packet p)
1336844822784: === Finished one round of sending REPLY Packet =======
1336844822786: Sending UDP payload: 3473
1336844822840: Received UDP payload: 446
1336844822843: mux: Inside mux Packet.CLIENT_REQUEST
1336844822843: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844822843: inside handleClientRequest. Originator leader of region 5
1336844822843: got new request, requestCounter = 5013018
1336844822844: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501301700
1336844822844: Yay the last leg succeeded. Removing reply runnables ...
1336844822844: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501301700
1336844822844: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501301700
1336844822844: do not send ack for received final_leg_ack
1336844823461: canPressButton = TRUE
1336844823461: areButtonsEnabled --> false 
1336844823461: get picture disableButtonsR
1336844823461: areButtonsEnabled --> false
1336844823488: one more getNum: 7
1336844823488: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=6 getBad=0 getTimedout=0 getPercent=85%
1336844823489: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336844823489: change local requestCounter to 17
1336844823500: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008017 Client in region: 5 Client nodID: 5008
1336844823494: Received UDP payload: 1006
1336844823499: mux: GOT CSM_Msg
1336844823499: forwarding disabled, not forwarding packets
1336844823531: ----------------------------
1336844823531: inside sendRequestPacketRepeatingRunnable for requestCount = 5008017
1336844823531: I'm a leader, my requesting photos packet going to mux directly
1336844823541: --- Finished one round of sending REQUEST Packet ---------
1336844823526: Received UDP payload: 446
1336844823531: mux: Inside mux Packet.CLIENT_REQUEST
1336844823532: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844823583: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844823532: inside handleClientRequest. Originator leader of region 5
1336844823532: got new request, requestCounter = 5008017
1336844823532: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844823534: Sending to region: 0
1336844823535: Sending PROC_REQUEST 11:3 (5,0)->(0,0)
1336844823535: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1336844823536: mux: I got a CSM packet at a leader 

1336844823535: Note down new request by adding requestCounter=5008017 to HashMap processedRequests
1336844823536: Make FirstLeg Ack regardless of new or already-processed requests
1336844823536: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844823540: Sending UDP payload: 1006
1336844823552: forwarding disabled, not forwarding packets
1336844823608: Received UDP payload: 3820
1336844823610: mux: GOT CSM_Msg
1336844823610: forwarding disabled, not forwarding packets
1336844823656: Received UDP payload: 3820
1336844823658: mux: GOT CSM_Msg
1336844823658: Received PROC_REPLY 11:3 (0,0)->(5,0), handing to UserApp
1336844823659: inside handleDSMReply. Now back in originator leader of region 5
1336844823659: DSM layer: Going to and from remote region took latency = 125
1336844823659: DSM layer: orig leader sent packet at 1336844823534 ~ received reply from remote leader at 1336844823659
1336844823659: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844823660: leader client reply has replyCounter: 500801700
1336844823660: reply packet contains the newest photo/success info from the remote region
1336844823660: inside sendReplies of replyCount = 500801700
1336844823675: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844823676: disabling progressdialog due to successful new photo get
1336844823676: Inside _enableButtons
1336844823676: areButtonsEnabled --> true
1336844823676: send final leg ack regardless of new or already-processed reply
1336844823676: inside finalLegAck: change requestCounter to 18
1336844823677: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008018 Client in region: (5,0) Client nodID: 5008
1336844823677: I'm a leader client, my final_leg packet going to mux directly
1336844823679: new client_show_remotephoto reply with replyCounter 500801700
1336844823679: note down new reply by adding replyCounter=500801700 to HashMap processedReplies
1336844823679: leader download remote photo latency = 144
1336844823680: = leader download start 1336844823531 ~ stop 1336844823675
1336844823682: one more getGood: 7
1336844823683: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=7 getBad=0 getTimedout=0 getPercent=100%
1336844823683: adding get latency: 144
1336844823686: Success! Client getting photo from remote region, showing photo...
1336844823686: Remote photo's length: 2792
1336844823660: =======================
1336844823661: inside sendReplyRepeatingRunnable for replyCount = 500801700
1336844823661: Leader about to send REPLY packet, number: 500801700 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844823661: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844823661: === Finished one round of sending REPLY Packet =======
1336844823677: mux: Inside mux Packet.CLIENT_REQUEST
1336844823677: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844823677: inside handleClientRequest. Originator leader of region 5
1336844823677: got new request, requestCounter = 5008018
1336844823678: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500801700
1336844823678: Yay the last leg succeeded. Removing reply runnables ...
1336844823678: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500801700
1336844823678: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500801700
1336844823678: do not send ack for received final_leg_ack
1336844823725: Received UDP payload: 446
1336844824370: Received UDP payload: 446
1336844824745: Received UDP payload: 642
1336844824750: mux: Inside mux Packet.CLIENT_REQUEST
1336844824818: Received UDP payload: 1006
1336844824820: mux: GOT CSM_Msg
1336844824820: forwarding disabled, not forwarding packets
1336844824826: Received UDP payload: 446
1336844824828: mux: Inside Packet.SERVER_REPLY
1336844824828: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844824915: Received UDP payload: 3820
1336844824917: mux: GOT CSM_Msg
1336844824917: forwarding disabled, not forwarding packets
1336844824975: Received UDP payload: 3473
1336844824977: mux: Inside Packet.SERVER_REPLY
1336844824977: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844824988: Received UDP payload: 446
1336844824989: mux: Inside mux Packet.CLIENT_REQUEST
1336844825491: Received UDP payload: 446
1336844825707: inside sendPacket(Packet p)
1336844825724: Sending UDP payload: 446
1336844826523: Received UDP payload: 446
1336844828526: Received UDP payload: 446
1336844828648: Received UDP payload: 446
1336844829377: Received UDP payload: 446
1336844830472: Received UDP payload: 446
1336844830725: inside sendPacket(Packet p)
1336844830734: Sending UDP payload: 446
1336844831536: Received UDP payload: 446
1336844833539: Received UDP payload: 446
1336844833659: Received UDP payload: 446
1336844834387: Received UDP payload: 446
1336844835475: Received UDP payload: 446
1336844835736: inside sendPacket(Packet p)
1336844835745: Sending UDP payload: 446
1336844836531: Received UDP payload: 446
1336844837350: Received UDP payload: 642
1336844837357: mux: Inside mux Packet.CLIENT_REQUEST
1336844837408: Received UDP payload: 1006
1336844837414: mux: GOT CSM_Msg
1336844837414: forwarding disabled, not forwarding packets
1336844837415: Received UDP payload: 446
1336844837416: mux: Inside Packet.SERVER_REPLY
1336844837416: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844837525: Received UDP payload: 3767
1336844837528: mux: GOT CSM_Msg
1336844837528: forwarding disabled, not forwarding packets
1336844837573: Received UDP payload: 3420
1336844837575: mux: Inside Packet.SERVER_REPLY
1336844837575: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844837590: Received UDP payload: 446
1336844837592: mux: Inside mux Packet.CLIENT_REQUEST
1336844838540: Received UDP payload: 1006
1336844838548: mux: GOT CSM_Msg
1336844838549: forwarding disabled, not forwarding packets
1336844838557: Received UDP payload: 446
1336844838623: Received UDP payload: 3767
1336844838625: mux: GOT CSM_Msg
1336844838626: forwarding disabled, not forwarding packets
1336844838660: Received UDP payload: 446
1336844839394: Received UDP payload: 446
1336844840485: Received UDP payload: 446
1336844840748: inside sendPacket(Packet p)
1336844840765: Sending UDP payload: 446
1336844841546: Received UDP payload: 446
1336844843552: Received UDP payload: 446
1336844843671: Received UDP payload: 446
1336844844138: Received UDP payload: 642
1336844844144: mux: Inside mux Packet.CLIENT_REQUEST
1336844844188: Received UDP payload: 1006
1336844844195: mux: GOT CSM_Msg
1336844844195: forwarding disabled, not forwarding packets
1336844844238: Received UDP payload: 446
1336844844239: mux: Inside Packet.SERVER_REPLY
1336844844240: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844844314: Received UDP payload: 3767
1336844844316: mux: GOT CSM_Msg
1336844844316: forwarding disabled, not forwarding packets
1336844844351: Received UDP payload: 3420
1336844844352: mux: Inside Packet.SERVER_REPLY
1336844844352: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844844363: Received UDP payload: 446
1336844844364: mux: Inside mux Packet.CLIENT_REQUEST
1336844844391: Received UDP payload: 446
1336844845356: Received UDP payload: 1006
1336844845365: mux: GOT CSM_Msg
1336844845365: forwarding disabled, not forwarding packets
1336844845489: Received UDP payload: 446
1336844845767: inside sendPacket(Packet p)
1336844845771: Sending UDP payload: 446
1336844846555: Received UDP payload: 446
1336844846731: Received UDP payload: 1006
1336844846739: mux: GOT CSM_Msg
1336844846739: forwarding disabled, not forwarding packets
1336844846843: Received UDP payload: 3767
1336844846851: mux: GOT CSM_Msg
1336844846851: forwarding disabled, not forwarding packets
1336844848565: Received UDP payload: 446
1336844848689: Received UDP payload: 446
1336844850502: Received UDP payload: 1006
1336844850513: mux: GOT CSM_Msg
1336844850514: forwarding disabled, not forwarding packets
1336844850525: Received UDP payload: 446
1336844850610: Received UDP payload: 3767
1336844850618: mux: GOT CSM_Msg
1336844850619: forwarding disabled, not forwarding packets
1336844850773: inside sendPacket(Packet p)
1336844850776: Sending UDP payload: 446
1336844851374: Received UDP payload: 446
1336844853609: Received UDP payload: 446
1336844853629: Received UDP payload: 446
1336844853690: Received UDP payload: 446
1336844853908: Received UDP payload: 1006
1336844853916: mux: GOT CSM_Msg
1336844853917: forwarding disabled, not forwarding packets
1336844854017: Received UDP payload: 3767
1336844854024: mux: GOT CSM_Msg
1336844854025: forwarding disabled, not forwarding packets
1336844855385: Received UDP payload: 642
1336844855391: mux: Inside mux Packet.CLIENT_REQUEST
1336844855440: Received UDP payload: 1006
1336844855453: mux: GOT CSM_Msg
1336844855453: forwarding disabled, not forwarding packets
1336844855454: Received UDP payload: 446
1336844855458: mux: Inside Packet.SERVER_REPLY
1336844855458: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844855529: Received UDP payload: 446
1336844855554: Received UDP payload: 3767
1336844855562: mux: GOT CSM_Msg
1336844855562: forwarding disabled, not forwarding packets
1336844855596: Received UDP payload: 3420
1336844855601: mux: Inside Packet.SERVER_REPLY
1336844855602: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844855613: Received UDP payload: 446
1336844855617: mux: Inside mux Packet.CLIENT_REQUEST
1336844855774: inside sendPacket(Packet p)
1336844855776: Sending UDP payload: 446
1336844856216: Received UDP payload: 642
1336844856217: mux: Inside mux Packet.CLIENT_REQUEST
1336844856217: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844856218: inside handleClientRequest. Originator leader of region 5
1336844856218: got new request, requestCounter = 5013019
1336844856218: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844856218: Sending to region: 1
1336844856219: Sending PROC_REQUEST 11:2 (5,0)->(1,0)
1336844856219: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(1,0)
1336844856220: mux: I got a CSM packet at a leader 

1336844856219: Note down new request by adding requestCounter=5013019 to HashMap processedRequests
1336844856220: Make FirstLeg Ack regardless of new or already-processed requests
1336844856220: The leader sending a First Leg ack to originator client (which id = 5013)
1336844856220: inside sendPacket(Packet p)
1336844856221: Sending UDP payload: 1006
1336844856225: forwarding disabled, not forwarding packets
1336844856228: Sending UDP payload: 446
1336844856298: Received UDP payload: 3767
1336844856300: mux: GOT CSM_Msg
1336844856300: Received PROC_REPLY 11:2 (1,0)->(5,0), handing to UserApp
1336844856300: inside handleDSMReply. Now back in originator leader of region 5
1336844856300: DSM layer: Going to and from remote region took latency = 81
1336844856301: DSM layer: orig leader sent packet at 1336844856219 ~ received reply from remote leader at 1336844856300
1336844856301: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844856302: leader client reply has replyCounter: 501301900
1336844856302: reply packet contains the newest photo/success info from the remote region
1336844856302: inside sendReplies of replyCount = 501301900
1336844856302: =======================
1336844856302: inside sendReplyRepeatingRunnable for replyCount = 501301900
1336844856302: Leader about to send REPLY packet, number: 501301900 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844856303: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844856303: inside sendPacket(Packet p)
1336844856303: === Finished one round of sending REPLY Packet =======
1336844856321: Sending UDP payload: 3420
1336844856382: Received UDP payload: 446
1336844856393: Received UDP payload: 446
1336844856394: mux: Inside mux Packet.CLIENT_REQUEST
1336844856394: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844856394: inside handleClientRequest. Originator leader of region 5
1336844856395: got new request, requestCounter = 5013020
1336844856395: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501301900
1336844856395: Yay the last leg succeeded. Removing reply runnables ...
1336844856395: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501301900
1336844856395: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501301900
1336844856395: do not send ack for received final_leg_ack
1336844858514: canPressButton = TRUE
1336844858515: areButtonsEnabled --> false 
1336844858515: get picture disableButtonsR
1336844858515: areButtonsEnabled --> false
1336844858541: one more getNum: 8
1336844858542: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=7 getBad=0 getTimedout=0 getPercent=87%
1336844858542: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336844858543: change local requestCounter to 19
1336844858543: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008019 Client in region: 5 Client nodID: 5008
1336844858576: ----------------------------
1336844858577: inside sendRequestPacketRepeatingRunnable for requestCount = 5008019
1336844858577: I'm a leader, my requesting photos packet going to mux directly
1336844858584: --- Finished one round of sending REQUEST Packet ---------
1336844858577: mux: Inside mux Packet.CLIENT_REQUEST
1336844858577: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844858627: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844858577: inside handleClientRequest. Originator leader of region 5
1336844858578: got new request, requestCounter = 5008019
1336844858578: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844858578: Sending to region: 1
1336844858579: Sending PROC_REQUEST 11:3 (5,0)->(1,0)
1336844858579: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(1,0)
1336844858581: mux: I got a CSM packet at a leader 

1336844858579: Note down new request by adding requestCounter=5008019 to HashMap processedRequests
1336844858581: Make FirstLeg Ack regardless of new or already-processed requests
1336844858581: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844858583: Sending UDP payload: 1006
1336844858584: forwarding disabled, not forwarding packets
1336844858605: Received UDP payload: 446
1336844858617: Received UDP payload: 446
1336844858707: Received UDP payload: 3767
1336844858709: mux: GOT CSM_Msg
1336844858718: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844858718: disabling progressdialog due to successful new photo get
1336844858718: Inside _enableButtons
1336844858719: areButtonsEnabled --> true
1336844858719: send final leg ack regardless of new or already-processed reply
1336844858719: inside finalLegAck: change requestCounter to 20
1336844858719: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008020 Client in region: (5,0) Client nodID: 5008
1336844858720: I'm a leader client, my final_leg packet going to mux directly
1336844858722: new client_show_remotephoto reply with replyCounter 500801900
1336844858722: note down new reply by adding replyCounter=500801900 to HashMap processedReplies
1336844858722: leader download remote photo latency = 141
1336844858723: = leader download start 1336844858577 ~ stop 1336844858718
1336844858723: one more getGood: 8
1336844858724: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=8 getBad=0 getTimedout=0 getPercent=100%
1336844858725: adding get latency: 141
1336844858725: Success! Client getting photo from remote region, showing photo...
1336844858726: Remote photo's length: 2739
1336844858710: Received PROC_REPLY 11:3 (1,0)->(5,0), handing to UserApp
1336844858710: inside handleDSMReply. Now back in originator leader of region 5
1336844858710: DSM layer: Going to and from remote region took latency = 132
1336844858710: DSM layer: orig leader sent packet at 1336844858578 ~ received reply from remote leader at 1336844858710
1336844858711: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844858711: leader client reply has replyCounter: 500801900
1336844858711: reply packet contains the newest photo/success info from the remote region
1336844858711: inside sendReplies of replyCount = 500801900
1336844858714: =======================
1336844858714: inside sendReplyRepeatingRunnable for replyCount = 500801900
1336844858715: Leader about to send REPLY packet, number: 500801900 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844858715: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844858715: === Finished one round of sending REPLY Packet =======
1336844858720: mux: Inside mux Packet.CLIENT_REQUEST
1336844858720: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844858720: inside handleClientRequest. Originator leader of region 5
1336844858720: got new request, requestCounter = 5008020
1336844858720: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500801900
1336844858720: Yay the last leg succeeded. Removing reply runnables ...
1336844858720: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500801900
1336844858721: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500801900
1336844858721: do not send ack for received final_leg_ack
1336844858771: Received UDP payload: 446
1336844860525: Received UDP payload: 446
1336844860775: inside sendPacket(Packet p)
1336844860810: Sending UDP payload: 446
1336844861380: Received UDP payload: 446
1336844863627: Received UDP payload: 446
1336844863653: Received UDP payload: 446
1336844863704: Received UDP payload: 446
1336844865553: Received UDP payload: 446
1336844865795: inside sendPacket(Packet p)
1336844865805: Sending UDP payload: 446
1336844866395: Received UDP payload: 446
1336844867465: Received UDP payload: 642
1336844867472: mux: Inside mux Packet.CLIENT_REQUEST
1336844867548: Received UDP payload: 1006
1336844867562: mux: GOT CSM_Msg
1336844867562: forwarding disabled, not forwarding packets
1336844867573: Received UDP payload: 446
1336844867576: mux: Inside Packet.SERVER_REPLY
1336844867577: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844867639: Received UDP payload: 3829
1336844867641: mux: GOT CSM_Msg
1336844867641: forwarding disabled, not forwarding packets
1336844867725: Received UDP payload: 3482
1336844867727: mux: Inside Packet.SERVER_REPLY
1336844867727: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844867740: Received UDP payload: 446
1336844867741: mux: Inside mux Packet.CLIENT_REQUEST
1336844868569: Received UDP payload: 446
1336844868663: Received UDP payload: 446
1336844868689: Received UDP payload: 1006
1336844868699: mux: GOT CSM_Msg
1336844868700: forwarding disabled, not forwarding packets
1336844868762: Received UDP payload: 3829
1336844868769: mux: GOT CSM_Msg
1336844868769: forwarding disabled, not forwarding packets
1336844869436: Received UDP payload: 1006
1336844869439: mux: GOT CSM_Msg
1336844869439: forwarding disabled, not forwarding packets
1336844869489: Received UDP payload: 3829
1336844869496: mux: GOT CSM_Msg
1336844869496: forwarding disabled, not forwarding packets
1336844870384: Received UDP payload: 642
1336844870388: mux: Inside mux Packet.CLIENT_REQUEST
1336844870434: Received UDP payload: 1006
1336844870436: mux: GOT CSM_Msg
1336844870436: forwarding disabled, not forwarding packets
1336844870446: Received UDP payload: 446
1336844870447: mux: Inside Packet.SERVER_REPLY
1336844870447: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844870509: Received UDP payload: 446
1336844870533: Received UDP payload: 3829
1336844870535: mux: GOT CSM_Msg
1336844870535: forwarding disabled, not forwarding packets
1336844870580: Received UDP payload: 3482
1336844870582: mux: Inside Packet.SERVER_REPLY
1336844870582: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844870586: Received UDP payload: 446
1336844870619: Received UDP payload: 446
1336844870620: mux: Inside mux Packet.CLIENT_REQUEST
1336844870809: inside sendPacket(Packet p)
1336844870810: Sending UDP payload: 446
1336844871386: Received UDP payload: 446
1336844873626: Received UDP payload: 446
1336844873665: Received UDP payload: 446
1336844875383: Received UDP payload: 1006
1336844875390: mux: GOT CSM_Msg
1336844875390: forwarding disabled, not forwarding packets
1336844875437: Received UDP payload: 3829
1336844875446: mux: GOT CSM_Msg
1336844875446: forwarding disabled, not forwarding packets
1336844875511: Received UDP payload: 446
1336844875591: Received UDP payload: 446
1336844875810: inside sendPacket(Packet p)
1336844875811: Sending UDP payload: 446
1336844876407: Received UDP payload: 446
1336844877502: Received UDP payload: 1006
1336844877509: mux: GOT CSM_Msg
1336844877510: forwarding disabled, not forwarding packets
1336844877545: Received UDP payload: 3829
1336844877547: mux: GOT CSM_Msg
1336844877547: forwarding disabled, not forwarding packets
1336844878640: Received UDP payload: 446
1336844878667: Received UDP payload: 446
1336844880514: Received UDP payload: 446
1336844880598: Received UDP payload: 446
1336844880810: inside sendPacket(Packet p)
1336844880814: Sending UDP payload: 446
1336844880980: Received UDP payload: 642
1336844880986: mux: Inside mux Packet.CLIENT_REQUEST
1336844880986: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844880987: inside handleClientRequest. Originator leader of region 5
1336844880987: got new request, requestCounter = 5013021
1336844880988: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844880994: Sending to region: 2
1336844880995: Sending PROC_REQUEST 11:2 (5,0)->(2,0)
1336844881003: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(2,0)
1336844881006: mux: I got a CSM packet at a leader 

1336844881004: Note down new request by adding requestCounter=5013021 to HashMap processedRequests
1336844881004: Make FirstLeg Ack regardless of new or already-processed requests
1336844881004: The leader sending a First Leg ack to originator client (which id = 5013)
1336844881005: inside sendPacket(Packet p)
1336844881024: Sending UDP payload: 1006
1336844881026: forwarding disabled, not forwarding packets
1336844881029: Sending UDP payload: 446
1336844881091: Received UDP payload: 3829
1336844881093: mux: GOT CSM_Msg
1336844881093: Received PROC_REPLY 11:2 (2,0)->(5,0), handing to UserApp
1336844881093: inside handleDSMReply. Now back in originator leader of region 5
1336844881093: DSM layer: Going to and from remote region took latency = 99
1336844881093: DSM layer: orig leader sent packet at 1336844880994 ~ received reply from remote leader at 1336844881093
1336844881094: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844881094: leader client reply has replyCounter: 501302100
1336844881094: reply packet contains the newest photo/success info from the remote region
1336844881094: inside sendReplies of replyCount = 501302100
1336844881096: =======================
1336844881097: inside sendReplyRepeatingRunnable for replyCount = 501302100
1336844881098: Leader about to send REPLY packet, number: 501302100 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844881098: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844881098: inside sendPacket(Packet p)
1336844881099: === Finished one round of sending REPLY Packet =======
1336844881100: Sending UDP payload: 3482
1336844881159: Received UDP payload: 446
1336844881161: mux: Inside mux Packet.CLIENT_REQUEST
1336844881161: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844881161: inside handleClientRequest. Originator leader of region 5
1336844881162: got new request, requestCounter = 5013022
1336844881162: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501302100
1336844881162: Yay the last leg succeeded. Removing reply runnables ...
1336844881162: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501302100
1336844881162: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501302100
1336844881163: do not send ack for received final_leg_ack
1336844881410: Received UDP payload: 446
1336844881694: canPressButton = TRUE
1336844881694: areButtonsEnabled --> false 
1336844881695: get picture disableButtonsR
1336844881695: areButtonsEnabled --> false
1336844881722: one more getNum: 9
1336844881723: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=8 getBad=0 getTimedout=0 getPercent=88%
1336844881723: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336844881723: change local requestCounter to 21
1336844881729: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008021 Client in region: 5 Client nodID: 5008
1336844881758: ----------------------------
1336844881759: inside sendRequestPacketRepeatingRunnable for requestCount = 5008021
1336844881759: I'm a leader, my requesting photos packet going to mux directly
1336844881765: --- Finished one round of sending REQUEST Packet ---------
1336844881760: mux: Inside mux Packet.CLIENT_REQUEST
1336844881760: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844881805: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844881760: inside handleClientRequest. Originator leader of region 5
1336844881760: got new request, requestCounter = 5008021
1336844881760: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844881761: Sending to region: 2
1336844881762: Sending PROC_REQUEST 11:3 (5,0)->(2,0)
1336844881762: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1336844881763: mux: I got a CSM packet at a leader 

1336844881762: Note down new request by adding requestCounter=5008021 to HashMap processedRequests
1336844881763: Make FirstLeg Ack regardless of new or already-processed requests
1336844881763: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844881764: Sending UDP payload: 1006
1336844881765: forwarding disabled, not forwarding packets
1336844881863: Received UDP payload: 3829
1336844881866: mux: GOT CSM_Msg
1336844881866: Received PROC_REPLY 11:3 (2,0)->(5,0), handing to UserApp
1336844881866: inside handleDSMReply. Now back in originator leader of region 5
1336844881866: DSM layer: Going to and from remote region took latency = 105
1336844881866: DSM layer: orig leader sent packet at 1336844881761 ~ received reply from remote leader at 1336844881866
1336844881867: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844881867: leader client reply has replyCounter: 500802100
1336844881867: reply packet contains the newest photo/success info from the remote region
1336844881867: inside sendReplies of replyCount = 500802100
1336844881870: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844881871: disabling progressdialog due to successful new photo get
1336844881871: Inside _enableButtons
1336844881871: areButtonsEnabled --> true
1336844881872: send final leg ack regardless of new or already-processed reply
1336844881872: inside finalLegAck: change requestCounter to 22
1336844881873: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008022 Client in region: (5,0) Client nodID: 5008
1336844881873: I'm a leader client, my final_leg packet going to mux directly
1336844881874: new client_show_remotephoto reply with replyCounter 500802100
1336844881874: note down new reply by adding replyCounter=500802100 to HashMap processedReplies
1336844881875: leader download remote photo latency = 110
1336844881875: = leader download start 1336844881760 ~ stop 1336844881870
1336844881879: one more getGood: 9
1336844881880: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=9 getBad=0 getTimedout=0 getPercent=100%
1336844881880: adding get latency: 110
1336844881882: Success! Client getting photo from remote region, showing photo...
1336844881883: Remote photo's length: 2801
1336844881868: =======================
1336844881868: inside sendReplyRepeatingRunnable for replyCount = 500802100
1336844881868: Leader about to send REPLY packet, number: 500802100 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844881868: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844881868: === Finished one round of sending REPLY Packet =======
1336844881873: mux: Inside mux Packet.CLIENT_REQUEST
1336844881873: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844881873: inside handleClientRequest. Originator leader of region 5
1336844881873: got new request, requestCounter = 5008022
1336844881874: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500802100
1336844881874: Yay the last leg succeeded. Removing reply runnables ...
1336844881874: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500802100
1336844881874: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500802100
1336844881874: do not send ack for received final_leg_ack
1336844883577: Received UDP payload: 446
1336844883674: Received UDP payload: 446
1336844883804: Received UDP payload: 1006
1336844883821: mux: GOT CSM_Msg
1336844883822: forwarding disabled, not forwarding packets
1336844883876: Received UDP payload: 3829
1336844883878: mux: GOT CSM_Msg
1336844883878: forwarding disabled, not forwarding packets
1336844884557: Received UDP payload: 1006
1336844884565: mux: GOT CSM_Msg
1336844884565: forwarding disabled, not forwarding packets
1336844884616: Received UDP payload: 3829
1336844884618: mux: GOT CSM_Msg
1336844884618: forwarding disabled, not forwarding packets
1336844885296: Received UDP payload: 642
1336844885301: mux: Inside mux Packet.CLIENT_REQUEST
1336844885394: Received UDP payload: 1006
1336844885403: mux: GOT CSM_Msg
1336844885403: forwarding disabled, not forwarding packets
1336844885412: Received UDP payload: 446
1336844885417: mux: Inside Packet.SERVER_REPLY
1336844885417: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844885478: Received UDP payload: 3829
1336844885480: mux: GOT CSM_Msg
1336844885480: forwarding disabled, not forwarding packets
1336844885608: Received UDP payload: 446
1336844885811: inside sendPacket(Packet p)
1336844885814: Sending UDP payload: 446
1336844886411: Received UDP payload: 446
1336844887608: Received UDP payload: 3482
1336844887616: mux: Inside Packet.SERVER_REPLY
1336844887616: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844887622: Received UDP payload: 446
1336844887656: Received UDP payload: 446
1336844887660: mux: Inside mux Packet.CLIENT_REQUEST
1336844888625: Received UDP payload: 446
1336844888690: Received UDP payload: 446
1336844890636: Received UDP payload: 446
1336844890812: inside sendPacket(Packet p)
1336844890825: Sending UDP payload: 446
1336844891420: Received UDP payload: 446
1336844892601: Received UDP payload: 446
1336844893597: Received UDP payload: 446
1336844893739: Received UDP payload: 446
1336844895589: leader to cloud hearbeat...
1336844895643: Received UDP payload: 446
1336844896420: Received UDP payload: 446
1336844897231: Received UDP payload: 642
1336844897237: mux: Inside mux Packet.CLIENT_REQUEST
1336844897271: Received UDP payload: 1006
1336844897278: mux: GOT CSM_Msg
1336844897279: forwarding disabled, not forwarding packets
1336844897301: Received UDP payload: 446
1336844897302: mux: Inside Packet.SERVER_REPLY
1336844897303: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844897348: Received UDP payload: 3734
1336844897350: mux: GOT CSM_Msg
1336844897350: forwarding disabled, not forwarding packets
1336844897393: Received UDP payload: 3387
1336844897394: mux: Inside Packet.SERVER_REPLY
1336844897394: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844897410: Received UDP payload: 446
1336844897411: mux: Inside mux Packet.CLIENT_REQUEST
1336844897552: Received UDP payload: 642
1336844897556: mux: Inside mux Packet.CLIENT_REQUEST
1336844897581: Received UDP payload: 446
1336844897597: Received UDP payload: 1006
1336844897599: mux: GOT CSM_Msg
1336844897599: forwarding disabled, not forwarding packets
1336844897608: Received UDP payload: 446
1336844897609: mux: Inside Packet.SERVER_REPLY
1336844897609: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844897657: Received UDP payload: 3734
1336844897659: mux: GOT CSM_Msg
1336844897659: forwarding disabled, not forwarding packets
1336844897728: Received UDP payload: 3387
1336844897730: mux: Inside Packet.SERVER_REPLY
1336844897730: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844897744: Received UDP payload: 446
1336844897745: mux: Inside mux Packet.CLIENT_REQUEST
1336844897825: inside sendPacket(Packet p)
1336844897826: Sending UDP payload: 446
1336844898071: Received UDP payload: 1006
1336844898075: mux: GOT CSM_Msg
1336844898075: forwarding disabled, not forwarding packets
1336844898160: Received UDP payload: 3734
1336844898166: mux: GOT CSM_Msg
1336844898167: forwarding disabled, not forwarding packets
1336844898601: Received UDP payload: 446
1336844898719: Received UDP payload: 446
1336844898884: Received UDP payload: 1006
1336844898890: mux: GOT CSM_Msg
1336844898891: forwarding disabled, not forwarding packets
1336844898962: Received UDP payload: 3734
1336844898969: mux: GOT CSM_Msg
1336844898970: forwarding disabled, not forwarding packets
1336844900651: Received UDP payload: 446
1336844901463: Received UDP payload: 446
1336844902589: Received UDP payload: 446
1336844902825: inside sendPacket(Packet p)
1336844902827: Sending UDP payload: 446
1336844903187: Received UDP payload: 1006
1336844903195: mux: GOT CSM_Msg
1336844903196: forwarding disabled, not forwarding packets
1336844903224: Received UDP payload: 3734
1336844903232: mux: GOT CSM_Msg
1336844903233: forwarding disabled, not forwarding packets
1336844903577: Received UDP payload: 446
1336844903709: Received UDP payload: 446
1336844905649: Received UDP payload: 446
1336844906437: Received UDP payload: 446
1336844906452: Received UDP payload: 1006
1336844906469: mux: GOT CSM_Msg
1336844906469: forwarding disabled, not forwarding packets
1336844906563: Received UDP payload: 3734
1336844906565: mux: GOT CSM_Msg
1336844906565: forwarding disabled, not forwarding packets
1336844907588: Received UDP payload: 446
1336844907826: inside sendPacket(Packet p)
1336844907829: Sending UDP payload: 446
1336844908581: Received UDP payload: 446
1336844908716: Received UDP payload: 446
1336844908921: Received UDP payload: 642
1336844908926: mux: Inside mux Packet.CLIENT_REQUEST
1336844908926: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844908927: inside handleClientRequest. Originator leader of region 5
1336844908927: got new request, requestCounter = 5013023
1336844908927: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844908938: Sending to region: 3
1336844908939: Sending PROC_REQUEST 11:2 (5,0)->(3,0)
1336844908940: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(3,0)
1336844908954: mux: I got a CSM packet at a leader 

1336844908941: Note down new request by adding requestCounter=5013023 to HashMap processedRequests
1336844908941: Make FirstLeg Ack regardless of new or already-processed requests
1336844908941: The leader sending a First Leg ack to originator client (which id = 5013)
1336844908942: inside sendPacket(Packet p)
1336844908956: Sending UDP payload: 1006
1336844908962: forwarding disabled, not forwarding packets
1336844908963: Sending UDP payload: 446
1336844909054: Received UDP payload: 3734
1336844909062: mux: GOT CSM_Msg
1336844909062: Received PROC_REPLY 11:2 (3,0)->(5,0), handing to UserApp
1336844909063: inside handleDSMReply. Now back in originator leader of region 5
1336844909063: DSM layer: Going to and from remote region took latency = 124
1336844909063: DSM layer: orig leader sent packet at 1336844908939 ~ received reply from remote leader at 1336844909063
1336844909064: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844909064: leader client reply has replyCounter: 501302300
1336844909064: reply packet contains the newest photo/success info from the remote region
1336844909064: inside sendReplies of replyCount = 501302300
1336844909068: =======================
1336844909069: inside sendReplyRepeatingRunnable for replyCount = 501302300
1336844909069: Leader about to send REPLY packet, number: 501302300 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844909069: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844909069: inside sendPacket(Packet p)
1336844909069: === Finished one round of sending REPLY Packet =======
1336844909073: Sending UDP payload: 3387
1336844909130: Received UDP payload: 446
1336844909136: mux: Inside mux Packet.CLIENT_REQUEST
1336844909136: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844909136: inside handleClientRequest. Originator leader of region 5
1336844909136: got new request, requestCounter = 5013024
1336844909136: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501302300
1336844909137: Yay the last leg succeeded. Removing reply runnables ...
1336844909137: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501302300
1336844909137: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501302300
1336844909137: do not send ack for received final_leg_ack
1336844909835: canPressButton = TRUE
1336844909836: areButtonsEnabled --> false 
1336844909837: get picture disableButtonsR
1336844909837: areButtonsEnabled --> false
1336844909863: one more getNum: 10
1336844909864: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=9 getBad=0 getTimedout=0 getPercent=90%
1336844909864: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336844909865: change local requestCounter to 23
1336844909869: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008023 Client in region: 5 Client nodID: 5008
1336844909900: ----------------------------
1336844909900: inside sendRequestPacketRepeatingRunnable for requestCount = 5008023
1336844909900: I'm a leader, my requesting photos packet going to mux directly
1336844909912: --- Finished one round of sending REQUEST Packet ---------
1336844909900: mux: Inside mux Packet.CLIENT_REQUEST
1336844909901: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844909956: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844909901: inside handleClientRequest. Originator leader of region 5
1336844909901: got new request, requestCounter = 5008023
1336844909901: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844909905: Sending to region: 3
1336844909905: Sending PROC_REQUEST 11:3 (5,0)->(3,0)
1336844909906: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(3,0)
1336844909906: mux: I got a CSM packet at a leader 

1336844909906: Note down new request by adding requestCounter=5008023 to HashMap processedRequests
1336844909906: Make FirstLeg Ack regardless of new or already-processed requests
1336844909906: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844909912: Sending UDP payload: 1006
1336844909922: forwarding disabled, not forwarding packets
1336844910010: Received UDP payload: 3734
1336844910017: mux: GOT CSM_Msg
1336844910017: Received PROC_REPLY 11:3 (3,0)->(5,0), handing to UserApp
1336844910017: inside handleDSMReply. Now back in originator leader of region 5
1336844910017: DSM layer: Going to and from remote region took latency = 112
1336844910017: DSM layer: orig leader sent packet at 1336844909905 ~ received reply from remote leader at 1336844910017
1336844910018: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844910018: leader client reply has replyCounter: 500802300
1336844910018: reply packet contains the newest photo/success info from the remote region
1336844910019: inside sendReplies of replyCount = 500802300
1336844910021: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844910021: disabling progressdialog due to successful new photo get
1336844910021: Inside _enableButtons
1336844910022: areButtonsEnabled --> true
1336844910022: send final leg ack regardless of new or already-processed reply
1336844910023: inside finalLegAck: change requestCounter to 24
1336844910023: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008024 Client in region: (5,0) Client nodID: 5008
1336844910023: I'm a leader client, my final_leg packet going to mux directly
1336844910027: new client_show_remotephoto reply with replyCounter 500802300
1336844910027: note down new reply by adding replyCounter=500802300 to HashMap processedReplies
1336844910027: leader download remote photo latency = 121
1336844910027: = leader download start 1336844909900 ~ stop 1336844910021
1336844910029: one more getGood: 10
1336844910030: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=10 getBad=0 getTimedout=0 getPercent=100%
1336844910030: adding get latency: 121
1336844910030: Success! Client getting photo from remote region, showing photo...
1336844910031: Remote photo's length: 2706
1336844910019: =======================
1336844910019: inside sendReplyRepeatingRunnable for replyCount = 500802300
1336844910019: Leader about to send REPLY packet, number: 500802300 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844910019: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844910019: === Finished one round of sending REPLY Packet =======
1336844910026: mux: Inside mux Packet.CLIENT_REQUEST
1336844910026: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844910026: inside handleClientRequest. Originator leader of region 5
1336844910026: got new request, requestCounter = 5008024
1336844910026: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500802300
1336844910026: Yay the last leg succeeded. Removing reply runnables ...
1336844910026: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500802300
1336844910026: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500802300
1336844910026: do not send ack for received final_leg_ack
1336844910646: Received UDP payload: 446
1336844911434: Received UDP payload: 446
1336844912616: Received UDP payload: 446
1336844912813: Received UDP payload: 1006
1336844912823: mux: GOT CSM_Msg
1336844912823: forwarding disabled, not forwarding packets
1336844912827: inside sendPacket(Packet p)
1336844912835: Sending UDP payload: 446
1336844912922: Received UDP payload: 3734
1336844912924: mux: GOT CSM_Msg
1336844912924: forwarding disabled, not forwarding packets
1336844913582: Received UDP payload: 446
1336844914025: Received UDP payload: 642
1336844914030: mux: Inside mux Packet.CLIENT_REQUEST
1336844914121: Received UDP payload: 1006
1336844914129: mux: GOT CSM_Msg
1336844914129: forwarding disabled, not forwarding packets
1336844914134: Received UDP payload: 446
1336844914139: mux: Inside Packet.SERVER_REPLY
1336844914140: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844914174: Received UDP payload: 3734
1336844914182: mux: GOT CSM_Msg
1336844914183: forwarding disabled, not forwarding packets
1336844914219: Received UDP payload: 3387
1336844914221: mux: Inside Packet.SERVER_REPLY
1336844914221: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844914234: Received UDP payload: 446
1336844914236: mux: Inside mux Packet.CLIENT_REQUEST
1336844915591: Received UDP payload: 446
1336844915651: Received UDP payload: 446
1336844916441: Received UDP payload: 446
1336844917639: Received UDP payload: 446
1336844917829: inside sendPacket(Packet p)
1336844917840: Sending UDP payload: 446
1336844918626: Received UDP payload: 446
1336844920581: Received UDP payload: 446
1336844920662: Received UDP payload: 446
1336844921463: Received UDP payload: 446
1336844922630: Received UDP payload: 446
1336844922759: Received UDP payload: 642
1336844922764: mux: Inside mux Packet.CLIENT_REQUEST
1336844922807: Received UDP payload: 1006
1336844922815: mux: GOT CSM_Msg
1336844922816: forwarding disabled, not forwarding packets
1336844922817: Received UDP payload: 446
1336844922820: mux: Inside Packet.SERVER_REPLY
1336844922820: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844922829: inside sendPacket(Packet p)
1336844922832: Sending UDP payload: 446
1336844922885: Received UDP payload: 3813
1336844922887: mux: GOT CSM_Msg
1336844922887: forwarding disabled, not forwarding packets
1336844922937: Received UDP payload: 3466
1336844922938: mux: Inside Packet.SERVER_REPLY
1336844922938: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844922952: Received UDP payload: 446
1336844922953: mux: Inside mux Packet.CLIENT_REQUEST
1336844923606: Received UDP payload: 446
1336844923884: Received UDP payload: 642
1336844923888: mux: Inside mux Packet.CLIENT_REQUEST
1336844923952: Received UDP payload: 1006
1336844923960: mux: GOT CSM_Msg
1336844923960: forwarding disabled, not forwarding packets
1336844923961: Received UDP payload: 446
1336844923965: mux: Inside Packet.SERVER_REPLY
1336844923965: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844924040: Received UDP payload: 3813
1336844924042: mux: GOT CSM_Msg
1336844924042: forwarding disabled, not forwarding packets
1336844924680: Received UDP payload: 1006
1336844924687: mux: GOT CSM_Msg
1336844924687: forwarding disabled, not forwarding packets
1336844924755: Received UDP payload: 3813
1336844924761: mux: GOT CSM_Msg
1336844924762: forwarding disabled, not forwarding packets
1336844924772: Received UDP payload: 1006
1336844924783: mux: GOT CSM_Msg
1336844924783: forwarding disabled, not forwarding packets
1336844924824: Received UDP payload: 3813
1336844924830: mux: GOT CSM_Msg
1336844924830: forwarding disabled, not forwarding packets
1336844924857: Received UDP payload: 446
1336844924858: mux: Inside mux Packet.CLIENT_REQUEST
1336844924872: Received UDP payload: 1006
1336844924874: mux: GOT CSM_Msg
1336844924874: forwarding disabled, not forwarding packets
1336844924920: Received UDP payload: 3813
1336844924921: mux: GOT CSM_Msg
1336844924922: forwarding disabled, not forwarding packets
1336844925608: Received UDP payload: 446
1336844925664: Received UDP payload: 446
1336844926500: Received UDP payload: 446
1336844927645: Received UDP payload: 446
1336844927831: inside sendPacket(Packet p)
1336844927834: Sending UDP payload: 446
1336844928649: Received UDP payload: 446
1336844930593: Received UDP payload: 446
1336844930665: Received UDP payload: 446
1336844931475: Received UDP payload: 446
1336844932653: Received UDP payload: 1006
1336844932662: mux: GOT CSM_Msg
1336844932663: forwarding disabled, not forwarding packets
1336844932673: Received UDP payload: 446
1336844932739: Received UDP payload: 3813
1336844932741: mux: GOT CSM_Msg
1336844932741: forwarding disabled, not forwarding packets
1336844932831: inside sendPacket(Packet p)
1336844932833: Sending UDP payload: 446
1336844933635: Received UDP payload: 446
1336844934393: Received UDP payload: 1006
1336844934400: mux: GOT CSM_Msg
1336844934400: forwarding disabled, not forwarding packets
1336844934477: Received UDP payload: 3813
1336844934479: mux: GOT CSM_Msg
1336844934479: forwarding disabled, not forwarding packets
1336844935597: Received UDP payload: 446
1336844935668: Received UDP payload: 446
1336844936478: Received UDP payload: 446
1336844937680: Received UDP payload: 446
1336844937831: inside sendPacket(Packet p)
1336844937834: Sending UDP payload: 446
1336844938645: Received UDP payload: 446
1336844939352: Received UDP payload: 1006
1336844939359: mux: GOT CSM_Msg
1336844939360: forwarding disabled, not forwarding packets
1336844939428: Received UDP payload: 3813
1336844939437: mux: GOT CSM_Msg
1336844939437: forwarding disabled, not forwarding packets
1336844940481: Received UDP payload: 642
1336844940483: mux: Inside mux Packet.CLIENT_REQUEST
1336844940552: Received UDP payload: 1006
1336844940554: mux: GOT CSM_Msg
1336844940554: forwarding disabled, not forwarding packets
1336844940566: Received UDP payload: 446
1336844940567: mux: Inside Packet.SERVER_REPLY
1336844940567: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844940604: Received UDP payload: 3813
1336844940606: mux: GOT CSM_Msg
1336844940606: forwarding disabled, not forwarding packets
1336844940613: Received UDP payload: 446
1336844940656: Received UDP payload: 3466
1336844940660: mux: Inside Packet.SERVER_REPLY
1336844940661: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844940665: Received UDP payload: 446
1336844940670: Received UDP payload: 446
1336844940684: mux: Inside mux Packet.CLIENT_REQUEST
1336844941135: Received UDP payload: 642
1336844941139: mux: Inside mux Packet.CLIENT_REQUEST
1336844941139: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844941140: inside handleClientRequest. Originator leader of region 5
1336844941140: got new request, requestCounter = 5013025
1336844941141: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844941143: Sending to region: 4
1336844941144: Sending PROC_REQUEST 11:2 (5,0)->(4,0)
1336844941145: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(4,0)
1336844941147: mux: I got a CSM packet at a leader 

1336844941145: Note down new request by adding requestCounter=5013025 to HashMap processedRequests
1336844941145: Make FirstLeg Ack regardless of new or already-processed requests
1336844941146: The leader sending a First Leg ack to originator client (which id = 5013)
1336844941146: inside sendPacket(Packet p)
1336844941158: Sending UDP payload: 1006
1336844941163: forwarding disabled, not forwarding packets
1336844941166: Sending UDP payload: 446
1336844941333: Received UDP payload: 3813
1336844941355: mux: GOT CSM_Msg
1336844941357: Received PROC_REPLY 11:2 (4,0)->(5,0), handing to UserApp
1336844941357: inside handleDSMReply. Now back in originator leader of region 5
1336844941357: DSM layer: Going to and from remote region took latency = 214
1336844941358: DSM layer: orig leader sent packet at 1336844941143 ~ received reply from remote leader at 1336844941357
1336844941360: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844941361: leader client reply has replyCounter: 501302500
1336844941361: reply packet contains the newest photo/success info from the remote region
1336844941361: inside sendReplies of replyCount = 501302500
1336844941362: =======================
1336844941362: inside sendReplyRepeatingRunnable for replyCount = 501302500
1336844941363: Leader about to send REPLY packet, number: 501302500 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844941363: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844941363: inside sendPacket(Packet p)
1336844941364: === Finished one round of sending REPLY Packet =======
1336844941375: Sending UDP payload: 3466
1336844941449: Received UDP payload: 446
1336844941450: mux: Inside mux Packet.CLIENT_REQUEST
1336844941450: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844941451: inside handleClientRequest. Originator leader of region 5
1336844941451: got new request, requestCounter = 5013026
1336844941451: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501302500
1336844941451: Yay the last leg succeeded. Removing reply runnables ...
1336844941451: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501302500
1336844941451: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501302500
1336844941451: do not send ack for received final_leg_ack
1336844941477: Received UDP payload: 446
1336844941979: canPressButton = TRUE
1336844941979: areButtonsEnabled --> false 
1336844941979: get picture disableButtonsR
1336844941979: areButtonsEnabled --> false
1336844942033: one more getNum: 11
1336844942035: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=10 getBad=0 getTimedout=0 getPercent=90%
1336844942036: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336844942037: change local requestCounter to 25
1336844942051: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008025 Client in region: 5 Client nodID: 5008
1336844942152: ----------------------------
1336844942157: inside sendRequestPacketRepeatingRunnable for requestCount = 5008025
1336844942158: I'm a leader, my requesting photos packet going to mux directly
1336844942172: --- Finished one round of sending REQUEST Packet ---------
1336844942159: mux: Inside mux Packet.CLIENT_REQUEST
1336844942159: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844942354: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844942159: inside handleClientRequest. Originator leader of region 5
1336844942160: got new request, requestCounter = 5008025
1336844942160: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844942170: Sending to region: 4
1336844942171: Sending PROC_REQUEST 11:3 (5,0)->(4,0)
1336844942187: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(4,0)
1336844942189: mux: I got a CSM packet at a leader 

1336844942188: Note down new request by adding requestCounter=5008025 to HashMap processedRequests
1336844942188: Make FirstLeg Ack regardless of new or already-processed requests
1336844942188: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844942283: Sending UDP payload: 1006
1336844942287: forwarding disabled, not forwarding packets
1336844942374: Received UDP payload: 3813
1336844942399: mux: GOT CSM_Msg
1336844942512: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844942512: disabling progressdialog due to successful new photo get
1336844942513: Inside _enableButtons
1336844942513: areButtonsEnabled --> true
1336844942513: send final leg ack regardless of new or already-processed reply
1336844942513: inside finalLegAck: change requestCounter to 26
1336844942515: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008026 Client in region: (5,0) Client nodID: 5008
1336844942515: I'm a leader client, my final_leg packet going to mux directly
1336844942517: new client_show_remotephoto reply with replyCounter 500802500
1336844942517: note down new reply by adding replyCounter=500802500 to HashMap processedReplies
1336844942517: leader download remote photo latency = 353
1336844942518: = leader download start 1336844942159 ~ stop 1336844942512
1336844942519: one more getGood: 11
1336844942520: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=11 getBad=0 getTimedout=0 getPercent=100%
1336844942520: adding get latency: 353
1336844942521: Success! Client getting photo from remote region, showing photo...
1336844942521: Remote photo's length: 2785
1336844942400: Received PROC_REPLY 11:3 (4,0)->(5,0), handing to UserApp
1336844942401: inside handleDSMReply. Now back in originator leader of region 5
1336844942401: DSM layer: Going to and from remote region took latency = 231
1336844942402: DSM layer: orig leader sent packet at 1336844942170 ~ received reply from remote leader at 1336844942401
1336844942404: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844942404: leader client reply has replyCounter: 500802500
1336844942405: reply packet contains the newest photo/success info from the remote region
1336844942405: inside sendReplies of replyCount = 500802500
1336844942406: =======================
1336844942406: inside sendReplyRepeatingRunnable for replyCount = 500802500
1336844942407: Leader about to send REPLY packet, number: 500802500 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844942408: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844942409: === Finished one round of sending REPLY Packet =======
1336844942516: mux: Inside mux Packet.CLIENT_REQUEST
1336844942516: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844942516: inside handleClientRequest. Originator leader of region 5
1336844942516: got new request, requestCounter = 5008026
1336844942516: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500802500
1336844942516: Yay the last leg succeeded. Removing reply runnables ...
1336844942516: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500802500
1336844942516: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500802500
1336844942516: do not send ack for received final_leg_ack
1336844942678: Received UDP payload: 446
1336844942831: inside sendPacket(Packet p)
1336844942835: Sending UDP payload: 446
1336844943646: Received UDP payload: 446
1336844945594: Received UDP payload: 446
1336844945689: Received UDP payload: 446
1336844946496: Received UDP payload: 446
1336844947728: Received UDP payload: 446
1336844947831: inside sendPacket(Packet p)
1336844947843: Sending UDP payload: 446
1336844948700: Received UDP payload: 446
1336844950595: Received UDP payload: 446
1336844950683: Received UDP payload: 446
1336844951493: Received UDP payload: 446
1336844952713: Received UDP payload: 446
1336844952727: Received UDP payload: 642
1336844952734: mux: Inside mux Packet.CLIENT_REQUEST
1336844952789: Received UDP payload: 1006
1336844952792: mux: GOT CSM_Msg
1336844952792: removed replies before id 2 from sentReplies of size 0
1336844952792: inside handleDSMRequest. At requests's remote leader of region 5
1336844952794: INSIDE SERVER_GET_PHOTO!!!
1336844952798: Received PROC_REQUEST 11:2 (0,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(0,0)
1336844952798: Dispatching Atom PROC_REPLY 11:2 (5,0)->(0,0)
1336844952798: mux: I got a CSM packet at a leader 

1336844952800: Sending UDP payload: 3734
1336844952808: Received UDP payload: 446
1336844952809: mux: Inside Packet.SERVER_REPLY
1336844952809: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844952809: forwarding disabled, not forwarding packets
1336844952849: inside sendPacket(Packet p)
1336844952850: Sending UDP payload: 446
1336844952889: Received UDP payload: 3387
1336844952891: mux: Inside Packet.SERVER_REPLY
1336844952891: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844952925: Received UDP payload: 446
1336844952927: mux: Inside mux Packet.CLIENT_REQUEST
1336844953645: Received UDP payload: 446
1336844953915: Received UDP payload: 1006
1336844953925: mux: GOT CSM_Msg
1336844953926: removed replies before id 3 from sentReplies of size 0
1336844953927: inside handleDSMRequest. At requests's remote leader of region 5
1336844953929: INSIDE SERVER_GET_PHOTO!!!
1336844953935: Received PROC_REQUEST 11:3 (0,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(0,0)
1336844953936: Dispatching Atom PROC_REPLY 11:3 (5,0)->(0,0)
1336844953937: mux: I got a CSM packet at a leader 

1336844953944: Sending UDP payload: 3734
1336844953945: forwarding disabled, not forwarding packets
1336844955600: Received UDP payload: 446
1336844955704: Received UDP payload: 446
1336844956506: Received UDP payload: 446
1336844957594: Received UDP payload: 1006
1336844957601: mux: GOT CSM_Msg
1336844957602: removed replies before id 2 from sentReplies of size 0
1336844957602: inside handleDSMRequest. At requests's remote leader of region 5
1336844957604: INSIDE SERVER_GET_PHOTO!!!
1336844957618: Received PROC_REQUEST 11:2 (1,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(1,0)
1336844957619: Dispatching Atom PROC_REPLY 11:2 (5,0)->(1,0)
1336844957620: mux: I got a CSM packet at a leader 

1336844957631: Sending UDP payload: 3734
1336844957634: forwarding disabled, not forwarding packets
1336844957722: Received UDP payload: 446
1336844957851: inside sendPacket(Packet p)
1336844957853: Sending UDP payload: 446
1336844958665: Received UDP payload: 642
1336844958670: mux: Inside mux Packet.CLIENT_REQUEST
1336844958678: Received UDP payload: 446
1336844958699: Received UDP payload: 1006
1336844958708: mux: GOT CSM_Msg
1336844958709: removed replies before id 3 from sentReplies of size 0
1336844958709: inside handleDSMRequest. At requests's remote leader of region 5
1336844958711: INSIDE SERVER_GET_PHOTO!!!
1336844958716: Received PROC_REQUEST 11:3 (1,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(1,0)
1336844958717: Dispatching Atom PROC_REPLY 11:3 (5,0)->(1,0)
1336844958718: mux: I got a CSM packet at a leader 

1336844958721: Sending UDP payload: 3734
1336844958734: Received UDP payload: 446
1336844958737: mux: Inside Packet.SERVER_REPLY
1336844958737: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844958736: forwarding disabled, not forwarding packets
1336844958831: Received UDP payload: 3387
1336844958833: mux: Inside Packet.SERVER_REPLY
1336844958833: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844958867: Received UDP payload: 446
1336844958868: mux: Inside mux Packet.CLIENT_REQUEST
1336844960604: Received UDP payload: 446
1336844960708: Received UDP payload: 446
1336844961512: Received UDP payload: 446
1336844962350: Received UDP payload: 1006
1336844962359: mux: GOT CSM_Msg
1336844962360: removed replies before id 1 from sentReplies of size 0
1336844962360: inside handleDSMRequest. At requests's remote leader of region 5
1336844962370: INSIDE SERVER_GET_PHOTO!!!
1336844962375: Received PROC_REQUEST 11:1 (2,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(2,0)
1336844962377: Dispatching Atom PROC_REPLY 11:1 (5,0)->(2,0)
1336844962377: mux: I got a CSM packet at a leader 

1336844962381: Sending UDP payload: 3734
1336844962395: forwarding disabled, not forwarding packets
1336844962718: Received UDP payload: 446
1336844962852: inside sendPacket(Packet p)
1336844962853: Sending UDP payload: 446
1336844963549: Received UDP payload: 1006
1336844963556: mux: GOT CSM_Msg
1336844963556: removed replies before id 1 from sentReplies of size 0
1336844963557: inside handleDSMRequest. At requests's remote leader of region 5
1336844963559: INSIDE SERVER_GET_PHOTO!!!
1336844963574: Received PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1336844963575: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1336844963575: mux: I got a CSM packet at a leader 

1336844963580: Sending UDP payload: 3734
1336844963594: forwarding disabled, not forwarding packets
1336844963670: Received UDP payload: 446
1336844965621: Received UDP payload: 446
1336844965721: Received UDP payload: 446
1336844966515: Received UDP payload: 446
1336844967734: Received UDP payload: 446
1336844967853: inside sendPacket(Packet p)
1336844967856: Sending UDP payload: 446
1336844968671: Received UDP payload: 446
1336844970323: Received UDP payload: 1006
1336844970330: mux: GOT CSM_Msg
1336844970331: removed replies before id 2 from sentReplies of size 0
1336844970331: inside handleDSMRequest. At requests's remote leader of region 5
1336844970333: INSIDE SERVER_GET_PHOTO!!!
1336844970338: Received PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1336844970339: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1336844970340: mux: I got a CSM packet at a leader 

1336844970364: Sending UDP payload: 3734
1336844970367: forwarding disabled, not forwarding packets
1336844970627: Received UDP payload: 446
1336844971457: Received UDP payload: 642
1336844971462: mux: Inside mux Packet.CLIENT_REQUEST
1336844971535: Received UDP payload: 1006
1336844971542: mux: GOT CSM_Msg
1336844971543: removed replies before id 3 from sentReplies of size 0
1336844971543: inside handleDSMRequest. At requests's remote leader of region 5
1336844971545: INSIDE SERVER_GET_PHOTO!!!
1336844971549: Received PROC_REQUEST 11:3 (4,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(4,0)
1336844971550: Dispatching Atom PROC_REPLY 11:3 (5,0)->(4,0)
1336844971551: mux: I got a CSM packet at a leader 

1336844971563: Received UDP payload: 446
1336844971566: Sending UDP payload: 3734
1336844971577: mux: Inside Packet.SERVER_REPLY
1336844971578: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844971577: forwarding disabled, not forwarding packets
1336844971661: Received UDP payload: 3387
1336844971664: mux: Inside Packet.SERVER_REPLY
1336844971664: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336844971679: Received UDP payload: 446
1336844971681: mux: Inside mux Packet.CLIENT_REQUEST
1336844972218: Received UDP payload: 642
1336844972240: mux: Inside mux Packet.CLIENT_REQUEST
1336844972241: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844972241: inside handleClientRequest. Originator leader of region 5
1336844972242: got new request, requestCounter = 5013027
1336844972242: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844972244: Sending to region: 5
1336844972245: Sending PROC_REQUEST 11:6 (5,0)->(5,0)
1336844972246: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(5,0)
1336844972250: mux: I got a CSM packet at a leader 

1336844972248: Note down new request by adding requestCounter=5013027 to HashMap processedRequests
1336844972249: Make FirstLeg Ack regardless of new or already-processed requests
1336844972249: The leader sending a First Leg ack to originator client (which id = 5013)
1336844972249: inside sendPacket(Packet p)
1336844972271: Sending UDP payload: 1006
1336844972284: removed replies before id 6 from sentReplies of size 0
1336844972285: inside handleDSMRequest. At requests's remote leader of region 5
1336844972287: INSIDE SERVER_GET_PHOTO!!!
1336844972289: dst_region == src_region = 5
1336844972289:  1 self to self atomRequest
1336844972303: Received PROC_REQUEST 11:6 (5,0)->(5,0), replying PROC_REPLY 11:6 (5,0)->(5,0)
1336844972325: Dispatching Atom PROC_REPLY 11:6 (5,0)->(5,0)
1336844972330: mux: I got a CSM packet at a leader 

1336844972326: Sending UDP payload: 446
1336844972331: Sending UDP payload: 3734
1336844972333: Received PROC_REPLY 11:6 (5,0)->(5,0), handing to UserApp
1336844972334: inside handleDSMReply. Now back in originator leader of region 5
1336844972334: DSM layer: Going to and from remote region took latency = 90
1336844972334: DSM layer: orig leader sent packet at 1336844972244 ~ received reply from remote leader at 1336844972334
1336844972334: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844972335: leader client reply has replyCounter: 501302700
1336844972335: reply packet contains the newest photo/success info from the remote region
1336844972335: inside sendReplies of replyCount = 501302700
1336844972335: =======================
1336844972335: inside sendReplyRepeatingRunnable for replyCount = 501302700
1336844972335: Leader about to send REPLY packet, number: 501302700 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336844972335: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336844972335: inside sendPacket(Packet p)
1336844972335: === Finished one round of sending REPLY Packet =======
1336844972351: Sending UDP payload: 3387
1336844972430: Received UDP payload: 446
1336844972433: mux: Inside mux Packet.CLIENT_REQUEST
1336844972433: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844972434: inside handleClientRequest. Originator leader of region 5
1336844972434: got new request, requestCounter = 5013028
1336844972434: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501302700
1336844972434: Yay the last leg succeeded. Removing reply runnables ...
1336844972434: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501302700
1336844972434: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501302700
1336844972434: do not send ack for received final_leg_ack
1336844972732: Received UDP payload: 446
1336844972854: inside sendPacket(Packet p)
1336844972858: Sending UDP payload: 446
1336844973091: canPressButton = TRUE
1336844973091: areButtonsEnabled --> false 
1336844973092: get picture disableButtonsR
1336844973094: areButtonsEnabled --> false
1336844973122: one more getNum: 12
1336844973126: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=11 getBad=0 getTimedout=0 getPercent=91%
1336844973126: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336844973127: change local requestCounter to 27
1336844973133: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008027 Client in region: 5 Client nodID: 5008
1336844973168: ----------------------------
1336844973169: inside sendRequestPacketRepeatingRunnable for requestCount = 5008027
1336844973169: I'm a leader, my requesting photos packet going to mux directly
1336844973181: --- Finished one round of sending REQUEST Packet ---------
1336844973169: mux: Inside mux Packet.CLIENT_REQUEST
1336844973169: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844973228: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844973169: inside handleClientRequest. Originator leader of region 5
1336844973169: got new request, requestCounter = 5008027
1336844973169: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844973177: Sending to region: 5
1336844973177: Sending PROC_REQUEST 11:7 (5,0)->(5,0)
1336844973177: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(5,0)
1336844973178: mux: I got a CSM packet at a leader 

1336844973178: Note down new request by adding requestCounter=5008027 to HashMap processedRequests
1336844973178: Make FirstLeg Ack regardless of new or already-processed requests
1336844973178: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336844973181: Sending UDP payload: 1006
1336844973195: removed replies before id 7 from sentReplies of size 0
1336844973196: inside handleDSMRequest. At requests's remote leader of region 5
1336844973196: INSIDE SERVER_GET_PHOTO!!!
1336844973199: dst_region == src_region = 5
1336844973199:  1 self to self atomRequest
1336844973209: Received PROC_REQUEST 11:7 (5,0)->(5,0), replying PROC_REPLY 11:7 (5,0)->(5,0)
1336844973209: Dispatching Atom PROC_REPLY 11:7 (5,0)->(5,0)
1336844973209: mux: I got a CSM packet at a leader 

1336844973234: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844973235: disabling progressdialog due to successful new photo get
1336844973235: Inside _enableButtons
1336844973235: areButtonsEnabled --> true
1336844973235: send final leg ack regardless of new or already-processed reply
1336844973235: inside finalLegAck: change requestCounter to 28
1336844973236: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008028 Client in region: (5,0) Client nodID: 5008
1336844973236: I'm a leader client, my final_leg packet going to mux directly
1336844973240: new client_show_remotephoto reply with replyCounter 500802700
1336844973240: note down new reply by adding replyCounter=500802700 to HashMap processedReplies
1336844973241: leader download remote photo latency = 65
1336844973241: = leader download start 1336844973169 ~ stop 1336844973234
1336844973243: one more getGood: 12
1336844973243: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336844973244: adding get latency: 65
1336844973244: Success! Client getting photo from remote region, showing photo...
1336844973244: Remote photo's length: 2706
1336844973210: Sending UDP payload: 3734
1336844973217: Received PROC_REPLY 11:7 (5,0)->(5,0), handing to UserApp
1336844973218: inside handleDSMReply. Now back in originator leader of region 5
1336844973218: DSM layer: Going to and from remote region took latency = 41
1336844973218: DSM layer: orig leader sent packet at 1336844973177 ~ received reply from remote leader at 1336844973218
1336844973219: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844973219: leader client reply has replyCounter: 500802700
1336844973219: reply packet contains the newest photo/success info from the remote region
1336844973219: inside sendReplies of replyCount = 500802700
1336844973219: =======================
1336844973219: inside sendReplyRepeatingRunnable for replyCount = 500802700
1336844973219: Leader about to send REPLY packet, number: 500802700 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336844973220: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336844973220: === Finished one round of sending REPLY Packet =======
1336844973236: mux: Inside mux Packet.CLIENT_REQUEST
1336844973236: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844973236: inside handleClientRequest. Originator leader of region 5
1336844973236: got new request, requestCounter = 5008028
1336844973237: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500802700
1336844973237: Yay the last leg succeeded. Removing reply runnables ...
1336844973237: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500802700
1336844973237: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500802700
1336844973239: do not send ack for received final_leg_ack
1336844973519: Received UDP payload: 446
1336844975596: Received UDP payload: 446
1336844975645: Received UDP payload: 446
1336844975743: Received UDP payload: 446
1336844977773: Received UDP payload: 446
1336844977854: inside sendPacket(Packet p)
1336844977865: Sending UDP payload: 446
1336844978572: Received UDP payload: 446
1336844980628: Received UDP payload: 446
1336844980661: Received UDP payload: 446
1336844980748: Received UDP payload: 446
1336844982761: Received UDP payload: 446
1336844982869: inside sendPacket(Packet p)
1336844982873: Sending UDP payload: 446
1336844983539: Received UDP payload: 446
1336844985595: Received UDP payload: 446
1336844985647: Received UDP payload: 446
1336844985801: Received UDP payload: 446
1336844987786: Received UDP payload: 446
1336844987871: inside sendPacket(Packet p)
1336844987874: Sending UDP payload: 446
1336844988558: Received UDP payload: 446
1336844990608: Received UDP payload: 446
1336844990642: Received UDP payload: 446
1336844992789: Received UDP payload: 446
1336844992806: Received UDP payload: 446
1336844992871: inside sendPacket(Packet p)
1336844992875: Sending UDP payload: 446
1336844993578: Received UDP payload: 446
1336844995606: Received UDP payload: 446
1336844995643: Received UDP payload: 446
1336844997793: Received UDP payload: 446
1336844997825: Received UDP payload: 446
1336844997873: inside sendPacket(Packet p)
1336844997876: Sending UDP payload: 446
1336844998589: Received UDP payload: 446
1336845000612: Received UDP payload: 446
1336845000642: Received UDP payload: 446
1336845002798: Received UDP payload: 446
1336845002873: inside sendPacket(Packet p)
1336845002876: Sending UDP payload: 446
1336845002893: Received UDP payload: 446
1336845003649: Received UDP payload: 446
1336845004291: Received UDP payload: 3516
1336845004298: mux: Inside mux Packet.CLIENT_REQUEST
1336845004369: Received UDP payload: 3401
1336845004374: mux: Inside mux Packet.CLIENT_REQUEST
1336845004418: Received UDP payload: 3765
1336845004426: mux: GOT CSM_Msg
1336845004426: forwarding disabled, not forwarding packets
1336845004426: Received UDP payload: 446
1336845004427: mux: Inside Packet.SERVER_REPLY
1336845004428: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845004438: Received UDP payload: 1006
1336845004440: mux: GOT CSM_Msg
1336845004440: forwarding disabled, not forwarding packets
1336845004466: Received UDP payload: 659
1336845004467: mux: Inside Packet.SERVER_REPLY
1336845004467: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845004489: Received UDP payload: 446
1336845004490: mux: Inside mux Packet.CLIENT_REQUEST
1336845004501: Received UDP payload: 3880
1336845004504: mux: GOT CSM_Msg
1336845004504: forwarding disabled, not forwarding packets
1336845004508: Received UDP payload: 446
1336845004509: mux: Inside Packet.SERVER_REPLY
1336845004509: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845004539: Received UDP payload: 1006
1336845004541: mux: GOT CSM_Msg
1336845004541: forwarding disabled, not forwarding packets
1336845004742: Received UDP payload: 659
1336845004744: mux: Inside Packet.SERVER_REPLY
1336845004744: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845004766: Received UDP payload: 446
1336845004767: mux: Inside mux Packet.CLIENT_REQUEST
1336845004774: Received UDP payload: 3734
1336845004776: mux: GOT CSM_Msg
1336845004776: forwarding disabled, not forwarding packets
1336845004788: Received UDP payload: 1006
1336845004790: mux: GOT CSM_Msg
1336845004790: forwarding disabled, not forwarding packets
1336845005524: Received UDP payload: 3814
1336845005530: mux: GOT CSM_Msg
1336845005531: forwarding disabled, not forwarding packets
1336845005543: Received UDP payload: 1006
1336845005563: mux: GOT CSM_Msg
1336845005564: forwarding disabled, not forwarding packets
1336845005600: Received UDP payload: 446
1336845005646: Received UDP payload: 446
1336845007875: inside sendPacket(Packet p)
1336845007878: Sending UDP payload: 446
1336845007910: Received UDP payload: 446
1336845008657: Received UDP payload: 446
1336845009585: Received UDP payload: 446
1336845010600: Received UDP payload: 446
1336845010684: Received UDP payload: 446
1336845011126: Received UDP payload: 3734
1336845011134: mux: GOT CSM_Msg
1336845011134: forwarding disabled, not forwarding packets
1336845011153: Received UDP payload: 1006
1336845011160: mux: GOT CSM_Msg
1336845011161: forwarding disabled, not forwarding packets
1336845012816: Received UDP payload: 446
1336845012877: inside sendPacket(Packet p)
1336845012880: Sending UDP payload: 446
1336845013598: Received UDP payload: 446
1336845013819: Received UDP payload: 3826
1336845013829: mux: GOT CSM_Msg
1336845013829: forwarding disabled, not forwarding packets
1336845013847: Received UDP payload: 1006
1336845013854: mux: GOT CSM_Msg
1336845013855: forwarding disabled, not forwarding packets
1336845014583: Received UDP payload: 446
1336845015609: Received UDP payload: 446
1336845015650: Received UDP payload: 446
1336845015861: canPressButton = TRUE
1336845015861: areButtonsEnabled --> false
1336845015862: disabling buttons ...
1336845015862: took picture disableButtonsR
1336845015862: areButtonsEnabled --> false
1336845015888: one more takeNum: 3
1336845015888: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336845015889: Clicked take picture button ..
1336845016869: Received UDP payload: 3370
1336845016870: mux: Inside mux Packet.CLIENT_REQUEST
1336845016871: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845016871: inside handleClientRequest. Originator leader of region 5
1336845016871: got new request, requestCounter = 5013029
1336845016871: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845016871: Sending PROC_REQUEST 10:8 (5,0)->(5,0)
1336845016872: Dispatching Atom PROC_REQUEST 10:8 (5,0)->(5,0)
1336845016881: mux: I got a CSM packet at a leader 

1336845016909: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845016910: I'm a leader and I successfully saved my client's new photo
1336845016910: now showing in UI the new photo I just saved ... 
1336845016910: the photo length: 2706
1336845017008: end of server show photo aside %%%%%%%%%
1336845016872: Note down new request by adding requestCounter=5013029 to HashMap processedRequests
1336845016881: Make FirstLeg Ack regardless of new or already-processed requests
1336845016881: The leader sending a First Leg ack to originator client (which id = 5013)
1336845016881: inside sendPacket(Packet p)
1336845016882: Sending UDP payload: 3734
1336845016884: removed replies before id 8 from sentReplies of size 0
1336845016886: inside handleDSMRequest. At requests's remote leader of region 5
1336845016887: Inside UPLOAD_PHOTO!!
1336845016888: my_gpinfo.isSuccess is now (should be true): true
1336845016888: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845016889: Received PROC_REQUEST 10:8 (5,0)->(5,0), replying PROC_REPLY 10:8 (5,0)->(5,0)
1336845016889: Dispatching Atom PROC_REPLY 10:8 (5,0)->(5,0)
1336845016900: mux: I got a CSM packet at a leader 

1336845016890: Sending UDP payload: 446
1336845016903: Sending UDP payload: 1006
1336845016993: Received PROC_REPLY 10:8 (5,0)->(5,0), handing to UserApp
1336845016993: inside handleDSMReply. Now back in originator leader of region 5
1336845016993: DSM layer: Going to and from remote region took latency = 122
1336845016993: DSM layer: orig leader sent packet at 1336845016871 ~ received reply from remote leader at 1336845016993
1336845016994: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845016994: leader client reply has replyCounter: 501302900
1336845016994: reply packet contains the success info for UPLOAD_PHOTO
1336845016994: inside sendReplies of replyCount = 501302900
1336845017047: inside HandlePictureStorage onPictureTaken()
1336845017049: one more takeCamGood: 3
1336845017050: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336845017539: Picture successfully taken, ORIG BYTE LENGTH = 757142
1336845017644: Our new height x width: 306 x 408
1336845017644: Show photo from handle my camera take
1336845017645: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336845017645: change local requestCounter to 29
1336845017661: BYTE SIZE AFTER COMPRESSION: 2706
1336845017667: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5008029 Client in region: 5 Client nodID: 5008
1336845016995: =======================
1336845016995: inside sendReplyRepeatingRunnable for replyCount = 501302900
1336845016995: Leader about to send REPLY packet, number: 501302900 type: 16 Leader in region: (5,0) to Client nodID: 5013
1336845016995: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845016995: inside sendPacket(Packet p)
1336845016996: === Finished one round of sending REPLY Packet =======
1336845017003: Sending UDP payload: 659
1336845017031: Received UDP payload: 446
1336845017032: mux: Inside mux Packet.CLIENT_REQUEST
1336845017032: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845017033: inside handleClientRequest. Originator leader of region 5
1336845017033: got new request, requestCounter = 5013030
1336845017033: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501302900
1336845017033: Yay the last leg succeeded. Removing reply runnables ...
1336845017033: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501302900
1336845017033: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501302900
1336845017033: do not send ack for received final_leg_ack
1336845017719: ----------------------------
1336845017719: inside sendRequestPacketRepeatingRunnable for requestCount = 5008029
1336845017720: I'm a leader, my requesting photos packet going to mux directly
1336845017731: --- Finished one round of sending REQUEST Packet ---------
1336845017720: mux: Inside mux Packet.CLIENT_REQUEST
1336845017720: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845017767: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845017720: inside handleClientRequest. Originator leader of region 5
1336845017721: got new request, requestCounter = 5008029
1336845017721: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845017722: Sending PROC_REQUEST 10:9 (5,0)->(5,0)
1336845017722: Dispatching Atom PROC_REQUEST 10:9 (5,0)->(5,0)
1336845017723: mux: I got a CSM packet at a leader 

1336845017767: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845017768: I'm a leader and I successfully saved my client's new photo
1336845017769: now showing in UI the new photo I just saved ... 
1336845017769: the photo length: 2706
1336845017812: end of server show photo aside %%%%%%%%%
1336845017723: Note down new request by adding requestCounter=5008029 to HashMap processedRequests
1336845017723: Make FirstLeg Ack regardless of new or already-processed requests
1336845017723: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845017744: Sending UDP payload: 3734
1336845017745: removed replies before id 9 from sentReplies of size 0
1336845017746: inside handleDSMRequest. At requests's remote leader of region 5
1336845017754: Inside UPLOAD_PHOTO!!
1336845017757: my_gpinfo.isSuccess is now (should be true): true
1336845017758: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845017759: Received PROC_REQUEST 10:9 (5,0)->(5,0), replying PROC_REPLY 10:9 (5,0)->(5,0)
1336845017759: Dispatching Atom PROC_REPLY 10:9 (5,0)->(5,0)
1336845017759: mux: I got a CSM packet at a leader 

1336845017760: Sending UDP payload: 1006
1336845017800: Received PROC_REPLY 10:9 (5,0)->(5,0), handing to UserApp
1336845017800: inside handleDSMReply. Now back in originator leader of region 5
1336845017800: DSM layer: Going to and from remote region took latency = 79
1336845017800: DSM layer: orig leader sent packet at 1336845017721 ~ received reply from remote leader at 1336845017800
1336845017801: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845017801: leader client reply has replyCounter: 500802900
1336845017801: reply packet contains the success info for UPLOAD_PHOTO
1336845017801: inside sendReplies of replyCount = 500802900
1336845017851: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336845017851: disabling progressdialog due to successful new photo upload
1336845017851: Inside _enableButtons
1336845017852: areButtonsEnabled --> true
1336845017852: send final leg ack regardless of new or already-processed reply
1336845017852: inside finalLegAck: change requestCounter to 30
1336845017853: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008030 Client in region: (5,0) Client nodID: 5008
1336845017853: I'm a leader client, my final_leg packet going to mux directly
1336845017854: new client_upload_photo_ack reply with replyCounter 500802900
1336845017854: note down new reply by adding replyCounter=500802900 to HashMap processedReplies
1336845017855: leader upload new photo latency = 131
1336845017855: = leader upload start 1336845017720 ~ stop 1336845017851
1336845017856: one more takeGoodSave: 3
1336845017856: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336845017857: adding take latency: 131
1336845017857: SUCCESS Client now knows saving photo on its leader succeeded
1336845017802: =======================
1336845017802: inside sendReplyRepeatingRunnable for replyCount = 500802900
1336845017802: Leader about to send REPLY packet, number: 500802900 type: 16 Leader in region: (5,0) to Client nodID: 5008
1336845017802: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845017802: === Finished one round of sending REPLY Packet =======
1336845017804: Received UDP payload: 446
1336845017825: leader to cloud hearbeat...
1336845017853: mux: Inside mux Packet.CLIENT_REQUEST
1336845017853: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845017853: inside handleClientRequest. Originator leader of region 5
1336845017853: got new request, requestCounter = 5008030
1336845017853: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500802900
1336845017854: Yay the last leg succeeded. Removing reply runnables ...
1336845017854: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500802900
1336845017854: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500802900
1336845017854: do not send ack for received final_leg_ack
1336845018603: Received UDP payload: 446
1336845019586: Received UDP payload: 446
1336845019920: inside sendPacket(Packet p)
1336845019935: Sending UDP payload: 446
1336845020441: Received UDP payload: 3804
1336845020447: mux: GOT CSM_Msg
1336845020448: forwarding disabled, not forwarding packets
1336845020454: Received UDP payload: 1006
1336845020458: mux: GOT CSM_Msg
1336845020458: forwarding disabled, not forwarding packets
1336845020604: Received UDP payload: 446
1336845020655: Received UDP payload: 446
1336845021227: Received UDP payload: 3448
1336845021232: mux: Inside mux Packet.CLIENT_REQUEST
1336845021284: Received UDP payload: 3812
1336845021294: mux: GOT CSM_Msg
1336845021294: forwarding disabled, not forwarding packets
1336845021302: Received UDP payload: 446
1336845021306: mux: Inside Packet.SERVER_REPLY
1336845021306: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845021314: Received UDP payload: 1006
1336845021320: mux: GOT CSM_Msg
1336845021321: forwarding disabled, not forwarding packets
1336845021326: Received UDP payload: 659
1336845021330: mux: Inside Packet.SERVER_REPLY
1336845021331: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845021345: Received UDP payload: 446
1336845021346: mux: Inside mux Packet.CLIENT_REQUEST
1336845022833: Received UDP payload: 446
1336845023626: Received UDP payload: 446
1336845024587: Received UDP payload: 446
1336845024938: inside sendPacket(Packet p)
1336845024938: Sending UDP payload: 446
1336845025604: Received UDP payload: 446
1336845025645: Received UDP payload: 446
1336845027831: Received UDP payload: 446
1336845028637: Received UDP payload: 446
1336845029586: Received UDP payload: 446
1336845029938: inside sendPacket(Packet p)
1336845029941: Sending UDP payload: 446
1336845030607: Received UDP payload: 446
1336845030645: Received UDP payload: 446
1336845032836: Received UDP payload: 446
1336845033641: Received UDP payload: 446
1336845034601: Received UDP payload: 446
1336845034938: inside sendPacket(Packet p)
1336845034940: Sending UDP payload: 446
1336845035610: Received UDP payload: 446
1336845037731: Received UDP payload: 446
1336845037851: Received UDP payload: 446
1336845038656: Received UDP payload: 446
1336845039601: Received UDP payload: 446
1336845039938: inside sendPacket(Packet p)
1336845039941: Sending UDP payload: 446
1336845040607: Received UDP payload: 446
1336845042751: Received UDP payload: 446
1336845042856: Received UDP payload: 446
1336845043656: Received UDP payload: 446
1336845044605: Received UDP payload: 446
1336845044938: inside sendPacket(Packet p)
1336845044941: Sending UDP payload: 446
1336845045607: Received UDP payload: 446
1336845047743: Received UDP payload: 446
1336845047861: Received UDP payload: 446
1336845048672: Received UDP payload: 446
1336845049603: Received UDP payload: 446
1336845049941: inside sendPacket(Packet p)
1336845049944: Sending UDP payload: 446
1336845050609: Received UDP payload: 446
1336845052740: Received UDP payload: 446
1336845052878: Received UDP payload: 446
1336845053681: Received UDP payload: 446
1336845054605: Received UDP payload: 446
1336845054942: inside sendPacket(Packet p)
1336845054945: Sending UDP payload: 446
1336845055611: Received UDP payload: 446
1336845057811: Received UDP payload: 446
1336845057916: Received UDP payload: 446
1336845058728: Received UDP payload: 446
1336845059383: Received UDP payload: 642
1336845059389: mux: Inside mux Packet.CLIENT_REQUEST
1336845059466: Received UDP payload: 1006
1336845059473: mux: GOT CSM_Msg
1336845059473: forwarding disabled, not forwarding packets
1336845059481: Received UDP payload: 446
1336845059486: mux: Inside Packet.SERVER_REPLY
1336845059487: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845059524: Received UDP payload: 3814
1336845059526: mux: GOT CSM_Msg
1336845059526: forwarding disabled, not forwarding packets
1336845059561: Received UDP payload: 3467
1336845059562: mux: Inside Packet.SERVER_REPLY
1336845059562: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845059579: Received UDP payload: 446
1336845059580: mux: Inside mux Packet.CLIENT_REQUEST
1336845059943: inside sendPacket(Packet p)
1336845059944: Sending UDP payload: 446
1336845060044: Received UDP payload: 1006
1336845060046: mux: GOT CSM_Msg
1336845060046: forwarding disabled, not forwarding packets
1336845060144: Received UDP payload: 3814
1336845060148: mux: GOT CSM_Msg
1336845060148: forwarding disabled, not forwarding packets
1336845060611: Received UDP payload: 446
1336845060804: Received UDP payload: 1006
1336845060811: mux: GOT CSM_Msg
1336845060812: forwarding disabled, not forwarding packets
1336845060857: Received UDP payload: 3814
1336845060859: mux: GOT CSM_Msg
1336845060859: forwarding disabled, not forwarding packets
1336845061101: Received UDP payload: 642
1336845061103: mux: Inside mux Packet.CLIENT_REQUEST
1336845061118: Received UDP payload: 1006
1336845061121: mux: GOT CSM_Msg
1336845061121: forwarding disabled, not forwarding packets
1336845061128: Received UDP payload: 446
1336845061130: mux: Inside Packet.SERVER_REPLY
1336845061130: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845061199: Received UDP payload: 3814
1336845061201: mux: GOT CSM_Msg
1336845061202: forwarding disabled, not forwarding packets
1336845061262: Received UDP payload: 3467
1336845061264: mux: Inside Packet.SERVER_REPLY
1336845061264: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845061304: Received UDP payload: 446
1336845061305: mux: Inside mux Packet.CLIENT_REQUEST
1336845062756: Received UDP payload: 446
1336845062890: Received UDP payload: 446
1336845063676: Received UDP payload: 446
1336845064606: Received UDP payload: 446
1336845064944: inside sendPacket(Packet p)
1336845064982: Sending UDP payload: 446
1336845065620: Received UDP payload: 446
1336845065908: Received UDP payload: 1006
1336845065922: mux: GOT CSM_Msg
1336845065922: forwarding disabled, not forwarding packets
1336845065996: Received UDP payload: 3814
1336845065998: mux: GOT CSM_Msg
1336845065998: forwarding disabled, not forwarding packets
1336845067761: Received UDP payload: 446
1336845067910: Received UDP payload: 446
1336845068779: Received UDP payload: 446
1336845069698: Received UDP payload: 446
1336845069944: inside sendPacket(Packet p)
1336845069954: Sending UDP payload: 446
1336845070160: Received UDP payload: 1006
1336845070162: mux: GOT CSM_Msg
1336845070162: forwarding disabled, not forwarding packets
1336845070240: Received UDP payload: 3814
1336845070246: mux: GOT CSM_Msg
1336845070247: forwarding disabled, not forwarding packets
1336845070634: Received UDP payload: 446
1336845071569: Received UDP payload: 642
1336845071574: mux: Inside mux Packet.CLIENT_REQUEST
1336845071575: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845071575: inside handleClientRequest. Originator leader of region 5
1336845071575: got new request, requestCounter = 5013031
1336845071576: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845071599: Sending to region: 0
1336845071600: Sending PROC_REQUEST 11:4 (5,0)->(0,0)
1336845071601: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(0,0)
1336845071604: mux: I got a CSM packet at a leader 

1336845071601: Note down new request by adding requestCounter=5013031 to HashMap processedRequests
1336845071602: Make FirstLeg Ack regardless of new or already-processed requests
1336845071603: The leader sending a First Leg ack to originator client (which id = 5013)
1336845071603: inside sendPacket(Packet p)
1336845071611: Sending UDP payload: 1006
1336845071626: forwarding disabled, not forwarding packets
1336845071627: Sending UDP payload: 446
1336845071725: Received UDP payload: 3814
1336845071728: mux: GOT CSM_Msg
1336845071728: Received PROC_REPLY 11:4 (0,0)->(5,0), handing to UserApp
1336845071729: inside handleDSMReply. Now back in originator leader of region 5
1336845071729: DSM layer: Going to and from remote region took latency = 130
1336845071729: DSM layer: orig leader sent packet at 1336845071599 ~ received reply from remote leader at 1336845071729
1336845071730: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845071730: leader client reply has replyCounter: 501303100
1336845071730: reply packet contains the newest photo/success info from the remote region
1336845071730: inside sendReplies of replyCount = 501303100
1336845071731: =======================
1336845071731: inside sendReplyRepeatingRunnable for replyCount = 501303100
1336845071731: Leader about to send REPLY packet, number: 501303100 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845071731: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845071731: inside sendPacket(Packet p)
1336845071731: === Finished one round of sending REPLY Packet =======
1336845071733: Sending UDP payload: 3467
1336845071787: Received UDP payload: 446
1336845071789: mux: Inside mux Packet.CLIENT_REQUEST
1336845071789: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845071790: inside handleClientRequest. Originator leader of region 5
1336845071790: got new request, requestCounter = 5013032
1336845071790: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501303100
1336845071790: Yay the last leg succeeded. Removing reply runnables ...
1336845071790: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501303100
1336845071790: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501303100
1336845071791: do not send ack for received final_leg_ack
1336845072265: canPressButton = TRUE
1336845072266: areButtonsEnabled --> false 
1336845072266: get picture disableButtonsR
1336845072266: areButtonsEnabled --> false
1336845072280: one more getNum: 13
1336845072281: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=12 getBad=0 getTimedout=0 getPercent=92%
1336845072281: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336845072281: change local requestCounter to 31
1336845072284: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008031 Client in region: 5 Client nodID: 5008
1336845072313: ----------------------------
1336845072314: inside sendRequestPacketRepeatingRunnable for requestCount = 5008031
1336845072314: I'm a leader, my requesting photos packet going to mux directly
1336845072320: --- Finished one round of sending REQUEST Packet ---------
1336845072314: mux: Inside mux Packet.CLIENT_REQUEST
1336845072314: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845072357: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845072314: inside handleClientRequest. Originator leader of region 5
1336845072315: got new request, requestCounter = 5008031
1336845072315: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845072315: Sending to region: 0
1336845072316: Sending PROC_REQUEST 11:5 (5,0)->(0,0)
1336845072316: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(0,0)
1336845072317: mux: I got a CSM packet at a leader 

1336845072316: Note down new request by adding requestCounter=5008031 to HashMap processedRequests
1336845072316: Make FirstLeg Ack regardless of new or already-processed requests
1336845072317: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845072319: Sending UDP payload: 1006
1336845072320: forwarding disabled, not forwarding packets
1336845072431: Received UDP payload: 3814
1336845072434: mux: GOT CSM_Msg
1336845072434: Received PROC_REPLY 11:5 (0,0)->(5,0), handing to UserApp
1336845072434: inside handleDSMReply. Now back in originator leader of region 5
1336845072434: DSM layer: Going to and from remote region took latency = 118
1336845072434: DSM layer: orig leader sent packet at 1336845072316 ~ received reply from remote leader at 1336845072434
1336845072435: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845072435: leader client reply has replyCounter: 500803100
1336845072435: reply packet contains the newest photo/success info from the remote region
1336845072435: inside sendReplies of replyCount = 500803100
1336845072447: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845072448: disabling progressdialog due to successful new photo get
1336845072448: Inside _enableButtons
1336845072448: areButtonsEnabled --> true
1336845072449: send final leg ack regardless of new or already-processed reply
1336845072449: inside finalLegAck: change requestCounter to 32
1336845072449: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008032 Client in region: (5,0) Client nodID: 5008
1336845072449: I'm a leader client, my final_leg packet going to mux directly
1336845072451: new client_show_remotephoto reply with replyCounter 500803100
1336845072451: note down new reply by adding replyCounter=500803100 to HashMap processedReplies
1336845072452: leader download remote photo latency = 133
1336845072452: = leader download start 1336845072314 ~ stop 1336845072447
1336845072455: one more getGood: 13
1336845072456: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=13 getBad=0 getTimedout=0 getPercent=100%
1336845072456: adding get latency: 133
1336845072457: Success! Client getting photo from remote region, showing photo...
1336845072457: Remote photo's length: 2786
1336845072437: =======================
1336845072438: inside sendReplyRepeatingRunnable for replyCount = 500803100
1336845072438: Leader about to send REPLY packet, number: 500803100 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845072438: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845072438: === Finished one round of sending REPLY Packet =======
1336845072449: mux: Inside mux Packet.CLIENT_REQUEST
1336845072450: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845072450: inside handleClientRequest. Originator leader of region 5
1336845072450: got new request, requestCounter = 5008032
1336845072450: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500803100
1336845072450: Yay the last leg succeeded. Removing reply runnables ...
1336845072450: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500803100
1336845072450: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500803100
1336845072450: do not send ack for received final_leg_ack
1336845072763: Received UDP payload: 446
1336845072913: Received UDP payload: 446
1336845073701: Received UDP payload: 446
1336845074632: Received UDP payload: 446
1336845074955: inside sendPacket(Packet p)
1336845074958: Sending UDP payload: 446
1336845075625: Received UDP payload: 446
1336845077779: Received UDP payload: 446
1336845077930: Received UDP payload: 446
1336845078064: Received UDP payload: 1006
1336845078073: mux: GOT CSM_Msg
1336845078074: forwarding disabled, not forwarding packets
1336845078153: Received UDP payload: 3814
1336845078155: mux: GOT CSM_Msg
1336845078156: forwarding disabled, not forwarding packets
1336845078716: Received UDP payload: 446
1336845079313: Received UDP payload: 642
1336845079319: mux: Inside mux Packet.CLIENT_REQUEST
1336845079389: Received UDP payload: 1006
1336845079398: mux: GOT CSM_Msg
1336845079399: forwarding disabled, not forwarding packets
1336845079402: Received UDP payload: 446
1336845079406: mux: Inside Packet.SERVER_REPLY
1336845079407: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845079463: Received UDP payload: 3814
1336845079465: mux: GOT CSM_Msg
1336845079465: forwarding disabled, not forwarding packets
1336845079515: Received UDP payload: 3467
1336845079516: mux: Inside Packet.SERVER_REPLY
1336845079517: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845079526: Received UDP payload: 446
1336845079527: mux: Inside mux Packet.CLIENT_REQUEST
1336845079631: Received UDP payload: 446
1336845079958: inside sendPacket(Packet p)
1336845079959: Sending UDP payload: 446
1336845080626: Received UDP payload: 446
1336845082782: Received UDP payload: 446
1336845082942: Received UDP payload: 446
1336845083709: Received UDP payload: 446
1336845084635: Received UDP payload: 446
1336845084958: inside sendPacket(Packet p)
1336845084961: Sending UDP payload: 446
1336845085623: Received UDP payload: 446
1336845087802: Received UDP payload: 446
1336845088004: Received UDP payload: 446
1336845088725: Received UDP payload: 446
1336845089635: Received UDP payload: 446
1336845089958: inside sendPacket(Packet p)
1336845089961: Sending UDP payload: 446
1336845090756: Received UDP payload: 446
1336845092809: Received UDP payload: 446
1336845092969: Received UDP payload: 446
1336845094649: Received UDP payload: 446
1336845094959: inside sendPacket(Packet p)
1336845094962: Sending UDP payload: 446
1336845095656: Received UDP payload: 446
1336845097743: Received UDP payload: 446
1336845097805: Received UDP payload: 446
1336845097994: Received UDP payload: 446
1336845098322: Received UDP payload: 642
1336845098327: mux: Inside mux Packet.CLIENT_REQUEST
1336845098340: Received UDP payload: 1006
1336845098347: mux: GOT CSM_Msg
1336845098347: forwarding disabled, not forwarding packets
1336845098372: Received UDP payload: 446
1336845098376: mux: Inside Packet.SERVER_REPLY
1336845098377: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845098403: Received UDP payload: 3734
1336845098406: mux: GOT CSM_Msg
1336845098406: forwarding disabled, not forwarding packets
1336845098450: Received UDP payload: 3387
1336845098451: mux: Inside Packet.SERVER_REPLY
1336845098451: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845098499: Received UDP payload: 446
1336845098500: mux: Inside mux Packet.CLIENT_REQUEST
1336845099419: Received UDP payload: 1006
1336845099426: mux: GOT CSM_Msg
1336845099427: forwarding disabled, not forwarding packets
1336845099480: Received UDP payload: 3734
1336845099487: mux: GOT CSM_Msg
1336845099487: forwarding disabled, not forwarding packets
1336845099599: Received UDP payload: 642
1336845099604: mux: Inside mux Packet.CLIENT_REQUEST
1336845099617: Received UDP payload: 1006
1336845099623: mux: GOT CSM_Msg
1336845099624: forwarding disabled, not forwarding packets
1336845099627: Received UDP payload: 446
1336845099631: mux: Inside Packet.SERVER_REPLY
1336845099632: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845099697: Received UDP payload: 3734
1336845099700: mux: GOT CSM_Msg
1336845099700: forwarding disabled, not forwarding packets
1336845099756: Received UDP payload: 3387
1336845099758: mux: Inside Packet.SERVER_REPLY
1336845099758: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845099769: Received UDP payload: 446
1336845099788: Received UDP payload: 446
1336845099789: mux: Inside mux Packet.CLIENT_REQUEST
1336845099960: inside sendPacket(Packet p)
1336845099961: Sending UDP payload: 446
1336845100654: Received UDP payload: 446
1336845101225: Received UDP payload: 1006
1336845101242: mux: GOT CSM_Msg
1336845101242: forwarding disabled, not forwarding packets
1336845101308: Received UDP payload: 3734
1336845101310: mux: GOT CSM_Msg
1336845101310: forwarding disabled, not forwarding packets
1336845102739: Received UDP payload: 446
1336845102812: Received UDP payload: 446
1336845102990: Received UDP payload: 446
1336845104655: Received UDP payload: 446
1336845104961: inside sendPacket(Packet p)
1336845104964: Sending UDP payload: 446
1336845105706: Received UDP payload: 446
1336845107335: Received UDP payload: 1006
1336845107342: mux: GOT CSM_Msg
1336845107343: forwarding disabled, not forwarding packets
1336845107424: Received UDP payload: 3734
1336845107430: mux: GOT CSM_Msg
1336845107430: forwarding disabled, not forwarding packets
1336845107836: Received UDP payload: 446
1336845107843: Received UDP payload: 446
1336845107995: Received UDP payload: 446
1336845109656: Received UDP payload: 446
1336845109961: inside sendPacket(Packet p)
1336845109973: Sending UDP payload: 446
1336845110125: Received UDP payload: 1006
1336845110131: mux: GOT CSM_Msg
1336845110131: forwarding disabled, not forwarding packets
1336845110216: Received UDP payload: 3734
1336845110224: mux: GOT CSM_Msg
1336845110224: forwarding disabled, not forwarding packets
1336845110657: Received UDP payload: 446
1336845112823: Received UDP payload: 446
1336845112838: Received UDP payload: 446
1336845113117: Received UDP payload: 642
1336845113123: mux: Inside mux Packet.CLIENT_REQUEST
1336845113123: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845113124: inside handleClientRequest. Originator leader of region 5
1336845113124: got new request, requestCounter = 5013033
1336845113125: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845113126: Sending to region: 1
1336845113128: Sending PROC_REQUEST 11:4 (5,0)->(1,0)
1336845113129: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(1,0)
1336845113131: mux: I got a CSM packet at a leader 

1336845113129: Note down new request by adding requestCounter=5013033 to HashMap processedRequests
1336845113129: Make FirstLeg Ack regardless of new or already-processed requests
1336845113130: The leader sending a First Leg ack to originator client (which id = 5013)
1336845113130: inside sendPacket(Packet p)
1336845113162: Sending UDP payload: 1006
1336845113165: forwarding disabled, not forwarding packets
1336845113167: Sending UDP payload: 446
1336845113259: Received UDP payload: 3734
1336845113262: mux: GOT CSM_Msg
1336845113263: Received PROC_REPLY 11:4 (1,0)->(5,0), handing to UserApp
1336845113263: inside handleDSMReply. Now back in originator leader of region 5
1336845113263: DSM layer: Going to and from remote region took latency = 136
1336845113263: DSM layer: orig leader sent packet at 1336845113127 ~ received reply from remote leader at 1336845113263
1336845113264: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845113264: leader client reply has replyCounter: 501303300
1336845113265: reply packet contains the newest photo/success info from the remote region
1336845113265: inside sendReplies of replyCount = 501303300
1336845113265: =======================
1336845113265: inside sendReplyRepeatingRunnable for replyCount = 501303300
1336845113265: Leader about to send REPLY packet, number: 501303300 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845113266: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845113266: inside sendPacket(Packet p)
1336845113266: === Finished one round of sending REPLY Packet =======
1336845113268: Sending UDP payload: 3387
1336845113321: Received UDP payload: 446
1336845113323: mux: Inside mux Packet.CLIENT_REQUEST
1336845113323: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845113324: inside handleClientRequest. Originator leader of region 5
1336845113324: got new request, requestCounter = 5013034
1336845113324: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501303300
1336845113324: Yay the last leg succeeded. Removing reply runnables ...
1336845113324: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501303300
1336845113325: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501303300
1336845113325: do not send ack for received final_leg_ack
1336845114049: canPressButton = TRUE
1336845114049: areButtonsEnabled --> false 
1336845114050: get picture disableButtonsR
1336845114050: areButtonsEnabled --> false
1336845114076: one more getNum: 14
1336845114077: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=13 getBad=0 getTimedout=0 getPercent=92%
1336845114077: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336845114078: change local requestCounter to 33
1336845114084: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008033 Client in region: 5 Client nodID: 5008
1336845114114: ----------------------------
1336845114114: inside sendRequestPacketRepeatingRunnable for requestCount = 5008033
1336845114115: I'm a leader, my requesting photos packet going to mux directly
1336845114124: --- Finished one round of sending REQUEST Packet ---------
1336845114115: mux: Inside mux Packet.CLIENT_REQUEST
1336845114115: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845114170: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845114115: inside handleClientRequest. Originator leader of region 5
1336845114115: got new request, requestCounter = 5008033
1336845114115: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845114118: Sending to region: 1
1336845114119: Sending PROC_REQUEST 11:5 (5,0)->(1,0)
1336845114119: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(1,0)
1336845114120: mux: I got a CSM packet at a leader 

1336845114119: Note down new request by adding requestCounter=5008033 to HashMap processedRequests
1336845114120: Make FirstLeg Ack regardless of new or already-processed requests
1336845114120: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845114137: Sending UDP payload: 1006
1336845114137: forwarding disabled, not forwarding packets
1336845114237: Received UDP payload: 3734
1336845114242: mux: GOT CSM_Msg
1336845114250: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845114250: disabling progressdialog due to successful new photo get
1336845114251: Inside _enableButtons
1336845114251: areButtonsEnabled --> true
1336845114251: send final leg ack regardless of new or already-processed reply
1336845114251: inside finalLegAck: change requestCounter to 34
1336845114252: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008034 Client in region: (5,0) Client nodID: 5008
1336845114252: I'm a leader client, my final_leg packet going to mux directly
1336845114254: new client_show_remotephoto reply with replyCounter 500803300
1336845114255: note down new reply by adding replyCounter=500803300 to HashMap processedReplies
1336845114256: leader download remote photo latency = 135
1336845114256: = leader download start 1336845114115 ~ stop 1336845114250
1336845114260: one more getGood: 14
1336845114262: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=14 getBad=0 getTimedout=0 getPercent=100%
1336845114262: adding get latency: 135
1336845114264: Success! Client getting photo from remote region, showing photo...
1336845114265: Remote photo's length: 2706
1336845114242: Received PROC_REPLY 11:5 (1,0)->(5,0), handing to UserApp
1336845114242: inside handleDSMReply. Now back in originator leader of region 5
1336845114242: DSM layer: Going to and from remote region took latency = 123
1336845114242: DSM layer: orig leader sent packet at 1336845114119 ~ received reply from remote leader at 1336845114242
1336845114243: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845114243: leader client reply has replyCounter: 500803300
1336845114243: reply packet contains the newest photo/success info from the remote region
1336845114244: inside sendReplies of replyCount = 500803300
1336845114244: =======================
1336845114244: inside sendReplyRepeatingRunnable for replyCount = 500803300
1336845114245: Leader about to send REPLY packet, number: 500803300 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845114245: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845114245: === Finished one round of sending REPLY Packet =======
1336845114253: mux: Inside mux Packet.CLIENT_REQUEST
1336845114253: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845114253: inside handleClientRequest. Originator leader of region 5
1336845114254: got new request, requestCounter = 5008034
1336845114254: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500803300
1336845114254: Yay the last leg succeeded. Removing reply runnables ...
1336845114254: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500803300
1336845114254: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500803300
1336845114254: do not send ack for received final_leg_ack
1336845114653: Received UDP payload: 446
1336845114962: inside sendPacket(Packet p)
1336845114965: Sending UDP payload: 446
1336845115149: Received UDP payload: 446
1336845115678: Received UDP payload: 446
1336845117211: Received UDP payload: 1006
1336845117220: mux: GOT CSM_Msg
1336845117220: forwarding disabled, not forwarding packets
1336845117291: Received UDP payload: 3734
1336845117299: mux: GOT CSM_Msg
1336845117299: forwarding disabled, not forwarding packets
1336845117742: Received UDP payload: 446
1336845117833: Received UDP payload: 446
1336845118290: Received UDP payload: 642
1336845118297: mux: Inside mux Packet.CLIENT_REQUEST
1336845118319: Received UDP payload: 1006
1336845118328: mux: GOT CSM_Msg
1336845118328: forwarding disabled, not forwarding packets
1336845118329: Received UDP payload: 446
1336845118345: mux: Inside Packet.SERVER_REPLY
1336845118345: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845118407: Received UDP payload: 3734
1336845118410: mux: GOT CSM_Msg
1336845118410: forwarding disabled, not forwarding packets
1336845118470: Received UDP payload: 3387
1336845118472: mux: Inside Packet.SERVER_REPLY
1336845118472: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845118486: Received UDP payload: 446
1336845118488: mux: Inside mux Packet.CLIENT_REQUEST
1336845119660: Received UDP payload: 446
1336845119968: inside sendPacket(Packet p)
1336845119976: Sending UDP payload: 446
1336845120734: Received UDP payload: 446
1336845122804: Received UDP payload: 446
1336845122845: Received UDP payload: 446
1336845124675: Received UDP payload: 446
1336845124978: inside sendPacket(Packet p)
1336845124995: Sending UDP payload: 446
1336845125710: Received UDP payload: 446
1336845127744: Received UDP payload: 446
1336845127851: Received UDP payload: 446
1336845129998: inside sendPacket(Packet p)
1336845130001: Sending UDP payload: 446
1336845130184: Received UDP payload: 446
1336845130726: Received UDP payload: 446
1336845131883: Received UDP payload: 446
1336845132744: Received UDP payload: 446
1336845132868: Received UDP payload: 446
1336845135000: inside sendPacket(Packet p)
1336845135003: Sending UDP payload: 446
1336845135200: Received UDP payload: 446
1336845135733: Received UDP payload: 446
1336845136264: Received UDP payload: 642
1336845136268: mux: Inside mux Packet.CLIENT_REQUEST
1336845136330: Received UDP payload: 1006
1336845136337: mux: GOT CSM_Msg
1336845136337: forwarding disabled, not forwarding packets
1336845136345: Received UDP payload: 446
1336845136349: mux: Inside Packet.SERVER_REPLY
1336845136349: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845136385: Received UDP payload: 3826
1336845136387: mux: GOT CSM_Msg
1336845136387: forwarding disabled, not forwarding packets
1336845136513: Received UDP payload: 3479
1336845136515: mux: Inside Packet.SERVER_REPLY
1336845136516: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845136571: Received UDP payload: 446
1336845136573: mux: Inside mux Packet.CLIENT_REQUEST
1336845136674: Received UDP payload: 1006
1336845136678: mux: GOT CSM_Msg
1336845136678: forwarding disabled, not forwarding packets
1336845136750: Received UDP payload: 3826
1336845136754: mux: GOT CSM_Msg
1336845136754: forwarding disabled, not forwarding packets
1336845136930: Received UDP payload: 446
1336845137352: Received UDP payload: 1006
1336845137356: mux: GOT CSM_Msg
1336845137356: forwarding disabled, not forwarding packets
1336845137407: Received UDP payload: 3826
1336845137410: mux: GOT CSM_Msg
1336845137411: forwarding disabled, not forwarding packets
1336845137671: Received UDP payload: 642
1336845137674: mux: Inside mux Packet.CLIENT_REQUEST
1336845137688: Received UDP payload: 1006
1336845137696: mux: GOT CSM_Msg
1336845137696: forwarding disabled, not forwarding packets
1336845137697: Received UDP payload: 446
1336845137701: mux: Inside Packet.SERVER_REPLY
1336845137701: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845137756: Received UDP payload: 3826
1336845137758: mux: GOT CSM_Msg
1336845137758: forwarding disabled, not forwarding packets
1336845137759: Received UDP payload: 446
1336845137800: Received UDP payload: 3479
1336845137801: mux: Inside Packet.SERVER_REPLY
1336845137802: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845137816: Received UDP payload: 446
1336845137817: mux: Inside mux Packet.CLIENT_REQUEST
1336845137855: Received UDP payload: 446
1336845138000: Received UDP payload: 1006
1336845138003: mux: GOT CSM_Msg
1336845138003: forwarding disabled, not forwarding packets
1336845138064: Received UDP payload: 3826
1336845138066: mux: GOT CSM_Msg
1336845138066: forwarding disabled, not forwarding packets
1336845139919: leader to cloud hearbeat...
1336845140216: Received UDP payload: 446
1336845140739: Received UDP payload: 446
1336845141885: Received UDP payload: 446
1336845141904: inside sendPacket(Packet p)
1336845141914: Sending UDP payload: 446
1336845142767: Received UDP payload: 446
1336845142855: Received UDP payload: 446
1336845142972: Received UDP payload: 1006
1336845142980: mux: GOT CSM_Msg
1336845142980: forwarding disabled, not forwarding packets
1336845143055: Received UDP payload: 3826
1336845143057: mux: GOT CSM_Msg
1336845143057: forwarding disabled, not forwarding packets
1336845145232: Received UDP payload: 446
1336845145743: Received UDP payload: 446
1336845146027: Received UDP payload: 1006
1336845146029: mux: GOT CSM_Msg
1336845146029: forwarding disabled, not forwarding packets
1336845146102: Received UDP payload: 3826
1336845146104: mux: GOT CSM_Msg
1336845146104: forwarding disabled, not forwarding packets
1336845146903: Received UDP payload: 446
1336845146918: inside sendPacket(Packet p)
1336845146919: Sending UDP payload: 446
1336845147756: Received UDP payload: 446
1336845147861: Received UDP payload: 446
1336845148511: Received UDP payload: 642
1336845148519: mux: Inside mux Packet.CLIENT_REQUEST
1336845148519: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845148519: inside handleClientRequest. Originator leader of region 5
1336845148520: got new request, requestCounter = 5013035
1336845148520: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845148533: Sending to region: 2
1336845148535: Sending PROC_REQUEST 11:4 (5,0)->(2,0)
1336845148536: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1336845148539: mux: I got a CSM packet at a leader 

1336845148537: Note down new request by adding requestCounter=5013035 to HashMap processedRequests
1336845148537: Make FirstLeg Ack regardless of new or already-processed requests
1336845148537: The leader sending a First Leg ack to originator client (which id = 5013)
1336845148538: inside sendPacket(Packet p)
1336845148550: Sending UDP payload: 1006
1336845148552: forwarding disabled, not forwarding packets
1336845148555: Sending UDP payload: 446
1336845148613: Received UDP payload: 3826
1336845148620: mux: GOT CSM_Msg
1336845148622: Received PROC_REPLY 11:4 (2,0)->(5,0), handing to UserApp
1336845148622: inside handleDSMReply. Now back in originator leader of region 5
1336845148623: DSM layer: Going to and from remote region took latency = 88
1336845148623: DSM layer: orig leader sent packet at 1336845148534 ~ received reply from remote leader at 1336845148622
1336845148625: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845148626: leader client reply has replyCounter: 501303500
1336845148626: reply packet contains the newest photo/success info from the remote region
1336845148626: inside sendReplies of replyCount = 501303500
1336845148627: =======================
1336845148627: inside sendReplyRepeatingRunnable for replyCount = 501303500
1336845148628: Leader about to send REPLY packet, number: 501303500 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845148628: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845148628: inside sendPacket(Packet p)
1336845148629: === Finished one round of sending REPLY Packet =======
1336845148643: Sending UDP payload: 3479
1336845148694: Received UDP payload: 446
1336845148698: mux: Inside mux Packet.CLIENT_REQUEST
1336845148699: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845148699: inside handleClientRequest. Originator leader of region 5
1336845148699: got new request, requestCounter = 5013036
1336845148700: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501303500
1336845148700: Yay the last leg succeeded. Removing reply runnables ...
1336845148700: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501303500
1336845148701: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501303500
1336845148701: do not send ack for received final_leg_ack
1336845150251: Received UDP payload: 446
1336845150743: Received UDP payload: 446
1336845150820: canPressButton = TRUE
1336845150821: areButtonsEnabled --> false 
1336845150821: get picture disableButtonsR
1336845150821: areButtonsEnabled --> false
1336845150847: one more getNum: 15
1336845150848: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=14 getBad=0 getTimedout=0 getPercent=93%
1336845150848: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336845150848: change local requestCounter to 35
1336845150849: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008035 Client in region: 5 Client nodID: 5008
1336845150881: ----------------------------
1336845150881: inside sendRequestPacketRepeatingRunnable for requestCount = 5008035
1336845150881: I'm a leader, my requesting photos packet going to mux directly
1336845150887: --- Finished one round of sending REQUEST Packet ---------
1336845150881: mux: Inside mux Packet.CLIENT_REQUEST
1336845150882: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845150926: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845150882: inside handleClientRequest. Originator leader of region 5
1336845150882: got new request, requestCounter = 5008035
1336845150882: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845150883: Sending to region: 2
1336845150883: Sending PROC_REQUEST 11:5 (5,0)->(2,0)
1336845150884: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1336845150884: mux: I got a CSM packet at a leader 

1336845150884: Note down new request by adding requestCounter=5008035 to HashMap processedRequests
1336845150884: Make FirstLeg Ack regardless of new or already-processed requests
1336845150884: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845150886: Sending UDP payload: 1006
1336845150887: forwarding disabled, not forwarding packets
1336845150986: Received UDP payload: 3826
1336845150989: mux: GOT CSM_Msg
1336845150989: Received PROC_REPLY 11:5 (2,0)->(5,0), handing to UserApp
1336845150989: inside handleDSMReply. Now back in originator leader of region 5
1336845150989: DSM layer: Going to and from remote region took latency = 106
1336845150989: DSM layer: orig leader sent packet at 1336845150883 ~ received reply from remote leader at 1336845150989
1336845150990: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845150990: leader client reply has replyCounter: 500803500
1336845150990: reply packet contains the newest photo/success info from the remote region
1336845150990: inside sendReplies of replyCount = 500803500
1336845150993: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845150993: disabling progressdialog due to successful new photo get
1336845150994: Inside _enableButtons
1336845150994: areButtonsEnabled --> true
1336845150994: send final leg ack regardless of new or already-processed reply
1336845150995: inside finalLegAck: change requestCounter to 36
1336845150995: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008036 Client in region: (5,0) Client nodID: 5008
1336845150995: I'm a leader client, my final_leg packet going to mux directly
1336845151000: new client_show_remotephoto reply with replyCounter 500803500
1336845151000: note down new reply by adding replyCounter=500803500 to HashMap processedReplies
1336845151000: leader download remote photo latency = 112
1336845151001: = leader download start 1336845150881 ~ stop 1336845150993
1336845151002: one more getGood: 15
1336845151004: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=15 getBad=0 getTimedout=0 getPercent=100%
1336845151005: adding get latency: 112
1336845151006: Success! Client getting photo from remote region, showing photo...
1336845151006: Remote photo's length: 2798
1336845150991: =======================
1336845150991: inside sendReplyRepeatingRunnable for replyCount = 500803500
1336845150991: Leader about to send REPLY packet, number: 500803500 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845150991: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845150992: === Finished one round of sending REPLY Packet =======
1336845150996: mux: Inside mux Packet.CLIENT_REQUEST
1336845150996: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845150996: inside handleClientRequest. Originator leader of region 5
1336845150996: got new request, requestCounter = 5008036
1336845150996: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500803500
1336845150996: Yay the last leg succeeded. Removing reply runnables ...
1336845150996: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500803500
1336845150996: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500803500
1336845150996: do not send ack for received final_leg_ack
1336845151889: Received UDP payload: 446
1336845151918: inside sendPacket(Packet p)
1336845151957: Sending UDP payload: 446
1336845152578: Received UDP payload: 1006
1336845152594: mux: GOT CSM_Msg
1336845152594: forwarding disabled, not forwarding packets
1336845152662: Received UDP payload: 3826
1336845152664: mux: GOT CSM_Msg
1336845152665: forwarding disabled, not forwarding packets
1336845152752: Received UDP payload: 446
1336845152857: Received UDP payload: 446
1336845153904: Received UDP payload: 642
1336845153909: mux: Inside mux Packet.CLIENT_REQUEST
1336845153986: Received UDP payload: 1006
1336845153988: mux: GOT CSM_Msg
1336845153988: forwarding disabled, not forwarding packets
1336845153990: Received UDP payload: 446
1336845153991: mux: Inside Packet.SERVER_REPLY
1336845153991: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845154033: Received UDP payload: 3826
1336845154036: mux: GOT CSM_Msg
1336845154036: forwarding disabled, not forwarding packets
1336845154078: Received UDP payload: 3479
1336845154080: mux: Inside Packet.SERVER_REPLY
1336845154080: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845154089: Received UDP payload: 446
1336845154091: mux: Inside mux Packet.CLIENT_REQUEST
1336845155257: Received UDP payload: 446
1336845155743: Received UDP payload: 446
1336845156920: inside sendPacket(Packet p)
1336845156935: Sending UDP payload: 446
1336845156951: Received UDP payload: 446
1336845157751: Received UDP payload: 446
1336845159963: Received UDP payload: 446
1336845160279: Received UDP payload: 446
1336845160796: Received UDP payload: 446
1336845161905: Received UDP payload: 446
1336845161939: inside sendPacket(Packet p)
1336845161948: Sending UDP payload: 446
1336845162766: Received UDP payload: 446
1336845163288: Received UDP payload: 642
1336845163294: mux: Inside mux Packet.CLIENT_REQUEST
1336845163335: Received UDP payload: 1006
1336845163344: mux: GOT CSM_Msg
1336845163344: forwarding disabled, not forwarding packets
1336845163345: Received UDP payload: 446
1336845163348: mux: Inside Packet.SERVER_REPLY
1336845163349: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845163392: Received UDP payload: 3734
1336845163398: mux: GOT CSM_Msg
1336845163399: forwarding disabled, not forwarding packets
1336845163442: Received UDP payload: 3387
1336845163446: mux: Inside Packet.SERVER_REPLY
1336845163447: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845163460: Received UDP payload: 446
1336845163464: mux: Inside mux Packet.CLIENT_REQUEST
1336845164056: Received UDP payload: 1006
1336845164065: mux: GOT CSM_Msg
1336845164065: forwarding disabled, not forwarding packets
1336845164105: Received UDP payload: 3734
1336845164116: mux: GOT CSM_Msg
1336845164116: forwarding disabled, not forwarding packets
1336845164764: Received UDP payload: 1006
1336845164771: mux: GOT CSM_Msg
1336845164771: forwarding disabled, not forwarding packets
1336845165179: Received UDP payload: 642
1336845165185: mux: Inside mux Packet.CLIENT_REQUEST
1336845165261: Received UDP payload: 1006
1336845165268: mux: GOT CSM_Msg
1336845165268: forwarding disabled, not forwarding packets
1336845165272: Received UDP payload: 446
1336845165276: mux: Inside Packet.SERVER_REPLY
1336845165276: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845165301: Received UDP payload: 446
1336845165491: Received UDP payload: 1006
1336845165496: mux: GOT CSM_Msg
1336845165496: forwarding disabled, not forwarding packets
1336845165599: Received UDP payload: 1006
1336845165603: mux: GOT CSM_Msg
1336845165604: forwarding disabled, not forwarding packets
1336845165700: Received UDP payload: 1006
1336845165705: mux: GOT CSM_Msg
1336845165705: forwarding disabled, not forwarding packets
1336845165743: Received UDP payload: 446
1336845165800: Received UDP payload: 1006
1336845165805: mux: GOT CSM_Msg
1336845165806: forwarding disabled, not forwarding packets
1336845165894: Received UDP payload: 1006
1336845165898: mux: GOT CSM_Msg
1336845165898: forwarding disabled, not forwarding packets
1336845165996: Received UDP payload: 1006
1336845166002: mux: GOT CSM_Msg
1336845166002: forwarding disabled, not forwarding packets
1336845166006: Received UDP payload: 1006
1336845166014: mux: GOT CSM_Msg
1336845166014: forwarding disabled, not forwarding packets
1336845166095: Received UDP payload: 1006
1336845166097: mux: GOT CSM_Msg
1336845166097: forwarding disabled, not forwarding packets
1336845166118: Received UDP payload: 1006
1336845166123: mux: GOT CSM_Msg
1336845166123: forwarding disabled, not forwarding packets
1336845166197: Received UDP payload: 1006
1336845166199: mux: GOT CSM_Msg
1336845166199: forwarding disabled, not forwarding packets
1336845166216: Received UDP payload: 1006
1336845166221: mux: GOT CSM_Msg
1336845166221: forwarding disabled, not forwarding packets
1336845166303: Received UDP payload: 1006
1336845166306: mux: GOT CSM_Msg
1336845166306: forwarding disabled, not forwarding packets
1336845166318: Received UDP payload: 1006
1336845166321: mux: GOT CSM_Msg
1336845166321: forwarding disabled, not forwarding packets
1336845166409: Received UDP payload: 1006
1336845166413: mux: GOT CSM_Msg
1336845166413: forwarding disabled, not forwarding packets
1336845166423: Received UDP payload: 1006
1336845166427: mux: GOT CSM_Msg
1336845166428: forwarding disabled, not forwarding packets
1336845166518: Received UDP payload: 1006
1336845166521: mux: GOT CSM_Msg
1336845166522: forwarding disabled, not forwarding packets
1336845166541: Received UDP payload: 1006
1336845166546: mux: GOT CSM_Msg
1336845166547: forwarding disabled, not forwarding packets
1336845166604: Received UDP payload: 1006
1336845166612: mux: GOT CSM_Msg
1336845166613: forwarding disabled, not forwarding packets
1336845166622: Received UDP payload: 1006
1336845166640: mux: GOT CSM_Msg
1336845166641: forwarding disabled, not forwarding packets
1336845166703: Received UDP payload: 1006
1336845166709: mux: GOT CSM_Msg
1336845166710: forwarding disabled, not forwarding packets
1336845166722: Received UDP payload: 1006
1336845166739: mux: GOT CSM_Msg
1336845166739: forwarding disabled, not forwarding packets
1336845166808: Received UDP payload: 1006
1336845166814: mux: GOT CSM_Msg
1336845166814: forwarding disabled, not forwarding packets
1336845166829: Received UDP payload: 1006
1336845166841: mux: GOT CSM_Msg
1336845166841: forwarding disabled, not forwarding packets
1336845166904: Received UDP payload: 446
1336845166919: Received UDP payload: 1006
1336845166923: mux: GOT CSM_Msg
1336845166924: forwarding disabled, not forwarding packets
1336845166934: Received UDP payload: 1006
1336845166939: mux: GOT CSM_Msg
1336845166939: forwarding disabled, not forwarding packets
1336845166939: inside sendPacket(Packet p)
1336845166941: Sending UDP payload: 446
1336845167020: Received UDP payload: 1006
1336845167024: mux: GOT CSM_Msg
1336845167024: forwarding disabled, not forwarding packets
1336845167120: Received UDP payload: 1006
1336845167126: mux: GOT CSM_Msg
1336845167126: forwarding disabled, not forwarding packets
1336845167226: Received UDP payload: 1006
1336845167233: mux: GOT CSM_Msg
1336845167234: forwarding disabled, not forwarding packets
1336845167322: Received UDP payload: 1006
1336845167329: mux: GOT CSM_Msg
1336845167330: forwarding disabled, not forwarding packets
1336845167431: Received UDP payload: 1006
1336845167439: mux: GOT CSM_Msg
1336845167440: forwarding disabled, not forwarding packets
1336845167441: Received UDP payload: 659
1336845167447: mux: Inside Packet.SERVER_REPLY
1336845167448: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845167471: Received UDP payload: 446
1336845167476: mux: Inside mux Packet.CLIENT_REQUEST
1336845167762: Received UDP payload: 446
1336845170275: Received UDP payload: 446
1336845170761: Received UDP payload: 446
1336845171913: Received UDP payload: 446
1336845171939: inside sendPacket(Packet p)
1336845171942: Sending UDP payload: 446
1336845172768: Received UDP payload: 446
1336845174229: Received UDP payload: 1006
1336845174237: mux: GOT CSM_Msg
1336845174238: forwarding disabled, not forwarding packets
1336845174344: Received UDP payload: 3734
1336845174350: mux: GOT CSM_Msg
1336845174350: forwarding disabled, not forwarding packets
1336845174914: Received UDP payload: 446
1336845175283: Received UDP payload: 446
1336845175772: Received UDP payload: 446
1336845176493: Received UDP payload: 642
1336845176497: mux: Inside mux Packet.CLIENT_REQUEST
1336845176498: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845176498: inside handleClientRequest. Originator leader of region 5
1336845176498: got new request, requestCounter = 5013037
1336845176499: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845176516: Sending to region: 3
1336845176517: Sending PROC_REQUEST 11:4 (5,0)->(3,0)
1336845176518: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(3,0)
1336845176520: mux: I got a CSM packet at a leader 

1336845176519: Note down new request by adding requestCounter=5013037 to HashMap processedRequests
1336845176519: Make FirstLeg Ack regardless of new or already-processed requests
1336845176519: The leader sending a First Leg ack to originator client (which id = 5013)
1336845176520: inside sendPacket(Packet p)
1336845176545: Sending UDP payload: 1006
1336845176546: forwarding disabled, not forwarding packets
1336845176547: Sending UDP payload: 446
1336845176648: Received UDP payload: 3734
1336845176650: mux: GOT CSM_Msg
1336845176651: Received PROC_REPLY 11:4 (3,0)->(5,0), handing to UserApp
1336845176651: inside handleDSMReply. Now back in originator leader of region 5
1336845176651: DSM layer: Going to and from remote region took latency = 135
1336845176651: DSM layer: orig leader sent packet at 1336845176516 ~ received reply from remote leader at 1336845176651
1336845176652: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845176653: leader client reply has replyCounter: 501303700
1336845176653: reply packet contains the newest photo/success info from the remote region
1336845176653: inside sendReplies of replyCount = 501303700
1336845176653: =======================
1336845176653: inside sendReplyRepeatingRunnable for replyCount = 501303700
1336845176653: Leader about to send REPLY packet, number: 501303700 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845176653: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845176654: inside sendPacket(Packet p)
1336845176654: === Finished one round of sending REPLY Packet =======
1336845176655: Sending UDP payload: 3387
1336845176712: Received UDP payload: 446
1336845176713: mux: Inside mux Packet.CLIENT_REQUEST
1336845176713: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845176713: inside handleClientRequest. Originator leader of region 5
1336845176714: got new request, requestCounter = 5013038
1336845176714: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501303700
1336845176714: Yay the last leg succeeded. Removing reply runnables ...
1336845176714: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501303700
1336845176714: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501303700
1336845176714: do not send ack for received final_leg_ack
1336845176920: Received UDP payload: 446
1336845176941: inside sendPacket(Packet p)
1336845176942: Sending UDP payload: 446
1336845177158: canPressButton = TRUE
1336845177159: areButtonsEnabled --> false 
1336845177159: get picture disableButtonsR
1336845177159: areButtonsEnabled --> false
1336845177185: one more getNum: 16
1336845177186: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=15 getBad=0 getTimedout=0 getPercent=93%
1336845177186: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336845177186: change local requestCounter to 37
1336845177192: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008037 Client in region: 5 Client nodID: 5008
1336845177224: ----------------------------
1336845177224: inside sendRequestPacketRepeatingRunnable for requestCount = 5008037
1336845177224: I'm a leader, my requesting photos packet going to mux directly
1336845177230: --- Finished one round of sending REQUEST Packet ---------
1336845177225: mux: Inside mux Packet.CLIENT_REQUEST
1336845177225: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845177269: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845177225: inside handleClientRequest. Originator leader of region 5
1336845177225: got new request, requestCounter = 5008037
1336845177225: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845177226: Sending to region: 3
1336845177226: Sending PROC_REQUEST 11:5 (5,0)->(3,0)
1336845177226: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1336845177227: mux: I got a CSM packet at a leader 

1336845177227: Note down new request by adding requestCounter=5008037 to HashMap processedRequests
1336845177227: Make FirstLeg Ack regardless of new or already-processed requests
1336845177227: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845177229: Sending UDP payload: 1006
1336845177229: forwarding disabled, not forwarding packets
1336845177318: Received UDP payload: 3734
1336845177320: mux: GOT CSM_Msg
1336845177330: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845177330: disabling progressdialog due to successful new photo get
1336845177331: Inside _enableButtons
1336845177331: areButtonsEnabled --> true
1336845177331: send final leg ack regardless of new or already-processed reply
1336845177331: inside finalLegAck: change requestCounter to 38
1336845177331: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008038 Client in region: (5,0) Client nodID: 5008
1336845177332: I'm a leader client, my final_leg packet going to mux directly
1336845177334: new client_show_remotephoto reply with replyCounter 500803700
1336845177334: note down new reply by adding replyCounter=500803700 to HashMap processedReplies
1336845177334: leader download remote photo latency = 105
1336845177335: = leader download start 1336845177225 ~ stop 1336845177330
1336845177336: one more getGood: 16
1336845177337: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=16 getBad=0 getTimedout=0 getPercent=100%
1336845177337: adding get latency: 105
1336845177338: Success! Client getting photo from remote region, showing photo...
1336845177338: Remote photo's length: 2706
1336845177321: Received PROC_REPLY 11:5 (3,0)->(5,0), handing to UserApp
1336845177321: inside handleDSMReply. Now back in originator leader of region 5
1336845177321: DSM layer: Going to and from remote region took latency = 95
1336845177321: DSM layer: orig leader sent packet at 1336845177226 ~ received reply from remote leader at 1336845177321
1336845177322: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845177322: leader client reply has replyCounter: 500803700
1336845177322: reply packet contains the newest photo/success info from the remote region
1336845177322: inside sendReplies of replyCount = 500803700
1336845177323: =======================
1336845177323: inside sendReplyRepeatingRunnable for replyCount = 500803700
1336845177323: Leader about to send REPLY packet, number: 500803700 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845177323: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845177323: === Finished one round of sending REPLY Packet =======
1336845177333: mux: Inside mux Packet.CLIENT_REQUEST
1336845177333: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845177333: inside handleClientRequest. Originator leader of region 5
1336845177333: got new request, requestCounter = 5008038
1336845177333: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500803700
1336845177333: Yay the last leg succeeded. Removing reply runnables ...
1336845177333: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500803700
1336845177333: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500803700
1336845177334: do not send ack for received final_leg_ack
1336845177781: Received UDP payload: 446
1336845179173: Received UDP payload: 1006
1336845179181: mux: GOT CSM_Msg
1336845179181: forwarding disabled, not forwarding packets
1336845179264: Received UDP payload: 3734
1336845179266: mux: GOT CSM_Msg
1336845179266: forwarding disabled, not forwarding packets
1336845179914: Received UDP payload: 446
1336845180286: Received UDP payload: 446
1336845180491: Received UDP payload: 642
1336845180493: mux: Inside mux Packet.CLIENT_REQUEST
1336845180579: Received UDP payload: 1006
1336845180582: mux: GOT CSM_Msg
1336845180583: forwarding disabled, not forwarding packets
1336845180583: Received UDP payload: 446
1336845180584: mux: Inside Packet.SERVER_REPLY
1336845180584: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845180684: Received UDP payload: 3734
1336845180690: mux: GOT CSM_Msg
1336845180691: forwarding disabled, not forwarding packets
1336845180732: Received UDP payload: 3387
1336845180743: mux: Inside Packet.SERVER_REPLY
1336845180744: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845180746: Received UDP payload: 446
1336845180749: mux: Inside mux Packet.CLIENT_REQUEST
1336845180758: Received UDP payload: 446
1336845181916: Received UDP payload: 446
1336845181941: inside sendPacket(Packet p)
1336845181944: Sending UDP payload: 446
1336845182813: Received UDP payload: 446
1336845184920: Received UDP payload: 446
1336845185288: Received UDP payload: 446
1336845185756: Received UDP payload: 446
1336845186944: inside sendPacket(Packet p)
1336845186947: Sending UDP payload: 446
1336845186954: Received UDP payload: 446
1336845187887: Received UDP payload: 446
1336845188325: Received UDP payload: 642
1336845188330: mux: Inside mux Packet.CLIENT_REQUEST
1336845188368: Received UDP payload: 1006
1336845188379: mux: GOT CSM_Msg
1336845188379: forwarding disabled, not forwarding packets
1336845188380: Received UDP payload: 446
1336845188391: mux: Inside Packet.SERVER_REPLY
1336845188392: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845188419: Received UDP payload: 3812
1336845188421: mux: GOT CSM_Msg
1336845188421: forwarding disabled, not forwarding packets
1336845188493: Received UDP payload: 3465
1336845188494: mux: Inside Packet.SERVER_REPLY
1336845188495: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845188510: Received UDP payload: 446
1336845188511: mux: Inside mux Packet.CLIENT_REQUEST
1336845189338: Received UDP payload: 1006
1336845189346: mux: GOT CSM_Msg
1336845189346: forwarding disabled, not forwarding packets
1336845189407: Received UDP payload: 3812
1336845189409: mux: GOT CSM_Msg
1336845189409: forwarding disabled, not forwarding packets
1336845189916: Received UDP payload: 446
1336845190287: Received UDP payload: 446
1336845190781: Received UDP payload: 446
1336845191749: Received UDP payload: 642
1336845191754: mux: Inside mux Packet.CLIENT_REQUEST
1336845191806: Received UDP payload: 1006
1336845191813: mux: GOT CSM_Msg
1336845191813: forwarding disabled, not forwarding packets
1336845191817: Received UDP payload: 446
1336845191822: mux: Inside Packet.SERVER_REPLY
1336845191822: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845191883: Received UDP payload: 3812
1336845191885: mux: GOT CSM_Msg
1336845191886: forwarding disabled, not forwarding packets
1336845191918: Received UDP payload: 446
1336845191946: inside sendPacket(Packet p)
1336845191947: Sending UDP payload: 446
1336845191985: Received UDP payload: 3465
1336845191987: mux: Inside Packet.SERVER_REPLY
1336845191987: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845192008: Received UDP payload: 446
1336845192009: mux: Inside mux Packet.CLIENT_REQUEST
1336845192789: Received UDP payload: 446
1336845192830: Received UDP payload: 1006
1336845192839: mux: GOT CSM_Msg
1336845192840: forwarding disabled, not forwarding packets
1336845192916: Received UDP payload: 3812
1336845192922: mux: GOT CSM_Msg
1336845192923: forwarding disabled, not forwarding packets
1336845194935: Received UDP payload: 446
1336845195300: Received UDP payload: 446
1336845195759: Received UDP payload: 446
1336845196801: Received UDP payload: 1006
1336845196808: mux: GOT CSM_Msg
1336845196809: forwarding disabled, not forwarding packets
1336845196881: Received UDP payload: 3812
1336845196888: mux: GOT CSM_Msg
1336845196888: forwarding disabled, not forwarding packets
1336845196919: Received UDP payload: 446
1336845196946: inside sendPacket(Packet p)
1336845196949: Sending UDP payload: 446
1336845197813: Received UDP payload: 446
1336845199670: Received UDP payload: 1006
1336845199678: mux: GOT CSM_Msg
1336845199679: forwarding disabled, not forwarding packets
1336845199760: Received UDP payload: 3812
1336845199762: mux: GOT CSM_Msg
1336845199763: forwarding disabled, not forwarding packets
1336845199932: Received UDP payload: 446
1336845200294: Received UDP payload: 446
1336845200768: Received UDP payload: 446
1336845201924: Received UDP payload: 446
1336845201947: inside sendPacket(Packet p)
1336845201950: Sending UDP payload: 446
1336845202550: Received UDP payload: 642
1336845202555: mux: Inside mux Packet.CLIENT_REQUEST
1336845202556: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845202556: inside handleClientRequest. Originator leader of region 5
1336845202557: got new request, requestCounter = 5013039
1336845202557: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845202559: Sending to region: 4
1336845202560: Sending PROC_REQUEST 11:4 (5,0)->(4,0)
1336845202561: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(4,0)
1336845202565: mux: I got a CSM packet at a leader 

1336845202563: Note down new request by adding requestCounter=5013039 to HashMap processedRequests
1336845202563: Make FirstLeg Ack regardless of new or already-processed requests
1336845202564: The leader sending a First Leg ack to originator client (which id = 5013)
1336845202564: inside sendPacket(Packet p)
1336845202568: Sending UDP payload: 1006
1336845202583: forwarding disabled, not forwarding packets
1336845202585: Sending UDP payload: 446
1336845202656: Received UDP payload: 3812
1336845202658: mux: GOT CSM_Msg
1336845202658: Received PROC_REPLY 11:4 (4,0)->(5,0), handing to UserApp
1336845202659: inside handleDSMReply. Now back in originator leader of region 5
1336845202659: DSM layer: Going to and from remote region took latency = 100
1336845202659: DSM layer: orig leader sent packet at 1336845202559 ~ received reply from remote leader at 1336845202659
1336845202659: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845202660: leader client reply has replyCounter: 501303900
1336845202660: reply packet contains the newest photo/success info from the remote region
1336845202660: inside sendReplies of replyCount = 501303900
1336845202660: =======================
1336845202660: inside sendReplyRepeatingRunnable for replyCount = 501303900
1336845202660: Leader about to send REPLY packet, number: 501303900 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845202661: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845202661: inside sendPacket(Packet p)
1336845202661: === Finished one round of sending REPLY Packet =======
1336845202663: Sending UDP payload: 3465
1336845202715: Received UDP payload: 446
1336845202716: mux: Inside mux Packet.CLIENT_REQUEST
1336845202717: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845202717: inside handleClientRequest. Originator leader of region 5
1336845202717: got new request, requestCounter = 5013040
1336845202717: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501303900
1336845202717: Yay the last leg succeeded. Removing reply runnables ...
1336845202717: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501303900
1336845202717: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501303900
1336845202717: do not send ack for received final_leg_ack
1336845202799: Received UDP payload: 446
1336845203435: canPressButton = TRUE
1336845203435: areButtonsEnabled --> false 
1336845203435: get picture disableButtonsR
1336845203435: areButtonsEnabled --> false
1336845203448: one more getNum: 17
1336845203449: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=16 getBad=0 getTimedout=0 getPercent=94%
1336845203449: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336845203450: change local requestCounter to 39
1336845203450: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008039 Client in region: 5 Client nodID: 5008
1336845203481: ----------------------------
1336845203481: inside sendRequestPacketRepeatingRunnable for requestCount = 5008039
1336845203482: I'm a leader, my requesting photos packet going to mux directly
1336845203487: --- Finished one round of sending REQUEST Packet ---------
1336845203482: mux: Inside mux Packet.CLIENT_REQUEST
1336845203482: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845203523: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845203482: inside handleClientRequest. Originator leader of region 5
1336845203482: got new request, requestCounter = 5008039
1336845203483: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845203483: Sending to region: 4
1336845203484: Sending PROC_REQUEST 11:5 (5,0)->(4,0)
1336845203484: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(4,0)
1336845203485: mux: I got a CSM packet at a leader 

1336845203484: Note down new request by adding requestCounter=5008039 to HashMap processedRequests
1336845203484: Make FirstLeg Ack regardless of new or already-processed requests
1336845203484: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845203486: Sending UDP payload: 1006
1336845203487: forwarding disabled, not forwarding packets
1336845203588: Received UDP payload: 3812
1336845203590: mux: GOT CSM_Msg
1336845203596: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845203596: disabling progressdialog due to successful new photo get
1336845203596: Inside _enableButtons
1336845203601: areButtonsEnabled --> true
1336845203601: send final leg ack regardless of new or already-processed reply
1336845203601: inside finalLegAck: change requestCounter to 40
1336845203601: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008040 Client in region: (5,0) Client nodID: 5008
1336845203602: I'm a leader client, my final_leg packet going to mux directly
1336845203604: new client_show_remotephoto reply with replyCounter 500803900
1336845203604: note down new reply by adding replyCounter=500803900 to HashMap processedReplies
1336845203605: leader download remote photo latency = 114
1336845203605: = leader download start 1336845203482 ~ stop 1336845203596
1336845203606: one more getGood: 17
1336845203607: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=17 getBad=0 getTimedout=0 getPercent=100%
1336845203607: adding get latency: 114
1336845203608: Success! Client getting photo from remote region, showing photo...
1336845203608: Remote photo's length: 2784
1336845203591: Received PROC_REPLY 11:5 (4,0)->(5,0), handing to UserApp
1336845203591: inside handleDSMReply. Now back in originator leader of region 5
1336845203591: DSM layer: Going to and from remote region took latency = 108
1336845203591: DSM layer: orig leader sent packet at 1336845203483 ~ received reply from remote leader at 1336845203591
1336845203592: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845203592: leader client reply has replyCounter: 500803900
1336845203592: reply packet contains the newest photo/success info from the remote region
1336845203592: inside sendReplies of replyCount = 500803900
1336845203593: =======================
1336845203593: inside sendReplyRepeatingRunnable for replyCount = 500803900
1336845203593: Leader about to send REPLY packet, number: 500803900 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845203593: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845203593: === Finished one round of sending REPLY Packet =======
1336845203603: mux: Inside mux Packet.CLIENT_REQUEST
1336845203603: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845203603: inside handleClientRequest. Originator leader of region 5
1336845203603: got new request, requestCounter = 5008040
1336845203603: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500803900
1336845203603: Yay the last leg succeeded. Removing reply runnables ...
1336845203603: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500803900
1336845203603: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500803900
1336845203604: do not send ack for received final_leg_ack
1336845204929: Received UDP payload: 446
1336845205307: Received UDP payload: 446
1336845205781: Received UDP payload: 446
1336845205898: Received UDP payload: 1006
1336845205916: mux: GOT CSM_Msg
1336845205917: forwarding disabled, not forwarding packets
1336845205935: Received UDP payload: 3812
1336845205943: mux: GOT CSM_Msg
1336845205944: forwarding disabled, not forwarding packets
1336845206947: inside sendPacket(Packet p)
1336845206962: Received UDP payload: 446
1336845206987: Sending UDP payload: 446
1336845207155: Received UDP payload: 642
1336845207159: mux: Inside mux Packet.CLIENT_REQUEST
1336845207189: Received UDP payload: 1006
1336845207199: mux: GOT CSM_Msg
1336845207199: forwarding disabled, not forwarding packets
1336845207206: Received UDP payload: 446
1336845207216: mux: Inside Packet.SERVER_REPLY
1336845207216: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845207254: Received UDP payload: 3812
1336845207262: mux: GOT CSM_Msg
1336845207262: forwarding disabled, not forwarding packets
1336845207293: Received UDP payload: 3465
1336845207298: mux: Inside Packet.SERVER_REPLY
1336845207298: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845207314: Received UDP payload: 446
1336845207318: mux: Inside mux Packet.CLIENT_REQUEST
1336845207797: Received UDP payload: 446
1336845209934: Received UDP payload: 446
1336845210339: Received UDP payload: 446
1336845210786: Received UDP payload: 446
1336845211948: inside sendPacket(Packet p)
1336845211951: Sending UDP payload: 446
1336845211993: Received UDP payload: 446
1336845212853: Received UDP payload: 446
1336845214830: Received UDP payload: 642
1336845214836: mux: Inside mux Packet.CLIENT_REQUEST
1336845214904: Received UDP payload: 1006
1336845214910: mux: GOT CSM_Msg
1336845214911: removed replies before id 4 from sentReplies of size 0
1336845214912: inside handleDSMRequest. At requests's remote leader of region 5
1336845214920: INSIDE SERVER_GET_PHOTO!!!
1336845214926: Received UDP payload: 446
1336845214957: mux: Inside Packet.SERVER_REPLY
1336845214958: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845214930: Received UDP payload: 446
1336845214955: Received PROC_REQUEST 11:4 (1,0)->(5,0), replying PROC_REPLY 11:4 (5,0)->(1,0)
1336845214957: Dispatching Atom PROC_REPLY 11:4 (5,0)->(1,0)
1336845214970: mux: I got a CSM packet at a leader 

1336845214972: Sending UDP payload: 3734
1336845214974: forwarding disabled, not forwarding packets
1336845215069: Received UDP payload: 3387
1336845215071: mux: Inside Packet.SERVER_REPLY
1336845215071: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845215092: Received UDP payload: 446
1336845215094: mux: Inside mux Packet.CLIENT_REQUEST
1336845215321: Received UDP payload: 446
1336845215924: Received UDP payload: 1006
1336845215931: mux: GOT CSM_Msg
1336845215933: removed replies before id 5 from sentReplies of size 0
1336845215933: inside handleDSMRequest. At requests's remote leader of region 5
1336845215936: INSIDE SERVER_GET_PHOTO!!!
1336845215941: Received PROC_REQUEST 11:5 (1,0)->(5,0), replying PROC_REPLY 11:5 (5,0)->(1,0)
1336845215944: Dispatching Atom PROC_REPLY 11:5 (5,0)->(1,0)
1336845215945: mux: I got a CSM packet at a leader 

1336845215952: Sending UDP payload: 3734
1336845215955: forwarding disabled, not forwarding packets
1336845216953: Received UDP payload: 446
1336845216958: inside sendPacket(Packet p)
1336845216960: Sending UDP payload: 446
1336845218388: Received UDP payload: 446
1336845218808: Received UDP payload: 1006
1336845218817: mux: GOT CSM_Msg
1336845218818: removed replies before id 4 from sentReplies of size 0
1336845218818: inside handleDSMRequest. At requests's remote leader of region 5
1336845218820: INSIDE SERVER_GET_PHOTO!!!
1336845218835: Received PROC_REQUEST 11:4 (0,0)->(5,0), replying PROC_REPLY 11:4 (5,0)->(0,0)
1336845218836: Dispatching Atom PROC_REPLY 11:4 (5,0)->(0,0)
1336845218837: mux: I got a CSM packet at a leader 

1336845218841: Sending UDP payload: 3734
1336845218858: Received UDP payload: 446
1336845218865: mux: Inside Packet.SERVER_REPLY
1336845218865: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845218865: forwarding disabled, not forwarding packets
1336845219881: Received UDP payload: 446
1336845219919: Received UDP payload: 3387
1336845219925: mux: Inside Packet.SERVER_REPLY
1336845219925: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845219936: Received UDP payload: 446
1336845219977: Received UDP payload: 1006
1336845219984: mux: GOT CSM_Msg
1336845219985: removed replies before id 5 from sentReplies of size 0
1336845219985: inside handleDSMRequest. At requests's remote leader of region 5
1336845219987: INSIDE SERVER_GET_PHOTO!!!
1336845219997: Received PROC_REQUEST 11:5 (0,0)->(5,0), replying PROC_REPLY 11:5 (5,0)->(0,0)
1336845219998: Dispatching Atom PROC_REPLY 11:5 (5,0)->(0,0)
1336845219999: mux: I got a CSM packet at a leader 

1336845220004: Sending UDP payload: 3734
1336845220012: forwarding disabled, not forwarding packets
1336845220094: Received UDP payload: 446
1336845220095: mux: Inside mux Packet.CLIENT_REQUEST
1336845220376: Received UDP payload: 446
1336845221934: Received UDP payload: 446
1336845221960: inside sendPacket(Packet p)
1336845221977: Sending UDP payload: 446
1336845223378: Received UDP payload: 446
1336845224898: Received UDP payload: 446
1336845224953: Received UDP payload: 446
1336845225338: Received UDP payload: 446
1336845226538: Received UDP payload: 1006
1336845226547: mux: GOT CSM_Msg
1336845226548: removed replies before id 2 from sentReplies of size 0
1336845226548: inside handleDSMRequest. At requests's remote leader of region 5
1336845226550: INSIDE SERVER_GET_PHOTO!!!
1336845226565: Received PROC_REQUEST 11:2 (3,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(3,0)
1336845226567: Dispatching Atom PROC_REPLY 11:2 (5,0)->(3,0)
1336845226567: mux: I got a CSM packet at a leader 

1336845226583: Sending UDP payload: 3734
1336845226586: forwarding disabled, not forwarding packets
1336845226934: Received UDP payload: 446
1336845226980: inside sendPacket(Packet p)
1336845226981: Sending UDP payload: 446
1336845227443: Received UDP payload: 1006
1336845227449: mux: GOT CSM_Msg
1336845227450: removed replies before id 2 from sentReplies of size 0
1336845227451: inside handleDSMRequest. At requests's remote leader of region 5
1336845227453: INSIDE SERVER_GET_PHOTO!!!
1336845227457: Received PROC_REQUEST 11:2 (2,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(2,0)
1336845227458: Dispatching Atom PROC_REPLY 11:2 (5,0)->(2,0)
1336845227459: mux: I got a CSM packet at a leader 

1336845227477: Sending UDP payload: 3734
1336845227480: forwarding disabled, not forwarding packets
1336845228376: Received UDP payload: 446
1336845229908: Received UDP payload: 446
1336845229980: Received UDP payload: 446
1336845230345: Received UDP payload: 446
1336845231947: Received UDP payload: 446
1336845231982: inside sendPacket(Packet p)
1336845231984: Sending UDP payload: 446
1336845232731: Received UDP payload: 642
1336845232735: mux: Inside mux Packet.CLIENT_REQUEST
1336845232735: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845232736: inside handleClientRequest. Originator leader of region 5
1336845232736: got new request, requestCounter = 5013041
1336845232736: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845232738: Sending to region: 5
1336845232739: Sending PROC_REQUEST 11:10 (5,0)->(5,0)
1336845232740: Dispatching Atom PROC_REQUEST 11:10 (5,0)->(5,0)
1336845232750: mux: I got a CSM packet at a leader 

1336845232741: Note down new request by adding requestCounter=5013041 to HashMap processedRequests
1336845232741: Make FirstLeg Ack regardless of new or already-processed requests
1336845232741: The leader sending a First Leg ack to originator client (which id = 5013)
1336845232749: inside sendPacket(Packet p)
1336845232753: Sending UDP payload: 1006
1336845232763: removed replies before id 10 from sentReplies of size 0
1336845232764: inside handleDSMRequest. At requests's remote leader of region 5
1336845232766: INSIDE SERVER_GET_PHOTO!!!
1336845232769: dst_region == src_region = 5
1336845232769:  1 self to self atomRequest
1336845232772: Received PROC_REQUEST 11:10 (5,0)->(5,0), replying PROC_REPLY 11:10 (5,0)->(5,0)
1336845232773: Dispatching Atom PROC_REPLY 11:10 (5,0)->(5,0)
1336845232789: mux: I got a CSM packet at a leader 

1336845232776: Sending UDP payload: 446
1336845232792: Sending UDP payload: 3734
1336845232805: Received PROC_REPLY 11:10 (5,0)->(5,0), handing to UserApp
1336845232806: inside handleDSMReply. Now back in originator leader of region 5
1336845232806: DSM layer: Going to and from remote region took latency = 67
1336845232807: DSM layer: orig leader sent packet at 1336845232739 ~ received reply from remote leader at 1336845232806
1336845232809: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845232809: leader client reply has replyCounter: 501304100
1336845232809: reply packet contains the newest photo/success info from the remote region
1336845232810: inside sendReplies of replyCount = 501304100
1336845232810: =======================
1336845232811: inside sendReplyRepeatingRunnable for replyCount = 501304100
1336845232811: Leader about to send REPLY packet, number: 501304100 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845232812: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845232812: inside sendPacket(Packet p)
1336845232812: === Finished one round of sending REPLY Packet =======
1336845232824: Sending UDP payload: 3387
1336845232942: Received UDP payload: 446
1336845232943: mux: Inside mux Packet.CLIENT_REQUEST
1336845232943: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845232944: inside handleClientRequest. Originator leader of region 5
1336845232944: got new request, requestCounter = 5013042
1336845232944: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501304100
1336845232944: Yay the last leg succeeded. Removing reply runnables ...
1336845232944: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501304100
1336845232944: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501304100
1336845232944: do not send ack for received final_leg_ack
1336845233381: Received UDP payload: 446
1336845233766: Received UDP payload: 1006
1336845233776: mux: GOT CSM_Msg
1336845233777: removed replies before id 4 from sentReplies of size 0
1336845233777: inside handleDSMRequest. At requests's remote leader of region 5
1336845233779: INSIDE SERVER_GET_PHOTO!!!
1336845233784: Received PROC_REQUEST 11:4 (4,0)->(5,0), replying PROC_REPLY 11:4 (5,0)->(4,0)
1336845233816: Dispatching Atom PROC_REPLY 11:4 (5,0)->(4,0)
1336845233822: mux: I got a CSM packet at a leader 

1336845233823: Sending UDP payload: 3734
1336845233827: forwarding disabled, not forwarding packets
1336845233972: canPressButton = TRUE
1336845233973: areButtonsEnabled --> false 
1336845233974: get picture disableButtonsR
1336845233975: areButtonsEnabled --> false
1336845234011: one more getNum: 18
1336845234013: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=17 getBad=0 getTimedout=0 getPercent=94%
1336845234014: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336845234015: change local requestCounter to 41
1336845234029: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008041 Client in region: 5 Client nodID: 5008
1336845234075: ----------------------------
1336845234075: inside sendRequestPacketRepeatingRunnable for requestCount = 5008041
1336845234076: I'm a leader, my requesting photos packet going to mux directly
1336845234076: --- Finished one round of sending REQUEST Packet ---------
1336845234076: mux: Inside mux Packet.CLIENT_REQUEST
1336845234076: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845234120: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845234076: inside handleClientRequest. Originator leader of region 5
1336845234076: got new request, requestCounter = 5008041
1336845234077: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845234077: Sending to region: 5
1336845234078: Sending PROC_REQUEST 11:11 (5,0)->(5,0)
1336845234078: Dispatching Atom PROC_REQUEST 11:11 (5,0)->(5,0)
1336845234079: mux: I got a CSM packet at a leader 

1336845234078: Note down new request by adding requestCounter=5008041 to HashMap processedRequests
1336845234078: Make FirstLeg Ack regardless of new or already-processed requests
1336845234078: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845234080: Sending UDP payload: 1006
1336845234080: removed replies before id 11 from sentReplies of size 0
1336845234080: inside handleDSMRequest. At requests's remote leader of region 5
1336845234081: INSIDE SERVER_GET_PHOTO!!!
1336845234082: dst_region == src_region = 5
1336845234082:  1 self to self atomRequest
1336845234084: Received PROC_REQUEST 11:11 (5,0)->(5,0), replying PROC_REPLY 11:11 (5,0)->(5,0)
1336845234084: Dispatching Atom PROC_REPLY 11:11 (5,0)->(5,0)
1336845234084: mux: I got a CSM packet at a leader 

1336845234086: Sending UDP payload: 3734
1336845234087: Received PROC_REPLY 11:11 (5,0)->(5,0), handing to UserApp
1336845234087: inside handleDSMReply. Now back in originator leader of region 5
1336845234087: DSM layer: Going to and from remote region took latency = 10
1336845234087: DSM layer: orig leader sent packet at 1336845234077 ~ received reply from remote leader at 1336845234087
1336845234088: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845234088: leader client reply has replyCounter: 500804100
1336845234088: reply packet contains the newest photo/success info from the remote region
1336845234088: inside sendReplies of replyCount = 500804100
1336845234089: =======================
1336845234089: inside sendReplyRepeatingRunnable for replyCount = 500804100
1336845234090: Leader about to send REPLY packet, number: 500804100 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845234090: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845234123: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845234123: disabling progressdialog due to successful new photo get
1336845234123: Inside _enableButtons
1336845234124: areButtonsEnabled --> true
1336845234124: send final leg ack regardless of new or already-processed reply
1336845234124: inside finalLegAck: change requestCounter to 42
1336845234124: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008042 Client in region: (5,0) Client nodID: 5008
1336845234125: I'm a leader client, my final_leg packet going to mux directly
1336845234126: new client_show_remotephoto reply with replyCounter 500804100
1336845234126: note down new reply by adding replyCounter=500804100 to HashMap processedReplies
1336845234127: leader download remote photo latency = 47
1336845234128: = leader download start 1336845234076 ~ stop 1336845234123
1336845234129: one more getGood: 18
1336845234130: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336845234131: adding get latency: 47
1336845234131: Success! Client getting photo from remote region, showing photo...
1336845234132: Remote photo's length: 2706
1336845234090: === Finished one round of sending REPLY Packet =======
1336845234125: mux: Inside mux Packet.CLIENT_REQUEST
1336845234125: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845234125: inside handleClientRequest. Originator leader of region 5
1336845234125: got new request, requestCounter = 5008042
1336845234125: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500804100
1336845234126: Yay the last leg succeeded. Removing reply runnables ...
1336845234126: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500804100
1336845234126: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500804100
1336845234126: do not send ack for received final_leg_ack
1336845234913: Received UDP payload: 446
1336845234957: Received UDP payload: 446
1336845235299: Received UDP payload: 642
1336845235306: mux: Inside mux Packet.CLIENT_REQUEST
1336845235380: Received UDP payload: 1006
1336845235390: mux: GOT CSM_Msg
1336845235391: removed replies before id 5 from sentReplies of size 0
1336845235392: inside handleDSMRequest. At requests's remote leader of region 5
1336845235394: INSIDE SERVER_GET_PHOTO!!!
1336845235399: Received PROC_REQUEST 11:5 (4,0)->(5,0), replying PROC_REPLY 11:5 (5,0)->(4,0)
1336845235400: Dispatching Atom PROC_REPLY 11:5 (5,0)->(4,0)
1336845235401: mux: I got a CSM packet at a leader 

1336845235412: Received UDP payload: 446
1336845235415: Sending UDP payload: 3734
1336845235435: mux: Inside Packet.SERVER_REPLY
1336845235435: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845235434: forwarding disabled, not forwarding packets
1336845235512: Received UDP payload: 3387
1336845235514: mux: Inside Packet.SERVER_REPLY
1336845235514: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845235538: Received UDP payload: 446
1336845235540: mux: Inside mux Packet.CLIENT_REQUEST
1336845236943: Received UDP payload: 446
1336845236982: inside sendPacket(Packet p)
1336845236985: Sending UDP payload: 446
1336845237239: Received UDP payload: 446
1336845238379: Received UDP payload: 446
1336845239927: Received UDP payload: 446
1336845239963: Received UDP payload: 446
1336845241937: Received UDP payload: 446
1336845241992: inside sendPacket(Packet p)
1336845241995: Sending UDP payload: 446
1336845242240: Received UDP payload: 446
1336845243386: Received UDP payload: 446
1336845244914: Received UDP payload: 446
1336845244964: Received UDP payload: 446
1336845246940: Received UDP payload: 446
1336845246992: inside sendPacket(Packet p)
1336845246995: Sending UDP payload: 446
1336845247242: Received UDP payload: 446
1336845248385: Received UDP payload: 446
1336845249920: Received UDP payload: 446
1336845249964: Received UDP payload: 446
1336845251994: inside sendPacket(Packet p)
1336845251997: Sending UDP payload: 446
1336845252246: Received UDP payload: 446
1336845253384: Received UDP payload: 446
1336845253965: Received UDP payload: 446
1336845254926: Received UDP payload: 446
1336845254974: Received UDP payload: 446
1336845256996: inside sendPacket(Packet p)
1336845257005: Sending UDP payload: 446
1336845257259: Received UDP payload: 446
1336845257326: Received UDP payload: 3399
1336845257331: mux: Inside mux Packet.CLIENT_REQUEST
1336845257382: Received UDP payload: 3763
1336845257389: mux: GOT CSM_Msg
1336845257390: forwarding disabled, not forwarding packets
1336845257399: Received UDP payload: 446
1336845257404: mux: Inside Packet.SERVER_REPLY
1336845257404: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845257404: Received UDP payload: 1006
1336845257406: mux: GOT CSM_Msg
1336845257406: forwarding disabled, not forwarding packets
1336845257408: Received UDP payload: 659
1336845257409: mux: Inside Packet.SERVER_REPLY
1336845257409: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845257425: Received UDP payload: 446
1336845257426: mux: Inside mux Packet.CLIENT_REQUEST
1336845258234: Received UDP payload: 3760
1336845258241: mux: GOT CSM_Msg
1336845258241: forwarding disabled, not forwarding packets
1336845258250: Received UDP payload: 1006
1336845258258: mux: GOT CSM_Msg
1336845258258: forwarding disabled, not forwarding packets
1336845258388: Received UDP payload: 446
1336845259378: Received UDP payload: 3502
1336845259383: mux: Inside mux Packet.CLIENT_REQUEST
1336845259436: Received UDP payload: 3866
1336845259444: mux: GOT CSM_Msg
1336845259444: forwarding disabled, not forwarding packets
1336845259445: Received UDP payload: 446
1336845259449: mux: Inside Packet.SERVER_REPLY
1336845259450: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845259458: Received UDP payload: 1006
1336845259460: mux: GOT CSM_Msg
1336845259460: forwarding disabled, not forwarding packets
1336845259460: Received UDP payload: 659
1336845259467: mux: Inside Packet.SERVER_REPLY
1336845259467: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845259489: Received UDP payload: 446
1336845259491: mux: Inside mux Packet.CLIENT_REQUEST
1336845259954: Received UDP payload: 446
1336845259977: Received UDP payload: 446
1336845260369: Received UDP payload: 3814
1336845260380: mux: GOT CSM_Msg
1336845260380: forwarding disabled, not forwarding packets
1336845260391: Received UDP payload: 1006
1336845260405: mux: GOT CSM_Msg
1336845260405: forwarding disabled, not forwarding packets
1336845261904: leader to cloud hearbeat...
1336845262277: Received UDP payload: 446
1336845263438: Received UDP payload: 446
1336845264107: inside sendPacket(Packet p)
1336845264120: Sending UDP payload: 446
1336845264760: Received UDP payload: 3745
1336845264762: mux: GOT CSM_Msg
1336845264762: forwarding disabled, not forwarding packets
1336845264772: Received UDP payload: 1006
1336845264776: mux: GOT CSM_Msg
1336845264776: forwarding disabled, not forwarding packets
1336845264930: Received UDP payload: 446
1336845264977: Received UDP payload: 446
1336845267281: Received UDP payload: 446
1336845268217: Received UDP payload: 3834
1336845268219: mux: GOT CSM_Msg
1336845268219: forwarding disabled, not forwarding packets
1336845268235: Received UDP payload: 1006
1336845268237: mux: GOT CSM_Msg
1336845268237: forwarding disabled, not forwarding packets
1336845269121: inside sendPacket(Packet p)
1336845269122: Sending UDP payload: 446
1336845269662: canPressButton = TRUE
1336845269662: areButtonsEnabled --> false
1336845269662: disabling buttons ...
1336845269662: took picture disableButtonsR
1336845269663: areButtonsEnabled --> false
1336845269714: one more takeNum: 4
1336845269715: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336845269715: Clicked take picture button ..
1336845270899: inside HandlePictureStorage onPictureTaken()
1336845270899: one more takeCamGood: 4
1336845270900: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336845271387: Picture successfully taken, ORIG BYTE LENGTH = 858050
1336845271501: Our new height x width: 306 x 408
1336845271502: Show photo from handle my camera take
1336845271502: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336845271502: change local requestCounter to 43
1336845271516: BYTE SIZE AFTER COMPRESSION: 2706
1336845271525: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5008043 Client in region: 5 Client nodID: 5008
1336845271564: ----------------------------
1336845271565: inside sendRequestPacketRepeatingRunnable for requestCount = 5008043
1336845271565: I'm a leader, my requesting photos packet going to mux directly
1336845271575: --- Finished one round of sending REQUEST Packet ---------
1336845271566: mux: Inside mux Packet.CLIENT_REQUEST
1336845271566: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845271610: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845271566: inside handleClientRequest. Originator leader of region 5
1336845271566: got new request, requestCounter = 5008043
1336845271566: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845271567: Sending PROC_REQUEST 10:12 (5,0)->(5,0)
1336845271567: Dispatching Atom PROC_REQUEST 10:12 (5,0)->(5,0)
1336845271568: mux: I got a CSM packet at a leader 

1336845271616: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845271617: I'm a leader and I successfully saved my client's new photo
1336845271618: now showing in UI the new photo I just saved ... 
1336845271618: the photo length: 2706
1336845271663: end of server show photo aside %%%%%%%%%
1336845271568: Note down new request by adding requestCounter=5008043 to HashMap processedRequests
1336845271568: Make FirstLeg Ack regardless of new or already-processed requests
1336845271568: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845271585: Sending UDP payload: 3734
1336845271588: removed replies before id 12 from sentReplies of size 0
1336845271588: inside handleDSMRequest. At requests's remote leader of region 5
1336845271591: Inside UPLOAD_PHOTO!!
1336845271602: my_gpinfo.isSuccess is now (should be true): true
1336845271602: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845271603: Received PROC_REQUEST 10:12 (5,0)->(5,0), replying PROC_REPLY 10:12 (5,0)->(5,0)
1336845271604: Dispatching Atom PROC_REPLY 10:12 (5,0)->(5,0)
1336845271604: mux: I got a CSM packet at a leader 

1336845271694: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336845271695: disabling progressdialog due to successful new photo upload
1336845271695: Inside _enableButtons
1336845271696: areButtonsEnabled --> true
1336845271696: send final leg ack regardless of new or already-processed reply
1336845271697: inside finalLegAck: change requestCounter to 44
1336845271697: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008044 Client in region: (5,0) Client nodID: 5008
1336845271697: I'm a leader client, my final_leg packet going to mux directly
1336845271699: new client_upload_photo_ack reply with replyCounter 500804300
1336845271700: note down new reply by adding replyCounter=500804300 to HashMap processedReplies
1336845271700: leader upload new photo latency = 128
1336845271701: = leader upload start 1336845271566 ~ stop 1336845271694
1336845271702: one more takeGoodSave: 4
1336845271703: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336845271704: adding take latency: 128
1336845271704: SUCCESS Client now knows saving photo on its leader succeeded
1336845271605: Sending UDP payload: 1006
1336845271611: Received PROC_REPLY 10:12 (5,0)->(5,0), handing to UserApp
1336845271611: inside handleDSMReply. Now back in originator leader of region 5
1336845271611: DSM layer: Going to and from remote region took latency = 44
1336845271611: DSM layer: orig leader sent packet at 1336845271567 ~ received reply from remote leader at 1336845271611
1336845271612: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845271612: leader client reply has replyCounter: 500804300
1336845271613: reply packet contains the success info for UPLOAD_PHOTO
1336845271613: inside sendReplies of replyCount = 500804300
1336845271613: =======================
1336845271614: inside sendReplyRepeatingRunnable for replyCount = 500804300
1336845271614: Leader about to send REPLY packet, number: 500804300 type: 16 Leader in region: (5,0) to Client nodID: 5008
1336845271614: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845271614: === Finished one round of sending REPLY Packet =======
1336845271698: mux: Inside mux Packet.CLIENT_REQUEST
1336845271698: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845271698: inside handleClientRequest. Originator leader of region 5
1336845271698: got new request, requestCounter = 5008044
1336845271698: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500804300
1336845271699: Yay the last leg succeeded. Removing reply runnables ...
1336845271699: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500804300
1336845271699: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500804300
1336845271699: do not send ack for received final_leg_ack
1336845274122: inside sendPacket(Packet p)
1336845274124: Sending UDP payload: 446
1336845276962: Received UDP payload: 3807
1336845276978: mux: GOT CSM_Msg
1336845276979: forwarding disabled, not forwarding packets
1336845276995: Received UDP payload: 1006
1336845277000: mux: GOT CSM_Msg
1336845277001: forwarding disabled, not forwarding packets
1336845277327: Received UDP payload: 446
1336845278329: Received UDP payload: 3447
1336845278336: mux: Inside mux Packet.CLIENT_REQUEST
1336845278389: Received UDP payload: 446
1336845278434: Received UDP payload: 3811
1336845278436: mux: GOT CSM_Msg
1336845278436: forwarding disabled, not forwarding packets
1336845278439: Received UDP payload: 446
1336845278440: mux: Inside Packet.SERVER_REPLY
1336845278441: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845278467: Received UDP payload: 1006
1336845278470: mux: GOT CSM_Msg
1336845278470: forwarding disabled, not forwarding packets
1336845278479: Received UDP payload: 659
1336845278482: mux: Inside Packet.SERVER_REPLY
1336845278483: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845278491: Received UDP payload: 446
1336845278493: mux: Inside mux Packet.CLIENT_REQUEST
1336845278979: Received UDP payload: 446
1336845279123: inside sendPacket(Packet p)
1336845279126: Sending UDP payload: 446
1336845279939: Received UDP payload: 446
1336845282006: Received UDP payload: 446
1336845282304: Received UDP payload: 446
1336845283390: Received UDP payload: 446
1336845283988: Received UDP payload: 446
1336845284129: inside sendPacket(Packet p)
1336845284132: Sending UDP payload: 446
1336845284946: Received UDP payload: 446
1336845286987: Received UDP payload: 446
1336845287322: Received UDP payload: 446
1336845288404: Received UDP payload: 446
1336845288992: Received UDP payload: 446
1336845289130: inside sendPacket(Packet p)
1336845289133: Sending UDP payload: 446
1336845289954: Received UDP payload: 446
1336845291993: Received UDP payload: 446
1336845292336: Received UDP payload: 446
1336845293404: Received UDP payload: 446
1336845293734: Received UDP payload: 642
1336845293739: mux: Inside mux Packet.CLIENT_REQUEST
1336845293803: Received UDP payload: 1006
1336845293811: mux: GOT CSM_Msg
1336845293811: forwarding disabled, not forwarding packets
1336845293822: Received UDP payload: 446
1336845293826: mux: Inside Packet.SERVER_REPLY
1336845293827: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845293873: Received UDP payload: 3814
1336845293875: mux: GOT CSM_Msg
1336845293876: forwarding disabled, not forwarding packets
1336845293925: Received UDP payload: 3467
1336845293926: mux: Inside Packet.SERVER_REPLY
1336845293926: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845293937: Received UDP payload: 446
1336845293938: mux: Inside mux Packet.CLIENT_REQUEST
1336845293996: Received UDP payload: 446
1336845294045: Received UDP payload: 642
1336845294047: mux: Inside mux Packet.CLIENT_REQUEST
1336845294067: Received UDP payload: 1006
1336845294069: mux: GOT CSM_Msg
1336845294069: forwarding disabled, not forwarding packets
1336845294080: Received UDP payload: 446
1336845294082: mux: Inside Packet.SERVER_REPLY
1336845294082: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845294131: inside sendPacket(Packet p)
1336845294132: Sending UDP payload: 446
1336845294133: Received UDP payload: 3814
1336845294136: mux: GOT CSM_Msg
1336845294136: forwarding disabled, not forwarding packets
1336845294178: Received UDP payload: 3467
1336845294180: mux: Inside Packet.SERVER_REPLY
1336845294180: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845294190: Received UDP payload: 446
1336845294192: mux: Inside mux Packet.CLIENT_REQUEST
1336845294969: Received UDP payload: 446
1336845295498: Received UDP payload: 1006
1336845295507: mux: GOT CSM_Msg
1336845295508: forwarding disabled, not forwarding packets
1336845295539: Received UDP payload: 3814
1336845295547: mux: GOT CSM_Msg
1336845295548: forwarding disabled, not forwarding packets
1336845296121: Received UDP payload: 1006
1336845296129: mux: GOT CSM_Msg
1336845296129: forwarding disabled, not forwarding packets
1336845296170: Received UDP payload: 3814
1336845296173: mux: GOT CSM_Msg
1336845296173: forwarding disabled, not forwarding packets
1336845296996: Received UDP payload: 446
1336845297377: Received UDP payload: 446
1336845298428: Received UDP payload: 446
1336845298993: Received UDP payload: 446
1336845299132: inside sendPacket(Packet p)
1336845299135: Sending UDP payload: 446
1336845299953: Received UDP payload: 446
1336845302003: Received UDP payload: 446
1336845302373: Received UDP payload: 446
1336845302424: Received UDP payload: 1006
1336845302432: mux: GOT CSM_Msg
1336845302432: forwarding disabled, not forwarding packets
1336845302526: Received UDP payload: 3814
1336845302532: mux: GOT CSM_Msg
1336845302533: forwarding disabled, not forwarding packets
1336845303297: Received UDP payload: 1006
1336845303308: mux: GOT CSM_Msg
1336845303308: forwarding disabled, not forwarding packets
1336845303382: Received UDP payload: 3814
1336845303384: mux: GOT CSM_Msg
1336845303384: forwarding disabled, not forwarding packets
1336845303449: Received UDP payload: 446
1336845303993: Received UDP payload: 446
1336845304133: inside sendPacket(Packet p)
1336845304136: Sending UDP payload: 446
1336845304971: Received UDP payload: 446
1336845307038: Received UDP payload: 446
1336845307953: Received UDP payload: 642
1336845307959: mux: Inside mux Packet.CLIENT_REQUEST
1336845307959: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845307960: inside handleClientRequest. Originator leader of region 5
1336845307960: got new request, requestCounter = 5013044
1336845307960: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845307972: Sending to region: 0
1336845307973: Sending PROC_REQUEST 11:6 (5,0)->(0,0)
1336845307975: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845307977: mux: I got a CSM packet at a leader 

1336845307975: Note down new request by adding requestCounter=5013044 to HashMap processedRequests
1336845307975: Make FirstLeg Ack regardless of new or already-processed requests
1336845307976: The leader sending a First Leg ack to originator client (which id = 5013)
1336845307976: inside sendPacket(Packet p)
1336845307980: Sending UDP payload: 1006
1336845307993: forwarding disabled, not forwarding packets
1336845307996: Sending UDP payload: 446
1336845308421: Received UDP payload: 446
1336845308761: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845308762: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845308762: mux: I got a CSM packet at a leader 

1336845308763: Sending UDP payload: 1006
1336845308764: forwarding disabled, not forwarding packets
1336845308825: canPressButton = TRUE
1336845308825: areButtonsEnabled --> false 
1336845308825: get picture disableButtonsR
1336845308825: areButtonsEnabled --> false
1336845308851: one more getNum: 19
1336845308852: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=18 getBad=0 getTimedout=0 getPercent=94%
1336845308853: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336845308853: change local requestCounter to 45
1336845308853: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008045 Client in region: 5 Client nodID: 5008
1336845308885: ----------------------------
1336845308886: inside sendRequestPacketRepeatingRunnable for requestCount = 5008045
1336845308886: I'm a leader, my requesting photos packet going to mux directly
1336845308892: --- Finished one round of sending REQUEST Packet ---------
1336845308868: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845308868: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845308868: mux: I got a CSM packet at a leader 

1336845308869: Sending UDP payload: 1006
1336845308870: forwarding disabled, not forwarding packets
1336845308886: mux: Inside mux Packet.CLIENT_REQUEST
1336845308886: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845308930: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845308886: inside handleClientRequest. Originator leader of region 5
1336845308886: got new request, requestCounter = 5008045
1336845308886: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845308887: Sending to region: 0
1336845308888: Sending PROC_REQUEST 11:7 (5,0)->(0,0)
1336845308888: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845308889: mux: I got a CSM packet at a leader 

1336845308888: Note down new request by adding requestCounter=5008045 to HashMap processedRequests
1336845308888: Make FirstLeg Ack regardless of new or already-processed requests
1336845308888: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845308890: Sending UDP payload: 1006
1336845308891: forwarding disabled, not forwarding packets
1336845308969: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845308969: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845308969: mux: I got a CSM packet at a leader 

1336845308970: Sending UDP payload: 1006
1336845308971: forwarding disabled, not forwarding packets
1336845308997: Received UDP payload: 446
1336845309070: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309070: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309070: mux: I got a CSM packet at a leader 

1336845309071: Sending UDP payload: 1006
1336845309072: forwarding disabled, not forwarding packets
1336845309139: inside sendPacket(Packet p)
1336845309140: Sending UDP payload: 446
1336845309170: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309171: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309171: mux: I got a CSM packet at a leader 

1336845309172: Sending UDP payload: 1006
1336845309173: forwarding disabled, not forwarding packets
1336845309271: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309272: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309272: mux: I got a CSM packet at a leader 

1336845309273: Sending UDP payload: 1006
1336845309274: forwarding disabled, not forwarding packets
1336845309360: Received UDP payload: 1006
1336845309363: mux: GOT CSM_Msg
1336845309363: forwarding disabled, not forwarding packets
1336845309373: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309373: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309375: mux: I got a CSM packet at a leader 

1336845309376: Sending UDP payload: 1006
1336845309377: forwarding disabled, not forwarding packets
1336845309474: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309474: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309474: mux: I got a CSM packet at a leader 

1336845309475: Sending UDP payload: 1006
1336845309476: forwarding disabled, not forwarding packets
1336845309575: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309575: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309575: mux: I got a CSM packet at a leader 

1336845309577: Sending UDP payload: 1006
1336845309577: forwarding disabled, not forwarding packets
1336845309676: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309676: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309677: mux: I got a CSM packet at a leader 

1336845309677: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845309677: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845309680: mux: I got a CSM packet at a leader 

1336845309678: Sending UDP payload: 1006
1336845309679: forwarding disabled, not forwarding packets
1336845309681: Sending UDP payload: 1006
1336845309681: forwarding disabled, not forwarding packets
1336845309778: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309778: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309779: mux: I got a CSM packet at a leader 

1336845309778: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845309779: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845309781: mux: I got a CSM packet at a leader 

1336845309780: Sending UDP payload: 1006
1336845309781: forwarding disabled, not forwarding packets
1336845309782: Sending UDP payload: 1006
1336845309783: forwarding disabled, not forwarding packets
1336845309879: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309880: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309887: mux: I got a CSM packet at a leader 

1336845309880: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845309880: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845309890: mux: I got a CSM packet at a leader 

1336845309888: Sending UDP payload: 1006
1336845309890: forwarding disabled, not forwarding packets
1336845309891: Sending UDP payload: 1006
1336845309891: forwarding disabled, not forwarding packets
1336845309981: Retrying PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309981: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(0,0)
1336845309982: mux: I got a CSM packet at a leader 

1336845309982: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845309982: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845309984: mux: I got a CSM packet at a leader 

1336845309984: Sending UDP payload: 1006
1336845309984: forwarding disabled, not forwarding packets
1336845309985: Sending UDP payload: 1006
1336845309993: forwarding disabled, not forwarding packets
1336845310083: DSM Layer: Request timed out, send failure PROC_REPLY 11:6 (0,0)->(5,0)
1336845310083: Dispatching Atom PROC_REPLY 11:6 (0,0)->(5,0)
1336845310084: mux: I got a CSM packet at a leader 

1336845310084: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310084: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310088: mux: I got a CSM packet at a leader 

1336845310085: Sending UDP payload: 1006
1336845310086: Received PROC_REPLY 11:6 (0,0)->(5,0), handing to UserApp
1336845310086: inside handleDSMReply. Now back in originator leader of region 5
1336845310087: DSM layer timed out, don't log dsm layer latency stuff.
1336845310087: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845310087: leader client reply has replyCounter: 501304400
1336845310087: reply packet contains the newest photo/success info from the remote region
1336845310088: inside sendReplies of replyCount = 501304400
1336845310089: Sending UDP payload: 1006
1336845310089: =======================
1336845310089: inside sendReplyRepeatingRunnable for replyCount = 501304400
1336845310090: Leader about to send REPLY packet, number: 501304400 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845310090: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845310090: inside sendPacket(Packet p)
1336845310090: === Finished one round of sending REPLY Packet =======
1336845310095: forwarding disabled, not forwarding packets
1336845310098: Sending UDP payload: 659
1336845310133: Received UDP payload: 1006
1336845310136: mux: GOT CSM_Msg
1336845310136: forwarding disabled, not forwarding packets
1336845310141: Received UDP payload: 446
1336845310143: mux: Inside mux Packet.CLIENT_REQUEST
1336845310143: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845310143: inside handleClientRequest. Originator leader of region 5
1336845310144: got new request, requestCounter = 5013045
1336845310144: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501304400
1336845310145: Yay the last leg succeeded. Removing reply runnables ...
1336845310145: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501304400
1336845310145: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501304400
1336845310146: do not send ack for received final_leg_ack
1336845310186: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310186: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310187: mux: I got a CSM packet at a leader 

1336845310188: Sending UDP payload: 1006
1336845310189: forwarding disabled, not forwarding packets
1336845310235: Received UDP payload: 1006
1336845310238: mux: GOT CSM_Msg
1336845310238: forwarding disabled, not forwarding packets
1336845310287: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310287: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310288: mux: I got a CSM packet at a leader 

1336845310289: Sending UDP payload: 1006
1336845310290: forwarding disabled, not forwarding packets
1336845310339: Received UDP payload: 1006
1336845310342: mux: GOT CSM_Msg
1336845310342: forwarding disabled, not forwarding packets
1336845310388: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310389: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310393: mux: I got a CSM packet at a leader 

1336845310395: Sending UDP payload: 1006
1336845310396: forwarding disabled, not forwarding packets
1336845310443: Received UDP payload: 1006
1336845310446: mux: GOT CSM_Msg
1336845310446: forwarding disabled, not forwarding packets
1336845310490: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310490: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310490: mux: I got a CSM packet at a leader 

1336845310492: Sending UDP payload: 1006
1336845310493: forwarding disabled, not forwarding packets
1336845310546: Received UDP payload: 1006
1336845310549: mux: GOT CSM_Msg
1336845310549: forwarding disabled, not forwarding packets
1336845310565: Received UDP payload: 642
1336845310571: mux: Inside mux Packet.CLIENT_REQUEST
1336845310591: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310591: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310593: mux: I got a CSM packet at a leader 

1336845310594: Received UDP payload: 1006
1336845310595: Sending UDP payload: 1006
1336845310595: forwarding disabled, not forwarding packets
1336845310597: mux: GOT CSM_Msg
1336845310597: forwarding disabled, not forwarding packets
1336845310600: Received UDP payload: 446
1336845310606: mux: Inside Packet.SERVER_REPLY
1336845310606: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845310646: Received UDP payload: 1006
1336845310648: mux: GOT CSM_Msg
1336845310648: forwarding disabled, not forwarding packets
1336845310692: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310692: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310693: mux: I got a CSM packet at a leader 

1336845310696: Sending UDP payload: 1006
1336845310696: forwarding disabled, not forwarding packets
1336845310748: Received UDP payload: 1006
1336845310750: mux: GOT CSM_Msg
1336845310751: forwarding disabled, not forwarding packets
1336845310794: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310794: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310794: mux: I got a CSM packet at a leader 

1336845310798: Sending UDP payload: 1006
1336845310798: forwarding disabled, not forwarding packets
1336845310851: Received UDP payload: 1006
1336845310854: mux: GOT CSM_Msg
1336845310855: forwarding disabled, not forwarding packets
1336845310895: Retrying PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310895: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(0,0)
1336845310895: mux: I got a CSM packet at a leader 

1336845310898: Sending UDP payload: 1006
1336845310899: forwarding disabled, not forwarding packets
1336845310953: Received UDP payload: 1006
1336845310955: mux: GOT CSM_Msg
1336845310955: forwarding disabled, not forwarding packets
1336845310996: DSM Layer: Request timed out, send failure PROC_REPLY 11:7 (0,0)->(5,0)
1336845310996: Dispatching Atom PROC_REPLY 11:7 (0,0)->(5,0)
1336845310996: mux: I got a CSM packet at a leader 

1336845311011: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845311012: disabling progressdialog due to successful new photo get
1336845311012: Inside _enableButtons
1336845311012: areButtonsEnabled --> true
1336845311013: send final leg ack regardless of new or already-processed reply
1336845311013: inside finalLegAck: change requestCounter to 46
1336845311013: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008046 Client in region: (5,0) Client nodID: 5008
1336845311014: I'm a leader client, my final_leg packet going to mux directly
1336845311014: new client_show_remotephoto reply with replyCounter 500804500
1336845311014: note down new reply by adding replyCounter=500804500 to HashMap processedReplies
1336845311014: leader download remote photo latency = 2125
1336845311015: = leader download start 1336845308886 ~ stop 1336845311011
1336845311016: Can't get remote photo, because DSM Layer on originator leader timed out
1336845311021: one more getBad: 1
1336845311022: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=18 getBad=1 getTimedout=0 getPercent=94%
1336845311022: getBad++
1336845310999: Sending UDP payload: 1006
1336845311001: Received PROC_REPLY 11:7 (0,0)->(5,0), handing to UserApp
1336845311001: inside handleDSMReply. Now back in originator leader of region 5
1336845311001: DSM layer timed out, don't log dsm layer latency stuff.
1336845311003: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845311003: leader client reply has replyCounter: 500804500
1336845311004: reply packet contains the newest photo/success info from the remote region
1336845311005: inside sendReplies of replyCount = 500804500
1336845311006: =======================
1336845311006: inside sendReplyRepeatingRunnable for replyCount = 500804500
1336845311007: Leader about to send REPLY packet, number: 500804500 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845311007: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845311007: === Finished one round of sending REPLY Packet =======
1336845311014: mux: Inside mux Packet.CLIENT_REQUEST
1336845311014: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845311015: inside handleClientRequest. Originator leader of region 5
1336845311015: got new request, requestCounter = 5008046
1336845311016: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500804500
1336845311016: Yay the last leg succeeded. Removing reply runnables ...
1336845311016: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500804500
1336845311017: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500804500
1336845311017: do not send ack for received final_leg_ack
1336845311071: Received UDP payload: 1006
1336845311076: mux: GOT CSM_Msg
1336845311076: forwarding disabled, not forwarding packets
1336845311157: Received UDP payload: 1006
1336845311160: mux: GOT CSM_Msg
1336845311160: forwarding disabled, not forwarding packets
1336845311257: Received UDP payload: 1006
1336845311259: mux: GOT CSM_Msg
1336845311259: forwarding disabled, not forwarding packets
1336845311358: Received UDP payload: 1006
1336845311360: mux: GOT CSM_Msg
1336845311360: forwarding disabled, not forwarding packets
1336845311368: Received UDP payload: 1006
1336845311371: mux: GOT CSM_Msg
1336845311371: forwarding disabled, not forwarding packets
1336845311464: Received UDP payload: 1006
1336845311466: mux: GOT CSM_Msg
1336845311466: forwarding disabled, not forwarding packets
1336845311474: Received UDP payload: 1006
1336845311476: mux: GOT CSM_Msg
1336845311476: forwarding disabled, not forwarding packets
1336845311567: Received UDP payload: 1006
1336845311571: mux: GOT CSM_Msg
1336845311571: forwarding disabled, not forwarding packets
1336845311581: Received UDP payload: 1006
1336845311585: mux: GOT CSM_Msg
1336845311585: forwarding disabled, not forwarding packets
1336845311673: Received UDP payload: 1006
1336845311678: mux: GOT CSM_Msg
1336845311679: forwarding disabled, not forwarding packets
1336845311775: Received UDP payload: 1006
1336845311783: mux: GOT CSM_Msg
1336845311783: forwarding disabled, not forwarding packets
1336845311877: Received UDP payload: 1006
1336845311885: mux: GOT CSM_Msg
1336845311886: forwarding disabled, not forwarding packets
1336845311979: Received UDP payload: 1006
1336845311988: mux: GOT CSM_Msg
1336845311989: forwarding disabled, not forwarding packets
1336845311996: Received UDP payload: 446
1336845312084: Received UDP payload: 1006
1336845312086: mux: GOT CSM_Msg
1336845312086: forwarding disabled, not forwarding packets
1336845312192: Received UDP payload: 1006
1336845312196: mux: GOT CSM_Msg
1336845312196: forwarding disabled, not forwarding packets
1336845312294: Received UDP payload: 1006
1336845312298: mux: GOT CSM_Msg
1336845312298: forwarding disabled, not forwarding packets
1336845312386: Received UDP payload: 446
1336845312395: Received UDP payload: 1006
1336845312399: mux: GOT CSM_Msg
1336845312399: forwarding disabled, not forwarding packets
1336845312497: Received UDP payload: 1006
1336845312501: mux: GOT CSM_Msg
1336845312501: forwarding disabled, not forwarding packets
1336845312601: Received UDP payload: 1006
1336845312606: mux: GOT CSM_Msg
1336845312606: forwarding disabled, not forwarding packets
1336845312704: Received UDP payload: 1006
1336845312715: mux: GOT CSM_Msg
1336845312716: forwarding disabled, not forwarding packets
1336845312717: Received UDP payload: 659
1336845312728: mux: Inside Packet.SERVER_REPLY
1336845312729: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845312778: Received UDP payload: 446
1336845312784: mux: Inside mux Packet.CLIENT_REQUEST
1336845313444: Received UDP payload: 446
1336845314013: Received UDP payload: 446
1336845314140: inside sendPacket(Packet p)
1336845314143: Sending UDP payload: 446
1336845314977: Received UDP payload: 446
1336845317015: Received UDP payload: 446
1336845317399: Received UDP payload: 446
1336845318434: Received UDP payload: 446
1336845319030: Received UDP payload: 446
1336845319154: inside sendPacket(Packet p)
1336845319156: Sending UDP payload: 446
1336845319977: Received UDP payload: 446
1336845322033: Received UDP payload: 446
1336845322401: Received UDP payload: 446
1336845323439: Received UDP payload: 446
1336845324026: Received UDP payload: 446
1336845324154: inside sendPacket(Packet p)
1336845324165: Sending UDP payload: 446
1336845324992: Received UDP payload: 446
1336845327028: Received UDP payload: 446
1336845327421: Received UDP payload: 446
1336845328445: Received UDP payload: 446
1336845329019: Received UDP payload: 446
1336845329168: inside sendPacket(Packet p)
1336845329187: Sending UDP payload: 446
1336845329997: Received UDP payload: 446
1336845332028: Received UDP payload: 446
1336845332434: Received UDP payload: 446
1336845333449: Received UDP payload: 446
1336845334034: Received UDP payload: 446
1336845334169: inside sendPacket(Packet p)
1336845334183: Sending UDP payload: 446
1336845335007: Received UDP payload: 446
1336845337033: Received UDP payload: 446
1336845337440: Received UDP payload: 446
1336845339073: Received UDP payload: 446
1336845339171: inside sendPacket(Packet p)
1336845339172: Sending UDP payload: 446
1336845339245: canPressButton = TRUE
1336845339245: areButtonsEnabled --> false 
1336845339246: get picture disableButtonsR
1336845339246: areButtonsEnabled --> false
1336845339271: one more getNum: 20
1336845339272: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=18 getBad=1 getTimedout=0 getPercent=90%
1336845339273: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336845339273: change local requestCounter to 47
1336845339274: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008047 Client in region: 5 Client nodID: 5008
1336845339303: ----------------------------
1336845339303: inside sendRequestPacketRepeatingRunnable for requestCount = 5008047
1336845339303: I'm a leader, my requesting photos packet going to mux directly
1336845339327: --- Finished one round of sending REQUEST Packet ---------
1336845339304: mux: Inside mux Packet.CLIENT_REQUEST
1336845339304: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845339390: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845339304: inside handleClientRequest. Originator leader of region 5
1336845339304: got new request, requestCounter = 5008047
1336845339304: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845339305: Sending to region: 0
1336845339305: Sending PROC_REQUEST 11:8 (5,0)->(0,0)
1336845339305: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(0,0)
1336845339306: mux: I got a CSM packet at a leader 

1336845339305: Note down new request by adding requestCounter=5008047 to HashMap processedRequests
1336845339306: Make FirstLeg Ack regardless of new or already-processed requests
1336845339306: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845339326: Sending UDP payload: 1006
1336845339327: forwarding disabled, not forwarding packets
1336845339437: Received UDP payload: 3814
1336845339445: mux: GOT CSM_Msg
1336845339474: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845339475: disabling progressdialog due to successful new photo get
1336845339475: Inside _enableButtons
1336845339475: areButtonsEnabled --> true
1336845339475: send final leg ack regardless of new or already-processed reply
1336845339476: inside finalLegAck: change requestCounter to 48
1336845339476: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008048 Client in region: (5,0) Client nodID: 5008
1336845339476: I'm a leader client, my final_leg packet going to mux directly
1336845339476: new client_show_remotephoto reply with replyCounter 500804700
1336845339477: note down new reply by adding replyCounter=500804700 to HashMap processedReplies
1336845339477: leader download remote photo latency = 170
1336845339477: = leader download start 1336845339304 ~ stop 1336845339474
1336845339484: one more getGood: 19
1336845339485: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=19 getBad=1 getTimedout=0 getPercent=95%
1336845339486: adding get latency: 170
1336845339486: Success! Client getting photo from remote region, showing photo...
1336845339487: Remote photo's length: 2786
1336845339445: Received PROC_REPLY 11:8 (0,0)->(5,0), handing to UserApp
1336845339445: inside handleDSMReply. Now back in originator leader of region 5
1336845339445: DSM layer: Going to and from remote region took latency = 140
1336845339446: DSM layer: orig leader sent packet at 1336845339305 ~ received reply from remote leader at 1336845339445
1336845339450: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845339451: leader client reply has replyCounter: 500804700
1336845339451: reply packet contains the newest photo/success info from the remote region
1336845339451: inside sendReplies of replyCount = 500804700
1336845339451: =======================
1336845339451: inside sendReplyRepeatingRunnable for replyCount = 500804700
1336845339451: Leader about to send REPLY packet, number: 500804700 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845339451: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845339451: === Finished one round of sending REPLY Packet =======
1336845339476: mux: Inside mux Packet.CLIENT_REQUEST
1336845339477: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845339477: inside handleClientRequest. Originator leader of region 5
1336845339478: got new request, requestCounter = 5008048
1336845339478: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500804700
1336845339478: Yay the last leg succeeded. Removing reply runnables ...
1336845339479: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500804700
1336845339479: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500804700
1336845339479: do not send ack for received final_leg_ack
1336845340443: Received UDP payload: 446
1336845341370: Received UDP payload: 642
1336845341376: mux: Inside mux Packet.CLIENT_REQUEST
1336845341376: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845341377: inside handleClientRequest. Originator leader of region 5
1336845341377: got new request, requestCounter = 5013046
1336845341377: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845341387: Sending to region: 0
1336845341389: Sending PROC_REQUEST 11:9 (5,0)->(0,0)
1336845341390: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(0,0)
1336845341401: mux: I got a CSM packet at a leader 

1336845341391: Note down new request by adding requestCounter=5013046 to HashMap processedRequests
1336845341392: Make FirstLeg Ack regardless of new or already-processed requests
1336845341394: The leader sending a First Leg ack to originator client (which id = 5013)
1336845341400: inside sendPacket(Packet p)
1336845341441: Sending UDP payload: 1006
1336845341442: forwarding disabled, not forwarding packets
1336845341443: Sending UDP payload: 446
1336845341514: Received UDP payload: 3814
1336845341516: mux: GOT CSM_Msg
1336845341516: Received PROC_REPLY 11:9 (0,0)->(5,0), handing to UserApp
1336845341516: inside handleDSMReply. Now back in originator leader of region 5
1336845341516: DSM layer: Going to and from remote region took latency = 128
1336845341516: DSM layer: orig leader sent packet at 1336845341388 ~ received reply from remote leader at 1336845341516
1336845341517: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845341517: leader client reply has replyCounter: 501304600
1336845341517: reply packet contains the newest photo/success info from the remote region
1336845341517: inside sendReplies of replyCount = 501304600
1336845341518: =======================
1336845341518: inside sendReplyRepeatingRunnable for replyCount = 501304600
1336845341518: Leader about to send REPLY packet, number: 501304600 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845341518: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845341518: inside sendPacket(Packet p)
1336845341518: === Finished one round of sending REPLY Packet =======
1336845341519: Sending UDP payload: 3467
1336845341570: Received UDP payload: 446
1336845341571: mux: Inside mux Packet.CLIENT_REQUEST
1336845341571: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845341571: inside handleClientRequest. Originator leader of region 5
1336845341571: got new request, requestCounter = 5013047
1336845341571: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501304600
1336845341571: Yay the last leg succeeded. Removing reply runnables ...
1336845341572: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501304600
1336845341572: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501304600
1336845341572: do not send ack for received final_leg_ack
1336845341882: Received UDP payload: 446
1336845342031: Received UDP payload: 446
1336845342451: Received UDP payload: 446
1336845344061: Received UDP payload: 446
1336845344173: inside sendPacket(Packet p)
1336845344176: Sending UDP payload: 446
1336845345196: Received UDP payload: 1006
1336845345205: mux: GOT CSM_Msg
1336845345206: forwarding disabled, not forwarding packets
1336845345281: Received UDP payload: 3814
1336845345283: mux: GOT CSM_Msg
1336845345283: forwarding disabled, not forwarding packets
1336845345462: Received UDP payload: 446
1336845346649: Received UDP payload: 642
1336845346655: mux: Inside mux Packet.CLIENT_REQUEST
1336845346736: Received UDP payload: 1006
1336845346748: mux: GOT CSM_Msg
1336845346749: forwarding disabled, not forwarding packets
1336845346750: Received UDP payload: 446
1336845346760: mux: Inside Packet.SERVER_REPLY
1336845346761: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845346812: Received UDP payload: 3814
1336845346814: mux: GOT CSM_Msg
1336845346814: forwarding disabled, not forwarding packets
1336845346865: Received UDP payload: 3467
1336845346867: mux: Inside Packet.SERVER_REPLY
1336845346867: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845346881: Received UDP payload: 446
1336845346882: mux: Inside mux Packet.CLIENT_REQUEST
1336845346889: Received UDP payload: 446
1336845347037: Received UDP payload: 446
1336845347458: Received UDP payload: 446
1336845349067: Received UDP payload: 446
1336845349174: inside sendPacket(Packet p)
1336845349185: Sending UDP payload: 446
1336845350430: Received UDP payload: 446
1336845351899: Received UDP payload: 446
1336845352040: Received UDP payload: 446
1336845352477: Received UDP payload: 446
1336845354078: Received UDP payload: 446
1336845354186: inside sendPacket(Packet p)
1336845354188: Sending UDP payload: 446
1336845355429: Received UDP payload: 446
1336845356905: Received UDP payload: 446
1336845357041: Received UDP payload: 446
1336845357867: Received UDP payload: 642
1336845357871: mux: Inside mux Packet.CLIENT_REQUEST
1336845357916: Received UDP payload: 1006
1336845357923: mux: GOT CSM_Msg
1336845357923: forwarding disabled, not forwarding packets
1336845357928: Received UDP payload: 446
1336845357934: mux: Inside Packet.SERVER_REPLY
1336845357935: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845357986: Received UDP payload: 3760
1336845357988: mux: GOT CSM_Msg
1336845357988: forwarding disabled, not forwarding packets
1336845358036: Received UDP payload: 3413
1336845358038: mux: Inside Packet.SERVER_REPLY
1336845358038: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845358056: Received UDP payload: 446
1336845358058: mux: Inside mux Packet.CLIENT_REQUEST
1336845358737: Received UDP payload: 642
1336845358741: mux: Inside mux Packet.CLIENT_REQUEST
1336845358804: Received UDP payload: 1006
1336845358810: mux: GOT CSM_Msg
1336845358811: forwarding disabled, not forwarding packets
1336845358814: Received UDP payload: 446
1336845358819: mux: Inside Packet.SERVER_REPLY
1336845358819: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845358920: Received UDP payload: 3413
1336845358922: mux: Inside Packet.SERVER_REPLY
1336845358922: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845358949: Received UDP payload: 446
1336845358951: mux: Inside mux Packet.CLIENT_REQUEST
1336845359081: Received UDP payload: 446
1336845359186: inside sendPacket(Packet p)
1336845359187: Sending UDP payload: 446
1336845359542: Received UDP payload: 1006
1336845359550: mux: GOT CSM_Msg
1336845359551: forwarding disabled, not forwarding packets
1336845359625: Received UDP payload: 3760
1336845359632: mux: GOT CSM_Msg
1336845359632: forwarding disabled, not forwarding packets
1336845359650: Received UDP payload: 446
1336845360429: Received UDP payload: 446
1336845361916: Received UDP payload: 446
1336845362051: Received UDP payload: 446
1336845362510: Received UDP payload: 1006
1336845362520: mux: GOT CSM_Msg
1336845362520: forwarding disabled, not forwarding packets
1336845362547: Received UDP payload: 3760
1336845362555: mux: GOT CSM_Msg
1336845362555: forwarding disabled, not forwarding packets
1336845364088: Received UDP payload: 446
1336845364186: inside sendPacket(Packet p)
1336845364189: Sending UDP payload: 446
1336845364659: Received UDP payload: 446
1336845365434: Received UDP payload: 446
1336845366946: Received UDP payload: 446
1336845367075: Received UDP payload: 446
1336845368366: Received UDP payload: 1006
1336845368374: mux: GOT CSM_Msg
1336845368374: forwarding disabled, not forwarding packets
1336845368516: Received UDP payload: 3760
1336845368522: mux: GOT CSM_Msg
1336845368522: forwarding disabled, not forwarding packets
1336845369105: Received UDP payload: 446
1336845369186: inside sendPacket(Packet p)
1336845369189: Sending UDP payload: 446
1336845369670: Received UDP payload: 446
1336845370447: Received UDP payload: 446
1336845370646: Received UDP payload: 1006
1336845370654: mux: GOT CSM_Msg
1336845370655: forwarding disabled, not forwarding packets
1336845370723: Received UDP payload: 3760
1336845370729: mux: GOT CSM_Msg
1336845370729: forwarding disabled, not forwarding packets
1336845371930: Received UDP payload: 446
1336845372083: Received UDP payload: 446
1336845374192: inside sendPacket(Packet p)
1336845374198: Sending UDP payload: 446
1336845374691: Received UDP payload: 446
1336845375160: Received UDP payload: 642
1336845375165: mux: Inside mux Packet.CLIENT_REQUEST
1336845375165: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845375165: inside handleClientRequest. Originator leader of region 5
1336845375166: got new request, requestCounter = 5013048
1336845375166: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845375168: Sending to region: 1
1336845375169: Sending PROC_REQUEST 11:6 (5,0)->(1,0)
1336845375170: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(1,0)
1336845375190: mux: I got a CSM packet at a leader 

1336845375171: Note down new request by adding requestCounter=5013048 to HashMap processedRequests
1336845375171: Make FirstLeg Ack regardless of new or already-processed requests
1336845375171: The leader sending a First Leg ack to originator client (which id = 5013)
1336845375172: inside sendPacket(Packet p)
1336845375194: Sending UDP payload: 1006
1336845375202: forwarding disabled, not forwarding packets
1336845375205: Sending UDP payload: 446
1336845375281: Received UDP payload: 3760
1336845375283: mux: GOT CSM_Msg
1336845375283: Received PROC_REPLY 11:6 (1,0)->(5,0), handing to UserApp
1336845375284: inside handleDSMReply. Now back in originator leader of region 5
1336845375284: DSM layer: Going to and from remote region took latency = 116
1336845375284: DSM layer: orig leader sent packet at 1336845375168 ~ received reply from remote leader at 1336845375284
1336845375284: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845375285: leader client reply has replyCounter: 501304800
1336845375285: reply packet contains the newest photo/success info from the remote region
1336845375285: inside sendReplies of replyCount = 501304800
1336845375285: =======================
1336845375285: inside sendReplyRepeatingRunnable for replyCount = 501304800
1336845375285: Leader about to send REPLY packet, number: 501304800 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845375285: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845375286: inside sendPacket(Packet p)
1336845375286: === Finished one round of sending REPLY Packet =======
1336845375287: Sending UDP payload: 3413
1336845375343: Received UDP payload: 446
1336845375345: mux: Inside mux Packet.CLIENT_REQUEST
1336845375345: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845375345: inside handleClientRequest. Originator leader of region 5
1336845375345: got new request, requestCounter = 5013049
1336845375346: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501304800
1336845375346: Yay the last leg succeeded. Removing reply runnables ...
1336845375346: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501304800
1336845375346: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501304800
1336845375346: do not send ack for received final_leg_ack
1336845375433: Received UDP payload: 446
1336845376101: Received UDP payload: 446
1336845376284: canPressButton = TRUE
1336845376284: areButtonsEnabled --> false 
1336845376284: get picture disableButtonsR
1336845376285: areButtonsEnabled --> false
1336845376329: one more getNum: 21
1336845376330: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=19 getBad=1 getTimedout=0 getPercent=90%
1336845376330: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336845376331: change local requestCounter to 49
1336845376332: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008049 Client in region: 5 Client nodID: 5008
1336845376389: ----------------------------
1336845376389: inside sendRequestPacketRepeatingRunnable for requestCount = 5008049
1336845376389: I'm a leader, my requesting photos packet going to mux directly
1336845376403: --- Finished one round of sending REQUEST Packet ---------
1336845376390: mux: Inside mux Packet.CLIENT_REQUEST
1336845376390: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845376441: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845376390: inside handleClientRequest. Originator leader of region 5
1336845376390: got new request, requestCounter = 5008049
1336845376390: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845376396: Sending to region: 1
1336845376397: Sending PROC_REQUEST 11:7 (5,0)->(1,0)
1336845376397: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(1,0)
1336845376398: mux: I got a CSM packet at a leader 

1336845376397: Note down new request by adding requestCounter=5008049 to HashMap processedRequests
1336845376397: Make FirstLeg Ack regardless of new or already-processed requests
1336845376397: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845376411: Sending UDP payload: 1006
1336845376412: forwarding disabled, not forwarding packets
1336845376507: Received UDP payload: 3760
1336845376516: mux: GOT CSM_Msg
1336845376516: Received PROC_REPLY 11:7 (1,0)->(5,0), handing to UserApp
1336845376516: inside handleDSMReply. Now back in originator leader of region 5
1336845376516: DSM layer: Going to and from remote region took latency = 120
1336845376516: DSM layer: orig leader sent packet at 1336845376396 ~ received reply from remote leader at 1336845376516
1336845376517: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845376517: leader client reply has replyCounter: 500804900
1336845376517: reply packet contains the newest photo/success info from the remote region
1336845376517: inside sendReplies of replyCount = 500804900
1336845376520: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845376520: disabling progressdialog due to successful new photo get
1336845376520: Inside _enableButtons
1336845376520: areButtonsEnabled --> true
1336845376520: send final leg ack regardless of new or already-processed reply
1336845376521: inside finalLegAck: change requestCounter to 50
1336845376521: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008050 Client in region: (5,0) Client nodID: 5008
1336845376521: I'm a leader client, my final_leg packet going to mux directly
1336845376523: new client_show_remotephoto reply with replyCounter 500804900
1336845376523: note down new reply by adding replyCounter=500804900 to HashMap processedReplies
1336845376523: leader download remote photo latency = 130
1336845376523: = leader download start 1336845376390 ~ stop 1336845376520
1336845376526: one more getGood: 20
1336845376527: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=20 getBad=1 getTimedout=0 getPercent=95%
1336845376527: adding get latency: 130
1336845376530: Success! Client getting photo from remote region, showing photo...
1336845376530: Remote photo's length: 2732
1336845376518: =======================
1336845376518: inside sendReplyRepeatingRunnable for replyCount = 500804900
1336845376518: Leader about to send REPLY packet, number: 500804900 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845376518: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845376518: === Finished one round of sending REPLY Packet =======
1336845376521: mux: Inside mux Packet.CLIENT_REQUEST
1336845376522: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845376522: inside handleClientRequest. Originator leader of region 5
1336845376522: got new request, requestCounter = 5008050
1336845376522: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500804900
1336845376522: Yay the last leg succeeded. Removing reply runnables ...
1336845376522: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500804900
1336845376522: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500804900
1336845376522: do not send ack for received final_leg_ack
1336845376919: Received UDP payload: 446
1336845377114: Received UDP payload: 1006
1336845377131: mux: GOT CSM_Msg
1336845377131: forwarding disabled, not forwarding packets
1336845377144: Received UDP payload: 446
1336845377208: Received UDP payload: 3760
1336845377210: mux: GOT CSM_Msg
1336845377210: forwarding disabled, not forwarding packets
1336845378542: Received UDP payload: 642
1336845378547: mux: Inside mux Packet.CLIENT_REQUEST
1336845378634: Received UDP payload: 1006
1336845378640: mux: GOT CSM_Msg
1336845378641: forwarding disabled, not forwarding packets
1336845378652: Received UDP payload: 446
1336845378656: mux: Inside Packet.SERVER_REPLY
1336845378657: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845378720: Received UDP payload: 3760
1336845378722: mux: GOT CSM_Msg
1336845378723: forwarding disabled, not forwarding packets
1336845378769: Received UDP payload: 3413
1336845378771: mux: Inside Packet.SERVER_REPLY
1336845378771: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845378782: Received UDP payload: 446
1336845378783: mux: Inside mux Packet.CLIENT_REQUEST
1336845379194: inside sendPacket(Packet p)
1336845379197: Sending UDP payload: 446
1336845379682: Received UDP payload: 446
1336845380445: Received UDP payload: 446
1336845381105: Received UDP payload: 446
1336845381936: Received UDP payload: 446
1336845382091: Received UDP payload: 446
1336845384108: leader to cloud hearbeat...
1336845384685: Received UDP payload: 446
1336845385447: Received UDP payload: 446
1336845386105: Received UDP payload: 446
1336845386255: inside sendPacket(Packet p)
1336845386267: Sending UDP payload: 446
1336845386935: Received UDP payload: 446
1336845387098: Received UDP payload: 446
1336845389687: Received UDP payload: 446
1336845390459: Received UDP payload: 446
1336845390999: Received UDP payload: 642
1336845391000: mux: Inside mux Packet.CLIENT_REQUEST
1336845391036: Received UDP payload: 1006
1336845391038: mux: GOT CSM_Msg
1336845391038: forwarding disabled, not forwarding packets
1336845391044: Received UDP payload: 446
1336845391045: mux: Inside Packet.SERVER_REPLY
1336845391045: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845391114: Received UDP payload: 446
1336845391126: Received UDP payload: 3834
1336845391130: mux: GOT CSM_Msg
1336845391130: forwarding disabled, not forwarding packets
1336845391180: Received UDP payload: 3487
1336845391183: mux: Inside Packet.SERVER_REPLY
1336845391183: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845391202: Received UDP payload: 446
1336845391205: mux: Inside mux Packet.CLIENT_REQUEST
1336845391269: inside sendPacket(Packet p)
1336845391271: Sending UDP payload: 446
1336845391930: Received UDP payload: 446
1336845392096: Received UDP payload: 446
1336845392213: Received UDP payload: 1006
1336845392221: mux: GOT CSM_Msg
1336845392221: forwarding disabled, not forwarding packets
1336845392306: Received UDP payload: 3834
1336845392314: mux: GOT CSM_Msg
1336845392314: forwarding disabled, not forwarding packets
1336845392556: Received UDP payload: 1006
1336845392564: mux: GOT CSM_Msg
1336845392564: forwarding disabled, not forwarding packets
1336845392610: Received UDP payload: 3834
1336845392617: mux: GOT CSM_Msg
1336845392617: forwarding disabled, not forwarding packets
1336845393820: Received UDP payload: 642
1336845393825: mux: Inside mux Packet.CLIENT_REQUEST
1336845393898: Received UDP payload: 1006
1336845393906: mux: GOT CSM_Msg
1336845393907: forwarding disabled, not forwarding packets
1336845393907: Received UDP payload: 446
1336845393911: mux: Inside Packet.SERVER_REPLY
1336845393911: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845393958: Received UDP payload: 3834
1336845393964: mux: GOT CSM_Msg
1336845393965: forwarding disabled, not forwarding packets
1336845394003: Received UDP payload: 3487
1336845394009: mux: Inside Packet.SERVER_REPLY
1336845394009: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845394025: Received UDP payload: 446
1336845394026: mux: Inside mux Packet.CLIENT_REQUEST
1336845394684: Received UDP payload: 446
1336845395495: Received UDP payload: 446
1336845396129: Received UDP payload: 446
1336845396271: inside sendPacket(Packet p)
1336845396283: Sending UDP payload: 446
1336845396934: Received UDP payload: 446
1336845397113: Received UDP payload: 446
1336845398562: Received UDP payload: 1006
1336845398568: mux: GOT CSM_Msg
1336845398569: forwarding disabled, not forwarding packets
1336845398660: Received UDP payload: 3834
1336845398667: mux: GOT CSM_Msg
1336845398667: forwarding disabled, not forwarding packets
1336845399698: Received UDP payload: 446
1336845400049: Received UDP payload: 1006
1336845400056: mux: GOT CSM_Msg
1336845400056: forwarding disabled, not forwarding packets
1336845400093: Received UDP payload: 3834
1336845400099: mux: GOT CSM_Msg
1336845400100: forwarding disabled, not forwarding packets
1336845400504: Received UDP payload: 446
1336845401111: Received UDP payload: 446
1336845401284: inside sendPacket(Packet p)
1336845401286: Sending UDP payload: 446
1336845401931: Received UDP payload: 446
1336845404265: Received UDP payload: 446
1336845404696: Received UDP payload: 446
1336845405472: Received UDP payload: 446
1336845405654: Received UDP payload: 642
1336845405658: mux: Inside mux Packet.CLIENT_REQUEST
1336845405658: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845405659: inside handleClientRequest. Originator leader of region 5
1336845405659: got new request, requestCounter = 5013050
1336845405660: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845405676: Sending to region: 2
1336845405677: Sending PROC_REQUEST 11:6 (5,0)->(2,0)
1336845405678: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(2,0)
1336845405680: mux: I got a CSM packet at a leader 

1336845405678: Note down new request by adding requestCounter=5013050 to HashMap processedRequests
1336845405679: Make FirstLeg Ack regardless of new or already-processed requests
1336845405679: The leader sending a First Leg ack to originator client (which id = 5013)
1336845405679: inside sendPacket(Packet p)
1336845405698: Sending UDP payload: 1006
1336845405705: forwarding disabled, not forwarding packets
1336845405708: Sending UDP payload: 446
1336845405790: Received UDP payload: 3834
1336845405793: mux: GOT CSM_Msg
1336845405793: Received PROC_REPLY 11:6 (2,0)->(5,0), handing to UserApp
1336845405793: inside handleDSMReply. Now back in originator leader of region 5
1336845405794: DSM layer: Going to and from remote region took latency = 117
1336845405794: DSM layer: orig leader sent packet at 1336845405676 ~ received reply from remote leader at 1336845405793
1336845405794: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845405794: leader client reply has replyCounter: 501305000
1336845405795: reply packet contains the newest photo/success info from the remote region
1336845405795: inside sendReplies of replyCount = 501305000
1336845405795: =======================
1336845405795: inside sendReplyRepeatingRunnable for replyCount = 501305000
1336845405795: Leader about to send REPLY packet, number: 501305000 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845405795: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845405795: inside sendPacket(Packet p)
1336845405795: === Finished one round of sending REPLY Packet =======
1336845405797: Sending UDP payload: 3487
1336845405848: Received UDP payload: 446
1336845405849: mux: Inside mux Packet.CLIENT_REQUEST
1336845405849: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845405849: inside handleClientRequest. Originator leader of region 5
1336845405849: got new request, requestCounter = 5013051
1336845405849: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501305000
1336845405850: Yay the last leg succeeded. Removing reply runnables ...
1336845405850: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501305000
1336845405850: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501305000
1336845405850: do not send ack for received final_leg_ack
1336845406105: Received UDP payload: 446
1336845406284: inside sendPacket(Packet p)
1336845406285: Sending UDP payload: 446
1336845406529: canPressButton = TRUE
1336845406530: areButtonsEnabled --> false 
1336845406531: get picture disableButtonsR
1336845406531: areButtonsEnabled --> false
1336845406568: one more getNum: 22
1336845406569: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=20 getBad=1 getTimedout=0 getPercent=90%
1336845406569: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336845406570: change local requestCounter to 51
1336845406573: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008051 Client in region: 5 Client nodID: 5008
1336845406604: ----------------------------
1336845406604: inside sendRequestPacketRepeatingRunnable for requestCount = 5008051
1336845406605: I'm a leader, my requesting photos packet going to mux directly
1336845406610: --- Finished one round of sending REQUEST Packet ---------
1336845406605: mux: Inside mux Packet.CLIENT_REQUEST
1336845406605: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845406654: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845406605: inside handleClientRequest. Originator leader of region 5
1336845406606: got new request, requestCounter = 5008051
1336845406606: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845406606: Sending to region: 2
1336845406607: Sending PROC_REQUEST 11:7 (5,0)->(2,0)
1336845406607: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(2,0)
1336845406608: mux: I got a CSM packet at a leader 

1336845406607: Note down new request by adding requestCounter=5008051 to HashMap processedRequests
1336845406607: Make FirstLeg Ack regardless of new or already-processed requests
1336845406608: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845406609: Sending UDP payload: 1006
1336845406610: forwarding disabled, not forwarding packets
1336845406643: Received UDP payload: 1006
1336845406647: mux: GOT CSM_Msg
1336845406647: forwarding disabled, not forwarding packets
1336845406714: Received UDP payload: 3834
1336845406717: mux: GOT CSM_Msg
1336845406718: Received PROC_REPLY 11:7 (2,0)->(5,0), handing to UserApp
1336845406718: inside handleDSMReply. Now back in originator leader of region 5
1336845406718: DSM layer: Going to and from remote region took latency = 112
1336845406718: DSM layer: orig leader sent packet at 1336845406606 ~ received reply from remote leader at 1336845406718
1336845406719: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845406719: leader client reply has replyCounter: 500805100
1336845406720: reply packet contains the newest photo/success info from the remote region
1336845406720: inside sendReplies of replyCount = 500805100
1336845406722: =======================
1336845406722: inside sendReplyRepeatingRunnable for replyCount = 500805100
1336845406723: Leader about to send REPLY packet, number: 500805100 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845406742: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845406742: disabling progressdialog due to successful new photo get
1336845406742: Inside _enableButtons
1336845406743: areButtonsEnabled --> true
1336845406743: send final leg ack regardless of new or already-processed reply
1336845406743: inside finalLegAck: change requestCounter to 52
1336845406743: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008052 Client in region: (5,0) Client nodID: 5008
1336845406743: I'm a leader client, my final_leg packet going to mux directly
1336845406745: new client_show_remotephoto reply with replyCounter 500805100
1336845406747: note down new reply by adding replyCounter=500805100 to HashMap processedReplies
1336845406748: leader download remote photo latency = 137
1336845406748: = leader download start 1336845406605 ~ stop 1336845406742
1336845406749: one more getGood: 21
1336845406750: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=21 getBad=1 getTimedout=0 getPercent=95%
1336845406751: adding get latency: 137
1336845406751: Success! Client getting photo from remote region, showing photo...
1336845406751: Remote photo's length: 2806
1336845406723: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845406723: === Finished one round of sending REPLY Packet =======
1336845406744: mux: Inside mux Packet.CLIENT_REQUEST
1336845406744: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845406744: inside handleClientRequest. Originator leader of region 5
1336845406744: got new request, requestCounter = 5008052
1336845406744: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500805100
1336845406744: Yay the last leg succeeded. Removing reply runnables ...
1336845406744: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500805100
1336845406745: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500805100
1336845406745: do not send ack for received final_leg_ack
1336845406788: Received UDP payload: 3834
1336845406791: mux: GOT CSM_Msg
1336845406791: forwarding disabled, not forwarding packets
1336845406950: Received UDP payload: 446
1336845408369: Received UDP payload: 642
1336845408377: mux: Inside mux Packet.CLIENT_REQUEST
1336845408429: Received UDP payload: 1006
1336845408438: mux: GOT CSM_Msg
1336845408438: forwarding disabled, not forwarding packets
1336845408438: Received UDP payload: 446
1336845408439: mux: Inside Packet.SERVER_REPLY
1336845408439: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845408525: Received UDP payload: 3834
1336845408528: mux: GOT CSM_Msg
1336845408528: forwarding disabled, not forwarding packets
1336845408574: Received UDP payload: 3487
1336845408576: mux: Inside Packet.SERVER_REPLY
1336845408576: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845408583: Received UDP payload: 446
1336845408585: mux: Inside mux Packet.CLIENT_REQUEST
1336845409268: Received UDP payload: 446
1336845409689: Received UDP payload: 446
1336845410487: Received UDP payload: 446
1336845411119: Received UDP payload: 446
1336845411285: inside sendPacket(Packet p)
1336845411295: Sending UDP payload: 446
1336845411939: Received UDP payload: 446
1336845414283: Received UDP payload: 446
1336845414690: Received UDP payload: 446
1336845415500: Received UDP payload: 446
1336845416119: Received UDP payload: 446
1336845416297: inside sendPacket(Packet p)
1336845416314: Sending UDP payload: 446
1336845416943: Received UDP payload: 446
1336845419281: Received UDP payload: 446
1336845419693: Received UDP payload: 446
1336845419994: Received UDP payload: 642
1336845419999: mux: Inside mux Packet.CLIENT_REQUEST
1336845420056: Received UDP payload: 1006
1336845420058: mux: GOT CSM_Msg
1336845420058: forwarding disabled, not forwarding packets
1336845420058: Received UDP payload: 446
1336845420059: mux: Inside Packet.SERVER_REPLY
1336845420060: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845420100: Received UDP payload: 3745
1336845420102: mux: GOT CSM_Msg
1336845420102: forwarding disabled, not forwarding packets
1336845420152: Received UDP payload: 3398
1336845420153: mux: Inside Packet.SERVER_REPLY
1336845420153: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845420169: Received UDP payload: 446
1336845420170: mux: Inside mux Packet.CLIENT_REQUEST
1336845420484: Received UDP payload: 446
1336845420900: Received UDP payload: 1006
1336845420908: mux: GOT CSM_Msg
1336845420908: forwarding disabled, not forwarding packets
1336845420989: Received UDP payload: 3745
1336845420996: mux: GOT CSM_Msg
1336845420996: forwarding disabled, not forwarding packets
1336845421121: Received UDP payload: 446
1336845421145: Received UDP payload: 1006
1336845421157: mux: GOT CSM_Msg
1336845421158: forwarding disabled, not forwarding packets
1336845421269: Received UDP payload: 3745
1336845421275: mux: GOT CSM_Msg
1336845421276: forwarding disabled, not forwarding packets
1336845421316: inside sendPacket(Packet p)
1336845421319: Sending UDP payload: 446
1336845421945: Received UDP payload: 446
1336845422124: Received UDP payload: 642
1336845422128: mux: Inside mux Packet.CLIENT_REQUEST
1336845422235: Received UDP payload: 1006
1336845422244: mux: GOT CSM_Msg
1336845422244: forwarding disabled, not forwarding packets
1336845422245: Received UDP payload: 446
1336845422248: mux: Inside Packet.SERVER_REPLY
1336845422249: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845422321: Received UDP payload: 3745
1336845422324: mux: GOT CSM_Msg
1336845422324: forwarding disabled, not forwarding packets
1336845422369: Received UDP payload: 3398
1336845422371: mux: Inside Packet.SERVER_REPLY
1336845422371: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845422382: Received UDP payload: 446
1336845422384: mux: Inside mux Packet.CLIENT_REQUEST
1336845424291: Received UDP payload: 446
1336845424733: Received UDP payload: 446
1336845425500: Received UDP payload: 446
1336845426124: Received UDP payload: 446
1336845426318: inside sendPacket(Packet p)
1336845426326: Sending UDP payload: 446
1336845426973: Received UDP payload: 446
1336845428789: Received UDP payload: 1006
1336845428796: mux: GOT CSM_Msg
1336845428797: forwarding disabled, not forwarding packets
1336845428829: Received UDP payload: 3745
1336845428838: mux: GOT CSM_Msg
1336845428838: forwarding disabled, not forwarding packets
1336845429309: Received UDP payload: 446
1336845429709: Received UDP payload: 446
1336845431136: Received UDP payload: 446
1336845431328: inside sendPacket(Packet p)
1336845431344: Sending UDP payload: 446
1336845431978: Received UDP payload: 446
1336845433212: Received UDP payload: 1006
1336845433218: mux: GOT CSM_Msg
1336845433218: forwarding disabled, not forwarding packets
1336845433348: Received UDP payload: 3745
1336845433354: mux: GOT CSM_Msg
1336845433355: forwarding disabled, not forwarding packets
1336845434301: Received UDP payload: 446
1336845434699: Received UDP payload: 446
1336845435507: Received UDP payload: 446
1336845436123: Received UDP payload: 446
1336845436348: inside sendPacket(Packet p)
1336845436364: Sending UDP payload: 446
1336845436966: Received UDP payload: 446
1336845439321: Received UDP payload: 446
1336845439720: Received UDP payload: 446
1336845440521: Received UDP payload: 446
1336845440975: Received UDP payload: 642
1336845440979: mux: Inside mux Packet.CLIENT_REQUEST
1336845440979: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845440980: inside handleClientRequest. Originator leader of region 5
1336845440980: got new request, requestCounter = 5013052
1336845440980: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845440988: Sending to region: 3
1336845440990: Sending PROC_REQUEST 11:6 (5,0)->(3,0)
1336845440991: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1336845440993: mux: I got a CSM packet at a leader 

1336845440992: Note down new request by adding requestCounter=5013052 to HashMap processedRequests
1336845440992: Make FirstLeg Ack regardless of new or already-processed requests
1336845440992: The leader sending a First Leg ack to originator client (which id = 5013)
1336845440993: inside sendPacket(Packet p)
1336845440997: Sending UDP payload: 1006
1336845441013: forwarding disabled, not forwarding packets
1336845441016: Sending UDP payload: 446
1336845441083: Received UDP payload: 3745
1336845441086: mux: GOT CSM_Msg
1336845441086: Received PROC_REPLY 11:6 (3,0)->(5,0), handing to UserApp
1336845441086: inside handleDSMReply. Now back in originator leader of region 5
1336845441087: DSM layer: Going to and from remote region took latency = 97
1336845441087: DSM layer: orig leader sent packet at 1336845440989 ~ received reply from remote leader at 1336845441086
1336845441087: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845441088: leader client reply has replyCounter: 501305200
1336845441088: reply packet contains the newest photo/success info from the remote region
1336845441088: inside sendReplies of replyCount = 501305200
1336845441088: =======================
1336845441088: inside sendReplyRepeatingRunnable for replyCount = 501305200
1336845441088: Leader about to send REPLY packet, number: 501305200 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845441088: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845441089: inside sendPacket(Packet p)
1336845441089: === Finished one round of sending REPLY Packet =======
1336845441090: Sending UDP payload: 3398
1336845441131: Received UDP payload: 446
1336845441144: Received UDP payload: 446
1336845441146: mux: Inside mux Packet.CLIENT_REQUEST
1336845441146: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845441146: inside handleClientRequest. Originator leader of region 5
1336845441146: got new request, requestCounter = 5013053
1336845441146: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501305200
1336845441146: Yay the last leg succeeded. Removing reply runnables ...
1336845441147: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501305200
1336845441147: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501305200
1336845441147: do not send ack for received final_leg_ack
1336845441365: inside sendPacket(Packet p)
1336845441366: Sending UDP payload: 446
1336845441472: Received UDP payload: 1006
1336845441475: mux: GOT CSM_Msg
1336845441475: forwarding disabled, not forwarding packets
1336845441528: Received UDP payload: 3745
1336845441531: mux: GOT CSM_Msg
1336845441531: forwarding disabled, not forwarding packets
1336845441973: Received UDP payload: 446
1336845442520: canPressButton = TRUE
1336845442521: areButtonsEnabled --> false 
1336845442521: get picture disableButtonsR
1336845442521: areButtonsEnabled --> false
1336845442547: one more getNum: 23
1336845442548: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=21 getBad=1 getTimedout=0 getPercent=91%
1336845442548: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336845442548: change local requestCounter to 53
1336845442549: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008053 Client in region: 5 Client nodID: 5008
1336845442579: ----------------------------
1336845442580: inside sendRequestPacketRepeatingRunnable for requestCount = 5008053
1336845442580: I'm a leader, my requesting photos packet going to mux directly
1336845442586: --- Finished one round of sending REQUEST Packet ---------
1336845442580: mux: Inside mux Packet.CLIENT_REQUEST
1336845442580: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845442627: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845442580: inside handleClientRequest. Originator leader of region 5
1336845442580: got new request, requestCounter = 5008053
1336845442581: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845442581: Sending to region: 3
1336845442582: Sending PROC_REQUEST 11:7 (5,0)->(3,0)
1336845442582: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1336845442584: mux: I got a CSM packet at a leader 

1336845442583: Note down new request by adding requestCounter=5008053 to HashMap processedRequests
1336845442583: Make FirstLeg Ack regardless of new or already-processed requests
1336845442583: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845442585: Sending UDP payload: 1006
1336845442586: forwarding disabled, not forwarding packets
1336845442603: Received UDP payload: 642
1336845442605: mux: Inside mux Packet.CLIENT_REQUEST
1336845442658: Received UDP payload: 1006
1336845442661: mux: GOT CSM_Msg
1336845442661: forwarding disabled, not forwarding packets
1336845442686: Received UDP payload: 446
1336845442687: mux: Inside Packet.SERVER_REPLY
1336845442687: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845442697: Received UDP payload: 3745
1336845442699: mux: GOT CSM_Msg
1336845442700: Received PROC_REPLY 11:7 (3,0)->(5,0), handing to UserApp
1336845442700: inside handleDSMReply. Now back in originator leader of region 5
1336845442700: DSM layer: Going to and from remote region took latency = 119
1336845442700: DSM layer: orig leader sent packet at 1336845442581 ~ received reply from remote leader at 1336845442700
1336845442701: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845442701: leader client reply has replyCounter: 500805300
1336845442701: reply packet contains the newest photo/success info from the remote region
1336845442713: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845442713: disabling progressdialog due to successful new photo get
1336845442714: Inside _enableButtons
1336845442714: areButtonsEnabled --> true
1336845442714: send final leg ack regardless of new or already-processed reply
1336845442714: inside finalLegAck: change requestCounter to 54
1336845442715: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008054 Client in region: (5,0) Client nodID: 5008
1336845442715: I'm a leader client, my final_leg packet going to mux directly
1336845442729: new client_show_remotephoto reply with replyCounter 500805300
1336845442730: note down new reply by adding replyCounter=500805300 to HashMap processedReplies
1336845442730: leader download remote photo latency = 133
1336845442730: = leader download start 1336845442580 ~ stop 1336845442713
1336845442731: one more getGood: 22
1336845442732: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=22 getBad=1 getTimedout=0 getPercent=95%
1336845442732: adding get latency: 133
1336845442734: Success! Client getting photo from remote region, showing photo...
1336845442734: Remote photo's length: 2717
1336845442701: inside sendReplies of replyCount = 500805300
1336845442702: =======================
1336845442702: inside sendReplyRepeatingRunnable for replyCount = 500805300
1336845442702: Leader about to send REPLY packet, number: 500805300 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845442702: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845442702: === Finished one round of sending REPLY Packet =======
1336845442715: mux: Inside mux Packet.CLIENT_REQUEST
1336845442715: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845442715: inside handleClientRequest. Originator leader of region 5
1336845442715: got new request, requestCounter = 5008054
1336845442715: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500805300
1336845442716: Yay the last leg succeeded. Removing reply runnables ...
1336845442716: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500805300
1336845442716: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500805300
1336845442716: do not send ack for received final_leg_ack
1336845442741: Received UDP payload: 3745
1336845442743: mux: GOT CSM_Msg
1336845442744: forwarding disabled, not forwarding packets
1336845442829: Received UDP payload: 3398
1336845442836: mux: Inside Packet.SERVER_REPLY
1336845442836: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845442836: Received UDP payload: 446
1336845442837: mux: Inside mux Packet.CLIENT_REQUEST
1336845444336: Received UDP payload: 446
1336845444727: Received UDP payload: 446
1336845445509: Received UDP payload: 446
1336845446121: Received UDP payload: 446
1336845446365: inside sendPacket(Packet p)
1336845446404: Sending UDP payload: 446
1336845446983: Received UDP payload: 446
1336845449351: Received UDP payload: 446
1336845449731: Received UDP payload: 446
1336845450511: Received UDP payload: 446
1336845451123: Received UDP payload: 446
1336845451393: inside sendPacket(Packet p)
1336845451396: Sending UDP payload: 446
1336845452005: Received UDP payload: 446
1336845454369: Received UDP payload: 446
1336845454737: Received UDP payload: 446
1336845456124: Received UDP payload: 446
1336845456394: inside sendPacket(Packet p)
1336845456397: Sending UDP payload: 446
1336845457009: Received UDP payload: 446
1336845457778: Received UDP payload: 642
1336845457783: mux: Inside mux Packet.CLIENT_REQUEST
1336845457824: Received UDP payload: 1006
1336845457841: mux: GOT CSM_Msg
1336845457842: forwarding disabled, not forwarding packets
1336845457852: Received UDP payload: 446
1336845457854: mux: Inside Packet.SERVER_REPLY
1336845457854: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845457887: Received UDP payload: 3811
1336845457889: mux: GOT CSM_Msg
1336845457889: forwarding disabled, not forwarding packets
1336845457952: Received UDP payload: 3464
1336845457954: mux: Inside Packet.SERVER_REPLY
1336845457954: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845457967: Received UDP payload: 446
1336845457968: mux: Inside mux Packet.CLIENT_REQUEST
1336845458942: Received UDP payload: 1006
1336845458949: mux: GOT CSM_Msg
1336845458950: forwarding disabled, not forwarding packets
1336845459026: Received UDP payload: 3811
1336845459033: mux: GOT CSM_Msg
1336845459033: forwarding disabled, not forwarding packets
1336845459374: Received UDP payload: 446
1336845459758: Received UDP payload: 446
1336845461124: Received UDP payload: 446
1336845461395: inside sendPacket(Packet p)
1336845461398: Sending UDP payload: 446
1336845462412: Received UDP payload: 446
1336845462818: Received UDP payload: 642
1336845462824: mux: Inside mux Packet.CLIENT_REQUEST
1336845462859: Received UDP payload: 1006
1336845462867: mux: GOT CSM_Msg
1336845462868: forwarding disabled, not forwarding packets
1336845462869: Received UDP payload: 446
1336845462885: mux: Inside Packet.SERVER_REPLY
1336845462885: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845462928: Received UDP payload: 3811
1336845462930: mux: GOT CSM_Msg
1336845462930: forwarding disabled, not forwarding packets
1336845462987: Received UDP payload: 3464
1336845462989: mux: Inside Packet.SERVER_REPLY
1336845462989: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845463004: Received UDP payload: 446
1336845463006: mux: Inside mux Packet.CLIENT_REQUEST
1336845463969: Received UDP payload: 1006
1336845463976: mux: GOT CSM_Msg
1336845463976: forwarding disabled, not forwarding packets
1336845464054: Received UDP payload: 3811
1336845464061: mux: GOT CSM_Msg
1336845464061: forwarding disabled, not forwarding packets
1336845464074: Received UDP payload: 446
1336845464380: Received UDP payload: 446
1336845464739: Received UDP payload: 446
1336845466141: Received UDP payload: 446
1336845466396: inside sendPacket(Packet p)
1336845466398: Sending UDP payload: 446
1336845467429: Received UDP payload: 446
1336845467894: Received UDP payload: 1006
1336845467902: mux: GOT CSM_Msg
1336845467902: forwarding disabled, not forwarding packets
1336845467981: Received UDP payload: 3811
1336845467988: mux: GOT CSM_Msg
1336845467988: forwarding disabled, not forwarding packets
1336845469089: Received UDP payload: 446
1336845469163: Received UDP payload: 1006
1336845469170: mux: GOT CSM_Msg
1336845469170: forwarding disabled, not forwarding packets
1336845469256: Received UDP payload: 3811
1336845469258: mux: GOT CSM_Msg
1336845469258: forwarding disabled, not forwarding packets
1336845469379: Received UDP payload: 446
1336845469740: Received UDP payload: 446
1336845471137: Received UDP payload: 446
1336845471398: inside sendPacket(Packet p)
1336845471414: Sending UDP payload: 446
1336845472432: Received UDP payload: 446
1336845474089: Received UDP payload: 446
1336845474384: Received UDP payload: 446
1336845474745: Received UDP payload: 446
1336845476135: Received UDP payload: 446
1336845476418: inside sendPacket(Packet p)
1336845476435: Sending UDP payload: 446
1336845477439: Received UDP payload: 446
1336845477810: Received UDP payload: 1006
1336845477818: mux: GOT CSM_Msg
1336845477819: forwarding disabled, not forwarding packets
1336845477851: Received UDP payload: 3811
1336845477858: mux: GOT CSM_Msg
1336845477858: forwarding disabled, not forwarding packets
1336845479087: Received UDP payload: 642
1336845479091: mux: Inside mux Packet.CLIENT_REQUEST
1336845479123: Received UDP payload: 446
1336845479156: Received UDP payload: 446
1336845479160: mux: Inside Packet.SERVER_REPLY
1336845479160: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845479199: Received UDP payload: 3811
1336845479207: mux: GOT CSM_Msg
1336845479207: forwarding disabled, not forwarding packets
1336845479236: Received UDP payload: 3464
1336845479237: mux: Inside Packet.SERVER_REPLY
1336845479238: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845479248: Received UDP payload: 446
1336845479249: mux: Inside mux Packet.CLIENT_REQUEST
1336845479380: Received UDP payload: 446
1336845480730: canPressButton = TRUE
1336845480730: areButtonsEnabled --> false 
1336845480730: get picture disableButtonsR
1336845480730: areButtonsEnabled --> false
1336845480757: one more getNum: 24
1336845480758: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=22 getBad=1 getTimedout=0 getPercent=91%
1336845480758: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336845480758: change local requestCounter to 55
1336845480763: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008055 Client in region: 5 Client nodID: 5008
1336845480790: ----------------------------
1336845480791: inside sendRequestPacketRepeatingRunnable for requestCount = 5008055
1336845480791: I'm a leader, my requesting photos packet going to mux directly
1336845480799: --- Finished one round of sending REQUEST Packet ---------
1336845480791: mux: Inside mux Packet.CLIENT_REQUEST
1336845480791: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845480833: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845480791: inside handleClientRequest. Originator leader of region 5
1336845480792: got new request, requestCounter = 5008055
1336845480792: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845480794: Sending to region: 4
1336845480794: Sending PROC_REQUEST 11:6 (5,0)->(4,0)
1336845480794: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(4,0)
1336845480796: mux: I got a CSM packet at a leader 

1336845480795: Note down new request by adding requestCounter=5008055 to HashMap processedRequests
1336845480795: Make FirstLeg Ack regardless of new or already-processed requests
1336845480796: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845480799: Sending UDP payload: 1006
1336845480800: forwarding disabled, not forwarding packets
1336845480881: Received UDP payload: 3811
1336845480884: mux: GOT CSM_Msg
1336845480884: Received PROC_REPLY 11:6 (4,0)->(5,0), handing to UserApp
1336845480884: inside handleDSMReply. Now back in originator leader of region 5
1336845480884: DSM layer: Going to and from remote region took latency = 90
1336845480884: DSM layer: orig leader sent packet at 1336845480794 ~ received reply from remote leader at 1336845480884
1336845480885: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845480885: leader client reply has replyCounter: 500805500
1336845480885: reply packet contains the newest photo/success info from the remote region
1336845480885: inside sendReplies of replyCount = 500805500
1336845480891: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845480892: disabling progressdialog due to successful new photo get
1336845480892: Inside _enableButtons
1336845480892: areButtonsEnabled --> true
1336845480892: send final leg ack regardless of new or already-processed reply
1336845480893: inside finalLegAck: change requestCounter to 56
1336845480893: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008056 Client in region: (5,0) Client nodID: 5008
1336845480893: I'm a leader client, my final_leg packet going to mux directly
1336845480895: new client_show_remotephoto reply with replyCounter 500805500
1336845480895: note down new reply by adding replyCounter=500805500 to HashMap processedReplies
1336845480895: leader download remote photo latency = 100
1336845480895: = leader download start 1336845480791 ~ stop 1336845480891
1336845480897: one more getGood: 23
1336845480897: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=23 getBad=1 getTimedout=0 getPercent=95%
1336845480898: adding get latency: 100
1336845480898: Success! Client getting photo from remote region, showing photo...
1336845480898: Remote photo's length: 2783
1336845480886: =======================
1336845480886: inside sendReplyRepeatingRunnable for replyCount = 500805500
1336845480886: Leader about to send REPLY packet, number: 500805500 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845480886: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845480886: === Finished one round of sending REPLY Packet =======
1336845480893: mux: Inside mux Packet.CLIENT_REQUEST
1336845480893: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845480894: inside handleClientRequest. Originator leader of region 5
1336845480894: got new request, requestCounter = 5008056
1336845480894: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500805500
1336845480894: Yay the last leg succeeded. Removing reply runnables ...
1336845480894: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500805500
1336845480894: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500805500
1336845480894: do not send ack for received final_leg_ack
1336845481128: Received UDP payload: 446
1336845481438: inside sendPacket(Packet p)
1336845481441: Sending UDP payload: 446
1336845481759: Received UDP payload: 446
1336845482230: Received UDP payload: 642
1336845482236: mux: Inside mux Packet.CLIENT_REQUEST
1336845482237: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845482237: inside handleClientRequest. Originator leader of region 5
1336845482238: got new request, requestCounter = 5013054
1336845482238: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845482240: Sending to region: 4
1336845482244: Sending PROC_REQUEST 11:7 (5,0)->(4,0)
1336845482252: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1336845482255: mux: I got a CSM packet at a leader 

1336845482253: Note down new request by adding requestCounter=5013054 to HashMap processedRequests
1336845482253: Make FirstLeg Ack regardless of new or already-processed requests
1336845482254: The leader sending a First Leg ack to originator client (which id = 5013)
1336845482254: inside sendPacket(Packet p)
1336845482264: Sending UDP payload: 1006
1336845482273: forwarding disabled, not forwarding packets
1336845482279: Sending UDP payload: 446
1336845482348: Received UDP payload: 3811
1336845482351: mux: GOT CSM_Msg
1336845482352: Received PROC_REPLY 11:7 (4,0)->(5,0), handing to UserApp
1336845482352: inside handleDSMReply. Now back in originator leader of region 5
1336845482352: DSM layer: Going to and from remote region took latency = 112
1336845482352: DSM layer: orig leader sent packet at 1336845482240 ~ received reply from remote leader at 1336845482352
1336845482353: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845482353: leader client reply has replyCounter: 501305400
1336845482354: reply packet contains the newest photo/success info from the remote region
1336845482354: inside sendReplies of replyCount = 501305400
1336845482354: =======================
1336845482354: inside sendReplyRepeatingRunnable for replyCount = 501305400
1336845482354: Leader about to send REPLY packet, number: 501305400 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845482354: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845482354: inside sendPacket(Packet p)
1336845482355: === Finished one round of sending REPLY Packet =======
1336845482356: Sending UDP payload: 3464
1336845482402: Received UDP payload: 446
1336845482404: mux: Inside mux Packet.CLIENT_REQUEST
1336845482404: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845482404: inside handleClientRequest. Originator leader of region 5
1336845482405: got new request, requestCounter = 5013055
1336845482405: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501305400
1336845482405: Yay the last leg succeeded. Removing reply runnables ...
1336845482405: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501305400
1336845482405: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501305400
1336845482405: do not send ack for received final_leg_ack
1336845482434: Received UDP payload: 446
1336845484123: Received UDP payload: 446
1336845484390: Received UDP payload: 446
1336845486142: Received UDP payload: 446
1336845486440: inside sendPacket(Packet p)
1336845486442: Sending UDP payload: 446
1336845486760: Received UDP payload: 446
1336845487454: Received UDP payload: 446
1336845489242: Received UDP payload: 446
1336845489414: Received UDP payload: 446
1336845490569: Received UDP payload: 642
1336845490575: mux: Inside mux Packet.CLIENT_REQUEST
1336845490615: Received UDP payload: 1006
1336845490622: mux: GOT CSM_Msg
1336845490623: removed replies before id 6 from sentReplies of size 0
1336845490623: inside handleDSMRequest. At requests's remote leader of region 5
1336845490626: INSIDE SERVER_GET_PHOTO!!!
1336845490642: Received UDP payload: 446
1336845490649: mux: Inside Packet.SERVER_REPLY
1336845490649: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845490648: Received PROC_REQUEST 11:6 (0,0)->(5,0), replying PROC_REPLY 11:6 (5,0)->(0,0)
1336845490649: Dispatching Atom PROC_REPLY 11:6 (5,0)->(0,0)
1336845490649: mux: I got a CSM packet at a leader 

1336845490650: Sending UDP payload: 3734
1336845490651: forwarding disabled, not forwarding packets
1336845490752: Received UDP payload: 3387
1336845490753: mux: Inside Packet.SERVER_REPLY
1336845490754: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845490776: Received UDP payload: 446
1336845490777: mux: Inside mux Packet.CLIENT_REQUEST
1336845491139: Received UDP payload: 446
1336845491441: inside sendPacket(Packet p)
1336845491456: Sending UDP payload: 446
1336845491753: Received UDP payload: 1006
1336845491760: mux: GOT CSM_Msg
1336845491761: removed replies before id 7 from sentReplies of size 0
1336845491761: inside handleDSMRequest. At requests's remote leader of region 5
1336845491763: INSIDE SERVER_GET_PHOTO!!!
1336845491782: Received UDP payload: 446
1336845491787: Received PROC_REQUEST 11:7 (0,0)->(5,0), replying PROC_REPLY 11:7 (5,0)->(0,0)
1336845491788: Dispatching Atom PROC_REPLY 11:7 (5,0)->(0,0)
1336845491789: mux: I got a CSM packet at a leader 

1336845491793: Sending UDP payload: 3734
1336845491805: forwarding disabled, not forwarding packets
1336845492461: Received UDP payload: 446
1336845494129: Received UDP payload: 446
1336845494438: Received UDP payload: 446
1336845496458: inside sendPacket(Packet p)
1336845496461: Sending UDP payload: 446
1336845496774: Received UDP payload: 446
1336845497467: Received UDP payload: 446
1336845497941: Received UDP payload: 642
1336845497946: mux: Inside mux Packet.CLIENT_REQUEST
1336845497998: Received UDP payload: 1006
1336845498006: mux: GOT CSM_Msg
1336845498007: removed replies before id 6 from sentReplies of size 0
1336845498007: inside handleDSMRequest. At requests's remote leader of region 5
1336845498009: INSIDE SERVER_GET_PHOTO!!!
1336845498014: Received PROC_REQUEST 11:6 (1,0)->(5,0), replying PROC_REPLY 11:6 (5,0)->(1,0)
1336845498015: Dispatching Atom PROC_REPLY 11:6 (5,0)->(1,0)
1336845498015: mux: I got a CSM packet at a leader 

1336845498016: Sending UDP payload: 3734
1336845498023: forwarding disabled, not forwarding packets
1336845498023: Received UDP payload: 446
1336845498024: mux: Inside Packet.SERVER_REPLY
1336845498024: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845498108: Received UDP payload: 3387
1336845498110: mux: Inside Packet.SERVER_REPLY
1336845498110: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845498131: Received UDP payload: 446
1336845498133: mux: Inside mux Packet.CLIENT_REQUEST
1336845498142: Received UDP payload: 446
1336845498937: Received UDP payload: 1006
1336845498944: mux: GOT CSM_Msg
1336845498945: removed replies before id 3 from sentReplies of size 0
1336845498945: inside handleDSMRequest. At requests's remote leader of region 5
1336845498947: INSIDE SERVER_GET_PHOTO!!!
1336845498962: Received PROC_REQUEST 11:3 (2,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(2,0)
1336845498964: Dispatching Atom PROC_REPLY 11:3 (5,0)->(2,0)
1336845498965: mux: I got a CSM packet at a leader 

1336845498973: Sending UDP payload: 3734
1336845498986: Received UDP payload: 1006
1336845498994: mux: GOT CSM_Msg
1336845498993: forwarding disabled, not forwarding packets
1336845498995: removed replies before id 7 from sentReplies of size 0
1336845498995: inside handleDSMRequest. At requests's remote leader of region 5
1336845498997: INSIDE SERVER_GET_PHOTO!!!
1336845499001: Received PROC_REQUEST 11:7 (1,0)->(5,0), replying PROC_REPLY 11:7 (5,0)->(1,0)
1336845499015: Dispatching Atom PROC_REPLY 11:7 (5,0)->(1,0)
1336845499016: mux: I got a CSM packet at a leader 

1336845499020: Sending UDP payload: 3734
1336845499031: forwarding disabled, not forwarding packets
1336845499116: Received UDP payload: 446
1336845499432: Received UDP payload: 446
1336845501459: inside sendPacket(Packet p)
1336845501462: Sending UDP payload: 446
1336845501777: Received UDP payload: 446
1336845502503: Received UDP payload: 446
1336845502943: Received UDP payload: 642
1336845502948: mux: Inside mux Packet.CLIENT_REQUEST
1336845503009: Received UDP payload: 446
1336845503013: mux: Inside Packet.SERVER_REPLY
1336845503014: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845503147: Received UDP payload: 446
1336845503709: Received UDP payload: 1006
1336845503717: mux: GOT CSM_Msg
1336845503718: removed replies before id 8 from sentReplies of size 0
1336845503719: inside handleDSMRequest. At requests's remote leader of region 5
1336845503722: INSIDE SERVER_GET_PHOTO!!!
1336845503737: Received PROC_REQUEST 11:8 (1,0)->(5,0), replying PROC_REPLY 11:8 (5,0)->(1,0)
1336845503738: Dispatching Atom PROC_REPLY 11:8 (5,0)->(1,0)
1336845503739: mux: I got a CSM packet at a leader 

1336845503756: Sending UDP payload: 3734
1336845503759: forwarding disabled, not forwarding packets
1336845503851: Received UDP payload: 3387
1336845503853: mux: Inside Packet.SERVER_REPLY
1336845503853: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845503866: Received UDP payload: 446
1336845503868: mux: Inside mux Packet.CLIENT_REQUEST
1336845504121: Received UDP payload: 446
1336845504436: Received UDP payload: 446
1336845506256: leader to cloud hearbeat...
1336845506775: Received UDP payload: 446
1336845507468: Received UDP payload: 446
1336845508150: Received UDP payload: 446
1336845508581: inside sendPacket(Packet p)
1336845508593: Sending UDP payload: 446
1336845509131: Received UDP payload: 446
1336845509446: Received UDP payload: 446
1336845510988: Received UDP payload: 1006
1336845510996: mux: GOT CSM_Msg
1336845510996: removed replies before id 3 from sentReplies of size 0
1336845510997: inside handleDSMRequest. At requests's remote leader of region 5
1336845510998: INSIDE SERVER_GET_PHOTO!!!
1336845511011: Received PROC_REQUEST 11:3 (3,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(3,0)
1336845511012: Dispatching Atom PROC_REPLY 11:3 (5,0)->(3,0)
1336845511020: mux: I got a CSM packet at a leader 

1336845511033: Sending UDP payload: 3734
1336845511036: forwarding disabled, not forwarding packets
1336845511776: Received UDP payload: 446
1336845512479: Received UDP payload: 446
1336845513149: Received UDP payload: 446
1336845513597: inside sendPacket(Packet p)
1336845513651: Sending UDP payload: 446
1336845514044: Received UDP payload: 1006
1336845514050: mux: GOT CSM_Msg
1336845514050: removed replies before id 6 from sentReplies of size 0
1336845514050: inside handleDSMRequest. At requests's remote leader of region 5
1336845514064: INSIDE SERVER_GET_PHOTO!!!
1336845514070: Received PROC_REQUEST 11:6 (4,0)->(5,0), replying PROC_REPLY 11:6 (5,0)->(4,0)
1336845514071: Dispatching Atom PROC_REPLY 11:6 (5,0)->(4,0)
1336845514073: mux: I got a CSM packet at a leader 

1336845514076: Sending UDP payload: 3734
1336845514083: forwarding disabled, not forwarding packets
1336845514137: Received UDP payload: 446
1336845514440: Received UDP payload: 446
1336845515427: Received UDP payload: 642
1336845515431: mux: Inside mux Packet.CLIENT_REQUEST
1336845515501: Received UDP payload: 1006
1336845515508: mux: GOT CSM_Msg
1336845515509: removed replies before id 7 from sentReplies of size 0
1336845515510: inside handleDSMRequest. At requests's remote leader of region 5
1336845515513: INSIDE SERVER_GET_PHOTO!!!
1336845515518: Received PROC_REQUEST 11:7 (4,0)->(5,0), replying PROC_REPLY 11:7 (5,0)->(4,0)
1336845515522: Received UDP payload: 446
1336845515534: mux: Inside Packet.SERVER_REPLY
1336845515534: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845515533: Dispatching Atom PROC_REPLY 11:7 (5,0)->(4,0)
1336845515535: mux: I got a CSM packet at a leader 

1336845515538: Sending UDP payload: 3734
1336845515548: forwarding disabled, not forwarding packets
1336845515666: Received UDP payload: 3387
1336845515669: mux: Inside Packet.SERVER_REPLY
1336845515669: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845515678: Received UDP payload: 446
1336845515680: mux: Inside mux Packet.CLIENT_REQUEST
1336845516791: Received UDP payload: 446
1336845517486: Received UDP payload: 446
1336845518155: Received UDP payload: 446
1336845518290: canPressButton = TRUE
1336845518290: areButtonsEnabled --> false 
1336845518291: get picture disableButtonsR
1336845518291: areButtonsEnabled --> false
1336845518319: one more getNum: 25
1336845518320: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=25 getGood=23 getBad=1 getTimedout=0 getPercent=92%
1336845518320: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336845518320: change local requestCounter to 57
1336845518324: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5008057 Client in region: 5 Client nodID: 5008
1336845518354: ----------------------------
1336845518354: inside sendRequestPacketRepeatingRunnable for requestCount = 5008057
1336845518354: I'm a leader, my requesting photos packet going to mux directly
1336845518365: --- Finished one round of sending REQUEST Packet ---------
1336845518355: mux: Inside mux Packet.CLIENT_REQUEST
1336845518355: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845518407: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845518355: inside handleClientRequest. Originator leader of region 5
1336845518355: got new request, requestCounter = 5008057
1336845518355: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845518356: Sending to region: 5
1336845518356: Sending PROC_REQUEST 11:13 (5,0)->(5,0)
1336845518357: Dispatching Atom PROC_REQUEST 11:13 (5,0)->(5,0)
1336845518357: mux: I got a CSM packet at a leader 

1336845518357: Note down new request by adding requestCounter=5008057 to HashMap processedRequests
1336845518357: Make FirstLeg Ack regardless of new or already-processed requests
1336845518357: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5008)
1336845518360: Sending UDP payload: 1006
1336845518361: removed replies before id 13 from sentReplies of size 0
1336845518361: inside handleDSMRequest. At requests's remote leader of region 5
1336845518362: INSIDE SERVER_GET_PHOTO!!!
1336845518363: dst_region == src_region = 5
1336845518363:  1 self to self atomRequest
1336845518364: Received PROC_REQUEST 11:13 (5,0)->(5,0), replying PROC_REPLY 11:13 (5,0)->(5,0)
1336845518364: Dispatching Atom PROC_REPLY 11:13 (5,0)->(5,0)
1336845518364: mux: I got a CSM packet at a leader 

1336845518412: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845518412: disabling progressdialog due to successful new photo get
1336845518412: Inside _enableButtons
1336845518413: areButtonsEnabled --> true
1336845518413: send final leg ack regardless of new or already-processed reply
1336845518413: inside finalLegAck: change requestCounter to 58
1336845518413: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5008058 Client in region: (5,0) Client nodID: 5008
1336845518414: I'm a leader client, my final_leg packet going to mux directly
1336845518417: new client_show_remotephoto reply with replyCounter 500805700
1336845518418: note down new reply by adding replyCounter=500805700 to HashMap processedReplies
1336845518418: leader download remote photo latency = 58
1336845518420: = leader download start 1336845518354 ~ stop 1336845518412
1336845518421: one more getGood: 24
1336845518422: reg=5 id=5008 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=25 getGood=24 getBad=1 getTimedout=0 getPercent=96%
1336845518423: adding get latency: 58
1336845518423: Success! Client getting photo from remote region, showing photo...
1336845518423: Remote photo's length: 2706
1336845518372: Sending UDP payload: 3734
1336845518374: Received PROC_REPLY 11:13 (5,0)->(5,0), handing to UserApp
1336845518374: inside handleDSMReply. Now back in originator leader of region 5
1336845518374: DSM layer: Going to and from remote region took latency = 18
1336845518374: DSM layer: orig leader sent packet at 1336845518356 ~ received reply from remote leader at 1336845518374
1336845518375: Originator Region=5's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845518375: leader client reply has replyCounter: 500805700
1336845518375: reply packet contains the newest photo/success info from the remote region
1336845518375: inside sendReplies of replyCount = 500805700
1336845518375: =======================
1336845518375: inside sendReplyRepeatingRunnable for replyCount = 500805700
1336845518376: Leader about to send REPLY packet, number: 500805700 type: 15 Leader in region: (5,0) to Client nodID: 5008
1336845518376: I (the leader) was also the originator client (id = 5008) so I hand the packet to my mux directly, without UDP
1336845518376: === Finished one round of sending REPLY Packet =======
1336845518414: mux: Inside mux Packet.CLIENT_REQUEST
1336845518414: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845518414: inside handleClientRequest. Originator leader of region 5
1336845518414: got new request, requestCounter = 5008058
1336845518414: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500805700
1336845518415: Yay the last leg succeeded. Removing reply runnables ...
1336845518415: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500805700
1336845518415: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500805700
1336845518415: do not send ack for received final_leg_ack
1336845518598: inside sendPacket(Packet p)
1336845518599: Sending UDP payload: 446
1336845519137: Received UDP payload: 446
1336845519451: Received UDP payload: 446
1336845519785: Received UDP payload: 642
1336845519790: mux: Inside mux Packet.CLIENT_REQUEST
1336845519791: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845519791: inside handleClientRequest. Originator leader of region 5
1336845519792: got new request, requestCounter = 5013056
1336845519792: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845519794: Sending to region: 5
1336845519803: Sending PROC_REQUEST 11:14 (5,0)->(5,0)
1336845519804: Dispatching Atom PROC_REQUEST 11:14 (5,0)->(5,0)
1336845519807: mux: I got a CSM packet at a leader 

1336845519805: Note down new request by adding requestCounter=5013056 to HashMap processedRequests
1336845519805: Make FirstLeg Ack regardless of new or already-processed requests
1336845519805: The leader sending a First Leg ack to originator client (which id = 5013)
1336845519806: inside sendPacket(Packet p)
1336845519810: Sending UDP payload: 1006
1336845519827: removed replies before id 14 from sentReplies of size 0
1336845519828: inside handleDSMRequest. At requests's remote leader of region 5
1336845519830: INSIDE SERVER_GET_PHOTO!!!
1336845519846: dst_region == src_region = 5
1336845519846:  1 self to self atomRequest
1336845519847: Received PROC_REQUEST 11:14 (5,0)->(5,0), replying PROC_REPLY 11:14 (5,0)->(5,0)
1336845519851: Dispatching Atom PROC_REPLY 11:14 (5,0)->(5,0)
1336845519858: mux: I got a CSM packet at a leader 

1336845519852: Sending UDP payload: 446
1336845519860: Sending UDP payload: 3734
1336845519861: Received PROC_REPLY 11:14 (5,0)->(5,0), handing to UserApp
1336845519862: inside handleDSMReply. Now back in originator leader of region 5
1336845519862: DSM layer: Going to and from remote region took latency = 68
1336845519862: DSM layer: orig leader sent packet at 1336845519794 ~ received reply from remote leader at 1336845519862
1336845519863: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845519863: leader client reply has replyCounter: 501305600
1336845519864: reply packet contains the newest photo/success info from the remote region
1336845519864: inside sendReplies of replyCount = 501305600
1336845519864: =======================
1336845519864: inside sendReplyRepeatingRunnable for replyCount = 501305600
1336845519864: Leader about to send REPLY packet, number: 501305600 type: 15 Leader in region: (5,0) to Client nodID: 5013
1336845519864: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1336845519864: inside sendPacket(Packet p)
1336845519864: === Finished one round of sending REPLY Packet =======
1336845519871: Sending UDP payload: 3387
1336845519960: Received UDP payload: 446
1336845519961: mux: Inside mux Packet.CLIENT_REQUEST
1336845519962: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845519962: inside handleClientRequest. Originator leader of region 5
1336845519962: got new request, requestCounter = 5013057
1336845519962: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501305600
1336845519962: Yay the last leg succeeded. Removing reply runnables ...
1336845519962: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501305600
1336845519962: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501305600
1336845519963: do not send ack for received final_leg_ack
1336845521789: Received UDP payload: 446
1336845522504: Received UDP payload: 446
1336845523171: Received UDP payload: 446
1336845523598: inside sendPacket(Packet p)
1336845523600: Sending UDP payload: 446
1336845524151: Received UDP payload: 446
1336845526361: Received UDP payload: 446
1336845526784: Received UDP payload: 446
1336845527510: Received UDP payload: 446
1336845528175: Received UDP payload: 446
1336845528599: inside sendPacket(Packet p)
1336845528611: Sending UDP payload: 446
1336845529172: Received UDP payload: 446
1336845531367: Received UDP payload: 446
1336845531788: Received UDP payload: 446
1336845532507: Received UDP payload: 446
1336845533175: Received UDP payload: 446
1336845533599: inside sendPacket(Packet p)
1336845533615: Sending UDP payload: 446
1336845534176: Received UDP payload: 446
1336845536403: Received UDP payload: 446
1336845536802: Received UDP payload: 446
1336845537511: Received UDP payload: 446
1336845538147: Received UDP payload: 642
1336845538153: mux: Inside mux Packet.CLIENT_REQUEST
1336845538188: Received UDP payload: 1006
1336845538197: mux: GOT CSM_Msg
1336845538198: removed replies before id 9 from sentReplies of size 0
1336845538198: inside handleDSMRequest. At requests's remote leader of region 5
1336845538200: INSIDE SERVER_GET_PHOTO!!!
1336845538204: Received PROC_REQUEST 11:9 (1,0)->(5,0), replying PROC_REPLY 11:9 (5,0)->(1,0)
1336845538205: Dispatching Atom PROC_REPLY 11:9 (5,0)->(1,0)
1336845538205: mux: I got a CSM packet at a leader 

1336845538206: Sending UDP payload: 3734
1336845538206: forwarding disabled, not forwarding packets
1336845538212: Received UDP payload: 446
1336845538214: mux: Inside Packet.SERVER_REPLY
1336845538214: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845538213: Received UDP payload: 446
1336845538301: Received UDP payload: 3387
1336845538303: mux: Inside Packet.SERVER_REPLY
1336845538303: mux: Ignoring SERVER_REPLY since it's not for me  5008
1336845538312: Received UDP payload: 446
1336845538313: mux: Inside mux Packet.CLIENT_REQUEST
1336845538617: inside sendPacket(Packet p)
1336845538618: Sending UDP payload: 446
1336845539166: Received UDP payload: 446
1336845541366: Received UDP payload: 446
1336845541437: Received UDP payload: 1006
1336845541444: mux: GOT CSM_Msg
1336845541445: removed replies before id 10 from sentReplies of size 0
1336845541445: inside handleDSMRequest. At requests's remote leader of region 5
1336845541447: INSIDE SERVER_GET_PHOTO!!!
1336845541467: Received PROC_REQUEST 11:10 (1,0)->(5,0), replying PROC_REPLY 11:10 (5,0)->(1,0)
1336845541468: Dispatching Atom PROC_REPLY 11:10 (5,0)->(1,0)
1336845541469: mux: I got a CSM packet at a leader 

1336845541473: Sending UDP payload: 3734
1336845541483: forwarding disabled, not forwarding packets
1336845541805: Received UDP payload: 446
1336845542539: Received UDP payload: 446
1336845543190: Received UDP payload: 446
1336845543619: inside sendPacket(Packet p)
1336845543628: Sending UDP payload: 446
1336845544170: Received UDP payload: 446
1336845546372: Received UDP payload: 446
1336845546815: Received UDP payload: 446
1336845547553: Received UDP payload: 446
1336845548198: Received UDP payload: 446
1336845548631: inside sendPacket(Packet p)
1336845548634: Sending UDP payload: 446
1336845549182: Received UDP payload: 446
1336845551369: Received UDP payload: 446
1336845551831: Received UDP payload: 446
1336845552537: Received UDP payload: 446
1336845553194: Received UDP payload: 446
1336845553633: inside sendPacket(Packet p)
1336845553636: Sending UDP payload: 446
1336845554176: Received UDP payload: 446
1336845556371: Received UDP payload: 446
1336845556837: Received UDP payload: 446
1336845557549: Received UDP payload: 446
1336845558196: Received UDP payload: 446
1336845558634: inside sendPacket(Packet p)
1336845558636: Sending UDP payload: 446
1336845559178: Received UDP payload: 446
1336845561421: Received UDP payload: 446
1336845561835: Received UDP payload: 446
1336845562554: Received UDP payload: 446
1336845563196: Received UDP payload: 446
1336845563634: inside sendPacket(Packet p)
1336845563637: Sending UDP payload: 446
1336845564194: Received UDP payload: 446
1336845566394: Received UDP payload: 446
1336845566840: Received UDP payload: 446
1336845568206: Received UDP payload: 446
1336845568636: inside sendPacket(Packet p)
1336845568644: Sending UDP payload: 446
1336845569230: Received UDP payload: 446
1336845571421: Received UDP payload: 446
1336845571883: Received UDP payload: 446
1336845573210: Received UDP payload: 446
1336845573647: inside sendPacket(Packet p)
1336845573650: Sending UDP payload: 446
1336845576389: Received UDP payload: 446
1336845576893: Received UDP payload: 446
1336845578210: Received UDP payload: 446
1336845578648: inside sendPacket(Packet p)
1336845578651: Sending UDP payload: 446
1336845581391: Received UDP payload: 446
1336845583216: Received UDP payload: 446
1336845583649: inside sendPacket(Packet p)
1336845583652: Sending UDP payload: 446
1336845586393: Received UDP payload: 446
1336845588221: Received UDP payload: 446
1336845588650: inside sendPacket(Packet p)
1336845588653: Sending UDP payload: 446
1336845591391: Received UDP payload: 446
1336845593651: inside sendPacket(Packet p)
1336845593653: Sending UDP payload: 446
1336845596393: Received UDP payload: 446
1336845596652: HI I'm in ONPAUSE()
1336845597373: inside onDestroy()
