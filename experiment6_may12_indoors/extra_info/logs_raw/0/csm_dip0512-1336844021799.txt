1336844021805: *** Opened log file for writing ***
1336844021805: Android build: SAMSUNG-SGH-I717
1336844021806: NET_NAME set to: eth0
1336844021806: starting Mux with id = -1
1336844021807: areButtonsEnabled --> true
1336844021808: *** Application started ***
1336844021809: HI I'm in ONRESUME()
1336844021812: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1336844021815: ************ GPS turned OFF *************
1336844021816: mux: Mux.java run() beginning -------------
1336844021827: mux: Mux.java's nodeId is5010
1336844021827: mux: starting vncDaemon ........
1336844021834: mux: vncDaemon started
1336844021828: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1336844021834: VCoreDaemon.java onStart() ....
1336844021835: started, mId = 5010
1336844021835: VCoreDaemon.java inside stateTransition ..........
1336844021835: removing leaderRequestRetryR because I'm doing a stateTransition
1336844021835: ..... VCoreDaemon.java out of bounds
1336844021835: region (-1, -1) out of bounds, dormant
1336844021835: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336844023074: Received UDP payload: 446
1336844025057: Received UDP payload: 446
1336844025440: Received UDP payload: 446
1336844025744: Received UDP payload: 446
1336844025859: Received UDP payload: 446
1336844028126: Received UDP payload: 446
1336844028153: moving from region (-1,-1), to (4,0)
1336844028153: VCoreDaemon.java inside stateTransition ..........
1336844028153: removing leaderRequestRetryR because I'm doing a stateTransition
1336844028153: ..... VCoreDaemon.java targetState = JOINING (4,0)
1336844028153: posting leaderRequestRetryR because I'm joining
1336844028154: sending LEADER_REQUEST
1336844028155: inside sendPacket(Packet p)
1336844028155: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336844028156: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336844028171: Sending UDP payload: 446
1336844028296: Received UDP payload: 446
1336844028455: sending LEADER_REQUEST
1336844028456: inside sendPacket(Packet p)
1336844028456: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336844028457: Sending UDP payload: 446
1336844028588: Received UDP payload: 446
1336844028757: sending LEADER_REQUEST
1336844028757: inside sendPacket(Packet p)
1336844028758: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336844028766: Sending UDP payload: 446
1336844028893: Received UDP payload: 446
1336844029058: sending LEADER_REQUEST
1336844029059: inside sendPacket(Packet p)
1336844029059: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336844029065: Sending UDP payload: 446
1336844029156: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1336844029156: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1336844029157: VCoreDaemon.java inside stateTransition ..........
1336844029157: removing leaderRequestRetryR because I'm doing a stateTransition
1336844029158: ..... VCoreDaemon.java targetState = LEADER
1336844029158: trying to take leadership (4,0) to the cloud
1336844029204: Received UDP payload: 446
1336844029591: Received UDP payload: 22335
1336844029887: Received UDP payload: 446
1336844030075: Received UDP payload: 446
1336844030175: Received UDP payload: 446
1336844030472: Received UDP payload: 446
1336844030615: Received UDP payload: 446
1336844030778: Received UDP payload: 446
1336844031526: cloud accepted leadership request, no csm data included.
1336844031543: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1336844031544: *** Starting CSM Layer ***
1336844031545: *** CSM Layer starting with cache disabled ***
1336844031546: *** CSM Layer starting with forwarding disabled ***
1336844031576: DSMLayer starting
1336844031585: UserApp started.
1336844031587: UserApp for Camera Diploma initialized and waiting for requests.
1336844031928: inside sendPacket(Packet p)
1336844031968: now fully up as LEADER (id=5010) of (4,0)
1336844031968: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336844031969: heard LEADER_REQUEST from node 5009, responding LEADER_REPLY
1336844031973: Sending UDP payload: 22318
1336844032125: inside sendPacket(Packet p)
1336844032140: Sending UDP payload: 22950
1336844032144: heard LEADER_REQUEST from node 5009, responding LEADER_REPLY
1336844032255: inside sendPacket(Packet p)
1336844032255: heard LEADER_REQUEST from node 5009, responding LEADER_REPLY
1336844032256: Sending UDP payload: 22335
1336844032328: inside sendPacket(Packet p)
1336844032328: heard LEADER_REQUEST from node 5009, responding LEADER_REPLY
1336844032330: Sending UDP payload: 22335
1336844032421: inside sendPacket(Packet p)
1336844032423: inside sendPacket(Packet p)
1336844032432: Sending UDP payload: 22950
1336844032436: Sending UDP payload: 446
1336844033091: Received UDP payload: 446
1336844035101: Received UDP payload: 446
1336844035614: Received UDP payload: 446
1336844037424: inside sendPacket(Packet p)
1336844037428: Sending UDP payload: 446
1336844038113: Received UDP payload: 446
1336844038214: Received UDP payload: 446
1336844038519: Received UDP payload: 446
1336844038814: Received UDP payload: 446
1336844039122: Received UDP payload: 446
1336844039819: Received UDP payload: 446
1336844040107: Received UDP payload: 446
1336844040122: Received UDP payload: 446
1336844040426: Received UDP payload: 446
1336844040614: Received UDP payload: 446
1336844040746: Received UDP payload: 446
1336844042169: Received UDP payload: 22318
1336844042182: ignoring leader_reply that's not for me
1336844042409: Received UDP payload: 22335
1336844042425: inside sendPacket(Packet p)
1336844042427: Sending UDP payload: 446
1336844042645: Received UDP payload: 22335
1336844042889: Received UDP payload: 22950
1336844043188: Received UDP payload: 22335
1336844043209: Received UDP payload: 446
1336844043216: Received UDP payload: 446
1336844045112: Received UDP payload: 446
1336844045630: Received UDP payload: 446
1336844047410: Received UDP payload: 446
1336844047426: inside sendPacket(Packet p)
1336844047466: Sending UDP payload: 446
1336844048091: Received UDP payload: 446
1336844050125: Received UDP payload: 446
1336844050641: Received UDP payload: 446
1336844052430: Received UDP payload: 446
1336844052444: inside sendPacket(Packet p)
1336844052459: Sending UDP payload: 446
1336844053097: Received UDP payload: 446
1336844055124: Received UDP payload: 446
1336844055657: Received UDP payload: 446
1336844056032: Received UDP payload: 446
1336844056343: Received UDP payload: 446
1336844056633: Received UDP payload: 446
1336844056935: Received UDP payload: 446
1336844057454: Received UDP payload: 446
1336844057461: inside sendPacket(Packet p)
1336844057465: Sending UDP payload: 446
1336844058135: Received UDP payload: 446
1336844060193: Received UDP payload: 22318
1336844060202: ignoring leader_reply that's not for me
1336844060218: Received UDP payload: 446
1336844060253: Received UDP payload: 446
1336844060671: Received UDP payload: 446
1336844062458: Received UDP payload: 446
1336844062464: inside sendPacket(Packet p)
1336844062486: Sending UDP payload: 446
1336844063149: Received UDP payload: 446
1336844064899: Received UDP payload: 446
1336844065138: Received UDP payload: 446
1336844065679: Received UDP payload: 446
1336844067467: inside sendPacket(Packet p)
1336844067471: Sending UDP payload: 446
1336844067521: Received UDP payload: 446
1336844068156: Received UDP payload: 446
1336844069981: Received UDP payload: 446
1336844070156: Received UDP payload: 446
1336844070709: Received UDP payload: 446
1336844072467: inside sendPacket(Packet p)
1336844072470: Sending UDP payload: 446
1336844072488: Received UDP payload: 446
1336844073182: Received UDP payload: 446
1336844074937: Received UDP payload: 446
1336844075154: Received UDP payload: 446
1336844075738: Received UDP payload: 446
1336844077468: inside sendPacket(Packet p)
1336844077489: Sending UDP payload: 446
1336844077496: Received UDP payload: 446
1336844078184: Received UDP payload: 446
1336844079956: Received UDP payload: 446
1336844080148: Received UDP payload: 446
1336844080714: Received UDP payload: 446
1336844082468: inside sendPacket(Packet p)
1336844082494: Sending UDP payload: 446
1336844082499: Received UDP payload: 446
1336844083280: Received UDP payload: 446
1336844084974: Received UDP payload: 446
1336844085160: Received UDP payload: 446
1336844085717: Received UDP payload: 446
1336844087496: Received UDP payload: 446
1336844087500: inside sendPacket(Packet p)
1336844087512: Sending UDP payload: 446
1336844088268: Received UDP payload: 446
1336844089963: Received UDP payload: 446
1336844090154: Received UDP payload: 446
1336844090742: Received UDP payload: 446
1336844092498: Received UDP payload: 446
1336844092505: inside sendPacket(Packet p)
1336844092526: Sending UDP payload: 446
1336844093223: Received UDP payload: 446
1336844094964: Received UDP payload: 446
1336844095166: Received UDP payload: 446
1336844095734: Received UDP payload: 446
1336844097502: Received UDP payload: 446
1336844097509: inside sendPacket(Packet p)
1336844097514: Sending UDP payload: 446
1336844098234: Received UDP payload: 446
1336844100011: Received UDP payload: 446
1336844100186: Received UDP payload: 446
1336844100791: Received UDP payload: 446
1336844102500: Received UDP payload: 446
1336844102510: inside sendPacket(Packet p)
1336844102522: Sending UDP payload: 446
1336844103256: Received UDP payload: 446
1336844104980: Received UDP payload: 446
1336844105216: Received UDP payload: 446
1336844105825: Received UDP payload: 446
1336844107525: inside sendPacket(Packet p)
1336844107528: Sending UDP payload: 446
1336844107582: Received UDP payload: 446
1336844108306: Received UDP payload: 446
1336844110020: Received UDP payload: 446
1336844110201: Received UDP payload: 446
1336844110796: Received UDP payload: 446
1336844112525: inside sendPacket(Packet p)
1336844112533: Received UDP payload: 446
1336844112563: Sending UDP payload: 446
1336844113268: Received UDP payload: 446
1336844114984: Received UDP payload: 446
1336844115216: Received UDP payload: 446
1336844117528: inside sendPacket(Packet p)
1336844117539: Received UDP payload: 446
1336844117538: Sending UDP payload: 446
1336844117556: Received UDP payload: 446
1336844119986: Received UDP payload: 446
1336844120003: Received UDP payload: 446
1336844120120: Received UDP payload: 3979
1336844120128: mux: Inside mux Packet.CLIENT_REQUEST
1336844120234: Received UDP payload: 4343
1336844120253: mux: GOT CSM_Msg
1336844120254: forwarding disabled, not forwarding packets
1336844120264: Received UDP payload: 446
1336844120283: Received UDP payload: 446
1336844120289: mux: Inside Packet.SERVER_REPLY
1336844120289: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844120291: Received UDP payload: 1006
1336844120315: mux: GOT CSM_Msg
1336844120316: forwarding disabled, not forwarding packets
1336844120316: Received UDP payload: 659
1336844120318: mux: Inside Packet.SERVER_REPLY
1336844120318: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844120318: Received UDP payload: 446
1336844120320: mux: Inside mux Packet.CLIENT_REQUEST
1336844122539: Received UDP payload: 446
1336844122548: inside sendPacket(Packet p)
1336844122551: Sending UDP payload: 446
1336844122568: Received UDP payload: 446
1336844124915: Received UDP payload: 446
1336844124986: Received UDP payload: 446
1336844125237: Received UDP payload: 446
1336844126790: Received UDP payload: 4294
1336844126808: mux: GOT CSM_Msg
1336844126809: forwarding disabled, not forwarding packets
1336844126822: Received UDP payload: 1006
1336844126845: mux: GOT CSM_Msg
1336844126846: forwarding disabled, not forwarding packets
1336844127539: Received UDP payload: 446
1336844127549: inside sendPacket(Packet p)
1336844127567: Sending UDP payload: 446
1336844127572: Received UDP payload: 446
1336844129991: Received UDP payload: 446
1336844129999: Received UDP payload: 446
1336844130307: Received UDP payload: 446
1336844132451: Received UDP payload: 5909
1336844132458: mux: Inside mux Packet.CLIENT_REQUEST
1336844132542: Received UDP payload: 446
1336844132570: inside sendPacket(Packet p)
1336844132574: Sending UDP payload: 446
1336844132576: Received UDP payload: 446
1336844132594: Received UDP payload: 6273
1336844132624: mux: GOT CSM_Msg
1336844132624: forwarding disabled, not forwarding packets
1336844132625: Received UDP payload: 446
1336844132626: mux: Inside Packet.SERVER_REPLY
1336844132627: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844132627: Received UDP payload: 1006
1336844132629: mux: GOT CSM_Msg
1336844132630: forwarding disabled, not forwarding packets
1336844132652: Received UDP payload: 659
1336844132659: mux: Inside Packet.SERVER_REPLY
1336844132659: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844132656: Received UDP payload: 446
1336844132660: mux: Inside mux Packet.CLIENT_REQUEST
1336844134949: Received UDP payload: 446
1336844135001: Received UDP payload: 446
1336844137300: Received UDP payload: 446
1336844137552: Received UDP payload: 446
1336844137570: inside sendPacket(Packet p)
1336844137607: Sending UDP payload: 446
1336844137633: Received UDP payload: 446
1336844139783: Received UDP payload: 4398
1336844139801: mux: GOT CSM_Msg
1336844139802: forwarding disabled, not forwarding packets
1336844139813: Received UDP payload: 1006
1336844139822: mux: GOT CSM_Msg
1336844139823: forwarding disabled, not forwarding packets
1336844139936: Received UDP payload: 446
1336844140004: Received UDP payload: 446
1336844142280: Received UDP payload: 446
1336844142550: Received UDP payload: 446
1336844142560: Received UDP payload: 446
1336844142570: inside sendPacket(Packet p)
1336844142575: Sending UDP payload: 446
1336844144933: Received UDP payload: 446
1336844145002: Received UDP payload: 446
1336844147354: Received UDP payload: 446
1336844147569: Received UDP payload: 446
1336844147571: inside sendPacket(Packet p)
1336844147594: Sending UDP payload: 446
1336844147597: Received UDP payload: 446
1336844149938: Received UDP payload: 446
1336844150021: Received UDP payload: 446
1336844151969: leader to cloud hearbeat...
1336844152314: Received UDP payload: 446
1336844152561: Received UDP payload: 446
1336844152591: Received UDP payload: 446
1336844154063: inside sendPacket(Packet p)
1336844154101: Sending UDP payload: 446
1336844154942: Received UDP payload: 446
1336844155001: Received UDP payload: 446
1336844156133: Received UDP payload: 4587
1336844156149: mux: GOT CSM_Msg
1336844156149: forwarding disabled, not forwarding packets
1336844156164: Received UDP payload: 1006
1336844156182: mux: GOT CSM_Msg
1336844156182: forwarding disabled, not forwarding packets
1336844157332: Received UDP payload: 446
1336844157560: Received UDP payload: 446
1336844157603: Received UDP payload: 446
1336844159085: inside sendPacket(Packet p)
1336844159088: Sending UDP payload: 446
1336844159971: Received UDP payload: 446
1336844160050: Received UDP payload: 446
1336844162371: Received UDP payload: 446
1336844162592: Received UDP payload: 446
1336844164085: inside sendPacket(Packet p)
1336844164088: Sending UDP payload: 446
1336844164424: Received UDP payload: 446
1336844164948: Received UDP payload: 446
1336844165021: Received UDP payload: 446
1336844167381: Received UDP payload: 446
1336844167582: Received UDP payload: 446
1336844168117: Received UDP payload: 4172
1336844168129: mux: GOT CSM_Msg
1336844168130: forwarding disabled, not forwarding packets
1336844168143: Received UDP payload: 1006
1336844168161: mux: GOT CSM_Msg
1336844168162: forwarding disabled, not forwarding packets
1336844169087: inside sendPacket(Packet p)
1336844169103: Sending UDP payload: 446
1336844169346: Received UDP payload: 446
1336844169966: Received UDP payload: 446
1336844170025: Received UDP payload: 446
1336844172350: Received UDP payload: 446
1336844172590: Received UDP payload: 446
1336844174087: inside sendPacket(Packet p)
1336844174088: Sending UDP payload: 446
1336844174349: Received UDP payload: 446
1336844174973: Received UDP payload: 446
1336844175069: Received UDP payload: 4244
1336844175078: mux: Inside mux Packet.CLIENT_REQUEST
1336844175083: Received UDP payload: 446
1336844175211: Received UDP payload: 4608
1336844175219: mux: GOT CSM_Msg
1336844175219: forwarding disabled, not forwarding packets
1336844175233: Received UDP payload: 446
1336844175238: mux: Inside Packet.SERVER_REPLY
1336844175238: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844175267: Received UDP payload: 1006
1336844175273: mux: GOT CSM_Msg
1336844175273: forwarding disabled, not forwarding packets
1336844175277: Received UDP payload: 659
1336844175281: mux: Inside Packet.SERVER_REPLY
1336844175281: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844175301: Received UDP payload: 446
1336844175308: mux: Inside mux Packet.CLIENT_REQUEST
1336844177357: Received UDP payload: 446
1336844177610: Received UDP payload: 446
1336844179088: inside sendPacket(Packet p)
1336844179092: Sending UDP payload: 446
1336844179364: Received UDP payload: 446
1336844179996: Received UDP payload: 446
1336844182046: Received UDP payload: 4766
1336844182060: mux: GOT CSM_Msg
1336844182061: forwarding disabled, not forwarding packets
1336844182070: Received UDP payload: 1006
1336844182096: mux: GOT CSM_Msg
1336844182097: forwarding disabled, not forwarding packets
1336844182098: Received UDP payload: 446
1336844182359: Received UDP payload: 446
1336844182599: Received UDP payload: 446
1336844184088: inside sendPacket(Packet p)
1336844184092: Sending UDP payload: 446
1336844184395: Received UDP payload: 446
1336844185014: Received UDP payload: 446
1336844187077: Received UDP payload: 446
1336844187373: Received UDP payload: 446
1336844187611: Received UDP payload: 446
1336844188894: canPressButton = TRUE
1336844188895: areButtonsEnabled --> false
1336844188895: disabling buttons ...
1336844188895: took picture disableButtonsR
1336844188895: areButtonsEnabled --> false
1336844188971: one more takeNum: 1
1336844188972: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336844188977: Clicked take picture button ..
1336844189089: inside sendPacket(Packet p)
1336844189099: Sending UDP payload: 446
1336844189387: Received UDP payload: 446
1336844190024: Received UDP payload: 446
1336844190143: inside HandlePictureStorage onPictureTaken()
1336844190143: one more takeCamGood: 1
1336844190144: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336844190409: Picture successfully taken, ORIG BYTE LENGTH = 2048444
1336844190599: Our new height x width: 306 x 408
1336844190599: Show photo from handle my camera take
1336844190600: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336844190600: change local requestCounter to 1
1336844190616: BYTE SIZE AFTER COMPRESSION: 3590
1336844190621: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5010001 Client in region: 4 Client nodID: 5010
1336844190650: ----------------------------
1336844190650: inside sendRequestPacketRepeatingRunnable for requestCount = 5010001
1336844190650: I'm a leader, my requesting photos packet going to mux directly
1336844190659: --- Finished one round of sending REQUEST Packet ---------
1336844190650: mux: Inside mux Packet.CLIENT_REQUEST
1336844190651: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844190694: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844190651: inside handleClientRequest. Originator leader of region 4
1336844190651: got new request, requestCounter = 5010001
1336844190651: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844190651: Sending PROC_REQUEST 10:0 (4,0)->(4,0)
1336844190652: Dispatching Atom PROC_REQUEST 10:0 (4,0)->(4,0)
1336844190653: mux: I got a CSM packet at a leader 

1336844190696: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844190697: I'm a leader and I successfully saved my client's new photo
1336844190698: now showing in UI the new photo I just saved ... 
1336844190698: the photo length: 3590
1336844190730: end of server show photo aside %%%%%%%%%
1336844190652: Note down new request by adding requestCounter=5010001 to HashMap processedRequests
1336844190652: Make FirstLeg Ack regardless of new or already-processed requests
1336844190652: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844190659: Sending UDP payload: 4618
1336844190664: removed replies before id 0 from sentReplies of size 0
1336844190664: inside handleDSMRequest. At requests's remote leader of region 4
1336844190666: Inside UPLOAD_PHOTO!!
1336844190668: my_gpinfo.isSuccess is now (should be true): true
1336844190669: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844190670: Received PROC_REQUEST 10:0 (4,0)->(4,0), replying PROC_REPLY 10:0 (4,0)->(4,0)
1336844190682: Dispatching Atom PROC_REPLY 10:0 (4,0)->(4,0)
1336844190682: mux: I got a CSM packet at a leader 

1336844190731: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336844190732: disabling progressdialog due to successful new photo upload
1336844190732: Inside _enableButtons
1336844190732: areButtonsEnabled --> true
1336844190732: send final leg ack regardless of new or already-processed reply
1336844190733: inside finalLegAck: change requestCounter to 2
1336844190733: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010002 Client in region: (4,0) Client nodID: 5010
1336844190733: I'm a leader client, my final_leg packet going to mux directly
1336844190735: new client_upload_photo_ack reply with replyCounter 501000100
1336844190736: note down new reply by adding replyCounter=501000100 to HashMap processedReplies
1336844190736: leader upload new photo latency = 81
1336844190737: = leader upload start 1336844190650 ~ stop 1336844190731
1336844190739: one more takeGoodSave: 1
1336844190740: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336844190740: adding take latency: 81
1336844190741: SUCCESS Client now knows saving photo on its leader succeeded
1336844190684: Sending UDP payload: 1006
1336844190685: Received PROC_REPLY 10:0 (4,0)->(4,0), handing to UserApp
1336844190685: inside handleDSMReply. Now back in originator leader of region 4
1336844190685: DSM layer: Going to and from remote region took latency = 34
1336844190686: DSM layer: orig leader sent packet at 1336844190651 ~ received reply from remote leader at 1336844190685
1336844190686: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844190686: leader client reply has replyCounter: 501000100
1336844190687: reply packet contains the success info for UPLOAD_PHOTO
1336844190687: inside sendReplies of replyCount = 501000100
1336844190687: =======================
1336844190687: inside sendReplyRepeatingRunnable for replyCount = 501000100
1336844190687: Leader about to send REPLY packet, number: 501000100 type: 16 Leader in region: (4,0) to Client nodID: 5010
1336844190688: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844190688: === Finished one round of sending REPLY Packet =======
1336844190734: mux: Inside mux Packet.CLIENT_REQUEST
1336844190734: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844190734: inside handleClientRequest. Originator leader of region 4
1336844190734: got new request, requestCounter = 5010002
1336844190734: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501000100
1336844190734: Yay the last leg succeeded. Removing reply runnables ...
1336844190734: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501000100
1336844190734: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501000100
1336844190735: do not send ack for received final_leg_ack
1336844192091: Received UDP payload: 446
1336844192376: Received UDP payload: 446
1336844192636: Received UDP payload: 446
1336844194090: inside sendPacket(Packet p)
1336844194125: Sending UDP payload: 446
1336844194409: Received UDP payload: 446
1336844195118: Received UDP payload: 446
1336844197090: Received UDP payload: 446
1336844197408: Received UDP payload: 446
1336844197679: Received UDP payload: 446
1336844197722: Received UDP payload: 5367
1336844197731: mux: Inside mux Packet.CLIENT_REQUEST
1336844197731: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844197732: inside handleClientRequest. Originator leader of region 4
1336844197732: got new request, requestCounter = 5009001
1336844197734: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844197746: Sending PROC_REQUEST 10:1 (4,0)->(4,0)
1336844197747: Dispatching Atom PROC_REQUEST 10:1 (4,0)->(4,0)
1336844197752: mux: I got a CSM packet at a leader 

1336844197819: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844197821: I'm a leader and I successfully saved my client's new photo
1336844197821: now showing in UI the new photo I just saved ... 
1336844197821: the photo length: 4703
1336844197868: end of server show photo aside %%%%%%%%%
1336844197748: Note down new request by adding requestCounter=5009001 to HashMap processedRequests
1336844197749: Make FirstLeg Ack regardless of new or already-processed requests
1336844197750: The leader sending a First Leg ack to originator client (which id = 5009)
1336844197751: inside sendPacket(Packet p)
1336844197771: Sending UDP payload: 5731
1336844197786: removed replies before id 1 from sentReplies of size 0
1336844197787: inside handleDSMRequest. At requests's remote leader of region 4
1336844197803: Inside UPLOAD_PHOTO!!
1336844197807: my_gpinfo.isSuccess is now (should be true): true
1336844197807: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844197808: Received PROC_REQUEST 10:1 (4,0)->(4,0), replying PROC_REPLY 10:1 (4,0)->(4,0)
1336844197815: Dispatching Atom PROC_REPLY 10:1 (4,0)->(4,0)
1336844197816: mux: I got a CSM packet at a leader 

1336844197816: Sending UDP payload: 446
1336844197818: Sending UDP payload: 1006
1336844197851: Received PROC_REPLY 10:1 (4,0)->(4,0), handing to UserApp
1336844197851: inside handleDSMReply. Now back in originator leader of region 4
1336844197851: DSM layer: Going to and from remote region took latency = 107
1336844197851: DSM layer: orig leader sent packet at 1336844197744 ~ received reply from remote leader at 1336844197851
1336844197854: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844197855: leader client reply has replyCounter: 500900100
1336844197855: reply packet contains the success info for UPLOAD_PHOTO
1336844197855: inside sendReplies of replyCount = 500900100
1336844197855: =======================
1336844197855: inside sendReplyRepeatingRunnable for replyCount = 500900100
1336844197856: Leader about to send REPLY packet, number: 500900100 type: 16 Leader in region: (4,0) to Client nodID: 5009
1336844197856: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844197856: inside sendPacket(Packet p)
1336844197856: === Finished one round of sending REPLY Packet =======
1336844197862: Sending UDP payload: 659
1336844197894: Received UDP payload: 446
1336844197897: mux: Inside mux Packet.CLIENT_REQUEST
1336844197897: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844197897: inside handleClientRequest. Originator leader of region 4
1336844197898: got new request, requestCounter = 5009002
1336844197898: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500900100
1336844197898: Yay the last leg succeeded. Removing reply runnables ...
1336844197898: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500900100
1336844197898: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500900100
1336844197898: do not send ack for received final_leg_ack
1336844199091: inside sendPacket(Packet p)
1336844199094: Sending UDP payload: 446
1336844199440: Received UDP payload: 446
1336844200044: Received UDP payload: 446
1336844202123: Received UDP payload: 446
1336844202407: Received UDP payload: 446
1336844202640: Received UDP payload: 446
1336844204091: inside sendPacket(Packet p)
1336844204108: Sending UDP payload: 446
1336844204479: Received UDP payload: 446
1336844205089: Received UDP payload: 446
1336844207145: Received UDP payload: 446
1336844207423: Received UDP payload: 446
1336844207642: Received UDP payload: 446
1336844209111: inside sendPacket(Packet p)
1336844209115: Sending UDP payload: 446
1336844209454: Received UDP payload: 446
1336844210065: Received UDP payload: 446
1336844212094: Received UDP payload: 446
1336844212401: Received UDP payload: 446
1336844212650: Received UDP payload: 446
1336844214113: inside sendPacket(Packet p)
1336844214117: Sending UDP payload: 446
1336844214458: Received UDP payload: 446
1336844215085: Received UDP payload: 446
1336844217096: Received UDP payload: 446
1336844217404: Received UDP payload: 446
1336844217660: Received UDP payload: 446
1336844219114: inside sendPacket(Packet p)
1336844219117: Sending UDP payload: 446
1336844219454: Received UDP payload: 446
1336844220081: Received UDP payload: 446
1336844222157: Received UDP payload: 446
1336844222486: Received UDP payload: 446
1336844222705: Received UDP payload: 446
1336844224116: inside sendPacket(Packet p)
1336844224127: Sending UDP payload: 446
1336844224497: Received UDP payload: 446
1336844225100: Received UDP payload: 446
1336844227105: Received UDP payload: 446
1336844227455: Received UDP payload: 446
1336844227676: Received UDP payload: 446
1336844229131: inside sendPacket(Packet p)
1336844229139: Sending UDP payload: 446
1336844229468: Received UDP payload: 446
1336844230123: Received UDP payload: 446
1336844232104: Received UDP payload: 446
1336844232412: Received UDP payload: 446
1336844232677: Received UDP payload: 446
1336844234141: inside sendPacket(Packet p)
1336844234151: Sending UDP payload: 446
1336844234467: Received UDP payload: 446
1336844235105: Received UDP payload: 446
1336844237116: Received UDP payload: 446
1336844237419: Received UDP payload: 446
1336844239148: inside sendPacket(Packet p)
1336844239161: Sending UDP payload: 446
1336844239480: Received UDP payload: 446
1336844239617: Received UDP payload: 446
1336844242026: Received UDP payload: 446
1336844242104: Received UDP payload: 446
1336844242435: Received UDP payload: 446
1336844244151: inside sendPacket(Packet p)
1336844244156: Sending UDP payload: 446
1336844244478: Received UDP payload: 446
1336844244645: Received UDP payload: 446
1336844247034: Received UDP payload: 446
1336844247114: Received UDP payload: 446
1336844247448: Received UDP payload: 446
1336844249154: inside sendPacket(Packet p)
1336844249158: Sending UDP payload: 446
1336844249503: Received UDP payload: 446
1336844249623: Received UDP payload: 446
1336844252126: Received UDP payload: 446
1336844252197: Received UDP payload: 446
1336844252509: Received UDP payload: 446
1336844254156: inside sendPacket(Packet p)
1336844254167: Sending UDP payload: 446
1336844254516: Received UDP payload: 446
1336844254728: Received UDP payload: 446
1336844257137: Received UDP payload: 446
1336844257155: Received UDP payload: 446
1336844259169: inside sendPacket(Packet p)
1336844259186: Sending UDP payload: 446
1336844259451: Received UDP payload: 446
1336844259529: Received UDP payload: 446
1336844259625: Received UDP payload: 446
1336844262051: Received UDP payload: 446
1336844262142: Received UDP payload: 446
1336844264188: inside sendPacket(Packet p)
1336844264191: Sending UDP payload: 446
1336844264459: Received UDP payload: 446
1336844264522: Received UDP payload: 446
1336844264678: Received UDP payload: 446
1336844267097: Received UDP payload: 446
1336844267137: Received UDP payload: 446
1336844269189: inside sendPacket(Packet p)
1336844269193: Sending UDP payload: 446
1336844269471: Received UDP payload: 446
1336844269521: Received UDP payload: 446
1336844269681: Received UDP payload: 446
1336844272047: Received UDP payload: 446
1336844272133: Received UDP payload: 446
1336844273042: Received UDP payload: 1006
1336844273068: mux: GOT CSM_Msg
1336844273069: forwarding disabled, not forwarding packets
1336844273166: Received UDP payload: 4398
1336844273170: mux: GOT CSM_Msg
1336844273170: forwarding disabled, not forwarding packets
1336844273504: Received UDP payload: 642
1336844273507: mux: Inside mux Packet.CLIENT_REQUEST
1336844273549: Received UDP payload: 1006
1336844273553: mux: GOT CSM_Msg
1336844273554: forwarding disabled, not forwarding packets
1336844273580: Received UDP payload: 446
1336844273582: mux: Inside Packet.SERVER_REPLY
1336844273582: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844273660: Received UDP payload: 4398
1336844273671: mux: GOT CSM_Msg
1336844273672: forwarding disabled, not forwarding packets
1336844273715: Received UDP payload: 4051
1336844273720: mux: Inside Packet.SERVER_REPLY
1336844273721: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844273733: Received UDP payload: 446
1336844273737: mux: Inside mux Packet.CLIENT_REQUEST
1336844274062: leader to cloud hearbeat...
1336844274304: Received UDP payload: 642
1336844274307: mux: Inside mux Packet.CLIENT_REQUEST
1336844274339: Received UDP payload: 1006
1336844274346: mux: GOT CSM_Msg
1336844274346: forwarding disabled, not forwarding packets
1336844274348: Received UDP payload: 446
1336844274363: mux: Inside Packet.SERVER_REPLY
1336844274364: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844274450: Received UDP payload: 4398
1336844274452: mux: GOT CSM_Msg
1336844274453: forwarding disabled, not forwarding packets
1336844274469: Received UDP payload: 446
1336844274525: Received UDP payload: 446
1336844274540: Received UDP payload: 4051
1336844274544: mux: Inside Packet.SERVER_REPLY
1336844274544: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844274557: Received UDP payload: 446
1336844274559: mux: Inside mux Packet.CLIENT_REQUEST
1336844274630: Received UDP payload: 446
1336844275174: Received UDP payload: 1006
1336844275210: mux: GOT CSM_Msg
1336844275210: forwarding disabled, not forwarding packets
1336844275230: Received UDP payload: 4398
1336844275240: mux: GOT CSM_Msg
1336844275240: forwarding disabled, not forwarding packets
1336844276205: inside sendPacket(Packet p)
1336844276225: Sending UDP payload: 446
1336844277070: Received UDP payload: 446
1336844277137: Received UDP payload: 446
1336844279470: Received UDP payload: 446
1336844279519: Received UDP payload: 446
1336844279632: Received UDP payload: 446
1336844281218: inside sendPacket(Packet p)
1336844281229: Sending UDP payload: 446
1336844282160: Received UDP payload: 446
1336844282185: Received UDP payload: 446
1336844283107: Received UDP payload: 1006
1336844283118: mux: GOT CSM_Msg
1336844283118: forwarding disabled, not forwarding packets
1336844283143: Received UDP payload: 1006
1336844283163: mux: GOT CSM_Msg
1336844283163: forwarding disabled, not forwarding packets
1336844283258: Received UDP payload: 4294
1336844283261: mux: GOT CSM_Msg
1336844283261: forwarding disabled, not forwarding packets
1336844283300: Received UDP payload: 4398
1336844283303: mux: GOT CSM_Msg
1336844283303: forwarding disabled, not forwarding packets
1336844284477: Received UDP payload: 446
1336844284644: Received UDP payload: 446
1336844286218: inside sendPacket(Packet p)
1336844286229: Sending UDP payload: 446
1336844286467: Received UDP payload: 446
1336844287072: Received UDP payload: 446
1336844287182: Received UDP payload: 446
1336844289294: canPressButton = TRUE
1336844289294: areButtonsEnabled --> false 
1336844289295: get picture disableButtonsR
1336844289295: areButtonsEnabled --> false
1336844289321: one more getNum: 1
1336844289322: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1336844289322: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336844289322: change local requestCounter to 3
1336844289326: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010003 Client in region: 4 Client nodID: 5010
1336844289355: ----------------------------
1336844289356: inside sendRequestPacketRepeatingRunnable for requestCount = 5010003
1336844289356: I'm a leader, my requesting photos packet going to mux directly
1336844289366: --- Finished one round of sending REQUEST Packet ---------
1336844289356: mux: Inside mux Packet.CLIENT_REQUEST
1336844289357: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844289411: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844289357: inside handleClientRequest. Originator leader of region 4
1336844289357: got new request, requestCounter = 5010003
1336844289357: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844289359: Sending to region: 0
1336844289359: Sending PROC_REQUEST 11:0 (4,0)->(0,0)
1336844289362: Dispatching Atom PROC_REQUEST 11:0 (4,0)->(0,0)
1336844289363: mux: I got a CSM packet at a leader 

1336844289362: Note down new request by adding requestCounter=5010003 to HashMap processedRequests
1336844289362: Make FirstLeg Ack regardless of new or already-processed requests
1336844289362: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844289366: Sending UDP payload: 1006
1336844289371: forwarding disabled, not forwarding packets
1336844289471: Received UDP payload: 4398
1336844289474: mux: GOT CSM_Msg
1336844289479: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844289479: disabling progressdialog due to successful new photo get
1336844289479: Inside _enableButtons
1336844289479: areButtonsEnabled --> true
1336844289480: send final leg ack regardless of new or already-processed reply
1336844289480: inside finalLegAck: change requestCounter to 4
1336844289480: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010004 Client in region: (4,0) Client nodID: 5010
1336844289480: I'm a leader client, my final_leg packet going to mux directly
1336844289482: new client_show_remotephoto reply with replyCounter 501000300
1336844289482: note down new reply by adding replyCounter=501000300 to HashMap processedReplies
1336844289488: leader download remote photo latency = 123
1336844289488: = leader download start 1336844289356 ~ stop 1336844289479
1336844289489: one more getGood: 1
1336844289491: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1336844289491: adding get latency: 123
1336844289491: Success! Client getting photo from remote region, showing photo...
1336844289492: Remote photo's length: 3370
1336844289474: Received PROC_REPLY 11:0 (0,0)->(4,0), handing to UserApp
1336844289475: inside handleDSMReply. Now back in originator leader of region 4
1336844289475: DSM layer: Going to and from remote region took latency = 116
1336844289475: DSM layer: orig leader sent packet at 1336844289359 ~ received reply from remote leader at 1336844289475
1336844289476: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844289476: leader client reply has replyCounter: 501000300
1336844289476: reply packet contains the newest photo/success info from the remote region
1336844289476: inside sendReplies of replyCount = 501000300
1336844289476: =======================
1336844289477: inside sendReplyRepeatingRunnable for replyCount = 501000300
1336844289477: Leader about to send REPLY packet, number: 501000300 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844289477: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844289477: === Finished one round of sending REPLY Packet =======
1336844289481: mux: Inside mux Packet.CLIENT_REQUEST
1336844289481: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844289481: inside handleClientRequest. Originator leader of region 4
1336844289481: got new request, requestCounter = 5010004
1336844289481: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501000300
1336844289481: Yay the last leg succeeded. Removing reply runnables ...
1336844289481: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501000300
1336844289481: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501000300
1336844289481: do not send ack for received final_leg_ack
1336844289485: Received UDP payload: 446
1336844289646: Received UDP payload: 446
1336844290554: Received UDP payload: 642
1336844290564: mux: Inside mux Packet.CLIENT_REQUEST
1336844290565: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844290565: inside handleClientRequest. Originator leader of region 4
1336844290566: got new request, requestCounter = 5009003
1336844290566: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844290590: Sending to region: 0
1336844290594: Sending PROC_REQUEST 11:1 (4,0)->(0,0)
1336844290595: Dispatching Atom PROC_REQUEST 11:1 (4,0)->(0,0)
1336844290615: mux: I got a CSM packet at a leader 

1336844290596: Note down new request by adding requestCounter=5009003 to HashMap processedRequests
1336844290597: Make FirstLeg Ack regardless of new or already-processed requests
1336844290614: The leader sending a First Leg ack to originator client (which id = 5009)
1336844290615: inside sendPacket(Packet p)
1336844290640: Sending UDP payload: 1006
1336844290641: forwarding disabled, not forwarding packets
1336844290642: Sending UDP payload: 446
1336844290770: Received UDP payload: 4398
1336844290777: mux: GOT CSM_Msg
1336844290778: Received PROC_REPLY 11:1 (0,0)->(4,0), handing to UserApp
1336844290778: inside handleDSMReply. Now back in originator leader of region 4
1336844290778: DSM layer: Going to and from remote region took latency = 187
1336844290778: DSM layer: orig leader sent packet at 1336844290591 ~ received reply from remote leader at 1336844290778
1336844290780: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844290780: leader client reply has replyCounter: 500900300
1336844290780: reply packet contains the newest photo/success info from the remote region
1336844290780: inside sendReplies of replyCount = 500900300
1336844290781: =======================
1336844290781: inside sendReplyRepeatingRunnable for replyCount = 500900300
1336844290782: Leader about to send REPLY packet, number: 500900300 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844290782: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844290782: inside sendPacket(Packet p)
1336844290782: === Finished one round of sending REPLY Packet =======
1336844290785: Sending UDP payload: 4051
1336844290852: Received UDP payload: 446
1336844290855: mux: Inside mux Packet.CLIENT_REQUEST
1336844290855: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844290855: inside handleClientRequest. Originator leader of region 4
1336844290856: got new request, requestCounter = 5009004
1336844290856: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500900300
1336844290856: Yay the last leg succeeded. Removing reply runnables ...
1336844290856: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500900300
1336844290856: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500900300
1336844290857: do not send ack for received final_leg_ack
1336844291232: inside sendPacket(Packet p)
1336844291233: Sending UDP payload: 446
1336844291438: Received UDP payload: 446
1336844292099: Received UDP payload: 446
1336844292159: Received UDP payload: 446
1336844294484: Received UDP payload: 446
1336844294673: Received UDP payload: 446
1336844296232: inside sendPacket(Packet p)
1336844296239: Sending UDP payload: 446
1336844296439: Received UDP payload: 446
1336844297096: Received UDP payload: 446
1336844297165: Received UDP payload: 446
1336844299016: Received UDP payload: 1006
1336844299027: mux: GOT CSM_Msg
1336844299028: forwarding disabled, not forwarding packets
1336844299105: Received UDP payload: 4398
1336844299108: mux: GOT CSM_Msg
1336844299108: forwarding disabled, not forwarding packets
1336844299475: Received UDP payload: 446
1336844299663: Received UDP payload: 446
1336844301236: inside sendPacket(Packet p)
1336844301239: Sending UDP payload: 446
1336844301476: Received UDP payload: 446
1336844302105: Received UDP payload: 446
1336844304426: Received UDP payload: 446
1336844304484: Received UDP payload: 446
1336844304678: Received UDP payload: 446
1336844306237: inside sendPacket(Packet p)
1336844306247: Sending UDP payload: 446
1336844306447: Received UDP payload: 446
1336844307114: Received UDP payload: 446
1336844309422: Received UDP payload: 446
1336844309481: Received UDP payload: 446
1336844309706: Received UDP payload: 446
1336844311250: inside sendPacket(Packet p)
1336844311267: Sending UDP payload: 446
1336844311444: Received UDP payload: 446
1336844312176: Received UDP payload: 446
1336844314191: Received UDP payload: 1006
1336844314208: mux: GOT CSM_Msg
1336844314208: forwarding disabled, not forwarding packets
1336844314324: Received UDP payload: 4398
1336844314335: mux: GOT CSM_Msg
1336844314335: forwarding disabled, not forwarding packets
1336844314443: Received UDP payload: 446
1336844314500: Received UDP payload: 446
1336844314698: Received UDP payload: 446
1336844315662: Received UDP payload: 642
1336844315671: mux: Inside mux Packet.CLIENT_REQUEST
1336844315751: Received UDP payload: 1006
1336844315761: mux: GOT CSM_Msg
1336844315762: forwarding disabled, not forwarding packets
1336844315774: Received UDP payload: 446
1336844315779: mux: Inside Packet.SERVER_REPLY
1336844315780: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844315805: Received UDP payload: 4398
1336844315809: mux: GOT CSM_Msg
1336844315809: forwarding disabled, not forwarding packets
1336844315861: Received UDP payload: 4051
1336844315863: mux: Inside Packet.SERVER_REPLY
1336844315863: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844315873: Received UDP payload: 446
1336844315875: mux: Inside mux Packet.CLIENT_REQUEST
1336844316270: inside sendPacket(Packet p)
1336844316274: Sending UDP payload: 446
1336844316448: Received UDP payload: 446
1336844317178: Received UDP payload: 446
1336844319443: Received UDP payload: 446
1336844319497: Received UDP payload: 446
1336844319705: Received UDP payload: 446
1336844321272: inside sendPacket(Packet p)
1336844321275: Sending UDP payload: 446
1336844321454: Received UDP payload: 446
1336844322157: Received UDP payload: 446
1336844324437: Received UDP payload: 446
1336844324490: Received UDP payload: 446
1336844324707: Received UDP payload: 446
1336844326223: Received UDP payload: 642
1336844326230: mux: Inside mux Packet.CLIENT_REQUEST
1336844326273: inside sendPacket(Packet p)
1336844326277: Sending UDP payload: 446
1336844326301: Received UDP payload: 1006
1336844326304: mux: GOT CSM_Msg
1336844326304: forwarding disabled, not forwarding packets
1336844326313: Received UDP payload: 446
1336844326315: mux: Inside Packet.SERVER_REPLY
1336844326315: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844326370: Received UDP payload: 4294
1336844326372: mux: GOT CSM_Msg
1336844326372: forwarding disabled, not forwarding packets
1336844326419: Received UDP payload: 3947
1336844326421: mux: Inside Packet.SERVER_REPLY
1336844326421: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844326450: Received UDP payload: 446
1336844326456: Received UDP payload: 446
1336844326458: mux: Inside mux Packet.CLIENT_REQUEST
1336844326616: Received UDP payload: 642
1336844326617: mux: Inside mux Packet.CLIENT_REQUEST
1336844326633: Received UDP payload: 1006
1336844326636: mux: GOT CSM_Msg
1336844326636: forwarding disabled, not forwarding packets
1336844326642: Received UDP payload: 446
1336844326643: mux: Inside Packet.SERVER_REPLY
1336844326644: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844326749: Received UDP payload: 3947
1336844326750: mux: Inside Packet.SERVER_REPLY
1336844326751: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844326766: Received UDP payload: 446
1336844326768: mux: Inside mux Packet.CLIENT_REQUEST
1336844327161: Received UDP payload: 446
1336844327984: Received UDP payload: 1006
1336844327995: mux: GOT CSM_Msg
1336844327995: forwarding disabled, not forwarding packets
1336844328104: Received UDP payload: 4294
1336844328135: mux: GOT CSM_Msg
1336844328135: forwarding disabled, not forwarding packets
1336844329503: Received UDP payload: 446
1336844329529: Received UDP payload: 446
1336844329710: Received UDP payload: 446
1336844331273: inside sendPacket(Packet p)
1336844331287: Sending UDP payload: 446
1336844331454: Received UDP payload: 446
1336844332209: Received UDP payload: 446
1336844332769: Received UDP payload: 1006
1336844332780: mux: GOT CSM_Msg
1336844332781: forwarding disabled, not forwarding packets
1336844332871: Received UDP payload: 4294
1336844332875: mux: GOT CSM_Msg
1336844332875: forwarding disabled, not forwarding packets
1336844334490: Received UDP payload: 446
1336844334512: Received UDP payload: 446
1336844334712: Received UDP payload: 446
1336844336289: inside sendPacket(Packet p)
1336844336306: Sending UDP payload: 446
1336844336446: Received UDP payload: 1006
1336844336458: mux: GOT CSM_Msg
1336844336459: forwarding disabled, not forwarding packets
1336844336468: Received UDP payload: 446
1336844336559: Received UDP payload: 4294
1336844336571: mux: GOT CSM_Msg
1336844336572: forwarding disabled, not forwarding packets
1336844337182: Received UDP payload: 446
1336844339484: Received UDP payload: 446
1336844339513: Received UDP payload: 446
1336844339725: Received UDP payload: 446
1336844341309: inside sendPacket(Packet p)
1336844341320: Sending UDP payload: 446
1336844341454: Received UDP payload: 446
1336844342230: Received UDP payload: 1006
1336844342233: mux: GOT CSM_Msg
1336844342233: forwarding disabled, not forwarding packets
1336844342298: Received UDP payload: 446
1336844342356: canPressButton = TRUE
1336844342357: areButtonsEnabled --> false 
1336844342357: get picture disableButtonsR
1336844342357: areButtonsEnabled --> false
1336844342383: one more getNum: 2
1336844342384: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=0 getTimedout=0 getPercent=50%
1336844342385: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336844342387: change local requestCounter to 5
1336844342391: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010005 Client in region: 4 Client nodID: 5010
1336844342425: ----------------------------
1336844342426: inside sendRequestPacketRepeatingRunnable for requestCount = 5010005
1336844342426: I'm a leader, my requesting photos packet going to mux directly
1336844342432: --- Finished one round of sending REQUEST Packet ---------
1336844342416: Received UDP payload: 4294
1336844342423: mux: GOT CSM_Msg
1336844342424: forwarding disabled, not forwarding packets
1336844342426: mux: Inside mux Packet.CLIENT_REQUEST
1336844342426: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844342475: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844342427: inside handleClientRequest. Originator leader of region 4
1336844342427: got new request, requestCounter = 5010005
1336844342427: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844342427: Sending to region: 1
1336844342428: Sending PROC_REQUEST 11:0 (4,0)->(1,0)
1336844342428: Dispatching Atom PROC_REQUEST 11:0 (4,0)->(1,0)
1336844342430: mux: I got a CSM packet at a leader 

1336844342428: Note down new request by adding requestCounter=5010005 to HashMap processedRequests
1336844342428: Make FirstLeg Ack regardless of new or already-processed requests
1336844342429: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844342431: Sending UDP payload: 1006
1336844342432: forwarding disabled, not forwarding packets
1336844342530: Received UDP payload: 4294
1336844342533: mux: GOT CSM_Msg
1336844342539: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844342539: disabling progressdialog due to successful new photo get
1336844342539: Inside _enableButtons
1336844342539: areButtonsEnabled --> true
1336844342540: send final leg ack regardless of new or already-processed reply
1336844342540: inside finalLegAck: change requestCounter to 6
1336844342540: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010006 Client in region: (4,0) Client nodID: 5010
1336844342540: I'm a leader client, my final_leg packet going to mux directly
1336844342546: new client_show_remotephoto reply with replyCounter 501000500
1336844342546: note down new reply by adding replyCounter=501000500 to HashMap processedReplies
1336844342547: leader download remote photo latency = 113
1336844342547: = leader download start 1336844342426 ~ stop 1336844342539
1336844342549: one more getGood: 2
1336844342550: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=2 getBad=0 getTimedout=0 getPercent=100%
1336844342550: adding get latency: 113
1336844342551: Success! Client getting photo from remote region, showing photo...
1336844342551: Remote photo's length: 3266
1336844342533: Received PROC_REPLY 11:0 (1,0)->(4,0), handing to UserApp
1336844342533: inside handleDSMReply. Now back in originator leader of region 4
1336844342533: DSM layer: Going to and from remote region took latency = 105
1336844342534: DSM layer: orig leader sent packet at 1336844342428 ~ received reply from remote leader at 1336844342533
1336844342534: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844342534: leader client reply has replyCounter: 501000500
1336844342535: reply packet contains the newest photo/success info from the remote region
1336844342535: inside sendReplies of replyCount = 501000500
1336844342535: =======================
1336844342535: inside sendReplyRepeatingRunnable for replyCount = 501000500
1336844342535: Leader about to send REPLY packet, number: 501000500 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844342535: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844342536: === Finished one round of sending REPLY Packet =======
1336844342541: mux: Inside mux Packet.CLIENT_REQUEST
1336844342542: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844342542: inside handleClientRequest. Originator leader of region 4
1336844342542: got new request, requestCounter = 5010006
1336844342542: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501000500
1336844342542: Yay the last leg succeeded. Removing reply runnables ...
1336844342542: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501000500
1336844342542: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501000500
1336844342542: do not send ack for received final_leg_ack
1336844343781: Received UDP payload: 642
1336844343798: mux: Inside mux Packet.CLIENT_REQUEST
1336844343847: Received UDP payload: 1006
1336844343850: mux: GOT CSM_Msg
1336844343850: forwarding disabled, not forwarding packets
1336844343853: Received UDP payload: 446
1336844343855: mux: Inside Packet.SERVER_REPLY
1336844343855: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844343921: Received UDP payload: 4294
1336844343924: mux: GOT CSM_Msg
1336844343924: forwarding disabled, not forwarding packets
1336844343967: Received UDP payload: 3947
1336844343969: mux: Inside Packet.SERVER_REPLY
1336844343969: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844344005: Received UDP payload: 446
1336844344007: mux: Inside mux Packet.CLIENT_REQUEST
1336844344500: Received UDP payload: 446
1336844344512: Received UDP payload: 446
1336844344753: Received UDP payload: 446
1336844346167: Received UDP payload: 642
1336844346176: mux: Inside mux Packet.CLIENT_REQUEST
1336844346177: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844346177: inside handleClientRequest. Originator leader of region 4
1336844346178: got new request, requestCounter = 5009005
1336844346178: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844346181: Sending to region: 1
1336844346182: Sending PROC_REQUEST 11:1 (4,0)->(1,0)
1336844346198: Dispatching Atom PROC_REQUEST 11:1 (4,0)->(1,0)
1336844346203: mux: I got a CSM packet at a leader 

1336844346199: Note down new request by adding requestCounter=5009005 to HashMap processedRequests
1336844346199: Make FirstLeg Ack regardless of new or already-processed requests
1336844346200: The leader sending a First Leg ack to originator client (which id = 5009)
1336844346201: inside sendPacket(Packet p)
1336844346219: Sending UDP payload: 1006
1336844346222: forwarding disabled, not forwarding packets
1336844346226: Sending UDP payload: 446
1336844346325: inside sendPacket(Packet p)
1336844346326: Sending UDP payload: 446
1336844346454: Received UDP payload: 446
1336844346957: Retrying PROC_REQUEST 11:1 (4,0)->(1,0)
1336844346958: Dispatching Atom PROC_REQUEST 11:1 (4,0)->(1,0)
1336844346959: mux: I got a CSM packet at a leader 

1336844346964: Sending UDP payload: 1006
1336844346974: forwarding disabled, not forwarding packets
1336844347053: Received UDP payload: 4294
1336844347055: mux: GOT CSM_Msg
1336844347056: Received PROC_REPLY 11:1 (1,0)->(4,0), handing to UserApp
1336844347056: inside handleDSMReply. Now back in originator leader of region 4
1336844347056: DSM layer: Going to and from remote region took latency = 875
1336844347056: DSM layer: orig leader sent packet at 1336844346181 ~ received reply from remote leader at 1336844347056
1336844347057: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844347057: leader client reply has replyCounter: 500900500
1336844347057: reply packet contains the newest photo/success info from the remote region
1336844347057: inside sendReplies of replyCount = 500900500
1336844347058: =======================
1336844347058: inside sendReplyRepeatingRunnable for replyCount = 500900500
1336844347058: Leader about to send REPLY packet, number: 500900500 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844347058: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844347058: inside sendPacket(Packet p)
1336844347059: === Finished one round of sending REPLY Packet =======
1336844347060: Sending UDP payload: 3947
1336844347118: Received UDP payload: 446
1336844347120: mux: Inside mux Packet.CLIENT_REQUEST
1336844347120: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844347120: inside handleClientRequest. Originator leader of region 4
1336844347120: got new request, requestCounter = 5009006
1336844347120: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500900500
1336844347121: Yay the last leg succeeded. Removing reply runnables ...
1336844347121: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500900500
1336844347121: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500900500
1336844347121: do not send ack for received final_leg_ack
1336844347207: Received UDP payload: 446
1336844349546: Received UDP payload: 446
1336844349567: Received UDP payload: 446
1336844349723: Received UDP payload: 446
1336844351326: inside sendPacket(Packet p)
1336844351336: Sending UDP payload: 446
1336844351468: Received UDP payload: 446
1336844352179: Received UDP payload: 446
1336844354504: Received UDP payload: 446
1336844354540: Received UDP payload: 446
1336844354811: Received UDP payload: 446
1336844356340: inside sendPacket(Packet p)
1336844356350: Sending UDP payload: 446
1336844356496: Received UDP payload: 446
1336844357195: Received UDP payload: 446
1336844358167: Received UDP payload: 642
1336844358179: mux: Inside mux Packet.CLIENT_REQUEST
1336844358230: Received UDP payload: 1006
1336844358237: mux: GOT CSM_Msg
1336844358237: forwarding disabled, not forwarding packets
1336844358240: Received UDP payload: 446
1336844358242: mux: Inside Packet.SERVER_REPLY
1336844358242: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844358271: Received UDP payload: 642
1336844358272: mux: Inside mux Packet.CLIENT_REQUEST
1336844358318: Received UDP payload: 1006
1336844358320: mux: GOT CSM_Msg
1336844358321: forwarding disabled, not forwarding packets
1336844358341: Received UDP payload: 446
1336844358343: mux: Inside Packet.SERVER_REPLY
1336844358343: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844358358: Received UDP payload: 4172
1336844358360: mux: GOT CSM_Msg
1336844358360: forwarding disabled, not forwarding packets
1336844358414: Received UDP payload: 4172
1336844358417: mux: GOT CSM_Msg
1336844358417: forwarding disabled, not forwarding packets
1336844358438: Received UDP payload: 3825
1336844358440: mux: Inside Packet.SERVER_REPLY
1336844358440: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844358484: Received UDP payload: 3825
1336844358485: mux: Inside Packet.SERVER_REPLY
1336844358486: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844358496: Received UDP payload: 446
1336844358497: mux: Inside mux Packet.CLIENT_REQUEST
1336844358517: Received UDP payload: 446
1336844358519: mux: Inside mux Packet.CLIENT_REQUEST
1336844359495: Received UDP payload: 1006
1336844359510: mux: GOT CSM_Msg
1336844359511: forwarding disabled, not forwarding packets
1336844359532: Received UDP payload: 446
1336844359601: Received UDP payload: 4172
1336844359609: mux: GOT CSM_Msg
1336844359609: forwarding disabled, not forwarding packets
1336844359610: Received UDP payload: 446
1336844361354: inside sendPacket(Packet p)
1336844361357: Sending UDP payload: 446
1336844361462: Received UDP payload: 446
1336844361924: Received UDP payload: 1006
1336844361936: mux: GOT CSM_Msg
1336844361937: forwarding disabled, not forwarding packets
1336844361953: Received UDP payload: 446
1336844364212: Received UDP payload: 446
1336844364535: Received UDP payload: 446
1336844364557: Received UDP payload: 446
1336844365464: Received UDP payload: 1006
1336844365475: mux: GOT CSM_Msg
1336844365476: forwarding disabled, not forwarding packets
1336844365578: Received UDP payload: 4172
1336844365587: mux: GOT CSM_Msg
1336844365587: forwarding disabled, not forwarding packets
1336844366355: inside sendPacket(Packet p)
1336844366358: Sending UDP payload: 446
1336844366461: Received UDP payload: 446
1336844366931: Received UDP payload: 446
1336844367424: Received UDP payload: 1006
1336844367433: mux: GOT CSM_Msg
1336844367434: forwarding disabled, not forwarding packets
1336844367483: Received UDP payload: 4172
1336844367486: mux: GOT CSM_Msg
1336844367486: forwarding disabled, not forwarding packets
1336844369085: Received UDP payload: 446
1336844369543: Received UDP payload: 446
1336844369580: Received UDP payload: 446
1336844370928: Received UDP payload: 642
1336844370937: mux: Inside mux Packet.CLIENT_REQUEST
1336844370987: Received UDP payload: 1006
1336844370996: mux: GOT CSM_Msg
1336844370996: forwarding disabled, not forwarding packets
1336844370997: Received UDP payload: 446
1336844370998: mux: Inside Packet.SERVER_REPLY
1336844370998: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844371073: Received UDP payload: 4172
1336844371079: mux: GOT CSM_Msg
1336844371079: forwarding disabled, not forwarding packets
1336844371138: Received UDP payload: 3825
1336844371141: mux: Inside Packet.SERVER_REPLY
1336844371142: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844371175: Received UDP payload: 446
1336844371177: mux: Inside mux Packet.CLIENT_REQUEST
1336844371361: inside sendPacket(Packet p)
1336844371363: Sending UDP payload: 446
1336844371467: Received UDP payload: 446
1336844371842: Received UDP payload: 1006
1336844371875: mux: GOT CSM_Msg
1336844371875: forwarding disabled, not forwarding packets
1336844371942: Received UDP payload: 446
1336844371955: Received UDP payload: 4172
1336844371958: mux: GOT CSM_Msg
1336844371958: forwarding disabled, not forwarding packets
1336844373587: canPressButton = TRUE
1336844373588: areButtonsEnabled --> false 
1336844373588: get picture disableButtonsR
1336844373588: areButtonsEnabled --> false
1336844373614: one more getNum: 3
1336844373615: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=0 getTimedout=0 getPercent=66%
1336844373616: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336844373616: change local requestCounter to 7
1336844373622: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010007 Client in region: 4 Client nodID: 5010
1336844373650: ----------------------------
1336844373652: inside sendRequestPacketRepeatingRunnable for requestCount = 5010007
1336844373652: I'm a leader, my requesting photos packet going to mux directly
1336844373662: --- Finished one round of sending REQUEST Packet ---------
1336844373652: mux: Inside mux Packet.CLIENT_REQUEST
1336844373652: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844373705: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844373652: inside handleClientRequest. Originator leader of region 4
1336844373652: got new request, requestCounter = 5010007
1336844373653: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844373655: Sending to region: 2
1336844373655: Sending PROC_REQUEST 11:0 (4,0)->(2,0)
1336844373656: Dispatching Atom PROC_REQUEST 11:0 (4,0)->(2,0)
1336844373657: mux: I got a CSM packet at a leader 

1336844373656: Note down new request by adding requestCounter=5010007 to HashMap processedRequests
1336844373656: Make FirstLeg Ack regardless of new or already-processed requests
1336844373656: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844373674: Sending UDP payload: 1006
1336844373674: forwarding disabled, not forwarding packets
1336844373790: Received UDP payload: 4172
1336844373799: mux: GOT CSM_Msg
1336844373803: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844373804: disabling progressdialog due to successful new photo get
1336844373804: Inside _enableButtons
1336844373804: areButtonsEnabled --> true
1336844373804: send final leg ack regardless of new or already-processed reply
1336844373805: inside finalLegAck: change requestCounter to 8
1336844373805: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010008 Client in region: (4,0) Client nodID: 5010
1336844373805: I'm a leader client, my final_leg packet going to mux directly
1336844373807: new client_show_remotephoto reply with replyCounter 501000700
1336844373807: note down new reply by adding replyCounter=501000700 to HashMap processedReplies
1336844373807: leader download remote photo latency = 151
1336844373808: = leader download start 1336844373652 ~ stop 1336844373803
1336844373812: one more getGood: 3
1336844373813: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=3 getBad=0 getTimedout=0 getPercent=100%
1336844373813: adding get latency: 151
1336844373814: Success! Client getting photo from remote region, showing photo...
1336844373815: Remote photo's length: 3144
1336844373800: Received PROC_REPLY 11:0 (2,0)->(4,0), handing to UserApp
1336844373800: inside handleDSMReply. Now back in originator leader of region 4
1336844373800: DSM layer: Going to and from remote region took latency = 145
1336844373800: DSM layer: orig leader sent packet at 1336844373655 ~ received reply from remote leader at 1336844373800
1336844373801: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844373801: leader client reply has replyCounter: 501000700
1336844373802: reply packet contains the newest photo/success info from the remote region
1336844373802: inside sendReplies of replyCount = 501000700
1336844373802: =======================
1336844373802: inside sendReplyRepeatingRunnable for replyCount = 501000700
1336844373802: Leader about to send REPLY packet, number: 501000700 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844373802: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844373802: === Finished one round of sending REPLY Packet =======
1336844373806: mux: Inside mux Packet.CLIENT_REQUEST
1336844373806: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844373806: inside handleClientRequest. Originator leader of region 4
1336844373806: got new request, requestCounter = 5010008
1336844373806: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501000700
1336844373806: Yay the last leg succeeded. Removing reply runnables ...
1336844373806: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501000700
1336844373807: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501000700
1336844373807: do not send ack for received final_leg_ack
1336844374088: Received UDP payload: 446
1336844374544: Received UDP payload: 446
1336844374570: Received UDP payload: 446
1336844376362: inside sendPacket(Packet p)
1336844376372: Sending UDP payload: 446
1336844376505: Received UDP payload: 446
1336844376931: Received UDP payload: 446
1336844379154: Received UDP payload: 446
1336844379566: Received UDP payload: 446
1336844381375: inside sendPacket(Packet p)
1336844381386: Sending UDP payload: 446
1336844381508: Received UDP payload: 446
1336844381561: Received UDP payload: 446
1336844381945: Received UDP payload: 446
1336844382521: Received UDP payload: 642
1336844382527: mux: Inside mux Packet.CLIENT_REQUEST
1336844382528: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844382528: inside handleClientRequest. Originator leader of region 4
1336844382529: got new request, requestCounter = 5009007
1336844382529: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844382531: Sending to region: 2
1336844382532: Sending PROC_REQUEST 11:1 (4,0)->(2,0)
1336844382546: Dispatching Atom PROC_REQUEST 11:1 (4,0)->(2,0)
1336844382548: mux: I got a CSM packet at a leader 

1336844382546: Note down new request by adding requestCounter=5009007 to HashMap processedRequests
1336844382547: Make FirstLeg Ack regardless of new or already-processed requests
1336844382547: The leader sending a First Leg ack to originator client (which id = 5009)
1336844382547: inside sendPacket(Packet p)
1336844382552: Sending UDP payload: 1006
1336844382565: forwarding disabled, not forwarding packets
1336844382568: Sending UDP payload: 446
1336844382657: Received UDP payload: 4172
1336844382660: mux: GOT CSM_Msg
1336844382661: Received PROC_REPLY 11:1 (2,0)->(4,0), handing to UserApp
1336844382661: inside handleDSMReply. Now back in originator leader of region 4
1336844382661: DSM layer: Going to and from remote region took latency = 130
1336844382661: DSM layer: orig leader sent packet at 1336844382531 ~ received reply from remote leader at 1336844382661
1336844382662: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844382662: leader client reply has replyCounter: 500900700
1336844382662: reply packet contains the newest photo/success info from the remote region
1336844382662: inside sendReplies of replyCount = 500900700
1336844382665: =======================
1336844382666: inside sendReplyRepeatingRunnable for replyCount = 500900700
1336844382666: Leader about to send REPLY packet, number: 500900700 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844382666: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844382666: inside sendPacket(Packet p)
1336844382666: === Finished one round of sending REPLY Packet =======
1336844382668: Sending UDP payload: 3825
1336844382754: Received UDP payload: 446
1336844382756: mux: Inside mux Packet.CLIENT_REQUEST
1336844382756: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844382756: inside handleClientRequest. Originator leader of region 4
1336844382756: got new request, requestCounter = 5009008
1336844382756: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500900700
1336844382757: Yay the last leg succeeded. Removing reply runnables ...
1336844382757: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500900700
1336844382757: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500900700
1336844382757: do not send ack for received final_leg_ack
1336844384232: Received UDP payload: 446
1336844384638: Received UDP payload: 446
1336844386388: inside sendPacket(Packet p)
1336844386406: Sending UDP payload: 446
1336844386481: Received UDP payload: 446
1336844386564: Received UDP payload: 446
1336844386952: Received UDP payload: 446
1336844388822: Received UDP payload: 1006
1336844388834: mux: GOT CSM_Msg
1336844388834: forwarding disabled, not forwarding packets
1336844388961: Received UDP payload: 4587
1336844388969: mux: GOT CSM_Msg
1336844388970: forwarding disabled, not forwarding packets
1336844389107: Received UDP payload: 446
1336844389587: Received UDP payload: 446
1336844390634: Received UDP payload: 642
1336844390641: mux: Inside mux Packet.CLIENT_REQUEST
1336844390691: Received UDP payload: 1006
1336844390696: mux: GOT CSM_Msg
1336844390697: forwarding disabled, not forwarding packets
1336844390698: Received UDP payload: 446
1336844390699: mux: Inside Packet.SERVER_REPLY
1336844390700: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844390797: Received UDP payload: 4587
1336844390800: mux: GOT CSM_Msg
1336844390800: forwarding disabled, not forwarding packets
1336844390851: Received UDP payload: 4240
1336844390853: mux: Inside Packet.SERVER_REPLY
1336844390853: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844390868: Received UDP payload: 446
1336844390869: mux: Inside mux Packet.CLIENT_REQUEST
1336844391407: inside sendPacket(Packet p)
1336844391410: Sending UDP payload: 446
1336844391483: Received UDP payload: 446
1336844391564: Received UDP payload: 446
1336844391965: Received UDP payload: 446
1336844392203: Received UDP payload: 642
1336844392209: mux: Inside mux Packet.CLIENT_REQUEST
1336844392272: Received UDP payload: 1006
1336844392282: mux: GOT CSM_Msg
1336844392282: forwarding disabled, not forwarding packets
1336844392290: Received UDP payload: 446
1336844392295: mux: Inside Packet.SERVER_REPLY
1336844392295: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844392376: Received UDP payload: 4587
1336844392384: mux: GOT CSM_Msg
1336844392384: forwarding disabled, not forwarding packets
1336844392432: Received UDP payload: 4240
1336844392434: mux: Inside Packet.SERVER_REPLY
1336844392434: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844392446: Received UDP payload: 446
1336844392448: mux: Inside mux Packet.CLIENT_REQUEST
1336844393803: Received UDP payload: 1006
1336844393813: mux: GOT CSM_Msg
1336844393814: forwarding disabled, not forwarding packets
1336844393931: Received UDP payload: 4587
1336844393945: mux: GOT CSM_Msg
1336844393945: forwarding disabled, not forwarding packets
1336844394098: Received UDP payload: 446
1336844394594: Received UDP payload: 446
1336844396204: leader to cloud hearbeat...
1336844396316: Received UDP payload: 1006
1336844396331: mux: GOT CSM_Msg
1336844396332: forwarding disabled, not forwarding packets
1336844396378: Received UDP payload: 4587
1336844396386: mux: GOT CSM_Msg
1336844396386: forwarding disabled, not forwarding packets
1336844396481: Received UDP payload: 446
1336844396565: Received UDP payload: 446
1336844396966: Received UDP payload: 446
1336844398358: inside sendPacket(Packet p)
1336844398376: Sending UDP payload: 446
1336844399119: Received UDP payload: 446
1336844399660: Received UDP payload: 446
1336844401491: Received UDP payload: 446
1336844401567: Received UDP payload: 446
1336844401797: Received UDP payload: 1006
1336844401799: mux: GOT CSM_Msg
1336844401799: forwarding disabled, not forwarding packets
1336844401968: Received UDP payload: 446
1336844402542: Received UDP payload: 1006
1336844402544: mux: GOT CSM_Msg
1336844402545: forwarding disabled, not forwarding packets
1336844402626: Received UDP payload: 4587
1336844402632: mux: GOT CSM_Msg
1336844402632: forwarding disabled, not forwarding packets
1336844402646: Received UDP payload: 1006
1336844402652: mux: GOT CSM_Msg
1336844402652: forwarding disabled, not forwarding packets
1336844402727: Received UDP payload: 4587
1336844402732: mux: GOT CSM_Msg
1336844402732: forwarding disabled, not forwarding packets
1336844403378: inside sendPacket(Packet p)
1336844403379: Sending UDP payload: 446
1336844404098: Received UDP payload: 446
1336844404289: Received UDP payload: 642
1336844404297: mux: Inside mux Packet.CLIENT_REQUEST
1336844404417: Received UDP payload: 1006
1336844404428: mux: GOT CSM_Msg
1336844404428: forwarding disabled, not forwarding packets
1336844404446: Received UDP payload: 446
1336844404451: mux: Inside Packet.SERVER_REPLY
1336844404451: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844404581: Received UDP payload: 4587
1336844404586: mux: GOT CSM_Msg
1336844404586: forwarding disabled, not forwarding packets
1336844404631: Received UDP payload: 446
1336844404664: Received UDP payload: 4240
1336844404668: mux: Inside Packet.SERVER_REPLY
1336844404668: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844404678: Received UDP payload: 446
1336844404682: mux: Inside mux Packet.CLIENT_REQUEST
1336844405159: Received UDP payload: 1006
1336844405185: mux: GOT CSM_Msg
1336844405186: forwarding disabled, not forwarding packets
1336844405257: Received UDP payload: 4587
1336844405260: mux: GOT CSM_Msg
1336844405260: forwarding disabled, not forwarding packets
1336844406569: Received UDP payload: 446
1336844406968: Received UDP payload: 446
1336844408378: inside sendPacket(Packet p)
1336844408379: Sending UDP payload: 446
1336844408488: Received UDP payload: 446
1336844409162: canPressButton = TRUE
1336844409163: areButtonsEnabled --> false 
1336844409163: get picture disableButtonsR
1336844409163: areButtonsEnabled --> false
1336844409189: one more getNum: 4
1336844409190: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=3 getBad=0 getTimedout=0 getPercent=75%
1336844409191: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336844409191: change local requestCounter to 9
1336844409192: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010009 Client in region: 4 Client nodID: 5010
1336844409159: Received UDP payload: 446
1336844409223: ----------------------------
1336844409224: inside sendRequestPacketRepeatingRunnable for requestCount = 5010009
1336844409225: I'm a leader, my requesting photos packet going to mux directly
1336844409231: --- Finished one round of sending REQUEST Packet ---------
1336844409225: mux: Inside mux Packet.CLIENT_REQUEST
1336844409225: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844409277: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844409225: inside handleClientRequest. Originator leader of region 4
1336844409225: got new request, requestCounter = 5010009
1336844409225: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844409226: Sending to region: 3
1336844409226: Sending PROC_REQUEST 11:0 (4,0)->(3,0)
1336844409227: Dispatching Atom PROC_REQUEST 11:0 (4,0)->(3,0)
1336844409228: mux: I got a CSM packet at a leader 

1336844409227: Note down new request by adding requestCounter=5010009 to HashMap processedRequests
1336844409227: Make FirstLeg Ack regardless of new or already-processed requests
1336844409227: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844409229: Sending UDP payload: 1006
1336844409230: forwarding disabled, not forwarding packets
1336844409355: Received UDP payload: 4587
1336844409359: mux: GOT CSM_Msg
1336844409363: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844409364: disabling progressdialog due to successful new photo get
1336844409364: Inside _enableButtons
1336844409364: areButtonsEnabled --> true
1336844409364: send final leg ack regardless of new or already-processed reply
1336844409365: inside finalLegAck: change requestCounter to 10
1336844409365: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010010 Client in region: (4,0) Client nodID: 5010
1336844409365: I'm a leader client, my final_leg packet going to mux directly
1336844409368: new client_show_remotephoto reply with replyCounter 501000900
1336844409371: note down new reply by adding replyCounter=501000900 to HashMap processedReplies
1336844409372: leader download remote photo latency = 138
1336844409372: = leader download start 1336844409225 ~ stop 1336844409363
1336844409373: one more getGood: 4
1336844409375: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=4 getBad=0 getTimedout=0 getPercent=100%
1336844409376: adding get latency: 138
1336844409376: Success! Client getting photo from remote region, showing photo...
1336844409377: Remote photo's length: 3559
1336844409359: Received PROC_REPLY 11:0 (3,0)->(4,0), handing to UserApp
1336844409359: inside handleDSMReply. Now back in originator leader of region 4
1336844409359: DSM layer: Going to and from remote region took latency = 133
1336844409359: DSM layer: orig leader sent packet at 1336844409226 ~ received reply from remote leader at 1336844409359
1336844409360: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844409360: leader client reply has replyCounter: 501000900
1336844409360: reply packet contains the newest photo/success info from the remote region
1336844409361: inside sendReplies of replyCount = 501000900
1336844409361: =======================
1336844409361: inside sendReplyRepeatingRunnable for replyCount = 501000900
1336844409361: Leader about to send REPLY packet, number: 501000900 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844409361: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844409361: === Finished one round of sending REPLY Packet =======
1336844409365: mux: Inside mux Packet.CLIENT_REQUEST
1336844409365: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844409366: inside handleClientRequest. Originator leader of region 4
1336844409366: got new request, requestCounter = 5010010
1336844409366: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501000900
1336844409366: Yay the last leg succeeded. Removing reply runnables ...
1336844409366: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501000900
1336844409366: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501000900
1336844409366: do not send ack for received final_leg_ack
1336844409625: Received UDP payload: 446
1336844410846: Received UDP payload: 642
1336844410856: mux: Inside mux Packet.CLIENT_REQUEST
1336844410857: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844410857: inside handleClientRequest. Originator leader of region 4
1336844410858: got new request, requestCounter = 5009009
1336844410858: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844410888: Sending to region: 3
1336844410891: Sending PROC_REQUEST 11:1 (4,0)->(3,0)
1336844410892: Dispatching Atom PROC_REQUEST 11:1 (4,0)->(3,0)
1336844410906: mux: I got a CSM packet at a leader 

1336844410892: Note down new request by adding requestCounter=5009009 to HashMap processedRequests
1336844410892: Make FirstLeg Ack regardless of new or already-processed requests
1336844410906: The leader sending a First Leg ack to originator client (which id = 5009)
1336844410906: inside sendPacket(Packet p)
1336844410920: Sending UDP payload: 1006
1336844410921: forwarding disabled, not forwarding packets
1336844410922: Sending UDP payload: 446
1336844411002: Received UDP payload: 4587
1336844411006: mux: GOT CSM_Msg
1336844411007: Received PROC_REPLY 11:1 (3,0)->(4,0), handing to UserApp
1336844411007: inside handleDSMReply. Now back in originator leader of region 4
1336844411007: DSM layer: Going to and from remote region took latency = 118
1336844411007: DSM layer: orig leader sent packet at 1336844410889 ~ received reply from remote leader at 1336844411007
1336844411008: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844411008: leader client reply has replyCounter: 500900900
1336844411008: reply packet contains the newest photo/success info from the remote region
1336844411008: inside sendReplies of replyCount = 500900900
1336844411008: =======================
1336844411008: inside sendReplyRepeatingRunnable for replyCount = 500900900
1336844411009: Leader about to send REPLY packet, number: 500900900 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844411009: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844411009: inside sendPacket(Packet p)
1336844411009: === Finished one round of sending REPLY Packet =======
1336844411010: Sending UDP payload: 4240
1336844411078: Received UDP payload: 446
1336844411079: mux: Inside mux Packet.CLIENT_REQUEST
1336844411080: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844411080: inside handleClientRequest. Originator leader of region 4
1336844411080: got new request, requestCounter = 5009010
1336844411081: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500900900
1336844411081: Yay the last leg succeeded. Removing reply runnables ...
1336844411081: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500900900
1336844411081: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500900900
1336844411082: do not send ack for received final_leg_ack
1336844411573: Received UDP payload: 446
1336844411969: Received UDP payload: 446
1336844413378: inside sendPacket(Packet p)
1336844413382: Sending UDP payload: 446
1336844413499: Received UDP payload: 446
1336844414130: Received UDP payload: 446
1336844414658: Received UDP payload: 446
1336844416569: Received UDP payload: 446
1336844416971: Received UDP payload: 446
1336844418380: inside sendPacket(Packet p)
1336844418396: Sending UDP payload: 446
1336844418502: Received UDP payload: 446
1336844419153: Received UDP payload: 446
1336844419640: Received UDP payload: 446
1336844421569: Received UDP payload: 446
1336844421977: Received UDP payload: 446
1336844423397: inside sendPacket(Packet p)
1336844423401: Sending UDP payload: 446
1336844423514: Received UDP payload: 446
1336844424181: Received UDP payload: 446
1336844424892: Received UDP payload: 642
1336844424897: mux: Inside mux Packet.CLIENT_REQUEST
1336844424949: Received UDP payload: 1006
1336844424957: mux: GOT CSM_Msg
1336844424957: removed replies before id 0 from sentReplies of size 0
1336844424957: inside handleDSMRequest. At requests's remote leader of region 4
1336844424958: INSIDE SERVER_GET_PHOTO!!!
1336844424961: Received PROC_REQUEST 11:0 (1,0)->(4,0), replying PROC_REPLY 11:0 (4,0)->(1,0)
1336844424961: Dispatching Atom PROC_REPLY 11:0 (4,0)->(1,0)
1336844424962: mux: I got a CSM packet at a leader 

1336844424963: Received UDP payload: 446
1336844424964: Sending UDP payload: 5731
1336844424969: mux: Inside Packet.SERVER_REPLY
1336844424969: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844424968: forwarding disabled, not forwarding packets
1336844425123: Received UDP payload: 5384
1336844425125: mux: Inside Packet.SERVER_REPLY
1336844425125: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844425161: Received UDP payload: 446
1336844425163: mux: Inside mux Packet.CLIENT_REQUEST
1336844426060: Received UDP payload: 1006
1336844426070: mux: GOT CSM_Msg
1336844426071: removed replies before id 1 from sentReplies of size 0
1336844426071: inside handleDSMRequest. At requests's remote leader of region 4
1336844426082: INSIDE SERVER_GET_PHOTO!!!
1336844426089: Received PROC_REQUEST 11:1 (1,0)->(4,0), replying PROC_REPLY 11:1 (4,0)->(1,0)
1336844426090: Dispatching Atom PROC_REPLY 11:1 (4,0)->(1,0)
1336844426091: mux: I got a CSM packet at a leader 

1336844426105: Sending UDP payload: 5731
1336844426117: forwarding disabled, not forwarding packets
1336844426364: Received UDP payload: 642
1336844426366: mux: Inside mux Packet.CLIENT_REQUEST
1336844426401: Received UDP payload: 1006
1336844426404: mux: GOT CSM_Msg
1336844426404: removed replies before id 0 from sentReplies of size 0
1336844426404: inside handleDSMRequest. At requests's remote leader of region 4
1336844426405: INSIDE SERVER_GET_PHOTO!!!
1336844426406: Received PROC_REQUEST 11:0 (0,0)->(4,0), replying PROC_REPLY 11:0 (4,0)->(0,0)
1336844426407: Dispatching Atom PROC_REPLY 11:0 (4,0)->(0,0)
1336844426407: mux: I got a CSM packet at a leader 

1336844426408: Sending UDP payload: 5731
1336844426410: forwarding disabled, not forwarding packets
1336844426415: Received UDP payload: 446
1336844426417: mux: Inside Packet.SERVER_REPLY
1336844426417: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844426506: Received UDP payload: 446
1336844426575: Received UDP payload: 446
1336844426586: Received UDP payload: 5384
1336844426588: mux: Inside Packet.SERVER_REPLY
1336844426588: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844426605: Received UDP payload: 446
1336844426606: mux: Inside mux Packet.CLIENT_REQUEST
1336844426989: Received UDP payload: 446
1336844427940: Received UDP payload: 1006
1336844427950: mux: GOT CSM_Msg
1336844427951: removed replies before id 1 from sentReplies of size 0
1336844427951: inside handleDSMRequest. At requests's remote leader of region 4
1336844427953: INSIDE SERVER_GET_PHOTO!!!
1336844427959: Received PROC_REQUEST 11:1 (0,0)->(4,0), replying PROC_REPLY 11:1 (4,0)->(0,0)
1336844427961: Dispatching Atom PROC_REPLY 11:1 (4,0)->(0,0)
1336844427961: mux: I got a CSM packet at a leader 

1336844427966: Sending UDP payload: 5731
1336844427968: forwarding disabled, not forwarding packets
1336844428398: inside sendPacket(Packet p)
1336844428401: Sending UDP payload: 446
1336844428506: Received UDP payload: 446
1336844429157: Received UDP payload: 446
1336844431561: Received UDP payload: 446
1336844431579: Received UDP payload: 446
1336844431981: Received UDP payload: 446
1336844433402: inside sendPacket(Packet p)
1336844433405: Sending UDP payload: 446
1336844433518: Received UDP payload: 446
1336844434151: Received UDP payload: 446
1336844434350: Received UDP payload: 1006
1336844434358: mux: GOT CSM_Msg
1336844434359: removed replies before id 0 from sentReplies of size 0
1336844434359: inside handleDSMRequest. At requests's remote leader of region 4
1336844434361: INSIDE SERVER_GET_PHOTO!!!
1336844434380: Received PROC_REQUEST 11:0 (3,0)->(4,0), replying PROC_REPLY 11:0 (4,0)->(3,0)
1336844434381: Dispatching Atom PROC_REPLY 11:0 (4,0)->(3,0)
1336844434383: mux: I got a CSM packet at a leader 

1336844434401: Sending UDP payload: 5731
1336844434406: forwarding disabled, not forwarding packets
1336844436582: Received UDP payload: 446
1336844436614: Received UDP payload: 446
1336844436992: Received UDP payload: 446
1336844437862: Received UDP payload: 1006
1336844437877: mux: GOT CSM_Msg
1336844437878: removed replies before id 0 from sentReplies of size 0
1336844437878: inside handleDSMRequest. At requests's remote leader of region 4
1336844437880: INSIDE SERVER_GET_PHOTO!!!
1336844437897: Received PROC_REQUEST 11:0 (2,0)->(4,0), replying PROC_REPLY 11:0 (4,0)->(2,0)
1336844437898: Dispatching Atom PROC_REPLY 11:0 (4,0)->(2,0)
1336844437898: mux: I got a CSM packet at a leader 

1336844437915: Sending UDP payload: 5731
1336844437917: forwarding disabled, not forwarding packets
1336844438404: inside sendPacket(Packet p)
1336844438405: Sending UDP payload: 446
1336844438550: Received UDP payload: 446
1336844439232: Received UDP payload: 446
1336844439979: Received UDP payload: 642
1336844439985: mux: Inside mux Packet.CLIENT_REQUEST
1336844440040: Received UDP payload: 1006
1336844440052: mux: GOT CSM_Msg
1336844440052: removed replies before id 0 from sentReplies of size 0
1336844440053: inside handleDSMRequest. At requests's remote leader of region 4
1336844440055: INSIDE SERVER_GET_PHOTO!!!
1336844440062: Received PROC_REQUEST 11:0 (5,0)->(4,0), replying PROC_REPLY 11:0 (4,0)->(5,0)
1336844440070: Received UDP payload: 446
1336844440075: Dispatching Atom PROC_REPLY 11:0 (4,0)->(5,0)
1336844440076: mux: I got a CSM packet at a leader 

1336844440101: mux: Inside Packet.SERVER_REPLY
1336844440101: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844440087: Sending UDP payload: 5731
1336844440101: forwarding disabled, not forwarding packets
1336844440231: Received UDP payload: 5384
1336844440233: mux: Inside Packet.SERVER_REPLY
1336844440233: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844440250: Received UDP payload: 446
1336844440252: mux: Inside mux Packet.CLIENT_REQUEST
1336844440779: Received UDP payload: 1006
1336844440791: mux: GOT CSM_Msg
1336844440792: removed replies before id 1 from sentReplies of size 0
1336844440792: inside handleDSMRequest. At requests's remote leader of region 4
1336844440795: INSIDE SERVER_GET_PHOTO!!!
1336844440800: Received PROC_REQUEST 11:1 (5,0)->(4,0), replying PROC_REPLY 11:1 (4,0)->(5,0)
1336844440814: Dispatching Atom PROC_REPLY 11:1 (4,0)->(5,0)
1336844440815: mux: I got a CSM packet at a leader 

1336844440820: Sending UDP payload: 5731
1336844440836: forwarding disabled, not forwarding packets
1336844441515: Received UDP payload: 446
1336844441587: Received UDP payload: 446
1336844442005: Received UDP payload: 446
1336844443404: inside sendPacket(Packet p)
1336844443416: Sending UDP payload: 446
1336844443551: Received UDP payload: 446
1336844443972: canPressButton = TRUE
1336844443972: areButtonsEnabled --> false 
1336844443975: get picture disableButtonsR
1336844443976: areButtonsEnabled --> false
1336844444028: one more getNum: 5
1336844444029: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=0 getTimedout=0 getPercent=80%
1336844444029: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336844444029: change local requestCounter to 11
1336844444034: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010011 Client in region: 4 Client nodID: 5010
1336844444069: ----------------------------
1336844444070: inside sendRequestPacketRepeatingRunnable for requestCount = 5010011
1336844444070: I'm a leader, my requesting photos packet going to mux directly
1336844444081: --- Finished one round of sending REQUEST Packet ---------
1336844444071: mux: Inside mux Packet.CLIENT_REQUEST
1336844444071: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844444123: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844444071: inside handleClientRequest. Originator leader of region 4
1336844444071: got new request, requestCounter = 5010011
1336844444071: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844444072: Sending to region: 4
1336844444072: Sending PROC_REQUEST 11:2 (4,0)->(4,0)
1336844444073: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(4,0)
1336844444073: mux: I got a CSM packet at a leader 

1336844444073: Note down new request by adding requestCounter=5010011 to HashMap processedRequests
1336844444073: Make FirstLeg Ack regardless of new or already-processed requests
1336844444073: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844444076: Sending UDP payload: 1006
1336844444076: removed replies before id 2 from sentReplies of size 0
1336844444077: inside handleDSMRequest. At requests's remote leader of region 4
1336844444077: INSIDE SERVER_GET_PHOTO!!!
1336844444078: dst_region == src_region = 4
1336844444078:  1 self to self atomRequest
1336844444079: Received PROC_REQUEST 11:2 (4,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(4,0)
1336844444080: Dispatching Atom PROC_REPLY 11:2 (4,0)->(4,0)
1336844444080: mux: I got a CSM packet at a leader 

1336844444125: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844444125: disabling progressdialog due to successful new photo get
1336844444126: Inside _enableButtons
1336844444126: areButtonsEnabled --> true
1336844444127: send final leg ack regardless of new or already-processed reply
1336844444127: inside finalLegAck: change requestCounter to 12
1336844444127: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010012 Client in region: (4,0) Client nodID: 5010
1336844444128: I'm a leader client, my final_leg packet going to mux directly
1336844444129: new client_show_remotephoto reply with replyCounter 501001100
1336844444130: note down new reply by adding replyCounter=501001100 to HashMap processedReplies
1336844444130: leader download remote photo latency = 54
1336844444130: = leader download start 1336844444071 ~ stop 1336844444125
1336844444135: one more getGood: 5
1336844444136: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=5 getBad=0 getTimedout=0 getPercent=100%
1336844444136: adding get latency: 54
1336844444136: Success! Client getting photo from remote region, showing photo...
1336844444137: Remote photo's length: 4703
1336844444093: Sending UDP payload: 5731
1336844444095: Received PROC_REPLY 11:2 (4,0)->(4,0), handing to UserApp
1336844444096: inside handleDSMReply. Now back in originator leader of region 4
1336844444096: DSM layer: Going to and from remote region took latency = 24
1336844444096: DSM layer: orig leader sent packet at 1336844444072 ~ received reply from remote leader at 1336844444096
1336844444097: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844444097: leader client reply has replyCounter: 501001100
1336844444097: reply packet contains the newest photo/success info from the remote region
1336844444097: inside sendReplies of replyCount = 501001100
1336844444097: =======================
1336844444097: inside sendReplyRepeatingRunnable for replyCount = 501001100
1336844444098: Leader about to send REPLY packet, number: 501001100 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844444098: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844444098: === Finished one round of sending REPLY Packet =======
1336844444128: mux: Inside mux Packet.CLIENT_REQUEST
1336844444128: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844444128: inside handleClientRequest. Originator leader of region 4
1336844444128: got new request, requestCounter = 5010012
1336844444128: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501001100
1336844444128: Yay the last leg succeeded. Removing reply runnables ...
1336844444129: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501001100
1336844444129: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501001100
1336844444129: do not send ack for received final_leg_ack
1336844444179: Received UDP payload: 446
1336844446351: Received UDP payload: 642
1336844446362: mux: Inside mux Packet.CLIENT_REQUEST
1336844446362: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844446363: inside handleClientRequest. Originator leader of region 4
1336844446363: got new request, requestCounter = 5009011
1336844446364: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844446379: Sending to region: 4
1336844446381: Sending PROC_REQUEST 11:3 (4,0)->(4,0)
1336844446382: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(4,0)
1336844446396: mux: I got a CSM packet at a leader 

1336844446382: Note down new request by adding requestCounter=5009011 to HashMap processedRequests
1336844446382: Make FirstLeg Ack regardless of new or already-processed requests
1336844446395: The leader sending a First Leg ack to originator client (which id = 5009)
1336844446396: inside sendPacket(Packet p)
1336844446414: Sending UDP payload: 1006
1336844446418: removed replies before id 3 from sentReplies of size 0
1336844446418: inside handleDSMRequest. At requests's remote leader of region 4
1336844446419: INSIDE SERVER_GET_PHOTO!!!
1336844446421: dst_region == src_region = 4
1336844446421:  1 self to self atomRequest
1336844446422: Received PROC_REQUEST 11:3 (4,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(4,0)
1336844446423: Dispatching Atom PROC_REPLY 11:3 (4,0)->(4,0)
1336844446434: mux: I got a CSM packet at a leader 

1336844446433: Sending UDP payload: 446
1336844446436: Sending UDP payload: 5731
1336844446438: Received PROC_REPLY 11:3 (4,0)->(4,0), handing to UserApp
1336844446438: inside handleDSMReply. Now back in originator leader of region 4
1336844446438: DSM layer: Going to and from remote region took latency = 58
1336844446438: DSM layer: orig leader sent packet at 1336844446380 ~ received reply from remote leader at 1336844446438
1336844446439: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844446439: leader client reply has replyCounter: 500901100
1336844446439: reply packet contains the newest photo/success info from the remote region
1336844446439: inside sendReplies of replyCount = 500901100
1336844446439: =======================
1336844446439: inside sendReplyRepeatingRunnable for replyCount = 500901100
1336844446440: Leader about to send REPLY packet, number: 500901100 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844446440: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844446440: inside sendPacket(Packet p)
1336844446440: === Finished one round of sending REPLY Packet =======
1336844446442: Sending UDP payload: 5384
1336844446580: Received UDP payload: 446
1336844446595: Received UDP payload: 446
1336844446597: mux: Inside mux Packet.CLIENT_REQUEST
1336844446597: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844446597: inside handleClientRequest. Originator leader of region 4
1336844446597: got new request, requestCounter = 5009012
1336844446597: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500901100
1336844446597: Yay the last leg succeeded. Removing reply runnables ...
1336844446597: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500901100
1336844446598: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500901100
1336844446598: do not send ack for received final_leg_ack
1336844447004: Received UDP payload: 446
1336844448419: inside sendPacket(Packet p)
1336844448423: Sending UDP payload: 446
1336844448522: Received UDP payload: 446
1336844449167: Received UDP payload: 446
1336844451515: Received UDP payload: 446
1336844451580: Received UDP payload: 446
1336844452018: Received UDP payload: 446
1336844453420: inside sendPacket(Packet p)
1336844453437: Sending UDP payload: 446
1336844453537: Received UDP payload: 446
1336844454172: Received UDP payload: 446
1336844456522: Received UDP payload: 446
1336844456639: Received UDP payload: 446
1336844457058: Received UDP payload: 446
1336844458440: inside sendPacket(Packet p)
1336844458445: Sending UDP payload: 446
1336844458537: Received UDP payload: 446
1336844459166: Received UDP payload: 446
1336844461551: Received UDP payload: 446
1336844461584: Received UDP payload: 446
1336844462035: Received UDP payload: 446
1336844462140: Received UDP payload: 642
1336844462145: mux: Inside mux Packet.CLIENT_REQUEST
1336844462212: Received UDP payload: 1006
1336844462224: mux: GOT CSM_Msg
1336844462225: forwarding disabled, not forwarding packets
1336844462233: Received UDP payload: 446
1336844462237: mux: Inside Packet.SERVER_REPLY
1336844462238: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844462338: Received UDP payload: 4766
1336844462341: mux: GOT CSM_Msg
1336844462341: forwarding disabled, not forwarding packets
1336844462412: Received UDP payload: 4419
1336844462415: mux: Inside Packet.SERVER_REPLY
1336844462415: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844462442: Received UDP payload: 446
1336844462443: mux: Inside mux Packet.CLIENT_REQUEST
1336844463443: inside sendPacket(Packet p)
1336844463446: Sending UDP payload: 446
1336844463531: Received UDP payload: 446
1336844463560: Received UDP payload: 1006
1336844463562: mux: GOT CSM_Msg
1336844463562: forwarding disabled, not forwarding packets
1336844463642: Received UDP payload: 4766
1336844463650: mux: GOT CSM_Msg
1336844463650: forwarding disabled, not forwarding packets
1336844464203: Received UDP payload: 446
1336844466537: Received UDP payload: 446
1336844466588: Received UDP payload: 446
1336844467072: Received UDP payload: 446
1336844468448: inside sendPacket(Packet p)
1336844468464: Sending UDP payload: 446
1336844468542: Received UDP payload: 446
1336844469255: Received UDP payload: 446
1336844471545: Received UDP payload: 446
1336844471600: Received UDP payload: 446
1336844472062: Received UDP payload: 446
1336844472694: Received UDP payload: 1006
1336844472702: mux: GOT CSM_Msg
1336844472703: forwarding disabled, not forwarding packets
1336844472787: Received UDP payload: 4766
1336844472797: mux: GOT CSM_Msg
1336844472797: forwarding disabled, not forwarding packets
1336844473449: inside sendPacket(Packet p)
1336844473452: Sending UDP payload: 446
1336844473557: Received UDP payload: 446
1336844474181: Received UDP payload: 446
1336844474246: Received UDP payload: 642
1336844474254: mux: Inside mux Packet.CLIENT_REQUEST
1336844474306: Received UDP payload: 1006
1336844474316: mux: GOT CSM_Msg
1336844474316: forwarding disabled, not forwarding packets
1336844474323: Received UDP payload: 446
1336844474327: mux: Inside Packet.SERVER_REPLY
1336844474328: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844474373: Received UDP payload: 4766
1336844474375: mux: GOT CSM_Msg
1336844474375: forwarding disabled, not forwarding packets
1336844474431: Received UDP payload: 4419
1336844474432: mux: Inside Packet.SERVER_REPLY
1336844474433: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844474446: Received UDP payload: 446
1336844474448: mux: Inside mux Packet.CLIENT_REQUEST
1336844476579: Received UDP payload: 446
1336844476610: Received UDP payload: 446
1336844477063: Received UDP payload: 446
1336844477915: Received UDP payload: 1006
1336844477922: mux: GOT CSM_Msg
1336844477923: forwarding disabled, not forwarding packets
1336844478047: Received UDP payload: 4766
1336844478055: mux: GOT CSM_Msg
1336844478056: forwarding disabled, not forwarding packets
1336844478453: inside sendPacket(Packet p)
1336844478456: Sending UDP payload: 446
1336844478558: Received UDP payload: 446
1336844479271: Received UDP payload: 446
1336844481578: Received UDP payload: 446
1336844481633: Received UDP payload: 446
1336844483456: inside sendPacket(Packet p)
1336844483459: Sending UDP payload: 446
1336844483577: Received UDP payload: 446
1336844484219: Received UDP payload: 446
1336844486350: Received UDP payload: 446
1336844486578: Received UDP payload: 446
1336844486638: Received UDP payload: 446
1336844486755: Received UDP payload: 1006
1336844486771: mux: GOT CSM_Msg
1336844486772: removed replies before id 2 from sentReplies of size 0
1336844486772: inside handleDSMRequest. At requests's remote leader of region 4
1336844486779: INSIDE SERVER_GET_PHOTO!!!
1336844486817: Received PROC_REQUEST 11:2 (1,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(1,0)
1336844486817: Dispatching Atom PROC_REPLY 11:2 (4,0)->(1,0)
1336844486823: mux: I got a CSM packet at a leader 

1336844486827: Sending UDP payload: 5731
1336844486834: forwarding disabled, not forwarding packets
1336844487048: canPressButton = TRUE
1336844487049: areButtonsEnabled --> false 
1336844487049: get picture disableButtonsR
1336844487049: areButtonsEnabled --> false
1336844487075: one more getNum: 6
1336844487076: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=5 getBad=0 getTimedout=0 getPercent=83%
1336844487076: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336844487077: change local requestCounter to 13
1336844487081: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010013 Client in region: 4 Client nodID: 5010
1336844487110: ----------------------------
1336844487111: inside sendRequestPacketRepeatingRunnable for requestCount = 5010013
1336844487112: I'm a leader, my requesting photos packet going to mux directly
1336844487118: --- Finished one round of sending REQUEST Packet ---------
1336844487112: mux: Inside mux Packet.CLIENT_REQUEST
1336844487112: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844487161: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844487113: inside handleClientRequest. Originator leader of region 4
1336844487113: got new request, requestCounter = 5010013
1336844487113: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844487114: Sending to region: 5
1336844487114: Sending PROC_REQUEST 11:0 (4,0)->(5,0)
1336844487114: Dispatching Atom PROC_REQUEST 11:0 (4,0)->(5,0)
1336844487115: mux: I got a CSM packet at a leader 

1336844487114: Note down new request by adding requestCounter=5010013 to HashMap processedRequests
1336844487114: Make FirstLeg Ack regardless of new or already-processed requests
1336844487115: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844487116: Sending UDP payload: 1006
1336844487117: forwarding disabled, not forwarding packets
1336844487265: Received UDP payload: 4766
1336844487268: mux: GOT CSM_Msg
1336844487268: Received PROC_REPLY 11:0 (5,0)->(4,0), handing to UserApp
1336844487268: inside handleDSMReply. Now back in originator leader of region 4
1336844487268: DSM layer: Going to and from remote region took latency = 154
1336844487268: DSM layer: orig leader sent packet at 1336844487114 ~ received reply from remote leader at 1336844487268
1336844487269: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844487269: leader client reply has replyCounter: 501001300
1336844487269: reply packet contains the newest photo/success info from the remote region
1336844487269: inside sendReplies of replyCount = 501001300
1336844487272: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844487272: disabling progressdialog due to successful new photo get
1336844487272: Inside _enableButtons
1336844487273: areButtonsEnabled --> true
1336844487274: send final leg ack regardless of new or already-processed reply
1336844487274: inside finalLegAck: change requestCounter to 14
1336844487274: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010014 Client in region: (4,0) Client nodID: 5010
1336844487275: I'm a leader client, my final_leg packet going to mux directly
1336844487276: new client_show_remotephoto reply with replyCounter 501001300
1336844487276: note down new reply by adding replyCounter=501001300 to HashMap processedReplies
1336844487277: leader download remote photo latency = 160
1336844487277: = leader download start 1336844487112 ~ stop 1336844487272
1336844487280: one more getGood: 6
1336844487282: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336844487282: adding get latency: 160
1336844487283: Success! Client getting photo from remote region, showing photo...
1336844487283: Remote photo's length: 3738
1336844487270: =======================
1336844487270: inside sendReplyRepeatingRunnable for replyCount = 501001300
1336844487270: Leader about to send REPLY packet, number: 501001300 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844487270: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844487270: === Finished one round of sending REPLY Packet =======
1336844487275: mux: Inside mux Packet.CLIENT_REQUEST
1336844487275: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844487275: inside handleClientRequest. Originator leader of region 4
1336844487275: got new request, requestCounter = 5010014
1336844487275: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501001300
1336844487275: Yay the last leg succeeded. Removing reply runnables ...
1336844487275: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501001300
1336844487276: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501001300
1336844487276: do not send ack for received final_leg_ack
1336844488457: inside sendPacket(Packet p)
1336844488498: Sending UDP payload: 446
1336844488563: Received UDP payload: 446
1336844489225: Received UDP payload: 446
1336844489475: Received UDP payload: 642
1336844489484: mux: Inside mux Packet.CLIENT_REQUEST
1336844489485: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844489485: inside handleClientRequest. Originator leader of region 4
1336844489486: got new request, requestCounter = 5009013
1336844489486: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844489499: Sending to region: 5
1336844489500: Sending PROC_REQUEST 11:1 (4,0)->(5,0)
1336844489501: Dispatching Atom PROC_REQUEST 11:1 (4,0)->(5,0)
1336844489520: mux: I got a CSM packet at a leader 

1336844489502: Note down new request by adding requestCounter=5009013 to HashMap processedRequests
1336844489502: Make FirstLeg Ack regardless of new or already-processed requests
1336844489503: The leader sending a First Leg ack to originator client (which id = 5009)
1336844489520: inside sendPacket(Packet p)
1336844489544: Sending UDP payload: 1006
1336844489550: forwarding disabled, not forwarding packets
1336844489556: Sending UDP payload: 446
1336844489652: Received UDP payload: 4766
1336844489656: mux: GOT CSM_Msg
1336844489656: Received PROC_REPLY 11:1 (5,0)->(4,0), handing to UserApp
1336844489656: inside handleDSMReply. Now back in originator leader of region 4
1336844489656: DSM layer: Going to and from remote region took latency = 157
1336844489656: DSM layer: orig leader sent packet at 1336844489499 ~ received reply from remote leader at 1336844489656
1336844489657: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844489657: leader client reply has replyCounter: 500901300
1336844489657: reply packet contains the newest photo/success info from the remote region
1336844489657: inside sendReplies of replyCount = 500901300
1336844489658: =======================
1336844489658: inside sendReplyRepeatingRunnable for replyCount = 500901300
1336844489658: Leader about to send REPLY packet, number: 500901300 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844489658: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844489658: inside sendPacket(Packet p)
1336844489659: === Finished one round of sending REPLY Packet =======
1336844489660: Sending UDP payload: 4419
1336844489722: Received UDP payload: 446
1336844489724: mux: Inside mux Packet.CLIENT_REQUEST
1336844489724: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844489724: inside handleClientRequest. Originator leader of region 4
1336844489725: got new request, requestCounter = 5009014
1336844489725: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500901300
1336844489725: Yay the last leg succeeded. Removing reply runnables ...
1336844489725: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500901300
1336844489725: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500901300
1336844489725: do not send ack for received final_leg_ack
1336844491354: Received UDP payload: 446
1336844491579: Received UDP payload: 446
1336844491649: Received UDP payload: 446
1336844493459: inside sendPacket(Packet p)
1336844493483: Sending UDP payload: 446
1336844493575: Received UDP payload: 446
1336844494203: Received UDP payload: 446
1336844495844: Received UDP payload: 1006
1336844495852: mux: GOT CSM_Msg
1336844495852: forwarding disabled, not forwarding packets
1336844495991: Received UDP payload: 4766
1336844496001: mux: GOT CSM_Msg
1336844496001: forwarding disabled, not forwarding packets
1336844496462: Received UDP payload: 446
1336844496597: Received UDP payload: 446
1336844496638: Received UDP payload: 446
1336844498459: inside sendPacket(Packet p)
1336844498474: Sending UDP payload: 446
1336844498580: Received UDP payload: 446
1336844499228: Received UDP payload: 446
1336844501368: Received UDP payload: 446
1336844501605: Received UDP payload: 446
1336844503461: inside sendPacket(Packet p)
1336844503464: Sending UDP payload: 446
1336844503618: Received UDP payload: 446
1336844503632: Received UDP payload: 446
1336844504244: Received UDP payload: 446
1336844504595: Received UDP payload: 642
1336844504601: mux: Inside mux Packet.CLIENT_REQUEST
1336844504635: Received UDP payload: 1006
1336844504643: mux: GOT CSM_Msg
1336844504643: forwarding disabled, not forwarding packets
1336844504660: Received UDP payload: 446
1336844504664: mux: Inside Packet.SERVER_REPLY
1336844504664: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844504713: Received UDP payload: 4766
1336844504715: mux: GOT CSM_Msg
1336844504715: forwarding disabled, not forwarding packets
1336844504762: Received UDP payload: 4419
1336844504764: mux: Inside Packet.SERVER_REPLY
1336844504764: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844504775: Received UDP payload: 446
1336844504777: mux: Inside mux Packet.CLIENT_REQUEST
1336844505593: Received UDP payload: 1006
1336844505601: mux: GOT CSM_Msg
1336844505602: forwarding disabled, not forwarding packets
1336844505649: Received UDP payload: 4766
1336844505659: mux: GOT CSM_Msg
1336844505659: forwarding disabled, not forwarding packets
1336844506355: Received UDP payload: 446
1336844506605: Received UDP payload: 446
1336844508461: inside sendPacket(Packet p)
1336844508475: Sending UDP payload: 446
1336844508586: Received UDP payload: 446
1336844508609: Received UDP payload: 446
1336844509244: Received UDP payload: 446
1336844511371: Received UDP payload: 446
1336844511588: Received UDP payload: 446
1336844513464: inside sendPacket(Packet p)
1336844513467: Sending UDP payload: 446
1336844513577: Received UDP payload: 446
1336844513604: Received UDP payload: 446
1336844514264: Received UDP payload: 446
1336844516381: Received UDP payload: 446
1336844516671: Received UDP payload: 446
1336844518357: leader to cloud hearbeat...
1336844518577: Received UDP payload: 446
1336844518606: Received UDP payload: 446
1336844519285: Received UDP payload: 446
1336844520363: inside sendPacket(Packet p)
1336844520376: Sending UDP payload: 446
1336844521388: Received UDP payload: 446
1336844521586: Received UDP payload: 446
1336844523589: Received UDP payload: 446
1336844523610: Received UDP payload: 446
1336844524294: Received UDP payload: 446
1336844525377: inside sendPacket(Packet p)
1336844525379: Sending UDP payload: 446
1336844526414: Received UDP payload: 446
1336844526585: Received UDP payload: 446
1336844528628: Received UDP payload: 446
1336844529315: Received UDP payload: 446
1336844530379: inside sendPacket(Packet p)
1336844530389: Sending UDP payload: 446
1336844530615: Received UDP payload: 446
1336844531394: Received UDP payload: 446
1336844531608: Received UDP payload: 446
1336844533615: Received UDP payload: 446
1336844534336: Received UDP payload: 446
1336844535389: inside sendPacket(Packet p)
1336844535392: Sending UDP payload: 446
1336844535621: Received UDP payload: 446
1336844536405: Received UDP payload: 446
1336844536610: Received UDP payload: 446
1336844538612: Received UDP payload: 446
1336844539338: Received UDP payload: 446
1336844540390: inside sendPacket(Packet p)
1336844540394: Sending UDP payload: 446
1336844540624: Received UDP payload: 446
1336844541420: Received UDP payload: 446
1336844541626: Received UDP payload: 446
1336844543613: Received UDP payload: 446
1336844544354: Received UDP payload: 446
1336844545391: inside sendPacket(Packet p)
1336844545406: Sending UDP payload: 446
1336844545627: Received UDP payload: 446
1336844546461: Received UDP payload: 446
1336844548612: Received UDP payload: 446
1336844548620: Received UDP payload: 446
1336844549343: Received UDP payload: 446
1336844550408: inside sendPacket(Packet p)
1336844550423: Sending UDP payload: 446
1336844550626: Received UDP payload: 446
1336844551424: Received UDP payload: 446
1336844553615: Received UDP payload: 446
1336844553624: Received UDP payload: 446
1336844554357: Received UDP payload: 446
1336844555409: inside sendPacket(Packet p)
1336844555412: Sending UDP payload: 446
1336844555634: Received UDP payload: 446
1336844556417: Received UDP payload: 446
1336844558626: Received UDP payload: 446
1336844558663: Received UDP payload: 446
1336844559369: Received UDP payload: 446
1336844560409: inside sendPacket(Packet p)
1336844560414: Sending UDP payload: 446
1336844560630: Received UDP payload: 446
1336844561425: Received UDP payload: 446
1336844563619: Received UDP payload: 446
1336844563642: Received UDP payload: 446
1336844564385: Received UDP payload: 446
1336844565411: inside sendPacket(Packet p)
1336844565414: Sending UDP payload: 446
1336844565676: Received UDP payload: 446
1336844566435: Received UDP payload: 446
1336844568643: Received UDP payload: 446
1336844568703: Received UDP payload: 446
1336844570412: inside sendPacket(Packet p)
1336844570415: Sending UDP payload: 446
1336844570672: Received UDP payload: 446
1336844571454: Received UDP payload: 446
1336844573622: Received UDP payload: 446
1336844573652: Received UDP payload: 446
1336844574394: Received UDP payload: 446
1336844575413: inside sendPacket(Packet p)
1336844575416: Sending UDP payload: 446
1336844575684: Received UDP payload: 446
1336844576468: Received UDP payload: 446
1336844578621: Received UDP payload: 446
1336844578665: Received UDP payload: 446
1336844579469: Received UDP payload: 446
1336844580413: inside sendPacket(Packet p)
1336844580415: Sending UDP payload: 446
1336844580735: Received UDP payload: 446
1336844581504: Received UDP payload: 446
1336844583646: Received UDP payload: 446
1336844583652: Received UDP payload: 446
1336844584437: Received UDP payload: 446
1336844585413: inside sendPacket(Packet p)
1336844585425: Sending UDP payload: 446
1336844585694: Received UDP payload: 446
1336844586471: Received UDP payload: 446
1336844588622: Received UDP payload: 446
1336844588650: Received UDP payload: 446
1336844589414: Received UDP payload: 446
1336844590427: inside sendPacket(Packet p)
1336844590430: Sending UDP payload: 446
1336844590697: Received UDP payload: 446
1336844591464: Received UDP payload: 446
1336844593631: Received UDP payload: 446
1336844593677: Received UDP payload: 446
1336844594412: Received UDP payload: 446
1336844595428: inside sendPacket(Packet p)
1336844595430: Sending UDP payload: 446
1336844595701: Received UDP payload: 446
1336844596455: Received UDP payload: 446
1336844598632: Received UDP payload: 446
1336844598654: Received UDP payload: 446
1336844599415: Received UDP payload: 446
1336844600429: inside sendPacket(Packet p)
1336844600431: Sending UDP payload: 446
1336844600714: Received UDP payload: 446
1336844601465: Received UDP payload: 446
1336844603636: Received UDP payload: 446
1336844603658: Received UDP payload: 446
1336844605429: inside sendPacket(Packet p)
1336844605432: Sending UDP payload: 446
1336844605746: Received UDP payload: 446
1336844606374: Received UDP payload: 446
1336844608515: Received UDP payload: 446
1336844608652: Received UDP payload: 446
1336844608662: Received UDP payload: 446
1336844610431: inside sendPacket(Packet p)
1336844610468: Sending UDP payload: 446
1336844610724: Received UDP payload: 446
1336844611380: Received UDP payload: 446
1336844613449: Received UDP payload: 446
1336844613640: Received UDP payload: 446
1336844613664: Received UDP payload: 446
1336844615433: inside sendPacket(Packet p)
1336844615442: Sending UDP payload: 446
1336844615785: Received UDP payload: 446
1336844616385: Received UDP payload: 446
1336844618487: Received UDP payload: 446
1336844618649: Received UDP payload: 446
1336844618713: Received UDP payload: 446
1336844620433: inside sendPacket(Packet p)
1336844620436: Sending UDP payload: 446
1336844620725: Received UDP payload: 446
1336844621391: Received UDP payload: 446
1336844623464: Received UDP payload: 446
1336844623677: Received UDP payload: 446
1336844625434: inside sendPacket(Packet p)
1336844625437: Sending UDP payload: 446
1336844625634: Received UDP payload: 446
1336844625727: Received UDP payload: 446
1336844626433: Received UDP payload: 446
1336844628470: Received UDP payload: 446
1336844628689: Received UDP payload: 446
1336844630435: inside sendPacket(Packet p)
1336844630438: Sending UDP payload: 446
1336844630637: Received UDP payload: 446
1336844630734: Received UDP payload: 446
1336844631405: Received UDP payload: 446
1336844633751: Received UDP payload: 446
1336844635436: inside sendPacket(Packet p)
1336844635439: Sending UDP payload: 446
1336844635687: Received UDP payload: 446
1336844635729: Received UDP payload: 446
1336844636427: Received UDP payload: 446
1336844638472: Received UDP payload: 446
1336844638710: Received UDP payload: 446
1336844640362: leader to cloud hearbeat...
1336844640644: Received UDP payload: 446
1336844640745: Received UDP payload: 446
1336844641429: Received UDP payload: 446
1336844642685: inside sendPacket(Packet p)
1336844642696: Sending UDP payload: 446
1336844643501: Received UDP payload: 446
1336844643726: Received UDP payload: 446
1336844645660: Received UDP payload: 446
1336844645760: Received UDP payload: 446
1336844646448: Received UDP payload: 446
1336844647698: inside sendPacket(Packet p)
1336844647700: Sending UDP payload: 446
1336844648489: Received UDP payload: 446
1336844648770: Received UDP payload: 446
1336844650673: Received UDP payload: 446
1336844651468: Received UDP payload: 446
1336844652699: inside sendPacket(Packet p)
1336844652706: Sending UDP payload: 446
1336844652769: Received UDP payload: 446
1336844653517: Received UDP payload: 446
1336844653768: Received UDP payload: 446
1336844655675: Received UDP payload: 446
1336844656477: Received UDP payload: 446
1336844657707: inside sendPacket(Packet p)
1336844657710: Sending UDP payload: 446
1336844657752: Received UDP payload: 446
1336844658514: Received UDP payload: 446
1336844658778: Received UDP payload: 446
1336844660688: Received UDP payload: 446
1336844661467: Received UDP payload: 446
1336844662708: inside sendPacket(Packet p)
1336844662714: Sending UDP payload: 446
1336844662804: Received UDP payload: 446
1336844663592: Received UDP payload: 446
1336844663785: Received UDP payload: 446
1336844665680: Received UDP payload: 446
1336844666458: Received UDP payload: 446
1336844667709: inside sendPacket(Packet p)
1336844667712: Sending UDP payload: 446
1336844667758: Received UDP payload: 446
1336844668520: Received UDP payload: 446
1336844670658: Received UDP payload: 446
1336844670768: Received UDP payload: 446
1336844671464: Received UDP payload: 446
1336844672710: inside sendPacket(Packet p)
1336844672756: Received UDP payload: 446
1336844672757: Sending UDP payload: 446
1336844673523: Received UDP payload: 446
1336844675698: Received UDP payload: 446
1336844675708: Received UDP payload: 446
1336844676516: Received UDP payload: 446
1336844677711: inside sendPacket(Packet p)
1336844677714: Sending UDP payload: 446
1336844677756: Received UDP payload: 446
1336844678536: Received UDP payload: 446
1336844680675: Received UDP payload: 446
1336844680702: Received UDP payload: 446
1336844681492: Received UDP payload: 446
1336844682712: inside sendPacket(Packet p)
1336844682715: Sending UDP payload: 446
1336844682768: Received UDP payload: 446
1336844683517: Received UDP payload: 446
1336844685676: Received UDP payload: 446
1336844685701: Received UDP payload: 446
1336844686508: Received UDP payload: 446
1336844687712: inside sendPacket(Packet p)
1336844687721: Sending UDP payload: 446
1336844687771: Received UDP payload: 446
1336844688516: Received UDP payload: 446
1336844690693: Received UDP payload: 446
1336844690699: Received UDP payload: 446
1336844691498: Received UDP payload: 446
1336844692723: inside sendPacket(Packet p)
1336844692725: Sending UDP payload: 446
1336844692773: Received UDP payload: 446
1336844693528: Received UDP payload: 446
1336844695702: Received UDP payload: 446
1336844695727: Received UDP payload: 446
1336844696501: Received UDP payload: 446
1336844697723: inside sendPacket(Packet p)
1336844697726: Sending UDP payload: 446
1336844697772: Received UDP payload: 446
1336844698541: Received UDP payload: 446
1336844700703: Received UDP payload: 446
1336844700723: Received UDP payload: 446
1336844701506: Received UDP payload: 446
1336844702724: inside sendPacket(Packet p)
1336844702728: Sending UDP payload: 446
1336844702772: Received UDP payload: 446
1336844703574: Received UDP payload: 446
1336844705710: Received UDP payload: 446
1336844705727: Received UDP payload: 446
1336844706560: Received UDP payload: 446
1336844707726: inside sendPacket(Packet p)
1336844707729: Sending UDP payload: 446
1336844707815: Received UDP payload: 446
1336844708564: Received UDP payload: 446
1336844710707: Received UDP payload: 446
1336844710730: Received UDP payload: 446
1336844711540: Received UDP payload: 446
1336844712726: inside sendPacket(Packet p)
1336844712730: Sending UDP payload: 446
1336844712772: Received UDP payload: 446
1336844713561: Received UDP payload: 446
1336844715737: Received UDP payload: 446
1336844715778: Received UDP payload: 446
1336844716570: Received UDP payload: 446
1336844717728: inside sendPacket(Packet p)
1336844717731: Sending UDP payload: 446
1336844717826: Received UDP payload: 446
1336844718576: Received UDP payload: 446
1336844720720: Received UDP payload: 446
1336844720743: Received UDP payload: 446
1336844721554: Received UDP payload: 446
1336844722729: inside sendPacket(Packet p)
1336844722736: Sending UDP payload: 446
1336844722811: Received UDP payload: 446
1336844723590: Received UDP payload: 446
1336844725732: Received UDP payload: 446
1336844725754: Received UDP payload: 446
1336844727743: inside sendPacket(Packet p)
1336844727754: Sending UDP payload: 446
1336844727786: Received UDP payload: 446
1336844728439: Received UDP payload: 446
1336844730657: Received UDP payload: 446
1336844730739: Received UDP payload: 446
1336844730762: Received UDP payload: 446
1336844732759: inside sendPacket(Packet p)
1336844732761: Sending UDP payload: 446
1336844732791: Received UDP payload: 446
1336844733440: Received UDP payload: 446
1336844735721: Received UDP payload: 446
1336844735735: Received UDP payload: 446
1336844735740: Received UDP payload: 446
1336844737761: inside sendPacket(Packet p)
1336844737763: Sending UDP payload: 446
1336844737804: Received UDP payload: 446
1336844738487: Received UDP payload: 446
1336844740695: Received UDP payload: 446
1336844740738: Received UDP payload: 446
1336844740751: Received UDP payload: 446
1336844742761: inside sendPacket(Packet p)
1336844742764: Sending UDP payload: 446
1336844742831: Received UDP payload: 446
1336844743458: Received UDP payload: 446
1336844745662: Received UDP payload: 446
1336844745740: Received UDP payload: 446
1336844747761: inside sendPacket(Packet p)
1336844747764: Sending UDP payload: 446
1336844747802: Received UDP payload: 446
1336844747811: Received UDP payload: 446
1336844748476: Received UDP payload: 446
1336844750676: Received UDP payload: 446
1336844750742: Received UDP payload: 446
1336844752762: inside sendPacket(Packet p)
1336844752765: Sending UDP payload: 446
1336844752800: Received UDP payload: 446
1336844752820: Received UDP payload: 446
1336844753488: Received UDP payload: 446
1336844755676: Received UDP payload: 446
1336844755754: Received UDP payload: 446
1336844757765: inside sendPacket(Packet p)
1336844757767: Sending UDP payload: 446
1336844757811: Received UDP payload: 446
1336844757835: Received UDP payload: 446
1336844758502: Received UDP payload: 446
1336844760677: Received UDP payload: 446
1336844760756: Received UDP payload: 446
1336844762684: leader to cloud hearbeat...
1336844762798: Received UDP payload: 446
1336844762829: Received UDP payload: 446
1336844763507: Received UDP payload: 446
1336844764651: inside sendPacket(Packet p)
1336844764663: Sending UDP payload: 446
1336844765349: Received UDP payload: 3734
1336844765366: mux: GOT CSM_Msg
1336844765366: forwarding disabled, not forwarding packets
1336844765375: Received UDP payload: 1006
1336844765377: mux: GOT CSM_Msg
1336844765377: forwarding disabled, not forwarding packets
1336844765673: Received UDP payload: 446
1336844765755: Received UDP payload: 446
1336844766502: Received UDP payload: 3403
1336844766506: mux: Inside mux Packet.CLIENT_REQUEST
1336844766623: Received UDP payload: 3767
1336844766631: mux: GOT CSM_Msg
1336844766631: Received UDP payload: 446
1336844766632: forwarding disabled, not forwarding packets
1336844766637: mux: Inside Packet.SERVER_REPLY
1336844766637: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844766653: Received UDP payload: 1006
1336844766661: mux: GOT CSM_Msg
1336844766661: forwarding disabled, not forwarding packets
1336844766662: Received UDP payload: 659
1336844766667: mux: Inside Packet.SERVER_REPLY
1336844766667: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844766680: Received UDP payload: 446
1336844766684: mux: Inside mux Packet.CLIENT_REQUEST
1336844767819: Received UDP payload: 446
1336844767834: Received UDP payload: 446
1336844768528: Received UDP payload: 446
1336844769037: Received UDP payload: 3506
1336844769056: mux: Inside mux Packet.CLIENT_REQUEST
1336844769097: Received UDP payload: 3870
1336844769099: mux: GOT CSM_Msg
1336844769099: forwarding disabled, not forwarding packets
1336844769108: Received UDP payload: 446
1336844769110: mux: Inside Packet.SERVER_REPLY
1336844769110: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844769118: Received UDP payload: 1006
1336844769120: mux: GOT CSM_Msg
1336844769120: forwarding disabled, not forwarding packets
1336844769129: Received UDP payload: 659
1336844769130: mux: Inside Packet.SERVER_REPLY
1336844769130: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844769148: Received UDP payload: 446
1336844769149: mux: Inside mux Packet.CLIENT_REQUEST
1336844769664: inside sendPacket(Packet p)
1336844769665: Sending UDP payload: 446
1336844770319: Received UDP payload: 3820
1336844770330: mux: GOT CSM_Msg
1336844770331: forwarding disabled, not forwarding packets
1336844770340: Received UDP payload: 1006
1336844770348: mux: GOT CSM_Msg
1336844770348: forwarding disabled, not forwarding packets
1336844770673: Received UDP payload: 446
1336844770752: Received UDP payload: 446
1336844771687: Received UDP payload: 3734
1336844771695: mux: GOT CSM_Msg
1336844771695: forwarding disabled, not forwarding packets
1336844771708: Received UDP payload: 1006
1336844771715: mux: GOT CSM_Msg
1336844771716: forwarding disabled, not forwarding packets
1336844772833: Received UDP payload: 446
1336844773542: Received UDP payload: 446
1336844774666: inside sendPacket(Packet p)
1336844774669: Sending UDP payload: 446
1336844774851: Received UDP payload: 446
1336844775680: Received UDP payload: 446
1336844775763: Received UDP payload: 446
1336844777191: Received UDP payload: 3370
1336844777196: mux: Inside mux Packet.CLIENT_REQUEST
1336844777241: Received UDP payload: 3734
1336844777251: mux: GOT CSM_Msg
1336844777251: forwarding disabled, not forwarding packets
1336844777252: Received UDP payload: 446
1336844777263: mux: Inside Packet.SERVER_REPLY
1336844777264: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844777264: Received UDP payload: 1006
1336844777281: mux: GOT CSM_Msg
1336844777282: forwarding disabled, not forwarding packets
1336844777282: Received UDP payload: 659
1336844777283: mux: Inside Packet.SERVER_REPLY
1336844777283: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844777301: Received UDP payload: 446
1336844777302: mux: Inside mux Packet.CLIENT_REQUEST
1336844777366: Received UDP payload: 3829
1336844777368: mux: GOT CSM_Msg
1336844777368: forwarding disabled, not forwarding packets
1336844777374: Received UDP payload: 1006
1336844777376: mux: GOT CSM_Msg
1336844777376: forwarding disabled, not forwarding packets
1336844777833: Received UDP payload: 446
1336844778277: Received UDP payload: 3734
1336844778286: mux: GOT CSM_Msg
1336844778286: forwarding disabled, not forwarding packets
1336844778293: Received UDP payload: 1006
1336844778310: mux: GOT CSM_Msg
1336844778310: forwarding disabled, not forwarding packets
1336844778538: Received UDP payload: 446
1336844779668: inside sendPacket(Packet p)
1336844779669: Sending UDP payload: 446
1336844779851: Received UDP payload: 446
1336844780397: canPressButton = TRUE
1336844780397: areButtonsEnabled --> false
1336844780397: disabling buttons ...
1336844780397: took picture disableButtonsR
1336844780398: areButtonsEnabled --> false
1336844780427: one more takeNum: 2
1336844780428: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336844780428: Clicked take picture button ..
1336844780687: Received UDP payload: 446
1336844780768: Received UDP payload: 446
1336844781761: inside HandlePictureStorage onPictureTaken()
1336844781762: one more takeCamGood: 2
1336844781762: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336844782252: Picture successfully taken, ORIG BYTE LENGTH = 2306540
1336844782457: Our new height x width: 306 x 408
1336844782457: Show photo from handle my camera take
1336844782458: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336844782458: change local requestCounter to 15
1336844782471: BYTE SIZE AFTER COMPRESSION: 2777
1336844782478: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5010015 Client in region: 4 Client nodID: 5010
1336844782505: ----------------------------
1336844782506: inside sendRequestPacketRepeatingRunnable for requestCount = 5010015
1336844782506: I'm a leader, my requesting photos packet going to mux directly
1336844782516: --- Finished one round of sending REQUEST Packet ---------
1336844782506: mux: Inside mux Packet.CLIENT_REQUEST
1336844782506: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844782550: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844782507: inside handleClientRequest. Originator leader of region 4
1336844782507: got new request, requestCounter = 5010015
1336844782507: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844782507: Sending PROC_REQUEST 10:4 (4,0)->(4,0)
1336844782507: Dispatching Atom PROC_REQUEST 10:4 (4,0)->(4,0)
1336844782508: mux: I got a CSM packet at a leader 

1336844782551: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844782552: I'm a leader and I successfully saved my client's new photo
1336844782552: now showing in UI the new photo I just saved ... 
1336844782553: the photo length: 2777
1336844782589: end of server show photo aside %%%%%%%%%
1336844782508: Note down new request by adding requestCounter=5010015 to HashMap processedRequests
1336844782508: Make FirstLeg Ack regardless of new or already-processed requests
1336844782508: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844782516: Sending UDP payload: 3805
1336844782523: removed replies before id 4 from sentReplies of size 0
1336844782524: inside handleDSMRequest. At requests's remote leader of region 4
1336844782526: Inside UPLOAD_PHOTO!!
1336844782529: my_gpinfo.isSuccess is now (should be true): true
1336844782529: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844782539: Received PROC_REQUEST 10:4 (4,0)->(4,0), replying PROC_REPLY 10:4 (4,0)->(4,0)
1336844782539: Dispatching Atom PROC_REPLY 10:4 (4,0)->(4,0)
1336844782540: mux: I got a CSM packet at a leader 

1336844782591: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336844782592: disabling progressdialog due to successful new photo upload
1336844782592: Inside _enableButtons
1336844782592: areButtonsEnabled --> true
1336844782593: send final leg ack regardless of new or already-processed reply
1336844782593: inside finalLegAck: change requestCounter to 16
1336844782594: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010016 Client in region: (4,0) Client nodID: 5010
1336844782594: I'm a leader client, my final_leg packet going to mux directly
1336844782595: new client_upload_photo_ack reply with replyCounter 501001500
1336844782596: note down new reply by adding replyCounter=501001500 to HashMap processedReplies
1336844782596: leader upload new photo latency = 85
1336844782596: = leader upload start 1336844782506 ~ stop 1336844782591
1336844782599: one more takeGoodSave: 2
1336844782600: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336844782600: adding take latency: 85
1336844782600: SUCCESS Client now knows saving photo on its leader succeeded
1336844782541: Sending UDP payload: 1006
1336844782542: Received PROC_REPLY 10:4 (4,0)->(4,0), handing to UserApp
1336844782542: inside handleDSMReply. Now back in originator leader of region 4
1336844782542: DSM layer: Going to and from remote region took latency = 35
1336844782542: DSM layer: orig leader sent packet at 1336844782507 ~ received reply from remote leader at 1336844782542
1336844782547: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844782547: leader client reply has replyCounter: 501001500
1336844782547: reply packet contains the success info for UPLOAD_PHOTO
1336844782547: inside sendReplies of replyCount = 501001500
1336844782547: =======================
1336844782547: inside sendReplyRepeatingRunnable for replyCount = 501001500
1336844782548: Leader about to send REPLY packet, number: 501001500 type: 16 Leader in region: (4,0) to Client nodID: 5010
1336844782548: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844782548: === Finished one round of sending REPLY Packet =======
1336844782594: mux: Inside mux Packet.CLIENT_REQUEST
1336844782594: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844782594: inside handleClientRequest. Originator leader of region 4
1336844782594: got new request, requestCounter = 5010016
1336844782594: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501001500
1336844782595: Yay the last leg succeeded. Removing reply runnables ...
1336844782595: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501001500
1336844782595: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501001500
1336844782595: do not send ack for received final_leg_ack
1336844782831: Received UDP payload: 446
1336844783542: Received UDP payload: 446
1336844784668: inside sendPacket(Packet p)
1336844784702: Sending UDP payload: 446
1336844784863: Received UDP payload: 446
1336844785625: Received UDP payload: 3449
1336844785632: mux: Inside mux Packet.CLIENT_REQUEST
1336844785632: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844785632: inside handleClientRequest. Originator leader of region 4
1336844785642: got new request, requestCounter = 5009015
1336844785644: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844785646: Sending PROC_REQUEST 10:5 (4,0)->(4,0)
1336844785647: Dispatching Atom PROC_REQUEST 10:5 (4,0)->(4,0)
1336844785649: mux: I got a CSM packet at a leader 

1336844785698: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844785699: I'm a leader and I successfully saved my client's new photo
1336844785700: now showing in UI the new photo I just saved ... 
1336844785700: the photo length: 2785
1336844785740: end of server show photo aside %%%%%%%%%
1336844785647: Note down new request by adding requestCounter=5009015 to HashMap processedRequests
1336844785648: Make FirstLeg Ack regardless of new or already-processed requests
1336844785648: The leader sending a First Leg ack to originator client (which id = 5009)
1336844785648: inside sendPacket(Packet p)
1336844785680: Sending UDP payload: 3813
1336844785682: Received UDP payload: 446
1336844785687: removed replies before id 5 from sentReplies of size 0
1336844785688: inside handleDSMRequest. At requests's remote leader of region 4
1336844785690: Inside UPLOAD_PHOTO!!
1336844785692: my_gpinfo.isSuccess is now (should be true): true
1336844785692: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844785693: Received PROC_REQUEST 10:5 (4,0)->(4,0), replying PROC_REPLY 10:5 (4,0)->(4,0)
1336844785693: Dispatching Atom PROC_REPLY 10:5 (4,0)->(4,0)
1336844785728: mux: I got a CSM packet at a leader 

1336844785694: Sending UDP payload: 446
1336844785735: Sending UDP payload: 1006
1336844785741: Received PROC_REPLY 10:5 (4,0)->(4,0), handing to UserApp
1336844785741: inside handleDSMReply. Now back in originator leader of region 4
1336844785741: DSM layer: Going to and from remote region took latency = 96
1336844785741: DSM layer: orig leader sent packet at 1336844785645 ~ received reply from remote leader at 1336844785741
1336844785743: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844785743: leader client reply has replyCounter: 500901500
1336844785743: reply packet contains the success info for UPLOAD_PHOTO
1336844785743: inside sendReplies of replyCount = 500901500
1336844785744: =======================
1336844785744: inside sendReplyRepeatingRunnable for replyCount = 500901500
1336844785744: Leader about to send REPLY packet, number: 500901500 type: 16 Leader in region: (4,0) to Client nodID: 5009
1336844785744: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844785744: inside sendPacket(Packet p)
1336844785744: === Finished one round of sending REPLY Packet =======
1336844785745: Sending UDP payload: 659
1336844785765: Received UDP payload: 446
1336844785798: Received UDP payload: 446
1336844785799: mux: Inside mux Packet.CLIENT_REQUEST
1336844785799: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844785800: inside handleClientRequest. Originator leader of region 4
1336844785800: got new request, requestCounter = 5009016
1336844785800: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500901500
1336844785800: Yay the last leg succeeded. Removing reply runnables ...
1336844785800: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500901500
1336844785800: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500901500
1336844785800: do not send ack for received final_leg_ack
1336844787836: Received UDP payload: 446
1336844788558: Received UDP payload: 446
1336844789671: inside sendPacket(Packet p)
1336844789674: Sending UDP payload: 446
1336844789866: Received UDP payload: 446
1336844790695: Received UDP payload: 446
1336844792684: Received UDP payload: 446
1336844792852: Received UDP payload: 446
1336844793557: Received UDP payload: 446
1336844794671: inside sendPacket(Packet p)
1336844794674: Sending UDP payload: 446
1336844794916: Received UDP payload: 446
1336844795725: Received UDP payload: 446
1336844797689: Received UDP payload: 446
1336844797876: Received UDP payload: 446
1336844798592: Received UDP payload: 446
1336844799671: inside sendPacket(Packet p)
1336844799674: Sending UDP payload: 446
1336844799895: Received UDP payload: 446
1336844800716: Received UDP payload: 446
1336844802707: Received UDP payload: 446
1336844802859: Received UDP payload: 446
1336844803578: Received UDP payload: 446
1336844804672: inside sendPacket(Packet p)
1336844804675: Sending UDP payload: 446
1336844804902: Received UDP payload: 446
1336844805720: Received UDP payload: 446
1336844807308: Received UDP payload: 642
1336844807316: mux: Inside mux Packet.CLIENT_REQUEST
1336844807348: Received UDP payload: 1006
1336844807359: mux: GOT CSM_Msg
1336844807360: forwarding disabled, not forwarding packets
1336844807374: Received UDP payload: 446
1336844807375: mux: Inside Packet.SERVER_REPLY
1336844807375: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844807410: Received UDP payload: 3820
1336844807412: mux: GOT CSM_Msg
1336844807412: forwarding disabled, not forwarding packets
1336844807451: Received UDP payload: 3473
1336844807453: mux: Inside Packet.SERVER_REPLY
1336844807453: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844807478: Received UDP payload: 446
1336844807479: mux: Inside mux Packet.CLIENT_REQUEST
1336844807704: Received UDP payload: 446
1336844807860: Received UDP payload: 446
1336844808519: Received UDP payload: 1006
1336844808528: mux: GOT CSM_Msg
1336844808528: forwarding disabled, not forwarding packets
1336844808585: Received UDP payload: 446
1336844808626: Received UDP payload: 3820
1336844808632: mux: GOT CSM_Msg
1336844808632: forwarding disabled, not forwarding packets
1336844809673: inside sendPacket(Packet p)
1336844809685: Sending UDP payload: 446
1336844809916: Received UDP payload: 446
1336844810051: Received UDP payload: 1006
1336844810058: mux: GOT CSM_Msg
1336844810059: forwarding disabled, not forwarding packets
1336844810179: Received UDP payload: 3820
1336844810185: mux: GOT CSM_Msg
1336844810186: forwarding disabled, not forwarding packets
1336844810724: Received UDP payload: 446
1336844811374: Received UDP payload: 642
1336844811378: mux: Inside mux Packet.CLIENT_REQUEST
1336844811424: Received UDP payload: 1006
1336844811431: mux: GOT CSM_Msg
1336844811431: forwarding disabled, not forwarding packets
1336844811432: Received UDP payload: 446
1336844811435: mux: Inside Packet.SERVER_REPLY
1336844811435: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844811573: Received UDP payload: 446
1336844811575: mux: Inside mux Packet.CLIENT_REQUEST
1336844812715: Received UDP payload: 446
1336844812877: Received UDP payload: 446
1336844813590: Received UDP payload: 446
1336844814688: inside sendPacket(Packet p)
1336844814691: Sending UDP payload: 446
1336844814937: Received UDP payload: 446
1336844815721: Received UDP payload: 446
1336844816060: Received UDP payload: 1006
1336844816069: mux: GOT CSM_Msg
1336844816069: forwarding disabled, not forwarding packets
1336844816140: Received UDP payload: 3820
1336844816144: mux: GOT CSM_Msg
1336844816144: forwarding disabled, not forwarding packets
1336844816267: Received UDP payload: 1006
1336844816271: mux: GOT CSM_Msg
1336844816271: forwarding disabled, not forwarding packets
1336844816338: Received UDP payload: 3820
1336844816342: mux: GOT CSM_Msg
1336844816342: forwarding disabled, not forwarding packets
1336844817729: Received UDP payload: 446
1336844817875: Received UDP payload: 446
1336844818599: Received UDP payload: 446
1336844819689: inside sendPacket(Packet p)
1336844819692: Sending UDP payload: 446
1336844819985: Received UDP payload: 446
1336844820811: Received UDP payload: 446
1336844821836: Received UDP payload: 642
1336844821840: mux: Inside mux Packet.CLIENT_REQUEST
1336844821908: Received UDP payload: 1006
1336844821917: mux: GOT CSM_Msg
1336844821917: forwarding disabled, not forwarding packets
1336844821918: Received UDP payload: 446
1336844821921: mux: Inside Packet.SERVER_REPLY
1336844821921: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844821995: Received UDP payload: 3820
1336844822003: mux: GOT CSM_Msg
1336844822003: forwarding disabled, not forwarding packets
1336844822059: Received UDP payload: 3473
1336844822060: mux: Inside Packet.SERVER_REPLY
1336844822061: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844822071: Received UDP payload: 446
1336844822072: mux: Inside mux Packet.CLIENT_REQUEST
1336844822623: canPressButton = TRUE
1336844822625: areButtonsEnabled --> false 
1336844822625: get picture disableButtonsR
1336844822626: areButtonsEnabled --> false
1336844822670: one more getNum: 7
1336844822671: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=6 getBad=0 getTimedout=0 getPercent=85%
1336844822671: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336844822672: change local requestCounter to 17
1336844822674: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010017 Client in region: 4 Client nodID: 5010
1336844822709: ----------------------------
1336844822710: inside sendRequestPacketRepeatingRunnable for requestCount = 5010017
1336844822710: I'm a leader, my requesting photos packet going to mux directly
1336844822715: --- Finished one round of sending REQUEST Packet ---------
1336844822710: mux: Inside mux Packet.CLIENT_REQUEST
1336844822710: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844822746: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844822710: inside handleClientRequest. Originator leader of region 4
1336844822711: got new request, requestCounter = 5010017
1336844822711: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844822711: Sending to region: 0
1336844822712: Sending PROC_REQUEST 11:2 (4,0)->(0,0)
1336844822712: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(0,0)
1336844822713: mux: I got a CSM packet at a leader 

1336844822712: Note down new request by adding requestCounter=5010017 to HashMap processedRequests
1336844822712: Make FirstLeg Ack regardless of new or already-processed requests
1336844822712: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844822714: Sending UDP payload: 1006
1336844822715: forwarding disabled, not forwarding packets
1336844822758: Received UDP payload: 446
1336844822794: Received UDP payload: 1006
1336844822796: mux: GOT CSM_Msg
1336844822796: forwarding disabled, not forwarding packets
1336844822839: Received UDP payload: 3820
1336844822843: mux: GOT CSM_Msg
1336844822847: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844822847: disabling progressdialog due to successful new photo get
1336844822847: Inside _enableButtons
1336844822847: areButtonsEnabled --> true
1336844822848: send final leg ack regardless of new or already-processed reply
1336844822848: inside finalLegAck: change requestCounter to 18
1336844822848: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010018 Client in region: (4,0) Client nodID: 5010
1336844822848: I'm a leader client, my final_leg packet going to mux directly
1336844822850: new client_show_remotephoto reply with replyCounter 501001700
1336844822850: note down new reply by adding replyCounter=501001700 to HashMap processedReplies
1336844822851: leader download remote photo latency = 137
1336844822851: = leader download start 1336844822710 ~ stop 1336844822847
1336844822852: one more getGood: 7
1336844822856: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=7 getBad=0 getTimedout=0 getPercent=100%
1336844822856: adding get latency: 137
1336844822857: Success! Client getting photo from remote region, showing photo...
1336844822858: Remote photo's length: 2792
1336844822844: Received PROC_REPLY 11:2 (0,0)->(4,0), handing to UserApp
1336844822844: inside handleDSMReply. Now back in originator leader of region 4
1336844822844: DSM layer: Going to and from remote region took latency = 133
1336844822844: DSM layer: orig leader sent packet at 1336844822711 ~ received reply from remote leader at 1336844822844
1336844822845: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844822845: leader client reply has replyCounter: 501001700
1336844822845: reply packet contains the newest photo/success info from the remote region
1336844822845: inside sendReplies of replyCount = 501001700
1336844822845: =======================
1336844822845: inside sendReplyRepeatingRunnable for replyCount = 501001700
1336844822845: Leader about to send REPLY packet, number: 501001700 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844822846: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844822846: === Finished one round of sending REPLY Packet =======
1336844822849: mux: Inside mux Packet.CLIENT_REQUEST
1336844822849: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844822849: inside handleClientRequest. Originator leader of region 4
1336844822849: got new request, requestCounter = 5010018
1336844822849: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501001700
1336844822849: Yay the last leg succeeded. Removing reply runnables ...
1336844822849: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501001700
1336844822849: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501001700
1336844822849: do not send ack for received final_leg_ack
1336844822903: Received UDP payload: 3820
1336844822916: mux: GOT CSM_Msg
1336844822916: forwarding disabled, not forwarding packets
1336844822931: Received UDP payload: 446
1336844823600: Received UDP payload: 446
1336844823977: Received UDP payload: 642
1336844823982: mux: Inside mux Packet.CLIENT_REQUEST
1336844823982: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844823983: inside handleClientRequest. Originator leader of region 4
1336844823984: got new request, requestCounter = 5009017
1336844823984: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844824000: Sending to region: 0
1336844824002: Sending PROC_REQUEST 11:3 (4,0)->(0,0)
1336844824004: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(0,0)
1336844824012: mux: I got a CSM packet at a leader 

1336844824004: Note down new request by adding requestCounter=5009017 to HashMap processedRequests
1336844824004: Make FirstLeg Ack regardless of new or already-processed requests
1336844824005: The leader sending a First Leg ack to originator client (which id = 5009)
1336844824005: inside sendPacket(Packet p)
1336844824038: Sending UDP payload: 1006
1336844824039: forwarding disabled, not forwarding packets
1336844824039: Sending UDP payload: 446
1336844824146: Received UDP payload: 3820
1336844824148: mux: GOT CSM_Msg
1336844824149: Received PROC_REPLY 11:3 (0,0)->(4,0), handing to UserApp
1336844824149: inside handleDSMReply. Now back in originator leader of region 4
1336844824149: DSM layer: Going to and from remote region took latency = 148
1336844824149: DSM layer: orig leader sent packet at 1336844824001 ~ received reply from remote leader at 1336844824149
1336844824150: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844824150: leader client reply has replyCounter: 500901700
1336844824150: reply packet contains the newest photo/success info from the remote region
1336844824150: inside sendReplies of replyCount = 500901700
1336844824153: =======================
1336844824153: inside sendReplyRepeatingRunnable for replyCount = 500901700
1336844824153: Leader about to send REPLY packet, number: 500901700 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844824154: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844824154: inside sendPacket(Packet p)
1336844824154: === Finished one round of sending REPLY Packet =======
1336844824163: Sending UDP payload: 3473
1336844824219: Received UDP payload: 446
1336844824220: mux: Inside mux Packet.CLIENT_REQUEST
1336844824220: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844824220: inside handleClientRequest. Originator leader of region 4
1336844824221: got new request, requestCounter = 5009018
1336844824221: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500901700
1336844824221: Yay the last leg succeeded. Removing reply runnables ...
1336844824221: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500901700
1336844824221: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500901700
1336844824221: do not send ack for received final_leg_ack
1336844824689: inside sendPacket(Packet p)
1336844824693: Sending UDP payload: 446
1336844824964: Received UDP payload: 446
1336844825754: Received UDP payload: 446
1336844827756: Received UDP payload: 446
1336844827879: Received UDP payload: 446
1336844828607: Received UDP payload: 446
1336844829692: inside sendPacket(Packet p)
1336844829695: Sending UDP payload: 446
1336844829975: Received UDP payload: 446
1336844830766: Received UDP payload: 446
1336844832770: Received UDP payload: 446
1336844832891: Received UDP payload: 446
1336844833619: Received UDP payload: 446
1336844834692: inside sendPacket(Packet p)
1336844834695: Sending UDP payload: 446
1336844834983: Received UDP payload: 446
1336844835762: Received UDP payload: 446
1336844836582: Received UDP payload: 642
1336844836586: mux: Inside mux Packet.CLIENT_REQUEST
1336844836640: Received UDP payload: 1006
1336844836648: mux: GOT CSM_Msg
1336844836649: forwarding disabled, not forwarding packets
1336844836649: Received UDP payload: 446
1336844836663: mux: Inside Packet.SERVER_REPLY
1336844836664: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844836755: Received UDP payload: 3767
1336844836759: mux: GOT CSM_Msg
1336844836759: forwarding disabled, not forwarding packets
1336844836804: Received UDP payload: 3420
1336844836807: mux: Inside Packet.SERVER_REPLY
1336844836807: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844836822: Received UDP payload: 446
1336844836824: mux: Inside mux Packet.CLIENT_REQUEST
1336844837771: Received UDP payload: 1006
1336844837778: mux: GOT CSM_Msg
1336844837779: forwarding disabled, not forwarding packets
1336844837788: Received UDP payload: 446
1336844837854: Received UDP payload: 3767
1336844837856: mux: GOT CSM_Msg
1336844837856: forwarding disabled, not forwarding packets
1336844837889: Received UDP payload: 446
1336844838623: Received UDP payload: 446
1336844839694: inside sendPacket(Packet p)
1336844839707: Sending UDP payload: 446
1336844840780: Received UDP payload: 446
1336844842784: Received UDP payload: 446
1336844842902: Received UDP payload: 446
1336844843371: Received UDP payload: 642
1336844843382: mux: Inside mux Packet.CLIENT_REQUEST
1336844843420: Received UDP payload: 1006
1336844843426: mux: GOT CSM_Msg
1336844843426: forwarding disabled, not forwarding packets
1336844843469: Received UDP payload: 446
1336844843470: mux: Inside Packet.SERVER_REPLY
1336844843471: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844843544: Received UDP payload: 3767
1336844843546: mux: GOT CSM_Msg
1336844843546: forwarding disabled, not forwarding packets
1336844843582: Received UDP payload: 3420
1336844843584: mux: Inside Packet.SERVER_REPLY
1336844843584: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844843594: Received UDP payload: 446
1336844843596: mux: Inside mux Packet.CLIENT_REQUEST
1336844843622: Received UDP payload: 446
1336844844588: Received UDP payload: 1006
1336844844594: mux: GOT CSM_Msg
1336844844595: forwarding disabled, not forwarding packets
1336844844638: Received UDP payload: 3767
1336844844645: mux: GOT CSM_Msg
1336844844645: forwarding disabled, not forwarding packets
1336844844710: inside sendPacket(Packet p)
1336844844710: Sending UDP payload: 446
1336844845010: Received UDP payload: 446
1336844845786: Received UDP payload: 446
1336844845962: Received UDP payload: 1006
1336844845975: mux: GOT CSM_Msg
1336844845975: forwarding disabled, not forwarding packets
1336844847793: Received UDP payload: 446
1336844847920: Received UDP payload: 446
1336844849711: inside sendPacket(Packet p)
1336844849726: Sending UDP payload: 446
1336844849733: Received UDP payload: 1006
1336844849739: mux: GOT CSM_Msg
1336844849739: forwarding disabled, not forwarding packets
1336844849840: Received UDP payload: 3767
1336844849844: mux: GOT CSM_Msg
1336844849844: forwarding disabled, not forwarding packets
1336844850014: Received UDP payload: 446
1336844850606: Received UDP payload: 446
1336844852841: Received UDP payload: 446
1336844852862: Received UDP payload: 446
1336844852921: Received UDP payload: 446
1336844853034: canPressButton = TRUE
1336844853035: areButtonsEnabled --> false 
1336844853035: get picture disableButtonsR
1336844853035: areButtonsEnabled --> false
1336844853061: one more getNum: 8
1336844853062: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=7 getBad=0 getTimedout=0 getPercent=87%
1336844853062: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336844853062: change local requestCounter to 19
1336844853065: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010019 Client in region: 4 Client nodID: 5010
1336844853096: ----------------------------
1336844853096: inside sendRequestPacketRepeatingRunnable for requestCount = 5010019
1336844853099: I'm a leader, my requesting photos packet going to mux directly
1336844853103: --- Finished one round of sending REQUEST Packet ---------
1336844853099: mux: Inside mux Packet.CLIENT_REQUEST
1336844853099: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844853146: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844853099: inside handleClientRequest. Originator leader of region 4
1336844853099: got new request, requestCounter = 5010019
1336844853100: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844853100: Sending to region: 1
1336844853101: Sending PROC_REQUEST 11:2 (4,0)->(1,0)
1336844853101: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(1,0)
1336844853102: mux: I got a CSM packet at a leader 

1336844853101: Note down new request by adding requestCounter=5010019 to HashMap processedRequests
1336844853101: Make FirstLeg Ack regardless of new or already-processed requests
1336844853101: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844853103: Sending UDP payload: 1006
1336844853105: forwarding disabled, not forwarding packets
1336844853246: Received UDP payload: 3767
1336844853248: mux: GOT CSM_Msg
1336844853264: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844853264: disabling progressdialog due to successful new photo get
1336844853264: Inside _enableButtons
1336844853265: areButtonsEnabled --> true
1336844853265: send final leg ack regardless of new or already-processed reply
1336844853265: inside finalLegAck: change requestCounter to 20
1336844853266: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010020 Client in region: (4,0) Client nodID: 5010
1336844853266: I'm a leader client, my final_leg packet going to mux directly
1336844853266: new client_show_remotephoto reply with replyCounter 501001900
1336844853266: note down new reply by adding replyCounter=501001900 to HashMap processedReplies
1336844853266: leader download remote photo latency = 165
1336844853267: = leader download start 1336844853099 ~ stop 1336844853264
1336844853268: one more getGood: 8
1336844853269: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=8 getBad=0 getTimedout=0 getPercent=100%
1336844853269: adding get latency: 165
1336844853270: Success! Client getting photo from remote region, showing photo...
1336844853270: Remote photo's length: 2739
1336844853248: Received PROC_REPLY 11:2 (1,0)->(4,0), handing to UserApp
1336844853249: inside handleDSMReply. Now back in originator leader of region 4
1336844853249: DSM layer: Going to and from remote region took latency = 148
1336844853249: DSM layer: orig leader sent packet at 1336844853100 ~ received reply from remote leader at 1336844853248
1336844853250: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844853250: leader client reply has replyCounter: 501001900
1336844853250: reply packet contains the newest photo/success info from the remote region
1336844853250: inside sendReplies of replyCount = 501001900
1336844853250: =======================
1336844853250: inside sendReplyRepeatingRunnable for replyCount = 501001900
1336844853251: Leader about to send REPLY packet, number: 501001900 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844853251: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844853251: === Finished one round of sending REPLY Packet =======
1336844853266: mux: Inside mux Packet.CLIENT_REQUEST
1336844853266: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844853266: inside handleClientRequest. Originator leader of region 4
1336844853266: got new request, requestCounter = 5010020
1336844853267: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501001900
1336844853267: Yay the last leg succeeded. Removing reply runnables ...
1336844853267: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501001900
1336844853267: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501001900
1336844853267: do not send ack for received final_leg_ack
1336844854616: Received UDP payload: 642
1336844854621: mux: Inside mux Packet.CLIENT_REQUEST
1336844854621: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844854622: inside handleClientRequest. Originator leader of region 4
1336844854622: got new request, requestCounter = 5009019
1336844854622: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844854637: Sending to region: 1
1336844854639: Sending PROC_REQUEST 11:3 (4,0)->(1,0)
1336844854640: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(1,0)
1336844854642: mux: I got a CSM packet at a leader 

1336844854640: Note down new request by adding requestCounter=5009019 to HashMap processedRequests
1336844854641: Make FirstLeg Ack regardless of new or already-processed requests
1336844854641: The leader sending a First Leg ack to originator client (which id = 5009)
1336844854641: inside sendPacket(Packet p)
1336844854646: Sending UDP payload: 1006
1336844854659: forwarding disabled, not forwarding packets
1336844854664: Sending UDP payload: 446
1336844854729: inside sendPacket(Packet p)
1336844854730: Sending UDP payload: 446
1336844854785: Received UDP payload: 3767
1336844854787: mux: GOT CSM_Msg
1336844854787: Received PROC_REPLY 11:3 (1,0)->(4,0), handing to UserApp
1336844854788: inside handleDSMReply. Now back in originator leader of region 4
1336844854788: DSM layer: Going to and from remote region took latency = 150
1336844854788: DSM layer: orig leader sent packet at 1336844854638 ~ received reply from remote leader at 1336844854788
1336844854789: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844854789: leader client reply has replyCounter: 500901900
1336844854789: reply packet contains the newest photo/success info from the remote region
1336844854789: inside sendReplies of replyCount = 500901900
1336844854789: =======================
1336844854789: inside sendReplyRepeatingRunnable for replyCount = 500901900
1336844854790: Leader about to send REPLY packet, number: 500901900 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844854790: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844854790: inside sendPacket(Packet p)
1336844854790: === Finished one round of sending REPLY Packet =======
1336844854792: Sending UDP payload: 3420
1336844854844: Received UDP payload: 446
1336844854845: mux: Inside mux Packet.CLIENT_REQUEST
1336844854845: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844854845: inside handleClientRequest. Originator leader of region 4
1336844854846: got new request, requestCounter = 5009020
1336844854846: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500901900
1336844854846: Yay the last leg succeeded. Removing reply runnables ...
1336844854846: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500901900
1336844854846: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500901900
1336844854846: do not send ack for received final_leg_ack
1336844855014: Received UDP payload: 446
1336844855446: Received UDP payload: 642
1336844855452: mux: Inside mux Packet.CLIENT_REQUEST
1336844855468: Received UDP payload: 1006
1336844855483: mux: GOT CSM_Msg
1336844855483: forwarding disabled, not forwarding packets
1336844855484: Received UDP payload: 446
1336844855489: mux: Inside Packet.SERVER_REPLY
1336844855489: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844855529: Received UDP payload: 3767
1336844855531: mux: GOT CSM_Msg
1336844855531: forwarding disabled, not forwarding packets
1336844855597: Received UDP payload: 3420
1336844855598: mux: Inside Packet.SERVER_REPLY
1336844855599: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844855612: Received UDP payload: 446
1336844855624: Received UDP payload: 446
1336844855625: mux: Inside mux Packet.CLIENT_REQUEST
1336844857828: Received UDP payload: 1006
1336844857839: mux: GOT CSM_Msg
1336844857839: forwarding disabled, not forwarding packets
1336844857849: Received UDP payload: 446
1336844857866: Received UDP payload: 446
1336844857938: Received UDP payload: 3767
1336844857940: mux: GOT CSM_Msg
1336844857941: forwarding disabled, not forwarding packets
1336844858002: Received UDP payload: 446
1336844859731: inside sendPacket(Packet p)
1336844859734: Sending UDP payload: 446
1336844860048: Received UDP payload: 446
1336844860611: Received UDP payload: 446
1336844862858: Received UDP payload: 446
1336844862883: Received UDP payload: 446
1336844862936: Received UDP payload: 446
1336844864733: inside sendPacket(Packet p)
1336844864736: Sending UDP payload: 446
1336844865062: Received UDP payload: 446
1336844865628: Received UDP payload: 446
1336844866695: Received UDP payload: 642
1336844866700: mux: Inside mux Packet.CLIENT_REQUEST
1336844866779: Received UDP payload: 1006
1336844866786: mux: GOT CSM_Msg
1336844866787: forwarding disabled, not forwarding packets
1336844866789: Received UDP payload: 446
1336844866804: mux: Inside Packet.SERVER_REPLY
1336844866804: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844866872: Received UDP payload: 3829
1336844866874: mux: GOT CSM_Msg
1336844866874: forwarding disabled, not forwarding packets
1336844866955: Received UDP payload: 3482
1336844866957: mux: Inside Packet.SERVER_REPLY
1336844866957: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844866971: Received UDP payload: 446
1336844866972: mux: Inside mux Packet.CLIENT_REQUEST
1336844867799: Received UDP payload: 446
1336844867895: Received UDP payload: 446
1336844867920: Received UDP payload: 1006
1336844867928: mux: GOT CSM_Msg
1336844867928: forwarding disabled, not forwarding packets
1336844867993: Received UDP payload: 3829
1336844868000: mux: GOT CSM_Msg
1336844868000: forwarding disabled, not forwarding packets
1336844868668: Received UDP payload: 1006
1336844868675: mux: GOT CSM_Msg
1336844868675: forwarding disabled, not forwarding packets
1336844868720: Received UDP payload: 3829
1336844868728: mux: GOT CSM_Msg
1336844868728: forwarding disabled, not forwarding packets
1336844869617: Received UDP payload: 642
1336844869622: mux: Inside mux Packet.CLIENT_REQUEST
1336844869668: Received UDP payload: 1006
1336844869675: mux: GOT CSM_Msg
1336844869676: forwarding disabled, not forwarding packets
1336844869677: Received UDP payload: 446
1336844869678: mux: Inside Packet.SERVER_REPLY
1336844869678: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844869734: inside sendPacket(Packet p)
1336844869735: Sending UDP payload: 446
1336844869764: Received UDP payload: 3829
1336844869766: mux: GOT CSM_Msg
1336844869767: forwarding disabled, not forwarding packets
1336844869812: Received UDP payload: 3482
1336844869813: mux: Inside Packet.SERVER_REPLY
1336844869813: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844869818: Received UDP payload: 446
1336844869850: Received UDP payload: 446
1336844869852: mux: Inside mux Packet.CLIENT_REQUEST
1336844870069: Received UDP payload: 446
1336844870617: Received UDP payload: 446
1336844872859: Received UDP payload: 446
1336844872894: Received UDP payload: 446
1336844874614: Received UDP payload: 1006
1336844874621: mux: GOT CSM_Msg
1336844874621: forwarding disabled, not forwarding packets
1336844874667: Received UDP payload: 3829
1336844874675: mux: GOT CSM_Msg
1336844874676: forwarding disabled, not forwarding packets
1336844874735: inside sendPacket(Packet p)
1336844874735: Sending UDP payload: 446
1336844874823: Received UDP payload: 446
1336844875049: Received UDP payload: 446
1336844875637: Received UDP payload: 446
1336844876733: Received UDP payload: 1006
1336844876740: mux: GOT CSM_Msg
1336844876740: forwarding disabled, not forwarding packets
1336844876776: Received UDP payload: 3829
1336844876783: mux: GOT CSM_Msg
1336844876783: forwarding disabled, not forwarding packets
1336844877872: Received UDP payload: 446
1336844877898: Received UDP payload: 446
1336844879735: inside sendPacket(Packet p)
1336844879738: Sending UDP payload: 446
1336844879830: Received UDP payload: 446
1336844880053: Received UDP payload: 446
1336844880211: Received UDP payload: 642
1336844880212: mux: Inside mux Packet.CLIENT_REQUEST
1336844880275: Received UDP payload: 1006
1336844880279: mux: GOT CSM_Msg
1336844880279: forwarding disabled, not forwarding packets
1336844880283: Received UDP payload: 446
1336844880287: mux: Inside Packet.SERVER_REPLY
1336844880287: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844880322: Received UDP payload: 3829
1336844880327: mux: GOT CSM_Msg
1336844880328: forwarding disabled, not forwarding packets
1336844880378: Received UDP payload: 3482
1336844880381: mux: Inside Packet.SERVER_REPLY
1336844880381: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844880391: Received UDP payload: 446
1336844880394: mux: Inside mux Packet.CLIENT_REQUEST
1336844880641: Received UDP payload: 446
1336844881007: Received UDP payload: 1006
1336844881014: mux: GOT CSM_Msg
1336844881014: forwarding disabled, not forwarding packets
1336844881096: Received UDP payload: 3829
1336844881102: mux: GOT CSM_Msg
1336844881102: forwarding disabled, not forwarding packets
1336844882808: Received UDP payload: 446
1336844882905: Received UDP payload: 446
1336844882960: canPressButton = TRUE
1336844882960: areButtonsEnabled --> false 
1336844882960: get picture disableButtonsR
1336844882960: areButtonsEnabled --> false
1336844882987: one more getNum: 9
1336844882987: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=8 getBad=0 getTimedout=0 getPercent=88%
1336844882988: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336844882988: change local requestCounter to 21
1336844882988: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010021 Client in region: 4 Client nodID: 5010
1336844883017: ----------------------------
1336844883017: inside sendRequestPacketRepeatingRunnable for requestCount = 5010021
1336844883018: I'm a leader, my requesting photos packet going to mux directly
1336844883024: --- Finished one round of sending REQUEST Packet ---------
1336844883018: mux: Inside mux Packet.CLIENT_REQUEST
1336844883018: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844883061: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844883018: inside handleClientRequest. Originator leader of region 4
1336844883018: got new request, requestCounter = 5010021
1336844883018: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844883019: Sending to region: 2
1336844883019: Sending PROC_REQUEST 11:2 (4,0)->(2,0)
1336844883020: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(2,0)
1336844883021: mux: I got a CSM packet at a leader 

1336844883020: Note down new request by adding requestCounter=5010021 to HashMap processedRequests
1336844883020: Make FirstLeg Ack regardless of new or already-processed requests
1336844883020: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844883023: Sending UDP payload: 1006
1336844883024: forwarding disabled, not forwarding packets
1336844883774: Retrying PROC_REQUEST 11:2 (4,0)->(2,0)
1336844883774: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(2,0)
1336844883775: mux: I got a CSM packet at a leader 

1336844883776: Sending UDP payload: 1006
1336844883778: forwarding disabled, not forwarding packets
1336844883848: Received UDP payload: 3829
1336844883864: mux: GOT CSM_Msg
1336844883887: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844883887: disabling progressdialog due to successful new photo get
1336844883887: Inside _enableButtons
1336844883888: areButtonsEnabled --> true
1336844883888: send final leg ack regardless of new or already-processed reply
1336844883888: inside finalLegAck: change requestCounter to 22
1336844883888: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010022 Client in region: (4,0) Client nodID: 5010
1336844883889: I'm a leader client, my final_leg packet going to mux directly
1336844883890: new client_show_remotephoto reply with replyCounter 501002100
1336844883891: note down new reply by adding replyCounter=501002100 to HashMap processedReplies
1336844883891: leader download remote photo latency = 869
1336844883891: = leader download start 1336844883018 ~ stop 1336844883887
1336844883894: one more getGood: 9
1336844883895: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=9 getBad=0 getTimedout=0 getPercent=100%
1336844883896: adding get latency: 869
1336844883896: Success! Client getting photo from remote region, showing photo...
1336844883897: Remote photo's length: 2801
1336844883865: Received PROC_REPLY 11:2 (2,0)->(4,0), handing to UserApp
1336844883865: inside handleDSMReply. Now back in originator leader of region 4
1336844883865: DSM layer: Going to and from remote region took latency = 846
1336844883865: DSM layer: orig leader sent packet at 1336844883019 ~ received reply from remote leader at 1336844883865
1336844883869: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844883869: leader client reply has replyCounter: 501002100
1336844883869: reply packet contains the newest photo/success info from the remote region
1336844883869: inside sendReplies of replyCount = 501002100
1336844883870: =======================
1336844883870: inside sendReplyRepeatingRunnable for replyCount = 501002100
1336844883870: Leader about to send REPLY packet, number: 501002100 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844883870: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844883870: === Finished one round of sending REPLY Packet =======
1336844883889: mux: Inside mux Packet.CLIENT_REQUEST
1336844883889: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844883889: inside handleClientRequest. Originator leader of region 4
1336844883889: got new request, requestCounter = 5010022
1336844883889: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501002100
1336844883890: Yay the last leg succeeded. Removing reply runnables ...
1336844883890: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501002100
1336844883890: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501002100
1336844883890: do not send ack for received final_leg_ack
1336844884526: Received UDP payload: 642
1336844884544: mux: Inside mux Packet.CLIENT_REQUEST
1336844884545: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844884545: inside handleClientRequest. Originator leader of region 4
1336844884546: got new request, requestCounter = 5009021
1336844884546: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844884567: Sending to region: 2
1336844884569: Sending PROC_REQUEST 11:3 (4,0)->(2,0)
1336844884570: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(2,0)
1336844884572: mux: I got a CSM packet at a leader 

1336844884570: Note down new request by adding requestCounter=5009021 to HashMap processedRequests
1336844884571: Make FirstLeg Ack regardless of new or already-processed requests
1336844884571: The leader sending a First Leg ack to originator client (which id = 5009)
1336844884571: inside sendPacket(Packet p)
1336844884591: Sending UDP payload: 1006
1336844884599: forwarding disabled, not forwarding packets
1336844884600: Sending UDP payload: 446
1336844884650: leader to cloud hearbeat...
1336844884708: Received UDP payload: 3829
1336844884711: mux: GOT CSM_Msg
1336844884712: Received PROC_REPLY 11:3 (2,0)->(4,0), handing to UserApp
1336844884712: inside handleDSMReply. Now back in originator leader of region 4
1336844884712: DSM layer: Going to and from remote region took latency = 144
1336844884712: DSM layer: orig leader sent packet at 1336844884568 ~ received reply from remote leader at 1336844884712
1336844884713: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844884713: leader client reply has replyCounter: 500902100
1336844884713: reply packet contains the newest photo/success info from the remote region
1336844884713: inside sendReplies of replyCount = 500902100
1336844884840: Received UDP payload: 446
1336844885056: Received UDP payload: 446
1336844885642: Received UDP payload: 446
1336844886777: =======================
1336844886793: inside sendReplyRepeatingRunnable for replyCount = 500902100
1336844886795: Leader about to send REPLY packet, number: 500902100 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844886796: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844886797: inside sendPacket(Packet p)
1336844886800: Sending UDP payload: 3482
1336844886804: === Finished one round of sending REPLY Packet =======
1336844886805: inside sendPacket(Packet p)
1336844886809: Sending UDP payload: 446
1336844886812: inside sendReplyTimeoutR
1336844886813: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500902100
1336844886887: Received UDP payload: 446
1336844886888: mux: Inside mux Packet.CLIENT_REQUEST
1336844886888: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844886889: inside handleClientRequest. Originator leader of region 4
1336844886889: got new request, requestCounter = 5009022
1336844886889: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500902100
1336844886889: Yay the last leg succeeded. Removing reply runnables ...
1336844886889: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500902100
1336844886889: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500902100
1336844886889: do not send ack for received final_leg_ack
1336844887857: Received UDP payload: 446
1336844887922: Received UDP payload: 446
1336844889868: Received UDP payload: 446
1336844890064: Received UDP payload: 446
1336844890652: Received UDP payload: 446
1336844891805: inside sendPacket(Packet p)
1336844891806: Sending UDP payload: 446
1336844892827: Received UDP payload: 446
1336844892971: Received UDP payload: 446
1336844894876: Received UDP payload: 446
1336844895653: Received UDP payload: 446
1336844896464: Received UDP payload: 642
1336844896469: mux: Inside mux Packet.CLIENT_REQUEST
1336844896502: Received UDP payload: 1006
1336844896520: mux: GOT CSM_Msg
1336844896521: forwarding disabled, not forwarding packets
1336844896522: Received UDP payload: 446
1336844896526: mux: Inside Packet.SERVER_REPLY
1336844896527: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844896579: Received UDP payload: 3734
1336844896581: mux: GOT CSM_Msg
1336844896581: forwarding disabled, not forwarding packets
1336844896625: Received UDP payload: 3387
1336844896627: mux: Inside Packet.SERVER_REPLY
1336844896627: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844896642: Received UDP payload: 446
1336844896644: mux: Inside mux Packet.CLIENT_REQUEST
1336844896784: Received UDP payload: 642
1336844896785: mux: Inside mux Packet.CLIENT_REQUEST
1336844896806: inside sendPacket(Packet p)
1336844896807: Sending UDP payload: 446
1336844896828: Received UDP payload: 1006
1336844896830: mux: GOT CSM_Msg
1336844896830: forwarding disabled, not forwarding packets
1336844896839: Received UDP payload: 446
1336844896841: mux: Inside Packet.SERVER_REPLY
1336844896841: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844896889: Received UDP payload: 3734
1336844896891: mux: GOT CSM_Msg
1336844896891: forwarding disabled, not forwarding packets
1336844896961: Received UDP payload: 3387
1336844896962: mux: Inside Packet.SERVER_REPLY
1336844896963: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844896975: Received UDP payload: 446
1336844896977: mux: Inside mux Packet.CLIENT_REQUEST
1336844897063: Received UDP payload: 446
1336844897304: Received UDP payload: 1006
1336844897309: mux: GOT CSM_Msg
1336844897310: forwarding disabled, not forwarding packets
1336844897391: Received UDP payload: 3734
1336844897394: mux: GOT CSM_Msg
1336844897394: forwarding disabled, not forwarding packets
1336844897832: Received UDP payload: 446
1336844897952: Received UDP payload: 446
1336844898115: Received UDP payload: 1006
1336844898123: mux: GOT CSM_Msg
1336844898124: forwarding disabled, not forwarding packets
1336844898194: Received UDP payload: 3734
1336844898201: mux: GOT CSM_Msg
1336844898201: forwarding disabled, not forwarding packets
1336844899884: Received UDP payload: 446
1336844900692: Received UDP payload: 446
1336844901807: inside sendPacket(Packet p)
1336844901810: Sending UDP payload: 446
1336844902068: Received UDP payload: 446
1336844902416: Received UDP payload: 1006
1336844902420: mux: GOT CSM_Msg
1336844902420: forwarding disabled, not forwarding packets
1336844902455: Received UDP payload: 3734
1336844902464: mux: GOT CSM_Msg
1336844902464: forwarding disabled, not forwarding packets
1336844902809: Received UDP payload: 446
1336844902940: Received UDP payload: 446
1336844904880: Received UDP payload: 446
1336844905667: Received UDP payload: 446
1336844905681: Received UDP payload: 1006
1336844905689: mux: GOT CSM_Msg
1336844905689: forwarding disabled, not forwarding packets
1336844905796: Received UDP payload: 3734
1336844905803: mux: GOT CSM_Msg
1336844905803: forwarding disabled, not forwarding packets
1336844906807: inside sendPacket(Packet p)
1336844906810: Sending UDP payload: 446
1336844907073: Received UDP payload: 446
1336844907814: Received UDP payload: 446
1336844907947: Received UDP payload: 446
1336844908132: Received UDP payload: 642
1336844908138: mux: Inside mux Packet.CLIENT_REQUEST
1336844908201: Received UDP payload: 1006
1336844908203: mux: GOT CSM_Msg
1336844908203: forwarding disabled, not forwarding packets
1336844908206: Received UDP payload: 446
1336844908207: mux: Inside Packet.SERVER_REPLY
1336844908207: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844908284: Received UDP payload: 3734
1336844908287: mux: GOT CSM_Msg
1336844908287: forwarding disabled, not forwarding packets
1336844908345: Received UDP payload: 3387
1336844908347: mux: Inside Packet.SERVER_REPLY
1336844908347: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844908362: Received UDP payload: 446
1336844908364: mux: Inside mux Packet.CLIENT_REQUEST
1336844909156: Received UDP payload: 1006
1336844909182: mux: GOT CSM_Msg
1336844909183: forwarding disabled, not forwarding packets
1336844909241: Received UDP payload: 3734
1336844909244: mux: GOT CSM_Msg
1336844909244: forwarding disabled, not forwarding packets
1336844909880: Received UDP payload: 446
1336844910666: Received UDP payload: 446
1336844911810: inside sendPacket(Packet p)
1336844911839: Sending UDP payload: 446
1336844911920: canPressButton = TRUE
1336844911921: areButtonsEnabled --> false 
1336844911921: get picture disableButtonsR
1336844911921: areButtonsEnabled --> false
1336844911948: one more getNum: 10
1336844911949: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=9 getBad=0 getTimedout=0 getPercent=90%
1336844911950: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336844911950: change local requestCounter to 23
1336844911958: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010023 Client in region: 4 Client nodID: 5010
1336844911998: ----------------------------
1336844911998: inside sendRequestPacketRepeatingRunnable for requestCount = 5010023
1336844911998: I'm a leader, my requesting photos packet going to mux directly
1336844912015: --- Finished one round of sending REQUEST Packet ---------
1336844911999: mux: Inside mux Packet.CLIENT_REQUEST
1336844911999: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844912070: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844911999: inside handleClientRequest. Originator leader of region 4
1336844911999: got new request, requestCounter = 5010023
1336844912000: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844912009: Sending to region: 3
1336844912010: Sending PROC_REQUEST 11:2 (4,0)->(3,0)
1336844912010: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(3,0)
1336844912011: mux: I got a CSM packet at a leader 

1336844912010: Note down new request by adding requestCounter=5010023 to HashMap processedRequests
1336844912011: Make FirstLeg Ack regardless of new or already-processed requests
1336844912011: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844912024: Sending UDP payload: 1006
1336844912025: forwarding disabled, not forwarding packets
1336844912075: Received UDP payload: 446
1336844912157: Received UDP payload: 3734
1336844912161: mux: GOT CSM_Msg
1336844912162: Received PROC_REPLY 11:2 (3,0)->(4,0), handing to UserApp
1336844912162: inside handleDSMReply. Now back in originator leader of region 4
1336844912162: DSM layer: Going to and from remote region took latency = 153
1336844912163: DSM layer: orig leader sent packet at 1336844912009 ~ received reply from remote leader at 1336844912162
1336844912167: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844912167: leader client reply has replyCounter: 501002300
1336844912167: reply packet contains the newest photo/success info from the remote region
1336844912167: inside sendReplies of replyCount = 501002300
1336844912168: =======================
1336844912168: inside sendReplyRepeatingRunnable for replyCount = 501002300
1336844912168: Leader about to send REPLY packet, number: 501002300 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844912185: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844912185: disabling progressdialog due to successful new photo get
1336844912185: Inside _enableButtons
1336844912186: areButtonsEnabled --> true
1336844912186: send final leg ack regardless of new or already-processed reply
1336844912186: inside finalLegAck: change requestCounter to 24
1336844912187: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010024 Client in region: (4,0) Client nodID: 5010
1336844912188: I'm a leader client, my final_leg packet going to mux directly
1336844912190: new client_show_remotephoto reply with replyCounter 501002300
1336844912190: note down new reply by adding replyCounter=501002300 to HashMap processedReplies
1336844912190: leader download remote photo latency = 186
1336844912191: = leader download start 1336844911999 ~ stop 1336844912185
1336844912193: one more getGood: 10
1336844912194: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=10 getBad=0 getTimedout=0 getPercent=100%
1336844912194: adding get latency: 186
1336844912198: Success! Client getting photo from remote region, showing photo...
1336844912199: Remote photo's length: 2706
1336844912171: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844912171: === Finished one round of sending REPLY Packet =======
1336844912188: mux: Inside mux Packet.CLIENT_REQUEST
1336844912188: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844912188: inside handleClientRequest. Originator leader of region 4
1336844912188: got new request, requestCounter = 5010024
1336844912189: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501002300
1336844912189: Yay the last leg succeeded. Removing reply runnables ...
1336844912189: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501002300
1336844912189: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501002300
1336844912189: do not send ack for received final_leg_ack
1336844913257: Received UDP payload: 642
1336844913274: mux: Inside mux Packet.CLIENT_REQUEST
1336844913274: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844913274: inside handleClientRequest. Originator leader of region 4
1336844913275: got new request, requestCounter = 5009023
1336844913275: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844913282: Sending to region: 3
1336844913300: Sending PROC_REQUEST 11:3 (4,0)->(3,0)
1336844913302: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(3,0)
1336844913313: mux: I got a CSM packet at a leader 

1336844913303: Note down new request by adding requestCounter=5009023 to HashMap processedRequests
1336844913303: Make FirstLeg Ack regardless of new or already-processed requests
1336844913304: The leader sending a First Leg ack to originator client (which id = 5009)
1336844913304: inside sendPacket(Packet p)
1336844913338: Sending UDP payload: 1006
1336844913339: forwarding disabled, not forwarding packets
1336844913340: Sending UDP payload: 446
1336844913403: Received UDP payload: 3734
1336844913406: mux: GOT CSM_Msg
1336844913406: Received PROC_REPLY 11:3 (3,0)->(4,0), handing to UserApp
1336844913407: inside handleDSMReply. Now back in originator leader of region 4
1336844913407: DSM layer: Going to and from remote region took latency = 125
1336844913407: DSM layer: orig leader sent packet at 1336844913282 ~ received reply from remote leader at 1336844913407
1336844913408: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844913408: leader client reply has replyCounter: 500902300
1336844913408: reply packet contains the newest photo/success info from the remote region
1336844913408: inside sendReplies of replyCount = 500902300
1336844913409: =======================
1336844913409: inside sendReplyRepeatingRunnable for replyCount = 500902300
1336844913409: Leader about to send REPLY packet, number: 500902300 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844913409: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844913409: inside sendPacket(Packet p)
1336844913409: === Finished one round of sending REPLY Packet =======
1336844913410: Sending UDP payload: 3387
1336844913466: Received UDP payload: 446
1336844913467: mux: Inside mux Packet.CLIENT_REQUEST
1336844913467: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844913467: inside handleClientRequest. Originator leader of region 4
1336844913468: got new request, requestCounter = 5009024
1336844913468: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500902300
1336844913468: Yay the last leg succeeded. Removing reply runnables ...
1336844913468: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500902300
1336844913468: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500902300
1336844913468: do not send ack for received final_leg_ack
1336844914821: Received UDP payload: 446
1336844914881: Received UDP payload: 446
1336844915672: Received UDP payload: 446
1336844916827: inside sendPacket(Packet p)
1336844916836: Sending UDP payload: 446
1336844917080: Received UDP payload: 446
1336844917859: Received UDP payload: 446
1336844919815: Received UDP payload: 446
1336844919894: Received UDP payload: 446
1336844920696: Received UDP payload: 446
1336844921839: inside sendPacket(Packet p)
1336844921849: Sending UDP payload: 446
1336844921989: Received UDP payload: 642
1336844921995: mux: Inside mux Packet.CLIENT_REQUEST
1336844922036: Received UDP payload: 1006
1336844922043: mux: GOT CSM_Msg
1336844922045: removed replies before id 2 from sentReplies of size 0
1336844922045: inside handleDSMRequest. At requests's remote leader of region 4
1336844922047: INSIDE SERVER_GET_PHOTO!!!
1336844922055: Received UDP payload: 446
1336844922066: mux: Inside Packet.SERVER_REPLY
1336844922066: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844922065: Received PROC_REQUEST 11:2 (0,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(0,0)
1336844922065: Dispatching Atom PROC_REPLY 11:2 (4,0)->(0,0)
1336844922066: mux: I got a CSM packet at a leader 

1336844922067: Sending UDP payload: 3813
1336844922068: forwarding disabled, not forwarding packets
1336844922071: Received UDP payload: 446
1336844922169: Received UDP payload: 3466
1336844922170: mux: Inside Packet.SERVER_REPLY
1336844922171: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844922185: Received UDP payload: 446
1336844922187: mux: Inside mux Packet.CLIENT_REQUEST
1336844922838: Received UDP payload: 446
1336844923114: Received UDP payload: 642
1336844923119: mux: Inside mux Packet.CLIENT_REQUEST
1336844923182: Received UDP payload: 1006
1336844923196: mux: GOT CSM_Msg
1336844923196: removed replies before id 3 from sentReplies of size 0
1336844923197: inside handleDSMRequest. At requests's remote leader of region 4
1336844923198: INSIDE SERVER_GET_PHOTO!!!
1336844923202: Received PROC_REQUEST 11:3 (1,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(1,0)
1336844923204: Dispatching Atom PROC_REPLY 11:3 (4,0)->(1,0)
1336844923205: mux: I got a CSM packet at a leader 

1336844923208: Received UDP payload: 446
1336844923223: Sending UDP payload: 3813
1336844923230: mux: Inside Packet.SERVER_REPLY
1336844923230: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844923229: forwarding disabled, not forwarding packets
1336844923912: Received UDP payload: 1006
1336844923919: mux: GOT CSM_Msg
1336844923920: removed replies before id 3 from sentReplies of size 1
1336844923922: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(1,0)
1336844923923: Dispatching Atom PROC_REPLY 11:3 (4,0)->(1,0)
1336844923924: mux: I got a CSM packet at a leader 

1336844923928: Sending UDP payload: 3813
1336844923946: forwarding disabled, not forwarding packets
1336844923995: Received UDP payload: 1006
1336844923997: mux: GOT CSM_Msg
1336844923997: removed replies before id 3 from sentReplies of size 0
1336844923997: inside handleDSMRequest. At requests's remote leader of region 4
1336844923998: INSIDE SERVER_GET_PHOTO!!!
1336844923999: Received PROC_REQUEST 11:3 (0,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(0,0)
1336844923999: Dispatching Atom PROC_REPLY 11:3 (4,0)->(0,0)
1336844924000: mux: I got a CSM packet at a leader 

1336844924001: Sending UDP payload: 3813
1336844924002: forwarding disabled, not forwarding packets
1336844924089: Received UDP payload: 446
1336844924091: mux: Inside mux Packet.CLIENT_REQUEST
1336844924104: Received UDP payload: 1006
1336844924107: mux: GOT CSM_Msg
1336844924107: removed replies before id 4 from sentReplies of size 0
1336844924107: inside handleDSMRequest. At requests's remote leader of region 4
1336844924108: INSIDE SERVER_GET_PHOTO!!!
1336844924110: Received PROC_REQUEST 11:4 (1,0)->(4,0), replying PROC_REPLY 11:4 (4,0)->(1,0)
1336844924111: Dispatching Atom PROC_REPLY 11:4 (4,0)->(1,0)
1336844924111: mux: I got a CSM packet at a leader 

1336844924113: Sending UDP payload: 3813
1336844924121: forwarding disabled, not forwarding packets
1336844924838: Received UDP payload: 446
1336844924895: Received UDP payload: 446
1336844925732: Received UDP payload: 446
1336844926850: inside sendPacket(Packet p)
1336844926865: Sending UDP payload: 446
1336844927073: Received UDP payload: 446
1336844927881: Received UDP payload: 446
1336844929824: Received UDP payload: 446
1336844929898: Received UDP payload: 446
1336844930706: Received UDP payload: 446
1336844931867: inside sendPacket(Packet p)
1336844931879: Sending UDP payload: 446
1336844931882: Received UDP payload: 1006
1336844931889: mux: GOT CSM_Msg
1336844931890: removed replies before id 1 from sentReplies of size 0
1336844931891: inside handleDSMRequest. At requests's remote leader of region 4
1336844931892: INSIDE SERVER_GET_PHOTO!!!
1336844931906: Received PROC_REQUEST 11:1 (2,0)->(4,0), replying PROC_REPLY 11:1 (4,0)->(2,0)
1336844931907: Dispatching Atom PROC_REPLY 11:1 (4,0)->(2,0)
1336844931908: mux: I got a CSM packet at a leader 

1336844931912: Sending UDP payload: 3813
1336844931926: forwarding disabled, not forwarding packets
1336844932072: Received UDP payload: 446
1336844932868: Received UDP payload: 446
1336844933624: Received UDP payload: 1006
1336844933630: mux: GOT CSM_Msg
1336844933631: removed replies before id 1 from sentReplies of size 0
1336844933632: inside handleDSMRequest. At requests's remote leader of region 4
1336844933648: INSIDE SERVER_GET_PHOTO!!!
1336844933653: Received PROC_REQUEST 11:1 (3,0)->(4,0), replying PROC_REPLY 11:1 (4,0)->(3,0)
1336844933654: Dispatching Atom PROC_REPLY 11:1 (4,0)->(3,0)
1336844933655: mux: I got a CSM packet at a leader 

1336844933659: Sending UDP payload: 3813
1336844933680: forwarding disabled, not forwarding packets
1336844934829: Received UDP payload: 446
1336844934898: Received UDP payload: 446
1336844935709: Received UDP payload: 446
1336844936891: inside sendPacket(Packet p)
1336844936900: Sending UDP payload: 446
1336844937078: Received UDP payload: 446
1336844937877: Received UDP payload: 446
1336844938505: canPressButton = TRUE
1336844938506: areButtonsEnabled --> false 
1336844938506: get picture disableButtonsR
1336844938507: areButtonsEnabled --> false
1336844938532: one more getNum: 11
1336844938533: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=10 getBad=0 getTimedout=0 getPercent=90%
1336844938533: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336844938533: change local requestCounter to 25
1336844938537: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010025 Client in region: 4 Client nodID: 5010
1336844938565: ----------------------------
1336844938566: inside sendRequestPacketRepeatingRunnable for requestCount = 5010025
1336844938566: I'm a leader, my requesting photos packet going to mux directly
1336844938599: --- Finished one round of sending REQUEST Packet ---------
1336844938566: mux: Inside mux Packet.CLIENT_REQUEST
1336844938566: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844938658: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844938566: inside handleClientRequest. Originator leader of region 4
1336844938567: got new request, requestCounter = 5010025
1336844938567: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844938567: Sending to region: 4
1336844938568: Sending PROC_REQUEST 11:6 (4,0)->(4,0)
1336844938568: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(4,0)
1336844938569: mux: I got a CSM packet at a leader 

1336844938568: Note down new request by adding requestCounter=5010025 to HashMap processedRequests
1336844938568: Make FirstLeg Ack regardless of new or already-processed requests
1336844938568: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844938571: Sending UDP payload: 1006
1336844938572: removed replies before id 6 from sentReplies of size 0
1336844938572: inside handleDSMRequest. At requests's remote leader of region 4
1336844938596: INSIDE SERVER_GET_PHOTO!!!
1336844938597: dst_region == src_region = 4
1336844938597:  1 self to self atomRequest
1336844938598: Received PROC_REQUEST 11:6 (4,0)->(4,0), replying PROC_REPLY 11:6 (4,0)->(4,0)
1336844938598: Dispatching Atom PROC_REPLY 11:6 (4,0)->(4,0)
1336844938598: mux: I got a CSM packet at a leader 

1336844938676: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844938677: disabling progressdialog due to successful new photo get
1336844938677: Inside _enableButtons
1336844938677: areButtonsEnabled --> true
1336844938677: send final leg ack regardless of new or already-processed reply
1336844938678: inside finalLegAck: change requestCounter to 26
1336844938678: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010026 Client in region: (4,0) Client nodID: 5010
1336844938678: I'm a leader client, my final_leg packet going to mux directly
1336844938679: new client_show_remotephoto reply with replyCounter 501002500
1336844938680: note down new reply by adding replyCounter=501002500 to HashMap processedReplies
1336844938680: leader download remote photo latency = 110
1336844938680: = leader download start 1336844938566 ~ stop 1336844938676
1336844938693: one more getGood: 11
1336844938694: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=11 getBad=0 getTimedout=0 getPercent=100%
1336844938694: adding get latency: 110
1336844938694: Success! Client getting photo from remote region, showing photo...
1336844938695: Remote photo's length: 2785
1336844938610: Sending UDP payload: 3813
1336844938611: Received PROC_REPLY 11:6 (4,0)->(4,0), handing to UserApp
1336844938612: inside handleDSMReply. Now back in originator leader of region 4
1336844938612: DSM layer: Going to and from remote region took latency = 44
1336844938612: DSM layer: orig leader sent packet at 1336844938568 ~ received reply from remote leader at 1336844938612
1336844938613: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844938613: leader client reply has replyCounter: 501002500
1336844938613: reply packet contains the newest photo/success info from the remote region
1336844938613: inside sendReplies of replyCount = 501002500
1336844938613: =======================
1336844938613: inside sendReplyRepeatingRunnable for replyCount = 501002500
1336844938614: Leader about to send REPLY packet, number: 501002500 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844938614: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844938614: === Finished one round of sending REPLY Packet =======
1336844938678: mux: Inside mux Packet.CLIENT_REQUEST
1336844938678: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844938679: inside handleClientRequest. Originator leader of region 4
1336844938679: got new request, requestCounter = 5010026
1336844938679: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501002500
1336844938679: Yay the last leg succeeded. Removing reply runnables ...
1336844938679: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501002500
1336844938679: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501002500
1336844938679: do not send ack for received final_leg_ack
1336844939712: Received UDP payload: 642
1336844939737: mux: Inside mux Packet.CLIENT_REQUEST
1336844939738: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844939738: inside handleClientRequest. Originator leader of region 4
1336844939738: got new request, requestCounter = 5009025
1336844939739: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844939762: Sending to region: 4
1336844939762: Sending PROC_REQUEST 11:7 (4,0)->(4,0)
1336844939763: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(4,0)
1336844939763: mux: I got a CSM packet at a leader 

1336844939763: Note down new request by adding requestCounter=5009025 to HashMap processedRequests
1336844939763: Make FirstLeg Ack regardless of new or already-processed requests
1336844939763: The leader sending a First Leg ack to originator client (which id = 5009)
1336844939763: inside sendPacket(Packet p)
1336844939770: Sending UDP payload: 1006
1336844939777: removed replies before id 7 from sentReplies of size 0
1336844939777: inside handleDSMRequest. At requests's remote leader of region 4
1336844939778: INSIDE SERVER_GET_PHOTO!!!
1336844939780: dst_region == src_region = 4
1336844939780:  1 self to self atomRequest
1336844939781: Received PROC_REQUEST 11:7 (4,0)->(4,0), replying PROC_REPLY 11:7 (4,0)->(4,0)
1336844939781: Dispatching Atom PROC_REPLY 11:7 (4,0)->(4,0)
1336844939793: mux: I got a CSM packet at a leader 

1336844939792: Sending UDP payload: 446
1336844939794: Sending UDP payload: 3813
1336844939796: Received PROC_REPLY 11:7 (4,0)->(4,0), handing to UserApp
1336844939796: inside handleDSMReply. Now back in originator leader of region 4
1336844939796: DSM layer: Going to and from remote region took latency = 34
1336844939796: DSM layer: orig leader sent packet at 1336844939762 ~ received reply from remote leader at 1336844939796
1336844939797: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844939797: leader client reply has replyCounter: 500902500
1336844939797: reply packet contains the newest photo/success info from the remote region
1336844939797: inside sendReplies of replyCount = 500902500
1336844939798: =======================
1336844939798: inside sendReplyRepeatingRunnable for replyCount = 500902500
1336844939798: Leader about to send REPLY packet, number: 500902500 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844939798: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844939798: inside sendPacket(Packet p)
1336844939798: === Finished one round of sending REPLY Packet =======
1336844939799: Sending UDP payload: 3466
1336844939844: Received UDP payload: 446
1336844939896: Received UDP payload: 446
1336844939900: Received UDP payload: 446
1336844939901: mux: Inside mux Packet.CLIENT_REQUEST
1336844939901: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844939902: inside handleClientRequest. Originator leader of region 4
1336844939902: got new request, requestCounter = 5009026
1336844939902: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500902500
1336844939902: Yay the last leg succeeded. Removing reply runnables ...
1336844939902: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500902500
1336844939902: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500902500
1336844939902: do not send ack for received final_leg_ack
1336844940367: Received UDP payload: 642
1336844940370: mux: Inside mux Packet.CLIENT_REQUEST
1336844940452: Received UDP payload: 1006
1336844940459: mux: GOT CSM_Msg
1336844940459: removed replies before id 2 from sentReplies of size 0
1336844940459: inside handleDSMRequest. At requests's remote leader of region 4
1336844940461: INSIDE SERVER_GET_PHOTO!!!
1336844940463: Received PROC_REQUEST 11:2 (5,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(5,0)
1336844940464: Dispatching Atom PROC_REPLY 11:2 (4,0)->(5,0)
1336844940464: mux: I got a CSM packet at a leader 

1336844940466: Sending UDP payload: 3813
1336844940475: forwarding disabled, not forwarding packets
1336844940648: Received UDP payload: 3466
1336844940650: mux: Inside Packet.SERVER_REPLY
1336844940651: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844940681: Received UDP payload: 446
1336844940684: mux: Inside mux Packet.CLIENT_REQUEST
1336844940709: Received UDP payload: 446
1336844941527: Received UDP payload: 1006
1336844941534: mux: GOT CSM_Msg
1336844941535: removed replies before id 3 from sentReplies of size 0
1336844941535: inside handleDSMRequest. At requests's remote leader of region 4
1336844941538: INSIDE SERVER_GET_PHOTO!!!
1336844941542: Received PROC_REQUEST 11:3 (5,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(5,0)
1336844941556: Dispatching Atom PROC_REPLY 11:3 (4,0)->(5,0)
1336844941557: mux: I got a CSM packet at a leader 

1336844941561: Sending UDP payload: 3813
1336844941572: forwarding disabled, not forwarding packets
1336844941902: inside sendPacket(Packet p)
1336844941904: Sending UDP payload: 446
1336844942074: Received UDP payload: 446
1336844942879: Received UDP payload: 446
1336844944827: Received UDP payload: 446
1336844944919: Received UDP payload: 446
1336844945727: Received UDP payload: 446
1336844946905: inside sendPacket(Packet p)
1336844946917: Sending UDP payload: 446
1336844947084: Received UDP payload: 446
1336844947930: Received UDP payload: 446
1336844949827: Received UDP payload: 446
1336844949916: Received UDP payload: 446
1336844950725: Received UDP payload: 446
1336844951919: inside sendPacket(Packet p)
1336844951935: Sending UDP payload: 446
1336844951958: Received UDP payload: 642
1336844951962: mux: Inside mux Packet.CLIENT_REQUEST
1336844952019: Received UDP payload: 1006
1336844952021: mux: GOT CSM_Msg
1336844952021: forwarding disabled, not forwarding packets
1336844952036: Received UDP payload: 446
1336844952038: mux: Inside Packet.SERVER_REPLY
1336844952038: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844952075: Received UDP payload: 3734
1336844952078: mux: GOT CSM_Msg
1336844952078: forwarding disabled, not forwarding packets
1336844952088: Received UDP payload: 446
1336844952122: Received UDP payload: 3387
1336844952124: mux: Inside Packet.SERVER_REPLY
1336844952124: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844952158: Received UDP payload: 446
1336844952160: mux: Inside mux Packet.CLIENT_REQUEST
1336844952876: Received UDP payload: 446
1336844953148: Received UDP payload: 1006
1336844953156: mux: GOT CSM_Msg
1336844953156: forwarding disabled, not forwarding packets
1336844953224: Received UDP payload: 3734
1336844953226: mux: GOT CSM_Msg
1336844953226: forwarding disabled, not forwarding packets
1336844954833: Received UDP payload: 446
1336844954936: Received UDP payload: 446
1336844955738: Received UDP payload: 446
1336844956827: Received UDP payload: 1006
1336844956837: mux: GOT CSM_Msg
1336844956838: forwarding disabled, not forwarding packets
1336844956912: Received UDP payload: 3734
1336844956914: mux: GOT CSM_Msg
1336844956914: forwarding disabled, not forwarding packets
1336844956938: inside sendPacket(Packet p)
1336844956939: Sending UDP payload: 446
1336844957091: Received UDP payload: 446
1336844957896: Received UDP payload: 642
1336844957901: mux: Inside mux Packet.CLIENT_REQUEST
1336844957910: Received UDP payload: 446
1336844957931: Received UDP payload: 1006
1336844957939: mux: GOT CSM_Msg
1336844957940: forwarding disabled, not forwarding packets
1336844957940: Received UDP payload: 446
1336844957952: mux: Inside Packet.SERVER_REPLY
1336844957953: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844958008: Received UDP payload: 3734
1336844958010: mux: GOT CSM_Msg
1336844958010: forwarding disabled, not forwarding packets
1336844958063: Received UDP payload: 3387
1336844958065: mux: Inside Packet.SERVER_REPLY
1336844958065: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844958099: Received UDP payload: 446
1336844958100: mux: Inside mux Packet.CLIENT_REQUEST
1336844959835: Received UDP payload: 446
1336844959940: Received UDP payload: 446
1336844960744: Received UDP payload: 446
1336844961584: Received UDP payload: 1006
1336844961591: mux: GOT CSM_Msg
1336844961591: forwarding disabled, not forwarding packets
1336844961664: Received UDP payload: 3734
1336844961670: mux: GOT CSM_Msg
1336844961670: forwarding disabled, not forwarding packets
1336844961939: inside sendPacket(Packet p)
1336844961942: Sending UDP payload: 446
1336844962095: Received UDP payload: 446
1336844962782: Received UDP payload: 1006
1336844962791: mux: GOT CSM_Msg
1336844962792: forwarding disabled, not forwarding packets
1336844962850: Received UDP payload: 3734
1336844962852: mux: GOT CSM_Msg
1336844962852: forwarding disabled, not forwarding packets
1336844962901: Received UDP payload: 446
1336844964854: Received UDP payload: 446
1336844964954: Received UDP payload: 446
1336844965746: Received UDP payload: 446
1336844966942: inside sendPacket(Packet p)
1336844966956: Sending UDP payload: 446
1336844967097: Received UDP payload: 446
1336844967903: Received UDP payload: 446
1336844969420: canPressButton = TRUE
1336844969420: areButtonsEnabled --> false 
1336844969420: get picture disableButtonsR
1336844969421: areButtonsEnabled --> false
1336844969458: one more getNum: 12
1336844969460: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=11 getBad=0 getTimedout=0 getPercent=91%
1336844969461: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336844969461: change local requestCounter to 27
1336844969465: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010027 Client in region: 4 Client nodID: 5010
1336844969511: ----------------------------
1336844969512: inside sendRequestPacketRepeatingRunnable for requestCount = 5010027
1336844969512: I'm a leader, my requesting photos packet going to mux directly
1336844969512: --- Finished one round of sending REQUEST Packet ---------
1336844969512: mux: Inside mux Packet.CLIENT_REQUEST
1336844969512: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844969542: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844969512: inside handleClientRequest. Originator leader of region 4
1336844969513: got new request, requestCounter = 5010027
1336844969513: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844969517: Sending to region: 5
1336844969520: Sending PROC_REQUEST 11:2 (4,0)->(5,0)
1336844969522: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(5,0)
1336844969522: mux: I got a CSM packet at a leader 

1336844969522: Note down new request by adding requestCounter=5010027 to HashMap processedRequests
1336844969522: Make FirstLeg Ack regardless of new or already-processed requests
1336844969522: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336844969538: Sending UDP payload: 1006
1336844969538: forwarding disabled, not forwarding packets
1336844969641: Received UDP payload: 3734
1336844969647: mux: GOT CSM_Msg
1336844969648: Received PROC_REPLY 11:2 (5,0)->(4,0), handing to UserApp
1336844969648: inside handleDSMReply. Now back in originator leader of region 4
1336844969648: DSM layer: Going to and from remote region took latency = 131
1336844969648: DSM layer: orig leader sent packet at 1336844969517 ~ received reply from remote leader at 1336844969648
1336844969649: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844969649: leader client reply has replyCounter: 501002700
1336844969650: reply packet contains the newest photo/success info from the remote region
1336844969650: inside sendReplies of replyCount = 501002700
1336844969650: =======================
1336844969650: inside sendReplyRepeatingRunnable for replyCount = 501002700
1336844969653: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844969654: disabling progressdialog due to successful new photo get
1336844969654: Inside _enableButtons
1336844969654: areButtonsEnabled --> true
1336844969655: send final leg ack regardless of new or already-processed reply
1336844969655: inside finalLegAck: change requestCounter to 28
1336844969656: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010028 Client in region: (4,0) Client nodID: 5010
1336844969656: I'm a leader client, my final_leg packet going to mux directly
1336844969659: new client_show_remotephoto reply with replyCounter 501002700
1336844969659: note down new reply by adding replyCounter=501002700 to HashMap processedReplies
1336844969659: leader download remote photo latency = 141
1336844969660: = leader download start 1336844969512 ~ stop 1336844969653
1336844969663: one more getGood: 12
1336844969664: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336844969665: adding get latency: 141
1336844969665: Success! Client getting photo from remote region, showing photo...
1336844969666: Remote photo's length: 2706
1336844969650: Leader about to send REPLY packet, number: 501002700 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336844969651: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336844969651: === Finished one round of sending REPLY Packet =======
1336844969656: mux: Inside mux Packet.CLIENT_REQUEST
1336844969656: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844969656: inside handleClientRequest. Originator leader of region 4
1336844969657: got new request, requestCounter = 5010028
1336844969657: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501002700
1336844969657: Yay the last leg succeeded. Removing reply runnables ...
1336844969657: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501002700
1336844969657: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501002700
1336844969657: do not send ack for received final_leg_ack
1336844969858: Received UDP payload: 446
1336844970689: Received UDP payload: 642
1336844970697: mux: Inside mux Packet.CLIENT_REQUEST
1336844970697: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844970698: inside handleClientRequest. Originator leader of region 4
1336844970698: got new request, requestCounter = 5009027
1336844970699: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844970718: Sending to region: 5
1336844970726: Sending PROC_REQUEST 11:3 (4,0)->(5,0)
1336844970727: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(5,0)
1336844970735: mux: I got a CSM packet at a leader 

1336844970727: Note down new request by adding requestCounter=5009027 to HashMap processedRequests
1336844970728: Make FirstLeg Ack regardless of new or already-processed requests
1336844970728: The leader sending a First Leg ack to originator client (which id = 5009)
1336844970734: inside sendPacket(Packet p)
1336844970752: Sending UDP payload: 1006
1336844970756: forwarding disabled, not forwarding packets
1336844970757: Sending UDP payload: 446
1336844970836: Received UDP payload: 3734
1336844970840: mux: GOT CSM_Msg
1336844970840: Received PROC_REPLY 11:3 (5,0)->(4,0), handing to UserApp
1336844970840: inside handleDSMReply. Now back in originator leader of region 4
1336844970840: DSM layer: Going to and from remote region took latency = 116
1336844970840: DSM layer: orig leader sent packet at 1336844970724 ~ received reply from remote leader at 1336844970840
1336844970841: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844970842: leader client reply has replyCounter: 500902700
1336844970842: reply packet contains the newest photo/success info from the remote region
1336844970842: inside sendReplies of replyCount = 500902700
1336844970842: =======================
1336844970842: inside sendReplyRepeatingRunnable for replyCount = 500902700
1336844970842: Leader about to send REPLY packet, number: 500902700 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336844970842: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336844970843: inside sendPacket(Packet p)
1336844970843: === Finished one round of sending REPLY Packet =======
1336844970844: Sending UDP payload: 3387
1336844970911: Received UDP payload: 446
1336844970912: mux: Inside mux Packet.CLIENT_REQUEST
1336844970912: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844970913: inside handleClientRequest. Originator leader of region 4
1336844970913: got new request, requestCounter = 5009028
1336844970913: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500902700
1336844970913: Yay the last leg succeeded. Removing reply runnables ...
1336844970913: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500902700
1336844970914: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500902700
1336844970914: do not send ack for received final_leg_ack
1336844971450: Received UDP payload: 642
1336844971456: mux: Inside mux Packet.CLIENT_REQUEST
1336844971526: Received UDP payload: 1006
1336844971528: mux: GOT CSM_Msg
1336844971528: forwarding disabled, not forwarding packets
1336844971564: Received UDP payload: 446
1336844971565: mux: Inside Packet.SERVER_REPLY
1336844971565: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844971608: Received UDP payload: 3734
1336844971610: mux: GOT CSM_Msg
1336844971610: forwarding disabled, not forwarding packets
1336844971649: Received UDP payload: 3387
1336844971651: mux: Inside Packet.SERVER_REPLY
1336844971651: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336844971662: Received UDP payload: 446
1336844971664: mux: Inside mux Packet.CLIENT_REQUEST
1336844971958: inside sendPacket(Packet p)
1336844971959: Sending UDP payload: 446
1336844972097: Received UDP payload: 446
1336844972429: Received UDP payload: 1006
1336844972437: mux: GOT CSM_Msg
1336844972437: forwarding disabled, not forwarding packets
1336844972480: Received UDP payload: 3734
1336844972486: mux: GOT CSM_Msg
1336844972486: forwarding disabled, not forwarding packets
1336844972751: Received UDP payload: 446
1336844974828: Received UDP payload: 446
1336844974876: Received UDP payload: 446
1336844974976: Received UDP payload: 446
1336844976959: inside sendPacket(Packet p)
1336844976976: Sending UDP payload: 446
1336844977106: Received UDP payload: 446
1336844977806: Received UDP payload: 446
1336844979860: Received UDP payload: 446
1336844979892: Received UDP payload: 446
1336844979980: Received UDP payload: 446
1336844981978: inside sendPacket(Packet p)
1336844981986: Sending UDP payload: 446
1336844982118: Received UDP payload: 446
1336844982771: Received UDP payload: 446
1336844984827: Received UDP payload: 446
1336844984879: Received UDP payload: 446
1336844985034: Received UDP payload: 446
1336844986989: inside sendPacket(Packet p)
1336844987006: Sending UDP payload: 446
1336844987164: Received UDP payload: 446
1336844987791: Received UDP payload: 446
1336844989840: Received UDP payload: 446
1336844989874: Received UDP payload: 446
1336844992008: inside sendPacket(Packet p)
1336844992022: Received UDP payload: 446
1336844992029: Sending UDP payload: 446
1336844992117: Received UDP payload: 446
1336844992811: Received UDP payload: 446
1336844994840: Received UDP payload: 446
1336844994874: Received UDP payload: 446
1336844997025: Received UDP payload: 446
1336844997032: inside sendPacket(Packet p)
1336844997048: Sending UDP payload: 446
1336844997117: Received UDP payload: 446
1336844997823: Received UDP payload: 446
1336844999845: Received UDP payload: 446
1336844999877: Received UDP payload: 446
1336845002033: Received UDP payload: 446
1336845002050: inside sendPacket(Packet p)
1336845002066: Sending UDP payload: 446
1336845002120: Received UDP payload: 446
1336845002881: Received UDP payload: 446
1336845003524: Received UDP payload: 3516
1336845003530: mux: Inside mux Packet.CLIENT_REQUEST
1336845003600: Received UDP payload: 3401
1336845003605: mux: Inside mux Packet.CLIENT_REQUEST
1336845003649: Received UDP payload: 3765
1336845003656: mux: GOT CSM_Msg
1336845003657: forwarding disabled, not forwarding packets
1336845003672: Received UDP payload: 446
1336845003676: mux: Inside Packet.SERVER_REPLY
1336845003677: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845003677: Received UDP payload: 1006
1336845003694: mux: GOT CSM_Msg
1336845003694: forwarding disabled, not forwarding packets
1336845003697: Received UDP payload: 659
1336845003698: mux: Inside Packet.SERVER_REPLY
1336845003699: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845003721: Received UDP payload: 446
1336845003723: mux: Inside mux Packet.CLIENT_REQUEST
1336845003734: Received UDP payload: 3880
1336845003736: mux: GOT CSM_Msg
1336845003736: forwarding disabled, not forwarding packets
1336845003741: Received UDP payload: 446
1336845003742: mux: Inside Packet.SERVER_REPLY
1336845003742: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845003771: Received UDP payload: 1006
1336845003773: mux: GOT CSM_Msg
1336845003774: forwarding disabled, not forwarding packets
1336845003779: Received UDP payload: 659
1336845003781: mux: Inside Packet.SERVER_REPLY
1336845003781: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845003976: Received UDP payload: 659
1336845003978: mux: Inside Packet.SERVER_REPLY
1336845003978: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845003998: Received UDP payload: 446
1336845003999: mux: Inside mux Packet.CLIENT_REQUEST
1336845004007: Received UDP payload: 3734
1336845004008: mux: GOT CSM_Msg
1336845004009: forwarding disabled, not forwarding packets
1336845004020: Received UDP payload: 1006
1336845004022: mux: GOT CSM_Msg
1336845004023: forwarding disabled, not forwarding packets
1336845004755: Received UDP payload: 3814
1336845004761: mux: GOT CSM_Msg
1336845004762: forwarding disabled, not forwarding packets
1336845004789: Received UDP payload: 1006
1336845004791: mux: GOT CSM_Msg
1336845004791: forwarding disabled, not forwarding packets
1336845004831: Received UDP payload: 446
1336845004879: Received UDP payload: 446
1336845006778: leader to cloud hearbeat...
1336845007142: Received UDP payload: 446
1336845007157: Received UDP payload: 446
1336845007887: Received UDP payload: 446
1336845008788: inside sendPacket(Packet p)
1336845008805: Sending UDP payload: 446
1336845009833: Received UDP payload: 446
1336845009915: Received UDP payload: 446
1336845010358: Received UDP payload: 3734
1336845010376: mux: GOT CSM_Msg
1336845010377: forwarding disabled, not forwarding packets
1336845010393: Received UDP payload: 1006
1336845010400: mux: GOT CSM_Msg
1336845010401: forwarding disabled, not forwarding packets
1336845012047: Received UDP payload: 446
1336845012120: Received UDP payload: 446
1336845012832: Received UDP payload: 446
1336845013050: Received UDP payload: 3826
1336845013055: mux: GOT CSM_Msg
1336845013055: forwarding disabled, not forwarding packets
1336845013074: Received UDP payload: 1006
1336845013144: mux: GOT CSM_Msg
1336845013144: forwarding disabled, not forwarding packets
1336845013805: inside sendPacket(Packet p)
1336845013807: Sending UDP payload: 446
1336845014842: Received UDP payload: 446
1336845014879: Received UDP payload: 446
1336845016101: Received UDP payload: 3370
1336845016107: mux: Inside mux Packet.CLIENT_REQUEST
1336845016163: Received UDP payload: 3734
1336845016170: mux: GOT CSM_Msg
1336845016171: forwarding disabled, not forwarding packets
1336845016188: Received UDP payload: 446
1336845016192: mux: Inside Packet.SERVER_REPLY
1336845016193: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845016193: Received UDP payload: 1006
1336845016218: mux: GOT CSM_Msg
1336845016219: forwarding disabled, not forwarding packets
1336845016245: Received UDP payload: 659
1336845016250: mux: Inside Packet.SERVER_REPLY
1336845016250: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845016264: Received UDP payload: 446
1336845016268: mux: Inside mux Packet.CLIENT_REQUEST
1336845017018: Received UDP payload: 3734
1336845017026: mux: GOT CSM_Msg
1336845017027: forwarding disabled, not forwarding packets
1336845017028: Received UDP payload: 1006
1336845017047: mux: GOT CSM_Msg
1336845017048: forwarding disabled, not forwarding packets
1336845017057: Received UDP payload: 446
1336845017286: canPressButton = TRUE
1336845017287: areButtonsEnabled --> false
1336845017287: disabling buttons ...
1336845017287: took picture disableButtonsR
1336845017287: areButtonsEnabled --> false
1336845017313: one more takeNum: 3
1336845017314: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336845017314: Clicked take picture button ..
1336845017835: Received UDP payload: 446
1336845018633: inside HandlePictureStorage onPictureTaken()
1336845018633: one more takeCamGood: 3
1336845018634: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336845019121: Picture successfully taken, ORIG BYTE LENGTH = 2217605
1336845019496: Our new height x width: 306 x 408
1336845019497: Show photo from handle my camera take
1336845019497: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336845019498: change local requestCounter to 29
1336845019528: BYTE SIZE AFTER COMPRESSION: 2776
1336845019540: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5010029 Client in region: 4 Client nodID: 5010
1336845018807: inside sendPacket(Packet p)
1336845018812: Sending UDP payload: 446
1336845019180: Received UDP payload: 446
1336845019602: ----------------------------
1336845019602: inside sendRequestPacketRepeatingRunnable for requestCount = 5010029
1336845019603: I'm a leader, my requesting photos packet going to mux directly
1336845019613: --- Finished one round of sending REQUEST Packet ---------
1336845019603: mux: Inside mux Packet.CLIENT_REQUEST
1336845019604: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845019654: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845019604: inside handleClientRequest. Originator leader of region 4
1336845019604: got new request, requestCounter = 5010029
1336845019604: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845019605: Sending PROC_REQUEST 10:8 (4,0)->(4,0)
1336845019606: Dispatching Atom PROC_REQUEST 10:8 (4,0)->(4,0)
1336845019607: mux: I got a CSM packet at a leader 

1336845019655: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845019656: I'm a leader and I successfully saved my client's new photo
1336845019658: now showing in UI the new photo I just saved ... 
1336845019659: the photo length: 2776
1336845019694: end of server show photo aside %%%%%%%%%
1336845019606: Note down new request by adding requestCounter=5010029 to HashMap processedRequests
1336845019606: Make FirstLeg Ack regardless of new or already-processed requests
1336845019606: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845019630: Sending UDP payload: 3804
1336845019631: removed replies before id 8 from sentReplies of size 0
1336845019631: inside handleDSMRequest. At requests's remote leader of region 4
1336845019639: Inside UPLOAD_PHOTO!!
1336845019642: my_gpinfo.isSuccess is now (should be true): true
1336845019642: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845019643: Received PROC_REQUEST 10:8 (4,0)->(4,0), replying PROC_REPLY 10:8 (4,0)->(4,0)
1336845019644: Dispatching Atom PROC_REPLY 10:8 (4,0)->(4,0)
1336845019644: mux: I got a CSM packet at a leader 

1336845019695: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336845019695: disabling progressdialog due to successful new photo upload
1336845019695: Inside _enableButtons
1336845019696: areButtonsEnabled --> true
1336845019696: send final leg ack regardless of new or already-processed reply
1336845019696: inside finalLegAck: change requestCounter to 30
1336845019697: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010030 Client in region: (4,0) Client nodID: 5010
1336845019697: I'm a leader client, my final_leg packet going to mux directly
1336845019698: new client_upload_photo_ack reply with replyCounter 501002900
1336845019699: note down new reply by adding replyCounter=501002900 to HashMap processedReplies
1336845019699: leader upload new photo latency = 92
1336845019699: = leader upload start 1336845019603 ~ stop 1336845019695
1336845019700: one more takeGoodSave: 3
1336845019701: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336845019701: adding take latency: 92
1336845019701: SUCCESS Client now knows saving photo on its leader succeeded
1336845019645: Sending UDP payload: 1006
1336845019650: Received PROC_REPLY 10:8 (4,0)->(4,0), handing to UserApp
1336845019650: inside handleDSMReply. Now back in originator leader of region 4
1336845019650: DSM layer: Going to and from remote region took latency = 46
1336845019651: DSM layer: orig leader sent packet at 1336845019604 ~ received reply from remote leader at 1336845019650
1336845019651: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845019651: leader client reply has replyCounter: 501002900
1336845019651: reply packet contains the success info for UPLOAD_PHOTO
1336845019652: inside sendReplies of replyCount = 501002900
1336845019652: =======================
1336845019652: inside sendReplyRepeatingRunnable for replyCount = 501002900
1336845019652: Leader about to send REPLY packet, number: 501002900 type: 16 Leader in region: (4,0) to Client nodID: 5010
1336845019652: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845019652: === Finished one round of sending REPLY Packet =======
1336845019697: mux: Inside mux Packet.CLIENT_REQUEST
1336845019697: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845019697: inside handleClientRequest. Originator leader of region 4
1336845019698: got new request, requestCounter = 5010030
1336845019698: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501002900
1336845019698: Yay the last leg succeeded. Removing reply runnables ...
1336845019698: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501002900
1336845019698: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501002900
1336845019698: do not send ack for received final_leg_ack
1336845019836: Received UDP payload: 446
1336845019885: Received UDP payload: 446
1336845020459: Received UDP payload: 3448
1336845020462: mux: Inside mux Packet.CLIENT_REQUEST
1336845020462: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845020462: inside handleClientRequest. Originator leader of region 4
1336845020462: got new request, requestCounter = 5009029
1336845020463: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845020463: Sending PROC_REQUEST 10:9 (4,0)->(4,0)
1336845020464: Dispatching Atom PROC_REQUEST 10:9 (4,0)->(4,0)
1336845020464: mux: I got a CSM packet at a leader 

1336845020474: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845020477: I'm a leader and I successfully saved my client's new photo
1336845020478: now showing in UI the new photo I just saved ... 
1336845020478: the photo length: 2784
1336845020539: end of server show photo aside %%%%%%%%%
1336845020464: Note down new request by adding requestCounter=5009029 to HashMap processedRequests
1336845020464: Make FirstLeg Ack regardless of new or already-processed requests
1336845020464: The leader sending a First Leg ack to originator client (which id = 5009)
1336845020464: inside sendPacket(Packet p)
1336845020466: Sending UDP payload: 3812
1336845020468: removed replies before id 9 from sentReplies of size 0
1336845020468: inside handleDSMRequest. At requests's remote leader of region 4
1336845020469: Inside UPLOAD_PHOTO!!
1336845020470: my_gpinfo.isSuccess is now (should be true): true
1336845020471: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845020472: Received PROC_REQUEST 10:9 (4,0)->(4,0), replying PROC_REPLY 10:9 (4,0)->(4,0)
1336845020472: Dispatching Atom PROC_REPLY 10:9 (4,0)->(4,0)
1336845020516: mux: I got a CSM packet at a leader 

1336845020475: Sending UDP payload: 446
1336845020532: Sending UDP payload: 1006
1336845020533: Received PROC_REPLY 10:9 (4,0)->(4,0), handing to UserApp
1336845020534: inside handleDSMReply. Now back in originator leader of region 4
1336845020534: DSM layer: Going to and from remote region took latency = 71
1336845020534: DSM layer: orig leader sent packet at 1336845020463 ~ received reply from remote leader at 1336845020534
1336845020536: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845020536: leader client reply has replyCounter: 500902900
1336845020537: reply packet contains the success info for UPLOAD_PHOTO
1336845020537: inside sendReplies of replyCount = 500902900
1336845020537: =======================
1336845020537: inside sendReplyRepeatingRunnable for replyCount = 500902900
1336845020537: Leader about to send REPLY packet, number: 500902900 type: 16 Leader in region: (4,0) to Client nodID: 5009
1336845020538: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845020538: inside sendPacket(Packet p)
1336845020538: === Finished one round of sending REPLY Packet =======
1336845020550: Sending UDP payload: 659
1336845020576: Received UDP payload: 446
1336845020579: mux: Inside mux Packet.CLIENT_REQUEST
1336845020579: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845020580: inside handleClientRequest. Originator leader of region 4
1336845020580: got new request, requestCounter = 5009030
1336845020580: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500902900
1336845020580: Yay the last leg succeeded. Removing reply runnables ...
1336845020580: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500902900
1336845020580: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500902900
1336845020580: do not send ack for received final_leg_ack
1336845022040: Received UDP payload: 446
1336845022859: Received UDP payload: 446
1336845023807: inside sendPacket(Packet p)
1336845023810: Sending UDP payload: 446
1336845024179: Received UDP payload: 446
1336845024839: Received UDP payload: 446
1336845024878: Received UDP payload: 446
1336845027064: Received UDP payload: 446
1336845027868: Received UDP payload: 446
1336845028808: inside sendPacket(Packet p)
1336845028812: Sending UDP payload: 446
1336845029185: Received UDP payload: 446
1336845029840: Received UDP payload: 446
1336845029878: Received UDP payload: 446
1336845032070: Received UDP payload: 446
1336845032872: Received UDP payload: 446
1336845033810: inside sendPacket(Packet p)
1336845033824: Sending UDP payload: 446
1336845034181: Received UDP payload: 446
1336845034844: Received UDP payload: 446
1336845036965: Received UDP payload: 446
1336845037085: Received UDP payload: 446
1336845037889: Received UDP payload: 446
1336845038811: inside sendPacket(Packet p)
1336845038826: Sending UDP payload: 446
1336845039223: Received UDP payload: 446
1336845039841: Received UDP payload: 446
1336845041985: Received UDP payload: 446
1336845042088: Received UDP payload: 446
1336845042889: Received UDP payload: 446
1336845043824: inside sendPacket(Packet p)
1336845043827: Sending UDP payload: 446
1336845044191: Received UDP payload: 446
1336845044843: Received UDP payload: 446
1336845046974: Received UDP payload: 446
1336845047095: Received UDP payload: 446
1336845047903: Received UDP payload: 446
1336845048826: inside sendPacket(Packet p)
1336845048829: Sending UDP payload: 446
1336845049185: Received UDP payload: 446
1336845049844: Received UDP payload: 446
1336845051972: Received UDP payload: 446
1336845052110: Received UDP payload: 446
1336845052912: Received UDP payload: 446
1336845053826: inside sendPacket(Packet p)
1336845053829: Sending UDP payload: 446
1336845054194: Received UDP payload: 446
1336845054845: Received UDP payload: 446
1336845057044: Received UDP payload: 446
1336845057148: Received UDP payload: 446
1336845057961: Received UDP payload: 446
1336845058614: Received UDP payload: 642
1336845058620: mux: Inside mux Packet.CLIENT_REQUEST
1336845058699: Received UDP payload: 1006
1336845058709: mux: GOT CSM_Msg
1336845058709: forwarding disabled, not forwarding packets
1336845058714: Received UDP payload: 446
1336845058722: mux: Inside Packet.SERVER_REPLY
1336845058722: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845058757: Received UDP payload: 3814
1336845058766: mux: GOT CSM_Msg
1336845058766: forwarding disabled, not forwarding packets
1336845058794: Received UDP payload: 3467
1336845058795: mux: Inside Packet.SERVER_REPLY
1336845058795: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845058813: Received UDP payload: 446
1336845058815: mux: Inside mux Packet.CLIENT_REQUEST
1336845058827: inside sendPacket(Packet p)
1336845058828: Sending UDP payload: 446
1336845059191: Received UDP payload: 446
1336845059277: Received UDP payload: 1006
1336845059279: mux: GOT CSM_Msg
1336845059279: forwarding disabled, not forwarding packets
1336845059378: Received UDP payload: 3814
1336845059385: mux: GOT CSM_Msg
1336845059386: forwarding disabled, not forwarding packets
1336845059846: Received UDP payload: 446
1336845060037: Received UDP payload: 1006
1336845060046: mux: GOT CSM_Msg
1336845060046: forwarding disabled, not forwarding packets
1336845060089: Received UDP payload: 3814
1336845060091: mux: GOT CSM_Msg
1336845060091: forwarding disabled, not forwarding packets
1336845060333: Received UDP payload: 642
1336845060334: mux: Inside mux Packet.CLIENT_REQUEST
1336845060351: Received UDP payload: 1006
1336845060353: mux: GOT CSM_Msg
1336845060353: forwarding disabled, not forwarding packets
1336845060361: Received UDP payload: 446
1336845060362: mux: Inside Packet.SERVER_REPLY
1336845060363: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845060433: Received UDP payload: 3814
1336845060435: mux: GOT CSM_Msg
1336845060435: forwarding disabled, not forwarding packets
1336845060495: Received UDP payload: 3467
1336845060496: mux: Inside Packet.SERVER_REPLY
1336845060496: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845060537: Received UDP payload: 446
1336845060538: mux: Inside mux Packet.CLIENT_REQUEST
1336845061988: Received UDP payload: 446
1336845062122: Received UDP payload: 446
1336845062909: Received UDP payload: 446
1336845063827: inside sendPacket(Packet p)
1336845063830: Sending UDP payload: 446
1336845064224: Received UDP payload: 446
1336845064854: Received UDP payload: 446
1336845065142: Received UDP payload: 1006
1336845065144: mux: GOT CSM_Msg
1336845065144: forwarding disabled, not forwarding packets
1336845065231: Received UDP payload: 3814
1336845065237: mux: GOT CSM_Msg
1336845065238: forwarding disabled, not forwarding packets
1336845066995: Received UDP payload: 446
1336845067143: Received UDP payload: 446
1336845067996: Received UDP payload: 446
1336845068828: inside sendPacket(Packet p)
1336845068846: Sending UDP payload: 446
1336845069196: Received UDP payload: 446
1336845069394: Received UDP payload: 1006
1336845069401: mux: GOT CSM_Msg
1336845069401: forwarding disabled, not forwarding packets
1336845069472: Received UDP payload: 3814
1336845069474: mux: GOT CSM_Msg
1336845069474: forwarding disabled, not forwarding packets
1336845069867: Received UDP payload: 446
1336845070804: Received UDP payload: 642
1336845070809: mux: Inside mux Packet.CLIENT_REQUEST
1336845070870: Received UDP payload: 1006
1336845070879: mux: GOT CSM_Msg
1336845070879: forwarding disabled, not forwarding packets
1336845070880: Received UDP payload: 446
1336845070894: mux: Inside Packet.SERVER_REPLY
1336845070894: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845070956: Received UDP payload: 3814
1336845070958: mux: GOT CSM_Msg
1336845070958: forwarding disabled, not forwarding packets
1336845071005: Received UDP payload: 3467
1336845071007: mux: Inside Packet.SERVER_REPLY
1336845071007: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845071020: Received UDP payload: 446
1336845071022: mux: Inside mux Packet.CLIENT_REQUEST
1336845071564: Received UDP payload: 1006
1336845071571: mux: GOT CSM_Msg
1336845071571: forwarding disabled, not forwarding packets
1336845071665: Received UDP payload: 3814
1336845071672: mux: GOT CSM_Msg
1336845071672: forwarding disabled, not forwarding packets
1336845071997: Received UDP payload: 446
1336845072146: Received UDP payload: 446
1336845072935: Received UDP payload: 446
1336845073848: inside sendPacket(Packet p)
1336845073856: Sending UDP payload: 446
1336845074201: Received UDP payload: 446
1336845074858: Received UDP payload: 446
1336845077011: Received UDP payload: 446
1336845077162: Received UDP payload: 446
1336845077216: canPressButton = TRUE
1336845077217: areButtonsEnabled --> false 
1336845077217: get picture disableButtonsR
1336845077217: areButtonsEnabled --> false
1336845077243: one more getNum: 13
1336845077244: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=12 getBad=0 getTimedout=0 getPercent=92%
1336845077244: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336845077244: change local requestCounter to 31
1336845077248: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010031 Client in region: 4 Client nodID: 5010
1336845077276: ----------------------------
1336845077276: inside sendRequestPacketRepeatingRunnable for requestCount = 5010031
1336845077277: I'm a leader, my requesting photos packet going to mux directly
1336845077283: --- Finished one round of sending REQUEST Packet ---------
1336845077277: mux: Inside mux Packet.CLIENT_REQUEST
1336845077277: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845077331: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845077277: inside handleClientRequest. Originator leader of region 4
1336845077277: got new request, requestCounter = 5010031
1336845077277: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845077278: Sending to region: 0
1336845077279: Sending PROC_REQUEST 11:4 (4,0)->(0,0)
1336845077279: Dispatching Atom PROC_REQUEST 11:4 (4,0)->(0,0)
1336845077279: mux: I got a CSM packet at a leader 

1336845077279: Note down new request by adding requestCounter=5010031 to HashMap processedRequests
1336845077279: Make FirstLeg Ack regardless of new or already-processed requests
1336845077279: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845077282: Sending UDP payload: 1006
1336845077283: forwarding disabled, not forwarding packets
1336845077386: Received UDP payload: 3814
1336845077388: mux: GOT CSM_Msg
1336845077389: Received PROC_REPLY 11:4 (0,0)->(4,0), handing to UserApp
1336845077389: inside handleDSMReply. Now back in originator leader of region 4
1336845077389: DSM layer: Going to and from remote region took latency = 111
1336845077389: DSM layer: orig leader sent packet at 1336845077278 ~ received reply from remote leader at 1336845077389
1336845077390: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845077390: leader client reply has replyCounter: 501003100
1336845077390: reply packet contains the newest photo/success info from the remote region
1336845077390: inside sendReplies of replyCount = 501003100
1336845077392: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845077392: disabling progressdialog due to successful new photo get
1336845077393: Inside _enableButtons
1336845077393: areButtonsEnabled --> true
1336845077393: send final leg ack regardless of new or already-processed reply
1336845077394: inside finalLegAck: change requestCounter to 32
1336845077394: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010032 Client in region: (4,0) Client nodID: 5010
1336845077394: I'm a leader client, my final_leg packet going to mux directly
1336845077395: new client_show_remotephoto reply with replyCounter 501003100
1336845077396: note down new reply by adding replyCounter=501003100 to HashMap processedReplies
1336845077396: leader download remote photo latency = 115
1336845077396: = leader download start 1336845077277 ~ stop 1336845077392
1336845077400: one more getGood: 13
1336845077401: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=13 getBad=0 getTimedout=0 getPercent=100%
1336845077401: adding get latency: 115
1336845077402: Success! Client getting photo from remote region, showing photo...
1336845077402: Remote photo's length: 2786
1336845077390: =======================
1336845077391: inside sendReplyRepeatingRunnable for replyCount = 501003100
1336845077391: Leader about to send REPLY packet, number: 501003100 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845077391: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845077391: === Finished one round of sending REPLY Packet =======
1336845077394: mux: Inside mux Packet.CLIENT_REQUEST
1336845077394: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845077395: inside handleClientRequest. Originator leader of region 4
1336845077395: got new request, requestCounter = 5010032
1336845077395: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501003100
1336845077395: Yay the last leg succeeded. Removing reply runnables ...
1336845077395: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501003100
1336845077395: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501003100
1336845077395: do not send ack for received final_leg_ack
1336845077948: Received UDP payload: 446
1336845078546: Received UDP payload: 642
1336845078553: mux: Inside mux Packet.CLIENT_REQUEST
1336845078553: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845078554: inside handleClientRequest. Originator leader of region 4
1336845078554: got new request, requestCounter = 5009031
1336845078555: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845078572: Sending to region: 0
1336845078584: Sending PROC_REQUEST 11:5 (4,0)->(0,0)
1336845078585: Dispatching Atom PROC_REQUEST 11:5 (4,0)->(0,0)
1336845078588: mux: I got a CSM packet at a leader 

1336845078585: Note down new request by adding requestCounter=5009031 to HashMap processedRequests
1336845078586: Make FirstLeg Ack regardless of new or already-processed requests
1336845078586: The leader sending a First Leg ack to originator client (which id = 5009)
1336845078586: inside sendPacket(Packet p)
1336845078611: Sending UDP payload: 1006
1336845078611: forwarding disabled, not forwarding packets
1336845078612: Sending UDP payload: 446
1336845078696: Received UDP payload: 3814
1336845078700: mux: GOT CSM_Msg
1336845078700: Received PROC_REPLY 11:5 (0,0)->(4,0), handing to UserApp
1336845078700: inside handleDSMReply. Now back in originator leader of region 4
1336845078700: DSM layer: Going to and from remote region took latency = 128
1336845078700: DSM layer: orig leader sent packet at 1336845078572 ~ received reply from remote leader at 1336845078700
1336845078701: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845078701: leader client reply has replyCounter: 500903100
1336845078702: reply packet contains the newest photo/success info from the remote region
1336845078702: inside sendReplies of replyCount = 500903100
1336845078702: =======================
1336845078703: inside sendReplyRepeatingRunnable for replyCount = 500903100
1336845078703: Leader about to send REPLY packet, number: 500903100 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845078703: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845078703: inside sendPacket(Packet p)
1336845078703: === Finished one round of sending REPLY Packet =======
1336845078705: Sending UDP payload: 3467
1336845078759: Received UDP payload: 446
1336845078761: mux: Inside mux Packet.CLIENT_REQUEST
1336845078761: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845078761: inside handleClientRequest. Originator leader of region 4
1336845078761: got new request, requestCounter = 5009032
1336845078761: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500903100
1336845078761: Yay the last leg succeeded. Removing reply runnables ...
1336845078761: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500903100
1336845078762: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500903100
1336845078762: do not send ack for received final_leg_ack
1336845078857: inside sendPacket(Packet p)
1336845078858: Sending UDP payload: 446
1336845079203: Received UDP payload: 446
1336845079857: Received UDP payload: 446
1336845082014: Received UDP payload: 446
1336845082174: Received UDP payload: 446
1336845082944: Received UDP payload: 446
1336845083857: inside sendPacket(Packet p)
1336845083860: Sending UDP payload: 446
1336845084200: Received UDP payload: 446
1336845084858: Received UDP payload: 446
1336845087035: Received UDP payload: 446
1336845087237: Received UDP payload: 446
1336845087956: Received UDP payload: 446
1336845088857: inside sendPacket(Packet p)
1336845088860: Sending UDP payload: 446
1336845089204: Received UDP payload: 446
1336845089990: Received UDP payload: 446
1336845092044: Received UDP payload: 446
1336845092204: Received UDP payload: 446
1336845093859: inside sendPacket(Packet p)
1336845093862: Sending UDP payload: 446
1336845094222: Received UDP payload: 446
1336845094890: Received UDP payload: 446
1336845096977: Received UDP payload: 446
1336845097040: Received UDP payload: 446
1336845097229: Received UDP payload: 446
1336845097555: Received UDP payload: 642
1336845097561: mux: Inside mux Packet.CLIENT_REQUEST
1336845097574: Received UDP payload: 1006
1336845097581: mux: GOT CSM_Msg
1336845097581: forwarding disabled, not forwarding packets
1336845097608: Received UDP payload: 446
1336845097609: mux: Inside Packet.SERVER_REPLY
1336845097610: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845097637: Received UDP payload: 3734
1336845097639: mux: GOT CSM_Msg
1336845097639: forwarding disabled, not forwarding packets
1336845097682: Received UDP payload: 3387
1336845097683: mux: Inside Packet.SERVER_REPLY
1336845097683: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845097733: Received UDP payload: 446
1336845097734: mux: Inside mux Packet.CLIENT_REQUEST
1336845098654: Received UDP payload: 1006
1336845098660: mux: GOT CSM_Msg
1336845098661: forwarding disabled, not forwarding packets
1336845098712: Received UDP payload: 3734
1336845098719: mux: GOT CSM_Msg
1336845098719: forwarding disabled, not forwarding packets
1336845098834: Received UDP payload: 642
1336845098836: mux: Inside mux Packet.CLIENT_REQUEST
1336845098849: Received UDP payload: 1006
1336845098853: mux: GOT CSM_Msg
1336845098854: forwarding disabled, not forwarding packets
1336845098860: inside sendPacket(Packet p)
1336845098861: Sending UDP payload: 446
1336845098862: Received UDP payload: 446
1336845098869: mux: Inside Packet.SERVER_REPLY
1336845098869: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845098932: Received UDP payload: 3734
1336845098936: mux: GOT CSM_Msg
1336845098936: forwarding disabled, not forwarding packets
1336845098988: Received UDP payload: 3387
1336845098991: mux: Inside Packet.SERVER_REPLY
1336845098991: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845099021: Received UDP payload: 446
1336845099024: mux: Inside mux Packet.CLIENT_REQUEST
1336845099217: Received UDP payload: 446
1336845099887: Received UDP payload: 446
1336845100459: Received UDP payload: 1006
1336845100467: mux: GOT CSM_Msg
1336845100467: forwarding disabled, not forwarding packets
1336845100543: Received UDP payload: 3734
1336845100545: mux: GOT CSM_Msg
1336845100545: forwarding disabled, not forwarding packets
1336845101972: Received UDP payload: 446
1336845102045: Received UDP payload: 446
1336845102224: Received UDP payload: 446
1336845103860: inside sendPacket(Packet p)
1336845103876: Sending UDP payload: 446
1336845104226: Received UDP payload: 446
1336845104941: Received UDP payload: 446
1336845106568: Received UDP payload: 1006
1336845106578: mux: GOT CSM_Msg
1336845106578: forwarding disabled, not forwarding packets
1336845106657: Received UDP payload: 3734
1336845106659: mux: GOT CSM_Msg
1336845106659: forwarding disabled, not forwarding packets
1336845107069: Received UDP payload: 446
1336845107075: Received UDP payload: 446
1336845107229: Received UDP payload: 446
1336845108878: inside sendPacket(Packet p)
1336845108880: Sending UDP payload: 446
1336845109216: Received UDP payload: 446
1336845109360: Received UDP payload: 1006
1336845109368: mux: GOT CSM_Msg
1336845109369: forwarding disabled, not forwarding packets
1336845109450: Received UDP payload: 3734
1336845109452: mux: GOT CSM_Msg
1336845109452: forwarding disabled, not forwarding packets
1336845109889: Received UDP payload: 446
1336845112055: Received UDP payload: 446
1336845112071: Received UDP payload: 446
1336845112350: Received UDP payload: 642
1336845112356: mux: Inside mux Packet.CLIENT_REQUEST
1336845112408: Received UDP payload: 1006
1336845112410: mux: GOT CSM_Msg
1336845112410: forwarding disabled, not forwarding packets
1336845112416: Received UDP payload: 446
1336845112417: mux: Inside Packet.SERVER_REPLY
1336845112417: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845112492: Received UDP payload: 3734
1336845112495: mux: GOT CSM_Msg
1336845112495: forwarding disabled, not forwarding packets
1336845112541: Received UDP payload: 3387
1336845112542: mux: Inside Packet.SERVER_REPLY
1336845112542: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845112553: Received UDP payload: 446
1336845112555: mux: Inside mux Packet.CLIENT_REQUEST
1336845113383: Received UDP payload: 1006
1336845113397: mux: GOT CSM_Msg
1336845113398: forwarding disabled, not forwarding packets
1336845113471: Received UDP payload: 3734
1336845113473: mux: GOT CSM_Msg
1336845113474: forwarding disabled, not forwarding packets
1336845113878: inside sendPacket(Packet p)
1336845113879: Sending UDP payload: 446
1336845114206: Received UDP payload: 446
1336845114382: Received UDP payload: 446
1336845114914: Received UDP payload: 446
1336845116238: canPressButton = TRUE
1336845116239: areButtonsEnabled --> false 
1336845116239: get picture disableButtonsR
1336845116239: areButtonsEnabled --> false
1336845116304: one more getNum: 14
1336845116305: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=13 getBad=0 getTimedout=0 getPercent=92%
1336845116306: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336845116306: change local requestCounter to 33
1336845116312: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010033 Client in region: 4 Client nodID: 5010
1336845116421: ----------------------------
1336845116422: inside sendRequestPacketRepeatingRunnable for requestCount = 5010033
1336845116422: I'm a leader, my requesting photos packet going to mux directly
1336845116430: --- Finished one round of sending REQUEST Packet ---------
1336845116422: mux: Inside mux Packet.CLIENT_REQUEST
1336845116423: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845116506: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845116423: inside handleClientRequest. Originator leader of region 4
1336845116423: got new request, requestCounter = 5010033
1336845116423: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845116425: Sending to region: 1
1336845116425: Sending PROC_REQUEST 11:4 (4,0)->(1,0)
1336845116426: Dispatching Atom PROC_REQUEST 11:4 (4,0)->(1,0)
1336845116427: mux: I got a CSM packet at a leader 

1336845116426: Note down new request by adding requestCounter=5010033 to HashMap processedRequests
1336845116426: Make FirstLeg Ack regardless of new or already-processed requests
1336845116426: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845116429: Sending UDP payload: 1006
1336845116441: forwarding disabled, not forwarding packets
1336845116526: Received UDP payload: 3734
1336845116534: mux: GOT CSM_Msg
1336845116616: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845116617: disabling progressdialog due to successful new photo get
1336845116618: Inside _enableButtons
1336845116620: areButtonsEnabled --> true
1336845116621: send final leg ack regardless of new or already-processed reply
1336845116621: inside finalLegAck: change requestCounter to 34
1336845116622: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010034 Client in region: (4,0) Client nodID: 5010
1336845116622: I'm a leader client, my final_leg packet going to mux directly
1336845116626: new client_show_remotephoto reply with replyCounter 501003300
1336845116626: note down new reply by adding replyCounter=501003300 to HashMap processedReplies
1336845116627: leader download remote photo latency = 194
1336845116630: = leader download start 1336845116422 ~ stop 1336845116616
1336845116633: one more getGood: 14
1336845116634: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=14 getBad=0 getTimedout=0 getPercent=100%
1336845116635: adding get latency: 194
1336845116638: Success! Client getting photo from remote region, showing photo...
1336845116638: Remote photo's length: 2706
1336845116534: Received PROC_REPLY 11:4 (1,0)->(4,0), handing to UserApp
1336845116535: inside handleDSMReply. Now back in originator leader of region 4
1336845116535: DSM layer: Going to and from remote region took latency = 110
1336845116535: DSM layer: orig leader sent packet at 1336845116425 ~ received reply from remote leader at 1336845116535
1336845116538: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845116538: leader client reply has replyCounter: 501003300
1336845116538: reply packet contains the newest photo/success info from the remote region
1336845116538: inside sendReplies of replyCount = 501003300
1336845116538: =======================
1336845116539: inside sendReplyRepeatingRunnable for replyCount = 501003300
1336845116539: Leader about to send REPLY packet, number: 501003300 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845116539: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845116539: === Finished one round of sending REPLY Packet =======
1336845116623: mux: Inside mux Packet.CLIENT_REQUEST
1336845116624: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845116624: inside handleClientRequest. Originator leader of region 4
1336845116624: got new request, requestCounter = 5010034
1336845116624: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501003300
1336845116624: Yay the last leg succeeded. Removing reply runnables ...
1336845116625: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501003300
1336845116625: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501003300
1336845116625: do not send ack for received final_leg_ack
1336845116973: Received UDP payload: 446
1336845117065: Received UDP payload: 446
1336845117523: Received UDP payload: 642
1336845117529: mux: Inside mux Packet.CLIENT_REQUEST
1336845117530: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845117530: inside handleClientRequest. Originator leader of region 4
1336845117530: got new request, requestCounter = 5009033
1336845117531: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845117536: Sending to region: 1
1336845117536: Sending PROC_REQUEST 11:5 (4,0)->(1,0)
1336845117537: Dispatching Atom PROC_REQUEST 11:5 (4,0)->(1,0)
1336845117538: mux: I got a CSM packet at a leader 

1336845117537: Note down new request by adding requestCounter=5009033 to HashMap processedRequests
1336845117537: Make FirstLeg Ack regardless of new or already-processed requests
1336845117537: The leader sending a First Leg ack to originator client (which id = 5009)
1336845117538: inside sendPacket(Packet p)
1336845117540: Sending UDP payload: 1006
1336845117541: forwarding disabled, not forwarding packets
1336845117542: Sending UDP payload: 446
1336845117641: Received UDP payload: 3734
1336845117644: mux: GOT CSM_Msg
1336845117644: Received PROC_REPLY 11:5 (1,0)->(4,0), handing to UserApp
1336845117644: inside handleDSMReply. Now back in originator leader of region 4
1336845117644: DSM layer: Going to and from remote region took latency = 108
1336845117645: DSM layer: orig leader sent packet at 1336845117536 ~ received reply from remote leader at 1336845117644
1336845117646: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845117646: leader client reply has replyCounter: 500903300
1336845117646: reply packet contains the newest photo/success info from the remote region
1336845117646: inside sendReplies of replyCount = 500903300
1336845117647: =======================
1336845117647: inside sendReplyRepeatingRunnable for replyCount = 500903300
1336845117647: Leader about to send REPLY packet, number: 500903300 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845117647: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845117647: inside sendPacket(Packet p)
1336845117647: === Finished one round of sending REPLY Packet =======
1336845117654: Sending UDP payload: 3387
1336845117719: Received UDP payload: 446
1336845117720: mux: Inside mux Packet.CLIENT_REQUEST
1336845117720: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845117720: inside handleClientRequest. Originator leader of region 4
1336845117721: got new request, requestCounter = 5009034
1336845117721: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500903300
1336845117721: Yay the last leg succeeded. Removing reply runnables ...
1336845117721: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500903300
1336845117721: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500903300
1336845117721: do not send ack for received final_leg_ack
1336845118879: inside sendPacket(Packet p)
1336845118886: Sending UDP payload: 446
1336845119217: Received UDP payload: 446
1336845119969: Received UDP payload: 446
1336845122038: Received UDP payload: 446
1336845122076: Received UDP payload: 446
1336845123888: inside sendPacket(Packet p)
1336845123890: Sending UDP payload: 446
1336845124255: Received UDP payload: 446
1336845124944: Received UDP payload: 446
1336845126977: Received UDP payload: 446
1336845127084: Received UDP payload: 446
1336845128788: leader to cloud hearbeat...
1336845129253: Received UDP payload: 446
1336845129418: Received UDP payload: 446
1336845129958: Received UDP payload: 446
1336845131086: inside sendPacket(Packet p)
1336845131105: Sending UDP payload: 446
1336845131978: Received UDP payload: 446
1336845132100: Received UDP payload: 446
1336845134250: Received UDP payload: 446
1336845134434: Received UDP payload: 446
1336845134966: Received UDP payload: 446
1336845135498: Received UDP payload: 642
1336845135505: mux: Inside mux Packet.CLIENT_REQUEST
1336845135564: Received UDP payload: 1006
1336845135586: mux: GOT CSM_Msg
1336845135587: forwarding disabled, not forwarding packets
1336845135588: Received UDP payload: 446
1336845135606: mux: Inside Packet.SERVER_REPLY
1336845135606: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845135616: Received UDP payload: 3826
1336845135640: mux: GOT CSM_Msg
1336845135641: forwarding disabled, not forwarding packets
1336845135748: Received UDP payload: 3479
1336845135752: mux: Inside Packet.SERVER_REPLY
1336845135753: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845135804: Received UDP payload: 446
1336845135805: mux: Inside mux Packet.CLIENT_REQUEST
1336845135912: Received UDP payload: 1006
1336845135914: mux: GOT CSM_Msg
1336845135914: forwarding disabled, not forwarding packets
1336845135983: Received UDP payload: 3826
1336845135985: mux: GOT CSM_Msg
1336845135985: forwarding disabled, not forwarding packets
1336845136109: inside sendPacket(Packet p)
1336845136110: Sending UDP payload: 446
1336845136585: Received UDP payload: 1006
1336845136588: mux: GOT CSM_Msg
1336845136588: forwarding disabled, not forwarding packets
1336845136639: Received UDP payload: 3826
1336845136641: mux: GOT CSM_Msg
1336845136641: forwarding disabled, not forwarding packets
1336845136903: Received UDP payload: 642
1336845136904: mux: Inside mux Packet.CLIENT_REQUEST
1336845136922: Received UDP payload: 1006
1336845136925: mux: GOT CSM_Msg
1336845136925: forwarding disabled, not forwarding packets
1336845136927: Received UDP payload: 446
1336845136929: mux: Inside Packet.SERVER_REPLY
1336845136929: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845136988: Received UDP payload: 3826
1336845136991: mux: GOT CSM_Msg
1336845136991: forwarding disabled, not forwarding packets
1336845136993: Received UDP payload: 446
1336845137034: Received UDP payload: 3479
1336845137037: mux: Inside Packet.SERVER_REPLY
1336845137037: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845137052: Received UDP payload: 446
1336845137054: mux: Inside mux Packet.CLIENT_REQUEST
1336845137088: Received UDP payload: 446
1336845137235: Received UDP payload: 1006
1336845137241: mux: GOT CSM_Msg
1336845137241: forwarding disabled, not forwarding packets
1336845137297: Received UDP payload: 3826
1336845137302: mux: GOT CSM_Msg
1336845137303: forwarding disabled, not forwarding packets
1336845139448: Received UDP payload: 446
1336845139975: Received UDP payload: 446
1336845141109: inside sendPacket(Packet p)
1336845141110: Sending UDP payload: 446
1336845141161: Received UDP payload: 446
1336845142001: Received UDP payload: 446
1336845142090: Received UDP payload: 446
1336845142205: Received UDP payload: 1006
1336845142214: mux: GOT CSM_Msg
1336845142214: forwarding disabled, not forwarding packets
1336845142289: Received UDP payload: 3826
1336845142296: mux: GOT CSM_Msg
1336845142296: forwarding disabled, not forwarding packets
1336845144468: Received UDP payload: 446
1336845144977: Received UDP payload: 446
1336845145262: Received UDP payload: 1006
1336845145270: mux: GOT CSM_Msg
1336845145271: forwarding disabled, not forwarding packets
1336845145334: Received UDP payload: 3826
1336845145336: mux: GOT CSM_Msg
1336845145336: forwarding disabled, not forwarding packets
1336845146109: inside sendPacket(Packet p)
1336845146125: Sending UDP payload: 446
1336845146158: Received UDP payload: 446
1336845146989: Received UDP payload: 446
1336845147093: Received UDP payload: 446
1336845147743: Received UDP payload: 642
1336845147747: mux: Inside mux Packet.CLIENT_REQUEST
1336845147797: Received UDP payload: 1006
1336845147804: mux: GOT CSM_Msg
1336845147804: forwarding disabled, not forwarding packets
1336845147805: Received UDP payload: 446
1336845147808: mux: Inside Packet.SERVER_REPLY
1336845147809: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845147847: Received UDP payload: 3826
1336845147854: mux: GOT CSM_Msg
1336845147854: forwarding disabled, not forwarding packets
1336845147914: Received UDP payload: 3479
1336845147916: mux: Inside Packet.SERVER_REPLY
1336845147916: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845147927: Received UDP payload: 446
1336845147929: mux: Inside mux Packet.CLIENT_REQUEST
1336845149486: Received UDP payload: 446
1336845149978: Received UDP payload: 446
1336845150133: Received UDP payload: 1006
1336845150137: mux: GOT CSM_Msg
1336845150137: forwarding disabled, not forwarding packets
1336845150221: Received UDP payload: 3826
1336845150225: mux: GOT CSM_Msg
1336845150225: forwarding disabled, not forwarding packets
1336845151111: inside sendPacket(Packet p)
1336845151114: Sending UDP payload: 446
1336845151201: Received UDP payload: 446
1336845151731: canPressButton = TRUE
1336845151732: areButtonsEnabled --> false 
1336845151732: get picture disableButtonsR
1336845151732: areButtonsEnabled --> false
1336845151758: one more getNum: 15
1336845151759: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=14 getBad=0 getTimedout=0 getPercent=93%
1336845151759: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336845151759: change local requestCounter to 35
1336845151760: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010035 Client in region: 4 Client nodID: 5010
1336845151789: ----------------------------
1336845151789: inside sendRequestPacketRepeatingRunnable for requestCount = 5010035
1336845151789: I'm a leader, my requesting photos packet going to mux directly
1336845151795: --- Finished one round of sending REQUEST Packet ---------
1336845151790: mux: Inside mux Packet.CLIENT_REQUEST
1336845151790: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845151831: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845151790: inside handleClientRequest. Originator leader of region 4
1336845151790: got new request, requestCounter = 5010035
1336845151790: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845151791: Sending to region: 2
1336845151791: Sending PROC_REQUEST 11:4 (4,0)->(2,0)
1336845151791: Dispatching Atom PROC_REQUEST 11:4 (4,0)->(2,0)
1336845151792: mux: I got a CSM packet at a leader 

1336845151792: Note down new request by adding requestCounter=5010035 to HashMap processedRequests
1336845151792: Make FirstLeg Ack regardless of new or already-processed requests
1336845151792: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845151794: Sending UDP payload: 1006
1336845151795: forwarding disabled, not forwarding packets
1336845151896: Received UDP payload: 3826
1336845151898: mux: GOT CSM_Msg
1336845151899: Received PROC_REPLY 11:4 (2,0)->(4,0), handing to UserApp
1336845151899: inside handleDSMReply. Now back in originator leader of region 4
1336845151899: DSM layer: Going to and from remote region took latency = 108
1336845151899: DSM layer: orig leader sent packet at 1336845151791 ~ received reply from remote leader at 1336845151899
1336845151900: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845151900: leader client reply has replyCounter: 501003500
1336845151900: reply packet contains the newest photo/success info from the remote region
1336845151900: inside sendReplies of replyCount = 501003500
1336845151907: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845151907: disabling progressdialog due to successful new photo get
1336845151907: Inside _enableButtons
1336845151908: areButtonsEnabled --> true
1336845151908: send final leg ack regardless of new or already-processed reply
1336845151908: inside finalLegAck: change requestCounter to 36
1336845151908: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010036 Client in region: (4,0) Client nodID: 5010
1336845151909: I'm a leader client, my final_leg packet going to mux directly
1336845151911: new client_show_remotephoto reply with replyCounter 501003500
1336845151911: note down new reply by adding replyCounter=501003500 to HashMap processedReplies
1336845151911: leader download remote photo latency = 118
1336845151912: = leader download start 1336845151789 ~ stop 1336845151907
1336845151912: one more getGood: 15
1336845151913: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=15 getBad=0 getTimedout=0 getPercent=100%
1336845151914: adding get latency: 118
1336845151914: Success! Client getting photo from remote region, showing photo...
1336845151914: Remote photo's length: 2798
1336845151903: =======================
1336845151903: inside sendReplyRepeatingRunnable for replyCount = 501003500
1336845151903: Leader about to send REPLY packet, number: 501003500 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845151903: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845151903: === Finished one round of sending REPLY Packet =======
1336845151909: mux: Inside mux Packet.CLIENT_REQUEST
1336845151909: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845151910: inside handleClientRequest. Originator leader of region 4
1336845151910: got new request, requestCounter = 5010036
1336845151910: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501003500
1336845151910: Yay the last leg succeeded. Removing reply runnables ...
1336845151910: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501003500
1336845151910: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501003500
1336845151910: do not send ack for received final_leg_ack
1336845151985: Received UDP payload: 446
1336845152091: Received UDP payload: 446
1336845153138: Received UDP payload: 642
1336845153148: mux: Inside mux Packet.CLIENT_REQUEST
1336845153149: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845153149: inside handleClientRequest. Originator leader of region 4
1336845153150: got new request, requestCounter = 5009035
1336845153150: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845153173: Sending to region: 2
1336845153175: Sending PROC_REQUEST 11:5 (4,0)->(2,0)
1336845153177: Dispatching Atom PROC_REQUEST 11:5 (4,0)->(2,0)
1336845153179: mux: I got a CSM packet at a leader 

1336845153177: Note down new request by adding requestCounter=5009035 to HashMap processedRequests
1336845153177: Make FirstLeg Ack regardless of new or already-processed requests
1336845153178: The leader sending a First Leg ack to originator client (which id = 5009)
1336845153178: inside sendPacket(Packet p)
1336845153209: Sending UDP payload: 1006
1336845153216: forwarding disabled, not forwarding packets
1336845153217: Sending UDP payload: 446
1336845153267: Received UDP payload: 3826
1336845153270: mux: GOT CSM_Msg
1336845153270: Received PROC_REPLY 11:5 (2,0)->(4,0), handing to UserApp
1336845153270: inside handleDSMReply. Now back in originator leader of region 4
1336845153270: DSM layer: Going to and from remote region took latency = 96
1336845153270: DSM layer: orig leader sent packet at 1336845153174 ~ received reply from remote leader at 1336845153270
1336845153271: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845153271: leader client reply has replyCounter: 500903500
1336845153271: reply packet contains the newest photo/success info from the remote region
1336845153271: inside sendReplies of replyCount = 500903500
1336845153272: =======================
1336845153272: inside sendReplyRepeatingRunnable for replyCount = 500903500
1336845153272: Leader about to send REPLY packet, number: 500903500 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845153273: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845153273: inside sendPacket(Packet p)
1336845153273: === Finished one round of sending REPLY Packet =======
1336845153274: Sending UDP payload: 3479
1336845153323: Received UDP payload: 446
1336845153324: mux: Inside mux Packet.CLIENT_REQUEST
1336845153324: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845153325: inside handleClientRequest. Originator leader of region 4
1336845153325: got new request, requestCounter = 5009036
1336845153325: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500903500
1336845153325: Yay the last leg succeeded. Removing reply runnables ...
1336845153325: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500903500
1336845153325: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500903500
1336845153325: do not send ack for received final_leg_ack
1336845154489: Received UDP payload: 446
1336845154977: Received UDP payload: 446
1336845156112: inside sendPacket(Packet p)
1336845156126: Sending UDP payload: 446
1336845156176: Received UDP payload: 446
1336845156983: Received UDP payload: 446
1336845159197: Received UDP payload: 446
1336845159514: Received UDP payload: 446
1336845160031: Received UDP payload: 446
1336845161128: inside sendPacket(Packet p)
1336845161131: Sending UDP payload: 446
1336845161191: Received UDP payload: 446
1336845162000: Received UDP payload: 446
1336845162522: Received UDP payload: 642
1336845162527: mux: Inside mux Packet.CLIENT_REQUEST
1336845162567: Received UDP payload: 1006
1336845162576: mux: GOT CSM_Msg
1336845162576: forwarding disabled, not forwarding packets
1336845162577: Received UDP payload: 446
1336845162578: mux: Inside Packet.SERVER_REPLY
1336845162578: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845162625: Received UDP payload: 3734
1336845162627: mux: GOT CSM_Msg
1336845162628: forwarding disabled, not forwarding packets
1336845162675: Received UDP payload: 3387
1336845162676: mux: Inside Packet.SERVER_REPLY
1336845162677: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845162695: Received UDP payload: 446
1336845162696: mux: Inside mux Packet.CLIENT_REQUEST
1336845163290: Received UDP payload: 1006
1336845163300: mux: GOT CSM_Msg
1336845163300: forwarding disabled, not forwarding packets
1336845163337: Received UDP payload: 3734
1336845163346: mux: GOT CSM_Msg
1336845163346: forwarding disabled, not forwarding packets
1336845163998: Received UDP payload: 1006
1336845164001: mux: GOT CSM_Msg
1336845164001: forwarding disabled, not forwarding packets
1336845164411: Received UDP payload: 642
1336845164416: mux: Inside mux Packet.CLIENT_REQUEST
1336845164493: Received UDP payload: 1006
1336845164500: mux: GOT CSM_Msg
1336845164500: forwarding disabled, not forwarding packets
1336845164506: Received UDP payload: 446
1336845164510: mux: Inside Packet.SERVER_REPLY
1336845164511: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845164535: Received UDP payload: 446
1336845164726: Received UDP payload: 1006
1336845164732: mux: GOT CSM_Msg
1336845164733: forwarding disabled, not forwarding packets
1336845164833: Received UDP payload: 1006
1336845164839: mux: GOT CSM_Msg
1336845164840: forwarding disabled, not forwarding packets
1336845164934: Received UDP payload: 1006
1336845164941: mux: GOT CSM_Msg
1336845164941: forwarding disabled, not forwarding packets
1336845164977: Received UDP payload: 446
1336845165035: Received UDP payload: 1006
1336845165037: mux: GOT CSM_Msg
1336845165037: forwarding disabled, not forwarding packets
1336845165129: Received UDP payload: 1006
1336845165136: mux: GOT CSM_Msg
1336845165136: forwarding disabled, not forwarding packets
1336845165229: Received UDP payload: 1006
1336845165236: mux: GOT CSM_Msg
1336845165236: forwarding disabled, not forwarding packets
1336845165240: Received UDP payload: 1006
1336845165255: mux: GOT CSM_Msg
1336845165256: forwarding disabled, not forwarding packets
1336845165329: Received UDP payload: 1006
1336845165341: mux: GOT CSM_Msg
1336845165341: forwarding disabled, not forwarding packets
1336845165352: Received UDP payload: 1006
1336845165358: mux: GOT CSM_Msg
1336845165359: forwarding disabled, not forwarding packets
1336845165450: Received UDP payload: 1006
1336845165457: mux: GOT CSM_Msg
1336845165458: forwarding disabled, not forwarding packets
1336845165537: Received UDP payload: 1006
1336845165545: mux: GOT CSM_Msg
1336845165545: forwarding disabled, not forwarding packets
1336845165549: Received UDP payload: 1006
1336845165557: mux: GOT CSM_Msg
1336845165557: forwarding disabled, not forwarding packets
1336845165644: Received UDP payload: 1006
1336845165651: mux: GOT CSM_Msg
1336845165651: forwarding disabled, not forwarding packets
1336845165657: Received UDP payload: 1006
1336845165665: mux: GOT CSM_Msg
1336845165666: forwarding disabled, not forwarding packets
1336845165752: Received UDP payload: 1006
1336845165760: mux: GOT CSM_Msg
1336845165760: forwarding disabled, not forwarding packets
1336845165776: Received UDP payload: 1006
1336845165783: mux: GOT CSM_Msg
1336845165784: forwarding disabled, not forwarding packets
1336845165837: Received UDP payload: 1006
1336845165845: mux: GOT CSM_Msg
1336845165846: forwarding disabled, not forwarding packets
1336845165855: Received UDP payload: 1006
1336845165857: mux: GOT CSM_Msg
1336845165858: forwarding disabled, not forwarding packets
1336845165937: Received UDP payload: 1006
1336845165940: mux: GOT CSM_Msg
1336845165940: forwarding disabled, not forwarding packets
1336845165955: Received UDP payload: 1006
1336845165959: mux: GOT CSM_Msg
1336845165960: forwarding disabled, not forwarding packets
1336845166041: Received UDP payload: 1006
1336845166045: mux: GOT CSM_Msg
1336845166045: forwarding disabled, not forwarding packets
1336845166063: Received UDP payload: 1006
1336845166066: mux: GOT CSM_Msg
1336845166067: forwarding disabled, not forwarding packets
1336845166129: inside sendPacket(Packet p)
1336845166132: Sending UDP payload: 446
1336845166154: Received UDP payload: 1006
1336845166162: mux: GOT CSM_Msg
1336845166163: forwarding disabled, not forwarding packets
1336845166169: Received UDP payload: 1006
1336845166192: mux: GOT CSM_Msg
1336845166192: forwarding disabled, not forwarding packets
1336845166194: Received UDP payload: 446
1336845166254: Received UDP payload: 1006
1336845166259: mux: GOT CSM_Msg
1336845166259: forwarding disabled, not forwarding packets
1336845166354: Received UDP payload: 1006
1336845166359: mux: GOT CSM_Msg
1336845166360: forwarding disabled, not forwarding packets
1336845166459: Received UDP payload: 1006
1336845166467: mux: GOT CSM_Msg
1336845166467: forwarding disabled, not forwarding packets
1336845166556: Received UDP payload: 1006
1336845166561: mux: GOT CSM_Msg
1336845166561: forwarding disabled, not forwarding packets
1336845166665: Received UDP payload: 1006
1336845166670: mux: GOT CSM_Msg
1336845166670: forwarding disabled, not forwarding packets
1336845166673: Received UDP payload: 659
1336845166679: mux: Inside Packet.SERVER_REPLY
1336845166680: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845166710: Received UDP payload: 446
1336845166715: mux: Inside mux Packet.CLIENT_REQUEST
1336845166997: Received UDP payload: 446
1336845169509: Received UDP payload: 446
1336845169989: Received UDP payload: 446
1336845171132: inside sendPacket(Packet p)
1336845171135: Sending UDP payload: 446
1336845171186: Received UDP payload: 446
1336845172001: Received UDP payload: 446
1336845173463: Received UDP payload: 1006
1336845173471: mux: GOT CSM_Msg
1336845173471: forwarding disabled, not forwarding packets
1336845173579: Received UDP payload: 3734
1336845173586: mux: GOT CSM_Msg
1336845173586: forwarding disabled, not forwarding packets
1336845174147: Received UDP payload: 446
1336845174517: Received UDP payload: 446
1336845175005: Received UDP payload: 446
1336845175727: Received UDP payload: 642
1336845175732: mux: Inside mux Packet.CLIENT_REQUEST
1336845175792: Received UDP payload: 1006
1336845175800: mux: GOT CSM_Msg
1336845175800: forwarding disabled, not forwarding packets
1336845175801: Received UDP payload: 446
1336845175818: mux: Inside Packet.SERVER_REPLY
1336845175818: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845175879: Received UDP payload: 3734
1336845175881: mux: GOT CSM_Msg
1336845175881: forwarding disabled, not forwarding packets
1336845175927: Received UDP payload: 3387
1336845175929: mux: Inside Packet.SERVER_REPLY
1336845175929: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845175945: Received UDP payload: 446
1336845175947: mux: Inside mux Packet.CLIENT_REQUEST
1336845176132: inside sendPacket(Packet p)
1336845176133: Sending UDP payload: 446
1336845176190: Received UDP payload: 446
1336845176475: Received UDP payload: 1006
1336845176482: mux: GOT CSM_Msg
1336845176483: forwarding disabled, not forwarding packets
1336845176553: Received UDP payload: 3734
1336845176560: mux: GOT CSM_Msg
1336845176560: forwarding disabled, not forwarding packets
1336845177016: Received UDP payload: 446
1336845178325: canPressButton = TRUE
1336845178325: areButtonsEnabled --> false 
1336845178325: get picture disableButtonsR
1336845178326: areButtonsEnabled --> false
1336845178352: one more getNum: 16
1336845178352: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=15 getBad=0 getTimedout=0 getPercent=93%
1336845178353: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336845178353: change local requestCounter to 37
1336845178360: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010037 Client in region: 4 Client nodID: 5010
1336845178389: ----------------------------
1336845178390: inside sendRequestPacketRepeatingRunnable for requestCount = 5010037
1336845178390: I'm a leader, my requesting photos packet going to mux directly
1336845178390: --- Finished one round of sending REQUEST Packet ---------
1336845178391: mux: Inside mux Packet.CLIENT_REQUEST
1336845178391: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845178438: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845178391: inside handleClientRequest. Originator leader of region 4
1336845178391: got new request, requestCounter = 5010037
1336845178391: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845178392: Sending to region: 3
1336845178392: Sending PROC_REQUEST 11:4 (4,0)->(3,0)
1336845178393: Dispatching Atom PROC_REQUEST 11:4 (4,0)->(3,0)
1336845178394: mux: I got a CSM packet at a leader 

1336845178393: Note down new request by adding requestCounter=5010037 to HashMap processedRequests
1336845178394: Make FirstLeg Ack regardless of new or already-processed requests
1336845178394: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845178395: Sending UDP payload: 1006
1336845178402: forwarding disabled, not forwarding packets
1336845178498: Received UDP payload: 3734
1336845178500: mux: GOT CSM_Msg
1336845178528: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845178529: disabling progressdialog due to successful new photo get
1336845178529: Inside _enableButtons
1336845178530: areButtonsEnabled --> true
1336845178530: send final leg ack regardless of new or already-processed reply
1336845178531: inside finalLegAck: change requestCounter to 38
1336845178531: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010038 Client in region: (4,0) Client nodID: 5010
1336845178531: I'm a leader client, my final_leg packet going to mux directly
1336845178533: new client_show_remotephoto reply with replyCounter 501003700
1336845178533: note down new reply by adding replyCounter=501003700 to HashMap processedReplies
1336845178534: leader download remote photo latency = 138
1336845178534: = leader download start 1336845178390 ~ stop 1336845178528
1336845178536: one more getGood: 16
1336845178537: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=16 getBad=0 getTimedout=0 getPercent=100%
1336845178538: adding get latency: 138
1336845178539: Success! Client getting photo from remote region, showing photo...
1336845178539: Remote photo's length: 2706
1336845178501: Received PROC_REPLY 11:4 (3,0)->(4,0), handing to UserApp
1336845178501: inside handleDSMReply. Now back in originator leader of region 4
1336845178501: DSM layer: Going to and from remote region took latency = 109
1336845178501: DSM layer: orig leader sent packet at 1336845178392 ~ received reply from remote leader at 1336845178501
1336845178503: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845178503: leader client reply has replyCounter: 501003700
1336845178503: reply packet contains the newest photo/success info from the remote region
1336845178503: inside sendReplies of replyCount = 501003700
1336845178504: =======================
1336845178504: inside sendReplyRepeatingRunnable for replyCount = 501003700
1336845178504: Leader about to send REPLY packet, number: 501003700 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845178504: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845178505: === Finished one round of sending REPLY Packet =======
1336845178532: mux: Inside mux Packet.CLIENT_REQUEST
1336845178532: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845178532: inside handleClientRequest. Originator leader of region 4
1336845178532: got new request, requestCounter = 5010038
1336845178532: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501003700
1336845178532: Yay the last leg succeeded. Removing reply runnables ...
1336845178532: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501003700
1336845178533: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501003700
1336845178533: do not send ack for received final_leg_ack
1336845179150: Received UDP payload: 446
1336845179520: Received UDP payload: 446
1336845179726: Received UDP payload: 642
1336845179738: mux: Inside mux Packet.CLIENT_REQUEST
1336845179738: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845179739: inside handleClientRequest. Originator leader of region 4
1336845179739: got new request, requestCounter = 5009037
1336845179739: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845179754: Sending to region: 3
1336845179756: Sending PROC_REQUEST 11:5 (4,0)->(3,0)
1336845179757: Dispatching Atom PROC_REQUEST 11:5 (4,0)->(3,0)
1336845179759: mux: I got a CSM packet at a leader 

1336845179758: Note down new request by adding requestCounter=5009037 to HashMap processedRequests
1336845179758: Make FirstLeg Ack regardless of new or already-processed requests
1336845179758: The leader sending a First Leg ack to originator client (which id = 5009)
1336845179759: inside sendPacket(Packet p)
1336845179795: Sending UDP payload: 1006
1336845179796: forwarding disabled, not forwarding packets
1336845179797: Sending UDP payload: 446
1336845179917: Received UDP payload: 3734
1336845179920: mux: GOT CSM_Msg
1336845179920: Received PROC_REPLY 11:5 (3,0)->(4,0), handing to UserApp
1336845179920: inside handleDSMReply. Now back in originator leader of region 4
1336845179921: DSM layer: Going to and from remote region took latency = 165
1336845179921: DSM layer: orig leader sent packet at 1336845179755 ~ received reply from remote leader at 1336845179920
1336845179921: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845179921: leader client reply has replyCounter: 500903700
1336845179921: reply packet contains the newest photo/success info from the remote region
1336845179922: inside sendReplies of replyCount = 500903700
1336845179926: =======================
1336845179927: inside sendReplyRepeatingRunnable for replyCount = 500903700
1336845179928: Leader about to send REPLY packet, number: 500903700 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845179928: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845179928: inside sendPacket(Packet p)
1336845179928: === Finished one round of sending REPLY Packet =======
1336845179929: Sending UDP payload: 3387
1336845179979: Received UDP payload: 446
1336845179980: mux: Inside mux Packet.CLIENT_REQUEST
1336845179980: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845179980: inside handleClientRequest. Originator leader of region 4
1336845179980: got new request, requestCounter = 5009038
1336845179981: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500903700
1336845179981: Yay the last leg succeeded. Removing reply runnables ...
1336845179981: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500903700
1336845179981: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500903700
1336845179981: do not send ack for received final_leg_ack
1336845179984: Received UDP payload: 446
1336845181132: inside sendPacket(Packet p)
1336845181141: Sending UDP payload: 446
1336845181187: Received UDP payload: 446
1336845182047: Received UDP payload: 446
1336845184152: Received UDP payload: 446
1336845184524: Received UDP payload: 446
1336845184991: Received UDP payload: 446
1336845186145: inside sendPacket(Packet p)
1336845186148: Sending UDP payload: 446
1336845186192: Received UDP payload: 446
1336845187122: Received UDP payload: 446
1336845187560: Received UDP payload: 642
1336845187565: mux: Inside mux Packet.CLIENT_REQUEST
1336845187600: Received UDP payload: 1006
1336845187607: mux: GOT CSM_Msg
1336845187607: removed replies before id 5 from sentReplies of size 0
1336845187607: inside handleDSMRequest. At requests's remote leader of region 4
1336845187608: INSIDE SERVER_GET_PHOTO!!!
1336845187611: Received PROC_REQUEST 11:5 (1,0)->(4,0), replying PROC_REPLY 11:5 (4,0)->(1,0)
1336845187612: Dispatching Atom PROC_REPLY 11:5 (4,0)->(1,0)
1336845187612: mux: I got a CSM packet at a leader 

1336845187613: Received UDP payload: 446
1336845187613: Sending UDP payload: 3812
1336845187625: mux: Inside Packet.SERVER_REPLY
1336845187625: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845187624: forwarding disabled, not forwarding packets
1336845187728: Received UDP payload: 3465
1336845187730: mux: Inside Packet.SERVER_REPLY
1336845187730: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845187743: Received UDP payload: 446
1336845187744: mux: Inside mux Packet.CLIENT_REQUEST
1336845188572: Received UDP payload: 1006
1336845188579: mux: GOT CSM_Msg
1336845188579: removed replies before id 6 from sentReplies of size 0
1336845188580: inside handleDSMRequest. At requests's remote leader of region 4
1336845188582: INSIDE SERVER_GET_PHOTO!!!
1336845188586: Received PROC_REQUEST 11:6 (1,0)->(4,0), replying PROC_REPLY 11:6 (4,0)->(1,0)
1336845188587: Dispatching Atom PROC_REPLY 11:6 (4,0)->(1,0)
1336845188588: mux: I got a CSM packet at a leader 

1336845188591: Sending UDP payload: 3812
1336845188606: forwarding disabled, not forwarding packets
1336845189150: Received UDP payload: 446
1336845189521: Received UDP payload: 446
1336845190010: Received UDP payload: 446
1336845190983: Received UDP payload: 642
1336845190987: mux: Inside mux Packet.CLIENT_REQUEST
1336845191039: Received UDP payload: 1006
1336845191046: mux: GOT CSM_Msg
1336845191047: removed replies before id 4 from sentReplies of size 0
1336845191047: inside handleDSMRequest. At requests's remote leader of region 4
1336845191049: INSIDE SERVER_GET_PHOTO!!!
1336845191058: Received PROC_REQUEST 11:4 (0,0)->(4,0), replying PROC_REPLY 11:4 (4,0)->(0,0)
1336845191059: Dispatching Atom PROC_REPLY 11:4 (4,0)->(0,0)
1336845191060: mux: I got a CSM packet at a leader 

1336845191068: Received UDP payload: 446
1336845191073: Sending UDP payload: 3812
1336845191080: mux: Inside Packet.SERVER_REPLY
1336845191081: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845191080: forwarding disabled, not forwarding packets
1336845191145: inside sendPacket(Packet p)
1336845191146: Sending UDP payload: 446
1336845191208: Received UDP payload: 446
1336845191218: Received UDP payload: 3465
1336845191220: mux: Inside Packet.SERVER_REPLY
1336845191220: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845191242: Received UDP payload: 446
1336845191244: mux: Inside mux Packet.CLIENT_REQUEST
1336845192021: Received UDP payload: 446
1336845192063: Received UDP payload: 1006
1336845192070: mux: GOT CSM_Msg
1336845192071: removed replies before id 5 from sentReplies of size 0
1336845192071: inside handleDSMRequest. At requests's remote leader of region 4
1336845192081: INSIDE SERVER_GET_PHOTO!!!
1336845192088: Received PROC_REQUEST 11:5 (0,0)->(4,0), replying PROC_REPLY 11:5 (4,0)->(0,0)
1336845192103: Dispatching Atom PROC_REPLY 11:5 (4,0)->(0,0)
1336845192104: mux: I got a CSM packet at a leader 

1336845192109: Sending UDP payload: 3812
1336845192112: forwarding disabled, not forwarding packets
1336845194171: Received UDP payload: 446
1336845194534: Received UDP payload: 446
1336845194994: Received UDP payload: 446
1336845196036: Received UDP payload: 1006
1336845196042: mux: GOT CSM_Msg
1336845196042: removed replies before id 2 from sentReplies of size 0
1336845196043: inside handleDSMRequest. At requests's remote leader of region 4
1336845196045: INSIDE SERVER_GET_PHOTO!!!
1336845196064: Received PROC_REQUEST 11:2 (3,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(3,0)
1336845196065: Dispatching Atom PROC_REPLY 11:2 (4,0)->(3,0)
1336845196066: mux: I got a CSM packet at a leader 

1336845196069: Sending UDP payload: 3812
1336845196084: forwarding disabled, not forwarding packets
1336845196145: inside sendPacket(Packet p)
1336845196146: Sending UDP payload: 446
1336845196192: Received UDP payload: 446
1336845197046: Received UDP payload: 446
1336845198906: Received UDP payload: 1006
1336845198912: mux: GOT CSM_Msg
1336845198913: removed replies before id 2 from sentReplies of size 0
1336845198914: inside handleDSMRequest. At requests's remote leader of region 4
1336845198916: INSIDE SERVER_GET_PHOTO!!!
1336845198927: Received PROC_REQUEST 11:2 (2,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(2,0)
1336845198928: Dispatching Atom PROC_REPLY 11:2 (4,0)->(2,0)
1336845198929: mux: I got a CSM packet at a leader 

1336845198948: Sending UDP payload: 3812
1336845198951: forwarding disabled, not forwarding packets
1336845199165: Received UDP payload: 446
1336845199527: Received UDP payload: 446
1336845200002: Received UDP payload: 446
1336845201146: inside sendPacket(Packet p)
1336845201149: Sending UDP payload: 446
1336845201194: Received UDP payload: 446
1336845201783: Received UDP payload: 642
1336845201788: mux: Inside mux Packet.CLIENT_REQUEST
1336845201815: Received UDP payload: 1006
1336845201821: mux: GOT CSM_Msg
1336845201822: removed replies before id 4 from sentReplies of size 0
1336845201822: inside handleDSMRequest. At requests's remote leader of region 4
1336845201825: INSIDE SERVER_GET_PHOTO!!!
1336845201832: Received PROC_REQUEST 11:4 (5,0)->(4,0), replying PROC_REPLY 11:4 (4,0)->(5,0)
1336845201838: Received UDP payload: 446
1336845201846: mux: Inside Packet.SERVER_REPLY
1336845201846: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845201845: Dispatching Atom PROC_REPLY 11:4 (4,0)->(5,0)
1336845201846: mux: I got a CSM packet at a leader 

1336845201847: Sending UDP payload: 3812
1336845201854: forwarding disabled, not forwarding packets
1336845201936: Received UDP payload: 3465
1336845201938: mux: Inside Packet.SERVER_REPLY
1336845201938: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845201949: Received UDP payload: 446
1336845201951: mux: Inside mux Packet.CLIENT_REQUEST
1336845202035: Received UDP payload: 446
1336845202731: Received UDP payload: 1006
1336845202740: mux: GOT CSM_Msg
1336845202741: removed replies before id 5 from sentReplies of size 0
1336845202741: inside handleDSMRequest. At requests's remote leader of region 4
1336845202754: INSIDE SERVER_GET_PHOTO!!!
1336845202759: Received PROC_REQUEST 11:5 (5,0)->(4,0), replying PROC_REPLY 11:5 (4,0)->(5,0)
1336845202760: Dispatching Atom PROC_REPLY 11:5 (4,0)->(5,0)
1336845202761: mux: I got a CSM packet at a leader 

1336845202775: Sending UDP payload: 3812
1336845202779: forwarding disabled, not forwarding packets
1336845204162: Received UDP payload: 446
1336845204543: Received UDP payload: 446
1336845204865: canPressButton = TRUE
1336845204866: areButtonsEnabled --> false 
1336845204866: get picture disableButtonsR
1336845204867: areButtonsEnabled --> false
1336845204971: one more getNum: 17
1336845204972: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=16 getBad=0 getTimedout=0 getPercent=94%
1336845204972: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336845204972: change local requestCounter to 39
1336845204975: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010039 Client in region: 4 Client nodID: 5010
1336845205032: ----------------------------
1336845205032: inside sendRequestPacketRepeatingRunnable for requestCount = 5010039
1336845205032: I'm a leader, my requesting photos packet going to mux directly
1336845205033: --- Finished one round of sending REQUEST Packet ---------
1336845205016: Received UDP payload: 446
1336845205033: mux: Inside mux Packet.CLIENT_REQUEST
1336845205033: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845205082: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845205033: inside handleClientRequest. Originator leader of region 4
1336845205033: got new request, requestCounter = 5010039
1336845205033: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845205036: Sending to region: 4
1336845205037: Sending PROC_REQUEST 11:10 (4,0)->(4,0)
1336845205037: Dispatching Atom PROC_REQUEST 11:10 (4,0)->(4,0)
1336845205037: mux: I got a CSM packet at a leader 

1336845205037: Note down new request by adding requestCounter=5010039 to HashMap processedRequests
1336845205037: Make FirstLeg Ack regardless of new or already-processed requests
1336845205037: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845205064: Sending UDP payload: 1006
1336845205066: removed replies before id 10 from sentReplies of size 0
1336845205066: inside handleDSMRequest. At requests's remote leader of region 4
1336845205067: INSIDE SERVER_GET_PHOTO!!!
1336845205069: dst_region == src_region = 4
1336845205069:  1 self to self atomRequest
1336845205078: Received PROC_REQUEST 11:10 (4,0)->(4,0), replying PROC_REPLY 11:10 (4,0)->(4,0)
1336845205079: Dispatching Atom PROC_REPLY 11:10 (4,0)->(4,0)
1336845205080: mux: I got a CSM packet at a leader 

1336845205120: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845205120: disabling progressdialog due to successful new photo get
1336845205121: Inside _enableButtons
1336845205121: areButtonsEnabled --> true
1336845205122: send final leg ack regardless of new or already-processed reply
1336845205122: inside finalLegAck: change requestCounter to 40
1336845205122: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010040 Client in region: (4,0) Client nodID: 5010
1336845205123: I'm a leader client, my final_leg packet going to mux directly
1336845205124: new client_show_remotephoto reply with replyCounter 501003900
1336845205124: note down new reply by adding replyCounter=501003900 to HashMap processedReplies
1336845205125: leader download remote photo latency = 87
1336845205125: = leader download start 1336845205033 ~ stop 1336845205120
1336845205128: one more getGood: 17
1336845205129: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=17 getBad=0 getTimedout=0 getPercent=100%
1336845205129: adding get latency: 87
1336845205130: Success! Client getting photo from remote region, showing photo...
1336845205130: Remote photo's length: 2784
1336845205085: Sending UDP payload: 3812
1336845205086: Received PROC_REPLY 11:10 (4,0)->(4,0), handing to UserApp
1336845205087: inside handleDSMReply. Now back in originator leader of region 4
1336845205087: DSM layer: Going to and from remote region took latency = 50
1336845205087: DSM layer: orig leader sent packet at 1336845205036 ~ received reply from remote leader at 1336845205086
1336845205088: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845205088: leader client reply has replyCounter: 501003900
1336845205088: reply packet contains the newest photo/success info from the remote region
1336845205089: inside sendReplies of replyCount = 501003900
1336845205089: =======================
1336845205089: inside sendReplyRepeatingRunnable for replyCount = 501003900
1336845205089: Leader about to send REPLY packet, number: 501003900 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845205089: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845205089: === Finished one round of sending REPLY Packet =======
1336845205123: mux: Inside mux Packet.CLIENT_REQUEST
1336845205123: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845205123: inside handleClientRequest. Originator leader of region 4
1336845205123: got new request, requestCounter = 5010040
1336845205123: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501003900
1336845205123: Yay the last leg succeeded. Removing reply runnables ...
1336845205124: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501003900
1336845205124: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501003900
1336845205124: do not send ack for received final_leg_ack
1336845206147: inside sendPacket(Packet p)
1336845206179: Sending UDP payload: 446
1336845206228: Received UDP payload: 446
1336845206389: Received UDP payload: 642
1336845206393: mux: Inside mux Packet.CLIENT_REQUEST
1336845206393: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845206393: inside handleClientRequest. Originator leader of region 4
1336845206393: got new request, requestCounter = 5009039
1336845206394: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845206397: Sending to region: 4
1336845206398: Sending PROC_REQUEST 11:11 (4,0)->(4,0)
1336845206399: Dispatching Atom PROC_REQUEST 11:11 (4,0)->(4,0)
1336845206400: mux: I got a CSM packet at a leader 

1336845206399: Note down new request by adding requestCounter=5009039 to HashMap processedRequests
1336845206399: Make FirstLeg Ack regardless of new or already-processed requests
1336845206399: The leader sending a First Leg ack to originator client (which id = 5009)
1336845206399: inside sendPacket(Packet p)
1336845206412: Sending UDP payload: 1006
1336845206414: removed replies before id 11 from sentReplies of size 0
1336845206414: inside handleDSMRequest. At requests's remote leader of region 4
1336845206415: INSIDE SERVER_GET_PHOTO!!!
1336845206419: dst_region == src_region = 4
1336845206419:  1 self to self atomRequest
1336845206431: Received PROC_REQUEST 11:11 (4,0)->(4,0), replying PROC_REPLY 11:11 (4,0)->(4,0)
1336845206431: Dispatching Atom PROC_REPLY 11:11 (4,0)->(4,0)
1336845206443: mux: I got a CSM packet at a leader 

1336845206433: Sending UDP payload: 446
1336845206445: Sending UDP payload: 3812
1336845206447: Received PROC_REPLY 11:11 (4,0)->(4,0), handing to UserApp
1336845206448: inside handleDSMReply. Now back in originator leader of region 4
1336845206448: DSM layer: Going to and from remote region took latency = 51
1336845206448: DSM layer: orig leader sent packet at 1336845206397 ~ received reply from remote leader at 1336845206448
1336845206449: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845206449: leader client reply has replyCounter: 500903900
1336845206449: reply packet contains the newest photo/success info from the remote region
1336845206450: inside sendReplies of replyCount = 500903900
1336845206450: =======================
1336845206450: inside sendReplyRepeatingRunnable for replyCount = 500903900
1336845206450: Leader about to send REPLY packet, number: 500903900 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845206450: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845206451: inside sendPacket(Packet p)
1336845206451: === Finished one round of sending REPLY Packet =======
1336845206452: Sending UDP payload: 3465
1336845206548: Received UDP payload: 446
1336845206550: mux: Inside mux Packet.CLIENT_REQUEST
1336845206550: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845206550: inside handleClientRequest. Originator leader of region 4
1336845206550: got new request, requestCounter = 5009040
1336845206551: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500903900
1336845206551: Yay the last leg succeeded. Removing reply runnables ...
1336845206551: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500903900
1336845206551: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500903900
1336845206551: do not send ack for received final_leg_ack
1336845207030: Received UDP payload: 446
1336845209168: Received UDP payload: 446
1336845209575: Received UDP payload: 446
1336845210020: Received UDP payload: 446
1336845211154: inside sendPacket(Packet p)
1336845211157: Sending UDP payload: 446
1336845211197: Received UDP payload: 446
1336845212087: Received UDP payload: 446
1336845214064: Received UDP payload: 642
1336845214068: mux: Inside mux Packet.CLIENT_REQUEST
1336845214140: Received UDP payload: 1006
1336845214151: mux: GOT CSM_Msg
1336845214151: forwarding disabled, not forwarding packets
1336845214161: Received UDP payload: 446
1336845214165: mux: Inside Packet.SERVER_REPLY
1336845214166: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845214166: Received UDP payload: 446
1336845214246: Received UDP payload: 3734
1336845214249: mux: GOT CSM_Msg
1336845214249: forwarding disabled, not forwarding packets
1336845214303: Received UDP payload: 3387
1336845214305: mux: Inside Packet.SERVER_REPLY
1336845214305: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845214328: Received UDP payload: 446
1336845214330: mux: Inside mux Packet.CLIENT_REQUEST
1336845214555: Received UDP payload: 446
1336845215159: Received UDP payload: 1006
1336845215166: mux: GOT CSM_Msg
1336845215166: forwarding disabled, not forwarding packets
1336845215257: Received UDP payload: 3734
1336845215264: mux: GOT CSM_Msg
1336845215264: forwarding disabled, not forwarding packets
1336845216155: inside sendPacket(Packet p)
1336845216158: Sending UDP payload: 446
1336845216203: Received UDP payload: 446
1336845217622: Received UDP payload: 446
1336845218041: Received UDP payload: 1006
1336845218050: mux: GOT CSM_Msg
1336845218050: forwarding disabled, not forwarding packets
1336845218064: Received UDP payload: 446
1336845218068: mux: Inside Packet.SERVER_REPLY
1336845218068: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845218137: Received UDP payload: 3734
1336845218139: mux: GOT CSM_Msg
1336845218139: forwarding disabled, not forwarding packets
1336845219117: Received UDP payload: 446
1336845219153: Received UDP payload: 3387
1336845219159: mux: Inside Packet.SERVER_REPLY
1336845219159: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845219171: Received UDP payload: 446
1336845219213: Received UDP payload: 1006
1336845219219: mux: GOT CSM_Msg
1336845219220: forwarding disabled, not forwarding packets
1336845219275: Received UDP payload: 3734
1336845219277: mux: GOT CSM_Msg
1336845219278: forwarding disabled, not forwarding packets
1336845219328: Received UDP payload: 446
1336845219330: mux: Inside mux Packet.CLIENT_REQUEST
1336845219612: Received UDP payload: 446
1336845221156: inside sendPacket(Packet p)
1336845221159: Sending UDP payload: 446
1336845221220: Received UDP payload: 446
1336845222612: Received UDP payload: 446
1336845224132: Received UDP payload: 446
1336845224185: Received UDP payload: 446
1336845224575: Received UDP payload: 446
1336845225771: Received UDP payload: 1006
1336845225780: mux: GOT CSM_Msg
1336845225780: forwarding disabled, not forwarding packets
1336845225859: Received UDP payload: 3734
1336845225861: mux: GOT CSM_Msg
1336845225861: forwarding disabled, not forwarding packets
1336845226158: inside sendPacket(Packet p)
1336845226159: Sending UDP payload: 446
1336845226223: Received UDP payload: 446
1336845226676: Received UDP payload: 1006
1336845226684: mux: GOT CSM_Msg
1336845226684: forwarding disabled, not forwarding packets
1336845226753: Received UDP payload: 3734
1336845226755: mux: GOT CSM_Msg
1336845226755: forwarding disabled, not forwarding packets
1336845227609: Received UDP payload: 446
1336845229141: Received UDP payload: 446
1336845229214: Received UDP payload: 446
1336845229580: Received UDP payload: 446
1336845231158: inside sendPacket(Packet p)
1336845231161: Sending UDP payload: 446
1336845231227: Received UDP payload: 446
1336845231966: Received UDP payload: 642
1336845231970: mux: Inside mux Packet.CLIENT_REQUEST
1336845232001: Received UDP payload: 1006
1336845232008: mux: GOT CSM_Msg
1336845232009: forwarding disabled, not forwarding packets
1336845232017: Received UDP payload: 446
1336845232021: mux: Inside Packet.SERVER_REPLY
1336845232022: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845232062: Received UDP payload: 3734
1336845232064: mux: GOT CSM_Msg
1336845232064: forwarding disabled, not forwarding packets
1336845232101: Received UDP payload: 3387
1336845232103: mux: Inside Packet.SERVER_REPLY
1336845232103: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845232176: Received UDP payload: 446
1336845232178: mux: Inside mux Packet.CLIENT_REQUEST
1336845232615: Received UDP payload: 446
1336845232920: canPressButton = TRUE
1336845232921: areButtonsEnabled --> false 
1336845232921: get picture disableButtonsR
1336845232921: areButtonsEnabled --> false
1336845232947: one more getNum: 18
1336845232948: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=17 getBad=0 getTimedout=0 getPercent=94%
1336845232948: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336845232948: change local requestCounter to 41
1336845232952: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010041 Client in region: 4 Client nodID: 5010
1336845232982: ----------------------------
1336845232983: inside sendRequestPacketRepeatingRunnable for requestCount = 5010041
1336845232983: I'm a leader, my requesting photos packet going to mux directly
1336845232989: --- Finished one round of sending REQUEST Packet ---------
1336845232984: mux: Inside mux Packet.CLIENT_REQUEST
1336845232984: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845233028: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845232984: inside handleClientRequest. Originator leader of region 4
1336845232984: got new request, requestCounter = 5010041
1336845232984: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845232985: Sending to region: 5
1336845232985: Sending PROC_REQUEST 11:4 (4,0)->(5,0)
1336845232986: Dispatching Atom PROC_REQUEST 11:4 (4,0)->(5,0)
1336845232986: mux: I got a CSM packet at a leader 

1336845232986: Note down new request by adding requestCounter=5010041 to HashMap processedRequests
1336845232986: Make FirstLeg Ack regardless of new or already-processed requests
1336845232986: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845232987: Sending UDP payload: 1006
1336845232988: forwarding disabled, not forwarding packets
1336845233099: Received UDP payload: 3734
1336845233101: mux: GOT CSM_Msg
1336845233101: Received PROC_REPLY 11:4 (5,0)->(4,0), handing to UserApp
1336845233101: inside handleDSMReply. Now back in originator leader of region 4
1336845233101: DSM layer: Going to and from remote region took latency = 116
1336845233101: DSM layer: orig leader sent packet at 1336845232985 ~ received reply from remote leader at 1336845233101
1336845233102: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845233102: leader client reply has replyCounter: 501004100
1336845233102: reply packet contains the newest photo/success info from the remote region
1336845233102: inside sendReplies of replyCount = 501004100
1336845233107: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845233108: disabling progressdialog due to successful new photo get
1336845233108: Inside _enableButtons
1336845233108: areButtonsEnabled --> true
1336845233108: send final leg ack regardless of new or already-processed reply
1336845233109: inside finalLegAck: change requestCounter to 42
1336845233109: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010042 Client in region: (4,0) Client nodID: 5010
1336845233109: I'm a leader client, my final_leg packet going to mux directly
1336845233110: new client_show_remotephoto reply with replyCounter 501004100
1336845233111: note down new reply by adding replyCounter=501004100 to HashMap processedReplies
1336845233111: leader download remote photo latency = 123
1336845233111: = leader download start 1336845232984 ~ stop 1336845233107
1336845233112: one more getGood: 18
1336845233113: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336845233114: adding get latency: 123
1336845233114: Success! Client getting photo from remote region, showing photo...
1336845233114: Remote photo's length: 2706
1336845233103: =======================
1336845233103: inside sendReplyRepeatingRunnable for replyCount = 501004100
1336845233103: Leader about to send REPLY packet, number: 501004100 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845233104: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845233104: === Finished one round of sending REPLY Packet =======
1336845233109: mux: Inside mux Packet.CLIENT_REQUEST
1336845233109: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845233110: inside handleClientRequest. Originator leader of region 4
1336845233110: got new request, requestCounter = 5010042
1336845233110: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501004100
1336845233110: Yay the last leg succeeded. Removing reply runnables ...
1336845233110: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501004100
1336845233110: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501004100
1336845233110: do not send ack for received final_leg_ack
1336845233329: Received UDP payload: 1006
1336845233342: mux: GOT CSM_Msg
1336845233342: forwarding disabled, not forwarding packets
1336845233371: Received UDP payload: 3734
1336845233377: mux: GOT CSM_Msg
1336845233378: forwarding disabled, not forwarding packets
1336845234147: Received UDP payload: 446
1336845234192: Received UDP payload: 446
1336845234538: Received UDP payload: 642
1336845234545: mux: Inside mux Packet.CLIENT_REQUEST
1336845234546: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845234546: inside handleClientRequest. Originator leader of region 4
1336845234547: got new request, requestCounter = 5009041
1336845234547: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845234568: Sending to region: 5
1336845234570: Sending PROC_REQUEST 11:5 (4,0)->(5,0)
1336845234571: Dispatching Atom PROC_REQUEST 11:5 (4,0)->(5,0)
1336845234573: mux: I got a CSM packet at a leader 

1336845234571: Note down new request by adding requestCounter=5009041 to HashMap processedRequests
1336845234571: Make FirstLeg Ack regardless of new or already-processed requests
1336845234572: The leader sending a First Leg ack to originator client (which id = 5009)
1336845234572: inside sendPacket(Packet p)
1336845234603: Sending UDP payload: 1006
1336845234603: forwarding disabled, not forwarding packets
1336845234604: Sending UDP payload: 446
1336845234696: Received UDP payload: 3734
1336845234698: mux: GOT CSM_Msg
1336845234699: Received PROC_REPLY 11:5 (5,0)->(4,0), handing to UserApp
1336845234699: inside handleDSMReply. Now back in originator leader of region 4
1336845234699: DSM layer: Going to and from remote region took latency = 130
1336845234699: DSM layer: orig leader sent packet at 1336845234569 ~ received reply from remote leader at 1336845234699
1336845234700: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845234700: leader client reply has replyCounter: 500904100
1336845234700: reply packet contains the newest photo/success info from the remote region
1336845234700: inside sendReplies of replyCount = 500904100
1336845234701: =======================
1336845234701: inside sendReplyRepeatingRunnable for replyCount = 500904100
1336845234701: Leader about to send REPLY packet, number: 500904100 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845234701: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845234701: inside sendPacket(Packet p)
1336845234701: === Finished one round of sending REPLY Packet =======
1336845234702: Sending UDP payload: 3387
1336845234773: Received UDP payload: 446
1336845234774: mux: Inside mux Packet.CLIENT_REQUEST
1336845234774: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845234774: inside handleClientRequest. Originator leader of region 4
1336845234774: got new request, requestCounter = 5009042
1336845234775: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500904100
1336845234775: Yay the last leg succeeded. Removing reply runnables ...
1336845234775: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500904100
1336845234775: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500904100
1336845234775: do not send ack for received final_leg_ack
1336845236160: inside sendPacket(Packet p)
1336845236169: Sending UDP payload: 446
1336845236234: Received UDP payload: 446
1336845236475: Received UDP payload: 446
1336845237614: Received UDP payload: 446
1336845239162: Received UDP payload: 446
1336845239197: Received UDP payload: 446
1336845241160: inside sendPacket(Packet p)
1336845241163: Sending UDP payload: 446
1336845241237: Received UDP payload: 446
1336845241476: Received UDP payload: 446
1336845242622: Received UDP payload: 446
1336845244148: Received UDP payload: 446
1336845244198: Received UDP payload: 446
1336845246163: inside sendPacket(Packet p)
1336845246166: Sending UDP payload: 446
1336845246237: Received UDP payload: 446
1336845246477: Received UDP payload: 446
1336845247619: Received UDP payload: 446
1336845249154: Received UDP payload: 446
1336845249197: Received UDP payload: 446
1336845251085: leader to cloud hearbeat...
1336845251248: Received UDP payload: 446
1336845251482: Received UDP payload: 446
1336845252617: Received UDP payload: 446
1336845253176: inside sendPacket(Packet p)
1336845253190: Sending UDP payload: 446
1336845254162: Received UDP payload: 446
1336845254207: Received UDP payload: 446
1336845256249: Received UDP payload: 446
1336845256494: Received UDP payload: 446
1336845256562: Received UDP payload: 3399
1336845256567: mux: Inside mux Packet.CLIENT_REQUEST
1336845256616: Received UDP payload: 3763
1336845256617: mux: GOT CSM_Msg
1336845256618: forwarding disabled, not forwarding packets
1336845256624: Received UDP payload: 446
1336845256625: mux: Inside Packet.SERVER_REPLY
1336845256625: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845256636: Received UDP payload: 1006
1336845256638: mux: GOT CSM_Msg
1336845256638: forwarding disabled, not forwarding packets
1336845256642: Received UDP payload: 659
1336845256644: mux: Inside Packet.SERVER_REPLY
1336845256644: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845256659: Received UDP payload: 446
1336845256660: mux: Inside mux Packet.CLIENT_REQUEST
1336845257468: Received UDP payload: 3760
1336845257470: mux: GOT CSM_Msg
1336845257471: forwarding disabled, not forwarding packets
1336845257484: Received UDP payload: 1006
1336845257489: mux: GOT CSM_Msg
1336845257489: forwarding disabled, not forwarding packets
1336845258197: inside sendPacket(Packet p)
1336845258198: Sending UDP payload: 446
1336845263197: inside sendPacket(Packet p)
1336845263198: Sending UDP payload: 446
1336845266517: Received UDP payload: 446
1336845267452: Received UDP payload: 3834
1336845267460: mux: GOT CSM_Msg
1336845267473: forwarding disabled, not forwarding packets
1336845267475: Received UDP payload: 1006
1336845267481: mux: GOT CSM_Msg
1336845267482: forwarding disabled, not forwarding packets
1336845267621: Received UDP payload: 446
1336845268199: inside sendPacket(Packet p)
1336845268202: Sending UDP payload: 446
1336845268501: Received UDP payload: 3370
1336845268508: mux: Inside mux Packet.CLIENT_REQUEST
1336845268756: Received UDP payload: 3370
1336845268761: mux: Inside mux Packet.CLIENT_REQUEST
1336845269071: Received UDP payload: 3370
1336845269075: mux: Inside mux Packet.CLIENT_REQUEST
1336845269166: Received UDP payload: 446
1336845269214: Received UDP payload: 446
1336845269374: Received UDP payload: 3370
1336845269378: mux: Inside mux Packet.CLIENT_REQUEST
1336845271527: Received UDP payload: 446
1336845272650: Received UDP payload: 446
1336845273200: inside sendPacket(Packet p)
1336845273203: Sending UDP payload: 446
1336845273979: canPressButton = TRUE
1336845273980: areButtonsEnabled --> false
1336845273980: disabling buttons ...
1336845273980: took picture disableButtonsR
1336845273981: areButtonsEnabled --> false
1336845273997: one more takeNum: 4
1336845273997: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336845273998: Clicked take picture button ..
1336845274173: Received UDP payload: 446
1336845274215: Received UDP payload: 446
1336845275238: inside HandlePictureStorage onPictureTaken()
1336845275239: one more takeCamGood: 4
1336845275239: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336845275726: Picture successfully taken, ORIG BYTE LENGTH = 2227757
1336845276099: Our new height x width: 306 x 408
1336845276100: Show photo from handle my camera take
1336845276100: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336845276100: change local requestCounter to 43
1336845276114: BYTE SIZE AFTER COMPRESSION: 2779
1336845276119: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5010043 Client in region: 4 Client nodID: 5010
1336845276147: ----------------------------
1336845276147: inside sendRequestPacketRepeatingRunnable for requestCount = 5010043
1336845276148: I'm a leader, my requesting photos packet going to mux directly
1336845276156: --- Finished one round of sending REQUEST Packet ---------
1336845276148: mux: Inside mux Packet.CLIENT_REQUEST
1336845276148: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845276189: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845276148: inside handleClientRequest. Originator leader of region 4
1336845276148: got new request, requestCounter = 5010043
1336845276148: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845276149: Sending PROC_REQUEST 10:12 (4,0)->(4,0)
1336845276149: Dispatching Atom PROC_REQUEST 10:12 (4,0)->(4,0)
1336845276150: mux: I got a CSM packet at a leader 

1336845276190: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845276191: I'm a leader and I successfully saved my client's new photo
1336845276192: now showing in UI the new photo I just saved ... 
1336845276192: the photo length: 2779
1336845276229: end of server show photo aside %%%%%%%%%
1336845276149: Note down new request by adding requestCounter=5010043 to HashMap processedRequests
1336845276149: Make FirstLeg Ack regardless of new or already-processed requests
1336845276149: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845276155: Sending UDP payload: 3807
1336845276162: removed replies before id 12 from sentReplies of size 0
1336845276162: inside handleDSMRequest. At requests's remote leader of region 4
1336845276164: Inside UPLOAD_PHOTO!!
1336845276167: my_gpinfo.isSuccess is now (should be true): true
1336845276168: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845276174: Received PROC_REQUEST 10:12 (4,0)->(4,0), replying PROC_REPLY 10:12 (4,0)->(4,0)
1336845276182: Dispatching Atom PROC_REPLY 10:12 (4,0)->(4,0)
1336845276183: mux: I got a CSM packet at a leader 

1336845276230: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336845276231: disabling progressdialog due to successful new photo upload
1336845276231: Inside _enableButtons
1336845276231: areButtonsEnabled --> true
1336845276231: send final leg ack regardless of new or already-processed reply
1336845276231: inside finalLegAck: change requestCounter to 44
1336845276232: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010044 Client in region: (4,0) Client nodID: 5010
1336845276232: I'm a leader client, my final_leg packet going to mux directly
1336845276233: new client_upload_photo_ack reply with replyCounter 501004300
1336845276234: note down new reply by adding replyCounter=501004300 to HashMap processedReplies
1336845276234: leader upload new photo latency = 82
1336845276234: = leader upload start 1336845276148 ~ stop 1336845276230
1336845276236: one more takeGoodSave: 4
1336845276237: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336845276237: adding take latency: 82
1336845276238: SUCCESS Client now knows saving photo on its leader succeeded
1336845276184: Sending UDP payload: 1006
1336845276185: Received PROC_REPLY 10:12 (4,0)->(4,0), handing to UserApp
1336845276185: inside handleDSMReply. Now back in originator leader of region 4
1336845276186: DSM layer: Going to and from remote region took latency = 37
1336845276186: DSM layer: orig leader sent packet at 1336845276148 ~ received reply from remote leader at 1336845276185
1336845276186: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845276186: leader client reply has replyCounter: 501004300
1336845276187: reply packet contains the success info for UPLOAD_PHOTO
1336845276187: inside sendReplies of replyCount = 501004300
1336845276187: =======================
1336845276187: inside sendReplyRepeatingRunnable for replyCount = 501004300
1336845276187: Leader about to send REPLY packet, number: 501004300 type: 16 Leader in region: (4,0) to Client nodID: 5010
1336845276187: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845276187: === Finished one round of sending REPLY Packet =======
1336845276232: mux: Inside mux Packet.CLIENT_REQUEST
1336845276232: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845276232: inside handleClientRequest. Originator leader of region 4
1336845276233: got new request, requestCounter = 5010044
1336845276233: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501004300
1336845276233: Yay the last leg succeeded. Removing reply runnables ...
1336845276233: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501004300
1336845276233: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501004300
1336845276233: do not send ack for received final_leg_ack
1336845276563: Received UDP payload: 446
1336845277565: Received UDP payload: 3447
1336845277575: mux: Inside mux Packet.CLIENT_REQUEST
1336845277575: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845277576: inside handleClientRequest. Originator leader of region 4
1336845277576: got new request, requestCounter = 5009043
1336845277577: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845277578: Sending PROC_REQUEST 10:13 (4,0)->(4,0)
1336845277579: Dispatching Atom PROC_REQUEST 10:13 (4,0)->(4,0)
1336845277581: mux: I got a CSM packet at a leader 

1336845277645: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845277647: I'm a leader and I successfully saved my client's new photo
1336845277648: now showing in UI the new photo I just saved ... 
1336845277648: the photo length: 2783
1336845277693: end of server show photo aside %%%%%%%%%
1336845277580: Note down new request by adding requestCounter=5009043 to HashMap processedRequests
1336845277580: Make FirstLeg Ack regardless of new or already-processed requests
1336845277580: The leader sending a First Leg ack to originator client (which id = 5009)
1336845277581: inside sendPacket(Packet p)
1336845277623: Received UDP payload: 446
1336845277628: Sending UDP payload: 3811
1336845277635: removed replies before id 13 from sentReplies of size 0
1336845277635: inside handleDSMRequest. At requests's remote leader of region 4
1336845277637: Inside UPLOAD_PHOTO!!
1336845277639: my_gpinfo.isSuccess is now (should be true): true
1336845277639: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845277640: Received PROC_REQUEST 10:13 (4,0)->(4,0), replying PROC_REPLY 10:13 (4,0)->(4,0)
1336845277640: Dispatching Atom PROC_REPLY 10:13 (4,0)->(4,0)
1336845277680: mux: I got a CSM packet at a leader 

1336845277641: Sending UDP payload: 446
1336845277687: Sending UDP payload: 1006
1336845277693: Received PROC_REPLY 10:13 (4,0)->(4,0), handing to UserApp
1336845277694: inside handleDSMReply. Now back in originator leader of region 4
1336845277694: DSM layer: Going to and from remote region took latency = 117
1336845277694: DSM layer: orig leader sent packet at 1336845277577 ~ received reply from remote leader at 1336845277694
1336845277696: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845277696: leader client reply has replyCounter: 500904300
1336845277696: reply packet contains the success info for UPLOAD_PHOTO
1336845277696: inside sendReplies of replyCount = 500904300
1336845277696: =======================
1336845277697: inside sendReplyRepeatingRunnable for replyCount = 500904300
1336845277697: Leader about to send REPLY packet, number: 500904300 type: 16 Leader in region: (4,0) to Client nodID: 5009
1336845277697: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845277697: inside sendPacket(Packet p)
1336845277697: === Finished one round of sending REPLY Packet =======
1336845277698: Sending UDP payload: 659
1336845277725: Received UDP payload: 446
1336845277728: mux: Inside mux Packet.CLIENT_REQUEST
1336845277728: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845277728: inside handleClientRequest. Originator leader of region 4
1336845277728: got new request, requestCounter = 5009044
1336845277728: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500904300
1336845277729: Yay the last leg succeeded. Removing reply runnables ...
1336845277729: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500904300
1336845277729: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500904300
1336845277729: do not send ack for received final_leg_ack
1336845278201: inside sendPacket(Packet p)
1336845278203: Sending UDP payload: 446
1336845278370: Received UDP payload: 446
1336845279174: Received UDP payload: 446
1336845281241: Received UDP payload: 446
1336845281539: Received UDP payload: 446
1336845282623: Received UDP payload: 446
1336845283203: inside sendPacket(Packet p)
1336845283214: Sending UDP payload: 446
1336845283384: Received UDP payload: 446
1336845284182: Received UDP payload: 446
1336845286222: Received UDP payload: 446
1336845286557: Received UDP payload: 446
1336845287637: Received UDP payload: 446
1336845288215: inside sendPacket(Packet p)
1336845288218: Sending UDP payload: 446
1336845288375: Received UDP payload: 446
1336845289189: Received UDP payload: 446
1336845291230: Received UDP payload: 446
1336845291569: Received UDP payload: 446
1336845292640: Received UDP payload: 446
1336845292968: Received UDP payload: 642
1336845292976: mux: Inside mux Packet.CLIENT_REQUEST
1336845293038: Received UDP payload: 1006
1336845293048: mux: GOT CSM_Msg
1336845293049: forwarding disabled, not forwarding packets
1336845293063: Received UDP payload: 446
1336845293067: mux: Inside Packet.SERVER_REPLY
1336845293067: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845293108: Received UDP payload: 3814
1336845293110: mux: GOT CSM_Msg
1336845293110: forwarding disabled, not forwarding packets
1336845293160: Received UDP payload: 3467
1336845293161: mux: Inside Packet.SERVER_REPLY
1336845293161: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845293172: Received UDP payload: 446
1336845293173: mux: Inside mux Packet.CLIENT_REQUEST
1336845293216: inside sendPacket(Packet p)
1336845293217: Sending UDP payload: 446
1336845293282: Received UDP payload: 642
1336845293283: mux: Inside mux Packet.CLIENT_REQUEST
1336845293302: Received UDP payload: 1006
1336845293304: mux: GOT CSM_Msg
1336845293304: forwarding disabled, not forwarding packets
1336845293315: Received UDP payload: 446
1336845293316: mux: Inside Packet.SERVER_REPLY
1336845293317: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845293368: Received UDP payload: 3814
1336845293370: mux: GOT CSM_Msg
1336845293370: forwarding disabled, not forwarding packets
1336845293379: Received UDP payload: 446
1336845293413: Received UDP payload: 3467
1336845293414: mux: Inside Packet.SERVER_REPLY
1336845293414: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845293426: Received UDP payload: 446
1336845293427: mux: Inside mux Packet.CLIENT_REQUEST
1336845294203: Received UDP payload: 446
1336845294733: Received UDP payload: 1006
1336845294740: mux: GOT CSM_Msg
1336845294740: forwarding disabled, not forwarding packets
1336845294774: Received UDP payload: 3814
1336845294782: mux: GOT CSM_Msg
1336845294782: forwarding disabled, not forwarding packets
1336845295357: Received UDP payload: 1006
1336845295364: mux: GOT CSM_Msg
1336845295365: forwarding disabled, not forwarding packets
1336845295404: Received UDP payload: 3814
1336845295411: mux: GOT CSM_Msg
1336845295411: forwarding disabled, not forwarding packets
1336845296231: Received UDP payload: 446
1336845296611: Received UDP payload: 446
1336845297663: Received UDP payload: 446
1336845298216: inside sendPacket(Packet p)
1336845298219: Sending UDP payload: 446
1336845298382: Received UDP payload: 446
1336845299188: Received UDP payload: 446
1336845301237: Received UDP payload: 446
1336845301607: Received UDP payload: 446
1336845301660: Received UDP payload: 1006
1336845301669: mux: GOT CSM_Msg
1336845301670: forwarding disabled, not forwarding packets
1336845301761: Received UDP payload: 3814
1336845301767: mux: GOT CSM_Msg
1336845301768: forwarding disabled, not forwarding packets
1336845302532: Received UDP payload: 1006
1336845302546: mux: GOT CSM_Msg
1336845302546: forwarding disabled, not forwarding packets
1336845302618: Received UDP payload: 3814
1336845302625: mux: GOT CSM_Msg
1336845302625: forwarding disabled, not forwarding packets
1336845302685: Received UDP payload: 446
1336845303217: inside sendPacket(Packet p)
1336845303218: Sending UDP payload: 446
1336845303398: Received UDP payload: 446
1336845304205: Received UDP payload: 446
1336845306274: Received UDP payload: 446
1336845306618: Received UDP payload: 446
1336845307186: Received UDP payload: 642
1336845307190: mux: Inside mux Packet.CLIENT_REQUEST
1336845307229: Received UDP payload: 1006
1336845307239: mux: GOT CSM_Msg
1336845307239: forwarding disabled, not forwarding packets
1336845307240: Received UDP payload: 446
1336845307259: mux: Inside Packet.SERVER_REPLY
1336845307259: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845307656: Received UDP payload: 446
1336845308011: Received UDP payload: 1006
1336845308019: mux: GOT CSM_Msg
1336845308019: forwarding disabled, not forwarding packets
1336845308116: Received UDP payload: 1006
1336845308118: mux: GOT CSM_Msg
1336845308118: forwarding disabled, not forwarding packets
1336845308136: Received UDP payload: 1006
1336845308139: mux: GOT CSM_Msg
1336845308139: forwarding disabled, not forwarding packets
1336845308217: Received UDP payload: 1006
1336845308220: mux: GOT CSM_Msg
1336845308220: forwarding disabled, not forwarding packets
1336845308224: inside sendPacket(Packet p)
1336845308225: Sending UDP payload: 446
1336845308320: Received UDP payload: 1006
1336845308323: mux: GOT CSM_Msg
1336845308323: forwarding disabled, not forwarding packets
1336845308386: Received UDP payload: 446
1336845308417: Received UDP payload: 1006
1336845308419: mux: GOT CSM_Msg
1336845308420: forwarding disabled, not forwarding packets
1336845308518: canPressButton = TRUE
1336845308521: areButtonsEnabled --> false 
1336845308521: get picture disableButtonsR
1336845308521: areButtonsEnabled --> false
1336845308545: one more getNum: 19
1336845308546: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=18 getBad=0 getTimedout=0 getPercent=94%
1336845308546: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336845308546: change local requestCounter to 45
1336845308550: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010045 Client in region: 4 Client nodID: 5010
1336845308519: Received UDP payload: 1006
1336845308520: mux: GOT CSM_Msg
1336845308521: forwarding disabled, not forwarding packets
1336845308580: ----------------------------
1336845308580: inside sendRequestPacketRepeatingRunnable for requestCount = 5010045
1336845308580: I'm a leader, my requesting photos packet going to mux directly
1336845308586: --- Finished one round of sending REQUEST Packet ---------
1336845308581: mux: Inside mux Packet.CLIENT_REQUEST
1336845308581: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845308620: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845308581: inside handleClientRequest. Originator leader of region 4
1336845308581: got new request, requestCounter = 5010045
1336845308582: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845308582: Sending to region: 0
1336845308583: Sending PROC_REQUEST 11:6 (4,0)->(0,0)
1336845308583: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845308584: mux: I got a CSM packet at a leader 

1336845308583: Note down new request by adding requestCounter=5010045 to HashMap processedRequests
1336845308583: Make FirstLeg Ack regardless of new or already-processed requests
1336845308583: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845308585: Sending UDP payload: 1006
1336845308586: forwarding disabled, not forwarding packets
1336845308623: Received UDP payload: 1006
1336845308625: mux: GOT CSM_Msg
1336845308625: forwarding disabled, not forwarding packets
1336845308722: Received UDP payload: 1006
1336845308724: mux: GOT CSM_Msg
1336845308724: forwarding disabled, not forwarding packets
1336845308822: Received UDP payload: 1006
1336845308824: mux: GOT CSM_Msg
1336845308824: forwarding disabled, not forwarding packets
1336845308924: Received UDP payload: 1006
1336845308926: mux: GOT CSM_Msg
1336845308927: forwarding disabled, not forwarding packets
1336845308939: Received UDP payload: 1006
1336845308942: mux: GOT CSM_Msg
1336845308942: forwarding disabled, not forwarding packets
1336845309026: Received UDP payload: 1006
1336845309028: mux: GOT CSM_Msg
1336845309028: forwarding disabled, not forwarding packets
1336845309037: Received UDP payload: 1006
1336845309048: mux: GOT CSM_Msg
1336845309049: forwarding disabled, not forwarding packets
1336845309136: Received UDP payload: 1006
1336845309141: mux: GOT CSM_Msg
1336845309141: forwarding disabled, not forwarding packets
1336845309148: Received UDP payload: 1006
1336845309156: mux: GOT CSM_Msg
1336845309156: forwarding disabled, not forwarding packets
1336845309229: Received UDP payload: 1006
1336845309231: mux: GOT CSM_Msg
1336845309231: forwarding disabled, not forwarding packets
1336845309239: Received UDP payload: 1006
1336845309243: mux: GOT CSM_Msg
1336845309243: forwarding disabled, not forwarding packets
1336845309331: Received UDP payload: 1006
1336845309334: mux: GOT CSM_Msg
1336845309334: forwarding disabled, not forwarding packets
1336845309340: Received UDP payload: 1006
1336845309344: mux: GOT CSM_Msg
1336845309344: forwarding disabled, not forwarding packets
1336845309346: Received UDP payload: 659
1336845309348: mux: Inside Packet.SERVER_REPLY
1336845309348: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845309353: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309354: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309354: mux: I got a CSM packet at a leader 

1336845309356: Sending UDP payload: 1006
1336845309356: forwarding disabled, not forwarding packets
1336845309376: Received UDP payload: 446
1336845309378: mux: Inside mux Packet.CLIENT_REQUEST
1336845309433: Received UDP payload: 1006
1336845309440: mux: GOT CSM_Msg
1336845309441: forwarding disabled, not forwarding packets
1336845309455: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309456: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309456: mux: I got a CSM packet at a leader 

1336845309457: Sending UDP payload: 1006
1336845309458: forwarding disabled, not forwarding packets
1336845309535: Received UDP payload: 1006
1336845309544: mux: GOT CSM_Msg
1336845309544: forwarding disabled, not forwarding packets
1336845309557: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309558: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309558: mux: I got a CSM packet at a leader 

1336845309564: Sending UDP payload: 1006
1336845309564: forwarding disabled, not forwarding packets
1336845309641: Received UDP payload: 1006
1336845309648: mux: GOT CSM_Msg
1336845309648: forwarding disabled, not forwarding packets
1336845309660: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309661: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309661: mux: I got a CSM packet at a leader 

1336845309664: Sending UDP payload: 1006
1336845309664: forwarding disabled, not forwarding packets
1336845309740: Received UDP payload: 1006
1336845309747: mux: GOT CSM_Msg
1336845309747: forwarding disabled, not forwarding packets
1336845309763: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309764: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309765: mux: I got a CSM packet at a leader 

1336845309767: Sending UDP payload: 1006
1336845309768: forwarding disabled, not forwarding packets
1336845309801: Received UDP payload: 642
1336845309805: mux: Inside mux Packet.CLIENT_REQUEST
1336845309806: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845309807: inside handleClientRequest. Originator leader of region 4
1336845309807: got new request, requestCounter = 5009045
1336845309807: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845309811: Sending to region: 0
1336845309812: Sending PROC_REQUEST 11:7 (4,0)->(0,0)
1336845309813: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845309815: mux: I got a CSM packet at a leader 

1336845309814: Note down new request by adding requestCounter=5009045 to HashMap processedRequests
1336845309814: Make FirstLeg Ack regardless of new or already-processed requests
1336845309814: The leader sending a First Leg ack to originator client (which id = 5009)
1336845309814: inside sendPacket(Packet p)
1336845309817: Sending UDP payload: 1006
1336845309819: forwarding disabled, not forwarding packets
1336845309824: Sending UDP payload: 446
1336845309848: Received UDP payload: 1006
1336845309852: mux: GOT CSM_Msg
1336845309852: forwarding disabled, not forwarding packets
1336845309866: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309867: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309868: mux: I got a CSM packet at a leader 

1336845309870: Sending UDP payload: 1006
1336845309870: forwarding disabled, not forwarding packets
1336845309946: Received UDP payload: 1006
1336845309949: mux: GOT CSM_Msg
1336845309949: forwarding disabled, not forwarding packets
1336845309969: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309969: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845309969: mux: I got a CSM packet at a leader 

1336845309971: Sending UDP payload: 1006
1336845309971: forwarding disabled, not forwarding packets
1336845310046: Received UDP payload: 1006
1336845310049: mux: GOT CSM_Msg
1336845310049: forwarding disabled, not forwarding packets
1336845310069: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310070: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310070: mux: I got a CSM packet at a leader 

1336845310072: Sending UDP payload: 1006
1336845310072: forwarding disabled, not forwarding packets
1336845310154: Received UDP payload: 1006
1336845310158: mux: GOT CSM_Msg
1336845310159: forwarding disabled, not forwarding packets
1336845310171: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310172: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310172: mux: I got a CSM packet at a leader 

1336845310174: Sending UDP payload: 1006
1336845310174: forwarding disabled, not forwarding packets
1336845310246: Received UDP payload: 1006
1336845310252: mux: GOT CSM_Msg
1336845310252: forwarding disabled, not forwarding packets
1336845310273: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310274: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310274: mux: I got a CSM packet at a leader 

1336845310276: Sending UDP payload: 1006
1336845310277: forwarding disabled, not forwarding packets
1336845310375: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310375: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310377: mux: I got a CSM packet at a leader 

1336845310380: Sending UDP payload: 1006
1336845310381: forwarding disabled, not forwarding packets
1336845310477: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310478: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310481: mux: I got a CSM packet at a leader 

1336845310482: Sending UDP payload: 1006
1336845310483: forwarding disabled, not forwarding packets
1336845310578: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310579: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310580: mux: I got a CSM packet at a leader 

1336845310579: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845310579: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845310582: mux: I got a CSM packet at a leader 

1336845310581: Sending UDP payload: 1006
1336845310581: forwarding disabled, not forwarding packets
1336845310585: Sending UDP payload: 1006
1336845310586: forwarding disabled, not forwarding packets
1336845310680: Retrying PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310681: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336845310682: mux: I got a CSM packet at a leader 

1336845310681: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845310682: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845310687: mux: I got a CSM packet at a leader 

1336845310685: Sending UDP payload: 1006
1336845310687: forwarding disabled, not forwarding packets
1336845310691: Sending UDP payload: 1006
1336845310693: forwarding disabled, not forwarding packets
1336845310783: DSM Layer: Request timed out, send failure PROC_REPLY 11:6 (0,0)->(4,0)
1336845310784: Dispatching Atom PROC_REPLY 11:6 (0,0)->(4,0)
1336845310786: mux: I got a CSM packet at a leader 

1336845310805: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845310808: disabling progressdialog due to successful new photo get
1336845310809: Inside _enableButtons
1336845310809: areButtonsEnabled --> true
1336845310810: send final leg ack regardless of new or already-processed reply
1336845310810: inside finalLegAck: change requestCounter to 46
1336845310811: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010046 Client in region: (4,0) Client nodID: 5010
1336845310811: I'm a leader client, my final_leg packet going to mux directly
1336845310812: new client_show_remotephoto reply with replyCounter 501004500
1336845310813: note down new reply by adding replyCounter=501004500 to HashMap processedReplies
1336845310813: leader download remote photo latency = 2224
1336845310814: = leader download start 1336845308581 ~ stop 1336845310805
1336845310819: Can't get remote photo, because DSM Layer on originator leader timed out
1336845310832: one more getBad: 1
1336845310834: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=18 getBad=1 getTimedout=0 getPercent=94%
1336845310835: getBad++
1336845310784: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845310785: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845310801: mux: I got a CSM packet at a leader 

1336845310789: Sending UDP payload: 1006
1336845310791: Received PROC_REPLY 11:6 (0,0)->(4,0), handing to UserApp
1336845310792: inside handleDSMReply. Now back in originator leader of region 4
1336845310793: DSM layer timed out, don't log dsm layer latency stuff.
1336845310796: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845310797: leader client reply has replyCounter: 501004500
1336845310797: reply packet contains the newest photo/success info from the remote region
1336845310798: inside sendReplies of replyCount = 501004500
1336845310798: =======================
1336845310798: inside sendReplyRepeatingRunnable for replyCount = 501004500
1336845310799: Leader about to send REPLY packet, number: 501004500 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845310799: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845310800: === Finished one round of sending REPLY Packet =======
1336845310804: Sending UDP payload: 1006
1336845310806: forwarding disabled, not forwarding packets
1336845310812: mux: Inside mux Packet.CLIENT_REQUEST
1336845310812: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845310813: inside handleClientRequest. Originator leader of region 4
1336845310813: got new request, requestCounter = 5010046
1336845310814: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501004500
1336845310814: Yay the last leg succeeded. Removing reply runnables ...
1336845310814: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501004500
1336845310815: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501004500
1336845310815: do not send ack for received final_leg_ack
1336845310887: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845310888: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845310889: mux: I got a CSM packet at a leader 

1336845310896: Sending UDP payload: 1006
1336845310899: forwarding disabled, not forwarding packets
1336845310996: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845310997: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845310997: mux: I got a CSM packet at a leader 

1336845310998: Sending UDP payload: 1006
1336845310998: forwarding disabled, not forwarding packets
1336845311098: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311098: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311099: mux: I got a CSM packet at a leader 

1336845311100: Sending UDP payload: 1006
1336845311101: forwarding disabled, not forwarding packets
1336845311200: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311200: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311200: mux: I got a CSM packet at a leader 

1336845311202: Sending UDP payload: 1006
1336845311203: forwarding disabled, not forwarding packets
1336845311230: Received UDP payload: 446
1336845311302: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311303: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311304: mux: I got a CSM packet at a leader 

1336845311307: Sending UDP payload: 1006
1336845311311: forwarding disabled, not forwarding packets
1336845311410: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311411: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311412: mux: I got a CSM packet at a leader 

1336845311415: Sending UDP payload: 1006
1336845311416: forwarding disabled, not forwarding packets
1336845311512: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311513: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311513: mux: I got a CSM packet at a leader 

1336845311515: Sending UDP payload: 1006
1336845311515: forwarding disabled, not forwarding packets
1336845311614: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311615: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311616: mux: I got a CSM packet at a leader 

1336845311618: Sending UDP payload: 1006
1336845311619: forwarding disabled, not forwarding packets
1336845311621: Received UDP payload: 446
1336845311718: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311719: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311719: mux: I got a CSM packet at a leader 

1336845311721: Sending UDP payload: 1006
1336845311722: forwarding disabled, not forwarding packets
1336845311820: Retrying PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311821: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336845311821: mux: I got a CSM packet at a leader 

1336845311825: Sending UDP payload: 1006
1336845311825: forwarding disabled, not forwarding packets
1336845311922: DSM Layer: Request timed out, send failure PROC_REPLY 11:7 (0,0)->(4,0)
1336845311923: Dispatching Atom PROC_REPLY 11:7 (0,0)->(4,0)
1336845311925: mux: I got a CSM packet at a leader 

1336845311927: Sending UDP payload: 1006
1336845311928: Received PROC_REPLY 11:7 (0,0)->(4,0), handing to UserApp
1336845311929: inside handleDSMReply. Now back in originator leader of region 4
1336845311929: DSM layer timed out, don't log dsm layer latency stuff.
1336845311930: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845311930: leader client reply has replyCounter: 500904500
1336845311931: reply packet contains the newest photo/success info from the remote region
1336845311931: inside sendReplies of replyCount = 500904500
1336845311931: =======================
1336845311932: inside sendReplyRepeatingRunnable for replyCount = 500904500
1336845311932: Leader about to send REPLY packet, number: 500904500 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845311932: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845311932: inside sendPacket(Packet p)
1336845311933: === Finished one round of sending REPLY Packet =======
1336845311934: Sending UDP payload: 659
1336845312012: Received UDP payload: 446
1336845312014: mux: Inside mux Packet.CLIENT_REQUEST
1336845312014: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845312015: inside handleClientRequest. Originator leader of region 4
1336845312015: got new request, requestCounter = 5009046
1336845312015: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500904500
1336845312015: Yay the last leg succeeded. Removing reply runnables ...
1336845312015: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500904500
1336845312016: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500904500
1336845312016: do not send ack for received final_leg_ack
1336845312681: Received UDP payload: 446
1336845313226: inside sendPacket(Packet p)
1336845313236: Sending UDP payload: 446
1336845313384: Received UDP payload: 446
1336845314214: Received UDP payload: 446
1336845316248: Received UDP payload: 446
1336845316635: Received UDP payload: 446
1336845317669: Received UDP payload: 446
1336845318239: inside sendPacket(Packet p)
1336845318242: Sending UDP payload: 446
1336845318401: Received UDP payload: 446
1336845319212: Received UDP payload: 446
1336845321268: Received UDP payload: 446
1336845321637: Received UDP payload: 446
1336845322676: Received UDP payload: 446
1336845323240: inside sendPacket(Packet p)
1336845323254: Sending UDP payload: 446
1336845323409: Received UDP payload: 446
1336845324225: Received UDP payload: 446
1336845326263: Received UDP payload: 446
1336845326658: Received UDP payload: 446
1336845327679: Received UDP payload: 446
1336845328241: inside sendPacket(Packet p)
1336845328245: Sending UDP payload: 446
1336845328430: Received UDP payload: 446
1336845329232: Received UDP payload: 446
1336845331262: Received UDP payload: 446
1336845331670: Received UDP payload: 446
1336845332684: Received UDP payload: 446
1336845333242: inside sendPacket(Packet p)
1336845333256: Sending UDP payload: 446
1336845333425: Received UDP payload: 446
1336845334242: Received UDP payload: 446
1336845336268: Received UDP payload: 446
1336845336677: Received UDP payload: 446
1336845338258: inside sendPacket(Packet p)
1336845338275: Sending UDP payload: 446
1336845338419: Received UDP payload: 446
1336845338575: Received UDP payload: 1006
1336845338583: mux: GOT CSM_Msg
1336845338584: forwarding disabled, not forwarding packets
1336845338668: Received UDP payload: 3814
1336845338675: mux: GOT CSM_Msg
1336845338675: forwarding disabled, not forwarding packets
1336845339680: Received UDP payload: 446
1336845340605: Received UDP payload: 642
1336845340610: mux: Inside mux Packet.CLIENT_REQUEST
1336845340689: Received UDP payload: 1006
1336845340696: mux: GOT CSM_Msg
1336845340696: forwarding disabled, not forwarding packets
1336845340699: Received UDP payload: 446
1336845340703: mux: Inside Packet.SERVER_REPLY
1336845340703: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845340749: Received UDP payload: 3814
1336845340751: mux: GOT CSM_Msg
1336845340751: forwarding disabled, not forwarding packets
1336845340792: Received UDP payload: 3467
1336845340794: mux: Inside Packet.SERVER_REPLY
1336845340794: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845340804: Received UDP payload: 446
1336845340805: mux: Inside mux Packet.CLIENT_REQUEST
1336845341119: Received UDP payload: 446
1336845341266: Received UDP payload: 446
1336845341688: Received UDP payload: 446
1336845343278: inside sendPacket(Packet p)
1336845343281: Sending UDP payload: 446
1336845343419: Received UDP payload: 446
1336845344286: canPressButton = TRUE
1336845344286: areButtonsEnabled --> false 
1336845344286: get picture disableButtonsR
1336845344287: areButtonsEnabled --> false
1336845344341: one more getNum: 20
1336845344342: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=18 getBad=1 getTimedout=0 getPercent=90%
1336845344342: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336845344343: change local requestCounter to 47
1336845344345: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010047 Client in region: 4 Client nodID: 5010
1336845344396: ----------------------------
1336845344397: inside sendRequestPacketRepeatingRunnable for requestCount = 5010047
1336845344397: I'm a leader, my requesting photos packet going to mux directly
1336845344403: --- Finished one round of sending REQUEST Packet ---------
1336845344397: mux: Inside mux Packet.CLIENT_REQUEST
1336845344397: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845344440: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845344397: inside handleClientRequest. Originator leader of region 4
1336845344398: got new request, requestCounter = 5010047
1336845344398: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845344400: Sending to region: 0
1336845344400: Sending PROC_REQUEST 11:8 (4,0)->(0,0)
1336845344401: Dispatching Atom PROC_REQUEST 11:8 (4,0)->(0,0)
1336845344401: mux: I got a CSM packet at a leader 

1336845344401: Note down new request by adding requestCounter=5010047 to HashMap processedRequests
1336845344401: Make FirstLeg Ack regardless of new or already-processed requests
1336845344401: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845344417: Sending UDP payload: 1006
1336845344431: forwarding disabled, not forwarding packets
1336845344515: Received UDP payload: 3814
1336845344526: mux: GOT CSM_Msg
1336845344532: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845344533: disabling progressdialog due to successful new photo get
1336845344533: Inside _enableButtons
1336845344533: areButtonsEnabled --> true
1336845344533: send final leg ack regardless of new or already-processed reply
1336845344534: inside finalLegAck: change requestCounter to 48
1336845344534: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010048 Client in region: (4,0) Client nodID: 5010
1336845344535: I'm a leader client, my final_leg packet going to mux directly
1336845344539: new client_show_remotephoto reply with replyCounter 501004700
1336845344539: note down new reply by adding replyCounter=501004700 to HashMap processedReplies
1336845344539: leader download remote photo latency = 135
1336845344539: = leader download start 1336845344397 ~ stop 1336845344532
1336845344544: one more getGood: 19
1336845344545: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=19 getBad=1 getTimedout=0 getPercent=95%
1336845344546: adding get latency: 135
1336845344546: Success! Client getting photo from remote region, showing photo...
1336845344546: Remote photo's length: 2786
1336845344527: Received PROC_REPLY 11:8 (0,0)->(4,0), handing to UserApp
1336845344527: inside handleDSMReply. Now back in originator leader of region 4
1336845344527: DSM layer: Going to and from remote region took latency = 127
1336845344527: DSM layer: orig leader sent packet at 1336845344400 ~ received reply from remote leader at 1336845344527
1336845344528: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845344528: leader client reply has replyCounter: 501004700
1336845344528: reply packet contains the newest photo/success info from the remote region
1336845344528: inside sendReplies of replyCount = 501004700
1336845344528: =======================
1336845344528: inside sendReplyRepeatingRunnable for replyCount = 501004700
1336845344528: Leader about to send REPLY packet, number: 501004700 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845344529: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845344529: === Finished one round of sending REPLY Packet =======
1336845344535: mux: Inside mux Packet.CLIENT_REQUEST
1336845344535: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845344535: inside handleClientRequest. Originator leader of region 4
1336845344535: got new request, requestCounter = 5010048
1336845344536: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501004700
1336845344536: Yay the last leg succeeded. Removing reply runnables ...
1336845344536: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501004700
1336845344536: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501004700
1336845344536: do not send ack for received final_leg_ack
1336845344696: Received UDP payload: 446
1336845345885: Received UDP payload: 642
1336845345891: mux: Inside mux Packet.CLIENT_REQUEST
1336845345892: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845345892: inside handleClientRequest. Originator leader of region 4
1336845345893: got new request, requestCounter = 5009047
1336845345893: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845345900: Sending to region: 0
1336845345902: Sending PROC_REQUEST 11:9 (4,0)->(0,0)
1336845345914: Dispatching Atom PROC_REQUEST 11:9 (4,0)->(0,0)
1336845345916: mux: I got a CSM packet at a leader 

1336845345914: Note down new request by adding requestCounter=5009047 to HashMap processedRequests
1336845345915: Make FirstLeg Ack regardless of new or already-processed requests
1336845345915: The leader sending a First Leg ack to originator client (which id = 5009)
1336845345915: inside sendPacket(Packet p)
1336845345959: Sending UDP payload: 1006
1336845345961: forwarding disabled, not forwarding packets
1336845345966: Sending UDP payload: 446
1336845346046: Received UDP payload: 3814
1336845346050: mux: GOT CSM_Msg
1336845346050: Received PROC_REPLY 11:9 (0,0)->(4,0), handing to UserApp
1336845346051: inside handleDSMReply. Now back in originator leader of region 4
1336845346051: DSM layer: Going to and from remote region took latency = 150
1336845346051: DSM layer: orig leader sent packet at 1336845345901 ~ received reply from remote leader at 1336845346051
1336845346052: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845346052: leader client reply has replyCounter: 500904700
1336845346052: reply packet contains the newest photo/success info from the remote region
1336845346053: inside sendReplies of replyCount = 500904700
1336845346053: =======================
1336845346053: inside sendReplyRepeatingRunnable for replyCount = 500904700
1336845346053: Leader about to send REPLY packet, number: 500904700 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845346054: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845346054: inside sendPacket(Packet p)
1336845346054: === Finished one round of sending REPLY Packet =======
1336845346055: Sending UDP payload: 3467
1336845346116: Received UDP payload: 446
1336845346118: mux: Inside mux Packet.CLIENT_REQUEST
1336845346118: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845346118: inside handleClientRequest. Originator leader of region 4
1336845346118: got new request, requestCounter = 5009048
1336845346118: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500904700
1336845346118: Yay the last leg succeeded. Removing reply runnables ...
1336845346119: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500904700
1336845346119: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500904700
1336845346119: do not send ack for received final_leg_ack
1336845346124: Received UDP payload: 446
1336845346272: Received UDP payload: 446
1336845346691: Received UDP payload: 446
1336845348280: inside sendPacket(Packet p)
1336845348294: Sending UDP payload: 446
1336845348429: Received UDP payload: 446
1336845349666: Received UDP payload: 446
1336845351136: Received UDP payload: 446
1336845351276: Received UDP payload: 446
1336845351713: Received UDP payload: 446
1336845353296: inside sendPacket(Packet p)
1336845353305: Sending UDP payload: 446
1336845353432: Received UDP payload: 446
1336845354666: Received UDP payload: 446
1336845356142: Received UDP payload: 446
1336845356276: Received UDP payload: 446
1336845357102: Received UDP payload: 642
1336845357108: mux: Inside mux Packet.CLIENT_REQUEST
1336845357151: Received UDP payload: 1006
1336845357159: mux: GOT CSM_Msg
1336845357159: forwarding disabled, not forwarding packets
1336845357164: Received UDP payload: 446
1336845357168: mux: Inside Packet.SERVER_REPLY
1336845357169: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845357221: Received UDP payload: 3760
1336845357223: mux: GOT CSM_Msg
1336845357223: forwarding disabled, not forwarding packets
1336845357271: Received UDP payload: 3413
1336845357272: mux: Inside Packet.SERVER_REPLY
1336845357272: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845357292: Received UDP payload: 446
1336845357293: mux: Inside mux Packet.CLIENT_REQUEST
1336845357972: Received UDP payload: 642
1336845357977: mux: Inside mux Packet.CLIENT_REQUEST
1336845358039: Received UDP payload: 1006
1336845358046: mux: GOT CSM_Msg
1336845358046: forwarding disabled, not forwarding packets
1336845358050: Received UDP payload: 446
1336845358054: mux: Inside Packet.SERVER_REPLY
1336845358054: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845358117: Received UDP payload: 3760
1336845358126: mux: GOT CSM_Msg
1336845358126: forwarding disabled, not forwarding packets
1336845358157: Received UDP payload: 3413
1336845358161: mux: Inside Packet.SERVER_REPLY
1336845358161: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845358184: Received UDP payload: 446
1336845358188: mux: Inside mux Packet.CLIENT_REQUEST
1336845358307: inside sendPacket(Packet p)
1336845358309: Sending UDP payload: 446
1336845358429: Received UDP payload: 446
1336845358779: Received UDP payload: 1006
1336845358788: mux: GOT CSM_Msg
1336845358789: forwarding disabled, not forwarding packets
1336845358861: Received UDP payload: 3760
1336845358867: mux: GOT CSM_Msg
1336845358868: forwarding disabled, not forwarding packets
1336845358885: Received UDP payload: 446
1336845359667: Received UDP payload: 446
1336845361152: Received UDP payload: 446
1336845361285: Received UDP payload: 446
1336845361746: Received UDP payload: 1006
1336845361754: mux: GOT CSM_Msg
1336845361754: forwarding disabled, not forwarding packets
1336845361783: Received UDP payload: 3760
1336845361790: mux: GOT CSM_Msg
1336845361790: forwarding disabled, not forwarding packets
1336845363307: inside sendPacket(Packet p)
1336845363315: Sending UDP payload: 446
1336845363432: Received UDP payload: 446
1336845363895: Received UDP payload: 446
1336845364669: Received UDP payload: 446
1336845366182: Received UDP payload: 446
1336845366309: Received UDP payload: 446
1336845367602: Received UDP payload: 1006
1336845367610: mux: GOT CSM_Msg
1336845367610: forwarding disabled, not forwarding packets
1336845367750: Received UDP payload: 3760
1336845367757: mux: GOT CSM_Msg
1336845367757: forwarding disabled, not forwarding packets
1336845368318: inside sendPacket(Packet p)
1336845368330: Sending UDP payload: 446
1336845368435: Received UDP payload: 446
1336845368906: Received UDP payload: 446
1336845369682: Received UDP payload: 446
1336845369882: Received UDP payload: 1006
1336845369890: mux: GOT CSM_Msg
1336845369890: forwarding disabled, not forwarding packets
1336845371167: Received UDP payload: 446
1336845371317: Received UDP payload: 446
1336845373178: leader to cloud hearbeat...
1336845373442: Received UDP payload: 446
1336845373925: Received UDP payload: 446
1336845374396: Received UDP payload: 642
1336845374397: mux: Inside mux Packet.CLIENT_REQUEST
1336845374442: Received UDP payload: 1006
1336845374446: mux: GOT CSM_Msg
1336845374446: forwarding disabled, not forwarding packets
1336845374447: Received UDP payload: 446
1336845374449: mux: Inside Packet.SERVER_REPLY
1336845374449: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845374517: Received UDP payload: 3760
1336845374520: mux: GOT CSM_Msg
1336845374521: forwarding disabled, not forwarding packets
1336845374564: Received UDP payload: 3413
1336845374566: mux: Inside Packet.SERVER_REPLY
1336845374566: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845374578: Received UDP payload: 446
1336845374580: mux: Inside mux Packet.CLIENT_REQUEST
1336845374669: Received UDP payload: 446
1336845375311: inside sendPacket(Packet p)
1336845375326: Sending UDP payload: 446
1336845375658: Received UDP payload: 1006
1336845375662: mux: GOT CSM_Msg
1336845375662: forwarding disabled, not forwarding packets
1336845375743: Received UDP payload: 3760
1336845375747: mux: GOT CSM_Msg
1336845375747: forwarding disabled, not forwarding packets
1336845376157: Received UDP payload: 446
1336845376249: canPressButton = TRUE
1336845376249: areButtonsEnabled --> false 
1336845376250: get picture disableButtonsR
1336845376250: areButtonsEnabled --> false
1336845376276: one more getNum: 21
1336845376277: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=19 getBad=1 getTimedout=0 getPercent=90%
1336845376277: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336845376277: change local requestCounter to 49
1336845376281: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010049 Client in region: 4 Client nodID: 5010
1336845376314: ----------------------------
1336845376314: inside sendRequestPacketRepeatingRunnable for requestCount = 5010049
1336845376314: I'm a leader, my requesting photos packet going to mux directly
1336845376340: --- Finished one round of sending REQUEST Packet ---------
1336845376314: mux: Inside mux Packet.CLIENT_REQUEST
1336845376315: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845376399: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845376315: inside handleClientRequest. Originator leader of region 4
1336845376315: got new request, requestCounter = 5010049
1336845376315: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845376316: Sending to region: 1
1336845376316: Sending PROC_REQUEST 11:6 (4,0)->(1,0)
1336845376317: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(1,0)
1336845376338: mux: I got a CSM packet at a leader 

1336845376337: Note down new request by adding requestCounter=5010049 to HashMap processedRequests
1336845376337: Make FirstLeg Ack regardless of new or already-processed requests
1336845376338: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845376339: Sending UDP payload: 1006
1336845376339: forwarding disabled, not forwarding packets
1336845376379: Received UDP payload: 446
1336845376443: Received UDP payload: 3760
1336845376445: mux: GOT CSM_Msg
1336845376471: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845376473: disabling progressdialog due to successful new photo get
1336845376474: Inside _enableButtons
1336845376474: areButtonsEnabled --> true
1336845376474: send final leg ack regardless of new or already-processed reply
1336845376474: inside finalLegAck: change requestCounter to 50
1336845376475: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010050 Client in region: (4,0) Client nodID: 5010
1336845376475: I'm a leader client, my final_leg packet going to mux directly
1336845376476: new client_show_remotephoto reply with replyCounter 501004900
1336845376477: note down new reply by adding replyCounter=501004900 to HashMap processedReplies
1336845376477: leader download remote photo latency = 157
1336845376477: = leader download start 1336845376314 ~ stop 1336845376471
1336845376480: one more getGood: 20
1336845376481: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=20 getBad=1 getTimedout=0 getPercent=95%
1336845376481: adding get latency: 157
1336845376482: Success! Client getting photo from remote region, showing photo...
1336845376482: Remote photo's length: 2732
1336845376446: Received PROC_REPLY 11:6 (1,0)->(4,0), handing to UserApp
1336845376446: inside handleDSMReply. Now back in originator leader of region 4
1336845376446: DSM layer: Going to and from remote region took latency = 130
1336845376446: DSM layer: orig leader sent packet at 1336845376316 ~ received reply from remote leader at 1336845376446
1336845376447: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845376447: leader client reply has replyCounter: 501004900
1336845376447: reply packet contains the newest photo/success info from the remote region
1336845376447: inside sendReplies of replyCount = 501004900
1336845376449: =======================
1336845376449: inside sendReplyRepeatingRunnable for replyCount = 501004900
1336845376450: Leader about to send REPLY packet, number: 501004900 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845376450: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845376450: === Finished one round of sending REPLY Packet =======
1336845376475: mux: Inside mux Packet.CLIENT_REQUEST
1336845376475: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845376475: inside handleClientRequest. Originator leader of region 4
1336845376475: got new request, requestCounter = 5010050
1336845376476: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501004900
1336845376476: Yay the last leg succeeded. Removing reply runnables ...
1336845376476: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501004900
1336845376476: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501004900
1336845376476: do not send ack for received final_leg_ack
1336845377777: Received UDP payload: 642
1336845377792: mux: Inside mux Packet.CLIENT_REQUEST
1336845377793: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845377794: inside handleClientRequest. Originator leader of region 4
1336845377794: got new request, requestCounter = 5009049
1336845377794: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845377819: Sending to region: 1
1336845377821: Sending PROC_REQUEST 11:7 (4,0)->(1,0)
1336845377823: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(1,0)
1336845377826: mux: I got a CSM packet at a leader 

1336845377824: Note down new request by adding requestCounter=5009049 to HashMap processedRequests
1336845377824: Make FirstLeg Ack regardless of new or already-processed requests
1336845377824: The leader sending a First Leg ack to originator client (which id = 5009)
1336845377825: inside sendPacket(Packet p)
1336845377853: Sending UDP payload: 1006
1336845377854: forwarding disabled, not forwarding packets
1336845377855: Sending UDP payload: 446
1336845377957: Received UDP payload: 3760
1336845377960: mux: GOT CSM_Msg
1336845377960: Received PROC_REPLY 11:7 (1,0)->(4,0), handing to UserApp
1336845377960: inside handleDSMReply. Now back in originator leader of region 4
1336845377960: DSM layer: Going to and from remote region took latency = 140
1336845377960: DSM layer: orig leader sent packet at 1336845377820 ~ received reply from remote leader at 1336845377960
1336845377961: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845377961: leader client reply has replyCounter: 500904900
1336845377961: reply packet contains the newest photo/success info from the remote region
1336845377961: inside sendReplies of replyCount = 500904900
1336845377962: =======================
1336845377962: inside sendReplyRepeatingRunnable for replyCount = 500904900
1336845377962: Leader about to send REPLY packet, number: 500904900 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845377962: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845377963: inside sendPacket(Packet p)
1336845377963: === Finished one round of sending REPLY Packet =======
1336845377964: Sending UDP payload: 3413
1336845378018: Received UDP payload: 446
1336845378019: mux: Inside mux Packet.CLIENT_REQUEST
1336845378019: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845378019: inside handleClientRequest. Originator leader of region 4
1336845378019: got new request, requestCounter = 5009050
1336845378019: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500904900
1336845378019: Yay the last leg succeeded. Removing reply runnables ...
1336845378020: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500904900
1336845378020: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500904900
1336845378020: do not send ack for received final_leg_ack
1336845378442: Received UDP payload: 446
1336845378916: Received UDP payload: 446
1336845379681: Received UDP payload: 446
1336845380331: inside sendPacket(Packet p)
1336845380332: Sending UDP payload: 446
1336845381172: Received UDP payload: 446
1336845381327: Received UDP payload: 446
1336845383919: Received UDP payload: 446
1336845384685: Received UDP payload: 446
1336845385332: inside sendPacket(Packet p)
1336845385333: Sending UDP payload: 446
1336845385509: Received UDP payload: 446
1336845386171: Received UDP payload: 446
1336845386334: Received UDP payload: 446
1336845388923: Received UDP payload: 446
1336845389696: Received UDP payload: 446
1336845390236: Received UDP payload: 642
1336845390240: mux: Inside mux Packet.CLIENT_REQUEST
1336845390273: Received UDP payload: 1006
1336845390281: mux: GOT CSM_Msg
1336845390281: Received UDP payload: 446
1336845390282: forwarding disabled, not forwarding packets
1336845390287: mux: Inside Packet.SERVER_REPLY
1336845390288: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845390332: inside sendPacket(Packet p)
1336845390334: Sending UDP payload: 446
1336845390361: Received UDP payload: 3834
1336845390363: mux: GOT CSM_Msg
1336845390364: forwarding disabled, not forwarding packets
1336845390415: Received UDP payload: 3487
1336845390417: mux: Inside Packet.SERVER_REPLY
1336845390417: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845390438: Received UDP payload: 446
1336845390440: mux: Inside mux Packet.CLIENT_REQUEST
1336845390516: Received UDP payload: 446
1336845391165: Received UDP payload: 446
1336845391330: Received UDP payload: 446
1336845391448: Received UDP payload: 1006
1336845391455: mux: GOT CSM_Msg
1336845391455: forwarding disabled, not forwarding packets
1336845391542: Received UDP payload: 3834
1336845391549: mux: GOT CSM_Msg
1336845391549: forwarding disabled, not forwarding packets
1336845391792: Received UDP payload: 1006
1336845391800: mux: GOT CSM_Msg
1336845391801: forwarding disabled, not forwarding packets
1336845391844: Received UDP payload: 3834
1336845391846: mux: GOT CSM_Msg
1336845391846: forwarding disabled, not forwarding packets
1336845393056: Received UDP payload: 642
1336845393062: mux: Inside mux Packet.CLIENT_REQUEST
1336845393133: Received UDP payload: 1006
1336845393135: mux: GOT CSM_Msg
1336845393135: forwarding disabled, not forwarding packets
1336845393136: Received UDP payload: 446
1336845393138: mux: Inside Packet.SERVER_REPLY
1336845393138: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845393193: Received UDP payload: 3834
1336845393195: mux: GOT CSM_Msg
1336845393195: forwarding disabled, not forwarding packets
1336845393239: Received UDP payload: 3487
1336845393240: mux: Inside Packet.SERVER_REPLY
1336845393240: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845393262: Received UDP payload: 446
1336845393263: mux: Inside mux Packet.CLIENT_REQUEST
1336845393922: Received UDP payload: 446
1336845394731: Received UDP payload: 446
1336845395332: inside sendPacket(Packet p)
1336845395335: Sending UDP payload: 446
1336845395535: Received UDP payload: 446
1336845396172: Received UDP payload: 446
1336845396349: Received UDP payload: 446
1336845397800: Received UDP payload: 1006
1336845397809: mux: GOT CSM_Msg
1336845397809: forwarding disabled, not forwarding packets
1336845397895: Received UDP payload: 3834
1336845397897: mux: GOT CSM_Msg
1336845397897: forwarding disabled, not forwarding packets
1336845398934: Received UDP payload: 446
1336845399286: Received UDP payload: 1006
1336845399295: mux: GOT CSM_Msg
1336845399295: forwarding disabled, not forwarding packets
1336845399329: Received UDP payload: 3834
1336845399336: mux: GOT CSM_Msg
1336845399336: forwarding disabled, not forwarding packets
1336845399739: Received UDP payload: 446
1336845400333: inside sendPacket(Packet p)
1336845400336: Sending UDP payload: 446
1336845400530: Received UDP payload: 446
1336845401165: Received UDP payload: 446
1336845403499: Received UDP payload: 446
1336845403932: Received UDP payload: 446
1336845404707: Received UDP payload: 446
1336845404891: Received UDP payload: 642
1336845404898: mux: Inside mux Packet.CLIENT_REQUEST
1336845404951: Received UDP payload: 1006
1336845404954: mux: GOT CSM_Msg
1336845404954: forwarding disabled, not forwarding packets
1336845404954: Received UDP payload: 446
1336845404955: mux: Inside Packet.SERVER_REPLY
1336845404956: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845405026: Received UDP payload: 3834
1336845405029: mux: GOT CSM_Msg
1336845405029: forwarding disabled, not forwarding packets
1336845405072: Received UDP payload: 3487
1336845405074: mux: Inside Packet.SERVER_REPLY
1336845405074: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845405084: Received UDP payload: 446
1336845405085: mux: Inside mux Packet.CLIENT_REQUEST
1336845405334: inside sendPacket(Packet p)
1336845405335: Sending UDP payload: 446
1336845405527: Received UDP payload: 446
1336845405795: canPressButton = TRUE
1336845405795: areButtonsEnabled --> false 
1336845405795: get picture disableButtonsR
1336845405795: areButtonsEnabled --> false
1336845405809: one more getNum: 22
1336845405809: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=20 getBad=1 getTimedout=0 getPercent=90%
1336845405810: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336845405810: change local requestCounter to 51
1336845405812: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010051 Client in region: 4 Client nodID: 5010
1336845405842: ----------------------------
1336845405842: inside sendRequestPacketRepeatingRunnable for requestCount = 5010051
1336845405843: I'm a leader, my requesting photos packet going to mux directly
1336845405848: --- Finished one round of sending REQUEST Packet ---------
1336845405843: mux: Inside mux Packet.CLIENT_REQUEST
1336845405843: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845405885: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845405843: inside handleClientRequest. Originator leader of region 4
1336845405843: got new request, requestCounter = 5010051
1336845405843: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845405844: Sending to region: 2
1336845405844: Sending PROC_REQUEST 11:6 (4,0)->(2,0)
1336845405845: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(2,0)
1336845405845: mux: I got a CSM packet at a leader 

1336845405845: Note down new request by adding requestCounter=5010051 to HashMap processedRequests
1336845405845: Make FirstLeg Ack regardless of new or already-processed requests
1336845405845: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845405847: Sending UDP payload: 1006
1336845405848: forwarding disabled, not forwarding packets
1336845405856: Received UDP payload: 1006
1336845405857: mux: GOT CSM_Msg
1336845405858: forwarding disabled, not forwarding packets
1336845405950: Received UDP payload: 3834
1336845405952: mux: GOT CSM_Msg
1336845405952: forwarding disabled, not forwarding packets
1336845406000: Received UDP payload: 3834
1336845406002: mux: GOT CSM_Msg
1336845406002: Received PROC_REPLY 11:6 (2,0)->(4,0), handing to UserApp
1336845406002: inside handleDSMReply. Now back in originator leader of region 4
1336845406002: DSM layer: Going to and from remote region took latency = 158
1336845406002: DSM layer: orig leader sent packet at 1336845405844 ~ received reply from remote leader at 1336845406002
1336845406003: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845406003: leader client reply has replyCounter: 501005100
1336845406003: reply packet contains the newest photo/success info from the remote region
1336845406003: inside sendReplies of replyCount = 501005100
1336845406005: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845406006: disabling progressdialog due to successful new photo get
1336845406006: Inside _enableButtons
1336845406006: areButtonsEnabled --> true
1336845406006: send final leg ack regardless of new or already-processed reply
1336845406007: inside finalLegAck: change requestCounter to 52
1336845406007: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010052 Client in region: (4,0) Client nodID: 5010
1336845406007: I'm a leader client, my final_leg packet going to mux directly
1336845406010: new client_show_remotephoto reply with replyCounter 501005100
1336845406010: note down new reply by adding replyCounter=501005100 to HashMap processedReplies
1336845406011: leader download remote photo latency = 162
1336845406011: = leader download start 1336845405843 ~ stop 1336845406005
1336845406012: one more getGood: 21
1336845406014: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=21 getBad=1 getTimedout=0 getPercent=95%
1336845406014: adding get latency: 162
1336845406015: Success! Client getting photo from remote region, showing photo...
1336845406015: Remote photo's length: 2806
1336845406004: =======================
1336845406004: inside sendReplyRepeatingRunnable for replyCount = 501005100
1336845406004: Leader about to send REPLY packet, number: 501005100 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845406004: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845406004: === Finished one round of sending REPLY Packet =======
1336845406007: mux: Inside mux Packet.CLIENT_REQUEST
1336845406007: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845406007: inside handleClientRequest. Originator leader of region 4
1336845406008: got new request, requestCounter = 5010052
1336845406008: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501005100
1336845406008: Yay the last leg succeeded. Removing reply runnables ...
1336845406008: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501005100
1336845406008: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501005100
1336845406008: do not send ack for received final_leg_ack
1336845406186: Received UDP payload: 446
1336845407606: Received UDP payload: 642
1336845407612: mux: Inside mux Packet.CLIENT_REQUEST
1336845407613: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845407614: inside handleClientRequest. Originator leader of region 4
1336845407614: got new request, requestCounter = 5009051
1336845407614: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845407616: Sending to region: 2
1336845407617: Sending PROC_REQUEST 11:7 (4,0)->(2,0)
1336845407618: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(2,0)
1336845407621: mux: I got a CSM packet at a leader 

1336845407619: Note down new request by adding requestCounter=5009051 to HashMap processedRequests
1336845407619: Make FirstLeg Ack regardless of new or already-processed requests
1336845407620: The leader sending a First Leg ack to originator client (which id = 5009)
1336845407620: inside sendPacket(Packet p)
1336845407636: Sending UDP payload: 1006
1336845407655: forwarding disabled, not forwarding packets
1336845407659: Sending UDP payload: 446
1336845407761: Received UDP payload: 3834
1336845407764: mux: GOT CSM_Msg
1336845407765: Received PROC_REPLY 11:7 (2,0)->(4,0), handing to UserApp
1336845407765: inside handleDSMReply. Now back in originator leader of region 4
1336845407766: DSM layer: Going to and from remote region took latency = 149
1336845407766: DSM layer: orig leader sent packet at 1336845407616 ~ received reply from remote leader at 1336845407765
1336845407767: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845407768: leader client reply has replyCounter: 500905100
1336845407768: reply packet contains the newest photo/success info from the remote region
1336845407768: inside sendReplies of replyCount = 500905100
1336845407768: =======================
1336845407769: inside sendReplyRepeatingRunnable for replyCount = 500905100
1336845407769: Leader about to send REPLY packet, number: 500905100 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845407769: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845407769: inside sendPacket(Packet p)
1336845407769: === Finished one round of sending REPLY Packet =======
1336845407771: Sending UDP payload: 3487
1336845407819: Received UDP payload: 446
1336845407821: mux: Inside mux Packet.CLIENT_REQUEST
1336845407821: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845407822: inside handleClientRequest. Originator leader of region 4
1336845407822: got new request, requestCounter = 5009052
1336845407822: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500905100
1336845407822: Yay the last leg succeeded. Removing reply runnables ...
1336845407822: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500905100
1336845407822: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500905100
1336845407823: do not send ack for received final_leg_ack
1336845408504: Received UDP payload: 446
1336845408924: Received UDP payload: 446
1336845409724: Received UDP payload: 446
1336845410334: inside sendPacket(Packet p)
1336845410345: Sending UDP payload: 446
1336845410539: Received UDP payload: 446
1336845411176: Received UDP payload: 446
1336845413518: Received UDP payload: 446
1336845413925: Received UDP payload: 446
1336845414736: Received UDP payload: 446
1336845415343: inside sendPacket(Packet p)
1336845415346: Sending UDP payload: 446
1336845415558: Received UDP payload: 446
1336845416180: Received UDP payload: 446
1336845418518: Received UDP payload: 446
1336845418929: Received UDP payload: 446
1336845419230: Received UDP payload: 642
1336845419236: mux: Inside mux Packet.CLIENT_REQUEST
1336845419276: Received UDP payload: 1006
1336845419282: mux: GOT CSM_Msg
1336845419283: forwarding disabled, not forwarding packets
1336845419290: Received UDP payload: 446
1336845419291: mux: Inside Packet.SERVER_REPLY
1336845419291: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845419336: Received UDP payload: 3745
1336845419338: mux: GOT CSM_Msg
1336845419338: forwarding disabled, not forwarding packets
1336845419389: Received UDP payload: 3398
1336845419390: mux: Inside Packet.SERVER_REPLY
1336845419390: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845419405: Received UDP payload: 446
1336845419406: mux: Inside mux Packet.CLIENT_REQUEST
1336845419721: Received UDP payload: 446
1336845420136: Received UDP payload: 1006
1336845420139: mux: GOT CSM_Msg
1336845420140: forwarding disabled, not forwarding packets
1336845420223: Received UDP payload: 3745
1336845420226: mux: GOT CSM_Msg
1336845420226: forwarding disabled, not forwarding packets
1336845420345: inside sendPacket(Packet p)
1336845420346: Sending UDP payload: 446
1336845420382: Received UDP payload: 1006
1336845420385: mux: GOT CSM_Msg
1336845420385: forwarding disabled, not forwarding packets
1336845420504: Received UDP payload: 3745
1336845420507: mux: GOT CSM_Msg
1336845420507: forwarding disabled, not forwarding packets
1336845420577: Received UDP payload: 446
1336845421183: Received UDP payload: 446
1336845421359: Received UDP payload: 642
1336845421364: mux: Inside mux Packet.CLIENT_REQUEST
1336845421470: Received UDP payload: 1006
1336845421482: mux: GOT CSM_Msg
1336845421482: forwarding disabled, not forwarding packets
1336845421493: Received UDP payload: 446
1336845421497: mux: Inside Packet.SERVER_REPLY
1336845421497: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845421556: Received UDP payload: 3745
1336845421558: mux: GOT CSM_Msg
1336845421558: forwarding disabled, not forwarding packets
1336845421606: Received UDP payload: 3398
1336845421607: mux: Inside Packet.SERVER_REPLY
1336845421607: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845421617: Received UDP payload: 446
1336845421619: mux: Inside mux Packet.CLIENT_REQUEST
1336845423527: Received UDP payload: 446
1336845423969: Received UDP payload: 446
1336845424737: Received UDP payload: 446
1336845425345: inside sendPacket(Packet p)
1336845425347: Sending UDP payload: 446
1336845425583: Received UDP payload: 446
1336845426209: Received UDP payload: 446
1336845428025: Received UDP payload: 1006
1336845428027: mux: GOT CSM_Msg
1336845428027: forwarding disabled, not forwarding packets
1336845428066: Received UDP payload: 3745
1336845428073: mux: GOT CSM_Msg
1336845428073: forwarding disabled, not forwarding packets
1336845428546: Received UDP payload: 446
1336845428944: Received UDP payload: 446
1336845430345: inside sendPacket(Packet p)
1336845430348: Sending UDP payload: 446
1336845430594: Received UDP payload: 446
1336845431215: Received UDP payload: 446
1336845432447: Received UDP payload: 1006
1336845432456: mux: GOT CSM_Msg
1336845432456: forwarding disabled, not forwarding packets
1336845432582: Received UDP payload: 3745
1336845432589: mux: GOT CSM_Msg
1336845432589: forwarding disabled, not forwarding packets
1336845433536: Received UDP payload: 446
1336845433935: Received UDP payload: 446
1336845434742: Received UDP payload: 446
1336845435346: inside sendPacket(Packet p)
1336845435349: Sending UDP payload: 446
1336845435609: Received UDP payload: 446
1336845436203: Received UDP payload: 446
1336845438556: Received UDP payload: 446
1336845438955: Received UDP payload: 446
1336845439756: Received UDP payload: 446
1336845440210: Received UDP payload: 642
1336845440216: mux: Inside mux Packet.CLIENT_REQUEST
1336845440245: Received UDP payload: 1006
1336845440251: mux: GOT CSM_Msg
1336845440252: forwarding disabled, not forwarding packets
1336845440261: Received UDP payload: 446
1336845440265: mux: Inside Packet.SERVER_REPLY
1336845440265: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845440319: Received UDP payload: 3745
1336845440322: mux: GOT CSM_Msg
1336845440322: forwarding disabled, not forwarding packets
1336845440347: inside sendPacket(Packet p)
1336845440349: Sending UDP payload: 446
1336845440371: Received UDP payload: 3398
1336845440373: mux: Inside Packet.SERVER_REPLY
1336845440374: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845440381: Received UDP payload: 446
1336845440382: mux: Inside mux Packet.CLIENT_REQUEST
1336845440608: Received UDP payload: 446
1336845440632: canPressButton = TRUE
1336845440633: areButtonsEnabled --> false 
1336845440633: get picture disableButtonsR
1336845440633: areButtonsEnabled --> false
1336845440659: one more getNum: 23
1336845440660: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=21 getBad=1 getTimedout=0 getPercent=91%
1336845440660: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336845440660: change local requestCounter to 53
1336845440661: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010053 Client in region: 4 Client nodID: 5010
1336845440693: ----------------------------
1336845440693: inside sendRequestPacketRepeatingRunnable for requestCount = 5010053
1336845440694: I'm a leader, my requesting photos packet going to mux directly
1336845440699: --- Finished one round of sending REQUEST Packet ---------
1336845440694: mux: Inside mux Packet.CLIENT_REQUEST
1336845440694: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845440744: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845440694: inside handleClientRequest. Originator leader of region 4
1336845440694: got new request, requestCounter = 5010053
1336845440694: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845440695: Sending to region: 3
1336845440695: Sending PROC_REQUEST 11:6 (4,0)->(3,0)
1336845440696: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(3,0)
1336845440696: mux: I got a CSM packet at a leader 

1336845440696: Note down new request by adding requestCounter=5010053 to HashMap processedRequests
1336845440696: Make FirstLeg Ack regardless of new or already-processed requests
1336845440696: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845440698: Sending UDP payload: 1006
1336845440699: forwarding disabled, not forwarding packets
1336845440764: Received UDP payload: 3745
1336845440767: mux: GOT CSM_Msg
1336845440767: Received PROC_REPLY 11:6 (3,0)->(4,0), handing to UserApp
1336845440767: inside handleDSMReply. Now back in originator leader of region 4
1336845440767: DSM layer: Going to and from remote region took latency = 72
1336845440767: DSM layer: orig leader sent packet at 1336845440695 ~ received reply from remote leader at 1336845440767
1336845440768: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845440768: leader client reply has replyCounter: 501005300
1336845440768: reply packet contains the newest photo/success info from the remote region
1336845440768: inside sendReplies of replyCount = 501005300
1336845440791: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845440792: disabling progressdialog due to successful new photo get
1336845440792: Inside _enableButtons
1336845440792: areButtonsEnabled --> true
1336845440792: send final leg ack regardless of new or already-processed reply
1336845440792: inside finalLegAck: change requestCounter to 54
1336845440793: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010054 Client in region: (4,0) Client nodID: 5010
1336845440793: I'm a leader client, my final_leg packet going to mux directly
1336845440796: new client_show_remotephoto reply with replyCounter 501005300
1336845440797: note down new reply by adding replyCounter=501005300 to HashMap processedReplies
1336845440797: leader download remote photo latency = 97
1336845440797: = leader download start 1336845440694 ~ stop 1336845440791
1336845440798: one more getGood: 22
1336845440799: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=22 getBad=1 getTimedout=0 getPercent=95%
1336845440799: adding get latency: 97
1336845440799: Success! Client getting photo from remote region, showing photo...
1336845440800: Remote photo's length: 2717
1336845440770: =======================
1336845440770: inside sendReplyRepeatingRunnable for replyCount = 501005300
1336845440770: Leader about to send REPLY packet, number: 501005300 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845440770: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845440771: === Finished one round of sending REPLY Packet =======
1336845440793: mux: Inside mux Packet.CLIENT_REQUEST
1336845440793: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845440793: inside handleClientRequest. Originator leader of region 4
1336845440794: got new request, requestCounter = 5010054
1336845440794: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501005300
1336845440794: Yay the last leg succeeded. Removing reply runnables ...
1336845440794: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501005300
1336845440795: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501005300
1336845440795: do not send ack for received final_leg_ack
1336845441207: Received UDP payload: 446
1336845441834: Received UDP payload: 1006
1336845441842: mux: GOT CSM_Msg
1336845441842: forwarding disabled, not forwarding packets
1336845441853: Received UDP payload: 642
1336845441856: mux: Inside mux Packet.CLIENT_REQUEST
1336845441856: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845441857: inside handleClientRequest. Originator leader of region 4
1336845441857: got new request, requestCounter = 5009053
1336845441857: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845441861: Sending to region: 3
1336845441862: Sending PROC_REQUEST 11:7 (4,0)->(3,0)
1336845441863: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(3,0)
1336845441864: mux: I got a CSM packet at a leader 

1336845441863: Note down new request by adding requestCounter=5009053 to HashMap processedRequests
1336845441863: Make FirstLeg Ack regardless of new or already-processed requests
1336845441864: The leader sending a First Leg ack to originator client (which id = 5009)
1336845441864: inside sendPacket(Packet p)
1336845441881: Sending UDP payload: 1006
1336845441903: forwarding disabled, not forwarding packets
1336845441905: Sending UDP payload: 446
1336845441934: Received UDP payload: 3745
1336845441938: mux: GOT CSM_Msg
1336845441939: forwarding disabled, not forwarding packets
1336845441978: Received UDP payload: 3745
1336845441981: mux: GOT CSM_Msg
1336845441982: Received PROC_REPLY 11:7 (3,0)->(4,0), handing to UserApp
1336845441982: inside handleDSMReply. Now back in originator leader of region 4
1336845441982: DSM layer: Going to and from remote region took latency = 120
1336845441983: DSM layer: orig leader sent packet at 1336845441862 ~ received reply from remote leader at 1336845441982
1336845441984: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845441985: leader client reply has replyCounter: 500905300
1336845441985: reply packet contains the newest photo/success info from the remote region
1336845441986: inside sendReplies of replyCount = 500905300
1336845441986: =======================
1336845441986: inside sendReplyRepeatingRunnable for replyCount = 500905300
1336845441986: Leader about to send REPLY packet, number: 500905300 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845441986: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845441987: inside sendPacket(Packet p)
1336845441987: === Finished one round of sending REPLY Packet =======
1336845441990: Sending UDP payload: 3398
1336845442043: Received UDP payload: 446
1336845442045: mux: Inside mux Packet.CLIENT_REQUEST
1336845442045: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845442046: inside handleClientRequest. Originator leader of region 4
1336845442046: got new request, requestCounter = 5009054
1336845442046: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500905300
1336845442046: Yay the last leg succeeded. Removing reply runnables ...
1336845442047: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500905300
1336845442047: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500905300
1336845442047: do not send ack for received final_leg_ack
1336845443572: Received UDP payload: 446
1336845443963: Received UDP payload: 446
1336845444746: Received UDP payload: 446
1336845445347: inside sendPacket(Packet p)
1336845445350: Sending UDP payload: 446
1336845445650: Received UDP payload: 446
1336845446219: Received UDP payload: 446
1336845448586: Received UDP payload: 446
1336845448963: Received UDP payload: 446
1336845449747: Received UDP payload: 446
1336845450348: inside sendPacket(Packet p)
1336845450351: Sending UDP payload: 446
1336845450641: Received UDP payload: 446
1336845451241: Received UDP payload: 446
1336845453605: Received UDP payload: 446
1336845453974: Received UDP payload: 446
1336845455349: inside sendPacket(Packet p)
1336845455352: Sending UDP payload: 446
1336845455651: Received UDP payload: 446
1336845456245: Received UDP payload: 446
1336845457014: Received UDP payload: 642
1336845457018: mux: Inside mux Packet.CLIENT_REQUEST
1336845457061: Received UDP payload: 1006
1336845457066: mux: GOT CSM_Msg
1336845457067: removed replies before id 6 from sentReplies of size 0
1336845457067: inside handleDSMRequest. At requests's remote leader of region 4
1336845457067: INSIDE SERVER_GET_PHOTO!!!
1336845457071: Received PROC_REQUEST 11:6 (0,0)->(4,0), replying PROC_REPLY 11:6 (4,0)->(0,0)
1336845457071: Dispatching Atom PROC_REPLY 11:6 (4,0)->(0,0)
1336845457072: mux: I got a CSM packet at a leader 

1336845457073: Sending UDP payload: 3811
1336845457074: Received UDP payload: 446
1336845457076: mux: Inside Packet.SERVER_REPLY
1336845457076: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845457074: forwarding disabled, not forwarding packets
1336845457190: Received UDP payload: 3464
1336845457192: mux: Inside Packet.SERVER_REPLY
1336845457192: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845457202: Received UDP payload: 446
1336845457204: mux: Inside mux Packet.CLIENT_REQUEST
1336845458177: Received UDP payload: 1006
1336845458186: mux: GOT CSM_Msg
1336845458187: removed replies before id 7 from sentReplies of size 0
1336845458188: inside handleDSMRequest. At requests's remote leader of region 4
1336845458190: INSIDE SERVER_GET_PHOTO!!!
1336845458206: Received PROC_REQUEST 11:7 (0,0)->(4,0), replying PROC_REPLY 11:7 (4,0)->(0,0)
1336845458207: Dispatching Atom PROC_REPLY 11:7 (4,0)->(0,0)
1336845458208: mux: I got a CSM packet at a leader 

1336845458211: Sending UDP payload: 3811
1336845458225: forwarding disabled, not forwarding packets
1336845458610: Received UDP payload: 446
1336845458992: Received UDP payload: 446
1336845460349: inside sendPacket(Packet p)
1336845460352: Sending UDP payload: 446
1336845460655: Received UDP payload: 446
1336845461648: Received UDP payload: 446
1336845462053: Received UDP payload: 642
1336845462058: mux: Inside mux Packet.CLIENT_REQUEST
1336845462096: Received UDP payload: 1006
1336845462105: mux: GOT CSM_Msg
1336845462105: removed replies before id 7 from sentReplies of size 0
1336845462106: inside handleDSMRequest. At requests's remote leader of region 4
1336845462108: INSIDE SERVER_GET_PHOTO!!!
1336845462112: Received PROC_REQUEST 11:7 (1,0)->(4,0), replying PROC_REPLY 11:7 (4,0)->(1,0)
1336845462114: Received UDP payload: 446
1336845462123: mux: Inside Packet.SERVER_REPLY
1336845462123: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845462123: Dispatching Atom PROC_REPLY 11:7 (4,0)->(1,0)
1336845462123: mux: I got a CSM packet at a leader 

1336845462125: Sending UDP payload: 3811
1336845462126: forwarding disabled, not forwarding packets
1336845462241: Received UDP payload: 446
1336845462242: mux: Inside mux Packet.CLIENT_REQUEST
1336845463205: Received UDP payload: 1006
1336845463212: mux: GOT CSM_Msg
1336845463212: removed replies before id 8 from sentReplies of size 0
1336845463213: inside handleDSMRequest. At requests's remote leader of region 4
1336845463215: INSIDE SERVER_GET_PHOTO!!!
1336845463220: Received PROC_REQUEST 11:8 (1,0)->(4,0), replying PROC_REPLY 11:8 (4,0)->(1,0)
1336845463221: Dispatching Atom PROC_REPLY 11:8 (4,0)->(1,0)
1336845463221: mux: I got a CSM packet at a leader 

1336845463243: Sending UDP payload: 3811
1336845463247: forwarding disabled, not forwarding packets
1336845463310: Received UDP payload: 446
1336845463617: Received UDP payload: 446
1336845463975: Received UDP payload: 446
1336845465349: inside sendPacket(Packet p)
1336845465353: Sending UDP payload: 446
1336845465642: Received UDP payload: 446
1336845466666: Received UDP payload: 446
1336845467131: Received UDP payload: 1006
1336845467138: mux: GOT CSM_Msg
1336845467138: removed replies before id 3 from sentReplies of size 0
1336845467139: inside handleDSMRequest. At requests's remote leader of region 4
1336845467148: INSIDE SERVER_GET_PHOTO!!!
1336845467154: Received PROC_REQUEST 11:3 (2,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(2,0)
1336845467155: Dispatching Atom PROC_REPLY 11:3 (4,0)->(2,0)
1336845467156: mux: I got a CSM packet at a leader 

1336845467174: Sending UDP payload: 3811
1336845467177: forwarding disabled, not forwarding packets
1336845468325: Received UDP payload: 446
1336845468399: Received UDP payload: 1006
1336845468406: mux: GOT CSM_Msg
1336845468406: removed replies before id 3 from sentReplies of size 0
1336845468407: inside handleDSMRequest. At requests's remote leader of region 4
1336845468409: INSIDE SERVER_GET_PHOTO!!!
1336845468424: Received PROC_REQUEST 11:3 (3,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(3,0)
1336845468431: Dispatching Atom PROC_REPLY 11:3 (4,0)->(3,0)
1336845468432: mux: I got a CSM packet at a leader 

1336845468442: Sending UDP payload: 3811
1336845468455: forwarding disabled, not forwarding packets
1336845468614: Received UDP payload: 446
1336845468975: Received UDP payload: 446
1336845470351: inside sendPacket(Packet p)
1336845470365: Sending UDP payload: 446
1336845470660: Received UDP payload: 446
1336845471669: Received UDP payload: 446
1336845473325: Received UDP payload: 446
1336845473621: Received UDP payload: 446
1336845473980: Received UDP payload: 446
1336845475353: inside sendPacket(Packet p)
1336845475356: Sending UDP payload: 446
1336845475681: Received UDP payload: 446
1336845476676: Received UDP payload: 446
1336845476975: canPressButton = TRUE
1336845476975: areButtonsEnabled --> false 
1336845476975: get picture disableButtonsR
1336845476975: areButtonsEnabled --> false
1336845476989: one more getNum: 24
1336845476989: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=22 getBad=1 getTimedout=0 getPercent=91%
1336845476990: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336845476990: change local requestCounter to 55
1336845476993: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010055 Client in region: 4 Client nodID: 5010
1336845477024: ----------------------------
1336845477024: inside sendRequestPacketRepeatingRunnable for requestCount = 5010055
1336845477024: I'm a leader, my requesting photos packet going to mux directly
1336845477033: --- Finished one round of sending REQUEST Packet ---------
1336845477025: mux: Inside mux Packet.CLIENT_REQUEST
1336845477025: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845477076: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845477025: inside handleClientRequest. Originator leader of region 4
1336845477025: got new request, requestCounter = 5010055
1336845477025: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845477026: Sending to region: 4
1336845477026: Sending PROC_REQUEST 11:14 (4,0)->(4,0)
1336845477027: Dispatching Atom PROC_REQUEST 11:14 (4,0)->(4,0)
1336845477027: mux: I got a CSM packet at a leader 

1336845477027: Note down new request by adding requestCounter=5010055 to HashMap processedRequests
1336845477027: Make FirstLeg Ack regardless of new or already-processed requests
1336845477027: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845477029: Sending UDP payload: 1006
1336845477030: removed replies before id 14 from sentReplies of size 0
1336845477030: inside handleDSMRequest. At requests's remote leader of region 4
1336845477031: INSIDE SERVER_GET_PHOTO!!!
1336845477031: dst_region == src_region = 4
1336845477031:  1 self to self atomRequest
1336845477032: Received PROC_REQUEST 11:14 (4,0)->(4,0), replying PROC_REPLY 11:14 (4,0)->(4,0)
1336845477032: Dispatching Atom PROC_REPLY 11:14 (4,0)->(4,0)
1336845477034: mux: I got a CSM packet at a leader 

1336845477078: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845477079: disabling progressdialog due to successful new photo get
1336845477079: Inside _enableButtons
1336845477079: areButtonsEnabled --> true
1336845477079: send final leg ack regardless of new or already-processed reply
1336845477079: inside finalLegAck: change requestCounter to 56
1336845477080: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010056 Client in region: (4,0) Client nodID: 5010
1336845477080: I'm a leader client, my final_leg packet going to mux directly
1336845477084: new client_show_remotephoto reply with replyCounter 501005500
1336845477084: note down new reply by adding replyCounter=501005500 to HashMap processedReplies
1336845477085: leader download remote photo latency = 53
1336845477086: = leader download start 1336845477025 ~ stop 1336845477078
1336845477088: one more getGood: 23
1336845477089: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=23 getBad=1 getTimedout=0 getPercent=95%
1336845477089: adding get latency: 53
1336845477089: Success! Client getting photo from remote region, showing photo...
1336845477090: Remote photo's length: 2783
1336845477035: Sending UDP payload: 3811
1336845477042: Received PROC_REPLY 11:14 (4,0)->(4,0), handing to UserApp
1336845477042: inside handleDSMReply. Now back in originator leader of region 4
1336845477042: DSM layer: Going to and from remote region took latency = 16
1336845477043: DSM layer: orig leader sent packet at 1336845477026 ~ received reply from remote leader at 1336845477042
1336845477044: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845477044: leader client reply has replyCounter: 501005500
1336845477044: reply packet contains the newest photo/success info from the remote region
1336845477044: inside sendReplies of replyCount = 501005500
1336845477044: =======================
1336845477044: inside sendReplyRepeatingRunnable for replyCount = 501005500
1336845477044: Leader about to send REPLY packet, number: 501005500 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845477044: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845477045: === Finished one round of sending REPLY Packet =======
1336845477080: mux: Inside mux Packet.CLIENT_REQUEST
1336845477080: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845477081: inside handleClientRequest. Originator leader of region 4
1336845477081: got new request, requestCounter = 5010056
1336845477081: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501005500
1336845477081: Yay the last leg succeeded. Removing reply runnables ...
1336845477081: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501005500
1336845477081: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501005500
1336845477081: do not send ack for received final_leg_ack
1336845478322: Received UDP payload: 642
1336845478331: mux: Inside mux Packet.CLIENT_REQUEST
1336845478331: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845478332: inside handleClientRequest. Originator leader of region 4
1336845478333: got new request, requestCounter = 5009055
1336845478333: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845478335: Sending to region: 4
1336845478337: Sending PROC_REQUEST 11:15 (4,0)->(4,0)
1336845478338: Dispatching Atom PROC_REQUEST 11:15 (4,0)->(4,0)
1336845478340: mux: I got a CSM packet at a leader 

1336845478338: Note down new request by adding requestCounter=5009055 to HashMap processedRequests
1336845478339: Make FirstLeg Ack regardless of new or already-processed requests
1336845478339: The leader sending a First Leg ack to originator client (which id = 5009)
1336845478339: inside sendPacket(Packet p)
1336845478360: Received UDP payload: 446
1336845478362: Sending UDP payload: 1006
1336845478371: removed replies before id 15 from sentReplies of size 0
1336845478371: inside handleDSMRequest. At requests's remote leader of region 4
1336845478383: INSIDE SERVER_GET_PHOTO!!!
1336845478384: dst_region == src_region = 4
1336845478384:  1 self to self atomRequest
1336845478385: Received PROC_REQUEST 11:15 (4,0)->(4,0), replying PROC_REPLY 11:15 (4,0)->(4,0)
1336845478385: Dispatching Atom PROC_REPLY 11:15 (4,0)->(4,0)
1336845478387: mux: I got a CSM packet at a leader 

1336845478386: Sending UDP payload: 446
1336845478388: Sending UDP payload: 3811
1336845478396: Received PROC_REPLY 11:15 (4,0)->(4,0), handing to UserApp
1336845478396: inside handleDSMReply. Now back in originator leader of region 4
1336845478396: DSM layer: Going to and from remote region took latency = 60
1336845478396: DSM layer: orig leader sent packet at 1336845478336 ~ received reply from remote leader at 1336845478396
1336845478397: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845478397: leader client reply has replyCounter: 500905500
1336845478398: reply packet contains the newest photo/success info from the remote region
1336845478398: inside sendReplies of replyCount = 500905500
1336845478398: =======================
1336845478398: inside sendReplyRepeatingRunnable for replyCount = 500905500
1336845478398: Leader about to send REPLY packet, number: 500905500 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845478398: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845478398: inside sendPacket(Packet p)
1336845478398: === Finished one round of sending REPLY Packet =======
1336845478400: Sending UDP payload: 3464
1336845478485: Received UDP payload: 446
1336845478486: mux: Inside mux Packet.CLIENT_REQUEST
1336845478486: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845478486: inside handleClientRequest. Originator leader of region 4
1336845478486: got new request, requestCounter = 5009056
1336845478487: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500905500
1336845478487: Yay the last leg succeeded. Removing reply runnables ...
1336845478487: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500905500
1336845478487: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500905500
1336845478487: do not send ack for received final_leg_ack
1336845478617: Received UDP payload: 446
1336845480047: Received UDP payload: 1006
1336845480066: mux: GOT CSM_Msg
1336845480067: removed replies before id 6 from sentReplies of size 0
1336845480067: inside handleDSMRequest. At requests's remote leader of region 4
1336845480067: INSIDE SERVER_GET_PHOTO!!!
1336845480069: Received PROC_REQUEST 11:6 (5,0)->(4,0), replying PROC_REPLY 11:6 (4,0)->(5,0)
1336845480069: Dispatching Atom PROC_REPLY 11:6 (4,0)->(5,0)
1336845480069: mux: I got a CSM packet at a leader 

1336845480070: Sending UDP payload: 3811
1336845480081: forwarding disabled, not forwarding packets
1336845480355: inside sendPacket(Packet p)
1336845480356: Sending UDP payload: 446
1336845480685: Received UDP payload: 446
1336845480995: Received UDP payload: 446
1336845481465: Received UDP payload: 642
1336845481470: mux: Inside mux Packet.CLIENT_REQUEST
1336845481513: Received UDP payload: 1006
1336845481525: mux: GOT CSM_Msg
1336845481525: removed replies before id 7 from sentReplies of size 0
1336845481525: inside handleDSMRequest. At requests's remote leader of region 4
1336845481526: INSIDE SERVER_GET_PHOTO!!!
1336845481527: Received PROC_REQUEST 11:7 (5,0)->(4,0), replying PROC_REPLY 11:7 (4,0)->(5,0)
1336845481528: Dispatching Atom PROC_REPLY 11:7 (4,0)->(5,0)
1336845481528: mux: I got a CSM packet at a leader 

1336845481529: Sending UDP payload: 3811
1336845481530: forwarding disabled, not forwarding packets
1336845481530: Received UDP payload: 446
1336845481531: mux: Inside Packet.SERVER_REPLY
1336845481531: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845481628: Received UDP payload: 3464
1336845481630: mux: Inside Packet.SERVER_REPLY
1336845481630: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845481638: Received UDP payload: 446
1336845481639: mux: Inside mux Packet.CLIENT_REQUEST
1336845481672: Received UDP payload: 446
1336845483359: Received UDP payload: 446
1336845483626: Received UDP payload: 446
1336845485355: inside sendPacket(Packet p)
1336845485367: Sending UDP payload: 446
1336845485687: Received UDP payload: 446
1336845485996: Received UDP payload: 446
1336845486691: Received UDP payload: 446
1336845488477: Received UDP payload: 446
1336845488652: Received UDP payload: 446
1336845489806: Received UDP payload: 642
1336845489810: mux: Inside mux Packet.CLIENT_REQUEST
1336845489853: Received UDP payload: 1006
1336845489862: mux: GOT CSM_Msg
1336845489862: forwarding disabled, not forwarding packets
1336845489869: Received UDP payload: 446
1336845489871: mux: Inside Packet.SERVER_REPLY
1336845489871: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845489929: Received UDP payload: 3734
1336845489931: mux: GOT CSM_Msg
1336845489931: forwarding disabled, not forwarding packets
1336845489989: Received UDP payload: 3387
1336845489990: mux: Inside Packet.SERVER_REPLY
1336845489990: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845490013: Received UDP payload: 446
1336845490014: mux: Inside mux Packet.CLIENT_REQUEST
1336845490368: inside sendPacket(Packet p)
1336845490369: Sending UDP payload: 446
1336845490704: Received UDP payload: 446
1336845490987: Received UDP payload: 1006
1336845490994: mux: GOT CSM_Msg
1336845490995: forwarding disabled, not forwarding packets
1336845491006: Received UDP payload: 446
1336845491075: Received UDP payload: 3734
1336845491084: mux: GOT CSM_Msg
1336845491084: forwarding disabled, not forwarding packets
1336845491698: Received UDP payload: 446
1336845493364: Received UDP payload: 446
1336845493674: Received UDP payload: 446
1336845495311: leader to cloud hearbeat...
1336845495714: Received UDP payload: 446
1336845496009: Received UDP payload: 446
1336845496704: Received UDP payload: 446
1336845497176: Received UDP payload: 642
1336845497183: mux: Inside mux Packet.CLIENT_REQUEST
1336845497233: Received UDP payload: 1006
1336845497235: mux: GOT CSM_Msg
1336845497235: forwarding disabled, not forwarding packets
1336845497242: Received UDP payload: 446
1336845497244: mux: Inside Packet.SERVER_REPLY
1336845497244: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845497297: Received UDP payload: 3734
1336845497299: mux: GOT CSM_Msg
1336845497299: forwarding disabled, not forwarding packets
1336845497345: Received UDP payload: 3387
1336845497346: mux: Inside Packet.SERVER_REPLY
1336845497346: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845497367: Received UDP payload: 446
1336845497369: mux: Inside mux Packet.CLIENT_REQUEST
1336845497372: inside sendPacket(Packet p)
1336845497373: Sending UDP payload: 446
1336845498172: Received UDP payload: 1006
1336845498178: mux: GOT CSM_Msg
1336845498179: forwarding disabled, not forwarding packets
1336845498222: Received UDP payload: 1006
1336845498228: mux: GOT CSM_Msg
1336845498229: forwarding disabled, not forwarding packets
1336845498263: Received UDP payload: 3734
1336845498269: mux: GOT CSM_Msg
1336845498269: forwarding disabled, not forwarding packets
1336845498297: Received UDP payload: 3734
1336845498304: mux: GOT CSM_Msg
1336845498305: forwarding disabled, not forwarding packets
1336845498353: Received UDP payload: 446
1336845498669: Received UDP payload: 446
1336845500712: Received UDP payload: 446
1336845501012: Received UDP payload: 446
1336845501739: Received UDP payload: 446
1336845502180: Received UDP payload: 642
1336845502188: mux: Inside mux Packet.CLIENT_REQUEST
1336845502244: Received UDP payload: 446
1336845502245: mux: Inside Packet.SERVER_REPLY
1336845502245: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845502374: inside sendPacket(Packet p)
1336845502375: Sending UDP payload: 446
1336845502944: Received UDP payload: 1006
1336845502947: mux: GOT CSM_Msg
1336845502948: forwarding disabled, not forwarding packets
1336845503033: Received UDP payload: 3734
1336845503037: mux: GOT CSM_Msg
1336845503037: forwarding disabled, not forwarding packets
1336845503088: Received UDP payload: 3387
1336845503092: mux: Inside Packet.SERVER_REPLY
1336845503093: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845503103: Received UDP payload: 446
1336845503108: mux: Inside mux Packet.CLIENT_REQUEST
1336845503358: Received UDP payload: 446
1336845503672: Received UDP payload: 446
1336845506011: Received UDP payload: 446
1336845506706: Received UDP payload: 446
1336845507375: inside sendPacket(Packet p)
1336845507378: Sending UDP payload: 446
1336845507840: Received UDP payload: 446
1336845508366: Received UDP payload: 446
1336845508683: Received UDP payload: 446
1336845510225: Received UDP payload: 1006
1336845510231: mux: GOT CSM_Msg
1336845510232: forwarding disabled, not forwarding packets
1336845510308: Received UDP payload: 3734
1336845510314: mux: GOT CSM_Msg
1336845510315: forwarding disabled, not forwarding packets
1336845511013: Received UDP payload: 446
1336845511714: Received UDP payload: 446
1336845512377: inside sendPacket(Packet p)
1336845512379: Sending UDP payload: 446
1336845512896: Received UDP payload: 446
1336845513182: canPressButton = TRUE
1336845513183: areButtonsEnabled --> false 
1336845513183: get picture disableButtonsR
1336845513184: areButtonsEnabled --> false
1336845513209: one more getNum: 25
1336845513210: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=25 getGood=23 getBad=1 getTimedout=0 getPercent=92%
1336845513210: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336845513211: change local requestCounter to 57
1336845513217: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010057 Client in region: 4 Client nodID: 5010
1336845513246: ----------------------------
1336845513247: inside sendRequestPacketRepeatingRunnable for requestCount = 5010057
1336845513247: I'm a leader, my requesting photos packet going to mux directly
1336845513257: --- Finished one round of sending REQUEST Packet ---------
1336845513247: mux: Inside mux Packet.CLIENT_REQUEST
1336845513247: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845513307: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845513248: inside handleClientRequest. Originator leader of region 4
1336845513248: got new request, requestCounter = 5010057
1336845513248: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845513251: Sending to region: 5
1336845513252: Sending PROC_REQUEST 11:6 (4,0)->(5,0)
1336845513252: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(5,0)
1336845513253: mux: I got a CSM packet at a leader 

1336845513252: Note down new request by adding requestCounter=5010057 to HashMap processedRequests
1336845513252: Make FirstLeg Ack regardless of new or already-processed requests
1336845513252: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336845513268: Sending UDP payload: 1006
1336845513268: forwarding disabled, not forwarding packets
1336845513357: Received UDP payload: 3734
1336845513362: mux: GOT CSM_Msg
1336845513385: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845513385: disabling progressdialog due to successful new photo get
1336845513388: Inside _enableButtons
1336845513388: areButtonsEnabled --> true
1336845513389: send final leg ack regardless of new or already-processed reply
1336845513389: inside finalLegAck: change requestCounter to 58
1336845513389: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010058 Client in region: (4,0) Client nodID: 5010
1336845513389: I'm a leader client, my final_leg packet going to mux directly
1336845513391: new client_show_remotephoto reply with replyCounter 501005700
1336845513392: note down new reply by adding replyCounter=501005700 to HashMap processedReplies
1336845513392: leader download remote photo latency = 138
1336845513392: = leader download start 1336845513247 ~ stop 1336845513385
1336845513396: one more getGood: 24
1336845513398: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=25 getGood=24 getBad=1 getTimedout=0 getPercent=96%
1336845513399: adding get latency: 138
1336845513401: Success! Client getting photo from remote region, showing photo...
1336845513401: Remote photo's length: 2706
1336845513363: Received PROC_REPLY 11:6 (5,0)->(4,0), handing to UserApp
1336845513363: inside handleDSMReply. Now back in originator leader of region 4
1336845513363: DSM layer: Going to and from remote region took latency = 112
1336845513363: DSM layer: orig leader sent packet at 1336845513251 ~ received reply from remote leader at 1336845513363
1336845513364: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845513364: leader client reply has replyCounter: 501005700
1336845513364: reply packet contains the newest photo/success info from the remote region
1336845513364: inside sendReplies of replyCount = 501005700
1336845513367: =======================
1336845513367: inside sendReplyRepeatingRunnable for replyCount = 501005700
1336845513368: Leader about to send REPLY packet, number: 501005700 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336845513368: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336845513368: === Finished one round of sending REPLY Packet =======
1336845513383: Received UDP payload: 446
1336845513390: mux: Inside mux Packet.CLIENT_REQUEST
1336845513390: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845513390: inside handleClientRequest. Originator leader of region 4
1336845513390: got new request, requestCounter = 5010058
1336845513390: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501005700
1336845513390: Yay the last leg succeeded. Removing reply runnables ...
1336845513390: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501005700
1336845513390: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501005700
1336845513390: do not send ack for received final_leg_ack
1336845513677: Received UDP payload: 446
1336845514664: Received UDP payload: 642
1336845514674: mux: Inside mux Packet.CLIENT_REQUEST
1336845514675: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845514675: inside handleClientRequest. Originator leader of region 4
1336845514676: got new request, requestCounter = 5009057
1336845514676: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845514699: Sending to region: 5
1336845514716: Sending PROC_REQUEST 11:7 (4,0)->(5,0)
1336845514716: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(5,0)
1336845514717: mux: I got a CSM packet at a leader 

1336845514716: Note down new request by adding requestCounter=5009057 to HashMap processedRequests
1336845514716: Make FirstLeg Ack regardless of new or already-processed requests
1336845514716: The leader sending a First Leg ack to originator client (which id = 5009)
1336845514716: inside sendPacket(Packet p)
1336845514721: Sending UDP payload: 1006
1336845514722: forwarding disabled, not forwarding packets
1336845514723: Sending UDP payload: 446
1336845514865: Received UDP payload: 3734
1336845514868: mux: GOT CSM_Msg
1336845514868: Received PROC_REPLY 11:7 (5,0)->(4,0), handing to UserApp
1336845514868: inside handleDSMReply. Now back in originator leader of region 4
1336845514869: DSM layer: Going to and from remote region took latency = 153
1336845514869: DSM layer: orig leader sent packet at 1336845514715 ~ received reply from remote leader at 1336845514868
1336845514869: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845514870: leader client reply has replyCounter: 500905700
1336845514870: reply packet contains the newest photo/success info from the remote region
1336845514870: inside sendReplies of replyCount = 500905700
1336845514870: =======================
1336845514871: inside sendReplyRepeatingRunnable for replyCount = 500905700
1336845514871: Leader about to send REPLY packet, number: 500905700 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336845514871: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336845514871: inside sendPacket(Packet p)
1336845514871: === Finished one round of sending REPLY Packet =======
1336845514872: Sending UDP payload: 3387
1336845514914: Received UDP payload: 446
1336845514915: mux: Inside mux Packet.CLIENT_REQUEST
1336845514916: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845514916: inside handleClientRequest. Originator leader of region 4
1336845514916: got new request, requestCounter = 5009058
1336845514916: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500905700
1336845514916: Yay the last leg succeeded. Removing reply runnables ...
1336845514916: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500905700
1336845514916: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500905700
1336845514916: do not send ack for received final_leg_ack
1336845516026: Received UDP payload: 446
1336845516724: Received UDP payload: 446
1336845517378: inside sendPacket(Packet p)
1336845517381: Sending UDP payload: 446
1336845517624: Received UDP payload: 1006
1336845517630: mux: GOT CSM_Msg
1336845517631: forwarding disabled, not forwarding packets
1336845517667: Received UDP payload: 3734
1336845517674: mux: GOT CSM_Msg
1336845517675: forwarding disabled, not forwarding packets
1336845517841: Received UDP payload: 446
1336845518373: Received UDP payload: 446
1336845518688: Received UDP payload: 446
1336845519020: Received UDP payload: 642
1336845519026: mux: Inside mux Packet.CLIENT_REQUEST
1336845519060: Received UDP payload: 1006
1336845519067: mux: GOT CSM_Msg
1336845519068: forwarding disabled, not forwarding packets
1336845519101: Received UDP payload: 446
1336845519108: mux: Inside Packet.SERVER_REPLY
1336845519109: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845519140: Received UDP payload: 3734
1336845519142: mux: GOT CSM_Msg
1336845519142: forwarding disabled, not forwarding packets
1336845519184: Received UDP payload: 3387
1336845519186: mux: Inside Packet.SERVER_REPLY
1336845519186: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845519197: Received UDP payload: 446
1336845519198: mux: Inside mux Packet.CLIENT_REQUEST
1336845521026: Received UDP payload: 446
1336845521740: Received UDP payload: 446
1336845522379: inside sendPacket(Packet p)
1336845522396: Sending UDP payload: 446
1336845522845: Received UDP payload: 446
1336845523386: Received UDP payload: 446
1336845525597: Received UDP payload: 446
1336845526020: Received UDP payload: 446
1336845526747: Received UDP payload: 446
1336845527399: inside sendPacket(Packet p)
1336845527402: Sending UDP payload: 446
1336845527859: Received UDP payload: 446
1336845528407: Received UDP payload: 446
1336845530601: Received UDP payload: 446
1336845531025: Received UDP payload: 446
1336845531746: Received UDP payload: 446
1336845532400: inside sendPacket(Packet p)
1336845532403: Sending UDP payload: 446
1336845532867: Received UDP payload: 446
1336845533414: Received UDP payload: 446
1336845535640: Received UDP payload: 446
1336845536038: Received UDP payload: 446
1336845536750: Received UDP payload: 446
1336845537386: Received UDP payload: 642
1336845537390: mux: Inside mux Packet.CLIENT_REQUEST
1336845537404: inside sendPacket(Packet p)
1336845537406: Sending UDP payload: 446
1336845537424: Received UDP payload: 1006
1336845537433: mux: GOT CSM_Msg
1336845537433: forwarding disabled, not forwarding packets
1336845537439: Received UDP payload: 446
1336845537455: mux: Inside Packet.SERVER_REPLY
1336845537455: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845537495: Received UDP payload: 3734
1336845537497: mux: GOT CSM_Msg
1336845537497: forwarding disabled, not forwarding packets
1336845537538: Received UDP payload: 3387
1336845537540: mux: Inside Packet.SERVER_REPLY
1336845537540: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845537549: Received UDP payload: 446
1336845537550: mux: Inside mux Packet.CLIENT_REQUEST
1336845537866: Received UDP payload: 446
1336845538404: Received UDP payload: 446
1336845540603: Received UDP payload: 446
1336845540674: Received UDP payload: 1006
1336845540681: mux: GOT CSM_Msg
1336845540682: forwarding disabled, not forwarding packets
1336845540753: Received UDP payload: 3734
1336845540759: mux: GOT CSM_Msg
1336845540760: forwarding disabled, not forwarding packets
1336845541042: Received UDP payload: 446
1336845541776: Received UDP payload: 446
1336845542410: inside sendPacket(Packet p)
1336845542418: Sending UDP payload: 446
1336845542872: Received UDP payload: 446
1336845543406: Received UDP payload: 446
1336845545610: Received UDP payload: 446
1336845546052: Received UDP payload: 446
1336845546788: Received UDP payload: 446
1336845547420: inside sendPacket(Packet p)
1336845547422: Sending UDP payload: 446
1336845547879: Received UDP payload: 446
1336845548418: Received UDP payload: 446
1336845550604: Received UDP payload: 446
1336845551067: Received UDP payload: 446
1336845551775: Received UDP payload: 446
1336845552420: inside sendPacket(Packet p)
1336845552423: Sending UDP payload: 446
1336845552880: Received UDP payload: 446
1336845553413: Received UDP payload: 446
1336845555607: Received UDP payload: 446
1336845556073: Received UDP payload: 446
1336845556786: Received UDP payload: 446
1336845557421: inside sendPacket(Packet p)
1336845557424: Sending UDP payload: 446
1336845557882: Received UDP payload: 446
1336845558414: Received UDP payload: 446
1336845560657: Received UDP payload: 446
1336845561071: Received UDP payload: 446
1336845561792: Received UDP payload: 446
1336845562421: inside sendPacket(Packet p)
1336845562424: Sending UDP payload: 446
1336845562927: Received UDP payload: 446
1336845563431: Received UDP payload: 446
1336845565631: Received UDP payload: 446
1336845566077: Received UDP payload: 446
1336845567423: inside sendPacket(Packet p)
1336845567435: Sending UDP payload: 446
1336845567891: Received UDP payload: 446
1336845568466: Received UDP payload: 446
1336845570656: Received UDP payload: 446
1336845571121: Received UDP payload: 446
1336845572437: inside sendPacket(Packet p)
1336845572439: Sending UDP payload: 446
1336845572896: Received UDP payload: 446
1336845575628: Received UDP payload: 446
1336845576129: Received UDP payload: 446
1336845577437: inside sendPacket(Packet p)
1336845577439: Sending UDP payload: 446
1336845577898: Received UDP payload: 446
1336845580628: Received UDP payload: 446
1336845582437: inside sendPacket(Packet p)
1336845582445: Sending UDP payload: 446
1336845582898: Received UDP payload: 446
1336845585631: Received UDP payload: 446
1336845585945: HI I'm in ONPAUSE()
1336845587446: inside sendPacket(Packet p)
1336845587451: Sending UDP payload: 446
1336845587786: inside onDestroy()
