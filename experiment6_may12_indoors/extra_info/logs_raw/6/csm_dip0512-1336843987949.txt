1336843987953: *** Opened log file for writing ***
1336843987953: Android build: SAMSUNG-SGH-I717
1336843987954: NET_NAME set to: eth0
1336843987954: starting Mux with id = -1
1336843987955: areButtonsEnabled --> true
1336843987956: *** Application started ***
1336843987956: HI I'm in ONRESUME()
1336843987960: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1336843987964: ************ GPS turned OFF *************
1336843987971: mux: Mux.java run() beginning -------------
1336843987979: mux: Mux.java's nodeId is5022
1336843987980: mux: starting vncDaemon ........
1336843987985: mux: vncDaemon started
1336843987983: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1336843987986: VCoreDaemon.java onStart() ....
1336843987987: started, mId = 5022
1336843987988: VCoreDaemon.java inside stateTransition ..........
1336843987988: removing leaderRequestRetryR because I'm doing a stateTransition
1336843987989: ..... VCoreDaemon.java out of bounds
1336843987990: region (-1, -1) out of bounds, dormant
1336843987990: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336843991677: moving from region (-1,-1), to (1,0)
1336843991677: VCoreDaemon.java inside stateTransition ..........
1336843991677: removing leaderRequestRetryR because I'm doing a stateTransition
1336843991677: ..... VCoreDaemon.java targetState = JOINING (1,0)
1336843991678: posting leaderRequestRetryR because I'm joining
1336843991678: sending LEADER_REQUEST
1336843991678: inside sendPacket(Packet p)
1336843991678: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336843991712: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336843991727: Sending UDP payload: 446
1336843991979: sending LEADER_REQUEST
1336843991979: inside sendPacket(Packet p)
1336843991979: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336843991989: Sending UDP payload: 446
1336843992280: sending LEADER_REQUEST
1336843992281: inside sendPacket(Packet p)
1336843992281: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336843992287: Sending UDP payload: 446
1336843992541: Received UDP payload: 446
1336843992582: sending LEADER_REQUEST
1336843992583: inside sendPacket(Packet p)
1336843992583: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336843992588: Sending UDP payload: 446
1336843992706: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1336843992706: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1336843992707: VCoreDaemon.java inside stateTransition ..........
1336843992707: removing leaderRequestRetryR because I'm doing a stateTransition
1336843992707: ..... VCoreDaemon.java targetState = LEADER
1336843992708: trying to take leadership (1,0) to the cloud
1336843992859: Received UDP payload: 446
1336843993142: Received UDP payload: 446
1336843993463: Received UDP payload: 446
1336843993986: Received UDP payload: 446
1336843994270: Received UDP payload: 446
1336843994555: Received UDP payload: 446
1336843994856: Received UDP payload: 446
1336843995051: cloud accepted leadership request, no csm data included.
1336843995070: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1336843995071: *** Starting CSM Layer ***
1336843995072: *** CSM Layer starting with cache disabled ***
1336843995072: *** CSM Layer starting with forwarding disabled ***
1336843995145: DSMLayer starting
1336843995147: UserApp started.
1336843995148: UserApp for Camera Diploma initialized and waiting for requests.
1336843995346: inside sendPacket(Packet p)
1336843995358: Sending UDP payload: 22318
1336843995363: now fully up as LEADER (id=5022) of (1,0)
1336843995363: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336843995364: heard LEADER_REQUEST from node 5002, responding LEADER_REPLY
1336843995463: inside sendPacket(Packet p)
1336843995472: Sending UDP payload: 22335
1336843995476: inside sendPacket(Packet p)
1336843995477: Sending UDP payload: 446
1336843995478: heard LEADER_REQUEST from node 5002, responding LEADER_REPLY
1336843995484: Received UDP payload: 446
1336843995635: inside sendPacket(Packet p)
1336843995636: Sending UDP payload: 22335
1336843995638: heard LEADER_REQUEST from node 5002, responding LEADER_REPLY
1336843995716: inside sendPacket(Packet p)
1336843995717: Sending UDP payload: 22335
1336843995775: Received UDP payload: 446
1336843996148: Received UDP payload: 446
1336843996368: Received UDP payload: 446
1336843997985: Received UDP payload: 22318
1336843997997: ignoring leader_reply that's not for me
1336843998307: Received UDP payload: 22335
1336843998603: Received UDP payload: 22335
1336843998616: Received UDP payload: 446
1336843998892: Received UDP payload: 22335
1336843999257: Received UDP payload: 22335
1336844000479: inside sendPacket(Packet p)
1336844000498: Sending UDP payload: 446
1336844002971: Received UDP payload: 446
1336844005501: inside sendPacket(Packet p)
1336844005516: Sending UDP payload: 446
1336844007989: Received UDP payload: 446
1336844008695: Received UDP payload: 446
1336844008705: heard LEADER_REQUEST from node 5004, responding LEADER_REPLY
1336844008974: inside sendPacket(Packet p)
1336844008985: Sending UDP payload: 22335
1336844009023: Received UDP payload: 446
1336844009025: heard LEADER_REQUEST from node 5004, responding LEADER_REPLY
1336844009102: inside sendPacket(Packet p)
1336844009113: Sending UDP payload: 22335
1336844010528: inside sendPacket(Packet p)
1336844010548: Sending UDP payload: 446
1336844011309: Received UDP payload: 446
1336844011609: Received UDP payload: 446
1336844011899: Received UDP payload: 446
1336844012202: Received UDP payload: 446
1336844013008: Received UDP payload: 446
1336844015237: Received UDP payload: 22318
1336844015247: ignoring leader_reply that's not for me
1336844015270: Received UDP payload: 446
1336844015551: inside sendPacket(Packet p)
1336844015553: Sending UDP payload: 446
1336844018025: Received UDP payload: 446
1336844019995: Received UDP payload: 446
1336844020553: inside sendPacket(Packet p)
1336844020557: Sending UDP payload: 446
1336844023030: Received UDP payload: 446
1336844025012: Received UDP payload: 446
1336844025397: Received UDP payload: 446
1336844025408: heard LEADER_REQUEST from node 5008, responding LEADER_REPLY
1336844025515: inside sendPacket(Packet p)
1336844025526: Sending UDP payload: 22335
1336844025554: inside sendPacket(Packet p)
1336844025555: Sending UDP payload: 446
1336844028084: Received UDP payload: 446
1336844028136: Received UDP payload: 446
1336844028252: Received UDP payload: 446
1336844028263: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1336844028418: Received UDP payload: 446
1336844028441: inside sendPacket(Packet p)
1336844028452: Sending UDP payload: 22335
1336844028542: Received UDP payload: 446
1336844028545: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1336844028622: inside sendPacket(Packet p)
1336844028631: Sending UDP payload: 22335
1336844028848: Received UDP payload: 446
1336844028849: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1336844028949: inside sendPacket(Packet p)
1336844028961: Sending UDP payload: 22335
1336844029159: Received UDP payload: 446
1336844029162: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1336844029268: inside sendPacket(Packet p)
1336844029281: Sending UDP payload: 22335
1336844029832: Received UDP payload: 446
1336844030033: Received UDP payload: 446
1336844030133: Received UDP payload: 446
1336844030428: Received UDP payload: 446
1336844030555: inside sendPacket(Packet p)
1336844030559: Sending UDP payload: 446
1336844030734: Received UDP payload: 446
1336844032197: Received UDP payload: 22318
1336844032204: ignoring leader_reply that's not for me
1336844032741: Received UDP payload: 22335
1336844033009: Received UDP payload: 22335
1336844033049: Received UDP payload: 446
1336844033279: Received UDP payload: 22950
1336844033289: Received UDP payload: 446
1336844035048: Received UDP payload: 446
1336844035557: inside sendPacket(Packet p)
1336844035562: Sending UDP payload: 446
1336844037442: Received UDP payload: 446
1336844038068: Received UDP payload: 446
1336844038170: Received UDP payload: 446
1336844038473: Received UDP payload: 446
1336844038768: Received UDP payload: 446
1336844039079: Received UDP payload: 446
1336844039773: Received UDP payload: 446
1336844040063: Received UDP payload: 446
1336844040077: Received UDP payload: 446
1336844040381: Received UDP payload: 446
1336844040558: inside sendPacket(Packet p)
1336844040562: Sending UDP payload: 446
1336844040699: Received UDP payload: 446
1336844042125: Received UDP payload: 22318
1336844042135: ignoring leader_reply that's not for me
1336844042414: Received UDP payload: 446
1336844042601: Received UDP payload: 22335
1336844042845: Received UDP payload: 22950
1336844043146: Received UDP payload: 22335
1336844043156: Received UDP payload: 446
1336844043165: Received UDP payload: 446
1336844045065: Received UDP payload: 446
1336844045560: inside sendPacket(Packet p)
1336844045571: Sending UDP payload: 446
1336844047365: Received UDP payload: 446
1336844047429: Received UDP payload: 446
1336844048048: Received UDP payload: 446
1336844050080: Received UDP payload: 446
1336844050575: inside sendPacket(Packet p)
1336844050585: Sending UDP payload: 446
1336844052384: Received UDP payload: 446
1336844052423: Received UDP payload: 446
1336844053053: Received UDP payload: 446
1336844055077: Received UDP payload: 446
1336844055590: inside sendPacket(Packet p)
1336844055603: Sending UDP payload: 446
1336844055988: Received UDP payload: 446
1336844056298: Received UDP payload: 446
1336844056589: Received UDP payload: 446
1336844056890: Received UDP payload: 446
1336844057409: Received UDP payload: 446
1336844057431: Received UDP payload: 446
1336844058089: Received UDP payload: 446
1336844060149: Received UDP payload: 22318
1336844060158: ignoring leader_reply that's not for me
1336844060171: Received UDP payload: 446
1336844060207: Received UDP payload: 446
1336844060607: inside sendPacket(Packet p)
1336844060609: Sending UDP payload: 446
1336844062414: Received UDP payload: 446
1336844062487: Received UDP payload: 446
1336844063104: Received UDP payload: 446
1336844064854: Received UDP payload: 446
1336844065092: Received UDP payload: 446
1336844065608: inside sendPacket(Packet p)
1336844065625: Sending UDP payload: 446
1336844067437: Received UDP payload: 446
1336844067477: Received UDP payload: 446
1336844068110: Received UDP payload: 446
1336844069958: Received UDP payload: 446
1336844070109: Received UDP payload: 446
1336844070630: inside sendPacket(Packet p)
1336844070644: Sending UDP payload: 446
1336844072444: Received UDP payload: 446
1336844072499: Received UDP payload: 446
1336844073137: Received UDP payload: 446
1336844074890: Received UDP payload: 446
1336844075106: Received UDP payload: 446
1336844075649: inside sendPacket(Packet p)
1336844075654: Sending UDP payload: 446
1336844077453: Received UDP payload: 446
1336844077463: Received UDP payload: 446
1336844078138: Received UDP payload: 446
1336844079909: Received UDP payload: 446
1336844080100: Received UDP payload: 446
1336844080651: inside sendPacket(Packet p)
1336844080654: Sending UDP payload: 446
1336844082454: Received UDP payload: 446
1336844082464: Received UDP payload: 446
1336844083235: Received UDP payload: 446
1336844084928: Received UDP payload: 446
1336844085115: Received UDP payload: 446
1336844085653: inside sendPacket(Packet p)
1336844085665: Sending UDP payload: 446
1336844087452: Received UDP payload: 446
1336844087475: Received UDP payload: 446
1336844088222: Received UDP payload: 446
1336844089916: Received UDP payload: 446
1336844090109: Received UDP payload: 446
1336844090667: inside sendPacket(Packet p)
1336844090680: Sending UDP payload: 446
1336844092453: Received UDP payload: 446
1336844092490: Received UDP payload: 446
1336844093176: Received UDP payload: 446
1336844094917: Received UDP payload: 446
1336844095119: Received UDP payload: 446
1336844095668: inside sendPacket(Packet p)
1336844095671: Sending UDP payload: 446
1336844097457: Received UDP payload: 446
1336844097477: Received UDP payload: 446
1336844098188: Received UDP payload: 446
1336844099967: Received UDP payload: 446
1336844100139: Received UDP payload: 446
1336844100669: inside sendPacket(Packet p)
1336844100685: Sending UDP payload: 446
1336844102454: Received UDP payload: 446
1336844102518: Received UDP payload: 446
1336844103212: Received UDP payload: 446
1336844104934: Received UDP payload: 446
1336844105169: Received UDP payload: 446
1336844105704: inside sendPacket(Packet p)
1336844105714: Sending UDP payload: 446
1336844107493: Received UDP payload: 446
1336844107539: Received UDP payload: 446
1336844108262: Received UDP payload: 446
1336844109974: Received UDP payload: 446
1336844110156: Received UDP payload: 446
1336844110717: inside sendPacket(Packet p)
1336844110733: Sending UDP payload: 446
1336844112484: Received UDP payload: 446
1336844112528: Received UDP payload: 446
1336844113223: Received UDP payload: 446
1336844114937: Received UDP payload: 446
1336844115169: Received UDP payload: 446
1336844115364: leader to cloud hearbeat...
1336844117466: inside sendPacket(Packet p)
1336844117483: Sending UDP payload: 446
1336844117510: Received UDP payload: 446
1336844117576: Received UDP payload: 446
1336844119939: Received UDP payload: 446
1336844119959: Received UDP payload: 446
1336844120075: Received UDP payload: 3979
1336844120083: mux: Inside mux Packet.CLIENT_REQUEST
1336844120084: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844120084: inside handleClientRequest. Originator leader of region 1
1336844120085: got new request, requestCounter = 5002001
1336844120085: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844120087: Sending PROC_REQUEST 10:0 (1,0)->(1,0)
1336844120088: Dispatching Atom PROC_REQUEST 10:0 (1,0)->(1,0)
1336844120116: mux: I got a CSM packet at a leader 

1336844120221: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844120232: I'm a leader and I successfully saved my client's new photo
1336844120232: now showing in UI the new photo I just saved ... 
1336844120232: the photo length: 3315
1336844120269: end of server show photo aside %%%%%%%%%
1336844120089: Note down new request by adding requestCounter=5002001 to HashMap processedRequests
1336844120089: Make FirstLeg Ack regardless of new or already-processed requests
1336844120090: The leader sending a First Leg ack to originator client (which id = 5002)
1336844120115: inside sendPacket(Packet p)
1336844120138: Sending UDP payload: 4343
1336844120147: removed replies before id 0 from sentReplies of size 0
1336844120148: inside handleDSMRequest. At requests's remote leader of region 1
1336844120172: Inside UPLOAD_PHOTO!!
1336844120185: my_gpinfo.isSuccess is now (should be true): true
1336844120186: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844120187: Received PROC_REQUEST 10:0 (1,0)->(1,0), replying PROC_REPLY 10:0 (1,0)->(1,0)
1336844120192: Received UDP payload: 446
1336844120188: Dispatching Atom PROC_REPLY 10:0 (1,0)->(1,0)
1336844120201: mux: I got a CSM packet at a leader 

1336844120197: Sending UDP payload: 446
1336844120202: Sending UDP payload: 1006
1336844120211: Received PROC_REPLY 10:0 (1,0)->(1,0), handing to UserApp
1336844120211: inside handleDSMReply. Now back in originator leader of region 1
1336844120211: DSM layer: Going to and from remote region took latency = 125
1336844120211: DSM layer: orig leader sent packet at 1336844120086 ~ received reply from remote leader at 1336844120211
1336844120212: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844120212: leader client reply has replyCounter: 500200100
1336844120212: reply packet contains the success info for UPLOAD_PHOTO
1336844120213: inside sendReplies of replyCount = 500200100
1336844120213: =======================
1336844120213: inside sendReplyRepeatingRunnable for replyCount = 500200100
1336844120214: Leader about to send REPLY packet, number: 500200100 type: 16 Leader in region: (1,0) to Client nodID: 5002
1336844120214: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844120214: inside sendPacket(Packet p)
1336844120214: === Finished one round of sending REPLY Packet =======
1336844120216: Sending UDP payload: 659
1336844120257: Received UDP payload: 446
1336844120262: mux: Inside mux Packet.CLIENT_REQUEST
1336844120262: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844120262: inside handleClientRequest. Originator leader of region 1
1336844120263: got new request, requestCounter = 5002002
1336844120263: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500200100
1336844120263: Yay the last leg succeeded. Removing reply runnables ...
1336844120263: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500200100
1336844120263: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500200100
1336844120263: do not send ack for received final_leg_ack
1336844122485: inside sendPacket(Packet p)
1336844122501: Received UDP payload: 446
1336844122504: Sending UDP payload: 446
1336844122525: Received UDP payload: 446
1336844124752: canPressButton = TRUE
1336844124753: areButtonsEnabled --> false
1336844124753: disabling buttons ...
1336844124753: took picture disableButtonsR
1336844124753: areButtonsEnabled --> false
1336844124844: one more takeNum: 1
1336844124845: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336844124846: Clicked take picture button ..
1336844124868: Received UDP payload: 446
1336844124941: Received UDP payload: 446
1336844125189: Received UDP payload: 446
1336844126121: inside HandlePictureStorage onPictureTaken()
1336844126122: one more takeCamGood: 1
1336844126122: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336844126386: Picture successfully taken, ORIG BYTE LENGTH = 2745403
1336844126631: Our new height x width: 306 x 408
1336844126631: Show photo from handle my camera take
1336844126632: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336844126632: change local requestCounter to 1
1336844126646: BYTE SIZE AFTER COMPRESSION: 3266
1336844126651: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5022001 Client in region: 1 Client nodID: 5022
1336844126688: ----------------------------
1336844126689: inside sendRequestPacketRepeatingRunnable for requestCount = 5022001
1336844126689: I'm a leader, my requesting photos packet going to mux directly
1336844126701: --- Finished one round of sending REQUEST Packet ---------
1336844126690: mux: Inside mux Packet.CLIENT_REQUEST
1336844126690: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844126736: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844126690: inside handleClientRequest. Originator leader of region 1
1336844126690: got new request, requestCounter = 5022001
1336844126690: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844126691: Sending PROC_REQUEST 10:1 (1,0)->(1,0)
1336844126691: Dispatching Atom PROC_REQUEST 10:1 (1,0)->(1,0)
1336844126692: mux: I got a CSM packet at a leader 

1336844126738: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844126739: I'm a leader and I successfully saved my client's new photo
1336844126739: now showing in UI the new photo I just saved ... 
1336844126739: the photo length: 3266
1336844126772: end of server show photo aside %%%%%%%%%
1336844126691: Note down new request by adding requestCounter=5022001 to HashMap processedRequests
1336844126691: Make FirstLeg Ack regardless of new or already-processed requests
1336844126691: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844126699: Sending UDP payload: 4294
1336844126708: removed replies before id 1 from sentReplies of size 0
1336844126709: inside handleDSMRequest. At requests's remote leader of region 1
1336844126711: Inside UPLOAD_PHOTO!!
1336844126715: my_gpinfo.isSuccess is now (should be true): true
1336844126715: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844126716: Received PROC_REQUEST 10:1 (1,0)->(1,0), replying PROC_REPLY 10:1 (1,0)->(1,0)
1336844126721: Dispatching Atom PROC_REPLY 10:1 (1,0)->(1,0)
1336844126721: mux: I got a CSM packet at a leader 

1336844126774: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336844126774: disabling progressdialog due to successful new photo upload
1336844126775: Inside _enableButtons
1336844126775: areButtonsEnabled --> true
1336844126775: send final leg ack regardless of new or already-processed reply
1336844126775: inside finalLegAck: change requestCounter to 2
1336844126776: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022002 Client in region: (1,0) Client nodID: 5022
1336844126776: I'm a leader client, my final_leg packet going to mux directly
1336844126779: new client_upload_photo_ack reply with replyCounter 502200100
1336844126779: note down new reply by adding replyCounter=502200100 to HashMap processedReplies
1336844126780: leader upload new photo latency = 84
1336844126781: = leader upload start 1336844126690 ~ stop 1336844126774
1336844126782: one more takeGoodSave: 1
1336844126783: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336844126783: adding take latency: 84
1336844126784: SUCCESS Client now knows saving photo on its leader succeeded
1336844126725: Sending UDP payload: 1006
1336844126730: Received PROC_REPLY 10:1 (1,0)->(1,0), handing to UserApp
1336844126731: inside handleDSMReply. Now back in originator leader of region 1
1336844126731: DSM layer: Going to and from remote region took latency = 41
1336844126731: DSM layer: orig leader sent packet at 1336844126690 ~ received reply from remote leader at 1336844126731
1336844126732: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844126732: leader client reply has replyCounter: 502200100
1336844126732: reply packet contains the success info for UPLOAD_PHOTO
1336844126732: inside sendReplies of replyCount = 502200100
1336844126732: =======================
1336844126732: inside sendReplyRepeatingRunnable for replyCount = 502200100
1336844126733: Leader about to send REPLY packet, number: 502200100 type: 16 Leader in region: (1,0) to Client nodID: 5022
1336844126733: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844126733: === Finished one round of sending REPLY Packet =======
1336844126776: mux: Inside mux Packet.CLIENT_REQUEST
1336844126776: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844126777: inside handleClientRequest. Originator leader of region 1
1336844126777: got new request, requestCounter = 5022002
1336844126777: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200100
1336844126777: Yay the last leg succeeded. Removing reply runnables ...
1336844126777: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502200100
1336844126777: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502200100
1336844126777: do not send ack for received final_leg_ack
1336844127485: inside sendPacket(Packet p)
1336844127487: Sending UDP payload: 446
1336844127525: Received UDP payload: 446
1336844127609: Received UDP payload: 446
1336844129945: Received UDP payload: 446
1336844129953: Received UDP payload: 446
1336844130261: Received UDP payload: 446
1336844132406: Received UDP payload: 5909
1336844132414: mux: Inside mux Packet.CLIENT_REQUEST
1336844132486: inside sendPacket(Packet p)
1336844132487: Sending UDP payload: 446
1336844132495: Received UDP payload: 446
1336844132527: Received UDP payload: 6273
1336844132532: mux: GOT CSM_Msg
1336844132532: forwarding disabled, not forwarding packets
1336844132541: Received UDP payload: 446
1336844132549: Received UDP payload: 446
1336844132551: mux: Inside Packet.SERVER_REPLY
1336844132551: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844132558: Received UDP payload: 1006
1336844132561: mux: GOT CSM_Msg
1336844132561: forwarding disabled, not forwarding packets
1336844132579: Received UDP payload: 659
1336844132581: mux: Inside Packet.SERVER_REPLY
1336844132581: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844132599: Received UDP payload: 446
1336844132601: mux: Inside mux Packet.CLIENT_REQUEST
1336844134902: Received UDP payload: 446
1336844134955: Received UDP payload: 446
1336844137253: Received UDP payload: 446
1336844137486: inside sendPacket(Packet p)
1336844137497: Sending UDP payload: 446
1336844137586: Received UDP payload: 446
1336844137645: Received UDP payload: 446
1336844139737: Received UDP payload: 4398
1336844139752: mux: GOT CSM_Msg
1336844139753: forwarding disabled, not forwarding packets
1336844139766: Received UDP payload: 1006
1336844139779: mux: GOT CSM_Msg
1336844139779: forwarding disabled, not forwarding packets
1336844139891: Received UDP payload: 446
1336844139958: Received UDP payload: 446
1336844142235: Received UDP payload: 446
1336844142489: inside sendPacket(Packet p)
1336844142504: Sending UDP payload: 446
1336844142508: Received UDP payload: 446
1336844142537: Received UDP payload: 446
1336844144888: Received UDP payload: 446
1336844144954: Received UDP payload: 446
1336844147308: Received UDP payload: 446
1336844147509: inside sendPacket(Packet p)
1336844147513: Sending UDP payload: 446
1336844147523: Received UDP payload: 446
1336844147584: Received UDP payload: 446
1336844149892: Received UDP payload: 446
1336844149974: Received UDP payload: 446
1336844152266: Received UDP payload: 446
1336844152514: inside sendPacket(Packet p)
1336844152517: Sending UDP payload: 446
1336844152531: Received UDP payload: 446
1336844154065: Received UDP payload: 446
1336844154898: Received UDP payload: 446
1336844154953: Received UDP payload: 446
1336844156085: Received UDP payload: 4587
1336844156097: mux: GOT CSM_Msg
1336844156098: forwarding disabled, not forwarding packets
1336844156114: Received UDP payload: 1006
1336844156135: mux: GOT CSM_Msg
1336844156136: forwarding disabled, not forwarding packets
1336844157284: Received UDP payload: 446
1336844157513: Received UDP payload: 446
1336844157515: inside sendPacket(Packet p)
1336844157529: Sending UDP payload: 446
1336844159064: Received UDP payload: 446
1336844159926: Received UDP payload: 446
1336844160027: Received UDP payload: 446
1336844162325: Received UDP payload: 446
1336844162516: inside sendPacket(Packet p)
1336844162519: Sending UDP payload: 446
1336844164050: Received UDP payload: 446
1336844164379: Received UDP payload: 446
1336844164901: Received UDP payload: 446
1336844164974: Received UDP payload: 446
1336844167334: Received UDP payload: 446
1336844167516: inside sendPacket(Packet p)
1336844167527: Sending UDP payload: 446
1336844168069: Received UDP payload: 4172
1336844168080: mux: GOT CSM_Msg
1336844168082: forwarding disabled, not forwarding packets
1336844168095: Received UDP payload: 1006
1336844168119: mux: GOT CSM_Msg
1336844168119: forwarding disabled, not forwarding packets
1336844169068: Received UDP payload: 446
1336844169301: Received UDP payload: 446
1336844169919: Received UDP payload: 446
1336844169979: Received UDP payload: 446
1336844172302: Received UDP payload: 446
1336844172520: inside sendPacket(Packet p)
1336844172534: Sending UDP payload: 446
1336844174055: Received UDP payload: 446
1336844174302: Received UDP payload: 446
1336844174927: Received UDP payload: 446
1336844175024: Received UDP payload: 4244
1336844175033: mux: Inside mux Packet.CLIENT_REQUEST
1336844175041: Received UDP payload: 446
1336844175163: Received UDP payload: 4608
1336844175174: mux: GOT CSM_Msg
1336844175175: forwarding disabled, not forwarding packets
1336844175190: Received UDP payload: 446
1336844175197: mux: Inside Packet.SERVER_REPLY
1336844175197: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844175223: Received UDP payload: 1006
1336844175225: mux: GOT CSM_Msg
1336844175225: forwarding disabled, not forwarding packets
1336844175230: Received UDP payload: 659
1336844175232: mux: Inside Packet.SERVER_REPLY
1336844175232: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844175255: Received UDP payload: 446
1336844175257: mux: Inside mux Packet.CLIENT_REQUEST
1336844177311: Received UDP payload: 446
1336844177536: inside sendPacket(Packet p)
1336844177539: Sending UDP payload: 446
1336844179082: Received UDP payload: 446
1336844179318: Received UDP payload: 446
1336844179949: Received UDP payload: 446
1336844181999: Received UDP payload: 4766
1336844182033: mux: GOT CSM_Msg
1336844182033: forwarding disabled, not forwarding packets
1336844182051: Received UDP payload: 1006
1336844182084: mux: GOT CSM_Msg
1336844182085: forwarding disabled, not forwarding packets
1336844182086: Received UDP payload: 446
1336844182313: Received UDP payload: 446
1336844182536: inside sendPacket(Packet p)
1336844182538: Sending UDP payload: 446
1336844184107: Received UDP payload: 446
1336844184351: Received UDP payload: 446
1336844184967: Received UDP payload: 446
1336844187030: Received UDP payload: 446
1336844187326: Received UDP payload: 446
1336844187538: inside sendPacket(Packet p)
1336844187554: Sending UDP payload: 446
1336844189058: Received UDP payload: 446
1336844189341: Received UDP payload: 446
1336844189978: Received UDP payload: 446
1336844190675: Received UDP payload: 4618
1336844190685: mux: GOT CSM_Msg
1336844190686: forwarding disabled, not forwarding packets
1336844190700: Received UDP payload: 1006
1336844190712: mux: GOT CSM_Msg
1336844190712: forwarding disabled, not forwarding packets
1336844192046: Received UDP payload: 446
1336844192328: Received UDP payload: 446
1336844192557: inside sendPacket(Packet p)
1336844192577: Sending UDP payload: 446
1336844194085: Received UDP payload: 446
1336844194362: Received UDP payload: 446
1336844195069: Received UDP payload: 446
1336844197044: Received UDP payload: 446
1336844197363: Received UDP payload: 446
1336844197580: inside sendPacket(Packet p)
1336844197584: Sending UDP payload: 446
1336844197673: Received UDP payload: 5367
1336844197675: mux: Inside mux Packet.CLIENT_REQUEST
1336844197785: Received UDP payload: 5731
1336844197789: mux: GOT CSM_Msg
1336844197789: forwarding disabled, not forwarding packets
1336844197796: Received UDP payload: 446
1336844197798: mux: Inside Packet.SERVER_REPLY
1336844197799: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844197815: Received UDP payload: 1006
1336844197820: mux: GOT CSM_Msg
1336844197820: forwarding disabled, not forwarding packets
1336844197827: Received UDP payload: 659
1336844197831: mux: Inside Packet.SERVER_REPLY
1336844197831: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844197847: Received UDP payload: 446
1336844197849: mux: Inside mux Packet.CLIENT_REQUEST
1336844199056: Received UDP payload: 446
1336844199393: Received UDP payload: 446
1336844199996: Received UDP payload: 446
1336844202074: Received UDP payload: 446
1336844202361: Received UDP payload: 446
1336844202581: inside sendPacket(Packet p)
1336844202585: Sending UDP payload: 446
1336844204108: Received UDP payload: 446
1336844204432: Received UDP payload: 446
1336844205042: Received UDP payload: 446
1336844207099: Received UDP payload: 446
1336844207375: Received UDP payload: 446
1336844207581: inside sendPacket(Packet p)
1336844207585: Sending UDP payload: 446
1336844209079: Received UDP payload: 446
1336844209405: Received UDP payload: 446
1336844210016: Received UDP payload: 446
1336844212048: Received UDP payload: 446
1336844212352: Received UDP payload: 446
1336844212583: inside sendPacket(Packet p)
1336844212593: Sending UDP payload: 446
1336844214081: Received UDP payload: 446
1336844214411: Received UDP payload: 446
1336844215035: Received UDP payload: 446
1336844217049: Received UDP payload: 446
1336844217358: Received UDP payload: 446
1336844217591: inside sendPacket(Packet p)
1336844217603: Sending UDP payload: 446
1336844219082: Received UDP payload: 446
1336844219407: Received UDP payload: 446
1336844220033: Received UDP payload: 446
1336844222109: Received UDP payload: 446
1336844222438: Received UDP payload: 446
1336844222606: inside sendPacket(Packet p)
1336844222610: Sending UDP payload: 446
1336844224088: Received UDP payload: 446
1336844224448: Received UDP payload: 446
1336844225051: Received UDP payload: 446
1336844227058: Received UDP payload: 446
1336844227407: Received UDP payload: 446
1336844227606: inside sendPacket(Packet p)
1336844227616: Sending UDP payload: 446
1336844229101: Received UDP payload: 446
1336844229419: Received UDP payload: 446
1336844230075: Received UDP payload: 446
1336844232056: Received UDP payload: 446
1336844232363: Received UDP payload: 446
1336844232618: inside sendPacket(Packet p)
1336844232621: Sending UDP payload: 446
1336844234112: Received UDP payload: 446
1336844234419: Received UDP payload: 446
1336844235058: Received UDP payload: 446
1336844237071: Received UDP payload: 446
1336844237372: Received UDP payload: 446
1336844237466: leader to cloud hearbeat...
1336844239142: Received UDP payload: 446
1336844239430: Received UDP payload: 446
1336844239542: inside sendPacket(Packet p)
1336844239560: Sending UDP payload: 446
1336844241979: Received UDP payload: 446
1336844242055: Received UDP payload: 446
1336844242385: Received UDP payload: 446
1336844244116: Received UDP payload: 446
1336844244430: Received UDP payload: 446
1336844244563: inside sendPacket(Packet p)
1336844244589: Sending UDP payload: 446
1336844246987: Received UDP payload: 446
1336844247064: Received UDP payload: 446
1336844247400: Received UDP payload: 446
1336844249121: Received UDP payload: 446
1336844249455: Received UDP payload: 446
1336844249564: inside sendPacket(Packet p)
1336844249567: Sending UDP payload: 446
1336844252078: Received UDP payload: 446
1336844252148: Received UDP payload: 446
1336844252459: Received UDP payload: 446
1336844254132: Received UDP payload: 446
1336844254466: Received UDP payload: 446
1336844254565: inside sendPacket(Packet p)
1336844254582: Sending UDP payload: 446
1336844257088: Received UDP payload: 446
1336844257108: Received UDP payload: 446
1336844259148: Received UDP payload: 446
1336844259404: Received UDP payload: 446
1336844259483: Received UDP payload: 446
1336844259566: inside sendPacket(Packet p)
1336844259569: Sending UDP payload: 446
1336844262004: Received UDP payload: 446
1336844262094: Received UDP payload: 446
1336844264207: Received UDP payload: 446
1336844264409: Received UDP payload: 446
1336844264474: Received UDP payload: 446
1336844264568: inside sendPacket(Packet p)
1336844264571: Sending UDP payload: 446
1336844267049: Received UDP payload: 446
1336844267089: Received UDP payload: 446
1336844269208: Received UDP payload: 446
1336844269422: Received UDP payload: 446
1336844269474: Received UDP payload: 446
1336844269570: inside sendPacket(Packet p)
1336844269573: Sending UDP payload: 446
1336844272001: Received UDP payload: 446
1336844272085: Received UDP payload: 446
1336844272911: canPressButton = TRUE
1336844272911: areButtonsEnabled --> false 
1336844272911: get picture disableButtonsR
1336844272912: areButtonsEnabled --> false
1336844272937: one more getNum: 1
1336844272938: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1336844272938: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336844272939: change local requestCounter to 3
1336844272944: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022003 Client in region: 1 Client nodID: 5022
1336844272973: ----------------------------
1336844272974: inside sendRequestPacketRepeatingRunnable for requestCount = 5022003
1336844272974: I'm a leader, my requesting photos packet going to mux directly
1336844272983: --- Finished one round of sending REQUEST Packet ---------
1336844272974: mux: Inside mux Packet.CLIENT_REQUEST
1336844272974: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844273032: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844272975: inside handleClientRequest. Originator leader of region 1
1336844272975: got new request, requestCounter = 5022003
1336844272975: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844272978: Sending to region: 0
1336844272978: Sending PROC_REQUEST 11:0 (1,0)->(0,0)
1336844272979: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1336844272980: mux: I got a CSM packet at a leader 

1336844272979: Note down new request by adding requestCounter=5022003 to HashMap processedRequests
1336844272979: Make FirstLeg Ack regardless of new or already-processed requests
1336844272980: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844272983: Sending UDP payload: 1006
1336844272990: forwarding disabled, not forwarding packets
1336844273116: Received UDP payload: 4398
1336844273121: mux: GOT CSM_Msg
1336844273149: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844273149: disabling progressdialog due to successful new photo get
1336844273149: Inside _enableButtons
1336844273152: areButtonsEnabled --> true
1336844273153: send final leg ack regardless of new or already-processed reply
1336844273153: inside finalLegAck: change requestCounter to 4
1336844273154: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022004 Client in region: (1,0) Client nodID: 5022
1336844273155: I'm a leader client, my final_leg packet going to mux directly
1336844273156: new client_show_remotephoto reply with replyCounter 502200300
1336844273157: note down new reply by adding replyCounter=502200300 to HashMap processedReplies
1336844273157: leader download remote photo latency = 175
1336844273158: = leader download start 1336844272974 ~ stop 1336844273149
1336844273162: one more getGood: 1
1336844273164: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1336844273165: adding get latency: 175
1336844273167: Success! Client getting photo from remote region, showing photo...
1336844273168: Remote photo's length: 3370
1336844273132: Received PROC_REPLY 11:0 (0,0)->(1,0), handing to UserApp
1336844273132: inside handleDSMReply. Now back in originator leader of region 1
1336844273132: DSM layer: Going to and from remote region took latency = 154
1336844273132: DSM layer: orig leader sent packet at 1336844272978 ~ received reply from remote leader at 1336844273132
1336844273133: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844273133: leader client reply has replyCounter: 502200300
1336844273134: reply packet contains the newest photo/success info from the remote region
1336844273134: inside sendReplies of replyCount = 502200300
1336844273134: =======================
1336844273134: inside sendReplyRepeatingRunnable for replyCount = 502200300
1336844273135: Leader about to send REPLY packet, number: 502200300 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844273135: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844273135: === Finished one round of sending REPLY Packet =======
1336844273156: mux: Inside mux Packet.CLIENT_REQUEST
1336844273156: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844273156: inside handleClientRequest. Originator leader of region 1
1336844273156: got new request, requestCounter = 5022004
1336844273156: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200300
1336844273156: Yay the last leg succeeded. Removing reply runnables ...
1336844273157: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502200300
1336844273157: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502200300
1336844273157: do not send ack for received final_leg_ack
1336844273455: Received UDP payload: 642
1336844273457: mux: Inside mux Packet.CLIENT_REQUEST
1336844273499: Received UDP payload: 1006
1336844273503: mux: GOT CSM_Msg
1336844273503: forwarding disabled, not forwarding packets
1336844273531: Received UDP payload: 446
1336844273533: mux: Inside Packet.SERVER_REPLY
1336844273534: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844273611: Received UDP payload: 4398
1336844273615: mux: GOT CSM_Msg
1336844273615: forwarding disabled, not forwarding packets
1336844273666: Received UDP payload: 4051
1336844273668: mux: Inside Packet.SERVER_REPLY
1336844273668: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844273684: Received UDP payload: 446
1336844273687: mux: Inside mux Packet.CLIENT_REQUEST
1336844274256: Received UDP payload: 642
1336844274263: mux: Inside mux Packet.CLIENT_REQUEST
1336844274264: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844274264: inside handleClientRequest. Originator leader of region 1
1336844274264: got new request, requestCounter = 5002003
1336844274265: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844274267: Sending to region: 0
1336844274269: Sending PROC_REQUEST 11:1 (1,0)->(0,0)
1336844274271: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1336844274274: mux: I got a CSM packet at a leader 

1336844274271: Note down new request by adding requestCounter=5002003 to HashMap processedRequests
1336844274272: Make FirstLeg Ack regardless of new or already-processed requests
1336844274272: The leader sending a First Leg ack to originator client (which id = 5002)
1336844274273: inside sendPacket(Packet p)
1336844274279: Sending UDP payload: 1006
1336844274281: forwarding disabled, not forwarding packets
1336844274285: Sending UDP payload: 446
1336844274402: Received UDP payload: 4398
1336844274413: mux: GOT CSM_Msg
1336844274416: Received PROC_REPLY 11:1 (0,0)->(1,0), handing to UserApp
1336844274417: inside handleDSMReply. Now back in originator leader of region 1
1336844274417: DSM layer: Going to and from remote region took latency = 149
1336844274418: DSM layer: orig leader sent packet at 1336844274267 ~ received reply from remote leader at 1336844274416
1336844274425: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844274426: leader client reply has replyCounter: 500200300
1336844274426: reply packet contains the newest photo/success info from the remote region
1336844274427: inside sendReplies of replyCount = 500200300
1336844274428: Received UDP payload: 446
1336844274434: =======================
1336844274434: inside sendReplyRepeatingRunnable for replyCount = 500200300
1336844274436: Leader about to send REPLY packet, number: 500200300 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844274436: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844274437: inside sendPacket(Packet p)
1336844274437: === Finished one round of sending REPLY Packet =======
1336844274441: Sending UDP payload: 4051
1336844274477: Received UDP payload: 446
1336844274508: Received UDP payload: 446
1336844274511: mux: Inside mux Packet.CLIENT_REQUEST
1336844274511: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844274511: inside handleClientRequest. Originator leader of region 1
1336844274512: got new request, requestCounter = 5002004
1336844274512: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500200300
1336844274512: Yay the last leg succeeded. Removing reply runnables ...
1336844274513: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500200300
1336844274513: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500200300
1336844274513: do not send ack for received final_leg_ack
1336844274570: inside sendPacket(Packet p)
1336844274573: Sending UDP payload: 446
1336844275125: Received UDP payload: 1006
1336844275135: mux: GOT CSM_Msg
1336844275136: forwarding disabled, not forwarding packets
1336844275181: Received UDP payload: 4398
1336844275191: mux: GOT CSM_Msg
1336844275192: forwarding disabled, not forwarding packets
1336844276194: Received UDP payload: 446
1336844277022: Received UDP payload: 446
1336844277083: Received UDP payload: 446
1336844279422: Received UDP payload: 446
1336844279473: Received UDP payload: 446
1336844279571: inside sendPacket(Packet p)
1336844279574: Sending UDP payload: 446
1336844281191: Received UDP payload: 446
1336844282111: Received UDP payload: 446
1336844282135: Received UDP payload: 446
1336844283059: Received UDP payload: 1006
1336844283068: mux: GOT CSM_Msg
1336844283069: removed replies before id 0 from sentReplies of size 0
1336844283069: inside handleDSMRequest. At requests's remote leader of region 1
1336844283072: INSIDE SERVER_GET_PHOTO!!!
1336844283094: Received UDP payload: 1006
1336844283128: mux: GOT CSM_Msg
1336844283124: Received PROC_REQUEST 11:0 (3,0)->(1,0), replying PROC_REPLY 11:0 (1,0)->(3,0)
1336844283127: Dispatching Atom PROC_REPLY 11:0 (1,0)->(3,0)
1336844283129: mux: I got a CSM packet at a leader 

1336844283128: forwarding disabled, not forwarding packets
1336844283134: Sending UDP payload: 4294
1336844283146: forwarding disabled, not forwarding packets
1336844283250: Received UDP payload: 4398
1336844283253: mux: GOT CSM_Msg
1336844283253: forwarding disabled, not forwarding packets
1336844284428: Received UDP payload: 446
1336844284572: inside sendPacket(Packet p)
1336844284585: Sending UDP payload: 446
1336844286189: Received UDP payload: 446
1336844286421: Received UDP payload: 446
1336844287024: Received UDP payload: 446
1336844289330: Received UDP payload: 1006
1336844289339: mux: GOT CSM_Msg
1336844289340: forwarding disabled, not forwarding packets
1336844289425: Received UDP payload: 4398
1336844289436: mux: GOT CSM_Msg
1336844289436: forwarding disabled, not forwarding packets
1336844289442: Received UDP payload: 446
1336844289588: inside sendPacket(Packet p)
1336844289591: Sending UDP payload: 446
1336844290507: Received UDP payload: 642
1336844290514: mux: Inside mux Packet.CLIENT_REQUEST
1336844290603: Received UDP payload: 1006
1336844290606: mux: GOT CSM_Msg
1336844290606: forwarding disabled, not forwarding packets
1336844290607: Received UDP payload: 446
1336844290609: mux: Inside Packet.SERVER_REPLY
1336844290609: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844290723: Received UDP payload: 4398
1336844290729: mux: GOT CSM_Msg
1336844290729: forwarding disabled, not forwarding packets
1336844290783: Received UDP payload: 4051
1336844290787: mux: Inside Packet.SERVER_REPLY
1336844290787: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844290803: Received UDP payload: 446
1336844290807: mux: Inside mux Packet.CLIENT_REQUEST
1336844291192: Received UDP payload: 446
1336844291390: Received UDP payload: 446
1336844292049: Received UDP payload: 446
1336844292111: Received UDP payload: 446
1336844294433: Received UDP payload: 446
1336844294590: inside sendPacket(Packet p)
1336844294599: Sending UDP payload: 446
1336844296202: Received UDP payload: 446
1336844296391: Received UDP payload: 446
1336844297047: Received UDP payload: 446
1336844297118: Received UDP payload: 446
1336844298968: Received UDP payload: 1006
1336844298978: mux: GOT CSM_Msg
1336844298979: forwarding disabled, not forwarding packets
1336844299055: Received UDP payload: 4398
1336844299058: mux: GOT CSM_Msg
1336844299058: forwarding disabled, not forwarding packets
1336844299428: Received UDP payload: 446
1336844299603: inside sendPacket(Packet p)
1336844299606: Sending UDP payload: 446
1336844301217: Received UDP payload: 446
1336844301428: Received UDP payload: 446
1336844302054: Received UDP payload: 446
1336844304377: Received UDP payload: 446
1336844304436: Received UDP payload: 446
1336844304608: inside sendPacket(Packet p)
1336844304611: Sending UDP payload: 446
1336844306209: Received UDP payload: 446
1336844306398: Received UDP payload: 446
1336844307064: Received UDP payload: 446
1336844309374: Received UDP payload: 446
1336844309432: Received UDP payload: 446
1336844309611: inside sendPacket(Packet p)
1336844309648: Sending UDP payload: 446
1336844311228: Received UDP payload: 446
1336844311396: Received UDP payload: 446
1336844312128: Received UDP payload: 446
1336844314142: Received UDP payload: 1006
1336844314160: mux: GOT CSM_Msg
1336844314160: forwarding disabled, not forwarding packets
1336844314275: Received UDP payload: 4398
1336844314284: mux: GOT CSM_Msg
1336844314285: forwarding disabled, not forwarding packets
1336844314395: Received UDP payload: 446
1336844314452: Received UDP payload: 446
1336844314632: inside sendPacket(Packet p)
1336844314636: Sending UDP payload: 446
1336844315615: Received UDP payload: 642
1336844315622: mux: Inside mux Packet.CLIENT_REQUEST
1336844315702: Received UDP payload: 1006
1336844315714: mux: GOT CSM_Msg
1336844315714: forwarding disabled, not forwarding packets
1336844315721: Received UDP payload: 446
1336844315736: mux: Inside Packet.SERVER_REPLY
1336844315737: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844315756: Received UDP payload: 4398
1336844315764: mux: GOT CSM_Msg
1336844315764: forwarding disabled, not forwarding packets
1336844315812: Received UDP payload: 4051
1336844315814: mux: Inside Packet.SERVER_REPLY
1336844315814: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844315824: Received UDP payload: 446
1336844315826: mux: Inside mux Packet.CLIENT_REQUEST
1336844316266: Received UDP payload: 446
1336844316399: Received UDP payload: 446
1336844317128: Received UDP payload: 446
1336844319394: Received UDP payload: 446
1336844319447: Received UDP payload: 446
1336844319634: inside sendPacket(Packet p)
1336844319637: Sending UDP payload: 446
1336844321234: Received UDP payload: 446
1336844321405: Received UDP payload: 446
1336844322109: Received UDP payload: 446
1336844324388: Received UDP payload: 446
1336844324440: Received UDP payload: 446
1336844324635: inside sendPacket(Packet p)
1336844324638: Sending UDP payload: 446
1336844326174: Received UDP payload: 642
1336844326183: mux: Inside mux Packet.CLIENT_REQUEST
1336844326184: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844326184: inside handleClientRequest. Originator leader of region 1
1336844326184: got new request, requestCounter = 5002005
1336844326185: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844326204: Sending to region: 1
1336844326206: Sending PROC_REQUEST 11:2 (1,0)->(1,0)
1336844326207: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(1,0)
1336844326220: mux: I got a CSM packet at a leader 

1336844326207: Note down new request by adding requestCounter=5002005 to HashMap processedRequests
1336844326207: Make FirstLeg Ack regardless of new or already-processed requests
1336844326208: The leader sending a First Leg ack to originator client (which id = 5002)
1336844326208: inside sendPacket(Packet p)
1336844326235: Received UDP payload: 446
1336844326241: Sending UDP payload: 1006
1336844326244: removed replies before id 2 from sentReplies of size 0
1336844326244: inside handleDSMRequest. At requests's remote leader of region 1
1336844326245: INSIDE SERVER_GET_PHOTO!!!
1336844326247: dst_region == src_region = 1
1336844326247:  1 self to self atomRequest
1336844326255: Received PROC_REQUEST 11:2 (1,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(1,0)
1336844326255: Dispatching Atom PROC_REPLY 11:2 (1,0)->(1,0)
1336844326257: mux: I got a CSM packet at a leader 

1336844326256: Sending UDP payload: 446
1336844326258: Sending UDP payload: 4294
1336844326264: Received PROC_REPLY 11:2 (1,0)->(1,0), handing to UserApp
1336844326264: inside handleDSMReply. Now back in originator leader of region 1
1336844326264: DSM layer: Going to and from remote region took latency = 60
1336844326265: DSM layer: orig leader sent packet at 1336844326204 ~ received reply from remote leader at 1336844326264
1336844326265: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844326266: leader client reply has replyCounter: 500200500
1336844326266: reply packet contains the newest photo/success info from the remote region
1336844326266: inside sendReplies of replyCount = 500200500
1336844326266: =======================
1336844326266: inside sendReplyRepeatingRunnable for replyCount = 500200500
1336844326266: Leader about to send REPLY packet, number: 500200500 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844326267: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844326267: inside sendPacket(Packet p)
1336844326267: === Finished one round of sending REPLY Packet =======
1336844326268: Sending UDP payload: 3947
1336844326401: Received UDP payload: 446
1336844326407: Received UDP payload: 446
1336844326408: mux: Inside mux Packet.CLIENT_REQUEST
1336844326409: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844326409: inside handleClientRequest. Originator leader of region 1
1336844326409: got new request, requestCounter = 5002006
1336844326409: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500200500
1336844326409: Yay the last leg succeeded. Removing reply runnables ...
1336844326409: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500200500
1336844326409: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500200500
1336844326409: do not send ack for received final_leg_ack
1336844326568: Received UDP payload: 642
1336844326569: mux: Inside mux Packet.CLIENT_REQUEST
1336844326584: Received UDP payload: 1006
1336844326587: mux: GOT CSM_Msg
1336844326588: removed replies before id 0 from sentReplies of size 0
1336844326588: inside handleDSMRequest. At requests's remote leader of region 1
1336844326588: INSIDE SERVER_GET_PHOTO!!!
1336844326590: Received PROC_REQUEST 11:0 (0,0)->(1,0), replying PROC_REPLY 11:0 (1,0)->(0,0)
1336844326591: Dispatching Atom PROC_REPLY 11:0 (1,0)->(0,0)
1336844326591: mux: I got a CSM packet at a leader 

1336844326593: Received UDP payload: 446
1336844326593: Sending UDP payload: 4294
1336844326596: mux: Inside Packet.SERVER_REPLY
1336844326596: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844326596: forwarding disabled, not forwarding packets
1336844326699: Received UDP payload: 3947
1336844326700: mux: Inside Packet.SERVER_REPLY
1336844326701: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844326718: Received UDP payload: 446
1336844326720: mux: Inside mux Packet.CLIENT_REQUEST
1336844327073: canPressButton = TRUE
1336844327073: areButtonsEnabled --> false 
1336844327073: get picture disableButtonsR
1336844327073: areButtonsEnabled --> false
1336844327099: one more getNum: 2
1336844327100: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=0 getTimedout=0 getPercent=50%
1336844327101: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336844327101: change local requestCounter to 5
1336844327105: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022005 Client in region: 1 Client nodID: 5022
1336844327138: ----------------------------
1336844327139: inside sendRequestPacketRepeatingRunnable for requestCount = 5022005
1336844327139: I'm a leader, my requesting photos packet going to mux directly
1336844327150: --- Finished one round of sending REQUEST Packet ---------
1336844327112: Received UDP payload: 446
1336844327140: mux: Inside mux Packet.CLIENT_REQUEST
1336844327140: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844327197: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844327140: inside handleClientRequest. Originator leader of region 1
1336844327140: got new request, requestCounter = 5022005
1336844327140: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844327141: Sending to region: 1
1336844327141: Sending PROC_REQUEST 11:3 (1,0)->(1,0)
1336844327142: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(1,0)
1336844327143: mux: I got a CSM packet at a leader 

1336844327143: Note down new request by adding requestCounter=5022005 to HashMap processedRequests
1336844327143: Make FirstLeg Ack regardless of new or already-processed requests
1336844327143: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844327144: Sending UDP payload: 1006
1336844327145: removed replies before id 3 from sentReplies of size 0
1336844327145: inside handleDSMRequest. At requests's remote leader of region 1
1336844327146: INSIDE SERVER_GET_PHOTO!!!
1336844327147: dst_region == src_region = 1
1336844327147:  1 self to self atomRequest
1336844327148: Received PROC_REQUEST 11:3 (1,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(1,0)
1336844327148: Dispatching Atom PROC_REPLY 11:3 (1,0)->(1,0)
1336844327149: mux: I got a CSM packet at a leader 

1336844327200: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844327201: disabling progressdialog due to successful new photo get
1336844327201: Inside _enableButtons
1336844327201: areButtonsEnabled --> true
1336844327202: send final leg ack regardless of new or already-processed reply
1336844327202: inside finalLegAck: change requestCounter to 6
1336844327202: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022006 Client in region: (1,0) Client nodID: 5022
1336844327203: I'm a leader client, my final_leg packet going to mux directly
1336844327207: new client_show_remotephoto reply with replyCounter 502200500
1336844327207: note down new reply by adding replyCounter=502200500 to HashMap processedReplies
1336844327208: leader download remote photo latency = 61
1336844327208: = leader download start 1336844327139 ~ stop 1336844327200
1336844327209: one more getGood: 2
1336844327212: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=2 getBad=0 getTimedout=0 getPercent=100%
1336844327212: adding get latency: 61
1336844327213: Success! Client getting photo from remote region, showing photo...
1336844327214: Remote photo's length: 3266
1336844327164: Sending UDP payload: 4294
1336844327165: Received PROC_REPLY 11:3 (1,0)->(1,0), handing to UserApp
1336844327165: inside handleDSMReply. Now back in originator leader of region 1
1336844327166: DSM layer: Going to and from remote region took latency = 24
1336844327166: DSM layer: orig leader sent packet at 1336844327141 ~ received reply from remote leader at 1336844327165
1336844327167: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844327167: leader client reply has replyCounter: 502200500
1336844327167: reply packet contains the newest photo/success info from the remote region
1336844327167: inside sendReplies of replyCount = 502200500
1336844327167: =======================
1336844327167: inside sendReplyRepeatingRunnable for replyCount = 502200500
1336844327168: Leader about to send REPLY packet, number: 502200500 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844327168: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844327168: === Finished one round of sending REPLY Packet =======
1336844327203: mux: Inside mux Packet.CLIENT_REQUEST
1336844327203: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844327203: inside handleClientRequest. Originator leader of region 1
1336844327203: got new request, requestCounter = 5022006
1336844327203: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200500
1336844327203: Yay the last leg succeeded. Removing reply runnables ...
1336844327204: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502200500
1336844327204: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502200500
1336844327204: do not send ack for received final_leg_ack
1336844327934: Received UDP payload: 1006
1336844327968: mux: GOT CSM_Msg
1336844327969: removed replies before id 1 from sentReplies of size 0
1336844327969: inside handleDSMRequest. At requests's remote leader of region 1
1336844327986: INSIDE SERVER_GET_PHOTO!!!
1336844328008: Received PROC_REQUEST 11:1 (0,0)->(1,0), replying PROC_REPLY 11:1 (1,0)->(0,0)
1336844328009: Dispatching Atom PROC_REPLY 11:1 (1,0)->(0,0)
1336844328009: mux: I got a CSM packet at a leader 

1336844328014: Sending UDP payload: 4294
1336844328015: forwarding disabled, not forwarding packets
1336844329454: Received UDP payload: 446
1336844329478: Received UDP payload: 446
1336844329636: inside sendPacket(Packet p)
1336844329650: Sending UDP payload: 446
1336844331276: Received UDP payload: 446
1336844331405: Received UDP payload: 446
1336844332160: Received UDP payload: 446
1336844332721: Received UDP payload: 1006
1336844332732: mux: GOT CSM_Msg
1336844332733: removed replies before id 1 from sentReplies of size 0
1336844332733: inside handleDSMRequest. At requests's remote leader of region 1
1336844332736: INSIDE SERVER_GET_PHOTO!!!
1336844332752: Received PROC_REQUEST 11:1 (3,0)->(1,0), replying PROC_REPLY 11:1 (1,0)->(3,0)
1336844332762: Dispatching Atom PROC_REPLY 11:1 (1,0)->(3,0)
1336844332763: mux: I got a CSM packet at a leader 

1336844332768: Sending UDP payload: 4294
1336844332779: forwarding disabled, not forwarding packets
1336844334442: Received UDP payload: 446
1336844334464: Received UDP payload: 446
1336844334653: inside sendPacket(Packet p)
1336844334656: Sending UDP payload: 446
1336844336267: Received UDP payload: 446
1336844336397: Received UDP payload: 1006
1336844336408: mux: GOT CSM_Msg
1336844336409: removed replies before id 0 from sentReplies of size 0
1336844336409: inside handleDSMRequest. At requests's remote leader of region 1
1336844336420: INSIDE SERVER_GET_PHOTO!!!
1336844336431: Received UDP payload: 446
1336844336438: Received PROC_REQUEST 11:0 (2,0)->(1,0), replying PROC_REPLY 11:0 (1,0)->(2,0)
1336844336440: Dispatching Atom PROC_REPLY 11:0 (1,0)->(2,0)
1336844336441: mux: I got a CSM packet at a leader 

1336844336446: Sending UDP payload: 4294
1336844336464: forwarding disabled, not forwarding packets
1336844337134: Received UDP payload: 446
1336844339433: Received UDP payload: 446
1336844339462: Received UDP payload: 446
1336844339655: inside sendPacket(Packet p)
1336844339659: Sending UDP payload: 446
1336844341281: Received UDP payload: 446
1336844341406: Received UDP payload: 446
1336844342183: Received UDP payload: 1006
1336844342194: mux: GOT CSM_Msg
1336844342194: removed replies before id 0 from sentReplies of size 0
1336844342195: inside handleDSMRequest. At requests's remote leader of region 1
1336844342197: INSIDE SERVER_GET_PHOTO!!!
1336844342218: Received PROC_REQUEST 11:0 (5,0)->(1,0), replying PROC_REPLY 11:0 (1,0)->(5,0)
1336844342220: Dispatching Atom PROC_REPLY 11:0 (1,0)->(5,0)
1336844342229: mux: I got a CSM packet at a leader 

1336844342233: Sending UDP payload: 4294
1336844342243: forwarding disabled, not forwarding packets
1336844342248: Received UDP payload: 446
1336844342420: Received UDP payload: 1006
1336844342424: mux: GOT CSM_Msg
1336844342425: removed replies before id 0 from sentReplies of size 0
1336844342425: inside handleDSMRequest. At requests's remote leader of region 1
1336844342426: INSIDE SERVER_GET_PHOTO!!!
1336844342428: Received PROC_REQUEST 11:0 (4,0)->(1,0), replying PROC_REPLY 11:0 (1,0)->(4,0)
1336844342428: Dispatching Atom PROC_REPLY 11:0 (1,0)->(4,0)
1336844342429: mux: I got a CSM packet at a leader 

1336844342431: Sending UDP payload: 4294
1336844342441: forwarding disabled, not forwarding packets
1336844343733: Received UDP payload: 642
1336844343742: mux: Inside mux Packet.CLIENT_REQUEST
1336844343798: Received UDP payload: 1006
1336844343800: mux: GOT CSM_Msg
1336844343800: removed replies before id 1 from sentReplies of size 0
1336844343800: inside handleDSMRequest. At requests's remote leader of region 1
1336844343801: INSIDE SERVER_GET_PHOTO!!!
1336844343806: Received UDP payload: 446
1336844343808: mux: Inside Packet.SERVER_REPLY
1336844343808: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844343807: Received PROC_REQUEST 11:1 (5,0)->(1,0), replying PROC_REPLY 11:1 (1,0)->(5,0)
1336844343808: Dispatching Atom PROC_REPLY 11:1 (1,0)->(5,0)
1336844343808: mux: I got a CSM packet at a leader 

1336844343810: Sending UDP payload: 4294
1336844343811: forwarding disabled, not forwarding packets
1336844343919: Received UDP payload: 3947
1336844343922: mux: Inside Packet.SERVER_REPLY
1336844343922: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844343957: Received UDP payload: 446
1336844343960: mux: Inside mux Packet.CLIENT_REQUEST
1336844344451: Received UDP payload: 446
1336844344463: Received UDP payload: 446
1336844344656: inside sendPacket(Packet p)
1336844344659: Sending UDP payload: 446
1336844346118: Received UDP payload: 642
1336844346126: mux: Inside mux Packet.CLIENT_REQUEST
1336844346229: Received UDP payload: 1006
1336844346234: mux: GOT CSM_Msg
1336844346234: removed replies before id 1 from sentReplies of size 0
1336844346235: inside handleDSMRequest. At requests's remote leader of region 1
1336844346237: INSIDE SERVER_GET_PHOTO!!!
1336844346243: Received UDP payload: 446
1336844346262: mux: Inside Packet.SERVER_REPLY
1336844346263: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844346260: Received PROC_REQUEST 11:1 (4,0)->(1,0), replying PROC_REPLY 11:1 (1,0)->(4,0)
1336844346262: Dispatching Atom PROC_REPLY 11:1 (1,0)->(4,0)
1336844346263: mux: I got a CSM packet at a leader 

1336844346267: Sending UDP payload: 4294
1336844346274: forwarding disabled, not forwarding packets
1336844346298: Received UDP payload: 446
1336844346406: Received UDP payload: 446
1336844346932: Received UDP payload: 1006
1336844346942: mux: GOT CSM_Msg
1336844346943: removed replies before id 1 from sentReplies of size 1
1336844346950: Received DUPLICATE PROC_REQUEST 11:1 (4,0)->(1,0), replying PROC_REPLY 11:1 (1,0)->(4,0)
1336844346951: Dispatching Atom PROC_REPLY 11:1 (1,0)->(4,0)
1336844346952: mux: I got a CSM packet at a leader 

1336844346956: Sending UDP payload: 4294
1336844346972: forwarding disabled, not forwarding packets
1336844347052: Received UDP payload: 3947
1336844347055: mux: Inside Packet.SERVER_REPLY
1336844347055: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844347068: Received UDP payload: 446
1336844347071: mux: Inside mux Packet.CLIENT_REQUEST
1336844347156: Received UDP payload: 446
1336844349496: Received UDP payload: 446
1336844349517: Received UDP payload: 446
1336844349659: inside sendPacket(Packet p)
1336844349662: Sending UDP payload: 446
1336844351302: Received UDP payload: 446
1336844351418: Received UDP payload: 446
1336844352128: Received UDP payload: 446
1336844354454: Received UDP payload: 446
1336844354490: Received UDP payload: 446
1336844354659: inside sendPacket(Packet p)
1336844354665: Sending UDP payload: 446
1336844356309: Received UDP payload: 446
1336844356447: Received UDP payload: 446
1336844357145: Received UDP payload: 446
1336844358117: Received UDP payload: 642
1336844358127: mux: Inside mux Packet.CLIENT_REQUEST
1336844358179: Received UDP payload: 1006
1336844358193: mux: GOT CSM_Msg
1336844358194: forwarding disabled, not forwarding packets
1336844358210: Received UDP payload: 446
1336844358215: mux: Inside Packet.SERVER_REPLY
1336844358215: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844358222: Received UDP payload: 642
1336844358227: mux: Inside mux Packet.CLIENT_REQUEST
1336844358227: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844358228: inside handleClientRequest. Originator leader of region 1
1336844358228: got new request, requestCounter = 5002007
1336844358228: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844358234: Sending to region: 2
1336844358234: Sending PROC_REQUEST 11:0 (1,0)->(2,0)
1336844358235: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1336844358235: mux: I got a CSM packet at a leader 

1336844358235: Note down new request by adding requestCounter=5002007 to HashMap processedRequests
1336844358235: Make FirstLeg Ack regardless of new or already-processed requests
1336844358235: The leader sending a First Leg ack to originator client (which id = 5002)
1336844358235: inside sendPacket(Packet p)
1336844358249: Sending UDP payload: 1006
1336844358250: forwarding disabled, not forwarding packets
1336844358251: Sending UDP payload: 446
1336844358308: Received UDP payload: 4172
1336844358311: mux: GOT CSM_Msg
1336844358311: forwarding disabled, not forwarding packets
1336844358363: Received UDP payload: 4172
1336844358366: mux: GOT CSM_Msg
1336844358366: Received PROC_REPLY 11:0 (2,0)->(1,0), handing to UserApp
1336844358366: inside handleDSMReply. Now back in originator leader of region 1
1336844358366: DSM layer: Going to and from remote region took latency = 132
1336844358367: DSM layer: orig leader sent packet at 1336844358234 ~ received reply from remote leader at 1336844358366
1336844358367: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844358368: leader client reply has replyCounter: 500200700
1336844358368: reply packet contains the newest photo/success info from the remote region
1336844358368: inside sendReplies of replyCount = 500200700
1336844358368: =======================
1336844358368: inside sendReplyRepeatingRunnable for replyCount = 500200700
1336844358369: Leader about to send REPLY packet, number: 500200700 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844358369: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844358369: inside sendPacket(Packet p)
1336844358369: === Finished one round of sending REPLY Packet =======
1336844358371: Sending UDP payload: 3825
1336844358389: Received UDP payload: 3825
1336844358391: mux: Inside Packet.SERVER_REPLY
1336844358391: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844358447: Received UDP payload: 446
1336844358448: mux: Inside mux Packet.CLIENT_REQUEST
1336844358466: Received UDP payload: 446
1336844358468: mux: Inside mux Packet.CLIENT_REQUEST
1336844358468: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844358468: inside handleClientRequest. Originator leader of region 1
1336844358468: got new request, requestCounter = 5002008
1336844358469: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500200700
1336844358469: Yay the last leg succeeded. Removing reply runnables ...
1336844358469: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500200700
1336844358469: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500200700
1336844358469: do not send ack for received final_leg_ack
1336844359116: canPressButton = TRUE
1336844359117: areButtonsEnabled --> false 
1336844359117: get picture disableButtonsR
1336844359117: areButtonsEnabled --> false
1336844359143: one more getNum: 3
1336844359144: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=0 getTimedout=0 getPercent=66%
1336844359144: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336844359144: change local requestCounter to 7
1336844359149: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022007 Client in region: 1 Client nodID: 5022
1336844359178: ----------------------------
1336844359179: inside sendRequestPacketRepeatingRunnable for requestCount = 5022007
1336844359180: I'm a leader, my requesting photos packet going to mux directly
1336844359186: --- Finished one round of sending REQUEST Packet ---------
1336844359180: mux: Inside mux Packet.CLIENT_REQUEST
1336844359180: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844359225: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844359180: inside handleClientRequest. Originator leader of region 1
1336844359180: got new request, requestCounter = 5022007
1336844359180: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844359181: Sending to region: 2
1336844359182: Sending PROC_REQUEST 11:1 (1,0)->(2,0)
1336844359182: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(2,0)
1336844359182: mux: I got a CSM packet at a leader 

1336844359182: Note down new request by adding requestCounter=5022007 to HashMap processedRequests
1336844359182: Make FirstLeg Ack regardless of new or already-processed requests
1336844359182: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844359185: Sending UDP payload: 1006
1336844359185: forwarding disabled, not forwarding packets
1336844359445: Received UDP payload: 1006
1336844359457: mux: GOT CSM_Msg
1336844359457: forwarding disabled, not forwarding packets
1336844359484: Received UDP payload: 446
1336844359554: leader to cloud hearbeat...
1336844359556: Received UDP payload: 4172
1336844359564: mux: GOT CSM_Msg
1336844359564: forwarding disabled, not forwarding packets
1336844359564: Received UDP payload: 446
1336844361321: Received UDP payload: 446
1336844361414: Received UDP payload: 446
1336844361856: DSM Layer: Request timed out, send failure PROC_REPLY 11:1 (2,0)->(1,0)
1336844361857: Dispatching Atom PROC_REPLY 11:1 (2,0)->(1,0)
1336844361857: mux: I got a CSM packet at a leader 

1336844361862: Sending UDP payload: 1006
1336844361864: Received PROC_REPLY 11:1 (2,0)->(1,0), handing to UserApp
1336844361864: inside handleDSMReply. Now back in originator leader of region 1
1336844361864: DSM layer timed out, don't log dsm layer latency stuff.
1336844361866: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844361867: leader client reply has replyCounter: 502200700
1336844361867: reply packet contains the newest photo/success info from the remote region
1336844361867: inside sendReplies of replyCount = 502200700
1336844361883: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844361884: disabling progressdialog due to successful new photo get
1336844361884: Inside _enableButtons
1336844361884: areButtonsEnabled --> true
1336844361884: send final leg ack regardless of new or already-processed reply
1336844361884: inside finalLegAck: change requestCounter to 8
1336844361885: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022008 Client in region: (1,0) Client nodID: 5022
1336844361885: I'm a leader client, my final_leg packet going to mux directly
1336844361885: new client_show_remotephoto reply with replyCounter 502200700
1336844361886: note down new reply by adding replyCounter=502200700 to HashMap processedReplies
1336844361886: leader download remote photo latency = 2703
1336844361886: = leader download start 1336844359180 ~ stop 1336844361883
1336844361891: Can't get remote photo, because DSM Layer on originator leader timed out
1336844361902: one more getBad: 1
1336844361904: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=1 getTimedout=0 getPercent=66%
1336844361905: getBad++
1336844361858: inside sendPacket(Packet p)
1336844361868: =======================
1336844361869: inside sendReplyRepeatingRunnable for replyCount = 502200700
1336844361870: Leader about to send REPLY packet, number: 502200700 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844361870: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844361871: === Finished one round of sending REPLY Packet =======
1336844361877: Sending UDP payload: 446
1336844361886: mux: Inside mux Packet.CLIENT_REQUEST
1336844361886: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844361886: inside handleClientRequest. Originator leader of region 1
1336844361887: got new request, requestCounter = 5022008
1336844361887: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200700
1336844361887: Yay the last leg succeeded. Removing reply runnables ...
1336844361888: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502200700
1336844361888: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502200700
1336844361888: do not send ack for received final_leg_ack
1336844364163: Received UDP payload: 446
1336844364488: Received UDP payload: 446
1336844364509: Received UDP payload: 446
1336844365415: Received UDP payload: 1006
1336844365428: mux: GOT CSM_Msg
1336844365429: forwarding disabled, not forwarding packets
1336844365528: Received UDP payload: 4172
1336844365531: mux: GOT CSM_Msg
1336844365532: forwarding disabled, not forwarding packets
1336844366333: Received UDP payload: 446
1336844366410: Received UDP payload: 446
1336844366869: inside sendPacket(Packet p)
1336844366873: Sending UDP payload: 446
1336844367372: Received UDP payload: 1006
1336844367382: mux: GOT CSM_Msg
1336844367382: forwarding disabled, not forwarding packets
1336844367434: Received UDP payload: 4172
1336844367444: mux: GOT CSM_Msg
1336844367444: forwarding disabled, not forwarding packets
1336844369037: Received UDP payload: 446
1336844369492: Received UDP payload: 446
1336844369530: Received UDP payload: 446
1336844370877: Received UDP payload: 642
1336844370886: mux: Inside mux Packet.CLIENT_REQUEST
1336844370937: Received UDP payload: 1006
1336844370949: mux: GOT CSM_Msg
1336844370949: forwarding disabled, not forwarding packets
1336844370957: Received UDP payload: 446
1336844370963: mux: Inside Packet.SERVER_REPLY
1336844370964: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844371024: Received UDP payload: 4172
1336844371034: mux: GOT CSM_Msg
1336844371035: forwarding disabled, not forwarding packets
1336844371089: Received UDP payload: 3825
1336844371101: mux: Inside Packet.SERVER_REPLY
1336844371101: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844371124: Received UDP payload: 446
1336844371130: mux: Inside mux Packet.CLIENT_REQUEST
1336844371320: Received UDP payload: 446
1336844371417: Received UDP payload: 446
1336844371792: Received UDP payload: 1006
1336844371803: mux: GOT CSM_Msg
1336844371803: forwarding disabled, not forwarding packets
1336844371870: inside sendPacket(Packet p)
1336844371873: Sending UDP payload: 446
1336844371906: Received UDP payload: 4172
1336844371914: mux: GOT CSM_Msg
1336844371914: forwarding disabled, not forwarding packets
1336844373635: Received UDP payload: 1006
1336844373664: mux: GOT CSM_Msg
1336844373664: forwarding disabled, not forwarding packets
1336844373740: Received UDP payload: 4172
1336844373743: mux: GOT CSM_Msg
1336844373743: forwarding disabled, not forwarding packets
1336844374039: Received UDP payload: 446
1336844374493: Received UDP payload: 446
1336844374522: Received UDP payload: 446
1336844376336: Received UDP payload: 446
1336844376456: Received UDP payload: 446
1336844376871: inside sendPacket(Packet p)
1336844376873: Sending UDP payload: 446
1336844379103: Received UDP payload: 446
1336844379515: Received UDP payload: 446
1336844381432: Received UDP payload: 446
1336844381460: Received UDP payload: 446
1336844381513: Received UDP payload: 446
1336844381872: inside sendPacket(Packet p)
1336844381881: Sending UDP payload: 446
1336844382473: Received UDP payload: 642
1336844382478: mux: Inside mux Packet.CLIENT_REQUEST
1336844382526: Received UDP payload: 1006
1336844382534: mux: GOT CSM_Msg
1336844382535: forwarding disabled, not forwarding packets
1336844382551: Received UDP payload: 446
1336844382555: mux: Inside Packet.SERVER_REPLY
1336844382555: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844382608: Received UDP payload: 4172
1336844382619: mux: GOT CSM_Msg
1336844382620: forwarding disabled, not forwarding packets
1336844382663: Received UDP payload: 3825
1336844382665: mux: Inside Packet.SERVER_REPLY
1336844382665: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844382703: Received UDP payload: 446
1336844382704: mux: Inside mux Packet.CLIENT_REQUEST
1336844384182: Received UDP payload: 446
1336844384588: Received UDP payload: 446
1336844386365: Received UDP payload: 446
1336844386431: Received UDP payload: 446
1336844386513: Received UDP payload: 446
1336844386882: inside sendPacket(Packet p)
1336844386893: Sending UDP payload: 446
1336844388682: canPressButton = TRUE
1336844388683: areButtonsEnabled --> false 
1336844388683: get picture disableButtonsR
1336844388683: areButtonsEnabled --> false
1336844388709: one more getNum: 4
1336844388710: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=2 getBad=1 getTimedout=0 getPercent=50%
1336844388710: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336844388710: change local requestCounter to 9
1336844388711: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022009 Client in region: 1 Client nodID: 5022
1336844388751: ----------------------------
1336844388752: inside sendRequestPacketRepeatingRunnable for requestCount = 5022009
1336844388753: I'm a leader, my requesting photos packet going to mux directly
1336844388759: --- Finished one round of sending REQUEST Packet ---------
1336844388753: mux: Inside mux Packet.CLIENT_REQUEST
1336844388753: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844388801: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844388753: inside handleClientRequest. Originator leader of region 1
1336844388753: got new request, requestCounter = 5022009
1336844388753: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844388754: Sending to region: 3
1336844388755: Sending PROC_REQUEST 11:0 (1,0)->(3,0)
1336844388755: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(3,0)
1336844388756: mux: I got a CSM packet at a leader 

1336844388755: Note down new request by adding requestCounter=5022009 to HashMap processedRequests
1336844388755: Make FirstLeg Ack regardless of new or already-processed requests
1336844388755: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844388758: Sending UDP payload: 1006
1336844388759: forwarding disabled, not forwarding packets
1336844388909: Received UDP payload: 4587
1336844388912: mux: GOT CSM_Msg
1336844388915: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844388915: disabling progressdialog due to successful new photo get
1336844388916: Inside _enableButtons
1336844388916: areButtonsEnabled --> true
1336844388916: send final leg ack regardless of new or already-processed reply
1336844388916: inside finalLegAck: change requestCounter to 10
1336844388917: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022010 Client in region: (1,0) Client nodID: 5022
1336844388917: I'm a leader client, my final_leg packet going to mux directly
1336844388919: new client_show_remotephoto reply with replyCounter 502200900
1336844388919: note down new reply by adding replyCounter=502200900 to HashMap processedReplies
1336844388920: leader download remote photo latency = 162
1336844388920: = leader download start 1336844388753 ~ stop 1336844388915
1336844388924: one more getGood: 3
1336844388926: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=3 getBad=1 getTimedout=0 getPercent=75%
1336844388926: adding get latency: 162
1336844388928: Success! Client getting photo from remote region, showing photo...
1336844388929: Remote photo's length: 3559
1336844388912: Received PROC_REPLY 11:0 (3,0)->(1,0), handing to UserApp
1336844388912: inside handleDSMReply. Now back in originator leader of region 1
1336844388912: DSM layer: Going to and from remote region took latency = 158
1336844388912: DSM layer: orig leader sent packet at 1336844388754 ~ received reply from remote leader at 1336844388912
1336844388913: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844388913: leader client reply has replyCounter: 502200900
1336844388913: reply packet contains the newest photo/success info from the remote region
1336844388913: inside sendReplies of replyCount = 502200900
1336844388914: =======================
1336844388914: inside sendReplyRepeatingRunnable for replyCount = 502200900
1336844388914: Leader about to send REPLY packet, number: 502200900 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844388914: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844388914: === Finished one round of sending REPLY Packet =======
1336844388917: mux: Inside mux Packet.CLIENT_REQUEST
1336844388917: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844388917: inside handleClientRequest. Originator leader of region 1
1336844388918: got new request, requestCounter = 5022010
1336844388918: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200900
1336844388918: Yay the last leg succeeded. Removing reply runnables ...
1336844388918: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502200900
1336844388918: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502200900
1336844388918: do not send ack for received final_leg_ack
1336844389057: Received UDP payload: 446
1336844389536: Received UDP payload: 446
1336844390582: Received UDP payload: 642
1336844390589: mux: Inside mux Packet.CLIENT_REQUEST
1336844390589: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844390589: inside handleClientRequest. Originator leader of region 1
1336844390590: got new request, requestCounter = 5002009
1336844390591: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844390593: Sending to region: 3
1336844390594: Sending PROC_REQUEST 11:1 (1,0)->(3,0)
1336844390595: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(3,0)
1336844390598: mux: I got a CSM packet at a leader 

1336844390596: Note down new request by adding requestCounter=5002009 to HashMap processedRequests
1336844390596: Make FirstLeg Ack regardless of new or already-processed requests
1336844390597: The leader sending a First Leg ack to originator client (which id = 5002)
1336844390597: inside sendPacket(Packet p)
1336844390622: Sending UDP payload: 1006
1336844390625: forwarding disabled, not forwarding packets
1336844390629: Sending UDP payload: 446
1336844390747: Received UDP payload: 4587
1336844390751: mux: GOT CSM_Msg
1336844390752: Received PROC_REPLY 11:1 (3,0)->(1,0), handing to UserApp
1336844390752: inside handleDSMReply. Now back in originator leader of region 1
1336844390752: DSM layer: Going to and from remote region took latency = 159
1336844390752: DSM layer: orig leader sent packet at 1336844390593 ~ received reply from remote leader at 1336844390752
1336844390754: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844390754: leader client reply has replyCounter: 500200900
1336844390754: reply packet contains the newest photo/success info from the remote region
1336844390754: inside sendReplies of replyCount = 500200900
1336844390754: =======================
1336844390754: inside sendReplyRepeatingRunnable for replyCount = 500200900
1336844390755: Leader about to send REPLY packet, number: 500200900 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844390755: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844390755: inside sendPacket(Packet p)
1336844390755: === Finished one round of sending REPLY Packet =======
1336844390757: Sending UDP payload: 4240
1336844390816: Received UDP payload: 446
1336844390818: mux: Inside mux Packet.CLIENT_REQUEST
1336844390818: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844390818: inside handleClientRequest. Originator leader of region 1
1336844390819: got new request, requestCounter = 5002010
1336844390819: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500200900
1336844390819: Yay the last leg succeeded. Removing reply runnables ...
1336844390819: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500200900
1336844390819: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500200900
1336844390819: do not send ack for received final_leg_ack
1336844391375: Received UDP payload: 446
1336844391433: Received UDP payload: 446
1336844391514: Received UDP payload: 446
1336844391890: inside sendPacket(Packet p)
1336844391904: Sending UDP payload: 446
1336844392152: Received UDP payload: 642
1336844392158: mux: Inside mux Packet.CLIENT_REQUEST
1336844392222: Received UDP payload: 1006
1336844392234: mux: GOT CSM_Msg
1336844392234: forwarding disabled, not forwarding packets
1336844392240: Received UDP payload: 446
1336844392246: mux: Inside Packet.SERVER_REPLY
1336844392246: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844392324: Received UDP payload: 4587
1336844392326: mux: GOT CSM_Msg
1336844392327: forwarding disabled, not forwarding packets
1336844392383: Received UDP payload: 4240
1336844392385: mux: Inside Packet.SERVER_REPLY
1336844392386: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844392396: Received UDP payload: 446
1336844392398: mux: Inside mux Packet.CLIENT_REQUEST
1336844393752: Received UDP payload: 1006
1336844393774: mux: GOT CSM_Msg
1336844393775: forwarding disabled, not forwarding packets
1336844393883: Received UDP payload: 4587
1336844393894: mux: GOT CSM_Msg
1336844393894: forwarding disabled, not forwarding packets
1336844394048: Received UDP payload: 446
1336844394543: Received UDP payload: 446
1336844396268: Received UDP payload: 1006
1336844396282: mux: GOT CSM_Msg
1336844396282: forwarding disabled, not forwarding packets
1336844396327: Received UDP payload: 4587
1336844396342: mux: GOT CSM_Msg
1336844396342: forwarding disabled, not forwarding packets
1336844396430: Received UDP payload: 446
1336844396513: Received UDP payload: 446
1336844396907: inside sendPacket(Packet p)
1336844396909: Sending UDP payload: 446
1336844398336: Received UDP payload: 446
1336844399071: Received UDP payload: 446
1336844399611: Received UDP payload: 446
1336844401443: Received UDP payload: 446
1336844401516: Received UDP payload: 446
1336844401753: Received UDP payload: 1006
1336844401764: mux: GOT CSM_Msg
1336844401765: forwarding disabled, not forwarding packets
1336844401882: Received UDP payload: 4587
1336844401892: mux: GOT CSM_Msg
1336844401893: forwarding disabled, not forwarding packets
1336844401907: inside sendPacket(Packet p)
1336844401910: Sending UDP payload: 446
1336844402492: Received UDP payload: 1006
1336844402501: mux: GOT CSM_Msg
1336844402502: forwarding disabled, not forwarding packets
1336844402576: Received UDP payload: 4587
1336844402587: mux: GOT CSM_Msg
1336844402588: forwarding disabled, not forwarding packets
1336844402597: Received UDP payload: 1006
1336844402617: mux: GOT CSM_Msg
1336844402617: forwarding disabled, not forwarding packets
1336844402676: Received UDP payload: 4587
1336844402679: mux: GOT CSM_Msg
1336844402679: forwarding disabled, not forwarding packets
1336844403340: Received UDP payload: 446
1336844404047: Received UDP payload: 446
1336844404239: Received UDP payload: 642
1336844404246: mux: Inside mux Packet.CLIENT_REQUEST
1336844404368: Received UDP payload: 1006
1336844404370: mux: GOT CSM_Msg
1336844404370: forwarding disabled, not forwarding packets
1336844404396: Received UDP payload: 446
1336844404400: mux: Inside Packet.SERVER_REPLY
1336844404401: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844404532: Received UDP payload: 4587
1336844404539: mux: GOT CSM_Msg
1336844404540: forwarding disabled, not forwarding packets
1336844404581: Received UDP payload: 446
1336844404615: Received UDP payload: 4240
1336844404620: mux: Inside Packet.SERVER_REPLY
1336844404621: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844404629: Received UDP payload: 446
1336844404634: mux: Inside mux Packet.CLIENT_REQUEST
1336844405110: Received UDP payload: 1006
1336844405120: mux: GOT CSM_Msg
1336844405120: forwarding disabled, not forwarding packets
1336844405207: Received UDP payload: 4587
1336844405217: mux: GOT CSM_Msg
1336844405217: forwarding disabled, not forwarding packets
1336844406520: Received UDP payload: 446
1336844406907: inside sendPacket(Packet p)
1336844406908: Sending UDP payload: 446
1336844408337: Received UDP payload: 446
1336844408440: Received UDP payload: 446
1336844409112: Received UDP payload: 446
1336844409192: Received UDP payload: 1006
1336844409201: mux: GOT CSM_Msg
1336844409202: forwarding disabled, not forwarding packets
1336844409305: Received UDP payload: 4587
1336844409313: mux: GOT CSM_Msg
1336844409314: forwarding disabled, not forwarding packets
1336844409576: Received UDP payload: 446
1336844410795: Received UDP payload: 642
1336844410803: mux: Inside mux Packet.CLIENT_REQUEST
1336844410883: Received UDP payload: 1006
1336844410885: mux: GOT CSM_Msg
1336844410885: forwarding disabled, not forwarding packets
1336844410891: Received UDP payload: 446
1336844410893: mux: Inside Packet.SERVER_REPLY
1336844410893: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844410953: Received UDP payload: 4587
1336844410957: mux: GOT CSM_Msg
1336844410957: forwarding disabled, not forwarding packets
1336844411007: Received UDP payload: 4240
1336844411011: mux: Inside Packet.SERVER_REPLY
1336844411011: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844411029: Received UDP payload: 446
1336844411033: mux: Inside mux Packet.CLIENT_REQUEST
1336844411521: Received UDP payload: 446
1336844411907: inside sendPacket(Packet p)
1336844411911: Sending UDP payload: 446
1336844413349: Received UDP payload: 446
1336844413451: Received UDP payload: 446
1336844414080: Received UDP payload: 446
1336844414608: Received UDP payload: 446
1336844416520: Received UDP payload: 446
1336844416908: inside sendPacket(Packet p)
1336844416912: Sending UDP payload: 446
1336844418359: Received UDP payload: 446
1336844418449: Received UDP payload: 446
1336844419103: Received UDP payload: 446
1336844419592: Received UDP payload: 446
1336844421520: Received UDP payload: 446
1336844421908: inside sendPacket(Packet p)
1336844421912: Sending UDP payload: 446
1336844423358: Received UDP payload: 446
1336844423477: Received UDP payload: 446
1336844424129: Received UDP payload: 446
1336844424841: Received UDP payload: 642
1336844424847: mux: Inside mux Packet.CLIENT_REQUEST
1336844424847: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844424847: inside handleClientRequest. Originator leader of region 1
1336844424848: got new request, requestCounter = 5002011
1336844424848: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844424861: Sending to region: 4
1336844424863: Sending PROC_REQUEST 11:0 (1,0)->(4,0)
1336844424864: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(4,0)
1336844424867: mux: I got a CSM packet at a leader 

1336844424865: Note down new request by adding requestCounter=5002011 to HashMap processedRequests
1336844424865: Make FirstLeg Ack regardless of new or already-processed requests
1336844424865: The leader sending a First Leg ack to originator client (which id = 5002)
1336844424866: inside sendPacket(Packet p)
1336844424882: Sending UDP payload: 1006
1336844424885: forwarding disabled, not forwarding packets
1336844424889: Sending UDP payload: 446
1336844425001: Received UDP payload: 5731
1336844425004: mux: GOT CSM_Msg
1336844425004: Received PROC_REPLY 11:0 (4,0)->(1,0), handing to UserApp
1336844425004: inside handleDSMReply. Now back in originator leader of region 1
1336844425004: DSM layer: Going to and from remote region took latency = 142
1336844425005: DSM layer: orig leader sent packet at 1336844424862 ~ received reply from remote leader at 1336844425004
1336844425005: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844425005: leader client reply has replyCounter: 500201100
1336844425005: reply packet contains the newest photo/success info from the remote region
1336844425006: inside sendReplies of replyCount = 500201100
1336844425006: =======================
1336844425006: inside sendReplyRepeatingRunnable for replyCount = 500201100
1336844425006: Leader about to send REPLY packet, number: 500201100 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844425007: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844425007: inside sendPacket(Packet p)
1336844425007: === Finished one round of sending REPLY Packet =======
1336844425008: Sending UDP payload: 5384
1336844425112: Received UDP payload: 446
1336844425114: mux: Inside mux Packet.CLIENT_REQUEST
1336844425114: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844425114: inside handleClientRequest. Originator leader of region 1
1336844425114: got new request, requestCounter = 5002012
1336844425114: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500201100
1336844425114: Yay the last leg succeeded. Removing reply runnables ...
1336844425114: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500201100
1336844425114: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500201100
1336844425115: do not send ack for received final_leg_ack
1336844425930: canPressButton = TRUE
1336844425930: areButtonsEnabled --> false 
1336844425930: get picture disableButtonsR
1336844425931: areButtonsEnabled --> false
1336844425957: one more getNum: 5
1336844425957: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=3 getBad=1 getTimedout=0 getPercent=60%
1336844425958: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336844425958: change local requestCounter to 11
1336844425959: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022011 Client in region: 1 Client nodID: 5022
1336844425987: ----------------------------
1336844425988: inside sendRequestPacketRepeatingRunnable for requestCount = 5022011
1336844425989: I'm a leader, my requesting photos packet going to mux directly
1336844425995: --- Finished one round of sending REQUEST Packet ---------
1336844425989: mux: Inside mux Packet.CLIENT_REQUEST
1336844425989: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844426031: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844425989: inside handleClientRequest. Originator leader of region 1
1336844425989: got new request, requestCounter = 5022011
1336844425989: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844425990: Sending to region: 4
1336844425991: Sending PROC_REQUEST 11:1 (1,0)->(4,0)
1336844425991: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(4,0)
1336844425992: mux: I got a CSM packet at a leader 

1336844425991: Note down new request by adding requestCounter=5022011 to HashMap processedRequests
1336844425991: Make FirstLeg Ack regardless of new or already-processed requests
1336844425991: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844425994: Sending UDP payload: 1006
1336844425995: forwarding disabled, not forwarding packets
1336844426127: Received UDP payload: 5731
1336844426130: mux: GOT CSM_Msg
1336844426130: Received PROC_REPLY 11:1 (4,0)->(1,0), handing to UserApp
1336844426130: inside handleDSMReply. Now back in originator leader of region 1
1336844426130: DSM layer: Going to and from remote region took latency = 140
1336844426131: DSM layer: orig leader sent packet at 1336844425990 ~ received reply from remote leader at 1336844426130
1336844426131: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844426131: leader client reply has replyCounter: 502201100
1336844426132: reply packet contains the newest photo/success info from the remote region
1336844426132: inside sendReplies of replyCount = 502201100
1336844426135: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844426135: disabling progressdialog due to successful new photo get
1336844426135: Inside _enableButtons
1336844426135: areButtonsEnabled --> true
1336844426136: send final leg ack regardless of new or already-processed reply
1336844426138: inside finalLegAck: change requestCounter to 12
1336844426138: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022012 Client in region: (1,0) Client nodID: 5022
1336844426138: I'm a leader client, my final_leg packet going to mux directly
1336844426141: new client_show_remotephoto reply with replyCounter 502201100
1336844426141: note down new reply by adding replyCounter=502201100 to HashMap processedReplies
1336844426141: leader download remote photo latency = 146
1336844426141: = leader download start 1336844425989 ~ stop 1336844426135
1336844426142: one more getGood: 4
1336844426144: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=1 getTimedout=0 getPercent=80%
1336844426144: adding get latency: 146
1336844426145: Success! Client getting photo from remote region, showing photo...
1336844426145: Remote photo's length: 4703
1336844426133: =======================
1336844426133: inside sendReplyRepeatingRunnable for replyCount = 502201100
1336844426133: Leader about to send REPLY packet, number: 502201100 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844426133: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844426133: === Finished one round of sending REPLY Packet =======
1336844426139: mux: Inside mux Packet.CLIENT_REQUEST
1336844426139: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844426139: inside handleClientRequest. Originator leader of region 1
1336844426139: got new request, requestCounter = 5022012
1336844426139: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502201100
1336844426139: Yay the last leg succeeded. Removing reply runnables ...
1336844426139: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502201100
1336844426140: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502201100
1336844426140: do not send ack for received final_leg_ack
1336844426313: Received UDP payload: 642
1336844426320: mux: Inside mux Packet.CLIENT_REQUEST
1336844426349: Received UDP payload: 1006
1336844426353: mux: GOT CSM_Msg
1336844426353: forwarding disabled, not forwarding packets
1336844426365: Received UDP payload: 446
1336844426366: mux: Inside Packet.SERVER_REPLY
1336844426366: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844426432: Received UDP payload: 5731
1336844426435: mux: GOT CSM_Msg
1336844426435: forwarding disabled, not forwarding packets
1336844426454: Received UDP payload: 446
1336844426525: Received UDP payload: 446
1336844426535: Received UDP payload: 5384
1336844426542: mux: Inside Packet.SERVER_REPLY
1336844426543: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844426554: Received UDP payload: 446
1336844426559: mux: Inside mux Packet.CLIENT_REQUEST
1336844426910: inside sendPacket(Packet p)
1336844426919: Sending UDP payload: 446
1336844427891: Received UDP payload: 1006
1336844427900: mux: GOT CSM_Msg
1336844427900: forwarding disabled, not forwarding packets
1336844427986: Received UDP payload: 5731
1336844427988: mux: GOT CSM_Msg
1336844427988: forwarding disabled, not forwarding packets
1336844428357: Received UDP payload: 446
1336844428453: Received UDP payload: 446
1336844429105: Received UDP payload: 446
1336844431511: Received UDP payload: 446
1336844431529: Received UDP payload: 446
1336844431910: inside sendPacket(Packet p)
1336844431922: Sending UDP payload: 446
1336844433363: Received UDP payload: 446
1336844433466: Received UDP payload: 446
1336844434102: Received UDP payload: 446
1336844434301: Received UDP payload: 1006
1336844434310: mux: GOT CSM_Msg
1336844434310: forwarding disabled, not forwarding packets
1336844434444: Received UDP payload: 5731
1336844434453: mux: GOT CSM_Msg
1336844434453: forwarding disabled, not forwarding packets
1336844436534: Received UDP payload: 446
1336844436564: Received UDP payload: 446
1336844436925: inside sendPacket(Packet p)
1336844436934: Sending UDP payload: 446
1336844437812: Received UDP payload: 1006
1336844437820: mux: GOT CSM_Msg
1336844437821: forwarding disabled, not forwarding packets
1336844437927: Received UDP payload: 5731
1336844437933: mux: GOT CSM_Msg
1336844437933: forwarding disabled, not forwarding packets
1336844438362: Received UDP payload: 446
1336844438499: Received UDP payload: 446
1336844439182: Received UDP payload: 446
1336844439930: Received UDP payload: 642
1336844439936: mux: Inside mux Packet.CLIENT_REQUEST
1336844439990: Received UDP payload: 1006
1336844439998: mux: GOT CSM_Msg
1336844439999: forwarding disabled, not forwarding packets
1336844439999: Received UDP payload: 446
1336844440009: mux: Inside Packet.SERVER_REPLY
1336844440009: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844440109: Received UDP payload: 5731
1336844440112: mux: GOT CSM_Msg
1336844440113: forwarding disabled, not forwarding packets
1336844440179: Received UDP payload: 5384
1336844440181: mux: Inside Packet.SERVER_REPLY
1336844440181: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844440199: Received UDP payload: 446
1336844440201: mux: Inside mux Packet.CLIENT_REQUEST
1336844440728: Received UDP payload: 1006
1336844440737: mux: GOT CSM_Msg
1336844440738: forwarding disabled, not forwarding packets
1336844440837: Received UDP payload: 5731
1336844440840: mux: GOT CSM_Msg
1336844440840: forwarding disabled, not forwarding packets
1336844441462: Received UDP payload: 446
1336844441536: Received UDP payload: 446
1336844441937: inside sendPacket(Packet p)
1336844441940: Sending UDP payload: 446
1336844443372: Received UDP payload: 446
1336844443499: Received UDP payload: 446
1336844444037: Received UDP payload: 1006
1336844444048: mux: GOT CSM_Msg
1336844444048: forwarding disabled, not forwarding packets
1336844444118: Received UDP payload: 5731
1336844444120: mux: GOT CSM_Msg
1336844444120: forwarding disabled, not forwarding packets
1336844444127: Received UDP payload: 446
1336844446301: Received UDP payload: 642
1336844446306: mux: Inside mux Packet.CLIENT_REQUEST
1336844446375: Received UDP payload: 1006
1336844446377: mux: GOT CSM_Msg
1336844446377: forwarding disabled, not forwarding packets
1336844446391: Received UDP payload: 446
1336844446392: mux: Inside Packet.SERVER_REPLY
1336844446392: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844446453: Received UDP payload: 5731
1336844446456: mux: GOT CSM_Msg
1336844446456: forwarding disabled, not forwarding packets
1336844446463: Received UDP payload: 446
1336844446530: Received UDP payload: 446
1336844446545: Received UDP payload: 446
1336844446547: mux: Inside mux Packet.CLIENT_REQUEST
1336844446940: inside sendPacket(Packet p)
1336844446943: Sending UDP payload: 446
1336844448385: Received UDP payload: 446
1336844448473: Received UDP payload: 446
1336844449116: Received UDP payload: 446
1336844451466: Received UDP payload: 446
1336844451529: Received UDP payload: 446
1336844451941: inside sendPacket(Packet p)
1336844451954: Sending UDP payload: 446
1336844453394: Received UDP payload: 446
1336844453488: Received UDP payload: 446
1336844454121: Received UDP payload: 446
1336844456471: Received UDP payload: 446
1336844456590: Received UDP payload: 446
1336844456956: inside sendPacket(Packet p)
1336844456959: Sending UDP payload: 446
1336844458436: Received UDP payload: 446
1336844458488: Received UDP payload: 446
1336844459116: Received UDP payload: 446
1336844461502: Received UDP payload: 446
1336844461533: Received UDP payload: 446
1336844461957: inside sendPacket(Packet p)
1336844461973: Sending UDP payload: 446
1336844462087: Received UDP payload: 642
1336844462093: mux: Inside mux Packet.CLIENT_REQUEST
1336844462161: Received UDP payload: 1006
1336844462169: mux: GOT CSM_Msg
1336844462169: forwarding disabled, not forwarding packets
1336844462181: Received UDP payload: 446
1336844462186: mux: Inside Packet.SERVER_REPLY
1336844462186: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844462286: Received UDP payload: 4766
1336844462289: mux: GOT CSM_Msg
1336844462289: forwarding disabled, not forwarding packets
1336844462360: Received UDP payload: 4419
1336844462363: mux: Inside Packet.SERVER_REPLY
1336844462363: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844462389: Received UDP payload: 446
1336844462392: mux: Inside mux Packet.CLIENT_REQUEST
1336844463406: Received UDP payload: 446
1336844463483: Received UDP payload: 446
1336844463509: Received UDP payload: 1006
1336844463519: mux: GOT CSM_Msg
1336844463519: forwarding disabled, not forwarding packets
1336844463590: Received UDP payload: 4766
1336844463593: mux: GOT CSM_Msg
1336844463593: forwarding disabled, not forwarding packets
1336844464152: Received UDP payload: 446
1336844466486: Received UDP payload: 446
1336844466536: Received UDP payload: 446
1336844466976: inside sendPacket(Packet p)
1336844466986: Sending UDP payload: 446
1336844468436: Received UDP payload: 446
1336844468490: Received UDP payload: 446
1336844469204: Received UDP payload: 446
1336844471494: Received UDP payload: 446
1336844471549: Received UDP payload: 446
1336844471987: inside sendPacket(Packet p)
1336844472001: Sending UDP payload: 446
1336844472518: canPressButton = TRUE
1336844472518: areButtonsEnabled --> false 
1336844472518: get picture disableButtonsR
1336844472518: areButtonsEnabled --> false
1336844472578: one more getNum: 6
1336844472579: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=4 getBad=1 getTimedout=0 getPercent=66%
1336844472579: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336844472579: change local requestCounter to 13
1336844472584: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022013 Client in region: 1 Client nodID: 5022
1336844472621: ----------------------------
1336844472621: inside sendRequestPacketRepeatingRunnable for requestCount = 5022013
1336844472622: I'm a leader, my requesting photos packet going to mux directly
1336844472630: --- Finished one round of sending REQUEST Packet ---------
1336844472622: mux: Inside mux Packet.CLIENT_REQUEST
1336844472622: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844472665: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844472622: inside handleClientRequest. Originator leader of region 1
1336844472622: got new request, requestCounter = 5022013
1336844472622: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844472624: Sending to region: 5
1336844472625: Sending PROC_REQUEST 11:0 (1,0)->(5,0)
1336844472626: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(5,0)
1336844472626: mux: I got a CSM packet at a leader 

1336844472626: Note down new request by adding requestCounter=5022013 to HashMap processedRequests
1336844472626: Make FirstLeg Ack regardless of new or already-processed requests
1336844472626: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844472629: Sending UDP payload: 1006
1336844472635: forwarding disabled, not forwarding packets
1336844472735: Received UDP payload: 4766
1336844472737: mux: GOT CSM_Msg
1336844472743: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844472743: disabling progressdialog due to successful new photo get
1336844472744: Inside _enableButtons
1336844472744: areButtonsEnabled --> true
1336844472744: send final leg ack regardless of new or already-processed reply
1336844472744: inside finalLegAck: change requestCounter to 14
1336844472745: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022014 Client in region: (1,0) Client nodID: 5022
1336844472745: I'm a leader client, my final_leg packet going to mux directly
1336844472747: new client_show_remotephoto reply with replyCounter 502201300
1336844472747: note down new reply by adding replyCounter=502201300 to HashMap processedReplies
1336844472747: leader download remote photo latency = 121
1336844472747: = leader download start 1336844472622 ~ stop 1336844472743
1336844472748: one more getGood: 5
1336844472749: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=5 getBad=1 getTimedout=0 getPercent=83%
1336844472749: adding get latency: 121
1336844472750: Success! Client getting photo from remote region, showing photo...
1336844472750: Remote photo's length: 3738
1336844472738: Received PROC_REPLY 11:0 (5,0)->(1,0), handing to UserApp
1336844472738: inside handleDSMReply. Now back in originator leader of region 1
1336844472738: DSM layer: Going to and from remote region took latency = 114
1336844472738: DSM layer: orig leader sent packet at 1336844472624 ~ received reply from remote leader at 1336844472738
1336844472739: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844472741: leader client reply has replyCounter: 502201300
1336844472741: reply packet contains the newest photo/success info from the remote region
1336844472742: inside sendReplies of replyCount = 502201300
1336844472742: =======================
1336844472742: inside sendReplyRepeatingRunnable for replyCount = 502201300
1336844472742: Leader about to send REPLY packet, number: 502201300 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844472742: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844472742: === Finished one round of sending REPLY Packet =======
1336844472745: mux: Inside mux Packet.CLIENT_REQUEST
1336844472745: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844472745: inside handleClientRequest. Originator leader of region 1
1336844472746: got new request, requestCounter = 5022014
1336844472746: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502201300
1336844472746: Yay the last leg succeeded. Removing reply runnables ...
1336844472746: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502201300
1336844472746: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502201300
1336844472746: do not send ack for received final_leg_ack
1336844473408: Received UDP payload: 446
1336844473505: Received UDP payload: 446
1336844474131: Received UDP payload: 446
1336844474195: Received UDP payload: 642
1336844474201: mux: Inside mux Packet.CLIENT_REQUEST
1336844474202: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844474202: inside handleClientRequest. Originator leader of region 1
1336844474203: got new request, requestCounter = 5002013
1336844474203: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844474205: Sending to region: 5
1336844474220: Sending PROC_REQUEST 11:1 (1,0)->(5,0)
1336844474223: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(5,0)
1336844474226: mux: I got a CSM packet at a leader 

1336844474224: Note down new request by adding requestCounter=5002013 to HashMap processedRequests
1336844474224: Make FirstLeg Ack regardless of new or already-processed requests
1336844474225: The leader sending a First Leg ack to originator client (which id = 5002)
1336844474225: inside sendPacket(Packet p)
1336844474241: Sending UDP payload: 1006
1336844474244: forwarding disabled, not forwarding packets
1336844474254: Sending UDP payload: 446
1336844474323: Received UDP payload: 4766
1336844474325: mux: GOT CSM_Msg
1336844474325: Received PROC_REPLY 11:1 (5,0)->(1,0), handing to UserApp
1336844474326: inside handleDSMReply. Now back in originator leader of region 1
1336844474326: DSM layer: Going to and from remote region took latency = 121
1336844474326: DSM layer: orig leader sent packet at 1336844474205 ~ received reply from remote leader at 1336844474326
1336844474327: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844474327: leader client reply has replyCounter: 500201300
1336844474327: reply packet contains the newest photo/success info from the remote region
1336844474327: inside sendReplies of replyCount = 500201300
1336844474327: =======================
1336844474328: inside sendReplyRepeatingRunnable for replyCount = 500201300
1336844474328: Leader about to send REPLY packet, number: 500201300 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844474328: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844474328: inside sendPacket(Packet p)
1336844474328: === Finished one round of sending REPLY Packet =======
1336844474330: Sending UDP payload: 4419
1336844474395: Received UDP payload: 446
1336844474396: mux: Inside mux Packet.CLIENT_REQUEST
1336844474397: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844474397: inside handleClientRequest. Originator leader of region 1
1336844474397: got new request, requestCounter = 5002014
1336844474397: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500201300
1336844474397: Yay the last leg succeeded. Removing reply runnables ...
1336844474397: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500201300
1336844474397: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500201300
1336844474398: do not send ack for received final_leg_ack
1336844476527: Received UDP payload: 446
1336844476558: Received UDP payload: 446
1336844476988: inside sendPacket(Packet p)
1336844477001: Sending UDP payload: 446
1336844477862: Received UDP payload: 1006
1336844477873: mux: GOT CSM_Msg
1336844477873: forwarding disabled, not forwarding packets
1336844477996: Received UDP payload: 4766
1336844478004: mux: GOT CSM_Msg
1336844478004: forwarding disabled, not forwarding packets
1336844478415: Received UDP payload: 446
1336844478507: Received UDP payload: 446
1336844479219: Received UDP payload: 446
1336844481529: Received UDP payload: 446
1336844481582: Received UDP payload: 446
1336844481855: leader to cloud hearbeat...
1336844483418: Received UDP payload: 446
1336844483525: Received UDP payload: 446
1336844484105: inside sendPacket(Packet p)
1336844484123: Sending UDP payload: 446
1336844486298: Received UDP payload: 446
1336844486525: Received UDP payload: 446
1336844486586: Received UDP payload: 446
1336844486628: canPressButton = TRUE
1336844486629: areButtonsEnabled --> false 
1336844486629: get picture disableButtonsR
1336844486629: areButtonsEnabled --> false
1336844486655: one more getNum: 7
1336844486656: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=5 getBad=1 getTimedout=0 getPercent=71%
1336844486656: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336844486656: change local requestCounter to 15
1336844486657: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022015 Client in region: 1 Client nodID: 5022
1336844486685: ----------------------------
1336844486686: inside sendRequestPacketRepeatingRunnable for requestCount = 5022015
1336844486686: I'm a leader, my requesting photos packet going to mux directly
1336844486692: --- Finished one round of sending REQUEST Packet ---------
1336844486686: mux: Inside mux Packet.CLIENT_REQUEST
1336844486686: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844486728: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844486686: inside handleClientRequest. Originator leader of region 1
1336844486686: got new request, requestCounter = 5022015
1336844486687: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844486687: Sending to region: 4
1336844486688: Sending PROC_REQUEST 11:2 (1,0)->(4,0)
1336844486688: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(4,0)
1336844486688: mux: I got a CSM packet at a leader 

1336844486688: Note down new request by adding requestCounter=5022015 to HashMap processedRequests
1336844486688: Make FirstLeg Ack regardless of new or already-processed requests
1336844486688: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844486691: Sending UDP payload: 1006
1336844486692: forwarding disabled, not forwarding packets
1336844486835: Received UDP payload: 5731
1336844486837: mux: GOT CSM_Msg
1336844486837: Received PROC_REPLY 11:2 (4,0)->(1,0), handing to UserApp
1336844486837: inside handleDSMReply. Now back in originator leader of region 1
1336844486838: DSM layer: Going to and from remote region took latency = 150
1336844486838: DSM layer: orig leader sent packet at 1336844486687 ~ received reply from remote leader at 1336844486837
1336844486838: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844486839: leader client reply has replyCounter: 502201500
1336844486839: reply packet contains the newest photo/success info from the remote region
1336844486839: inside sendReplies of replyCount = 502201500
1336844486842: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844486842: disabling progressdialog due to successful new photo get
1336844486842: Inside _enableButtons
1336844486843: areButtonsEnabled --> true
1336844486843: send final leg ack regardless of new or already-processed reply
1336844486843: inside finalLegAck: change requestCounter to 16
1336844486843: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022016 Client in region: (1,0) Client nodID: 5022
1336844486843: I'm a leader client, my final_leg packet going to mux directly
1336844486845: new client_show_remotephoto reply with replyCounter 502201500
1336844486845: note down new reply by adding replyCounter=502201500 to HashMap processedReplies
1336844486845: leader download remote photo latency = 156
1336844486846: = leader download start 1336844486686 ~ stop 1336844486842
1336844486847: one more getGood: 6
1336844486847: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=6 getBad=1 getTimedout=0 getPercent=85%
1336844486848: adding get latency: 156
1336844486848: Success! Client getting photo from remote region, showing photo...
1336844486850: Remote photo's length: 4703
1336844486839: =======================
1336844486839: inside sendReplyRepeatingRunnable for replyCount = 502201500
1336844486840: Leader about to send REPLY packet, number: 502201500 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844486840: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844486840: === Finished one round of sending REPLY Packet =======
1336844486844: mux: Inside mux Packet.CLIENT_REQUEST
1336844486844: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844486844: inside handleClientRequest. Originator leader of region 1
1336844486844: got new request, requestCounter = 5022016
1336844486844: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502201500
1336844486844: Yay the last leg succeeded. Removing reply runnables ...
1336844486844: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502201500
1336844486845: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502201500
1336844486845: do not send ack for received final_leg_ack
1336844487077: Received UDP payload: 1006
1336844487079: mux: GOT CSM_Msg
1336844487080: forwarding disabled, not forwarding packets
1336844487215: Received UDP payload: 4766
1336844487228: mux: GOT CSM_Msg
1336844487228: forwarding disabled, not forwarding packets
1336844488453: Received UDP payload: 446
1336844488510: Received UDP payload: 446
1336844489126: inside sendPacket(Packet p)
1336844489129: Sending UDP payload: 446
1336844489421: Received UDP payload: 642
1336844489430: mux: Inside mux Packet.CLIENT_REQUEST
1336844489504: Received UDP payload: 1006
1336844489506: mux: GOT CSM_Msg
1336844489506: forwarding disabled, not forwarding packets
1336844489511: Received UDP payload: 446
1336844489512: mux: Inside Packet.SERVER_REPLY
1336844489512: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844489601: Received UDP payload: 4766
1336844489604: mux: GOT CSM_Msg
1336844489604: forwarding disabled, not forwarding packets
1336844489658: Received UDP payload: 4419
1336844489661: mux: Inside Packet.SERVER_REPLY
1336844489661: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844489671: Received UDP payload: 446
1336844489673: mux: Inside mux Packet.CLIENT_REQUEST
1336844491304: Received UDP payload: 446
1336844491528: Received UDP payload: 446
1336844491598: Received UDP payload: 446
1336844493440: Received UDP payload: 446
1336844493522: Received UDP payload: 446
1336844494127: inside sendPacket(Packet p)
1336844494144: Sending UDP payload: 446
1336844495791: Received UDP payload: 1006
1336844495801: mux: GOT CSM_Msg
1336844495802: forwarding disabled, not forwarding packets
1336844495939: Received UDP payload: 4766
1336844495946: mux: GOT CSM_Msg
1336844495947: forwarding disabled, not forwarding packets
1336844496412: Received UDP payload: 446
1336844496544: Received UDP payload: 446
1336844496587: Received UDP payload: 446
1336844498473: Received UDP payload: 446
1336844498531: Received UDP payload: 446
1336844499147: inside sendPacket(Packet p)
1336844499165: Sending UDP payload: 446
1336844501316: Received UDP payload: 446
1336844501555: Received UDP payload: 446
1336844503428: Received UDP payload: 446
1336844503567: Received UDP payload: 446
1336844503579: Received UDP payload: 446
1336844504167: inside sendPacket(Packet p)
1336844504181: Sending UDP payload: 446
1336844504544: Received UDP payload: 642
1336844504549: mux: Inside mux Packet.CLIENT_REQUEST
1336844504584: Received UDP payload: 1006
1336844504595: mux: GOT CSM_Msg
1336844504596: forwarding disabled, not forwarding packets
1336844504608: Received UDP payload: 446
1336844504613: mux: Inside Packet.SERVER_REPLY
1336844504614: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844504662: Received UDP payload: 4766
1336844504664: mux: GOT CSM_Msg
1336844504665: forwarding disabled, not forwarding packets
1336844504710: Received UDP payload: 4419
1336844504712: mux: Inside Packet.SERVER_REPLY
1336844504712: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844504723: Received UDP payload: 446
1336844504725: mux: Inside mux Packet.CLIENT_REQUEST
1336844505542: Received UDP payload: 1006
1336844505549: mux: GOT CSM_Msg
1336844505549: forwarding disabled, not forwarding packets
1336844505596: Received UDP payload: 4766
1336844505598: mux: GOT CSM_Msg
1336844505599: forwarding disabled, not forwarding packets
1336844506302: Received UDP payload: 446
1336844506554: Received UDP payload: 446
1336844508433: Received UDP payload: 446
1336844508533: Received UDP payload: 446
1336844508554: Received UDP payload: 446
1336844509168: inside sendPacket(Packet p)
1336844509184: Sending UDP payload: 446
1336844511317: Received UDP payload: 446
1336844511536: Received UDP payload: 446
1336844513428: Received UDP payload: 446
1336844513525: Received UDP payload: 446
1336844513556: Received UDP payload: 446
1336844514187: inside sendPacket(Packet p)
1336844514203: Sending UDP payload: 446
1336844516328: Received UDP payload: 446
1336844516619: Received UDP payload: 446
1336844518528: Received UDP payload: 446
1336844518554: Received UDP payload: 446
1336844519206: inside sendPacket(Packet p)
1336844519223: Sending UDP payload: 446
1336844520332: Received UDP payload: 446
1336844521336: Received UDP payload: 446
1336844521536: Received UDP payload: 446
1336844523539: Received UDP payload: 446
1336844523558: Received UDP payload: 446
1336844524225: inside sendPacket(Packet p)
1336844524233: Sending UDP payload: 446
1336844525361: Received UDP payload: 446
1336844526364: Received UDP payload: 446
1336844526534: Received UDP payload: 446
1336844528577: Received UDP payload: 446
1336844529237: inside sendPacket(Packet p)
1336844529253: Sending UDP payload: 446
1336844530354: Received UDP payload: 446
1336844530565: Received UDP payload: 446
1336844531341: Received UDP payload: 446
1336844531559: Received UDP payload: 446
1336844533562: Received UDP payload: 446
1336844534257: inside sendPacket(Packet p)
1336844534271: Sending UDP payload: 446
1336844535363: Received UDP payload: 446
1336844535569: Received UDP payload: 446
1336844536351: Received UDP payload: 446
1336844536557: Received UDP payload: 446
1336844538559: Received UDP payload: 446
1336844539258: inside sendPacket(Packet p)
1336844539273: Sending UDP payload: 446
1336844540354: Received UDP payload: 446
1336844540573: Received UDP payload: 446
1336844541369: Received UDP payload: 446
1336844541571: Received UDP payload: 446
1336844543561: Received UDP payload: 446
1336844544276: inside sendPacket(Packet p)
1336844544291: Sending UDP payload: 446
1336844545365: Received UDP payload: 446
1336844545577: Received UDP payload: 446
1336844546408: Received UDP payload: 446
1336844548559: Received UDP payload: 446
1336844548567: Received UDP payload: 446
1336844549278: inside sendPacket(Packet p)
1336844549282: Sending UDP payload: 446
1336844550576: Received UDP payload: 446
1336844551372: Received UDP payload: 446
1336844553562: Received UDP payload: 446
1336844553571: Received UDP payload: 446
1336844554279: inside sendPacket(Packet p)
1336844554293: Sending UDP payload: 446
1336844555436: Received UDP payload: 446
1336844555580: Received UDP payload: 446
1336844556366: Received UDP payload: 446
1336844558574: Received UDP payload: 446
1336844558609: Received UDP payload: 446
1336844559295: inside sendPacket(Packet p)
1336844559304: Sending UDP payload: 446
1336844560370: Received UDP payload: 446
1336844560579: Received UDP payload: 446
1336844561374: Received UDP payload: 446
1336844563566: Received UDP payload: 446
1336844563591: Received UDP payload: 446
1336844564306: inside sendPacket(Packet p)
1336844564323: Sending UDP payload: 446
1336844565370: Received UDP payload: 446
1336844565624: Received UDP payload: 446
1336844566383: Received UDP payload: 446
1336844568592: Received UDP payload: 446
1336844568651: Received UDP payload: 446
1336844569307: inside sendPacket(Packet p)
1336844569314: Sending UDP payload: 446
1336844570376: Received UDP payload: 446
1336844570618: Received UDP payload: 446
1336844571400: Received UDP payload: 446
1336844573571: Received UDP payload: 446
1336844573600: Received UDP payload: 446
1336844574319: inside sendPacket(Packet p)
1336844574331: Sending UDP payload: 446
1336844575372: Received UDP payload: 446
1336844575632: Received UDP payload: 446
1336844576416: Received UDP payload: 446
1336844578569: Received UDP payload: 446
1336844578612: Received UDP payload: 446
1336844579334: inside sendPacket(Packet p)
1336844579344: Sending UDP payload: 446
1336844580393: Received UDP payload: 446
1336844580682: Received UDP payload: 446
1336844581452: Received UDP payload: 446
1336844583595: Received UDP payload: 446
1336844583602: Received UDP payload: 446
1336844584347: inside sendPacket(Packet p)
1336844584356: Sending UDP payload: 446
1336844585395: Received UDP payload: 446
1336844585641: Received UDP payload: 446
1336844586420: Received UDP payload: 446
1336844588570: Received UDP payload: 446
1336844588598: Received UDP payload: 446
1336844589348: inside sendPacket(Packet p)
1336844589351: Sending UDP payload: 446
1336844590387: Received UDP payload: 446
1336844590645: Received UDP payload: 446
1336844591410: Received UDP payload: 446
1336844593579: Received UDP payload: 446
1336844593625: Received UDP payload: 446
1336844594349: inside sendPacket(Packet p)
1336844594352: Sending UDP payload: 446
1336844595385: Received UDP payload: 446
1336844595648: Received UDP payload: 446
1336844596404: Received UDP payload: 446
1336844598581: Received UDP payload: 446
1336844598603: Received UDP payload: 446
1336844599350: inside sendPacket(Packet p)
1336844599353: Sending UDP payload: 446
1336844600398: Received UDP payload: 446
1336844600660: Received UDP payload: 446
1336844601412: Received UDP payload: 446
1336844603582: Received UDP payload: 446
1336844603607: Received UDP payload: 446
1336844604104: leader to cloud hearbeat...
1336844605385: Received UDP payload: 446
1336844605692: Received UDP payload: 446
1336844606291: inside sendPacket(Packet p)
1336844606313: Sending UDP payload: 446
1336844608462: Received UDP payload: 446
1336844608601: Received UDP payload: 446
1336844608611: Received UDP payload: 446
1336844610463: Received UDP payload: 446
1336844610670: Received UDP payload: 446
1336844611314: inside sendPacket(Packet p)
1336844611317: Sending UDP payload: 446
1336844613396: Received UDP payload: 446
1336844613588: Received UDP payload: 446
1336844613613: Received UDP payload: 446
1336844615397: Received UDP payload: 446
1336844615732: Received UDP payload: 446
1336844616316: inside sendPacket(Packet p)
1336844616323: Sending UDP payload: 446
1336844618435: Received UDP payload: 446
1336844618596: Received UDP payload: 446
1336844618660: Received UDP payload: 446
1336844620397: Received UDP payload: 446
1336844620671: Received UDP payload: 446
1336844621326: inside sendPacket(Packet p)
1336844621329: Sending UDP payload: 446
1336844623413: Received UDP payload: 446
1336844623624: Received UDP payload: 446
1336844625393: Received UDP payload: 446
1336844625579: Received UDP payload: 446
1336844625673: Received UDP payload: 446
1336844626329: inside sendPacket(Packet p)
1336844626372: Sending UDP payload: 446
1336844628415: Received UDP payload: 446
1336844628635: Received UDP payload: 446
1336844630393: Received UDP payload: 446
1336844630582: Received UDP payload: 446
1336844630678: Received UDP payload: 446
1336844631329: inside sendPacket(Packet p)
1336844631344: Sending UDP payload: 446
1336844633415: Received UDP payload: 446
1336844633698: Received UDP payload: 446
1336844635395: Received UDP payload: 446
1336844635634: Received UDP payload: 446
1336844635675: Received UDP payload: 446
1336844636345: inside sendPacket(Packet p)
1336844636363: Sending UDP payload: 446
1336844638418: Received UDP payload: 446
1336844638656: Received UDP payload: 446
1336844640590: Received UDP payload: 446
1336844640692: Received UDP payload: 446
1336844641366: inside sendPacket(Packet p)
1336844641368: Sending UDP payload: 446
1336844642651: Received UDP payload: 446
1336844643447: Received UDP payload: 446
1336844643669: Received UDP payload: 446
1336844645604: Received UDP payload: 446
1336844645706: Received UDP payload: 446
1336844646369: inside sendPacket(Packet p)
1336844646383: Sending UDP payload: 446
1336844647657: Received UDP payload: 446
1336844648433: Received UDP payload: 446
1336844648716: Received UDP payload: 446
1336844650621: Received UDP payload: 446
1336844651386: inside sendPacket(Packet p)
1336844651388: Sending UDP payload: 446
1336844652717: Received UDP payload: 446
1336844652728: Received UDP payload: 446
1336844653462: Received UDP payload: 446
1336844653714: Received UDP payload: 446
1336844655621: Received UDP payload: 446
1336844656386: inside sendPacket(Packet p)
1336844656389: Sending UDP payload: 446
1336844657673: Received UDP payload: 446
1336844657700: Received UDP payload: 446
1336844658460: Received UDP payload: 446
1336844658724: Received UDP payload: 446
1336844660634: Received UDP payload: 446
1336844661388: inside sendPacket(Packet p)
1336844661402: Sending UDP payload: 446
1336844662684: Received UDP payload: 446
1336844662753: Received UDP payload: 446
1336844663538: Received UDP payload: 446
1336844663731: Received UDP payload: 446
1336844665628: Received UDP payload: 446
1336844666389: inside sendPacket(Packet p)
1336844666392: Sending UDP payload: 446
1336844667673: Received UDP payload: 446
1336844667704: Received UDP payload: 446
1336844668466: Received UDP payload: 446
1336844670602: Received UDP payload: 446
1336844670717: Received UDP payload: 446
1336844671391: inside sendPacket(Packet p)
1336844671394: Sending UDP payload: 446
1336844672703: Received UDP payload: 446
1336844672711: Received UDP payload: 446
1336844673469: Received UDP payload: 446
1336844675643: Received UDP payload: 446
1336844675657: Received UDP payload: 446
1336844676394: inside sendPacket(Packet p)
1336844676403: Sending UDP payload: 446
1336844677669: Received UDP payload: 446
1336844677703: Received UDP payload: 446
1336844678481: Received UDP payload: 446
1336844680621: Received UDP payload: 446
1336844680648: Received UDP payload: 446
1336844681407: inside sendPacket(Packet p)
1336844681423: Sending UDP payload: 446
1336844682679: Received UDP payload: 446
1336844682714: Received UDP payload: 446
1336844683463: Received UDP payload: 446
1336844685622: Received UDP payload: 446
1336844685648: Received UDP payload: 446
1336844686427: inside sendPacket(Packet p)
1336844686441: Sending UDP payload: 446
1336844687674: Received UDP payload: 446
1336844687717: Received UDP payload: 446
1336844688462: Received UDP payload: 446
1336844690640: Received UDP payload: 446
1336844690647: Received UDP payload: 446
1336844691430: inside sendPacket(Packet p)
1336844691433: Sending UDP payload: 446
1336844692717: Received UDP payload: 446
1336844693472: Received UDP payload: 446
1336844695647: Received UDP payload: 446
1336844695673: Received UDP payload: 446
1336844696431: inside sendPacket(Packet p)
1336844696434: Sending UDP payload: 446
1336844697680: Received UDP payload: 446
1336844697718: Received UDP payload: 446
1336844698486: Received UDP payload: 446
1336844700649: Received UDP payload: 446
1336844700668: Received UDP payload: 446
1336844701432: inside sendPacket(Packet p)
1336844701443: Sending UDP payload: 446
1336844702683: Received UDP payload: 446
1336844702716: Received UDP payload: 446
1336844703518: Received UDP payload: 446
1336844705655: Received UDP payload: 446
1336844705673: Received UDP payload: 446
1336844706445: inside sendPacket(Packet p)
1336844706475: Sending UDP payload: 446
1336844707697: Received UDP payload: 446
1336844707762: Received UDP payload: 446
1336844708507: Received UDP payload: 446
1336844710654: Received UDP payload: 446
1336844710673: Received UDP payload: 446
1336844711463: inside sendPacket(Packet p)
1336844711473: Sending UDP payload: 446
1336844712683: Received UDP payload: 446
1336844712720: Received UDP payload: 446
1336844713505: Received UDP payload: 446
1336844715682: Received UDP payload: 446
1336844715723: Received UDP payload: 446
1336844716475: inside sendPacket(Packet p)
1336844716478: Sending UDP payload: 446
1336844717729: Received UDP payload: 446
1336844717772: Received UDP payload: 446
1336844718519: Received UDP payload: 446
1336844720666: Received UDP payload: 446
1336844720688: Received UDP payload: 446
1336844721476: inside sendPacket(Packet p)
1336844721479: Sending UDP payload: 446
1336844722692: Received UDP payload: 446
1336844722758: Received UDP payload: 446
1336844723534: Received UDP payload: 446
1336844725677: Received UDP payload: 446
1336844725697: Received UDP payload: 446
1336844726291: leader to cloud hearbeat...
1336844727711: Received UDP payload: 446
1336844727728: Received UDP payload: 446
1336844728367: inside sendPacket(Packet p)
1336844728375: Sending UDP payload: 446
1336844730603: Received UDP payload: 446
1336844730684: Received UDP payload: 446
1336844730705: Received UDP payload: 446
1336844732714: Received UDP payload: 446
1336844732736: Received UDP payload: 446
1336844733374: inside sendPacket(Packet p)
1336844733374: Sending UDP payload: 446
1336844735668: Received UDP payload: 446
1336844735680: Received UDP payload: 446
1336844735686: Received UDP payload: 446
1336844737723: Received UDP payload: 446
1336844737748: Received UDP payload: 446
1336844738374: inside sendPacket(Packet p)
1336844738379: Sending UDP payload: 446
1336844740641: Received UDP payload: 446
1336844740684: Received UDP payload: 446
1336844740697: Received UDP payload: 446
1336844742719: Received UDP payload: 446
1336844742776: Received UDP payload: 446
1336844743375: inside sendPacket(Packet p)
1336844743391: Sending UDP payload: 446
1336844745607: Received UDP payload: 446
1336844745686: Received UDP payload: 446
1336844747743: Received UDP payload: 446
1336844747753: Received UDP payload: 446
1336844747761: Received UDP payload: 446
1336844748394: inside sendPacket(Packet p)
1336844748411: Sending UDP payload: 446
1336844750622: Received UDP payload: 446
1336844750687: Received UDP payload: 446
1336844752719: Received UDP payload: 446
1336844752745: Received UDP payload: 446
1336844752767: Received UDP payload: 446
1336844753414: inside sendPacket(Packet p)
1336844753423: Sending UDP payload: 446
1336844755622: Received UDP payload: 446
1336844755698: Received UDP payload: 446
1336844757722: Received UDP payload: 446
1336844757757: Received UDP payload: 446
1336844757779: Received UDP payload: 446
1336844758423: inside sendPacket(Packet p)
1336844758432: Sending UDP payload: 446
1336844760623: Received UDP payload: 446
1336844760702: Received UDP payload: 446
1336844762742: Received UDP payload: 446
1336844762775: Received UDP payload: 446
1336844763434: inside sendPacket(Packet p)
1336844763441: Sending UDP payload: 446
1336844763486: canPressButton = TRUE
1336844763487: areButtonsEnabled --> false
1336844763487: disabling buttons ...
1336844763487: took picture disableButtonsR
1336844763487: areButtonsEnabled --> false
1336844763541: one more takeNum: 2
1336844763542: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=7 getGood=6 getBad=1 getTimedout=0 getPercent=85%
1336844763543: Clicked take picture button ..
1336844764561: inside HandlePictureStorage onPictureTaken()
1336844764562: one more takeCamGood: 2
1336844764564: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=7 getGood=6 getBad=1 getTimedout=0 getPercent=85%
1336844765054: Picture successfully taken, ORIG BYTE LENGTH = 967123
1336844765193: Our new height x width: 306 x 408
1336844765193: Show photo from handle my camera take
1336844765193: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336844765194: change local requestCounter to 17
1336844765206: BYTE SIZE AFTER COMPRESSION: 2706
1336844765214: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5022017 Client in region: 1 Client nodID: 5022
1336844764617: Received UDP payload: 446
1336844765240: ----------------------------
1336844765241: inside sendRequestPacketRepeatingRunnable for requestCount = 5022017
1336844765241: I'm a leader, my requesting photos packet going to mux directly
1336844765249: --- Finished one round of sending REQUEST Packet ---------
1336844765241: mux: Inside mux Packet.CLIENT_REQUEST
1336844765241: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844765285: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844765242: inside handleClientRequest. Originator leader of region 1
1336844765242: got new request, requestCounter = 5022017
1336844765242: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844765242: Sending PROC_REQUEST 10:4 (1,0)->(1,0)
1336844765242: Dispatching Atom PROC_REQUEST 10:4 (1,0)->(1,0)
1336844765243: mux: I got a CSM packet at a leader 

1336844765286: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844765287: I'm a leader and I successfully saved my client's new photo
1336844765287: now showing in UI the new photo I just saved ... 
1336844765287: the photo length: 2706
1336844765321: end of server show photo aside %%%%%%%%%
1336844765242: Note down new request by adding requestCounter=5022017 to HashMap processedRequests
1336844765243: Make FirstLeg Ack regardless of new or already-processed requests
1336844765243: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844765248: Sending UDP payload: 3734
1336844765254: removed replies before id 4 from sentReplies of size 0
1336844765255: inside handleDSMRequest. At requests's remote leader of region 1
1336844765257: Inside UPLOAD_PHOTO!!
1336844765269: my_gpinfo.isSuccess is now (should be true): true
1336844765270: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844765271: Received PROC_REQUEST 10:4 (1,0)->(1,0), replying PROC_REPLY 10:4 (1,0)->(1,0)
1336844765271: Dispatching Atom PROC_REPLY 10:4 (1,0)->(1,0)
1336844765272: mux: I got a CSM packet at a leader 

1336844765323: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336844765323: disabling progressdialog due to successful new photo upload
1336844765324: Inside _enableButtons
1336844765324: areButtonsEnabled --> true
1336844765324: send final leg ack regardless of new or already-processed reply
1336844765325: inside finalLegAck: change requestCounter to 18
1336844765327: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022018 Client in region: (1,0) Client nodID: 5022
1336844765328: I'm a leader client, my final_leg packet going to mux directly
1336844765330: new client_upload_photo_ack reply with replyCounter 502201700
1336844765330: note down new reply by adding replyCounter=502201700 to HashMap processedReplies
1336844765331: leader upload new photo latency = 82
1336844765331: = leader upload start 1336844765241 ~ stop 1336844765323
1336844765334: one more takeGoodSave: 2
1336844765335: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=6 getBad=1 getTimedout=0 getPercent=85%
1336844765335: adding take latency: 82
1336844765335: SUCCESS Client now knows saving photo on its leader succeeded
1336844765273: Sending UDP payload: 1006
1336844765280: Received PROC_REPLY 10:4 (1,0)->(1,0), handing to UserApp
1336844765280: inside handleDSMReply. Now back in originator leader of region 1
1336844765280: DSM layer: Going to and from remote region took latency = 38
1336844765280: DSM layer: orig leader sent packet at 1336844765242 ~ received reply from remote leader at 1336844765280
1336844765281: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844765281: leader client reply has replyCounter: 502201700
1336844765281: reply packet contains the success info for UPLOAD_PHOTO
1336844765281: inside sendReplies of replyCount = 502201700
1336844765281: =======================
1336844765282: inside sendReplyRepeatingRunnable for replyCount = 502201700
1336844765282: Leader about to send REPLY packet, number: 502201700 type: 16 Leader in region: (1,0) to Client nodID: 5022
1336844765282: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844765282: === Finished one round of sending REPLY Packet =======
1336844765328: mux: Inside mux Packet.CLIENT_REQUEST
1336844765328: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844765329: inside handleClientRequest. Originator leader of region 1
1336844765329: got new request, requestCounter = 5022018
1336844765329: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502201700
1336844765329: Yay the last leg succeeded. Removing reply runnables ...
1336844765329: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502201700
1336844765329: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502201700
1336844765329: do not send ack for received final_leg_ack
1336844765616: Received UDP payload: 446
1336844765699: Received UDP payload: 446
1336844766448: Received UDP payload: 3403
1336844766455: mux: Inside mux Packet.CLIENT_REQUEST
1336844766456: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844766456: inside handleClientRequest. Originator leader of region 1
1336844766457: got new request, requestCounter = 5002015
1336844766457: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336844766458: Sending PROC_REQUEST 10:5 (1,0)->(1,0)
1336844766459: Dispatching Atom PROC_REQUEST 10:5 (1,0)->(1,0)
1336844766467: mux: I got a CSM packet at a leader 

1336844766541: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336844766544: I'm a leader and I successfully saved my client's new photo
1336844766544: now showing in UI the new photo I just saved ... 
1336844766544: the photo length: 2739
1336844766586: end of server show photo aside %%%%%%%%%
1336844766460: Note down new request by adding requestCounter=5002015 to HashMap processedRequests
1336844766460: Make FirstLeg Ack regardless of new or already-processed requests
1336844766466: The leader sending a First Leg ack to originator client (which id = 5002)
1336844766466: inside sendPacket(Packet p)
1336844766524: Sending UDP payload: 3767
1336844766525: removed replies before id 5 from sentReplies of size 0
1336844766525: inside handleDSMRequest. At requests's remote leader of region 1
1336844766528: Inside UPLOAD_PHOTO!!
1336844766538: my_gpinfo.isSuccess is now (should be true): true
1336844766538: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336844766539: Received PROC_REQUEST 10:5 (1,0)->(1,0), replying PROC_REPLY 10:5 (1,0)->(1,0)
1336844766539: Dispatching Atom PROC_REPLY 10:5 (1,0)->(1,0)
1336844766573: mux: I got a CSM packet at a leader 

1336844766540: Sending UDP payload: 446
1336844766581: Sending UDP payload: 1006
1336844766589: Received PROC_REPLY 10:5 (1,0)->(1,0), handing to UserApp
1336844766589: inside handleDSMReply. Now back in originator leader of region 1
1336844766590: DSM layer: Going to and from remote region took latency = 132
1336844766590: DSM layer: orig leader sent packet at 1336844766457 ~ received reply from remote leader at 1336844766589
1336844766592: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844766592: leader client reply has replyCounter: 500201500
1336844766592: reply packet contains the success info for UPLOAD_PHOTO
1336844766592: inside sendReplies of replyCount = 500201500
1336844766593: =======================
1336844766593: inside sendReplyRepeatingRunnable for replyCount = 500201500
1336844766593: Leader about to send REPLY packet, number: 500201500 type: 16 Leader in region: (1,0) to Client nodID: 5002
1336844766593: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844766593: inside sendPacket(Packet p)
1336844766593: === Finished one round of sending REPLY Packet =======
1336844766595: Sending UDP payload: 659
1336844766625: Received UDP payload: 446
1336844766627: mux: Inside mux Packet.CLIENT_REQUEST
1336844766628: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844766628: inside handleClientRequest. Originator leader of region 1
1336844766628: got new request, requestCounter = 5002016
1336844766628: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500201500
1336844766628: Yay the last leg succeeded. Removing reply runnables ...
1336844766628: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500201500
1336844766628: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500201500
1336844766628: do not send ack for received final_leg_ack
1336844767762: Received UDP payload: 446
1336844767779: Received UDP payload: 446
1336844768444: inside sendPacket(Packet p)
1336844768453: Sending UDP payload: 446
1336844768981: Received UDP payload: 3506
1336844768988: mux: Inside mux Packet.CLIENT_REQUEST
1336844769043: Received UDP payload: 3870
1336844769057: mux: GOT CSM_Msg
1336844769057: forwarding disabled, not forwarding packets
1336844769068: Received UDP payload: 446
1336844769072: mux: Inside Packet.SERVER_REPLY
1336844769074: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844769081: Received UDP payload: 1006
1336844769087: mux: GOT CSM_Msg
1336844769088: forwarding disabled, not forwarding packets
1336844769102: Received UDP payload: 659
1336844769103: mux: Inside Packet.SERVER_REPLY
1336844769104: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844769104: Received UDP payload: 446
1336844769105: mux: Inside mux Packet.CLIENT_REQUEST
1336844769618: Received UDP payload: 446
1336844770262: Received UDP payload: 3820
1336844770277: mux: GOT CSM_Msg
1336844770277: forwarding disabled, not forwarding packets
1336844770287: Received UDP payload: 1006
1336844770307: mux: GOT CSM_Msg
1336844770307: forwarding disabled, not forwarding packets
1336844770616: Received UDP payload: 446
1336844770697: Received UDP payload: 446
1336844771631: Received UDP payload: 3734
1336844771639: mux: GOT CSM_Msg
1336844771639: forwarding disabled, not forwarding packets
1336844771661: Received UDP payload: 1006
1336844771668: mux: GOT CSM_Msg
1336844771669: forwarding disabled, not forwarding packets
1336844772776: Received UDP payload: 446
1336844773457: inside sendPacket(Packet p)
1336844773473: Sending UDP payload: 446
1336844774622: Received UDP payload: 446
1336844774796: Received UDP payload: 446
1336844775624: Received UDP payload: 446
1336844775708: Received UDP payload: 446
1336844777137: Received UDP payload: 3370
1336844777142: mux: Inside mux Packet.CLIENT_REQUEST
1336844777189: Received UDP payload: 446
1336844777193: mux: Inside Packet.SERVER_REPLY
1336844777194: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844777204: Received UDP payload: 1006
1336844777206: mux: GOT CSM_Msg
1336844777206: forwarding disabled, not forwarding packets
1336844777214: Received UDP payload: 659
1336844777215: mux: Inside Packet.SERVER_REPLY
1336844777216: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844777244: Received UDP payload: 446
1336844777245: mux: Inside mux Packet.CLIENT_REQUEST
1336844777309: Received UDP payload: 3829
1336844777311: mux: GOT CSM_Msg
1336844777311: forwarding disabled, not forwarding packets
1336844777319: Received UDP payload: 1006
1336844777321: mux: GOT CSM_Msg
1336844777321: forwarding disabled, not forwarding packets
1336844777777: Received UDP payload: 446
1336844778219: Received UDP payload: 3734
1336844778231: mux: GOT CSM_Msg
1336844778233: forwarding disabled, not forwarding packets
1336844778251: Received UDP payload: 1006
1336844778263: mux: GOT CSM_Msg
1336844778263: forwarding disabled, not forwarding packets
1336844778474: inside sendPacket(Packet p)
1336844778476: Sending UDP payload: 446
1336844779621: Received UDP payload: 446
1336844779797: Received UDP payload: 446
1336844780634: Received UDP payload: 446
1336844780714: Received UDP payload: 446
1336844782500: Received UDP payload: 3805
1336844782509: mux: GOT CSM_Msg
1336844782510: forwarding disabled, not forwarding packets
1336844782525: Received UDP payload: 1006
1336844782545: mux: GOT CSM_Msg
1336844782545: forwarding disabled, not forwarding packets
1336844782776: Received UDP payload: 446
1336844783474: inside sendPacket(Packet p)
1336844783477: Sending UDP payload: 446
1336844784666: Received UDP payload: 446
1336844784809: Received UDP payload: 446
1336844785569: Received UDP payload: 3449
1336844785574: mux: Inside mux Packet.CLIENT_REQUEST
1336844785627: Received UDP payload: 446
1336844785676: Received UDP payload: 3813
1336844785684: mux: GOT CSM_Msg
1336844785685: forwarding disabled, not forwarding packets
1336844785698: Received UDP payload: 446
1336844785702: mux: Inside Packet.SERVER_REPLY
1336844785702: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844785703: Received UDP payload: 1006
1336844785718: mux: GOT CSM_Msg
1336844785718: forwarding disabled, not forwarding packets
1336844785719: Received UDP payload: 446
1336844785730: Received UDP payload: 659
1336844785735: mux: Inside Packet.SERVER_REPLY
1336844785735: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844785743: Received UDP payload: 446
1336844785746: mux: Inside mux Packet.CLIENT_REQUEST
1336844787778: Received UDP payload: 446
1336844788478: inside sendPacket(Packet p)
1336844788481: Sending UDP payload: 446
1336844789638: Received UDP payload: 446
1336844789811: Received UDP payload: 446
1336844790640: Received UDP payload: 446
1336844792629: Received UDP payload: 446
1336844792796: Received UDP payload: 446
1336844793479: inside sendPacket(Packet p)
1336844793492: Sending UDP payload: 446
1336844794653: Received UDP payload: 446
1336844794860: Received UDP payload: 446
1336844795671: Received UDP payload: 446
1336844797633: Received UDP payload: 446
1336844797818: Received UDP payload: 446
1336844798494: inside sendPacket(Packet p)
1336844798502: Sending UDP payload: 446
1336844799625: Received UDP payload: 446
1336844799837: Received UDP payload: 446
1336844800661: Received UDP payload: 446
1336844802649: Received UDP payload: 446
1336844802804: Received UDP payload: 446
1336844803503: inside sendPacket(Packet p)
1336844803512: Sending UDP payload: 446
1336844804627: Received UDP payload: 446
1336844804847: Received UDP payload: 446
1336844805665: Received UDP payload: 446
1336844807250: Received UDP payload: 642
1336844807254: mux: Inside mux Packet.CLIENT_REQUEST
1336844807291: Received UDP payload: 1006
1336844807298: mux: GOT CSM_Msg
1336844807298: forwarding disabled, not forwarding packets
1336844807312: Received UDP payload: 446
1336844807313: mux: Inside Packet.SERVER_REPLY
1336844807313: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844807354: Received UDP payload: 3820
1336844807356: mux: GOT CSM_Msg
1336844807356: forwarding disabled, not forwarding packets
1336844807396: Received UDP payload: 3473
1336844807398: mux: Inside Packet.SERVER_REPLY
1336844807398: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844807422: Received UDP payload: 446
1336844807423: mux: Inside mux Packet.CLIENT_REQUEST
1336844807647: Received UDP payload: 446
1336844807804: Received UDP payload: 446
1336844808463: Received UDP payload: 1006
1336844808470: mux: GOT CSM_Msg
1336844808470: forwarding disabled, not forwarding packets
1336844808514: inside sendPacket(Packet p)
1336844808517: Sending UDP payload: 446
1336844808568: Received UDP payload: 3820
1336844808570: mux: GOT CSM_Msg
1336844808570: forwarding disabled, not forwarding packets
1336844809642: Received UDP payload: 446
1336844809858: Received UDP payload: 446
1336844809897: canPressButton = TRUE
1336844809898: areButtonsEnabled --> false 
1336844809898: get picture disableButtonsR
1336844809898: areButtonsEnabled --> false
1336844809924: one more getNum: 8
1336844809925: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=6 getBad=1 getTimedout=0 getPercent=75%
1336844809925: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336844809925: change local requestCounter to 19
1336844809931: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022019 Client in region: 1 Client nodID: 5022
1336844809958: ----------------------------
1336844809959: inside sendRequestPacketRepeatingRunnable for requestCount = 5022019
1336844809960: I'm a leader, my requesting photos packet going to mux directly
1336844809978: --- Finished one round of sending REQUEST Packet ---------
1336844809960: mux: Inside mux Packet.CLIENT_REQUEST
1336844809960: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844810013: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844809960: inside handleClientRequest. Originator leader of region 1
1336844809960: got new request, requestCounter = 5022019
1336844809960: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844809964: Sending to region: 0
1336844809964: Sending PROC_REQUEST 11:2 (1,0)->(0,0)
1336844809965: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(0,0)
1336844809965: mux: I got a CSM packet at a leader 

1336844809965: Note down new request by adding requestCounter=5022019 to HashMap processedRequests
1336844809965: Make FirstLeg Ack regardless of new or already-processed requests
1336844809965: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844809978: Sending UDP payload: 1006
1336844809988: forwarding disabled, not forwarding packets
1336844810123: Received UDP payload: 3820
1336844810126: mux: GOT CSM_Msg
1336844810147: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844810148: disabling progressdialog due to successful new photo get
1336844810148: Inside _enableButtons
1336844810148: areButtonsEnabled --> true
1336844810148: send final leg ack regardless of new or already-processed reply
1336844810149: inside finalLegAck: change requestCounter to 20
1336844810149: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022020 Client in region: (1,0) Client nodID: 5022
1336844810149: I'm a leader client, my final_leg packet going to mux directly
1336844810151: new client_show_remotephoto reply with replyCounter 502201900
1336844810152: note down new reply by adding replyCounter=502201900 to HashMap processedReplies
1336844810153: leader download remote photo latency = 187
1336844810153: = leader download start 1336844809960 ~ stop 1336844810147
1336844810157: one more getGood: 7
1336844810159: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=7 getBad=1 getTimedout=0 getPercent=87%
1336844810160: adding get latency: 187
1336844810161: Success! Client getting photo from remote region, showing photo...
1336844810162: Remote photo's length: 2792
1336844810127: Received PROC_REPLY 11:2 (0,0)->(1,0), handing to UserApp
1336844810127: inside handleDSMReply. Now back in originator leader of region 1
1336844810127: DSM layer: Going to and from remote region took latency = 163
1336844810127: DSM layer: orig leader sent packet at 1336844809964 ~ received reply from remote leader at 1336844810127
1336844810128: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844810128: leader client reply has replyCounter: 502201900
1336844810128: reply packet contains the newest photo/success info from the remote region
1336844810128: inside sendReplies of replyCount = 502201900
1336844810136: =======================
1336844810136: inside sendReplyRepeatingRunnable for replyCount = 502201900
1336844810136: Leader about to send REPLY packet, number: 502201900 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844810136: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844810136: === Finished one round of sending REPLY Packet =======
1336844810149: mux: Inside mux Packet.CLIENT_REQUEST
1336844810150: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844810150: inside handleClientRequest. Originator leader of region 1
1336844810150: got new request, requestCounter = 5022020
1336844810150: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502201900
1336844810150: Yay the last leg succeeded. Removing reply runnables ...
1336844810150: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502201900
1336844810150: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502201900
1336844810150: do not send ack for received final_leg_ack
1336844810666: Received UDP payload: 446
1336844811317: Received UDP payload: 642
1336844811327: mux: Inside mux Packet.CLIENT_REQUEST
1336844811327: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844811328: inside handleClientRequest. Originator leader of region 1
1336844811328: got new request, requestCounter = 5002017
1336844811328: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844811331: Sending to region: 0
1336844811332: Sending PROC_REQUEST 11:3 (1,0)->(0,0)
1336844811333: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1336844811336: mux: I got a CSM packet at a leader 

1336844811334: Note down new request by adding requestCounter=5002017 to HashMap processedRequests
1336844811334: Make FirstLeg Ack regardless of new or already-processed requests
1336844811335: The leader sending a First Leg ack to originator client (which id = 5002)
1336844811335: inside sendPacket(Packet p)
1336844811354: Sending UDP payload: 1006
1336844811356: forwarding disabled, not forwarding packets
1336844811358: Sending UDP payload: 446
1336844811444: Received UDP payload: 3820
1336844811446: mux: GOT CSM_Msg
1336844811446: Received PROC_REPLY 11:3 (0,0)->(1,0), handing to UserApp
1336844811446: inside handleDSMReply. Now back in originator leader of region 1
1336844811446: DSM layer: Going to and from remote region took latency = 115
1336844811447: DSM layer: orig leader sent packet at 1336844811331 ~ received reply from remote leader at 1336844811446
1336844811447: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844811447: leader client reply has replyCounter: 500201700
1336844811448: reply packet contains the newest photo/success info from the remote region
1336844811448: inside sendReplies of replyCount = 500201700
1336844811450: =======================
1336844811450: inside sendReplyRepeatingRunnable for replyCount = 500201700
1336844811451: Leader about to send REPLY packet, number: 500201700 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844811451: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844811451: inside sendPacket(Packet p)
1336844811451: === Finished one round of sending REPLY Packet =======
1336844811457: Sending UDP payload: 3473
1336844811515: Received UDP payload: 446
1336844811516: mux: Inside mux Packet.CLIENT_REQUEST
1336844811516: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844811516: inside handleClientRequest. Originator leader of region 1
1336844811517: got new request, requestCounter = 5002018
1336844811517: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500201700
1336844811517: Yay the last leg succeeded. Removing reply runnables ...
1336844811517: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500201700
1336844811517: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500201700
1336844811517: do not send ack for received final_leg_ack
1336844812658: Received UDP payload: 446
1336844812817: Received UDP payload: 446
1336844813515: inside sendPacket(Packet p)
1336844813525: Sending UDP payload: 446
1336844814644: Received UDP payload: 446
1336844814879: Received UDP payload: 446
1336844815665: Received UDP payload: 446
1336844816006: Received UDP payload: 1006
1336844816014: mux: GOT CSM_Msg
1336844816015: forwarding disabled, not forwarding packets
1336844816085: Received UDP payload: 3820
1336844816087: mux: GOT CSM_Msg
1336844816087: forwarding disabled, not forwarding packets
1336844816212: Received UDP payload: 1006
1336844816216: mux: GOT CSM_Msg
1336844816216: forwarding disabled, not forwarding packets
1336844816283: Received UDP payload: 3820
1336844816287: mux: GOT CSM_Msg
1336844816287: forwarding disabled, not forwarding packets
1336844817672: Received UDP payload: 446
1336844817819: Received UDP payload: 446
1336844818528: inside sendPacket(Packet p)
1336844818531: Sending UDP payload: 446
1336844819714: Received UDP payload: 446
1336844819931: Received UDP payload: 446
1336844820755: Received UDP payload: 446
1336844821777: Received UDP payload: 642
1336844821782: mux: Inside mux Packet.CLIENT_REQUEST
1336844821849: Received UDP payload: 1006
1336844821858: mux: GOT CSM_Msg
1336844821858: forwarding disabled, not forwarding packets
1336844821859: Received UDP payload: 446
1336844821873: mux: Inside Packet.SERVER_REPLY
1336844821873: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844821939: Received UDP payload: 3820
1336844821941: mux: GOT CSM_Msg
1336844821942: forwarding disabled, not forwarding packets
1336844822003: Received UDP payload: 3473
1336844822004: mux: Inside Packet.SERVER_REPLY
1336844822004: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844822015: Received UDP payload: 446
1336844822016: mux: Inside mux Packet.CLIENT_REQUEST
1336844822671: Received UDP payload: 1006
1336844822678: mux: GOT CSM_Msg
1336844822678: forwarding disabled, not forwarding packets
1336844822702: Received UDP payload: 446
1336844822736: Received UDP payload: 1006
1336844822738: mux: GOT CSM_Msg
1336844822739: forwarding disabled, not forwarding packets
1336844822782: Received UDP payload: 3820
1336844822785: mux: GOT CSM_Msg
1336844822785: forwarding disabled, not forwarding packets
1336844822831: Received UDP payload: 3820
1336844822833: mux: GOT CSM_Msg
1336844822833: forwarding disabled, not forwarding packets
1336844822876: Received UDP payload: 446
1336844823530: inside sendPacket(Packet p)
1336844823533: Sending UDP payload: 446
1336844823921: Received UDP payload: 642
1336844823926: mux: Inside mux Packet.CLIENT_REQUEST
1336844823994: Received UDP payload: 1006
1336844823996: mux: GOT CSM_Msg
1336844823996: forwarding disabled, not forwarding packets
1336844824002: Received UDP payload: 446
1336844824003: mux: Inside Packet.SERVER_REPLY
1336844824003: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844824091: Received UDP payload: 3820
1336844824093: mux: GOT CSM_Msg
1336844824093: forwarding disabled, not forwarding packets
1336844824150: Received UDP payload: 3473
1336844824151: mux: Inside Packet.SERVER_REPLY
1336844824151: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844824162: Received UDP payload: 446
1336844824164: mux: Inside mux Packet.CLIENT_REQUEST
1336844824665: Received UDP payload: 446
1336844824907: Received UDP payload: 446
1336844825699: Received UDP payload: 446
1336844827701: Received UDP payload: 446
1336844827822: Received UDP payload: 446
1336844828531: inside sendPacket(Packet p)
1336844828543: Sending UDP payload: 446
1336844829647: Received UDP payload: 446
1336844829918: Received UDP payload: 446
1336844830708: Received UDP payload: 446
1336844832713: Received UDP payload: 446
1336844832833: Received UDP payload: 446
1336844833546: inside sendPacket(Packet p)
1336844833552: Sending UDP payload: 446
1336844834648: Received UDP payload: 446
1336844834927: Received UDP payload: 446
1336844835705: Received UDP payload: 446
1336844836525: Received UDP payload: 642
1336844836530: mux: Inside mux Packet.CLIENT_REQUEST
1336844836584: Received UDP payload: 1006
1336844836592: mux: GOT CSM_Msg
1336844836593: removed replies before id 2 from sentReplies of size 0
1336844836593: inside handleDSMRequest. At requests's remote leader of region 1
1336844836595: INSIDE SERVER_GET_PHOTO!!!
1336844836610: Received UDP payload: 446
1336844836622: mux: Inside Packet.SERVER_REPLY
1336844836622: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844836620: Received PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1336844836621: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1336844836623: mux: I got a CSM packet at a leader 

1336844836642: Sending UDP payload: 3767
1336844836643: forwarding disabled, not forwarding packets
1336844836748: Received UDP payload: 3420
1336844836749: mux: Inside Packet.SERVER_REPLY
1336844836750: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844836765: Received UDP payload: 446
1336844836766: mux: Inside mux Packet.CLIENT_REQUEST
1336844837714: Received UDP payload: 1006
1336844837722: mux: GOT CSM_Msg
1336844837722: removed replies before id 3 from sentReplies of size 0
1336844837723: inside handleDSMRequest. At requests's remote leader of region 1
1336844837725: INSIDE SERVER_GET_PHOTO!!!
1336844837729: Received PROC_REQUEST 11:3 (0,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(0,0)
1336844837739: Received UDP payload: 446
1336844837744: Dispatching Atom PROC_REPLY 11:3 (1,0)->(0,0)
1336844837745: mux: I got a CSM packet at a leader 

1336844837748: Sending UDP payload: 3767
1336844837759: forwarding disabled, not forwarding packets
1336844837833: Received UDP payload: 446
1336844838555: inside sendPacket(Packet p)
1336844838558: Sending UDP payload: 446
1336844839659: Received UDP payload: 446
1336844840721: Received UDP payload: 446
1336844842727: Received UDP payload: 446
1336844842845: Received UDP payload: 446
1336844843314: Received UDP payload: 642
1336844843319: mux: Inside mux Packet.CLIENT_REQUEST
1336844843319: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844843319: inside handleClientRequest. Originator leader of region 1
1336844843320: got new request, requestCounter = 5002019
1336844843321: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844843323: Sending to region: 1
1336844843324: Sending PROC_REQUEST 11:6 (1,0)->(1,0)
1336844843325: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(1,0)
1336844843327: mux: I got a CSM packet at a leader 

1336844843325: Note down new request by adding requestCounter=5002019 to HashMap processedRequests
1336844843326: Make FirstLeg Ack regardless of new or already-processed requests
1336844843326: The leader sending a First Leg ack to originator client (which id = 5002)
1336844843326: inside sendPacket(Packet p)
1336844843348: Sending UDP payload: 1006
1336844843353: removed replies before id 6 from sentReplies of size 0
1336844843354: inside handleDSMRequest. At requests's remote leader of region 1
1336844843356: INSIDE SERVER_GET_PHOTO!!!
1336844843383: dst_region == src_region = 1
1336844843383:  1 self to self atomRequest
1336844843393: Received PROC_REQUEST 11:6 (1,0)->(1,0), replying PROC_REPLY 11:6 (1,0)->(1,0)
1336844843400: Dispatching Atom PROC_REPLY 11:6 (1,0)->(1,0)
1336844843424: mux: I got a CSM packet at a leader 

1336844843403: Sending UDP payload: 446
1336844843442: Sending UDP payload: 3767
1336844843444: Received PROC_REPLY 11:6 (1,0)->(1,0), handing to UserApp
1336844843444: inside handleDSMReply. Now back in originator leader of region 1
1336844843444: DSM layer: Going to and from remote region took latency = 121
1336844843444: DSM layer: orig leader sent packet at 1336844843323 ~ received reply from remote leader at 1336844843444
1336844843445: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844843445: leader client reply has replyCounter: 500201900
1336844843445: reply packet contains the newest photo/success info from the remote region
1336844843445: inside sendReplies of replyCount = 500201900
1336844843445: =======================
1336844843445: inside sendReplyRepeatingRunnable for replyCount = 500201900
1336844843446: Leader about to send REPLY packet, number: 500201900 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844843446: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844843446: inside sendPacket(Packet p)
1336844843446: === Finished one round of sending REPLY Packet =======
1336844843447: Sending UDP payload: 3420
1336844843538: Received UDP payload: 446
1336844843539: mux: Inside mux Packet.CLIENT_REQUEST
1336844843540: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844843540: inside handleClientRequest. Originator leader of region 1
1336844843540: got new request, requestCounter = 5002020
1336844843540: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500201900
1336844843540: Yay the last leg succeeded. Removing reply runnables ...
1336844843540: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500201900
1336844843540: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500201900
1336844843541: do not send ack for received final_leg_ack
1336844843556: inside sendPacket(Packet p)
1336844843557: Sending UDP payload: 446
1336844844447: canPressButton = TRUE
1336844844448: areButtonsEnabled --> false 
1336844844448: get picture disableButtonsR
1336844844448: areButtonsEnabled --> false
1336844844474: one more getNum: 9
1336844844475: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=7 getBad=1 getTimedout=0 getPercent=77%
1336844844475: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336844844476: change local requestCounter to 21
1336844844477: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022021 Client in region: 1 Client nodID: 5022
1336844844511: ----------------------------
1336844844511: inside sendRequestPacketRepeatingRunnable for requestCount = 5022021
1336844844512: I'm a leader, my requesting photos packet going to mux directly
1336844844520: --- Finished one round of sending REQUEST Packet ---------
1336844844512: mux: Inside mux Packet.CLIENT_REQUEST
1336844844512: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844844570: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844844512: inside handleClientRequest. Originator leader of region 1
1336844844512: got new request, requestCounter = 5022021
1336844844512: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844844513: Sending to region: 1
1336844844513: Sending PROC_REQUEST 11:7 (1,0)->(1,0)
1336844844514: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(1,0)
1336844844515: mux: I got a CSM packet at a leader 

1336844844514: Note down new request by adding requestCounter=5022021 to HashMap processedRequests
1336844844514: Make FirstLeg Ack regardless of new or already-processed requests
1336844844515: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844844516: Sending UDP payload: 1006
1336844844517: removed replies before id 7 from sentReplies of size 0
1336844844518: inside handleDSMRequest. At requests's remote leader of region 1
1336844844518: INSIDE SERVER_GET_PHOTO!!!
1336844844519: dst_region == src_region = 1
1336844844519:  1 self to self atomRequest
1336844844530: Received PROC_REQUEST 11:7 (1,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(1,0)
1336844844531: Dispatching Atom PROC_REPLY 11:7 (1,0)->(1,0)
1336844844531: mux: I got a CSM packet at a leader 

1336844844576: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844844576: disabling progressdialog due to successful new photo get
1336844844576: Inside _enableButtons
1336844844577: areButtonsEnabled --> true
1336844844577: send final leg ack regardless of new or already-processed reply
1336844844577: inside finalLegAck: change requestCounter to 22
1336844844577: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022022 Client in region: (1,0) Client nodID: 5022
1336844844578: I'm a leader client, my final_leg packet going to mux directly
1336844844579: new client_show_remotephoto reply with replyCounter 502202100
1336844844580: note down new reply by adding replyCounter=502202100 to HashMap processedReplies
1336844844580: leader download remote photo latency = 64
1336844844580: = leader download start 1336844844512 ~ stop 1336844844576
1336844844581: one more getGood: 8
1336844844582: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=8 getBad=1 getTimedout=0 getPercent=88%
1336844844582: adding get latency: 64
1336844844583: Success! Client getting photo from remote region, showing photo...
1336844844583: Remote photo's length: 2739
1336844844532: Sending UDP payload: 3767
1336844844534: Received PROC_REPLY 11:7 (1,0)->(1,0), handing to UserApp
1336844844534: inside handleDSMReply. Now back in originator leader of region 1
1336844844534: DSM layer: Going to and from remote region took latency = 21
1336844844534: DSM layer: orig leader sent packet at 1336844844513 ~ received reply from remote leader at 1336844844534
1336844844535: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844844535: leader client reply has replyCounter: 502202100
1336844844535: reply packet contains the newest photo/success info from the remote region
1336844844536: inside sendReplies of replyCount = 502202100
1336844844536: =======================
1336844844536: inside sendReplyRepeatingRunnable for replyCount = 502202100
1336844844536: Leader about to send REPLY packet, number: 502202100 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844844536: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844844536: === Finished one round of sending REPLY Packet =======
1336844844578: mux: Inside mux Packet.CLIENT_REQUEST
1336844844578: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844844578: inside handleClientRequest. Originator leader of region 1
1336844844578: got new request, requestCounter = 5022022
1336844844578: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502202100
1336844844578: Yay the last leg succeeded. Removing reply runnables ...
1336844844578: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502202100
1336844844579: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502202100
1336844844579: do not send ack for received final_leg_ack
1336844844662: Received UDP payload: 446
1336844844952: Received UDP payload: 446
1336844845727: Received UDP payload: 446
1336844845905: Received UDP payload: 1006
1336844845921: mux: GOT CSM_Msg
1336844845922: removed replies before id 1 from sentReplies of size 0
1336844845922: inside handleDSMRequest. At requests's remote leader of region 1
1336844845936: INSIDE SERVER_GET_PHOTO!!!
1336844845969: Received PROC_REQUEST 11:1 (2,0)->(1,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1336844845969: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1336844845970: mux: I got a CSM packet at a leader 

1336844845973: Sending UDP payload: 3767
1336844845981: forwarding disabled, not forwarding packets
1336844847738: Received UDP payload: 446
1336844847865: Received UDP payload: 446
1336844848367: leader to cloud hearbeat...
1336844849675: Received UDP payload: 1006
1336844849678: mux: GOT CSM_Msg
1336844849678: removed replies before id 2 from sentReplies of size 0
1336844849678: inside handleDSMRequest. At requests's remote leader of region 1
1336844849679: INSIDE SERVER_GET_PHOTO!!!
1336844849682: Received PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1336844849682: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1336844849682: mux: I got a CSM packet at a leader 

1336844849683: Received UDP payload: 446
1336844849686: Sending UDP payload: 3767
1336844849689: forwarding disabled, not forwarding packets
1336844849958: Received UDP payload: 446
1336844850537: inside sendPacket(Packet p)
1336844850541: Sending UDP payload: 446
1336844852782: Received UDP payload: 446
1336844852803: Received UDP payload: 446
1336844852866: Received UDP payload: 446
1336844853083: Received UDP payload: 1006
1336844853104: mux: GOT CSM_Msg
1336844853105: removed replies before id 2 from sentReplies of size 0
1336844853105: inside handleDSMRequest. At requests's remote leader of region 1
1336844853107: INSIDE SERVER_GET_PHOTO!!!
1336844853127: Received PROC_REQUEST 11:2 (4,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(4,0)
1336844853128: Dispatching Atom PROC_REPLY 11:2 (1,0)->(4,0)
1336844853129: mux: I got a CSM packet at a leader 

1336844853145: Sending UDP payload: 3767
1336844853146: forwarding disabled, not forwarding packets
1336844854559: Received UDP payload: 642
1336844854564: mux: Inside mux Packet.CLIENT_REQUEST
1336844854613: Received UDP payload: 1006
1336844854633: mux: GOT CSM_Msg
1336844854634: removed replies before id 3 from sentReplies of size 0
1336844854634: inside handleDSMRequest. At requests's remote leader of region 1
1336844854636: INSIDE SERVER_GET_PHOTO!!!
1336844854643: Received UDP payload: 446
1336844854654: mux: Inside Packet.SERVER_REPLY
1336844854655: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844854652: Received PROC_REQUEST 11:3 (4,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(4,0)
1336844854653: Dispatching Atom PROC_REPLY 11:3 (1,0)->(4,0)
1336844854655: mux: I got a CSM packet at a leader 

1336844854674: Sending UDP payload: 3767
1336844854688: forwarding disabled, not forwarding packets
1336844854703: Received UDP payload: 446
1336844854769: Received UDP payload: 3420
1336844854775: mux: Inside Packet.SERVER_REPLY
1336844854776: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844854788: Received UDP payload: 446
1336844854792: mux: Inside mux Packet.CLIENT_REQUEST
1336844854956: Received UDP payload: 446
1336844855389: Received UDP payload: 642
1336844855390: mux: Inside mux Packet.CLIENT_REQUEST
1336844855411: Received UDP payload: 1006
1336844855413: mux: GOT CSM_Msg
1336844855413: removed replies before id 2 from sentReplies of size 0
1336844855413: inside handleDSMRequest. At requests's remote leader of region 1
1336844855413: INSIDE SERVER_GET_PHOTO!!!
1336844855415: Received PROC_REQUEST 11:2 (5,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(5,0)
1336844855415: Dispatching Atom PROC_REPLY 11:2 (1,0)->(5,0)
1336844855415: mux: I got a CSM packet at a leader 

1336844855416: Sending UDP payload: 3767
1336844855417: forwarding disabled, not forwarding packets
1336844855419: Received UDP payload: 446
1336844855420: mux: Inside Packet.SERVER_REPLY
1336844855420: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844855539: Received UDP payload: 3420
1336844855541: mux: Inside Packet.SERVER_REPLY
1336844855541: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844855543: inside sendPacket(Packet p)
1336844855544: Sending UDP payload: 446
1336844855566: Received UDP payload: 446
1336844855567: mux: Inside mux Packet.CLIENT_REQUEST
1336844857773: Received UDP payload: 1006
1336844857784: mux: GOT CSM_Msg
1336844857785: removed replies before id 3 from sentReplies of size 0
1336844857785: inside handleDSMRequest. At requests's remote leader of region 1
1336844857798: INSIDE SERVER_GET_PHOTO!!!
1336844857815: Received PROC_REQUEST 11:3 (5,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(5,0)
1336844857816: Dispatching Atom PROC_REPLY 11:3 (1,0)->(5,0)
1336844857817: mux: I got a CSM packet at a leader 

1336844857823: Received UDP payload: 446
1336844857823: Sending UDP payload: 3767
1336844857825: Received UDP payload: 446
1336844857826: forwarding disabled, not forwarding packets
1336844857945: Received UDP payload: 446
1336844859701: Received UDP payload: 446
1336844859992: Received UDP payload: 446
1336844860544: inside sendPacket(Packet p)
1336844860546: Sending UDP payload: 446
1336844862800: Received UDP payload: 446
1336844862827: Received UDP payload: 446
1336844862879: Received UDP payload: 446
1336844864727: Received UDP payload: 446
1336844865005: Received UDP payload: 446
1336844865545: inside sendPacket(Packet p)
1336844865548: Sending UDP payload: 446
1336844866638: Received UDP payload: 642
1336844866644: mux: Inside mux Packet.CLIENT_REQUEST
1336844866724: Received UDP payload: 1006
1336844866730: mux: GOT CSM_Msg
1336844866731: forwarding disabled, not forwarding packets
1336844866733: Received UDP payload: 446
1336844866737: mux: Inside Packet.SERVER_REPLY
1336844866737: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844866814: Received UDP payload: 3829
1336844866816: mux: GOT CSM_Msg
1336844866817: forwarding disabled, not forwarding packets
1336844866900: Received UDP payload: 3482
1336844866902: mux: Inside Packet.SERVER_REPLY
1336844866902: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844866914: Received UDP payload: 446
1336844866920: mux: Inside mux Packet.CLIENT_REQUEST
1336844867743: Received UDP payload: 446
1336844867836: Received UDP payload: 446
1336844867864: Received UDP payload: 1006
1336844867874: mux: GOT CSM_Msg
1336844867875: forwarding disabled, not forwarding packets
1336844867935: Received UDP payload: 3829
1336844867943: mux: GOT CSM_Msg
1336844867943: forwarding disabled, not forwarding packets
1336844868482: canPressButton = TRUE
1336844868483: areButtonsEnabled --> false 
1336844868483: get picture disableButtonsR
1336844868483: areButtonsEnabled --> false
1336844868544: one more getNum: 10
1336844868545: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=8 getBad=1 getTimedout=0 getPercent=80%
1336844868545: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336844868545: change local requestCounter to 23
1336844868552: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022023 Client in region: 1 Client nodID: 5022
1336844868588: ----------------------------
1336844868588: inside sendRequestPacketRepeatingRunnable for requestCount = 5022023
1336844868588: I'm a leader, my requesting photos packet going to mux directly
1336844868593: --- Finished one round of sending REQUEST Packet ---------
1336844868589: mux: Inside mux Packet.CLIENT_REQUEST
1336844868589: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844868629: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844868589: inside handleClientRequest. Originator leader of region 1
1336844868589: got new request, requestCounter = 5022023
1336844868589: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844868590: Sending to region: 2
1336844868590: Sending PROC_REQUEST 11:2 (1,0)->(2,0)
1336844868590: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1336844868591: mux: I got a CSM packet at a leader 

1336844868591: Note down new request by adding requestCounter=5022023 to HashMap processedRequests
1336844868591: Make FirstLeg Ack regardless of new or already-processed requests
1336844868591: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844868592: Sending UDP payload: 1006
1336844868593: forwarding disabled, not forwarding packets
1336844868662: Received UDP payload: 3829
1336844868664: mux: GOT CSM_Msg
1336844868671: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844868672: disabling progressdialog due to successful new photo get
1336844868672: Inside _enableButtons
1336844868673: areButtonsEnabled --> true
1336844868673: send final leg ack regardless of new or already-processed reply
1336844868673: inside finalLegAck: change requestCounter to 24
1336844868673: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022024 Client in region: (1,0) Client nodID: 5022
1336844868673: I'm a leader client, my final_leg packet going to mux directly
1336844868675: new client_show_remotephoto reply with replyCounter 502202300
1336844868676: note down new reply by adding replyCounter=502202300 to HashMap processedReplies
1336844868676: leader download remote photo latency = 83
1336844868676: = leader download start 1336844868588 ~ stop 1336844868671
1336844868678: one more getGood: 9
1336844868678: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=9 getBad=1 getTimedout=0 getPercent=90%
1336844868679: adding get latency: 83
1336844868679: Success! Client getting photo from remote region, showing photo...
1336844868679: Remote photo's length: 2801
1336844868665: Received PROC_REPLY 11:2 (2,0)->(1,0), handing to UserApp
1336844868665: inside handleDSMReply. Now back in originator leader of region 1
1336844868665: DSM layer: Going to and from remote region took latency = 75
1336844868665: DSM layer: orig leader sent packet at 1336844868590 ~ received reply from remote leader at 1336844868665
1336844868666: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844868666: leader client reply has replyCounter: 502202300
1336844868666: reply packet contains the newest photo/success info from the remote region
1336844868668: inside sendReplies of replyCount = 502202300
1336844868670: =======================
1336844868670: inside sendReplyRepeatingRunnable for replyCount = 502202300
1336844868670: Leader about to send REPLY packet, number: 502202300 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844868671: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844868671: === Finished one round of sending REPLY Packet =======
1336844868674: mux: Inside mux Packet.CLIENT_REQUEST
1336844868674: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844868674: inside handleClientRequest. Originator leader of region 1
1336844868674: got new request, requestCounter = 5022024
1336844868674: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502202300
1336844868674: Yay the last leg succeeded. Removing reply runnables ...
1336844868674: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502202300
1336844868674: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502202300
1336844868675: do not send ack for received final_leg_ack
1336844869559: Received UDP payload: 642
1336844869565: mux: Inside mux Packet.CLIENT_REQUEST
1336844869565: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844869565: inside handleClientRequest. Originator leader of region 1
1336844869566: got new request, requestCounter = 5002021
1336844869566: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844869568: Sending to region: 2
1336844869569: Sending PROC_REQUEST 11:3 (1,0)->(2,0)
1336844869581: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1336844869592: mux: I got a CSM packet at a leader 

1336844869582: Note down new request by adding requestCounter=5002021 to HashMap processedRequests
1336844869582: Make FirstLeg Ack regardless of new or already-processed requests
1336844869583: The leader sending a First Leg ack to originator client (which id = 5002)
1336844869591: inside sendPacket(Packet p)
1336844869597: Sending UDP payload: 1006
1336844869609: forwarding disabled, not forwarding packets
1336844869612: Sending UDP payload: 446
1336844869683: Received UDP payload: 446
1336844869706: Received UDP payload: 3829
1336844869709: mux: GOT CSM_Msg
1336844869710: Received PROC_REPLY 11:3 (2,0)->(1,0), handing to UserApp
1336844869710: inside handleDSMReply. Now back in originator leader of region 1
1336844869710: DSM layer: Going to and from remote region took latency = 141
1336844869710: DSM layer: orig leader sent packet at 1336844869569 ~ received reply from remote leader at 1336844869710
1336844869711: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844869711: leader client reply has replyCounter: 500202100
1336844869711: reply packet contains the newest photo/success info from the remote region
1336844869712: inside sendReplies of replyCount = 500202100
1336844869713: =======================
1336844869713: inside sendReplyRepeatingRunnable for replyCount = 500202100
1336844869713: Leader about to send REPLY packet, number: 500202100 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844869713: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844869713: inside sendPacket(Packet p)
1336844869713: === Finished one round of sending REPLY Packet =======
1336844869715: Sending UDP payload: 3482
1336844869761: Received UDP payload: 446
1336844869793: Received UDP payload: 446
1336844869795: mux: Inside mux Packet.CLIENT_REQUEST
1336844869795: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844869795: inside handleClientRequest. Originator leader of region 1
1336844869795: got new request, requestCounter = 5002022
1336844869795: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500202100
1336844869795: Yay the last leg succeeded. Removing reply runnables ...
1336844869796: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500202100
1336844869796: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500202100
1336844869796: do not send ack for received final_leg_ack
1336844870011: Received UDP payload: 446
1336844870546: inside sendPacket(Packet p)
1336844870549: Sending UDP payload: 446
1336844872802: Received UDP payload: 446
1336844872836: Received UDP payload: 446
1336844874558: Received UDP payload: 1006
1336844874568: mux: GOT CSM_Msg
1336844874568: forwarding disabled, not forwarding packets
1336844874610: Received UDP payload: 3829
1336844874617: mux: GOT CSM_Msg
1336844874618: forwarding disabled, not forwarding packets
1336844874686: Received UDP payload: 446
1336844874766: Received UDP payload: 446
1336844874991: Received UDP payload: 446
1336844875563: inside sendPacket(Packet p)
1336844875566: Sending UDP payload: 446
1336844876675: Received UDP payload: 1006
1336844876682: mux: GOT CSM_Msg
1336844876683: forwarding disabled, not forwarding packets
1336844876721: Received UDP payload: 3829
1336844876729: mux: GOT CSM_Msg
1336844876730: forwarding disabled, not forwarding packets
1336844877814: Received UDP payload: 446
1336844877839: Received UDP payload: 446
1336844879690: Received UDP payload: 446
1336844879773: Received UDP payload: 446
1336844879995: Received UDP payload: 446
1336844880154: Received UDP payload: 642
1336844880158: mux: Inside mux Packet.CLIENT_REQUEST
1336844880215: Received UDP payload: 1006
1336844880222: mux: GOT CSM_Msg
1336844880224: forwarding disabled, not forwarding packets
1336844880230: Received UDP payload: 446
1336844880234: mux: Inside Packet.SERVER_REPLY
1336844880235: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844880265: Received UDP payload: 3829
1336844880273: mux: GOT CSM_Msg
1336844880274: forwarding disabled, not forwarding packets
1336844880321: Received UDP payload: 3482
1336844880326: mux: Inside Packet.SERVER_REPLY
1336844880327: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844880334: Received UDP payload: 446
1336844880337: mux: Inside mux Packet.CLIENT_REQUEST
1336844880570: inside sendPacket(Packet p)
1336844880572: Sending UDP payload: 446
1336844880951: Received UDP payload: 1006
1336844880958: mux: GOT CSM_Msg
1336844880958: forwarding disabled, not forwarding packets
1336844881038: Received UDP payload: 3829
1336844881046: mux: GOT CSM_Msg
1336844881046: forwarding disabled, not forwarding packets
1336844882751: Received UDP payload: 446
1336844882847: Received UDP payload: 446
1336844882977: Received UDP payload: 1006
1336844882986: mux: GOT CSM_Msg
1336844882987: forwarding disabled, not forwarding packets
1336844883731: Received UDP payload: 1006
1336844883738: mux: GOT CSM_Msg
1336844883738: forwarding disabled, not forwarding packets
1336844883793: Received UDP payload: 3829
1336844883800: mux: GOT CSM_Msg
1336844883800: forwarding disabled, not forwarding packets
1336844884468: Received UDP payload: 642
1336844884474: mux: Inside mux Packet.CLIENT_REQUEST
1336844884568: Received UDP payload: 1006
1336844884578: mux: GOT CSM_Msg
1336844884578: forwarding disabled, not forwarding packets
1336844884579: Received UDP payload: 446
1336844884596: mux: Inside Packet.SERVER_REPLY
1336844884596: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844884650: Received UDP payload: 3829
1336844884652: mux: GOT CSM_Msg
1336844884653: forwarding disabled, not forwarding packets
1336844884782: Received UDP payload: 446
1336844885000: Received UDP payload: 446
1336844885571: inside sendPacket(Packet p)
1336844885575: Sending UDP payload: 446
1336844886782: Received UDP payload: 3482
1336844886791: mux: Inside Packet.SERVER_REPLY
1336844886792: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844886801: Received UDP payload: 446
1336844886831: Received UDP payload: 446
1336844886835: mux: Inside mux Packet.CLIENT_REQUEST
1336844887799: Received UDP payload: 446
1336844887865: Received UDP payload: 446
1336844889808: Received UDP payload: 446
1336844890006: Received UDP payload: 446
1336844890572: inside sendPacket(Packet p)
1336844890583: Sending UDP payload: 446
1336844891775: Received UDP payload: 446
1336844892771: Received UDP payload: 446
1336844892913: Received UDP payload: 446
1336844894818: Received UDP payload: 446
1336844895585: inside sendPacket(Packet p)
1336844895588: Sending UDP payload: 446
1336844896405: Received UDP payload: 642
1336844896409: mux: Inside mux Packet.CLIENT_REQUEST
1336844896409: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844896410: inside handleClientRequest. Originator leader of region 1
1336844896411: got new request, requestCounter = 5002023
1336844896411: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844896421: Sending to region: 3
1336844896423: Sending PROC_REQUEST 11:2 (1,0)->(3,0)
1336844896423: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(3,0)
1336844896429: mux: I got a CSM packet at a leader 

1336844896424: Note down new request by adding requestCounter=5002023 to HashMap processedRequests
1336844896424: Make FirstLeg Ack regardless of new or already-processed requests
1336844896425: The leader sending a First Leg ack to originator client (which id = 5002)
1336844896428: inside sendPacket(Packet p)
1336844896433: Sending UDP payload: 1006
1336844896447: forwarding disabled, not forwarding packets
1336844896450: Sending UDP payload: 446
1336844896521: Received UDP payload: 3734
1336844896523: mux: GOT CSM_Msg
1336844896523: Received PROC_REPLY 11:2 (3,0)->(1,0), handing to UserApp
1336844896523: inside handleDSMReply. Now back in originator leader of region 1
1336844896524: DSM layer: Going to and from remote region took latency = 101
1336844896524: DSM layer: orig leader sent packet at 1336844896422 ~ received reply from remote leader at 1336844896523
1336844896524: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844896525: leader client reply has replyCounter: 500202300
1336844896525: reply packet contains the newest photo/success info from the remote region
1336844896525: inside sendReplies of replyCount = 500202300
1336844896525: =======================
1336844896525: inside sendReplyRepeatingRunnable for replyCount = 500202300
1336844896525: Leader about to send REPLY packet, number: 500202300 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844896526: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844896526: inside sendPacket(Packet p)
1336844896526: === Finished one round of sending REPLY Packet =======
1336844896527: Sending UDP payload: 3387
1336844896584: Received UDP payload: 446
1336844896586: mux: Inside mux Packet.CLIENT_REQUEST
1336844896586: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844896586: inside handleClientRequest. Originator leader of region 1
1336844896586: got new request, requestCounter = 5002024
1336844896586: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500202300
1336844896587: Yay the last leg succeeded. Removing reply runnables ...
1336844896587: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500202300
1336844896587: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500202300
1336844896587: do not send ack for received final_leg_ack
1336844896727: Received UDP payload: 642
1336844896729: mux: Inside mux Packet.CLIENT_REQUEST
1336844896757: Received UDP payload: 446
1336844896771: Received UDP payload: 1006
1336844896774: mux: GOT CSM_Msg
1336844896774: forwarding disabled, not forwarding packets
1336844896782: Received UDP payload: 446
1336844896784: mux: Inside Packet.SERVER_REPLY
1336844896784: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844896831: Received UDP payload: 3734
1336844896834: mux: GOT CSM_Msg
1336844896834: forwarding disabled, not forwarding packets
1336844896903: Received UDP payload: 3387
1336844896906: mux: Inside Packet.SERVER_REPLY
1336844896906: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844896918: Received UDP payload: 446
1336844896920: mux: Inside mux Packet.CLIENT_REQUEST
1336844897007: Received UDP payload: 446
1336844897161: canPressButton = TRUE
1336844897161: areButtonsEnabled --> false 
1336844897161: get picture disableButtonsR
1336844897161: areButtonsEnabled --> false
1336844897188: one more getNum: 11
1336844897189: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=9 getBad=1 getTimedout=0 getPercent=81%
1336844897189: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336844897189: change local requestCounter to 25
1336844897190: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022025 Client in region: 1 Client nodID: 5022
1336844897224: ----------------------------
1336844897225: inside sendRequestPacketRepeatingRunnable for requestCount = 5022025
1336844897225: I'm a leader, my requesting photos packet going to mux directly
1336844897234: --- Finished one round of sending REQUEST Packet ---------
1336844897227: mux: Inside mux Packet.CLIENT_REQUEST
1336844897227: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844897273: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844897228: inside handleClientRequest. Originator leader of region 1
1336844897228: got new request, requestCounter = 5022025
1336844897228: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844897229: Sending to region: 3
1336844897229: Sending PROC_REQUEST 11:3 (1,0)->(3,0)
1336844897229: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1336844897231: mux: I got a CSM packet at a leader 

1336844897230: Note down new request by adding requestCounter=5022025 to HashMap processedRequests
1336844897230: Make FirstLeg Ack regardless of new or already-processed requests
1336844897230: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844897233: Sending UDP payload: 1006
1336844897233: forwarding disabled, not forwarding packets
1336844897333: Received UDP payload: 3734
1336844897335: mux: GOT CSM_Msg
1336844897336: Received PROC_REPLY 11:3 (3,0)->(1,0), handing to UserApp
1336844897336: inside handleDSMReply. Now back in originator leader of region 1
1336844897336: DSM layer: Going to and from remote region took latency = 107
1336844897336: DSM layer: orig leader sent packet at 1336844897229 ~ received reply from remote leader at 1336844897336
1336844897337: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844897384: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844897385: disabling progressdialog due to successful new photo get
1336844897385: Inside _enableButtons
1336844897385: areButtonsEnabled --> true
1336844897385: send final leg ack regardless of new or already-processed reply
1336844897386: inside finalLegAck: change requestCounter to 26
1336844897386: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022026 Client in region: (1,0) Client nodID: 5022
1336844897386: I'm a leader client, my final_leg packet going to mux directly
1336844897388: new client_show_remotephoto reply with replyCounter 502202500
1336844897395: note down new reply by adding replyCounter=502202500 to HashMap processedReplies
1336844897396: leader download remote photo latency = 157
1336844897396: = leader download start 1336844897227 ~ stop 1336844897384
1336844897399: one more getGood: 10
1336844897399: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=10 getBad=1 getTimedout=0 getPercent=90%
1336844897400: adding get latency: 157
1336844897401: Success! Client getting photo from remote region, showing photo...
1336844897401: Remote photo's length: 2706
1336844897337: leader client reply has replyCounter: 502202500
1336844897337: reply packet contains the newest photo/success info from the remote region
1336844897337: inside sendReplies of replyCount = 502202500
1336844897337: =======================
1336844897338: inside sendReplyRepeatingRunnable for replyCount = 502202500
1336844897338: Leader about to send REPLY packet, number: 502202500 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844897338: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844897338: === Finished one round of sending REPLY Packet =======
1336844897386: mux: Inside mux Packet.CLIENT_REQUEST
1336844897387: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844897387: inside handleClientRequest. Originator leader of region 1
1336844897387: got new request, requestCounter = 5022026
1336844897387: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502202500
1336844897387: Yay the last leg succeeded. Removing reply runnables ...
1336844897387: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502202500
1336844897387: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502202500
1336844897387: do not send ack for received final_leg_ack
1336844897773: Received UDP payload: 446
1336844897895: Received UDP payload: 446
1336844898058: Received UDP payload: 1006
1336844898075: mux: GOT CSM_Msg
1336844898075: forwarding disabled, not forwarding packets
1336844898135: Received UDP payload: 3734
1336844898137: mux: GOT CSM_Msg
1336844898138: forwarding disabled, not forwarding packets
1336844899825: Received UDP payload: 446
1336844900586: inside sendPacket(Packet p)
1336844900622: Sending UDP payload: 446
1336844901765: Received UDP payload: 446
1336844902011: Received UDP payload: 446
1336844902360: Received UDP payload: 1006
1336844902367: mux: GOT CSM_Msg
1336844902368: forwarding disabled, not forwarding packets
1336844902398: Received UDP payload: 3734
1336844902405: mux: GOT CSM_Msg
1336844902405: forwarding disabled, not forwarding packets
1336844902752: Received UDP payload: 446
1336844902882: Received UDP payload: 446
1336844904822: Received UDP payload: 446
1336844905587: inside sendPacket(Packet p)
1336844905601: Sending UDP payload: 446
1336844905625: Received UDP payload: 1006
1336844905633: mux: GOT CSM_Msg
1336844905633: forwarding disabled, not forwarding packets
1336844905738: Received UDP payload: 3734
1336844905742: mux: GOT CSM_Msg
1336844905743: forwarding disabled, not forwarding packets
1336844906761: Received UDP payload: 446
1336844907017: Received UDP payload: 446
1336844907755: Received UDP payload: 446
1336844907889: Received UDP payload: 446
1336844908073: Received UDP payload: 642
1336844908078: mux: Inside mux Packet.CLIENT_REQUEST
1336844908143: Received UDP payload: 1006
1336844908151: mux: GOT CSM_Msg
1336844908152: forwarding disabled, not forwarding packets
1336844908153: Received UDP payload: 446
1336844908157: mux: Inside Packet.SERVER_REPLY
1336844908157: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844908227: Received UDP payload: 3734
1336844908229: mux: GOT CSM_Msg
1336844908229: forwarding disabled, not forwarding packets
1336844908287: Received UDP payload: 3387
1336844908290: mux: Inside Packet.SERVER_REPLY
1336844908290: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844908304: Received UDP payload: 446
1336844908306: mux: Inside mux Packet.CLIENT_REQUEST
1336844909098: Received UDP payload: 1006
1336844909106: mux: GOT CSM_Msg
1336844909106: forwarding disabled, not forwarding packets
1336844909183: Received UDP payload: 3734
1336844909189: mux: GOT CSM_Msg
1336844909190: forwarding disabled, not forwarding packets
1336844909821: Received UDP payload: 446
1336844910587: inside sendPacket(Packet p)
1336844910590: Sending UDP payload: 446
1336844911791: Received UDP payload: 446
1336844911985: Received UDP payload: 1006
1336844911992: mux: GOT CSM_Msg
1336844911993: forwarding disabled, not forwarding packets
1336844912016: Received UDP payload: 446
1336844912096: Received UDP payload: 3734
1336844912098: mux: GOT CSM_Msg
1336844912098: forwarding disabled, not forwarding packets
1336844912756: Received UDP payload: 446
1336844913199: Received UDP payload: 642
1336844913203: mux: Inside mux Packet.CLIENT_REQUEST
1336844913294: Received UDP payload: 1006
1336844913296: mux: GOT CSM_Msg
1336844913296: forwarding disabled, not forwarding packets
1336844913302: Received UDP payload: 446
1336844913304: mux: Inside Packet.SERVER_REPLY
1336844913304: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844913393: Received UDP payload: 3387
1336844913396: mux: Inside Packet.SERVER_REPLY
1336844913396: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844913408: Received UDP payload: 446
1336844913410: mux: Inside mux Packet.CLIENT_REQUEST
1336844914764: Received UDP payload: 446
1336844914823: Received UDP payload: 446
1336844915588: inside sendPacket(Packet p)
1336844915604: Sending UDP payload: 446
1336844916811: Received UDP payload: 446
1336844917022: Received UDP payload: 446
1336844917802: Received UDP payload: 446
1336844919757: Received UDP payload: 446
1336844919834: Received UDP payload: 446
1336844920606: inside sendPacket(Packet p)
1336844920623: Sending UDP payload: 446
1336844921803: Received UDP payload: 446
1336844921933: Received UDP payload: 642
1336844921938: mux: Inside mux Packet.CLIENT_REQUEST
1336844921978: Received UDP payload: 1006
1336844921987: mux: GOT CSM_Msg
1336844921987: forwarding disabled, not forwarding packets
1336844921988: Received UDP payload: 446
1336844921997: mux: Inside Packet.SERVER_REPLY
1336844921998: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844922013: Received UDP payload: 446
1336844922059: Received UDP payload: 3813
1336844922061: mux: GOT CSM_Msg
1336844922061: forwarding disabled, not forwarding packets
1336844922111: Received UDP payload: 3466
1336844922112: mux: Inside Packet.SERVER_REPLY
1336844922112: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844922126: Received UDP payload: 446
1336844922127: mux: Inside mux Packet.CLIENT_REQUEST
1336844922779: Received UDP payload: 446
1336844923058: Received UDP payload: 642
1336844923063: mux: Inside mux Packet.CLIENT_REQUEST
1336844923064: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844923064: inside handleClientRequest. Originator leader of region 1
1336844923065: got new request, requestCounter = 5002025
1336844923065: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844923081: Sending to region: 4
1336844923084: Sending PROC_REQUEST 11:3 (1,0)->(4,0)
1336844923086: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(4,0)
1336844923088: mux: I got a CSM packet at a leader 

1336844923086: Note down new request by adding requestCounter=5002025 to HashMap processedRequests
1336844923087: Make FirstLeg Ack regardless of new or already-processed requests
1336844923087: The leader sending a First Leg ack to originator client (which id = 5002)
1336844923087: inside sendPacket(Packet p)
1336844923113: Sending UDP payload: 1006
1336844923114: forwarding disabled, not forwarding packets
1336844923115: Sending UDP payload: 446
1336844923215: Received UDP payload: 1006
1336844923218: mux: GOT CSM_Msg
1336844923218: forwarding disabled, not forwarding packets
1336844923826: Retrying PROC_REQUEST 11:3 (1,0)->(4,0)
1336844923832: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(4,0)
1336844923841: mux: I got a CSM packet at a leader 

1336844923842: Sending UDP payload: 1006
1336844923843: forwarding disabled, not forwarding packets
1336844923927: Received UDP payload: 3813
1336844923931: mux: GOT CSM_Msg
1336844923931: Received PROC_REPLY 11:3 (4,0)->(1,0), handing to UserApp
1336844923931: inside handleDSMReply. Now back in originator leader of region 1
1336844923932: DSM layer: Going to and from remote region took latency = 849
1336844923932: DSM layer: orig leader sent packet at 1336844923082 ~ received reply from remote leader at 1336844923931
1336844923933: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844923933: leader client reply has replyCounter: 500202500
1336844923933: reply packet contains the newest photo/success info from the remote region
1336844923933: inside sendReplies of replyCount = 500202500
1336844923934: =======================
1336844923934: inside sendReplyRepeatingRunnable for replyCount = 500202500
1336844923934: Leader about to send REPLY packet, number: 500202500 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844923934: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844923934: inside sendPacket(Packet p)
1336844923934: === Finished one round of sending REPLY Packet =======
1336844923936: Sending UDP payload: 3466
1336844923938: Received UDP payload: 1006
1336844923941: mux: GOT CSM_Msg
1336844923941: forwarding disabled, not forwarding packets
1336844923962: canPressButton = TRUE
1336844923962: areButtonsEnabled --> false 
1336844923963: get picture disableButtonsR
1336844923963: areButtonsEnabled --> false
1336844923989: one more getNum: 12
1336844923990: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=10 getBad=1 getTimedout=0 getPercent=83%
1336844923990: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336844923991: change local requestCounter to 27
1336844923994: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022027 Client in region: 1 Client nodID: 5022
1336844924024: ----------------------------
1336844924024: inside sendRequestPacketRepeatingRunnable for requestCount = 5022027
1336844924024: I'm a leader, my requesting photos packet going to mux directly
1336844924030: --- Finished one round of sending REQUEST Packet ---------
1336844924025: mux: Inside mux Packet.CLIENT_REQUEST
1336844924025: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844924075: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844924025: inside handleClientRequest. Originator leader of region 1
1336844924025: got new request, requestCounter = 5022027
1336844924025: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844924026: Sending to region: 4
1336844924026: Sending PROC_REQUEST 11:4 (1,0)->(4,0)
1336844924026: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(4,0)
1336844924027: mux: I got a CSM packet at a leader 

1336844924026: Note down new request by adding requestCounter=5022027 to HashMap processedRequests
1336844924027: Make FirstLeg Ack regardless of new or already-processed requests
1336844924027: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844924029: Sending UDP payload: 1006
1336844924030: forwarding disabled, not forwarding packets
1336844924031: Received UDP payload: 446
1336844924032: mux: Inside mux Packet.CLIENT_REQUEST
1336844924032: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844924032: inside handleClientRequest. Originator leader of region 1
1336844924032: got new request, requestCounter = 5002026
1336844924033: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500202500
1336844924033: Yay the last leg succeeded. Removing reply runnables ...
1336844924033: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500202500
1336844924033: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500202500
1336844924033: do not send ack for received final_leg_ack
1336844924093: Received UDP payload: 3813
1336844924096: mux: GOT CSM_Msg
1336844924167: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844924167: disabling progressdialog due to successful new photo get
1336844924167: Inside _enableButtons
1336844924168: areButtonsEnabled --> true
1336844924168: send final leg ack regardless of new or already-processed reply
1336844924168: inside finalLegAck: change requestCounter to 28
1336844924168: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022028 Client in region: (1,0) Client nodID: 5022
1336844924185: I'm a leader client, my final_leg packet going to mux directly
1336844924185: new client_show_remotephoto reply with replyCounter 502202700
1336844924185: note down new reply by adding replyCounter=502202700 to HashMap processedReplies
1336844924186: leader download remote photo latency = 143
1336844924186: = leader download start 1336844924024 ~ stop 1336844924167
1336844924189: one more getGood: 11
1336844924190: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=11 getBad=1 getTimedout=0 getPercent=91%
1336844924190: adding get latency: 143
1336844924190: Success! Client getting photo from remote region, showing photo...
1336844924191: Remote photo's length: 2785
1336844924096: Received PROC_REPLY 11:4 (4,0)->(1,0), handing to UserApp
1336844924096: inside handleDSMReply. Now back in originator leader of region 1
1336844924096: DSM layer: Going to and from remote region took latency = 70
1336844924096: DSM layer: orig leader sent packet at 1336844924026 ~ received reply from remote leader at 1336844924096
1336844924097: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844924097: leader client reply has replyCounter: 502202700
1336844924097: reply packet contains the newest photo/success info from the remote region
1336844924097: inside sendReplies of replyCount = 502202700
1336844924104: =======================
1336844924104: inside sendReplyRepeatingRunnable for replyCount = 502202700
1336844924104: Leader about to send REPLY packet, number: 502202700 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844924104: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844924104: === Finished one round of sending REPLY Packet =======
1336844924187: mux: Inside mux Packet.CLIENT_REQUEST
1336844924187: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844924187: inside handleClientRequest. Originator leader of region 1
1336844924187: got new request, requestCounter = 5022028
1336844924187: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502202700
1336844924187: Yay the last leg succeeded. Removing reply runnables ...
1336844924187: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502202700
1336844924188: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502202700
1336844924188: do not send ack for received final_leg_ack
1336844924780: Received UDP payload: 446
1336844924834: Received UDP payload: 446
1336844925626: inside sendPacket(Packet p)
1336844925665: Sending UDP payload: 446
1336844926819: Received UDP payload: 446
1336844927015: Received UDP payload: 446
1336844927821: Received UDP payload: 446
1336844929767: Received UDP payload: 446
1336844929840: Received UDP payload: 446
1336844930637: inside sendPacket(Packet p)
1336844930641: Sending UDP payload: 446
1336844931826: Received UDP payload: 1006
1336844931840: mux: GOT CSM_Msg
1336844931840: forwarding disabled, not forwarding packets
1336844931851: Received UDP payload: 446
1336844931912: Received UDP payload: 3813
1336844931920: mux: GOT CSM_Msg
1336844931920: forwarding disabled, not forwarding packets
1336844932012: Received UDP payload: 446
1336844932809: Received UDP payload: 446
1336844933566: Received UDP payload: 1006
1336844933574: mux: GOT CSM_Msg
1336844933575: forwarding disabled, not forwarding packets
1336844933652: Received UDP payload: 3813
1336844933658: mux: GOT CSM_Msg
1336844933659: forwarding disabled, not forwarding packets
1336844934772: Received UDP payload: 446
1336844934842: Received UDP payload: 446
1336844935639: inside sendPacket(Packet p)
1336844935644: Sending UDP payload: 446
1336844936853: Received UDP payload: 446
1336844937018: Received UDP payload: 446
1336844937817: Received UDP payload: 446
1336844938525: Received UDP payload: 1006
1336844938567: mux: GOT CSM_Msg
1336844938568: forwarding disabled, not forwarding packets
1336844938602: Received UDP payload: 3813
1336844938605: mux: GOT CSM_Msg
1336844938605: forwarding disabled, not forwarding packets
1336844939655: Received UDP payload: 642
1336844939659: mux: Inside mux Packet.CLIENT_REQUEST
1336844939727: Received UDP payload: 1006
1336844939734: mux: GOT CSM_Msg
1336844939735: forwarding disabled, not forwarding packets
1336844939740: Received UDP payload: 446
1336844939744: mux: Inside Packet.SERVER_REPLY
1336844939744: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844939778: Received UDP payload: 3813
1336844939784: mux: GOT CSM_Msg
1336844939784: forwarding disabled, not forwarding packets
1336844939786: Received UDP payload: 446
1336844939827: Received UDP payload: 3466
1336844939829: mux: Inside Packet.SERVER_REPLY
1336844939829: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844939838: Received UDP payload: 446
1336844939843: Received UDP payload: 446
1336844939845: mux: Inside mux Packet.CLIENT_REQUEST
1336844940309: Received UDP payload: 642
1336844940311: mux: Inside mux Packet.CLIENT_REQUEST
1336844940395: Received UDP payload: 1006
1336844940399: mux: GOT CSM_Msg
1336844940399: forwarding disabled, not forwarding packets
1336844940410: Received UDP payload: 446
1336844940412: mux: Inside Packet.SERVER_REPLY
1336844940412: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844940506: Received UDP payload: 3813
1336844940510: mux: GOT CSM_Msg
1336844940510: forwarding disabled, not forwarding packets
1336844940589: Received UDP payload: 3466
1336844940592: mux: Inside Packet.SERVER_REPLY
1336844940592: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844940623: Received UDP payload: 446
1336844940625: mux: Inside mux Packet.CLIENT_REQUEST
1336844940640: inside sendPacket(Packet p)
1336844940644: Sending UDP payload: 446
1336844941471: Received UDP payload: 1006
1336844941477: mux: GOT CSM_Msg
1336844941477: forwarding disabled, not forwarding packets
1336844941548: Received UDP payload: 3813
1336844941565: mux: GOT CSM_Msg
1336844941566: forwarding disabled, not forwarding packets
1336844941854: Received UDP payload: 446
1336844942015: Received UDP payload: 446
1336844942821: Received UDP payload: 446
1336844944767: Received UDP payload: 446
1336844944860: Received UDP payload: 446
1336844945641: inside sendPacket(Packet p)
1336844945654: Sending UDP payload: 446
1336844946902: Received UDP payload: 446
1336844947027: Received UDP payload: 446
1336844947874: Received UDP payload: 446
1336844949769: Received UDP payload: 446
1336844949857: Received UDP payload: 446
1336844950655: inside sendPacket(Packet p)
1336844950658: Sending UDP payload: 446
1336844951886: Received UDP payload: 446
1336844951900: Received UDP payload: 642
1336844951906: mux: Inside mux Packet.CLIENT_REQUEST
1336844951962: Received UDP payload: 1006
1336844951964: mux: GOT CSM_Msg
1336844951964: forwarding disabled, not forwarding packets
1336844951977: Received UDP payload: 446
1336844951979: mux: Inside Packet.SERVER_REPLY
1336844951979: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844952017: Received UDP payload: 3734
1336844952019: mux: GOT CSM_Msg
1336844952019: forwarding disabled, not forwarding packets
1336844952031: Received UDP payload: 446
1336844952064: Received UDP payload: 3387
1336844952066: mux: Inside Packet.SERVER_REPLY
1336844952066: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844952100: Received UDP payload: 446
1336844952102: mux: Inside mux Packet.CLIENT_REQUEST
1336844952819: Received UDP payload: 446
1336844953091: Received UDP payload: 1006
1336844953098: mux: GOT CSM_Msg
1336844953099: forwarding disabled, not forwarding packets
1336844953167: Received UDP payload: 3734
1336844953169: mux: GOT CSM_Msg
1336844953169: forwarding disabled, not forwarding packets
1336844954776: Received UDP payload: 446
1336844954878: Received UDP payload: 446
1336844955657: inside sendPacket(Packet p)
1336844955671: Sending UDP payload: 446
1336844956649: canPressButton = TRUE
1336844956649: areButtonsEnabled --> false 
1336844956649: get picture disableButtonsR
1336844956650: areButtonsEnabled --> false
1336844956708: one more getNum: 13
1336844956709: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=11 getBad=1 getTimedout=0 getPercent=84%
1336844956709: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336844956710: change local requestCounter to 29
1336844956712: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022029 Client in region: 1 Client nodID: 5022
1336844956748: ----------------------------
1336844956749: inside sendRequestPacketRepeatingRunnable for requestCount = 5022029
1336844956749: I'm a leader, my requesting photos packet going to mux directly
1336844956757: --- Finished one round of sending REQUEST Packet ---------
1336844956749: mux: Inside mux Packet.CLIENT_REQUEST
1336844956749: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844956789: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336844956749: inside handleClientRequest. Originator leader of region 1
1336844956749: got new request, requestCounter = 5022029
1336844956750: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844956752: Sending to region: 5
1336844956753: Sending PROC_REQUEST 11:2 (1,0)->(5,0)
1336844956753: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(5,0)
1336844956754: mux: I got a CSM packet at a leader 

1336844956753: Note down new request by adding requestCounter=5022029 to HashMap processedRequests
1336844956753: Make FirstLeg Ack regardless of new or already-processed requests
1336844956753: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336844956756: Sending UDP payload: 1006
1336844956759: forwarding disabled, not forwarding packets
1336844956853: Received UDP payload: 3734
1336844956856: mux: GOT CSM_Msg
1336844956856: Received PROC_REPLY 11:2 (5,0)->(1,0), handing to UserApp
1336844956856: inside handleDSMReply. Now back in originator leader of region 1
1336844956856: DSM layer: Going to and from remote region took latency = 104
1336844956856: DSM layer: orig leader sent packet at 1336844956752 ~ received reply from remote leader at 1336844956856
1336844956857: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844956857: leader client reply has replyCounter: 502202900
1336844956857: reply packet contains the newest photo/success info from the remote region
1336844956857: inside sendReplies of replyCount = 502202900
1336844956862: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336844956862: disabling progressdialog due to successful new photo get
1336844956862: Inside _enableButtons
1336844956862: areButtonsEnabled --> true
1336844956862: send final leg ack regardless of new or already-processed reply
1336844956863: inside finalLegAck: change requestCounter to 30
1336844956863: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022030 Client in region: (1,0) Client nodID: 5022
1336844956863: I'm a leader client, my final_leg packet going to mux directly
1336844956865: new client_show_remotephoto reply with replyCounter 502202900
1336844956867: note down new reply by adding replyCounter=502202900 to HashMap processedReplies
1336844956867: leader download remote photo latency = 113
1336844956869: = leader download start 1336844956749 ~ stop 1336844956862
1336844956871: one more getGood: 12
1336844956872: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=12 getBad=1 getTimedout=0 getPercent=92%
1336844956872: adding get latency: 113
1336844956873: Success! Client getting photo from remote region, showing photo...
1336844956873: Remote photo's length: 2706
1336844956858: =======================
1336844956858: inside sendReplyRepeatingRunnable for replyCount = 502202900
1336844956858: Leader about to send REPLY packet, number: 502202900 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336844956858: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336844956858: === Finished one round of sending REPLY Packet =======
1336844956863: mux: Inside mux Packet.CLIENT_REQUEST
1336844956864: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844956864: inside handleClientRequest. Originator leader of region 1
1336844956864: got new request, requestCounter = 5022030
1336844956864: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502202900
1336844956864: Yay the last leg succeeded. Removing reply runnables ...
1336844956864: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502202900
1336844956864: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502202900
1336844956864: do not send ack for received final_leg_ack
1336844956918: Received UDP payload: 446
1336844957032: Received UDP payload: 446
1336844957836: Received UDP payload: 642
1336844957838: mux: Inside mux Packet.CLIENT_REQUEST
1336844957838: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844957838: inside handleClientRequest. Originator leader of region 1
1336844957838: got new request, requestCounter = 5002027
1336844957838: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336844957839: Sending to region: 5
1336844957840: Sending PROC_REQUEST 11:3 (1,0)->(5,0)
1336844957843: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(5,0)
1336844957845: mux: I got a CSM packet at a leader 

1336844957843: Note down new request by adding requestCounter=5002027 to HashMap processedRequests
1336844957844: Make FirstLeg Ack regardless of new or already-processed requests
1336844957844: The leader sending a First Leg ack to originator client (which id = 5002)
1336844957844: inside sendPacket(Packet p)
1336844957849: Sending UDP payload: 1006
1336844957864: Received UDP payload: 446
1336844957868: forwarding disabled, not forwarding packets
1336844957872: Sending UDP payload: 446
1336844957949: Received UDP payload: 3734
1336844957951: mux: GOT CSM_Msg
1336844957952: Received PROC_REPLY 11:3 (5,0)->(1,0), handing to UserApp
1336844957952: inside handleDSMReply. Now back in originator leader of region 1
1336844957952: DSM layer: Going to and from remote region took latency = 113
1336844957952: DSM layer: orig leader sent packet at 1336844957839 ~ received reply from remote leader at 1336844957952
1336844957953: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336844957953: leader client reply has replyCounter: 500202700
1336844957953: reply packet contains the newest photo/success info from the remote region
1336844957953: inside sendReplies of replyCount = 500202700
1336844957954: =======================
1336844957954: inside sendReplyRepeatingRunnable for replyCount = 500202700
1336844957954: Leader about to send REPLY packet, number: 500202700 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336844957954: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336844957954: inside sendPacket(Packet p)
1336844957954: === Finished one round of sending REPLY Packet =======
1336844957956: Sending UDP payload: 3387
1336844958039: Received UDP payload: 446
1336844958041: mux: Inside mux Packet.CLIENT_REQUEST
1336844958041: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336844958041: inside handleClientRequest. Originator leader of region 1
1336844958041: got new request, requestCounter = 5002028
1336844958041: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500202700
1336844958041: Yay the last leg succeeded. Removing reply runnables ...
1336844958041: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500202700
1336844958042: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500202700
1336844958042: do not send ack for received final_leg_ack
1336844959776: Received UDP payload: 446
1336844959881: Received UDP payload: 446
1336844960660: inside sendPacket(Packet p)
1336844960673: Sending UDP payload: 446
1336844961524: Received UDP payload: 1006
1336844961532: mux: GOT CSM_Msg
1336844961533: forwarding disabled, not forwarding packets
1336844961605: Received UDP payload: 3734
1336844961613: mux: GOT CSM_Msg
1336844961613: forwarding disabled, not forwarding packets
1336844961891: Received UDP payload: 446
1336844962036: Received UDP payload: 446
1336844962722: Received UDP payload: 1006
1336844962737: mux: GOT CSM_Msg
1336844962738: forwarding disabled, not forwarding packets
1336844962791: Received UDP payload: 3734
1336844962798: mux: GOT CSM_Msg
1336844962798: forwarding disabled, not forwarding packets
1336844962843: Received UDP payload: 446
1336844964796: Received UDP payload: 446
1336844964894: Received UDP payload: 446
1336844965676: inside sendPacket(Packet p)
1336844965678: Sending UDP payload: 446
1336844966906: Received UDP payload: 446
1336844967038: Received UDP payload: 446
1336844967842: Received UDP payload: 446
1336844969496: Received UDP payload: 1006
1336844969504: mux: GOT CSM_Msg
1336844969504: forwarding disabled, not forwarding packets
1336844969582: Received UDP payload: 3734
1336844969589: mux: GOT CSM_Msg
1336844969590: forwarding disabled, not forwarding packets
1336844969799: Received UDP payload: 446
1336844970538: leader to cloud hearbeat...
1336844970629: Received UDP payload: 642
1336844970631: mux: Inside mux Packet.CLIENT_REQUEST
1336844970706: Received UDP payload: 1006
1336844970711: mux: GOT CSM_Msg
1336844970711: forwarding disabled, not forwarding packets
1336844970713: Received UDP payload: 446
1336844970715: mux: Inside Packet.SERVER_REPLY
1336844970715: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844970778: Received UDP payload: 3734
1336844970783: mux: GOT CSM_Msg
1336844970783: forwarding disabled, not forwarding packets
1336844970834: Received UDP payload: 3387
1336844970836: mux: Inside Packet.SERVER_REPLY
1336844970837: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844970852: Received UDP payload: 446
1336844970854: mux: Inside mux Packet.CLIENT_REQUEST
1336844971391: Received UDP payload: 642
1336844971393: mux: Inside mux Packet.CLIENT_REQUEST
1336844971467: Received UDP payload: 1006
1336844971469: mux: GOT CSM_Msg
1336844971469: forwarding disabled, not forwarding packets
1336844971505: Received UDP payload: 446
1336844971506: mux: Inside Packet.SERVER_REPLY
1336844971506: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844971549: Received UDP payload: 3734
1336844971551: mux: GOT CSM_Msg
1336844971552: forwarding disabled, not forwarding packets
1336844971591: Received UDP payload: 3387
1336844971592: mux: Inside Packet.SERVER_REPLY
1336844971593: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336844971604: Received UDP payload: 446
1336844971605: mux: Inside mux Packet.CLIENT_REQUEST
1336844971907: Received UDP payload: 446
1336844972040: Received UDP payload: 446
1336844972370: Received UDP payload: 1006
1336844972381: mux: GOT CSM_Msg
1336844972382: forwarding disabled, not forwarding packets
1336844972422: Received UDP payload: 3734
1336844972433: mux: GOT CSM_Msg
1336844972434: forwarding disabled, not forwarding packets
1336844972669: inside sendPacket(Packet p)
1336844972684: Sending UDP payload: 446
1336844974769: Received UDP payload: 446
1336844974817: Received UDP payload: 446
1336844974917: Received UDP payload: 446
1336844976947: Received UDP payload: 446
1336844977049: Received UDP payload: 446
1336844977687: inside sendPacket(Packet p)
1336844977687: Sending UDP payload: 446
1336844979802: Received UDP payload: 446
1336844979833: Received UDP payload: 446
1336844979922: Received UDP payload: 446
1336844981936: Received UDP payload: 446
1336844982059: Received UDP payload: 446
1336844982687: inside sendPacket(Packet p)
1336844982703: Sending UDP payload: 446
1336844984767: Received UDP payload: 446
1336844984821: Received UDP payload: 446
1336844984974: Received UDP payload: 446
1336844986959: Received UDP payload: 446
1336844987106: Received UDP payload: 446
1336844987705: inside sendPacket(Packet p)
1336844987723: Sending UDP payload: 446
1336844989782: Received UDP payload: 446
1336844989817: Received UDP payload: 446
1336844991963: Received UDP payload: 446
1336844991978: Received UDP payload: 446
1336844992059: Received UDP payload: 446
1336844992725: inside sendPacket(Packet p)
1336844992743: Sending UDP payload: 446
1336844994781: Received UDP payload: 446
1336844994815: Received UDP payload: 446
1336844996967: Received UDP payload: 446
1336844996997: Received UDP payload: 446
1336844997057: Received UDP payload: 446
1336844997746: inside sendPacket(Packet p)
1336844997749: Sending UDP payload: 446
1336844999786: Received UDP payload: 446
1336844999816: Received UDP payload: 446
1336845001974: Received UDP payload: 446
1336845001997: canPressButton = TRUE
1336845001998: areButtonsEnabled --> false
1336845001998: disabling buttons ...
1336845001998: took picture disableButtonsR
1336845001998: areButtonsEnabled --> false
1336845002042: one more takeNum: 3
1336845002043: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=13 getGood=12 getBad=1 getTimedout=0 getPercent=92%
1336845002043: Clicked take picture button ..
1336845002059: Received UDP payload: 446
1336845002065: Received UDP payload: 446
1336845002747: inside sendPacket(Packet p)
1336845002748: Sending UDP payload: 446
1336845003141: inside HandlePictureStorage onPictureTaken()
1336845003141: one more takeCamGood: 3
1336845003143: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=13 getGood=12 getBad=1 getTimedout=0 getPercent=92%
1336845003634: Picture successfully taken, ORIG BYTE LENGTH = 918111
1336845003767: Our new height x width: 306 x 408
1336845003767: Show photo from handle my camera take
1336845003768: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336845003768: change local requestCounter to 31
1336845003782: BYTE SIZE AFTER COMPRESSION: 2706
1336845003787: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5022031 Client in region: 1 Client nodID: 5022
1336845003463: Received UDP payload: 3516
1336845003465: mux: Inside mux Packet.CLIENT_REQUEST
1336845003540: Received UDP payload: 3401
1336845003542: mux: Inside mux Packet.CLIENT_REQUEST
1336845003542: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845003542: inside handleClientRequest. Originator leader of region 1
1336845003542: got new request, requestCounter = 5002029
1336845003542: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845003543: Sending PROC_REQUEST 10:8 (1,0)->(1,0)
1336845003543: Dispatching Atom PROC_REQUEST 10:8 (1,0)->(1,0)
1336845003543: mux: I got a CSM packet at a leader 

1336845003814: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845003815: I'm a leader and I successfully saved my client's new photo
1336845003815: now showing in UI the new photo I just saved ... 
1336845003816: the photo length: 2737
1336845003855: end of server show photo aside %%%%%%%%%
1336845003543: Note down new request by adding requestCounter=5002029 to HashMap processedRequests
1336845003543: Make FirstLeg Ack regardless of new or already-processed requests
1336845003543: The leader sending a First Leg ack to originator client (which id = 5002)
1336845003543: inside sendPacket(Packet p)
1336845003544: Sending UDP payload: 3765
1336845003546: removed replies before id 8 from sentReplies of size 0
1336845003546: inside handleDSMRequest. At requests's remote leader of region 1
1336845003547: Inside UPLOAD_PHOTO!!
1336845003550: my_gpinfo.isSuccess is now (should be true): true
1336845003551: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845003552: Received PROC_REQUEST 10:8 (1,0)->(1,0), replying PROC_REPLY 10:8 (1,0)->(1,0)
1336845003552: Dispatching Atom PROC_REPLY 10:8 (1,0)->(1,0)
1336845003554: mux: I got a CSM packet at a leader 

1336845003553: Sending UDP payload: 446
1336845003555: Sending UDP payload: 1006
1336845003556: Received PROC_REPLY 10:8 (1,0)->(1,0), handing to UserApp
1336845003556: inside handleDSMReply. Now back in originator leader of region 1
1336845003557: DSM layer: Going to and from remote region took latency = 14
1336845003557: DSM layer: orig leader sent packet at 1336845003542 ~ received reply from remote leader at 1336845003556
1336845003557: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845003557: leader client reply has replyCounter: 500202900
1336845003557: reply packet contains the success info for UPLOAD_PHOTO
1336845003558: inside sendReplies of replyCount = 500202900
1336845003558: =======================
1336845003558: inside sendReplyRepeatingRunnable for replyCount = 500202900
1336845003558: Leader about to send REPLY packet, number: 500202900 type: 16 Leader in region: (1,0) to Client nodID: 5002
1336845003558: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845003558: inside sendPacket(Packet p)
1336845003558: === Finished one round of sending REPLY Packet =======
1336845003559: Sending UDP payload: 659
1336845003664: Received UDP payload: 446
1336845003668: mux: Inside mux Packet.CLIENT_REQUEST
1336845003668: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845003668: inside handleClientRequest. Originator leader of region 1
1336845003668: got new request, requestCounter = 5002030
1336845003668: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500202900
1336845003668: Yay the last leg succeeded. Removing reply runnables ...
1336845003669: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500202900
1336845003669: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500202900
1336845003669: do not send ack for received final_leg_ack
1336845003674: Received UDP payload: 3880
1336845003678: mux: GOT CSM_Msg
1336845003678: forwarding disabled, not forwarding packets
1336845003681: Received UDP payload: 446
1336845003682: mux: Inside Packet.SERVER_REPLY
1336845003683: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845003712: Received UDP payload: 1006
1336845003714: mux: GOT CSM_Msg
1336845003715: forwarding disabled, not forwarding packets
1336845003720: Received UDP payload: 659
1336845003722: mux: Inside Packet.SERVER_REPLY
1336845003722: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845003863: ----------------------------
1336845003863: inside sendRequestPacketRepeatingRunnable for requestCount = 5022031
1336845003864: I'm a leader, my requesting photos packet going to mux directly
1336845003874: --- Finished one round of sending REQUEST Packet ---------
1336845003864: mux: Inside mux Packet.CLIENT_REQUEST
1336845003864: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845003926: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845003864: inside handleClientRequest. Originator leader of region 1
1336845003864: got new request, requestCounter = 5022031
1336845003865: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845003865: Sending PROC_REQUEST 10:9 (1,0)->(1,0)
1336845003865: Dispatching Atom PROC_REQUEST 10:9 (1,0)->(1,0)
1336845003866: mux: I got a CSM packet at a leader 

1336845003929: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845003932: I'm a leader and I successfully saved my client's new photo
1336845003933: now showing in UI the new photo I just saved ... 
1336845003933: the photo length: 2706
1336845003971: end of server show photo aside %%%%%%%%%
1336845003866: Note down new request by adding requestCounter=5022031 to HashMap processedRequests
1336845003866: Make FirstLeg Ack regardless of new or already-processed requests
1336845003866: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845003892: Sending UDP payload: 3734
1336845003893: removed replies before id 9 from sentReplies of size 0
1336845003893: inside handleDSMRequest. At requests's remote leader of region 1
1336845003895: Inside UPLOAD_PHOTO!!
1336845003897: my_gpinfo.isSuccess is now (should be true): true
1336845003897: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845003898: Received PROC_REQUEST 10:9 (1,0)->(1,0), replying PROC_REPLY 10:9 (1,0)->(1,0)
1336845003899: Dispatching Atom PROC_REPLY 10:9 (1,0)->(1,0)
1336845003899: mux: I got a CSM packet at a leader 

1336845003973: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336845003973: disabling progressdialog due to successful new photo upload
1336845003974: Inside _enableButtons
1336845003974: areButtonsEnabled --> true
1336845003974: send final leg ack regardless of new or already-processed reply
1336845003974: inside finalLegAck: change requestCounter to 32
1336845003975: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022032 Client in region: (1,0) Client nodID: 5022
1336845003975: I'm a leader client, my final_leg packet going to mux directly
1336845003976: new client_upload_photo_ack reply with replyCounter 502203100
1336845003977: note down new reply by adding replyCounter=502203100 to HashMap processedReplies
1336845003977: leader upload new photo latency = 109
1336845003977: = leader upload start 1336845003864 ~ stop 1336845003973
1336845003979: one more takeGoodSave: 3
1336845003980: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=12 getBad=1 getTimedout=0 getPercent=92%
1336845003980: adding take latency: 109
1336845003981: SUCCESS Client now knows saving photo on its leader succeeded
1336845003900: Sending UDP payload: 1006
1336845003901: Received PROC_REPLY 10:9 (1,0)->(1,0), handing to UserApp
1336845003901: inside handleDSMReply. Now back in originator leader of region 1
1336845003902: DSM layer: Going to and from remote region took latency = 36
1336845003902: DSM layer: orig leader sent packet at 1336845003865 ~ received reply from remote leader at 1336845003901
1336845003903: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845003903: leader client reply has replyCounter: 502203100
1336845003903: reply packet contains the success info for UPLOAD_PHOTO
1336845003903: inside sendReplies of replyCount = 502203100
1336845003903: =======================
1336845003903: inside sendReplyRepeatingRunnable for replyCount = 502203100
1336845003904: Leader about to send REPLY packet, number: 502203100 type: 16 Leader in region: (1,0) to Client nodID: 5022
1336845003904: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845003904: === Finished one round of sending REPLY Packet =======
1336845003916: Received UDP payload: 659
1336845003919: mux: Inside Packet.SERVER_REPLY
1336845003919: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845003963: Received UDP payload: 446
1336845003966: mux: Inside mux Packet.CLIENT_REQUEST
1336845003975: mux: Inside mux Packet.CLIENT_REQUEST
1336845003975: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845003975: inside handleClientRequest. Originator leader of region 1
1336845003975: got new request, requestCounter = 5022032
1336845003975: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502203100
1336845003976: Yay the last leg succeeded. Removing reply runnables ...
1336845003976: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502203100
1336845003976: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502203100
1336845003976: do not send ack for received final_leg_ack
1336845004696: Received UDP payload: 3814
1336845004702: mux: GOT CSM_Msg
1336845004702: forwarding disabled, not forwarding packets
1336845004705: Received UDP payload: 1006
1336845004709: mux: GOT CSM_Msg
1336845004709: forwarding disabled, not forwarding packets
1336845004772: Received UDP payload: 446
1336845004820: Received UDP payload: 446
1336845007085: Received UDP payload: 446
1336845007098: Received UDP payload: 446
1336845007746: inside sendPacket(Packet p)
1336845007784: Sending UDP payload: 446
1336845008759: Received UDP payload: 446
1336845009775: Received UDP payload: 446
1336845009854: Received UDP payload: 446
1336845010299: Received UDP payload: 3734
1336845010307: mux: GOT CSM_Msg
1336845010307: forwarding disabled, not forwarding packets
1336845010316: Received UDP payload: 1006
1336845010341: mux: GOT CSM_Msg
1336845010341: forwarding disabled, not forwarding packets
1336845011989: Received UDP payload: 446
1336845012061: Received UDP payload: 446
1336845012747: inside sendPacket(Packet p)
1336845012763: Sending UDP payload: 446
1336845012991: Received UDP payload: 3826
1336845013003: mux: GOT CSM_Msg
1336845013003: forwarding disabled, not forwarding packets
1336845013004: Received UDP payload: 1006
1336845013023: mux: GOT CSM_Msg
1336845013023: forwarding disabled, not forwarding packets
1336845013758: Received UDP payload: 446
1336845014783: Received UDP payload: 446
1336845014821: Received UDP payload: 446
1336845016042: Received UDP payload: 3370
1336845016046: mux: Inside mux Packet.CLIENT_REQUEST
1336845016103: Received UDP payload: 3734
1336845016110: mux: GOT CSM_Msg
1336845016111: forwarding disabled, not forwarding packets
1336845016113: Received UDP payload: 446
1336845016132: mux: Inside Packet.SERVER_REPLY
1336845016132: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845016133: Received UDP payload: 1006
1336845016151: mux: GOT CSM_Msg
1336845016151: forwarding disabled, not forwarding packets
1336845016187: Received UDP payload: 659
1336845016188: mux: Inside Packet.SERVER_REPLY
1336845016188: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845016204: Received UDP payload: 446
1336845016205: mux: Inside mux Packet.CLIENT_REQUEST
1336845016958: Received UDP payload: 3734
1336845016968: mux: GOT CSM_Msg
1336845016968: forwarding disabled, not forwarding packets
1336845016969: Received UDP payload: 1006
1336845016977: mux: GOT CSM_Msg
1336845016978: forwarding disabled, not forwarding packets
1336845016991: Received UDP payload: 446
1336845017766: inside sendPacket(Packet p)
1336845017769: Sending UDP payload: 446
1336845018759: Received UDP payload: 446
1336845019119: Received UDP payload: 446
1336845019615: Received UDP payload: 3804
1336845019623: mux: GOT CSM_Msg
1336845019624: forwarding disabled, not forwarding packets
1336845019628: Received UDP payload: 1006
1336845019641: mux: GOT CSM_Msg
1336845019642: forwarding disabled, not forwarding packets
1336845019777: Received UDP payload: 446
1336845019826: Received UDP payload: 446
1336845020400: Received UDP payload: 3448
1336845020405: mux: Inside mux Packet.CLIENT_REQUEST
1336845020456: Received UDP payload: 3812
1336845020458: mux: GOT CSM_Msg
1336845020458: forwarding disabled, not forwarding packets
1336845020464: Received UDP payload: 446
1336845020465: mux: Inside Packet.SERVER_REPLY
1336845020465: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845020488: Received UDP payload: 1006
1336845020490: mux: GOT CSM_Msg
1336845020490: forwarding disabled, not forwarding packets
1336845020499: Received UDP payload: 659
1336845020500: mux: Inside Packet.SERVER_REPLY
1336845020500: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845020518: Received UDP payload: 446
1336845020519: mux: Inside mux Packet.CLIENT_REQUEST
1336845021979: Received UDP payload: 446
1336845022778: inside sendPacket(Packet p)
1336845022793: Sending UDP payload: 446
1336845023759: Received UDP payload: 446
1336845024120: Received UDP payload: 446
1336845024779: Received UDP payload: 446
1336845024821: Received UDP payload: 446
1336845027004: Received UDP payload: 446
1336845027795: inside sendPacket(Packet p)
1336845027798: Sending UDP payload: 446
1336845028762: Received UDP payload: 446
1336845029124: Received UDP payload: 446
1336845029781: Received UDP payload: 446
1336845029821: Received UDP payload: 446
1336845032011: Received UDP payload: 446
1336845032795: inside sendPacket(Packet p)
1336845032803: Sending UDP payload: 446
1336845033775: Received UDP payload: 446
1336845034122: Received UDP payload: 446
1336845034785: Received UDP payload: 446
1336845036905: Received UDP payload: 446
1336845037025: Received UDP payload: 446
1336845037804: inside sendPacket(Packet p)
1336845037807: Sending UDP payload: 446
1336845038776: Received UDP payload: 446
1336845039163: Received UDP payload: 446
1336845039782: Received UDP payload: 446
1336845041925: Received UDP payload: 446
1336845042028: Received UDP payload: 446
1336845042807: inside sendPacket(Packet p)
1336845042820: Sending UDP payload: 446
1336845043779: Received UDP payload: 446
1336845044132: Received UDP payload: 446
1336845044783: Received UDP payload: 446
1336845046915: Received UDP payload: 446
1336845047035: Received UDP payload: 446
1336845047823: inside sendPacket(Packet p)
1336845047836: Sending UDP payload: 446
1336845048777: Received UDP payload: 446
1336845049126: Received UDP payload: 446
1336845049783: Received UDP payload: 446
1336845051911: Received UDP payload: 446
1336845052050: Received UDP payload: 446
1336845052838: inside sendPacket(Packet p)
1336845052840: Sending UDP payload: 446
1336845053779: Received UDP payload: 446
1336845054134: Received UDP payload: 446
1336845054785: Received UDP payload: 446
1336845056984: Received UDP payload: 446
1336845057087: Received UDP payload: 446
1336845057839: inside sendPacket(Packet p)
1336845057842: Sending UDP payload: 446
1336845058554: Received UDP payload: 642
1336845058558: mux: Inside mux Packet.CLIENT_REQUEST
1336845058638: Received UDP payload: 1006
1336845058646: mux: GOT CSM_Msg
1336845058646: forwarding disabled, not forwarding packets
1336845058654: Received UDP payload: 446
1336845058668: mux: Inside Packet.SERVER_REPLY
1336845058669: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845058698: Received UDP payload: 3814
1336845058700: mux: GOT CSM_Msg
1336845058700: forwarding disabled, not forwarding packets
1336845058734: Received UDP payload: 3467
1336845058735: mux: Inside Packet.SERVER_REPLY
1336845058735: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845058753: Received UDP payload: 446
1336845058754: mux: Inside mux Packet.CLIENT_REQUEST
1336845059100: canPressButton = TRUE
1336845059101: areButtonsEnabled --> false 
1336845059101: get picture disableButtonsR
1336845059101: areButtonsEnabled --> false
1336845059146: one more getNum: 14
1336845059146: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=12 getBad=1 getTimedout=0 getPercent=85%
1336845059147: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336845059147: change local requestCounter to 33
1336845059148: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022033 Client in region: 1 Client nodID: 5022
1336845059129: Received UDP payload: 446
1336845059199: ----------------------------
1336845059199: inside sendRequestPacketRepeatingRunnable for requestCount = 5022033
1336845059199: I'm a leader, my requesting photos packet going to mux directly
1336845059208: --- Finished one round of sending REQUEST Packet ---------
1336845059200: mux: Inside mux Packet.CLIENT_REQUEST
1336845059200: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845059252: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845059200: inside handleClientRequest. Originator leader of region 1
1336845059200: got new request, requestCounter = 5022033
1336845059200: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845059202: Sending to region: 0
1336845059204: Sending PROC_REQUEST 11:4 (1,0)->(0,0)
1336845059204: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(0,0)
1336845059205: mux: I got a CSM packet at a leader 

1336845059204: Note down new request by adding requestCounter=5022033 to HashMap processedRequests
1336845059204: Make FirstLeg Ack regardless of new or already-processed requests
1336845059204: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845059207: Sending UDP payload: 1006
1336845059217: forwarding disabled, not forwarding packets
1336845059317: Received UDP payload: 3814
1336845059321: mux: GOT CSM_Msg
1336845059334: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845059335: disabling progressdialog due to successful new photo get
1336845059335: Inside _enableButtons
1336845059336: areButtonsEnabled --> true
1336845059336: send final leg ack regardless of new or already-processed reply
1336845059336: inside finalLegAck: change requestCounter to 34
1336845059337: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022034 Client in region: (1,0) Client nodID: 5022
1336845059337: I'm a leader client, my final_leg packet going to mux directly
1336845059343: new client_show_remotephoto reply with replyCounter 502203300
1336845059343: note down new reply by adding replyCounter=502203300 to HashMap processedReplies
1336845059343: leader download remote photo latency = 134
1336845059344: = leader download start 1336845059200 ~ stop 1336845059334
1336845059349: one more getGood: 13
1336845059350: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=13 getBad=1 getTimedout=0 getPercent=92%
1336845059350: adding get latency: 134
1336845059351: Success! Client getting photo from remote region, showing photo...
1336845059351: Remote photo's length: 2786
1336845059321: Received PROC_REPLY 11:4 (0,0)->(1,0), handing to UserApp
1336845059322: inside handleDSMReply. Now back in originator leader of region 1
1336845059322: DSM layer: Going to and from remote region took latency = 119
1336845059322: DSM layer: orig leader sent packet at 1336845059203 ~ received reply from remote leader at 1336845059322
1336845059330: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845059331: leader client reply has replyCounter: 502203300
1336845059331: reply packet contains the newest photo/success info from the remote region
1336845059331: inside sendReplies of replyCount = 502203300
1336845059331: =======================
1336845059331: inside sendReplyRepeatingRunnable for replyCount = 502203300
1336845059332: Leader about to send REPLY packet, number: 502203300 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845059332: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845059332: === Finished one round of sending REPLY Packet =======
1336845059337: mux: Inside mux Packet.CLIENT_REQUEST
1336845059338: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845059338: inside handleClientRequest. Originator leader of region 1
1336845059338: got new request, requestCounter = 5022034
1336845059338: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502203300
1336845059338: Yay the last leg succeeded. Removing reply runnables ...
1336845059338: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502203300
1336845059342: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502203300
1336845059342: do not send ack for received final_leg_ack
1336845059784: Received UDP payload: 446
1336845059977: Received UDP payload: 1006
1336845059985: mux: GOT CSM_Msg
1336845059986: forwarding disabled, not forwarding packets
1336845060043: Received UDP payload: 3814
1336845060050: mux: GOT CSM_Msg
1336845060051: forwarding disabled, not forwarding packets
1336845060273: Received UDP payload: 642
1336845060274: mux: Inside mux Packet.CLIENT_REQUEST
1336845060274: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845060274: inside handleClientRequest. Originator leader of region 1
1336845060275: got new request, requestCounter = 5002031
1336845060275: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845060275: Sending to region: 0
1336845060276: Sending PROC_REQUEST 11:5 (1,0)->(0,0)
1336845060276: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(0,0)
1336845060277: mux: I got a CSM packet at a leader 

1336845060276: Note down new request by adding requestCounter=5002031 to HashMap processedRequests
1336845060276: Make FirstLeg Ack regardless of new or already-processed requests
1336845060276: The leader sending a First Leg ack to originator client (which id = 5002)
1336845060276: inside sendPacket(Packet p)
1336845060278: Sending UDP payload: 1006
1336845060280: forwarding disabled, not forwarding packets
1336845060281: Sending UDP payload: 446
1336845060372: Received UDP payload: 3814
1336845060377: mux: GOT CSM_Msg
1336845060378: Received PROC_REPLY 11:5 (0,0)->(1,0), handing to UserApp
1336845060378: inside handleDSMReply. Now back in originator leader of region 1
1336845060378: DSM layer: Going to and from remote region took latency = 103
1336845060379: DSM layer: orig leader sent packet at 1336845060275 ~ received reply from remote leader at 1336845060378
1336845060381: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845060382: leader client reply has replyCounter: 500203100
1336845060382: reply packet contains the newest photo/success info from the remote region
1336845060382: inside sendReplies of replyCount = 500203100
1336845060383: =======================
1336845060384: inside sendReplyRepeatingRunnable for replyCount = 500203100
1336845060384: Leader about to send REPLY packet, number: 500203100 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845060384: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845060384: inside sendPacket(Packet p)
1336845060385: === Finished one round of sending REPLY Packet =======
1336845060395: Sending UDP payload: 3467
1336845060476: Received UDP payload: 446
1336845060479: mux: Inside mux Packet.CLIENT_REQUEST
1336845060479: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845060481: inside handleClientRequest. Originator leader of region 1
1336845060481: got new request, requestCounter = 5002032
1336845060481: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500203100
1336845060482: Yay the last leg succeeded. Removing reply runnables ...
1336845060482: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500203100
1336845060483: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500203100
1336845060483: do not send ack for received final_leg_ack
1336845061929: Received UDP payload: 446
1336845062062: Received UDP payload: 446
1336845062841: inside sendPacket(Packet p)
1336845062842: Sending UDP payload: 446
1336845063779: Received UDP payload: 446
1336845064163: Received UDP payload: 446
1336845064794: Received UDP payload: 446
1336845065081: Received UDP payload: 1006
1336845065083: mux: GOT CSM_Msg
1336845065083: forwarding disabled, not forwarding packets
1336845065169: Received UDP payload: 3814
1336845065172: mux: GOT CSM_Msg
1336845065172: forwarding disabled, not forwarding packets
1336845066936: Received UDP payload: 446
1336845067083: Received UDP payload: 446
1336845067841: inside sendPacket(Packet p)
1336845067853: Sending UDP payload: 446
1336845068871: Received UDP payload: 446
1336845069136: Received UDP payload: 446
1336845069334: Received UDP payload: 1006
1336845069342: mux: GOT CSM_Msg
1336845069342: forwarding disabled, not forwarding packets
1336845069412: Received UDP payload: 3814
1336845069414: mux: GOT CSM_Msg
1336845069414: forwarding disabled, not forwarding packets
1336845069807: Received UDP payload: 446
1336845070743: Received UDP payload: 642
1336845070748: mux: Inside mux Packet.CLIENT_REQUEST
1336845070811: Received UDP payload: 1006
1336845070819: mux: GOT CSM_Msg
1336845070819: forwarding disabled, not forwarding packets
1336845070820: Received UDP payload: 446
1336845070828: mux: Inside Packet.SERVER_REPLY
1336845070828: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845070897: Received UDP payload: 3814
1336845070900: mux: GOT CSM_Msg
1336845070900: forwarding disabled, not forwarding packets
1336845070945: Received UDP payload: 3467
1336845070947: mux: Inside Packet.SERVER_REPLY
1336845070947: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845070960: Received UDP payload: 446
1336845070962: mux: Inside mux Packet.CLIENT_REQUEST
1336845071504: Received UDP payload: 1006
1336845071511: mux: GOT CSM_Msg
1336845071512: forwarding disabled, not forwarding packets
1336845071603: Received UDP payload: 3814
1336845071605: mux: GOT CSM_Msg
1336845071605: forwarding disabled, not forwarding packets
1336845071938: Received UDP payload: 446
1336845072085: Received UDP payload: 446
1336845072856: inside sendPacket(Packet p)
1336845072866: Sending UDP payload: 446
1336845073804: Received UDP payload: 446
1336845074798: Received UDP payload: 446
1336845076954: Received UDP payload: 446
1336845077104: Received UDP payload: 446
1336845077234: Received UDP payload: 1006
1336845077243: mux: GOT CSM_Msg
1336845077244: forwarding disabled, not forwarding packets
1336845077328: Received UDP payload: 3814
1336845077335: mux: GOT CSM_Msg
1336845077335: forwarding disabled, not forwarding packets
1336845077869: inside sendPacket(Packet p)
1336845077872: Sending UDP payload: 446
1336845078484: Received UDP payload: 642
1336845078488: mux: Inside mux Packet.CLIENT_REQUEST
1336845078562: Received UDP payload: 1006
1336845078569: mux: GOT CSM_Msg
1336845078569: forwarding disabled, not forwarding packets
1336845078581: Received UDP payload: 446
1336845078596: mux: Inside Packet.SERVER_REPLY
1336845078597: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845078637: Received UDP payload: 3814
1336845078639: mux: GOT CSM_Msg
1336845078639: forwarding disabled, not forwarding packets
1336845078688: Received UDP payload: 3467
1336845078689: mux: Inside Packet.SERVER_REPLY
1336845078690: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845078699: Received UDP payload: 446
1336845078700: mux: Inside mux Packet.CLIENT_REQUEST
1336845078804: Received UDP payload: 446
1336845079141: Received UDP payload: 446
1336845079797: Received UDP payload: 446
1336845081955: Received UDP payload: 446
1336845082115: Received UDP payload: 446
1336845082870: inside sendPacket(Packet p)
1336845082873: Sending UDP payload: 446
1336845083808: Received UDP payload: 446
1336845084141: Received UDP payload: 446
1336845084798: Received UDP payload: 446
1336845086977: Received UDP payload: 446
1336845087176: Received UDP payload: 446
1336845087871: inside sendPacket(Packet p)
1336845087873: Sending UDP payload: 446
1336845088807: Received UDP payload: 446
1336845089144: Received UDP payload: 446
1336845089930: Received UDP payload: 446
1336845091983: Received UDP payload: 446
1336845092142: Received UDP payload: 446
1336845092669: leader to cloud hearbeat...
1336845093820: Received UDP payload: 446
1336845094159: Received UDP payload: 446
1336845094795: inside sendPacket(Packet p)
1336845094812: Sending UDP payload: 446
1336845096916: Received UDP payload: 446
1336845096978: Received UDP payload: 446
1336845097167: Received UDP payload: 446
1336845097493: Received UDP payload: 642
1336845097495: mux: Inside mux Packet.CLIENT_REQUEST
1336845097495: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845097496: inside handleClientRequest. Originator leader of region 1
1336845097496: got new request, requestCounter = 5002033
1336845097496: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845097497: Sending to region: 1
1336845097497: Sending PROC_REQUEST 11:10 (1,0)->(1,0)
1336845097497: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(1,0)
1336845097498: mux: I got a CSM packet at a leader 

1336845097498: Note down new request by adding requestCounter=5002033 to HashMap processedRequests
1336845097498: Make FirstLeg Ack regardless of new or already-processed requests
1336845097498: The leader sending a First Leg ack to originator client (which id = 5002)
1336845097498: inside sendPacket(Packet p)
1336845097499: Sending UDP payload: 1006
1336845097509: removed replies before id 10 from sentReplies of size 0
1336845097509: inside handleDSMRequest. At requests's remote leader of region 1
1336845097510: INSIDE SERVER_GET_PHOTO!!!
1336845097513: dst_region == src_region = 1
1336845097513:  1 self to self atomRequest
1336845097514: Received PROC_REQUEST 11:10 (1,0)->(1,0), replying PROC_REPLY 11:10 (1,0)->(1,0)
1336845097514: Dispatching Atom PROC_REPLY 11:10 (1,0)->(1,0)
1336845097538: mux: I got a CSM packet at a leader 

1336845097537: Sending UDP payload: 446
1336845097539: Sending UDP payload: 3734
1336845097541: Received PROC_REPLY 11:10 (1,0)->(1,0), handing to UserApp
1336845097541: inside handleDSMReply. Now back in originator leader of region 1
1336845097541: DSM layer: Going to and from remote region took latency = 44
1336845097541: DSM layer: orig leader sent packet at 1336845097497 ~ received reply from remote leader at 1336845097541
1336845097542: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845097542: leader client reply has replyCounter: 500203300
1336845097542: reply packet contains the newest photo/success info from the remote region
1336845097542: inside sendReplies of replyCount = 500203300
1336845097542: =======================
1336845097543: inside sendReplyRepeatingRunnable for replyCount = 500203300
1336845097543: Leader about to send REPLY packet, number: 500203300 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845097543: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845097543: inside sendPacket(Packet p)
1336845097543: === Finished one round of sending REPLY Packet =======
1336845097553: Sending UDP payload: 3387
1336845097671: Received UDP payload: 446
1336845097673: mux: Inside mux Packet.CLIENT_REQUEST
1336845097673: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845097673: inside handleClientRequest. Originator leader of region 1
1336845097673: got new request, requestCounter = 5002034
1336845097673: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500203300
1336845097673: Yay the last leg succeeded. Removing reply runnables ...
1336845097673: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500203300
1336845097674: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500203300
1336845097674: do not send ack for received final_leg_ack
1336845098509: canPressButton = TRUE
1336845098509: areButtonsEnabled --> false 
1336845098510: get picture disableButtonsR
1336845098510: areButtonsEnabled --> false
1336845098526: one more getNum: 15
1336845098527: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=13 getBad=1 getTimedout=0 getPercent=86%
1336845098527: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336845098527: change local requestCounter to 35
1336845098528: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022035 Client in region: 1 Client nodID: 5022
1336845098562: ----------------------------
1336845098562: inside sendRequestPacketRepeatingRunnable for requestCount = 5022035
1336845098562: I'm a leader, my requesting photos packet going to mux directly
1336845098563: --- Finished one round of sending REQUEST Packet ---------
1336845098564: mux: Inside mux Packet.CLIENT_REQUEST
1336845098564: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845098645: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845098564: inside handleClientRequest. Originator leader of region 1
1336845098564: got new request, requestCounter = 5022035
1336845098564: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845098565: Sending to region: 1
1336845098566: Sending PROC_REQUEST 11:11 (1,0)->(1,0)
1336845098566: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(1,0)
1336845098567: mux: I got a CSM packet at a leader 

1336845098566: Note down new request by adding requestCounter=5022035 to HashMap processedRequests
1336845098566: Make FirstLeg Ack regardless of new or already-processed requests
1336845098566: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845098580: Sending UDP payload: 1006
1336845098581: removed replies before id 11 from sentReplies of size 0
1336845098581: inside handleDSMRequest. At requests's remote leader of region 1
1336845098582: INSIDE SERVER_GET_PHOTO!!!
1336845098583: dst_region == src_region = 1
1336845098583:  1 self to self atomRequest
1336845098607: Received PROC_REQUEST 11:11 (1,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(1,0)
1336845098607: Dispatching Atom PROC_REPLY 11:11 (1,0)->(1,0)
1336845098609: mux: I got a CSM packet at a leader 

1336845098649: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845098649: disabling progressdialog due to successful new photo get
1336845098650: Inside _enableButtons
1336845098650: areButtonsEnabled --> true
1336845098650: send final leg ack regardless of new or already-processed reply
1336845098651: inside finalLegAck: change requestCounter to 36
1336845098653: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022036 Client in region: (1,0) Client nodID: 5022
1336845098653: I'm a leader client, my final_leg packet going to mux directly
1336845098656: new client_show_remotephoto reply with replyCounter 502203500
1336845098656: note down new reply by adding replyCounter=502203500 to HashMap processedReplies
1336845098656: leader download remote photo latency = 86
1336845098656: = leader download start 1336845098563 ~ stop 1336845098649
1336845098657: one more getGood: 14
1336845098658: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=14 getBad=1 getTimedout=0 getPercent=93%
1336845098658: adding get latency: 86
1336845098659: Success! Client getting photo from remote region, showing photo...
1336845098659: Remote photo's length: 2706
1336845098610: Sending UDP payload: 3734
1336845098612: Received PROC_REPLY 11:11 (1,0)->(1,0), handing to UserApp
1336845098612: inside handleDSMReply. Now back in originator leader of region 1
1336845098612: DSM layer: Going to and from remote region took latency = 47
1336845098612: DSM layer: orig leader sent packet at 1336845098565 ~ received reply from remote leader at 1336845098612
1336845098613: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845098613: leader client reply has replyCounter: 502203500
1336845098614: reply packet contains the newest photo/success info from the remote region
1336845098614: inside sendReplies of replyCount = 502203500
1336845098614: =======================
1336845098614: inside sendReplyRepeatingRunnable for replyCount = 502203500
1336845098614: Leader about to send REPLY packet, number: 502203500 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845098614: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845098614: === Finished one round of sending REPLY Packet =======
1336845098654: mux: Inside mux Packet.CLIENT_REQUEST
1336845098654: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845098655: inside handleClientRequest. Originator leader of region 1
1336845098655: got new request, requestCounter = 5022036
1336845098655: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502203500
1336845098655: Yay the last leg succeeded. Removing reply runnables ...
1336845098655: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502203500
1336845098655: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502203500
1336845098655: do not send ack for received final_leg_ack
1336845098771: Received UDP payload: 642
1336845098790: mux: Inside mux Packet.CLIENT_REQUEST
1336845098790: Received UDP payload: 1006
1336845098799: mux: GOT CSM_Msg
1336845098800: removed replies before id 4 from sentReplies of size 0
1336845098800: inside handleDSMRequest. At requests's remote leader of region 1
1336845098802: INSIDE SERVER_GET_PHOTO!!!
1336845098810: Received UDP payload: 446
1336845098812: mux: Inside Packet.SERVER_REPLY
1336845098812: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845098811: Received PROC_REQUEST 11:4 (0,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(0,0)
1336845098812: Dispatching Atom PROC_REPLY 11:4 (1,0)->(0,0)
1336845098812: mux: I got a CSM packet at a leader 

1336845098823: Sending UDP payload: 3734
1336845098827: forwarding disabled, not forwarding packets
1336845098927: Received UDP payload: 3387
1336845098929: mux: Inside Packet.SERVER_REPLY
1336845098929: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845098941: Received UDP payload: 446
1336845098960: Received UDP payload: 446
1336845098962: mux: Inside mux Packet.CLIENT_REQUEST
1336845099156: Received UDP payload: 446
1336845099815: inside sendPacket(Packet p)
1336845099817: Sending UDP payload: 446
1336845100396: Received UDP payload: 1006
1336845100404: mux: GOT CSM_Msg
1336845100404: removed replies before id 5 from sentReplies of size 0
1336845100405: inside handleDSMRequest. At requests's remote leader of region 1
1336845100406: INSIDE SERVER_GET_PHOTO!!!
1336845100422: Received PROC_REQUEST 11:5 (0,0)->(1,0), replying PROC_REPLY 11:5 (1,0)->(0,0)
1336845100423: Dispatching Atom PROC_REPLY 11:5 (1,0)->(0,0)
1336845100424: mux: I got a CSM packet at a leader 

1336845100428: Sending UDP payload: 3734
1336845100431: forwarding disabled, not forwarding packets
1336845101913: Received UDP payload: 446
1336845101985: Received UDP payload: 446
1336845102165: Received UDP payload: 446
1336845103826: Received UDP payload: 446
1336845104165: Received UDP payload: 446
1336845104816: inside sendPacket(Packet p)
1336845104817: Sending UDP payload: 446
1336845106506: Received UDP payload: 1006
1336845106515: mux: GOT CSM_Msg
1336845106516: removed replies before id 3 from sentReplies of size 0
1336845106516: inside handleDSMRequest. At requests's remote leader of region 1
1336845106518: INSIDE SERVER_GET_PHOTO!!!
1336845106534: Received PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1336845106535: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1336845106536: mux: I got a CSM packet at a leader 

1336845106540: Sending UDP payload: 3734
1336845106555: forwarding disabled, not forwarding packets
1336845107008: Received UDP payload: 446
1336845107016: Received UDP payload: 446
1336845107167: Received UDP payload: 446
1336845108827: Received UDP payload: 446
1336845109155: Received UDP payload: 446
1336845109299: Received UDP payload: 1006
1336845109307: mux: GOT CSM_Msg
1336845109308: removed replies before id 2 from sentReplies of size 0
1336845109308: inside handleDSMRequest. At requests's remote leader of region 1
1336845109310: INSIDE SERVER_GET_PHOTO!!!
1336845109328: Received PROC_REQUEST 11:2 (2,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1336845109329: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1336845109329: mux: I got a CSM packet at a leader 

1336845109343: Sending UDP payload: 3734
1336845109346: forwarding disabled, not forwarding packets
1336845109816: inside sendPacket(Packet p)
1336845109819: Sending UDP payload: 446
1336845111996: Received UDP payload: 446
1336845112011: Received UDP payload: 446
1336845112288: Received UDP payload: 642
1336845112294: mux: Inside mux Packet.CLIENT_REQUEST
1336845112349: Received UDP payload: 1006
1336845112357: mux: GOT CSM_Msg
1336845112358: removed replies before id 4 from sentReplies of size 0
1336845112358: inside handleDSMRequest. At requests's remote leader of region 1
1336845112361: INSIDE SERVER_GET_PHOTO!!!
1336845112365: Received PROC_REQUEST 11:4 (5,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(5,0)
1336845112366: Dispatching Atom PROC_REPLY 11:4 (1,0)->(5,0)
1336845112367: mux: I got a CSM packet at a leader 

1336845112374: Received UDP payload: 446
1336845112391: Sending UDP payload: 3734
1336845112397: mux: Inside Packet.SERVER_REPLY
1336845112397: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845112396: forwarding disabled, not forwarding packets
1336845112480: Received UDP payload: 3387
1336845112482: mux: Inside Packet.SERVER_REPLY
1336845112482: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845112493: Received UDP payload: 446
1336845112494: mux: Inside mux Packet.CLIENT_REQUEST
1336845113322: Received UDP payload: 1006
1336845113332: mux: GOT CSM_Msg
1336845113333: removed replies before id 5 from sentReplies of size 0
1336845113333: inside handleDSMRequest. At requests's remote leader of region 1
1336845113335: INSIDE SERVER_GET_PHOTO!!!
1336845113349: Received PROC_REQUEST 11:5 (5,0)->(1,0), replying PROC_REPLY 11:5 (1,0)->(5,0)
1336845113351: Dispatching Atom PROC_REPLY 11:5 (1,0)->(5,0)
1336845113352: mux: I got a CSM packet at a leader 

1336845113363: Sending UDP payload: 3734
1336845113372: forwarding disabled, not forwarding packets
1336845113825: Received UDP payload: 446
1336845114147: Received UDP payload: 446
1336845114323: Received UDP payload: 446
1336845114818: inside sendPacket(Packet p)
1336845114843: Sending UDP payload: 446
1336845116385: Received UDP payload: 1006
1336845116393: mux: GOT CSM_Msg
1336845116394: removed replies before id 4 from sentReplies of size 0
1336845116394: inside handleDSMRequest. At requests's remote leader of region 1
1336845116396: INSIDE SERVER_GET_PHOTO!!!
1336845116414: Received PROC_REQUEST 11:4 (4,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(4,0)
1336845116415: Dispatching Atom PROC_REPLY 11:4 (1,0)->(4,0)
1336845116416: mux: I got a CSM packet at a leader 

1336845116419: Sending UDP payload: 3734
1336845116427: forwarding disabled, not forwarding packets
1336845116913: Received UDP payload: 446
1336845117006: Received UDP payload: 446
1336845117461: Received UDP payload: 642
1336845117467: mux: Inside mux Packet.CLIENT_REQUEST
1336845117491: Received UDP payload: 1006
1336845117500: mux: GOT CSM_Msg
1336845117501: removed replies before id 5 from sentReplies of size 0
1336845117501: inside handleDSMRequest. At requests's remote leader of region 1
1336845117503: INSIDE SERVER_GET_PHOTO!!!
1336845117508: Received PROC_REQUEST 11:5 (4,0)->(1,0), replying PROC_REPLY 11:5 (1,0)->(4,0)
1336845117509: Dispatching Atom PROC_REPLY 11:5 (1,0)->(4,0)
1336845117530: mux: I got a CSM packet at a leader 

1336845117518: Received UDP payload: 446
1336845117531: Sending UDP payload: 3734
1336845117533: mux: Inside Packet.SERVER_REPLY
1336845117534: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845117533: forwarding disabled, not forwarding packets
1336845117658: Received UDP payload: 446
1336845117660: mux: Inside mux Packet.CLIENT_REQUEST
1336845118833: Received UDP payload: 446
1336845119158: Received UDP payload: 446
1336845119845: inside sendPacket(Packet p)
1336845119863: Sending UDP payload: 446
1336845121976: Received UDP payload: 446
1336845122016: Received UDP payload: 446
1336845123847: Received UDP payload: 446
1336845124196: Received UDP payload: 446
1336845124865: inside sendPacket(Packet p)
1336845124875: Sending UDP payload: 446
1336845126916: Received UDP payload: 446
1336845127024: Received UDP payload: 446
1336845129193: Received UDP payload: 446
1336845129357: Received UDP payload: 446
1336845129877: inside sendPacket(Packet p)
1336845129880: Sending UDP payload: 446
1336845131055: Received UDP payload: 446
1336845131918: Received UDP payload: 446
1336845132039: Received UDP payload: 446
1336845134189: Received UDP payload: 446
1336845134373: Received UDP payload: 446
1336845134878: inside sendPacket(Packet p)
1336845134893: Sending UDP payload: 446
1336845135436: Received UDP payload: 642
1336845135462: mux: Inside mux Packet.CLIENT_REQUEST
1336845135502: Received UDP payload: 1006
1336845135509: mux: GOT CSM_Msg
1336845135509: forwarding disabled, not forwarding packets
1336845135517: Received UDP payload: 446
1336845135521: mux: Inside Packet.SERVER_REPLY
1336845135522: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845135554: Received UDP payload: 3826
1336845135556: mux: GOT CSM_Msg
1336845135557: forwarding disabled, not forwarding packets
1336845135686: Received UDP payload: 3479
1336845135687: mux: Inside Packet.SERVER_REPLY
1336845135688: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845135738: canPressButton = TRUE
1336845135739: areButtonsEnabled --> false 
1336845135739: get picture disableButtonsR
1336845135739: areButtonsEnabled --> false
1336845135765: one more getNum: 16
1336845135766: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=14 getBad=1 getTimedout=0 getPercent=87%
1336845135766: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336845135767: change local requestCounter to 37
1336845135771: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022037 Client in region: 1 Client nodID: 5022
1336845135741: Received UDP payload: 446
1336845135743: mux: Inside mux Packet.CLIENT_REQUEST
1336845135797: ----------------------------
1336845135798: inside sendRequestPacketRepeatingRunnable for requestCount = 5022037
1336845135798: I'm a leader, my requesting photos packet going to mux directly
1336845135804: --- Finished one round of sending REQUEST Packet ---------
1336845135798: mux: Inside mux Packet.CLIENT_REQUEST
1336845135799: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845135836: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845135799: inside handleClientRequest. Originator leader of region 1
1336845135799: got new request, requestCounter = 5022037
1336845135799: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845135800: Sending to region: 2
1336845135800: Sending PROC_REQUEST 11:4 (1,0)->(2,0)
1336845135800: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(2,0)
1336845135802: mux: I got a CSM packet at a leader 

1336845135801: Note down new request by adding requestCounter=5022037 to HashMap processedRequests
1336845135801: Make FirstLeg Ack regardless of new or already-processed requests
1336845135801: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845135803: Sending UDP payload: 1006
1336845135804: forwarding disabled, not forwarding packets
1336845136102: Received UDP payload: 446
1336845136512: Retrying PROC_REQUEST 11:4 (1,0)->(2,0)
1336845136512: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(2,0)
1336845136512: mux: I got a CSM packet at a leader 

1336845136514: Sending UDP payload: 1006
1336845136520: forwarding disabled, not forwarding packets
1336845136578: Received UDP payload: 3826
1336845136580: mux: GOT CSM_Msg
1336845136584: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845136584: disabling progressdialog due to successful new photo get
1336845136584: Inside _enableButtons
1336845136586: areButtonsEnabled --> true
1336845136587: send final leg ack regardless of new or already-processed reply
1336845136587: inside finalLegAck: change requestCounter to 38
1336845136587: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022038 Client in region: (1,0) Client nodID: 5022
1336845136587: I'm a leader client, my final_leg packet going to mux directly
1336845136589: new client_show_remotephoto reply with replyCounter 502203700
1336845136589: note down new reply by adding replyCounter=502203700 to HashMap processedReplies
1336845136590: leader download remote photo latency = 786
1336845136590: = leader download start 1336845135798 ~ stop 1336845136584
1336845136591: one more getGood: 15
1336845136592: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=15 getBad=1 getTimedout=0 getPercent=93%
1336845136592: adding get latency: 786
1336845136593: Success! Client getting photo from remote region, showing photo...
1336845136593: Remote photo's length: 2798
1336845136580: Received PROC_REPLY 11:4 (2,0)->(1,0), handing to UserApp
1336845136581: inside handleDSMReply. Now back in originator leader of region 1
1336845136581: DSM layer: Going to and from remote region took latency = 781
1336845136581: DSM layer: orig leader sent packet at 1336845135800 ~ received reply from remote leader at 1336845136581
1336845136582: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845136582: leader client reply has replyCounter: 502203700
1336845136582: reply packet contains the newest photo/success info from the remote region
1336845136582: inside sendReplies of replyCount = 502203700
1336845136582: =======================
1336845136582: inside sendReplyRepeatingRunnable for replyCount = 502203700
1336845136583: Leader about to send REPLY packet, number: 502203700 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845136583: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845136583: === Finished one round of sending REPLY Packet =======
1336845136588: mux: Inside mux Packet.CLIENT_REQUEST
1336845136588: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845136588: inside handleClientRequest. Originator leader of region 1
1336845136588: got new request, requestCounter = 5022038
1336845136588: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502203700
1336845136588: Yay the last leg succeeded. Removing reply runnables ...
1336845136588: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502203700
1336845136589: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502203700
1336845136589: do not send ack for received final_leg_ack
1336845136841: Received UDP payload: 642
1336845136843: mux: Inside mux Packet.CLIENT_REQUEST
1336845136843: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845136843: inside handleClientRequest. Originator leader of region 1
1336845136843: got new request, requestCounter = 5002035
1336845136843: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845136844: Sending to region: 2
1336845136844: Sending PROC_REQUEST 11:5 (1,0)->(2,0)
1336845136845: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(2,0)
1336845136845: mux: I got a CSM packet at a leader 

1336845136845: Note down new request by adding requestCounter=5002035 to HashMap processedRequests
1336845136845: Make FirstLeg Ack regardless of new or already-processed requests
1336845136845: The leader sending a First Leg ack to originator client (which id = 5002)
1336845136845: inside sendPacket(Packet p)
1336845136846: Sending UDP payload: 1006
1336845136847: forwarding disabled, not forwarding packets
1336845136848: Sending UDP payload: 446
1336845136927: Received UDP payload: 3826
1336845136929: mux: GOT CSM_Msg
1336845136929: Received PROC_REPLY 11:5 (2,0)->(1,0), handing to UserApp
1336845136929: inside handleDSMReply. Now back in originator leader of region 1
1336845136929: DSM layer: Going to and from remote region took latency = 85
1336845136930: DSM layer: orig leader sent packet at 1336845136844 ~ received reply from remote leader at 1336845136929
1336845136930: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845136931: leader client reply has replyCounter: 500203500
1336845136931: reply packet contains the newest photo/success info from the remote region
1336845136931: inside sendReplies of replyCount = 500203500
1336845136932: =======================
1336845136932: inside sendReplyRepeatingRunnable for replyCount = 500203500
1336845136932: Leader about to send REPLY packet, number: 500203500 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845136932: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845136932: inside sendPacket(Packet p)
1336845136932: === Finished one round of sending REPLY Packet =======
1336845136933: Sending UDP payload: 3479
1336845136934: Received UDP payload: 446
1336845136988: Received UDP payload: 446
1336845136989: mux: Inside mux Packet.CLIENT_REQUEST
1336845136989: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845136989: inside handleClientRequest. Originator leader of region 1
1336845136990: got new request, requestCounter = 5002036
1336845136990: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500203500
1336845136990: Yay the last leg succeeded. Removing reply runnables ...
1336845136990: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500203500
1336845136990: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500203500
1336845136990: do not send ack for received final_leg_ack
1336845137026: Received UDP payload: 446
1336845137173: Received UDP payload: 1006
1336845137175: mux: GOT CSM_Msg
1336845137175: forwarding disabled, not forwarding packets
1336845137235: Received UDP payload: 3826
1336845137238: mux: GOT CSM_Msg
1336845137238: forwarding disabled, not forwarding packets
1336845139388: Received UDP payload: 446
1336845139895: inside sendPacket(Packet p)
1336845139903: Sending UDP payload: 446
1336845141059: Received UDP payload: 446
1336845141100: Received UDP payload: 446
1336845141939: Received UDP payload: 446
1336845142032: Received UDP payload: 446
1336845142144: Received UDP payload: 1006
1336845142153: mux: GOT CSM_Msg
1336845142153: forwarding disabled, not forwarding packets
1336845142226: Received UDP payload: 3826
1336845142234: mux: GOT CSM_Msg
1336845142234: forwarding disabled, not forwarding packets
1336845144406: Received UDP payload: 446
1336845144904: inside sendPacket(Packet p)
1336845144907: Sending UDP payload: 446
1336845145200: Received UDP payload: 1006
1336845145207: mux: GOT CSM_Msg
1336845145207: forwarding disabled, not forwarding packets
1336845145274: Received UDP payload: 3826
1336845145276: mux: GOT CSM_Msg
1336845145276: forwarding disabled, not forwarding packets
1336845146076: Received UDP payload: 446
1336845146099: Received UDP payload: 446
1336845146927: Received UDP payload: 446
1336845147033: Received UDP payload: 446
1336845147682: Received UDP payload: 642
1336845147686: mux: Inside mux Packet.CLIENT_REQUEST
1336845147734: Received UDP payload: 1006
1336845147742: mux: GOT CSM_Msg
1336845147743: forwarding disabled, not forwarding packets
1336845147743: Received UDP payload: 446
1336845147747: mux: Inside Packet.SERVER_REPLY
1336845147747: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845147785: Received UDP payload: 3826
1336845147793: mux: GOT CSM_Msg
1336845147793: forwarding disabled, not forwarding packets
1336845147853: Received UDP payload: 3479
1336845147857: mux: Inside Packet.SERVER_REPLY
1336845147858: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845147866: Received UDP payload: 446
1336845147871: mux: Inside mux Packet.CLIENT_REQUEST
1336845149424: Received UDP payload: 446
1336845149905: inside sendPacket(Packet p)
1336845149908: Sending UDP payload: 446
1336845150071: Received UDP payload: 1006
1336845150079: mux: GOT CSM_Msg
1336845150080: forwarding disabled, not forwarding packets
1336845150159: Received UDP payload: 3826
1336845150166: mux: GOT CSM_Msg
1336845150166: forwarding disabled, not forwarding packets
1336845151061: Received UDP payload: 446
1336845151141: Received UDP payload: 446
1336845151752: Received UDP payload: 1006
1336845151759: mux: GOT CSM_Msg
1336845151760: forwarding disabled, not forwarding packets
1336845151835: Received UDP payload: 3826
1336845151842: mux: GOT CSM_Msg
1336845151842: forwarding disabled, not forwarding packets
1336845151924: Received UDP payload: 446
1336845152031: Received UDP payload: 446
1336845153076: Received UDP payload: 642
1336845153077: mux: Inside mux Packet.CLIENT_REQUEST
1336845153158: Received UDP payload: 1006
1336845153160: mux: GOT CSM_Msg
1336845153160: forwarding disabled, not forwarding packets
1336845153162: Received UDP payload: 446
1336845153164: mux: Inside Packet.SERVER_REPLY
1336845153164: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845153205: Received UDP payload: 3826
1336845153207: mux: GOT CSM_Msg
1336845153207: forwarding disabled, not forwarding packets
1336845153251: Received UDP payload: 3479
1336845153252: mux: Inside Packet.SERVER_REPLY
1336845153252: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845153262: Received UDP payload: 446
1336845153263: mux: Inside mux Packet.CLIENT_REQUEST
1336845154429: Received UDP payload: 446
1336845154905: inside sendPacket(Packet p)
1336845154908: Sending UDP payload: 446
1336845156114: Received UDP payload: 446
1336845156122: Received UDP payload: 446
1336845156923: Received UDP payload: 446
1336845159137: Received UDP payload: 446
1336845159452: Received UDP payload: 446
1336845159906: inside sendPacket(Packet p)
1336845159909: Sending UDP payload: 446
1336845161078: Received UDP payload: 446
1336845161130: Received UDP payload: 446
1336845161938: Received UDP payload: 446
1336845162461: Received UDP payload: 642
1336845162466: mux: Inside mux Packet.CLIENT_REQUEST
1336845162507: Received UDP payload: 1006
1336845162514: mux: GOT CSM_Msg
1336845162514: forwarding disabled, not forwarding packets
1336845162514: Received UDP payload: 446
1336845162515: mux: Inside Packet.SERVER_REPLY
1336845162516: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845162565: Received UDP payload: 3734
1336845162567: mux: GOT CSM_Msg
1336845162567: forwarding disabled, not forwarding packets
1336845162614: Received UDP payload: 3387
1336845162616: mux: Inside Packet.SERVER_REPLY
1336845162616: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845162632: Received UDP payload: 446
1336845162633: mux: Inside mux Packet.CLIENT_REQUEST
1336845163040: canPressButton = TRUE
1336845163040: areButtonsEnabled --> false 
1336845163040: get picture disableButtonsR
1336845163041: areButtonsEnabled --> false
1336845163055: one more getNum: 17
1336845163056: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=15 getBad=1 getTimedout=0 getPercent=88%
1336845163056: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336845163056: change local requestCounter to 39
1336845163057: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022039 Client in region: 1 Client nodID: 5022
1336845163115: ----------------------------
1336845163116: inside sendRequestPacketRepeatingRunnable for requestCount = 5022039
1336845163116: I'm a leader, my requesting photos packet going to mux directly
1336845163116: --- Finished one round of sending REQUEST Packet ---------
1336845163117: mux: Inside mux Packet.CLIENT_REQUEST
1336845163117: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845163162: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845163118: inside handleClientRequest. Originator leader of region 1
1336845163118: got new request, requestCounter = 5022039
1336845163118: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845163118: Sending to region: 3
1336845163119: Sending PROC_REQUEST 11:4 (1,0)->(3,0)
1336845163119: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(3,0)
1336845163120: mux: I got a CSM packet at a leader 

1336845163119: Note down new request by adding requestCounter=5022039 to HashMap processedRequests
1336845163119: Make FirstLeg Ack regardless of new or already-processed requests
1336845163120: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845163126: Sending UDP payload: 1006
1336845163130: forwarding disabled, not forwarding packets
1336845163274: Received UDP payload: 3734
1336845163276: mux: GOT CSM_Msg
1336845163276: Received PROC_REPLY 11:4 (3,0)->(1,0), handing to UserApp
1336845163276: inside handleDSMReply. Now back in originator leader of region 1
1336845163276: DSM layer: Going to and from remote region took latency = 157
1336845163277: DSM layer: orig leader sent packet at 1336845163119 ~ received reply from remote leader at 1336845163276
1336845163277: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845163277: leader client reply has replyCounter: 502203900
1336845163277: reply packet contains the newest photo/success info from the remote region
1336845163278: inside sendReplies of replyCount = 502203900
1336845163282: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845163282: disabling progressdialog due to successful new photo get
1336845163282: Inside _enableButtons
1336845163282: areButtonsEnabled --> true
1336845163282: send final leg ack regardless of new or already-processed reply
1336845163283: inside finalLegAck: change requestCounter to 40
1336845163284: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022040 Client in region: (1,0) Client nodID: 5022
1336845163284: I'm a leader client, my final_leg packet going to mux directly
1336845163286: new client_show_remotephoto reply with replyCounter 502203900
1336845163286: note down new reply by adding replyCounter=502203900 to HashMap processedReplies
1336845163286: leader download remote photo latency = 166
1336845163289: = leader download start 1336845163116 ~ stop 1336845163282
1336845163290: one more getGood: 16
1336845163291: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=16 getBad=1 getTimedout=0 getPercent=94%
1336845163292: adding get latency: 166
1336845163292: Success! Client getting photo from remote region, showing photo...
1336845163292: Remote photo's length: 2706
1336845163278: =======================
1336845163278: inside sendReplyRepeatingRunnable for replyCount = 502203900
1336845163278: Leader about to send REPLY packet, number: 502203900 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845163278: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845163278: === Finished one round of sending REPLY Packet =======
1336845163284: mux: Inside mux Packet.CLIENT_REQUEST
1336845163284: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845163284: inside handleClientRequest. Originator leader of region 1
1336845163284: got new request, requestCounter = 5022040
1336845163284: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502203900
1336845163285: Yay the last leg succeeded. Removing reply runnables ...
1336845163285: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502203900
1336845163285: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502203900
1336845163285: do not send ack for received final_leg_ack
1336845163935: Received UDP payload: 1006
1336845163942: mux: GOT CSM_Msg
1336845163942: forwarding disabled, not forwarding packets
1336845164350: Received UDP payload: 642
1336845164355: mux: Inside mux Packet.CLIENT_REQUEST
1336845164356: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845164356: inside handleClientRequest. Originator leader of region 1
1336845164357: got new request, requestCounter = 5002037
1336845164357: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845164382: Sending to region: 3
1336845164384: Sending PROC_REQUEST 11:5 (1,0)->(3,0)
1336845164385: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845164387: mux: I got a CSM packet at a leader 

1336845164386: Note down new request by adding requestCounter=5002037 to HashMap processedRequests
1336845164386: Make FirstLeg Ack regardless of new or already-processed requests
1336845164386: The leader sending a First Leg ack to originator client (which id = 5002)
1336845164386: inside sendPacket(Packet p)
1336845164404: Sending UDP payload: 1006
1336845164410: forwarding disabled, not forwarding packets
1336845164412: Sending UDP payload: 446
1336845164473: Received UDP payload: 446
1336845164664: Received UDP payload: 1006
1336845164666: mux: GOT CSM_Msg
1336845164666: forwarding disabled, not forwarding packets
1336845164771: Received UDP payload: 1006
1336845164773: mux: GOT CSM_Msg
1336845164773: forwarding disabled, not forwarding packets
1336845164872: Received UDP payload: 1006
1336845164874: mux: GOT CSM_Msg
1336845164874: forwarding disabled, not forwarding packets
1336845164906: inside sendPacket(Packet p)
1336845164907: Sending UDP payload: 446
1336845164974: Received UDP payload: 1006
1336845164976: mux: GOT CSM_Msg
1336845164976: forwarding disabled, not forwarding packets
1336845165066: Received UDP payload: 1006
1336845165073: mux: GOT CSM_Msg
1336845165073: forwarding disabled, not forwarding packets
1336845165147: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165148: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165149: mux: I got a CSM packet at a leader 

1336845165153: Sending UDP payload: 1006
1336845165161: forwarding disabled, not forwarding packets
1336845165167: Received UDP payload: 1006
1336845165172: mux: GOT CSM_Msg
1336845165172: forwarding disabled, not forwarding packets
1336845165250: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165251: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165252: mux: I got a CSM packet at a leader 

1336845165255: Sending UDP payload: 1006
1336845165256: forwarding disabled, not forwarding packets
1336845165290: Received UDP payload: 1006
1336845165298: mux: GOT CSM_Msg
1336845165299: forwarding disabled, not forwarding packets
1336845165353: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165355: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165355: mux: I got a CSM packet at a leader 

1336845165356: Sending UDP payload: 1006
1336845165356: forwarding disabled, not forwarding packets
1336845165388: Received UDP payload: 1006
1336845165396: mux: GOT CSM_Msg
1336845165397: forwarding disabled, not forwarding packets
1336845165456: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165457: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165458: mux: I got a CSM packet at a leader 

1336845165460: Sending UDP payload: 1006
1336845165460: forwarding disabled, not forwarding packets
1336845165489: Received UDP payload: 1006
1336845165501: mux: GOT CSM_Msg
1336845165502: forwarding disabled, not forwarding packets
1336845165559: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165561: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165561: mux: I got a CSM packet at a leader 

1336845165563: Sending UDP payload: 1006
1336845165564: forwarding disabled, not forwarding packets
1336845165597: Received UDP payload: 1006
1336845165606: mux: GOT CSM_Msg
1336845165607: forwarding disabled, not forwarding packets
1336845165663: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165663: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165664: mux: I got a CSM packet at a leader 

1336845165668: Sending UDP payload: 1006
1336845165671: forwarding disabled, not forwarding packets
1336845165714: Received UDP payload: 1006
1336845165720: mux: GOT CSM_Msg
1336845165721: forwarding disabled, not forwarding packets
1336845165766: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165766: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165767: mux: I got a CSM packet at a leader 

1336845165770: Sending UDP payload: 1006
1336845165771: forwarding disabled, not forwarding packets
1336845165775: Received UDP payload: 1006
1336845165780: mux: GOT CSM_Msg
1336845165780: forwarding disabled, not forwarding packets
1336845165869: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165869: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165873: mux: I got a CSM packet at a leader 

1336845165879: Sending UDP payload: 1006
1336845165881: Received UDP payload: 1006
1336845165881: forwarding disabled, not forwarding packets
1336845165891: mux: GOT CSM_Msg
1336845165891: forwarding disabled, not forwarding packets
1336845165970: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165971: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845165971: mux: I got a CSM packet at a leader 

1336845165973: Sending UDP payload: 1006
1336845165975: forwarding disabled, not forwarding packets
1336845165981: Received UDP payload: 1006
1336845165990: mux: GOT CSM_Msg
1336845165990: forwarding disabled, not forwarding packets
1336845166072: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845166073: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845166073: mux: I got a CSM packet at a leader 

1336845166075: Sending UDP payload: 1006
1336845166076: forwarding disabled, not forwarding packets
1336845166077: Received UDP payload: 446
1336845166108: Received UDP payload: 1006
1336845166114: mux: GOT CSM_Msg
1336845166115: forwarding disabled, not forwarding packets
1336845166132: Received UDP payload: 446
1336845166175: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845166175: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845166175: mux: I got a CSM packet at a leader 

1336845166178: Sending UDP payload: 1006
1336845166178: forwarding disabled, not forwarding packets
1336845166277: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845166277: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845166278: mux: I got a CSM packet at a leader 

1336845166280: Sending UDP payload: 1006
1336845166281: forwarding disabled, not forwarding packets
1336845166379: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845166379: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845166380: mux: I got a CSM packet at a leader 

1336845166383: Sending UDP payload: 1006
1336845166384: forwarding disabled, not forwarding packets
1336845166481: Retrying PROC_REQUEST 11:5 (1,0)->(3,0)
1336845166481: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336845166482: mux: I got a CSM packet at a leader 

1336845166483: Sending UDP payload: 1006
1336845166483: forwarding disabled, not forwarding packets
1336845166584: DSM Layer: Request timed out, send failure PROC_REPLY 11:5 (3,0)->(1,0)
1336845166585: Dispatching Atom PROC_REPLY 11:5 (3,0)->(1,0)
1336845166586: mux: I got a CSM packet at a leader 

1336845166588: Sending UDP payload: 1006
1336845166589: Received PROC_REPLY 11:5 (3,0)->(1,0), handing to UserApp
1336845166590: inside handleDSMReply. Now back in originator leader of region 1
1336845166590: DSM layer timed out, don't log dsm layer latency stuff.
1336845166592: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845166592: leader client reply has replyCounter: 500203700
1336845166592: reply packet contains the newest photo/success info from the remote region
1336845166592: inside sendReplies of replyCount = 500203700
1336845166593: =======================
1336845166593: inside sendReplyRepeatingRunnable for replyCount = 500203700
1336845166593: Leader about to send REPLY packet, number: 500203700 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845166594: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845166594: inside sendPacket(Packet p)
1336845166594: === Finished one round of sending REPLY Packet =======
1336845166596: Sending UDP payload: 659
1336845166642: Received UDP payload: 446
1336845166645: mux: Inside mux Packet.CLIENT_REQUEST
1336845166645: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845166645: inside handleClientRequest. Originator leader of region 1
1336845166645: got new request, requestCounter = 5002038
1336845166646: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500203700
1336845166646: Yay the last leg succeeded. Removing reply runnables ...
1336845166646: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500203700
1336845166646: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500203700
1336845166646: do not send ack for received final_leg_ack
1336845166934: Received UDP payload: 446
1336845169446: Received UDP payload: 446
1336845169907: inside sendPacket(Packet p)
1336845169911: Sending UDP payload: 446
1336845171083: Received UDP payload: 446
1336845171123: Received UDP payload: 446
1336845171938: Received UDP payload: 446
1336845173402: Received UDP payload: 1006
1336845173408: mux: GOT CSM_Msg
1336845173408: forwarding disabled, not forwarding packets
1336845173517: Received UDP payload: 3734
1336845173525: mux: GOT CSM_Msg
1336845173525: forwarding disabled, not forwarding packets
1336845174084: Received UDP payload: 446
1336845174454: Received UDP payload: 446
1336845174909: inside sendPacket(Packet p)
1336845174912: Sending UDP payload: 446
1336845175663: Received UDP payload: 642
1336845175667: mux: Inside mux Packet.CLIENT_REQUEST
1336845175729: Received UDP payload: 1006
1336845175737: mux: GOT CSM_Msg
1336845175737: forwarding disabled, not forwarding packets
1336845175740: Received UDP payload: 446
1336845175744: mux: Inside Packet.SERVER_REPLY
1336845175745: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845175819: Received UDP payload: 3734
1336845175821: mux: GOT CSM_Msg
1336845175821: forwarding disabled, not forwarding packets
1336845175864: Received UDP payload: 3387
1336845175865: mux: Inside Packet.SERVER_REPLY
1336845175866: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845175882: Received UDP payload: 446
1336845175884: mux: Inside mux Packet.CLIENT_REQUEST
1336845176092: Received UDP payload: 446
1336845176128: Received UDP payload: 446
1336845176414: Received UDP payload: 1006
1336845176421: mux: GOT CSM_Msg
1336845176422: forwarding disabled, not forwarding packets
1336845176490: Received UDP payload: 3734
1336845176492: mux: GOT CSM_Msg
1336845176492: forwarding disabled, not forwarding packets
1336845176954: Received UDP payload: 446
1336845178346: Received UDP payload: 1006
1336845178354: mux: GOT CSM_Msg
1336845178354: forwarding disabled, not forwarding packets
1336845178437: Received UDP payload: 3734
1336845178439: mux: GOT CSM_Msg
1336845178439: forwarding disabled, not forwarding packets
1336845179086: Received UDP payload: 446
1336845179459: Received UDP payload: 446
1336845179665: Received UDP payload: 642
1336845179669: mux: Inside mux Packet.CLIENT_REQUEST
1336845179752: Received UDP payload: 1006
1336845179759: mux: GOT CSM_Msg
1336845179760: forwarding disabled, not forwarding packets
1336845179770: Received UDP payload: 446
1336845179774: mux: Inside Packet.SERVER_REPLY
1336845179775: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845179856: Received UDP payload: 3734
1336845179858: mux: GOT CSM_Msg
1336845179858: forwarding disabled, not forwarding packets
1336845179903: Received UDP payload: 3387
1336845179905: mux: Inside Packet.SERVER_REPLY
1336845179906: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845179910: inside sendPacket(Packet p)
1336845179911: Sending UDP payload: 446
1336845179917: Received UDP payload: 446
1336845179919: mux: Inside mux Packet.CLIENT_REQUEST
1336845181088: Received UDP payload: 446
1336845181125: Received UDP payload: 446
1336845181987: Received UDP payload: 446
1336845184090: Received UDP payload: 446
1336845184462: Received UDP payload: 446
1336845184910: inside sendPacket(Packet p)
1336845184913: Sending UDP payload: 446
1336845186125: Received UDP payload: 446
1336845186133: Received UDP payload: 446
1336845187059: Received UDP payload: 446
1336845187497: Received UDP payload: 642
1336845187503: mux: Inside mux Packet.CLIENT_REQUEST
1336845187503: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845187504: inside handleClientRequest. Originator leader of region 1
1336845187504: got new request, requestCounter = 5002039
1336845187504: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845187506: Sending to region: 4
1336845187508: Sending PROC_REQUEST 11:5 (1,0)->(4,0)
1336845187509: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(4,0)
1336845187522: mux: I got a CSM packet at a leader 

1336845187509: Note down new request by adding requestCounter=5002039 to HashMap processedRequests
1336845187509: Make FirstLeg Ack regardless of new or already-processed requests
1336845187510: The leader sending a First Leg ack to originator client (which id = 5002)
1336845187521: inside sendPacket(Packet p)
1336845187525: Sending UDP payload: 1006
1336845187537: forwarding disabled, not forwarding packets
1336845187540: Sending UDP payload: 446
1336845187591: Received UDP payload: 3812
1336845187598: mux: GOT CSM_Msg
1336845187599: Received PROC_REPLY 11:5 (4,0)->(1,0), handing to UserApp
1336845187599: inside handleDSMReply. Now back in originator leader of region 1
1336845187600: DSM layer: Going to and from remote region took latency = 92
1336845187602: DSM layer: orig leader sent packet at 1336845187507 ~ received reply from remote leader at 1336845187599
1336845187604: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845187604: leader client reply has replyCounter: 500203900
1336845187604: reply packet contains the newest photo/success info from the remote region
1336845187605: inside sendReplies of replyCount = 500203900
1336845187605: =======================
1336845187606: inside sendReplyRepeatingRunnable for replyCount = 500203900
1336845187606: Leader about to send REPLY packet, number: 500203900 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845187606: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845187607: inside sendPacket(Packet p)
1336845187607: === Finished one round of sending REPLY Packet =======
1336845187621: Sending UDP payload: 3465
1336845187681: Received UDP payload: 446
1336845187684: mux: Inside mux Packet.CLIENT_REQUEST
1336845187684: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845187685: inside handleClientRequest. Originator leader of region 1
1336845187685: got new request, requestCounter = 5002040
1336845187685: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500203900
1336845187685: Yay the last leg succeeded. Removing reply runnables ...
1336845187685: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500203900
1336845187685: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500203900
1336845187685: do not send ack for received final_leg_ack
1336845188375: canPressButton = TRUE
1336845188376: areButtonsEnabled --> false 
1336845188377: get picture disableButtonsR
1336845188377: areButtonsEnabled --> false
1336845188403: one more getNum: 18
1336845188404: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=16 getBad=1 getTimedout=0 getPercent=88%
1336845188404: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336845188404: change local requestCounter to 41
1336845188409: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022041 Client in region: 1 Client nodID: 5022
1336845188439: ----------------------------
1336845188440: inside sendRequestPacketRepeatingRunnable for requestCount = 5022041
1336845188440: I'm a leader, my requesting photos packet going to mux directly
1336845188450: --- Finished one round of sending REQUEST Packet ---------
1336845188440: mux: Inside mux Packet.CLIENT_REQUEST
1336845188441: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845188491: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845188441: inside handleClientRequest. Originator leader of region 1
1336845188441: got new request, requestCounter = 5022041
1336845188441: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845188444: Sending to region: 4
1336845188444: Sending PROC_REQUEST 11:6 (1,0)->(4,0)
1336845188444: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(4,0)
1336845188445: mux: I got a CSM packet at a leader 

1336845188445: Note down new request by adding requestCounter=5022041 to HashMap processedRequests
1336845188445: Make FirstLeg Ack regardless of new or already-processed requests
1336845188445: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845188461: Sending UDP payload: 1006
1336845188462: forwarding disabled, not forwarding packets
1336845188579: Received UDP payload: 3812
1336845188582: mux: GOT CSM_Msg
1336845188583: Received PROC_REPLY 11:6 (4,0)->(1,0), handing to UserApp
1336845188583: inside handleDSMReply. Now back in originator leader of region 1
1336845188583: DSM layer: Going to and from remote region took latency = 139
1336845188583: DSM layer: orig leader sent packet at 1336845188444 ~ received reply from remote leader at 1336845188583
1336845188584: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845188584: leader client reply has replyCounter: 502204100
1336845188584: reply packet contains the newest photo/success info from the remote region
1336845188584: inside sendReplies of replyCount = 502204100
1336845188591: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845188592: disabling progressdialog due to successful new photo get
1336845188592: Inside _enableButtons
1336845188592: areButtonsEnabled --> true
1336845188592: send final leg ack regardless of new or already-processed reply
1336845188592: inside finalLegAck: change requestCounter to 42
1336845188593: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022042 Client in region: (1,0) Client nodID: 5022
1336845188593: I'm a leader client, my final_leg packet going to mux directly
1336845188594: new client_show_remotephoto reply with replyCounter 502204100
1336845188595: note down new reply by adding replyCounter=502204100 to HashMap processedReplies
1336845188595: leader download remote photo latency = 151
1336845188595: = leader download start 1336845188440 ~ stop 1336845188591
1336845188596: one more getGood: 17
1336845188597: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=17 getBad=1 getTimedout=0 getPercent=94%
1336845188597: adding get latency: 151
1336845188598: Success! Client getting photo from remote region, showing photo...
1336845188598: Remote photo's length: 2784
1336845188588: =======================
1336845188588: inside sendReplyRepeatingRunnable for replyCount = 502204100
1336845188589: Leader about to send REPLY packet, number: 502204100 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845188589: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845188589: === Finished one round of sending REPLY Packet =======
1336845188593: mux: Inside mux Packet.CLIENT_REQUEST
1336845188593: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845188593: inside handleClientRequest. Originator leader of region 1
1336845188594: got new request, requestCounter = 5022042
1336845188594: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502204100
1336845188594: Yay the last leg succeeded. Removing reply runnables ...
1336845188594: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502204100
1336845188594: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502204100
1336845188594: do not send ack for received final_leg_ack
1336845189087: Received UDP payload: 446
1336845189458: Received UDP payload: 446
1336845189910: inside sendPacket(Packet p)
1336845189936: Sending UDP payload: 446
1336845190919: Received UDP payload: 642
1336845190928: mux: Inside mux Packet.CLIENT_REQUEST
1336845190978: Received UDP payload: 1006
1336845190993: mux: GOT CSM_Msg
1336845190994: forwarding disabled, not forwarding packets
1336845191000: Received UDP payload: 446
1336845191006: mux: Inside Packet.SERVER_REPLY
1336845191007: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845191054: Received UDP payload: 3812
1336845191056: mux: GOT CSM_Msg
1336845191056: forwarding disabled, not forwarding packets
1336845191090: Received UDP payload: 446
1336845191146: Received UDP payload: 446
1336845191156: Received UDP payload: 3465
1336845191157: mux: Inside Packet.SERVER_REPLY
1336845191158: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845191180: Received UDP payload: 446
1336845191182: mux: Inside mux Packet.CLIENT_REQUEST
1336845191961: Received UDP payload: 446
1336845192002: Received UDP payload: 1006
1336845192011: mux: GOT CSM_Msg
1336845192011: forwarding disabled, not forwarding packets
1336845192088: Received UDP payload: 3812
1336845192094: mux: GOT CSM_Msg
1336845192095: forwarding disabled, not forwarding packets
1336845194109: Received UDP payload: 446
1336845194472: Received UDP payload: 446
1336845194911: inside sendPacket(Packet p)
1336845194923: Sending UDP payload: 446
1336845195974: Received UDP payload: 1006
1336845195983: mux: GOT CSM_Msg
1336845195984: forwarding disabled, not forwarding packets
1336845196053: Received UDP payload: 3812
1336845196055: mux: GOT CSM_Msg
1336845196055: forwarding disabled, not forwarding packets
1336845196090: Received UDP payload: 446
1336845196130: Received UDP payload: 446
1336845196985: Received UDP payload: 446
1336845198842: Received UDP payload: 1006
1336845198844: mux: GOT CSM_Msg
1336845198844: forwarding disabled, not forwarding packets
1336845198933: Received UDP payload: 3812
1336845198936: mux: GOT CSM_Msg
1336845198937: forwarding disabled, not forwarding packets
1336845199104: Received UDP payload: 446
1336845199464: Received UDP payload: 446
1336845199925: inside sendPacket(Packet p)
1336845199929: Sending UDP payload: 446
1336845201095: Received UDP payload: 446
1336845201132: Received UDP payload: 446
1336845201722: Received UDP payload: 642
1336845201726: mux: Inside mux Packet.CLIENT_REQUEST
1336845201752: Received UDP payload: 1006
1336845201758: mux: GOT CSM_Msg
1336845201758: forwarding disabled, not forwarding packets
1336845201766: Received UDP payload: 446
1336845201770: mux: Inside Packet.SERVER_REPLY
1336845201771: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845201828: Received UDP payload: 3812
1336845201830: mux: GOT CSM_Msg
1336845201830: forwarding disabled, not forwarding packets
1336845201874: Received UDP payload: 3465
1336845201876: mux: Inside Packet.SERVER_REPLY
1336845201876: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845201887: Received UDP payload: 446
1336845201889: mux: Inside mux Packet.CLIENT_REQUEST
1336845201972: Received UDP payload: 446
1336845202671: Received UDP payload: 1006
1336845202678: mux: GOT CSM_Msg
1336845202678: forwarding disabled, not forwarding packets
1336845202762: Received UDP payload: 3812
1336845202769: mux: GOT CSM_Msg
1336845202769: forwarding disabled, not forwarding packets
1336845204098: Received UDP payload: 446
1336845204479: Received UDP payload: 446
1336845204931: inside sendPacket(Packet p)
1336845204941: Sending UDP payload: 446
1336845205071: Received UDP payload: 1006
1336845205085: mux: GOT CSM_Msg
1336845205085: forwarding disabled, not forwarding packets
1336845205106: Received UDP payload: 3812
1336845205113: mux: GOT CSM_Msg
1336845205114: forwarding disabled, not forwarding packets
1336845206129: Received UDP payload: 446
1336845206168: Received UDP payload: 446
1336845206328: Received UDP payload: 642
1336845206333: mux: Inside mux Packet.CLIENT_REQUEST
1336845206363: Received UDP payload: 1006
1336845206371: mux: GOT CSM_Msg
1336845206371: forwarding disabled, not forwarding packets
1336845206378: Received UDP payload: 446
1336845206382: mux: Inside Packet.SERVER_REPLY
1336845206383: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845206427: Received UDP payload: 3812
1336845206429: mux: GOT CSM_Msg
1336845206429: forwarding disabled, not forwarding packets
1336845206484: Received UDP payload: 446
1336845206486: mux: Inside mux Packet.CLIENT_REQUEST
1336845206968: Received UDP payload: 446
1336845209106: Received UDP payload: 446
1336845209513: Received UDP payload: 446
1336845209944: inside sendPacket(Packet p)
1336845209947: Sending UDP payload: 446
1336845211136: Received UDP payload: 446
1336845211164: Received UDP payload: 446
1336845212025: Received UDP payload: 446
1336845214002: Received UDP payload: 642
1336845214007: mux: Inside mux Packet.CLIENT_REQUEST
1336845214007: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845214007: inside handleClientRequest. Originator leader of region 1
1336845214008: got new request, requestCounter = 5002041
1336845214008: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845214028: Sending to region: 5
1336845214029: Sending PROC_REQUEST 11:4 (1,0)->(5,0)
1336845214031: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(5,0)
1336845214033: mux: I got a CSM packet at a leader 

1336845214031: Note down new request by adding requestCounter=5002041 to HashMap processedRequests
1336845214032: Make FirstLeg Ack regardless of new or already-processed requests
1336845214032: The leader sending a First Leg ack to originator client (which id = 5002)
1336845214032: inside sendPacket(Packet p)
1336845214061: Sending UDP payload: 1006
1336845214063: forwarding disabled, not forwarding packets
1336845214066: Sending UDP payload: 446
1336845214099: Received UDP payload: 446
1336845214184: Received UDP payload: 3734
1336845214187: mux: GOT CSM_Msg
1336845214188: Received PROC_REPLY 11:4 (5,0)->(1,0), handing to UserApp
1336845214188: inside handleDSMReply. Now back in originator leader of region 1
1336845214189: DSM layer: Going to and from remote region took latency = 160
1336845214189: DSM layer: orig leader sent packet at 1336845214028 ~ received reply from remote leader at 1336845214188
1336845214190: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845214191: leader client reply has replyCounter: 500204100
1336845214191: reply packet contains the newest photo/success info from the remote region
1336845214191: inside sendReplies of replyCount = 500204100
1336845214191: =======================
1336845214191: inside sendReplyRepeatingRunnable for replyCount = 500204100
1336845214192: Leader about to send REPLY packet, number: 500204100 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845214192: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845214192: inside sendPacket(Packet p)
1336845214192: === Finished one round of sending REPLY Packet =======
1336845214194: Sending UDP payload: 3387
1336845214266: Received UDP payload: 446
1336845214268: mux: Inside mux Packet.CLIENT_REQUEST
1336845214268: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845214268: inside handleClientRequest. Originator leader of region 1
1336845214268: got new request, requestCounter = 5002042
1336845214269: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500204100
1336845214269: Yay the last leg succeeded. Removing reply runnables ...
1336845214269: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500204100
1336845214269: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500204100
1336845214270: do not send ack for received final_leg_ack
1336845214493: Received UDP payload: 446
1336845214795: leader to cloud hearbeat...
1336845214938: canPressButton = TRUE
1336845214938: areButtonsEnabled --> false 
1336845214938: get picture disableButtonsR
1336845214938: areButtonsEnabled --> false
1336845214964: one more getNum: 19
1336845214965: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=17 getBad=1 getTimedout=0 getPercent=89%
1336845214965: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336845214966: change local requestCounter to 43
1336845214970: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022043 Client in region: 1 Client nodID: 5022
1336845215001: ----------------------------
1336845215001: inside sendRequestPacketRepeatingRunnable for requestCount = 5022043
1336845215001: I'm a leader, my requesting photos packet going to mux directly
1336845215006: --- Finished one round of sending REQUEST Packet ---------
1336845215001: mux: Inside mux Packet.CLIENT_REQUEST
1336845215002: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845215048: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845215002: inside handleClientRequest. Originator leader of region 1
1336845215002: got new request, requestCounter = 5022043
1336845215002: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845215003: Sending to region: 5
1336845215003: Sending PROC_REQUEST 11:5 (1,0)->(5,0)
1336845215003: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(5,0)
1336845215004: mux: I got a CSM packet at a leader 

1336845215003: Note down new request by adding requestCounter=5022043 to HashMap processedRequests
1336845215003: Make FirstLeg Ack regardless of new or already-processed requests
1336845215004: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845215005: Sending UDP payload: 1006
1336845215006: forwarding disabled, not forwarding packets
1336845215193: Received UDP payload: 3734
1336845215195: mux: GOT CSM_Msg
1336845215196: Received PROC_REPLY 11:5 (5,0)->(1,0), handing to UserApp
1336845215196: inside handleDSMReply. Now back in originator leader of region 1
1336845215196: DSM layer: Going to and from remote region took latency = 193
1336845215196: DSM layer: orig leader sent packet at 1336845215003 ~ received reply from remote leader at 1336845215196
1336845215197: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845215197: leader client reply has replyCounter: 502204300
1336845215197: reply packet contains the newest photo/success info from the remote region
1336845215197: inside sendReplies of replyCount = 502204300
1336845216122: Received UDP payload: 446
1336845216139: Received UDP payload: 446
1336845217521: inside sendPacket(Packet p)
1336845217548: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845217548: disabling progressdialog due to successful new photo get
1336845217549: Inside _enableButtons
1336845217549: areButtonsEnabled --> true
1336845217550: send final leg ack regardless of new or already-processed reply
1336845217550: inside finalLegAck: change requestCounter to 44
1336845217551: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022044 Client in region: (1,0) Client nodID: 5022
1336845217551: I'm a leader client, my final_leg packet going to mux directly
1336845217553: new client_show_remotephoto reply with replyCounter 502204300
1336845217554: note down new reply by adding replyCounter=502204300 to HashMap processedReplies
1336845217554: leader download remote photo latency = 2547
1336845217555: = leader download start 1336845215001 ~ stop 1336845217548
1336845217572: one more getGood: 18
1336845217574: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=18 getBad=1 getTimedout=0 getPercent=94%
1336845217574: adding get latency: 2547
1336845217576: Success! Client getting photo from remote region, showing photo...
1336845217576: Remote photo's length: 2706
1336845217530: Sending UDP payload: 446
1336845217537: =======================
1336845217538: inside sendReplyRepeatingRunnable for replyCount = 502204300
1336845217538: Leader about to send REPLY packet, number: 502204300 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845217538: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845217538: === Finished one round of sending REPLY Packet =======
1336845217539: inside sendReplyTimeoutR
1336845217539: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502204300
1336845217551: mux: Inside mux Packet.CLIENT_REQUEST
1336845217552: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845217552: inside handleClientRequest. Originator leader of region 1
1336845217552: got new request, requestCounter = 5022044
1336845217552: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502204300
1336845217552: Yay the last leg succeeded. Removing reply runnables ...
1336845217552: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 502204300
1336845217553: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502204300
1336845217553: do not send ack for received final_leg_ack
1336845217979: Received UDP payload: 1006
1336845218003: mux: GOT CSM_Msg
1336845218004: forwarding disabled, not forwarding packets
1336845218014: Received UDP payload: 446
1336845218018: mux: Inside Packet.SERVER_REPLY
1336845218019: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845218075: Received UDP payload: 3734
1336845218077: mux: GOT CSM_Msg
1336845218077: forwarding disabled, not forwarding packets
1336845219053: Received UDP payload: 446
1336845219091: Received UDP payload: 3387
1336845219100: mux: Inside Packet.SERVER_REPLY
1336845219100: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845219111: Received UDP payload: 446
1336845219150: Received UDP payload: 1006
1336845219152: mux: GOT CSM_Msg
1336845219152: forwarding disabled, not forwarding packets
1336845219213: Received UDP payload: 3734
1336845219215: mux: GOT CSM_Msg
1336845219215: forwarding disabled, not forwarding packets
1336845219266: Received UDP payload: 446
1336845219267: mux: Inside mux Packet.CLIENT_REQUEST
1336845219549: Received UDP payload: 446
1336845221104: Received UDP payload: 446
1336845221158: Received UDP payload: 446
1336845222538: inside sendPacket(Packet p)
1336845222539: Sending UDP payload: 446
1336845224068: Received UDP payload: 446
1336845224124: Received UDP payload: 446
1336845224509: Received UDP payload: 446
1336845225709: Received UDP payload: 1006
1336845225716: mux: GOT CSM_Msg
1336845225716: forwarding disabled, not forwarding packets
1336845225796: Received UDP payload: 3734
1336845225804: mux: GOT CSM_Msg
1336845225804: forwarding disabled, not forwarding packets
1336845226107: Received UDP payload: 446
1336845226162: Received UDP payload: 446
1336845226614: Received UDP payload: 1006
1336845226623: mux: GOT CSM_Msg
1336845226624: forwarding disabled, not forwarding packets
1336845226689: Received UDP payload: 3734
1336845226692: mux: GOT CSM_Msg
1336845226693: forwarding disabled, not forwarding packets
1336845227539: inside sendPacket(Packet p)
1336845227540: Sending UDP payload: 446
1336845229081: Received UDP payload: 446
1336845229152: Received UDP payload: 446
1336845229516: Received UDP payload: 446
1336845231119: Received UDP payload: 446
1336845231163: Received UDP payload: 446
1336845231903: Received UDP payload: 642
1336845231908: mux: Inside mux Packet.CLIENT_REQUEST
1336845231938: Received UDP payload: 1006
1336845231946: mux: GOT CSM_Msg
1336845231946: forwarding disabled, not forwarding packets
1336845231958: Received UDP payload: 446
1336845231962: mux: Inside Packet.SERVER_REPLY
1336845231962: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845232000: Received UDP payload: 3734
1336845232002: mux: GOT CSM_Msg
1336845232002: forwarding disabled, not forwarding packets
1336845232039: Received UDP payload: 3387
1336845232040: mux: Inside Packet.SERVER_REPLY
1336845232040: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845232113: Received UDP payload: 446
1336845232114: mux: Inside mux Packet.CLIENT_REQUEST
1336845232540: inside sendPacket(Packet p)
1336845232541: Sending UDP payload: 446
1336845232937: Received UDP payload: 1006
1336845232939: mux: GOT CSM_Msg
1336845232939: forwarding disabled, not forwarding packets
1336845233266: Received UDP payload: 1006
1336845233268: mux: GOT CSM_Msg
1336845233268: forwarding disabled, not forwarding packets
1336845234086: Received UDP payload: 446
1336845234129: Received UDP payload: 446
1336845234471: Received UDP payload: 642
1336845234475: mux: Inside mux Packet.CLIENT_REQUEST
1336845234552: Received UDP payload: 1006
1336845234558: mux: GOT CSM_Msg
1336845234559: forwarding disabled, not forwarding packets
1336845234561: Received UDP payload: 446
1336845234565: mux: Inside Packet.SERVER_REPLY
1336845234565: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845234637: Received UDP payload: 3734
1336845234643: mux: GOT CSM_Msg
1336845234643: forwarding disabled, not forwarding packets
1336845234684: Received UDP payload: 3387
1336845234685: mux: Inside Packet.SERVER_REPLY
1336845234685: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845234710: Received UDP payload: 446
1336845234712: mux: Inside mux Packet.CLIENT_REQUEST
1336845236114: Received UDP payload: 446
1336845236172: Received UDP payload: 446
1336845236410: Received UDP payload: 446
1336845237541: inside sendPacket(Packet p)
1336845237543: Sending UDP payload: 446
1336845239099: Received UDP payload: 446
1336845239134: Received UDP payload: 446
1336845241107: Received UDP payload: 446
1336845241175: Received UDP payload: 446
1336845241413: Received UDP payload: 446
1336845242542: inside sendPacket(Packet p)
1336845242545: Sending UDP payload: 446
1336845244085: Received UDP payload: 446
1336845244134: Received UDP payload: 446
1336845246110: Received UDP payload: 446
1336845246174: Received UDP payload: 446
1336845246414: Received UDP payload: 446
1336845247543: inside sendPacket(Packet p)
1336845247546: Sending UDP payload: 446
1336845249090: Received UDP payload: 446
1336845249136: Received UDP payload: 446
1336845251185: Received UDP payload: 446
1336845251418: Received UDP payload: 446
1336845252544: inside sendPacket(Packet p)
1336845252547: Sending UDP payload: 446
1336845253135: Received UDP payload: 446
1336845254097: Received UDP payload: 446
1336845254142: Received UDP payload: 446
1336845255068: canPressButton = TRUE
1336845255068: areButtonsEnabled --> false
1336845255068: disabling buttons ...
1336845255069: took picture disableButtonsR
1336845255069: areButtonsEnabled --> false
1336845255093: one more takeNum: 4
1336845255093: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=19 getGood=18 getBad=1 getTimedout=0 getPercent=94%
1336845255094: Clicked take picture button ..
1336845256184: Received UDP payload: 446
1336845256370: inside HandlePictureStorage onPictureTaken()
1336845256371: one more takeCamGood: 4
1336845256371: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=19 getGood=18 getBad=1 getTimedout=0 getPercent=94%
1336845256861: Picture successfully taken, ORIG BYTE LENGTH = 1987324
1336845257208: Our new height x width: 306 x 408
1336845257209: Show photo from handle my camera take
1336845257210: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336845257211: change local requestCounter to 45
1336845257243: BYTE SIZE AFTER COMPRESSION: 2732
1336845257251: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5022045 Client in region: 1 Client nodID: 5022
1336845256430: Received UDP payload: 446
1336845256496: Received UDP payload: 3399
1336845256498: mux: Inside mux Packet.CLIENT_REQUEST
1336845256498: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845256498: inside handleClientRequest. Originator leader of region 1
1336845256499: got new request, requestCounter = 5002043
1336845256499: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845256499: Sending PROC_REQUEST 10:12 (1,0)->(1,0)
1336845256499: Dispatching Atom PROC_REQUEST 10:12 (1,0)->(1,0)
1336845256501: mux: I got a CSM packet at a leader 

1336845257308: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845257310: I'm a leader and I successfully saved my client's new photo
1336845257310: now showing in UI the new photo I just saved ... 
1336845257311: the photo length: 2735
1336845257351: end of server show photo aside %%%%%%%%%
1336845256499: Note down new request by adding requestCounter=5002043 to HashMap processedRequests
1336845256500: Make FirstLeg Ack regardless of new or already-processed requests
1336845256500: The leader sending a First Leg ack to originator client (which id = 5002)
1336845256500: inside sendPacket(Packet p)
1336845256509: Sending UDP payload: 3763
1336845256510: removed replies before id 12 from sentReplies of size 0
1336845256511: inside handleDSMRequest. At requests's remote leader of region 1
1336845256513: Inside UPLOAD_PHOTO!!
1336845256516: my_gpinfo.isSuccess is now (should be true): true
1336845256516: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845256518: Received PROC_REQUEST 10:12 (1,0)->(1,0), replying PROC_REPLY 10:12 (1,0)->(1,0)
1336845256518: Dispatching Atom PROC_REPLY 10:12 (1,0)->(1,0)
1336845256520: mux: I got a CSM packet at a leader 

1336845256519: Sending UDP payload: 446
1336845256521: Sending UDP payload: 1006
1336845256522: Received PROC_REPLY 10:12 (1,0)->(1,0), handing to UserApp
1336845256522: inside handleDSMReply. Now back in originator leader of region 1
1336845256522: DSM layer: Going to and from remote region took latency = 23
1336845256522: DSM layer: orig leader sent packet at 1336845256499 ~ received reply from remote leader at 1336845256522
1336845256523: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845256523: leader client reply has replyCounter: 500204300
1336845256523: reply packet contains the success info for UPLOAD_PHOTO
1336845256524: inside sendReplies of replyCount = 500204300
1336845256524: =======================
1336845256524: inside sendReplyRepeatingRunnable for replyCount = 500204300
1336845256524: Leader about to send REPLY packet, number: 500204300 type: 16 Leader in region: (1,0) to Client nodID: 5002
1336845256524: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845256524: inside sendPacket(Packet p)
1336845256524: === Finished one round of sending REPLY Packet =======
1336845256525: Sending UDP payload: 659
1336845256596: Received UDP payload: 446
1336845256597: mux: Inside mux Packet.CLIENT_REQUEST
1336845256598: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845256598: inside handleClientRequest. Originator leader of region 1
1336845256598: got new request, requestCounter = 5002044
1336845256598: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500204300
1336845256598: Yay the last leg succeeded. Removing reply runnables ...
1336845256598: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500204300
1336845256598: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500204300
1336845256598: do not send ack for received final_leg_ack
1336845257356: ----------------------------
1336845257356: inside sendRequestPacketRepeatingRunnable for requestCount = 5022045
1336845257357: I'm a leader, my requesting photos packet going to mux directly
1336845257366: --- Finished one round of sending REQUEST Packet ---------
1336845257357: mux: Inside mux Packet.CLIENT_REQUEST
1336845257357: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845257412: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845257357: inside handleClientRequest. Originator leader of region 1
1336845257357: got new request, requestCounter = 5022045
1336845257358: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336845257358: Sending PROC_REQUEST 10:13 (1,0)->(1,0)
1336845257358: Dispatching Atom PROC_REQUEST 10:13 (1,0)->(1,0)
1336845257359: mux: I got a CSM packet at a leader 

1336845257413: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336845257416: I'm a leader and I successfully saved my client's new photo
1336845257417: now showing in UI the new photo I just saved ... 
1336845257417: the photo length: 2732
1336845257454: end of server show photo aside %%%%%%%%%
1336845257358: Note down new request by adding requestCounter=5022045 to HashMap processedRequests
1336845257359: Make FirstLeg Ack regardless of new or already-processed requests
1336845257359: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845257366: Sending UDP payload: 3760
1336845257381: removed replies before id 13 from sentReplies of size 0
1336845257381: inside handleDSMRequest. At requests's remote leader of region 1
1336845257384: Inside UPLOAD_PHOTO!!
1336845257387: my_gpinfo.isSuccess is now (should be true): true
1336845257387: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336845257388: Received PROC_REQUEST 10:13 (1,0)->(1,0), replying PROC_REPLY 10:13 (1,0)->(1,0)
1336845257388: Dispatching Atom PROC_REPLY 10:13 (1,0)->(1,0)
1336845257389: mux: I got a CSM packet at a leader 

1336845257456: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336845257456: disabling progressdialog due to successful new photo upload
1336845257456: Inside _enableButtons
1336845257457: areButtonsEnabled --> true
1336845257457: send final leg ack regardless of new or already-processed reply
1336845257457: inside finalLegAck: change requestCounter to 46
1336845257457: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022046 Client in region: (1,0) Client nodID: 5022
1336845257458: I'm a leader client, my final_leg packet going to mux directly
1336845257459: new client_upload_photo_ack reply with replyCounter 502204500
1336845257460: note down new reply by adding replyCounter=502204500 to HashMap processedReplies
1336845257460: leader upload new photo latency = 99
1336845257460: = leader upload start 1336845257357 ~ stop 1336845257456
1336845257462: one more takeGoodSave: 4
1336845257463: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=18 getBad=1 getTimedout=0 getPercent=94%
1336845257463: adding take latency: 99
1336845257464: SUCCESS Client now knows saving photo on its leader succeeded
1336845257390: Sending UDP payload: 1006
1336845257391: Received PROC_REPLY 10:13 (1,0)->(1,0), handing to UserApp
1336845257391: inside handleDSMReply. Now back in originator leader of region 1
1336845257391: DSM layer: Going to and from remote region took latency = 33
1336845257391: DSM layer: orig leader sent packet at 1336845257358 ~ received reply from remote leader at 1336845257391
1336845257392: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845257392: leader client reply has replyCounter: 502204500
1336845257392: reply packet contains the success info for UPLOAD_PHOTO
1336845257392: inside sendReplies of replyCount = 502204500
1336845257393: =======================
1336845257393: inside sendReplyRepeatingRunnable for replyCount = 502204500
1336845257393: Leader about to send REPLY packet, number: 502204500 type: 16 Leader in region: (1,0) to Client nodID: 5022
1336845257393: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845257393: === Finished one round of sending REPLY Packet =======
1336845257458: mux: Inside mux Packet.CLIENT_REQUEST
1336845257458: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845257458: inside handleClientRequest. Originator leader of region 1
1336845257458: got new request, requestCounter = 5022046
1336845257458: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502204500
1336845257459: Yay the last leg succeeded. Removing reply runnables ...
1336845257459: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502204500
1336845257459: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502204500
1336845257459: do not send ack for received final_leg_ack
1336845257545: inside sendPacket(Packet p)
1336845257552: Sending UDP payload: 446
1336845258550: Received UDP payload: 3502
1336845258576: mux: Inside mux Packet.CLIENT_REQUEST
1336845258608: Received UDP payload: 3866
1336845258613: mux: GOT CSM_Msg
1336845258613: forwarding disabled, not forwarding packets
1336845258613: Received UDP payload: 446
1336845258614: mux: Inside Packet.SERVER_REPLY
1336845258614: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845258623: Received UDP payload: 1006
1336845258625: mux: GOT CSM_Msg
1336845258625: forwarding disabled, not forwarding packets
1336845258629: Received UDP payload: 659
1336845258631: mux: Inside Packet.SERVER_REPLY
1336845258631: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845258662: Received UDP payload: 446
1336845258663: mux: Inside mux Packet.CLIENT_REQUEST
1336845259125: Received UDP payload: 446
1336845259148: Received UDP payload: 446
1336845259541: Received UDP payload: 3814
1336845259550: mux: GOT CSM_Msg
1336845259551: forwarding disabled, not forwarding packets
1336845259557: Received UDP payload: 1006
1336845259605: mux: GOT CSM_Msg
1336845259606: forwarding disabled, not forwarding packets
1336845261450: Received UDP payload: 446
1336845262545: inside sendPacket(Packet p)
1336845262549: Sending UDP payload: 446
1336845263303: Received UDP payload: 446
1336845263933: Received UDP payload: 3745
1336845263940: mux: GOT CSM_Msg
1336845263940: forwarding disabled, not forwarding packets
1336845263954: Received UDP payload: 1006
1336845263972: mux: GOT CSM_Msg
1336845263972: forwarding disabled, not forwarding packets
1336845264101: Received UDP payload: 446
1336845264150: Received UDP payload: 446
1336845266454: Received UDP payload: 446
1336845267390: Received UDP payload: 3834
1336845267398: mux: GOT CSM_Msg
1336845267398: forwarding disabled, not forwarding packets
1336845267410: Received UDP payload: 1006
1336845267417: mux: GOT CSM_Msg
1336845267417: forwarding disabled, not forwarding packets
1336845267546: inside sendPacket(Packet p)
1336845267548: Sending UDP payload: 446
1336845268146: Received UDP payload: 446
1336845268439: Received UDP payload: 3370
1336845268445: mux: Inside mux Packet.CLIENT_REQUEST
1336845268692: Received UDP payload: 3370
1336845268697: mux: Inside mux Packet.CLIENT_REQUEST
1336845269008: Received UDP payload: 3370
1336845269012: mux: Inside mux Packet.CLIENT_REQUEST
1336845269101: Received UDP payload: 446
1336845269152: Received UDP payload: 446
1336845269311: Received UDP payload: 3370
1336845269316: mux: Inside mux Packet.CLIENT_REQUEST
1336845271463: Received UDP payload: 446
1336845272546: inside sendPacket(Packet p)
1336845272549: Sending UDP payload: 446
1336845273147: Received UDP payload: 446
1336845274110: Received UDP payload: 446
1336845274152: Received UDP payload: 446
1336845276135: Received UDP payload: 3807
1336845276142: mux: GOT CSM_Msg
1336845276143: forwarding disabled, not forwarding packets
1336845276153: Received UDP payload: 1006
1336845276165: mux: GOT CSM_Msg
1336845276165: forwarding disabled, not forwarding packets
1336845276500: Received UDP payload: 446
1336845277502: Received UDP payload: 3447
1336845277506: mux: Inside mux Packet.CLIENT_REQUEST
1336845277547: inside sendPacket(Packet p)
1336845277549: Sending UDP payload: 446
1336845277608: Received UDP payload: 3811
1336845277615: mux: GOT CSM_Msg
1336845277616: forwarding disabled, not forwarding packets
1336845277617: Received UDP payload: 446
1336845277631: mux: Inside Packet.SERVER_REPLY
1336845277631: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845277638: Received UDP payload: 1006
1336845277645: mux: GOT CSM_Msg
1336845277645: forwarding disabled, not forwarding packets
1336845277654: Received UDP payload: 659
1336845277655: mux: Inside Packet.SERVER_REPLY
1336845277656: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845277662: Received UDP payload: 446
1336845277663: mux: Inside mux Packet.CLIENT_REQUEST
1336845278150: Received UDP payload: 446
1336845278307: Received UDP payload: 446
1336845279111: Received UDP payload: 446
1336845281177: Received UDP payload: 446
1336845281475: Received UDP payload: 446
1336845282547: inside sendPacket(Packet p)
1336845282550: Sending UDP payload: 446
1336845283159: Received UDP payload: 446
1336845283323: Received UDP payload: 446
1336845284118: Received UDP payload: 446
1336845286161: Received UDP payload: 446
1336845286493: Received UDP payload: 446
1336845287548: inside sendPacket(Packet p)
1336845287563: Sending UDP payload: 446
1336845288163: Received UDP payload: 446
1336845288313: Received UDP payload: 446
1336845289127: Received UDP payload: 446
1336845291165: Received UDP payload: 446
1336845291506: Received UDP payload: 446
1336845292565: inside sendPacket(Packet p)
1336845292568: Sending UDP payload: 446
1336845292903: Received UDP payload: 642
1336845292908: mux: Inside mux Packet.CLIENT_REQUEST
1336845292908: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845292909: inside handleClientRequest. Originator leader of region 1
1336845292909: got new request, requestCounter = 5002045
1336845292909: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845292927: Sending to region: 0
1336845292929: Sending PROC_REQUEST 11:6 (1,0)->(0,0)
1336845292930: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(0,0)
1336845292943: mux: I got a CSM packet at a leader 

1336845292941: Note down new request by adding requestCounter=5002045 to HashMap processedRequests
1336845292941: Make FirstLeg Ack regardless of new or already-processed requests
1336845292942: The leader sending a First Leg ack to originator client (which id = 5002)
1336845292942: inside sendPacket(Packet p)
1336845292955: Sending UDP payload: 1006
1336845292956: forwarding disabled, not forwarding packets
1336845292956: Sending UDP payload: 446
1336845293045: Received UDP payload: 3814
1336845293048: mux: GOT CSM_Msg
1336845293048: Received PROC_REPLY 11:6 (0,0)->(1,0), handing to UserApp
1336845293048: inside handleDSMReply. Now back in originator leader of region 1
1336845293049: DSM layer: Going to and from remote region took latency = 120
1336845293049: DSM layer: orig leader sent packet at 1336845292928 ~ received reply from remote leader at 1336845293048
1336845293050: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845293050: leader client reply has replyCounter: 500204500
1336845293050: reply packet contains the newest photo/success info from the remote region
1336845293050: inside sendReplies of replyCount = 500204500
1336845293051: =======================
1336845293051: inside sendReplyRepeatingRunnable for replyCount = 500204500
1336845293051: Leader about to send REPLY packet, number: 500204500 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845293051: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845293051: inside sendPacket(Packet p)
1336845293051: === Finished one round of sending REPLY Packet =======
1336845293053: Sending UDP payload: 3467
1336845293108: Received UDP payload: 446
1336845293110: mux: Inside mux Packet.CLIENT_REQUEST
1336845293111: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845293111: inside handleClientRequest. Originator leader of region 1
1336845293111: got new request, requestCounter = 5002046
1336845293111: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500204500
1336845293111: Yay the last leg succeeded. Removing reply runnables ...
1336845293111: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500204500
1336845293112: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500204500
1336845293112: do not send ack for received final_leg_ack
1336845293168: Received UDP payload: 446
1336845293218: Received UDP payload: 642
1336845293220: mux: Inside mux Packet.CLIENT_REQUEST
1336845293239: Received UDP payload: 1006
1336845293242: mux: GOT CSM_Msg
1336845293242: forwarding disabled, not forwarding packets
1336845293252: Received UDP payload: 446
1336845293254: mux: Inside Packet.SERVER_REPLY
1336845293254: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845293303: Received UDP payload: 3814
1336845293306: mux: GOT CSM_Msg
1336845293306: forwarding disabled, not forwarding packets
1336845293315: Received UDP payload: 446
1336845293349: Received UDP payload: 3467
1336845293351: mux: Inside Packet.SERVER_REPLY
1336845293352: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845293361: Received UDP payload: 446
1336845293363: mux: Inside mux Packet.CLIENT_REQUEST
1336845294138: Received UDP payload: 446
1336845294669: Received UDP payload: 1006
1336845294676: mux: GOT CSM_Msg
1336845294676: forwarding disabled, not forwarding packets
1336845294711: Received UDP payload: 3814
1336845294718: mux: GOT CSM_Msg
1336845294719: forwarding disabled, not forwarding packets
1336845295221: canPressButton = TRUE
1336845295222: areButtonsEnabled --> false 
1336845295222: get picture disableButtonsR
1336845295222: areButtonsEnabled --> false
1336845295236: one more getNum: 20
1336845295236: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=18 getBad=1 getTimedout=0 getPercent=90%
1336845295237: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336845295237: change local requestCounter to 47
1336845295239: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022047 Client in region: 1 Client nodID: 5022
1336845295270: ----------------------------
1336845295271: inside sendRequestPacketRepeatingRunnable for requestCount = 5022047
1336845295271: I'm a leader, my requesting photos packet going to mux directly
1336845295277: --- Finished one round of sending REQUEST Packet ---------
1336845295271: mux: Inside mux Packet.CLIENT_REQUEST
1336845295271: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845295317: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845295271: inside handleClientRequest. Originator leader of region 1
1336845295272: got new request, requestCounter = 5022047
1336845295272: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845295272: Sending to region: 0
1336845295273: Sending PROC_REQUEST 11:7 (1,0)->(0,0)
1336845295273: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(0,0)
1336845295275: mux: I got a CSM packet at a leader 

1336845295274: Note down new request by adding requestCounter=5022047 to HashMap processedRequests
1336845295274: Make FirstLeg Ack regardless of new or already-processed requests
1336845295275: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845295276: Sending UDP payload: 1006
1336845295276: forwarding disabled, not forwarding packets
1336845295341: Received UDP payload: 3814
1336845295343: mux: GOT CSM_Msg
1336845295344: Received PROC_REPLY 11:7 (0,0)->(1,0), handing to UserApp
1336845295344: inside handleDSMReply. Now back in originator leader of region 1
1336845295366: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845295366: disabling progressdialog due to successful new photo get
1336845295366: Inside _enableButtons
1336845295367: areButtonsEnabled --> true
1336845295367: send final leg ack regardless of new or already-processed reply
1336845295367: inside finalLegAck: change requestCounter to 48
1336845295368: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022048 Client in region: (1,0) Client nodID: 5022
1336845295368: I'm a leader client, my final_leg packet going to mux directly
1336845295369: new client_show_remotephoto reply with replyCounter 502204700
1336845295370: note down new reply by adding replyCounter=502204700 to HashMap processedReplies
1336845295373: leader download remote photo latency = 95
1336845295374: = leader download start 1336845295271 ~ stop 1336845295366
1336845295376: one more getGood: 19
1336845295377: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=19 getBad=1 getTimedout=0 getPercent=95%
1336845295377: adding get latency: 95
1336845295378: Success! Client getting photo from remote region, showing photo...
1336845295378: Remote photo's length: 2786
1336845295344: DSM layer: Going to and from remote region took latency = 72
1336845295344: DSM layer: orig leader sent packet at 1336845295272 ~ received reply from remote leader at 1336845295344
1336845295345: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845295345: leader client reply has replyCounter: 502204700
1336845295345: reply packet contains the newest photo/success info from the remote region
1336845295345: inside sendReplies of replyCount = 502204700
1336845295345: =======================
1336845295346: inside sendReplyRepeatingRunnable for replyCount = 502204700
1336845295346: Leader about to send REPLY packet, number: 502204700 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845295346: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845295346: === Finished one round of sending REPLY Packet =======
1336845295368: mux: Inside mux Packet.CLIENT_REQUEST
1336845295368: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845295368: inside handleClientRequest. Originator leader of region 1
1336845295368: got new request, requestCounter = 5022048
1336845295368: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502204700
1336845295369: Yay the last leg succeeded. Removing reply runnables ...
1336845295369: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502204700
1336845295369: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502204700
1336845295369: do not send ack for received final_leg_ack
1336845296166: Received UDP payload: 446
1336845296546: Received UDP payload: 446
1336845297566: inside sendPacket(Packet p)
1336845297586: Sending UDP payload: 446
1336845298163: Received UDP payload: 446
1336845298317: Received UDP payload: 446
1336845299122: Received UDP payload: 446
1336845301173: Received UDP payload: 446
1336845301542: Received UDP payload: 446
1336845301597: Received UDP payload: 1006
1336845301612: mux: GOT CSM_Msg
1336845301612: forwarding disabled, not forwarding packets
1336845301698: Received UDP payload: 3814
1336845301700: mux: GOT CSM_Msg
1336845301700: forwarding disabled, not forwarding packets
1336845302469: Received UDP payload: 1006
1336845302476: mux: GOT CSM_Msg
1336845302476: forwarding disabled, not forwarding packets
1336845302554: Received UDP payload: 3814
1336845302560: mux: GOT CSM_Msg
1336845302561: forwarding disabled, not forwarding packets
1336845302581: inside sendPacket(Packet p)
1336845302584: Sending UDP payload: 446
1336845303163: Received UDP payload: 446
1336845303334: Received UDP payload: 446
1336845304143: Received UDP payload: 446
1336845306209: Received UDP payload: 446
1336845307123: Received UDP payload: 642
1336845307127: mux: Inside mux Packet.CLIENT_REQUEST
1336845307167: Received UDP payload: 1006
1336845307176: mux: GOT CSM_Msg
1336845307176: forwarding disabled, not forwarding packets
1336845307177: Received UDP payload: 446
1336845307191: mux: Inside Packet.SERVER_REPLY
1336845307191: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845307581: inside sendPacket(Packet p)
1336845307583: Sending UDP payload: 446
1336845307946: Received UDP payload: 1006
1336845307958: mux: GOT CSM_Msg
1336845307958: forwarding disabled, not forwarding packets
1336845308053: Received UDP payload: 1006
1336845308060: mux: GOT CSM_Msg
1336845308060: forwarding disabled, not forwarding packets
1336845308073: Received UDP payload: 1006
1336845308079: mux: GOT CSM_Msg
1336845308080: forwarding disabled, not forwarding packets
1336845308152: Received UDP payload: 1006
1336845308155: mux: GOT CSM_Msg
1336845308155: forwarding disabled, not forwarding packets
1336845308168: Received UDP payload: 446
1336845308256: Received UDP payload: 1006
1336845308258: mux: GOT CSM_Msg
1336845308258: forwarding disabled, not forwarding packets
1336845308323: Received UDP payload: 446
1336845308354: Received UDP payload: 1006
1336845308356: mux: GOT CSM_Msg
1336845308356: forwarding disabled, not forwarding packets
1336845308456: Received UDP payload: 1006
1336845308458: mux: GOT CSM_Msg
1336845308458: forwarding disabled, not forwarding packets
1336845308533: Received UDP payload: 1006
1336845308535: mux: GOT CSM_Msg
1336845308535: forwarding disabled, not forwarding packets
1336845308558: Received UDP payload: 1006
1336845308560: mux: GOT CSM_Msg
1336845308560: forwarding disabled, not forwarding packets
1336845308659: Received UDP payload: 1006
1336845308662: mux: GOT CSM_Msg
1336845308662: forwarding disabled, not forwarding packets
1336845308759: Received UDP payload: 1006
1336845308763: mux: GOT CSM_Msg
1336845308763: forwarding disabled, not forwarding packets
1336845308862: Received UDP payload: 1006
1336845308869: mux: GOT CSM_Msg
1336845308870: forwarding disabled, not forwarding packets
1336845308875: Received UDP payload: 1006
1336845308891: mux: GOT CSM_Msg
1336845308891: forwarding disabled, not forwarding packets
1336845308962: Received UDP payload: 1006
1336845308971: mux: GOT CSM_Msg
1336845308972: forwarding disabled, not forwarding packets
1336845308977: Received UDP payload: 1006
1336845308984: mux: GOT CSM_Msg
1336845308985: forwarding disabled, not forwarding packets
1336845309071: Received UDP payload: 1006
1336845309073: mux: GOT CSM_Msg
1336845309073: forwarding disabled, not forwarding packets
1336845309083: Received UDP payload: 1006
1336845309086: mux: GOT CSM_Msg
1336845309086: forwarding disabled, not forwarding packets
1336845309165: Received UDP payload: 1006
1336845309168: mux: GOT CSM_Msg
1336845309168: forwarding disabled, not forwarding packets
1336845309174: Received UDP payload: 1006
1336845309177: mux: GOT CSM_Msg
1336845309177: forwarding disabled, not forwarding packets
1336845309267: Received UDP payload: 1006
1336845309269: mux: GOT CSM_Msg
1336845309269: forwarding disabled, not forwarding packets
1336845309276: Received UDP payload: 1006
1336845309279: mux: GOT CSM_Msg
1336845309279: forwarding disabled, not forwarding packets
1336845309282: Received UDP payload: 659
1336845309284: mux: Inside Packet.SERVER_REPLY
1336845309284: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845309305: Received UDP payload: 1006
1336845309308: mux: GOT CSM_Msg
1336845309308: forwarding disabled, not forwarding packets
1336845309312: Received UDP payload: 446
1336845309315: mux: Inside mux Packet.CLIENT_REQUEST
1336845309369: Received UDP payload: 1006
1336845309373: mux: GOT CSM_Msg
1336845309373: forwarding disabled, not forwarding packets
1336845309406: Received UDP payload: 1006
1336845309409: mux: GOT CSM_Msg
1336845309409: forwarding disabled, not forwarding packets
1336845309471: Received UDP payload: 1006
1336845309473: mux: GOT CSM_Msg
1336845309474: forwarding disabled, not forwarding packets
1336845309510: Received UDP payload: 1006
1336845309513: mux: GOT CSM_Msg
1336845309513: forwarding disabled, not forwarding packets
1336845309577: Received UDP payload: 1006
1336845309579: mux: GOT CSM_Msg
1336845309579: forwarding disabled, not forwarding packets
1336845309614: Received UDP payload: 1006
1336845309620: mux: GOT CSM_Msg
1336845309620: forwarding disabled, not forwarding packets
1336845309676: Received UDP payload: 1006
1336845309682: mux: GOT CSM_Msg
1336845309682: forwarding disabled, not forwarding packets
1336845309718: Received UDP payload: 1006
1336845309723: mux: GOT CSM_Msg
1336845309723: forwarding disabled, not forwarding packets
1336845309737: Received UDP payload: 642
1336845309740: mux: Inside mux Packet.CLIENT_REQUEST
1336845309765: Received UDP payload: 1006
1336845309771: mux: GOT CSM_Msg
1336845309771: forwarding disabled, not forwarding packets
1336845309772: Received UDP payload: 446
1336845309777: mux: Inside Packet.SERVER_REPLY
1336845309777: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845309786: Received UDP payload: 1006
1336845309795: mux: GOT CSM_Msg
1336845309795: forwarding disabled, not forwarding packets
1336845309817: Received UDP payload: 1006
1336845309819: mux: GOT CSM_Msg
1336845309820: forwarding disabled, not forwarding packets
1336845309881: Received UDP payload: 1006
1336845309883: mux: GOT CSM_Msg
1336845309884: forwarding disabled, not forwarding packets
1336845309920: Received UDP payload: 1006
1336845309926: mux: GOT CSM_Msg
1336845309927: forwarding disabled, not forwarding packets
1336845309982: Received UDP payload: 1006
1336845309985: mux: GOT CSM_Msg
1336845309985: forwarding disabled, not forwarding packets
1336845310021: Received UDP payload: 1006
1336845310025: mux: GOT CSM_Msg
1336845310025: forwarding disabled, not forwarding packets
1336845310090: Received UDP payload: 1006
1336845310094: mux: GOT CSM_Msg
1336845310094: forwarding disabled, not forwarding packets
1336845310124: Received UDP payload: 1006
1336845310128: mux: GOT CSM_Msg
1336845310128: forwarding disabled, not forwarding packets
1336845310182: Received UDP payload: 1006
1336845310185: mux: GOT CSM_Msg
1336845310186: forwarding disabled, not forwarding packets
1336845310242: Received UDP payload: 1006
1336845310245: mux: GOT CSM_Msg
1336845310246: forwarding disabled, not forwarding packets
1336845310329: Received UDP payload: 1006
1336845310333: mux: GOT CSM_Msg
1336845310333: forwarding disabled, not forwarding packets
1336845310429: Received UDP payload: 1006
1336845310436: mux: GOT CSM_Msg
1336845310436: forwarding disabled, not forwarding packets
1336845310528: Received UDP payload: 1006
1336845310534: mux: GOT CSM_Msg
1336845310534: forwarding disabled, not forwarding packets
1336845310540: Received UDP payload: 1006
1336845310559: mux: GOT CSM_Msg
1336845310559: forwarding disabled, not forwarding packets
1336845310636: Received UDP payload: 1006
1336845310642: mux: GOT CSM_Msg
1336845310642: forwarding disabled, not forwarding packets
1336845310645: Received UDP payload: 1006
1336845310654: mux: GOT CSM_Msg
1336845310654: forwarding disabled, not forwarding packets
1336845310739: Received UDP payload: 1006
1336845310750: mux: GOT CSM_Msg
1336845310750: forwarding disabled, not forwarding packets
1336845310752: Received UDP payload: 1006
1336845310761: mux: GOT CSM_Msg
1336845310762: forwarding disabled, not forwarding packets
1336845310845: Received UDP payload: 1006
1336845310852: mux: GOT CSM_Msg
1336845310852: forwarding disabled, not forwarding packets
1336845310947: Received UDP payload: 1006
1336845310954: mux: GOT CSM_Msg
1336845310955: forwarding disabled, not forwarding packets
1336845311048: Received UDP payload: 1006
1336845311056: mux: GOT CSM_Msg
1336845311057: forwarding disabled, not forwarding packets
1336845311151: Received UDP payload: 1006
1336845311159: mux: GOT CSM_Msg
1336845311159: forwarding disabled, not forwarding packets
1336845311168: Received UDP payload: 446
1336845311257: Received UDP payload: 1006
1336845311264: mux: GOT CSM_Msg
1336845311264: forwarding disabled, not forwarding packets
1336845311363: Received UDP payload: 1006
1336845311370: mux: GOT CSM_Msg
1336845311370: forwarding disabled, not forwarding packets
1336845311463: Received UDP payload: 1006
1336845311491: mux: GOT CSM_Msg
1336845311492: forwarding disabled, not forwarding packets
1336845311557: Received UDP payload: 446
1336845311566: Received UDP payload: 1006
1336845311568: mux: GOT CSM_Msg
1336845311568: forwarding disabled, not forwarding packets
1336845311668: Received UDP payload: 1006
1336845311677: mux: GOT CSM_Msg
1336845311677: forwarding disabled, not forwarding packets
1336845311772: Received UDP payload: 1006
1336845311775: mux: GOT CSM_Msg
1336845311775: forwarding disabled, not forwarding packets
1336845311874: Received UDP payload: 1006
1336845311877: mux: GOT CSM_Msg
1336845311878: forwarding disabled, not forwarding packets
1336845311882: Received UDP payload: 659
1336845311895: mux: Inside Packet.SERVER_REPLY
1336845311895: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845311948: Received UDP payload: 446
1336845311949: mux: Inside mux Packet.CLIENT_REQUEST
1336845312582: inside sendPacket(Packet p)
1336845312608: Sending UDP payload: 446
1336845313184: Received UDP payload: 446
1336845313323: Received UDP payload: 446
1336845314150: Received UDP payload: 446
1336845316186: Received UDP payload: 446
1336845316572: Received UDP payload: 446
1336845317592: inside sendPacket(Packet p)
1336845317596: Sending UDP payload: 446
1336845318200: Received UDP payload: 446
1336845318339: Received UDP payload: 446
1336845319149: Received UDP payload: 446
1336845321203: Received UDP payload: 446
1336845321573: Received UDP payload: 446
1336845322593: inside sendPacket(Packet p)
1336845322603: Sending UDP payload: 446
1336845323197: Received UDP payload: 446
1336845323344: Received UDP payload: 446
1336845324162: Received UDP payload: 446
1336845326199: Received UDP payload: 446
1336845326593: Received UDP payload: 446
1336845327602: inside sendPacket(Packet p)
1336845327604: Sending UDP payload: 446
1336845328189: Received UDP payload: 446
1336845328367: Received UDP payload: 446
1336845329169: Received UDP payload: 446
1336845331198: Received UDP payload: 446
1336845331604: Received UDP payload: 446
1336845332603: inside sendPacket(Packet p)
1336845332613: Sending UDP payload: 446
1336845333204: Received UDP payload: 446
1336845333361: Received UDP payload: 446
1336845334179: Received UDP payload: 446
1336845336204: Received UDP payload: 446
1336845336612: Received UDP payload: 446
1336845337519: leader to cloud hearbeat...
1336845338242: Received UDP payload: 446
1336845338354: Received UDP payload: 446
1336845338507: Received UDP payload: 1006
1336845338509: mux: GOT CSM_Msg
1336845338510: forwarding disabled, not forwarding packets
1336845338602: Received UDP payload: 3814
1336845338604: mux: GOT CSM_Msg
1336845338604: forwarding disabled, not forwarding packets
1336845339574: inside sendPacket(Packet p)
1336845339591: Sending UDP payload: 446
1336845340541: Received UDP payload: 642
1336845340546: mux: Inside mux Packet.CLIENT_REQUEST
1336845340623: Received UDP payload: 1006
1336845340631: mux: GOT CSM_Msg
1336845340631: forwarding disabled, not forwarding packets
1336845340635: Received UDP payload: 446
1336845340647: mux: Inside Packet.SERVER_REPLY
1336845340647: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845340685: Received UDP payload: 3814
1336845340688: mux: GOT CSM_Msg
1336845340688: forwarding disabled, not forwarding packets
1336845340727: Received UDP payload: 3467
1336845340728: mux: Inside Packet.SERVER_REPLY
1336845340728: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845340741: Received UDP payload: 446
1336845340742: mux: Inside mux Packet.CLIENT_REQUEST
1336845341054: Received UDP payload: 446
1336845341203: Received UDP payload: 446
1336845341622: Received UDP payload: 446
1336845343229: Received UDP payload: 446
1336845343355: Received UDP payload: 446
1336845344365: Received UDP payload: 1006
1336845344367: mux: GOT CSM_Msg
1336845344367: forwarding disabled, not forwarding packets
1336845344451: Received UDP payload: 3814
1336845344453: mux: GOT CSM_Msg
1336845344453: forwarding disabled, not forwarding packets
1336845344592: inside sendPacket(Packet p)
1336845344593: Sending UDP payload: 446
1336845345819: Received UDP payload: 642
1336845345824: mux: Inside mux Packet.CLIENT_REQUEST
1336845345909: Received UDP payload: 1006
1336845345915: mux: GOT CSM_Msg
1336845345916: forwarding disabled, not forwarding packets
1336845345921: Received UDP payload: 446
1336845345925: mux: Inside Packet.SERVER_REPLY
1336845345925: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845345983: Received UDP payload: 3814
1336845345985: mux: GOT CSM_Msg
1336845345985: forwarding disabled, not forwarding packets
1336845346036: Received UDP payload: 3467
1336845346037: mux: Inside Packet.SERVER_REPLY
1336845346038: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845346052: Received UDP payload: 446
1336845346053: mux: Inside mux Packet.CLIENT_REQUEST
1336845346059: Received UDP payload: 446
1336845346208: Received UDP payload: 446
1336845346627: Received UDP payload: 446
1336845348238: Received UDP payload: 446
1336845348363: Received UDP payload: 446
1336845349593: inside sendPacket(Packet p)
1336845349593: Sending UDP payload: 446
1336845351069: Received UDP payload: 446
1336845351212: Received UDP payload: 446
1336845351646: Received UDP payload: 446
1336845353248: Received UDP payload: 446
1336845353368: Received UDP payload: 446
1336845354592: inside sendPacket(Packet p)
1336845354593: Sending UDP payload: 446
1336845356076: Received UDP payload: 446
1336845356213: Received UDP payload: 446
1336845357036: Received UDP payload: 642
1336845357043: mux: Inside mux Packet.CLIENT_REQUEST
1336845357087: Received UDP payload: 1006
1336845357093: mux: GOT CSM_Msg
1336845357093: removed replies before id 6 from sentReplies of size 0
1336845357093: inside handleDSMRequest. At requests's remote leader of region 1
1336845357095: INSIDE SERVER_GET_PHOTO!!!
1336845357099: Received UDP payload: 446
1336845357101: Received PROC_REQUEST 11:6 (0,0)->(1,0), replying PROC_REPLY 11:6 (1,0)->(0,0)
1336845357101: Dispatching Atom PROC_REPLY 11:6 (1,0)->(0,0)
1336845357101: mux: I got a CSM packet at a leader 

1336845357113: mux: Inside Packet.SERVER_REPLY
1336845357113: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845357112: Sending UDP payload: 3760
1336845357113: forwarding disabled, not forwarding packets
1336845357207: Received UDP payload: 3413
1336845357209: mux: Inside Packet.SERVER_REPLY
1336845357209: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845357227: Received UDP payload: 446
1336845357229: mux: Inside mux Packet.CLIENT_REQUEST
1336845357907: Received UDP payload: 642
1336845357912: mux: Inside mux Packet.CLIENT_REQUEST
1336845357913: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845357913: inside handleClientRequest. Originator leader of region 1
1336845357914: got new request, requestCounter = 5002047
1336845357914: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845357916: Sending to region: 1
1336845357917: Sending PROC_REQUEST 11:14 (1,0)->(1,0)
1336845357918: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(1,0)
1336845357931: mux: I got a CSM packet at a leader 

1336845357918: Note down new request by adding requestCounter=5002047 to HashMap processedRequests
1336845357919: Make FirstLeg Ack regardless of new or already-processed requests
1336845357919: The leader sending a First Leg ack to originator client (which id = 5002)
1336845357919: inside sendPacket(Packet p)
1336845357956: Sending UDP payload: 1006
1336845357959: removed replies before id 14 from sentReplies of size 0
1336845357959: inside handleDSMRequest. At requests's remote leader of region 1
1336845357962: INSIDE SERVER_GET_PHOTO!!!
1336845357971: dst_region == src_region = 1
1336845357972:  1 self to self atomRequest
1336845357975: Received PROC_REQUEST 11:14 (1,0)->(1,0), replying PROC_REPLY 11:14 (1,0)->(1,0)
1336845357976: Dispatching Atom PROC_REPLY 11:14 (1,0)->(1,0)
1336845358013: mux: I got a CSM packet at a leader 

1336845357978: Sending UDP payload: 446
1336845358014: Sending UDP payload: 3760
1336845358016: Received PROC_REPLY 11:14 (1,0)->(1,0), handing to UserApp
1336845358016: inside handleDSMReply. Now back in originator leader of region 1
1336845358017: DSM layer: Going to and from remote region took latency = 100
1336845358017: DSM layer: orig leader sent packet at 1336845357916 ~ received reply from remote leader at 1336845358016
1336845358017: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845358018: leader client reply has replyCounter: 500204700
1336845358018: reply packet contains the newest photo/success info from the remote region
1336845358018: inside sendReplies of replyCount = 500204700
1336845358018: =======================
1336845358018: inside sendReplyRepeatingRunnable for replyCount = 500204700
1336845358018: Leader about to send REPLY packet, number: 500204700 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845358018: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845358018: inside sendPacket(Packet p)
1336845358018: === Finished one round of sending REPLY Packet =======
1336845358020: Sending UDP payload: 3413
1336845358120: Received UDP payload: 446
1336845358122: mux: Inside mux Packet.CLIENT_REQUEST
1336845358122: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845358122: inside handleClientRequest. Originator leader of region 1
1336845358122: got new request, requestCounter = 5002048
1336845358122: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500204700
1336845358122: Yay the last leg succeeded. Removing reply runnables ...
1336845358122: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500204700
1336845358122: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500204700
1336845358122: do not send ack for received final_leg_ack
1336845358252: Received UDP payload: 446
1336845358365: Received UDP payload: 446
1336845358715: Received UDP payload: 1006
1336845358724: mux: GOT CSM_Msg
1336845358725: removed replies before id 7 from sentReplies of size 0
1336845358725: inside handleDSMRequest. At requests's remote leader of region 1
1336845358727: INSIDE SERVER_GET_PHOTO!!!
1336845358743: Received PROC_REQUEST 11:7 (0,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(0,0)
1336845358744: Dispatching Atom PROC_REPLY 11:7 (1,0)->(0,0)
1336845358745: mux: I got a CSM packet at a leader 

1336845358758: Sending UDP payload: 3760
1336845358762: forwarding disabled, not forwarding packets
1336845358821: Received UDP payload: 446
1336845359593: inside sendPacket(Packet p)
1336845359594: Sending UDP payload: 446
1336845361087: Received UDP payload: 446
1336845361222: Received UDP payload: 446
1336845361588: canPressButton = TRUE
1336845361589: areButtonsEnabled --> false 
1336845361589: get picture disableButtonsR
1336845361589: areButtonsEnabled --> false
1336845361615: one more getNum: 21
1336845361616: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=19 getBad=1 getTimedout=0 getPercent=90%
1336845361616: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336845361617: change local requestCounter to 49
1336845361623: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022049 Client in region: 1 Client nodID: 5022
1336845361655: ----------------------------
1336845361655: inside sendRequestPacketRepeatingRunnable for requestCount = 5022049
1336845361655: I'm a leader, my requesting photos packet going to mux directly
1336845361665: --- Finished one round of sending REQUEST Packet ---------
1336845361656: mux: Inside mux Packet.CLIENT_REQUEST
1336845361656: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845361714: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845361656: inside handleClientRequest. Originator leader of region 1
1336845361656: got new request, requestCounter = 5022049
1336845361656: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845361657: Sending to region: 1
1336845361657: Sending PROC_REQUEST 11:15 (1,0)->(1,0)
1336845361657: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(1,0)
1336845361659: mux: I got a CSM packet at a leader 

1336845361658: Note down new request by adding requestCounter=5022049 to HashMap processedRequests
1336845361658: Make FirstLeg Ack regardless of new or already-processed requests
1336845361659: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845361660: Sending UDP payload: 1006
1336845361661: removed replies before id 15 from sentReplies of size 0
1336845361661: inside handleDSMRequest. At requests's remote leader of region 1
1336845361662: INSIDE SERVER_GET_PHOTO!!!
1336845361663: dst_region == src_region = 1
1336845361663:  1 self to self atomRequest
1336845361664: Received PROC_REQUEST 11:15 (1,0)->(1,0), replying PROC_REPLY 11:15 (1,0)->(1,0)
1336845361664: Dispatching Atom PROC_REPLY 11:15 (1,0)->(1,0)
1336845361664: mux: I got a CSM packet at a leader 

1336845361719: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845361719: disabling progressdialog due to successful new photo get
1336845361720: Inside _enableButtons
1336845361720: areButtonsEnabled --> true
1336845361720: send final leg ack regardless of new or already-processed reply
1336845361720: inside finalLegAck: change requestCounter to 50
1336845361721: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022050 Client in region: (1,0) Client nodID: 5022
1336845361721: I'm a leader client, my final_leg packet going to mux directly
1336845361722: new client_show_remotephoto reply with replyCounter 502204900
1336845361723: note down new reply by adding replyCounter=502204900 to HashMap processedReplies
1336845361723: leader download remote photo latency = 64
1336845361723: = leader download start 1336845361655 ~ stop 1336845361719
1336845361724: one more getGood: 20
1336845361725: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=20 getBad=1 getTimedout=0 getPercent=95%
1336845361725: adding get latency: 64
1336845361726: Success! Client getting photo from remote region, showing photo...
1336845361726: Remote photo's length: 2732
1336845361675: Sending UDP payload: 3760
1336845361677: Received PROC_REPLY 11:15 (1,0)->(1,0), handing to UserApp
1336845361677: inside handleDSMReply. Now back in originator leader of region 1
1336845361677: DSM layer: Going to and from remote region took latency = 20
1336845361677: DSM layer: orig leader sent packet at 1336845361657 ~ received reply from remote leader at 1336845361677
1336845361679: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845361679: leader client reply has replyCounter: 502204900
1336845361679: reply packet contains the newest photo/success info from the remote region
1336845361679: inside sendReplies of replyCount = 502204900
1336845361679: =======================
1336845361679: inside sendReplyRepeatingRunnable for replyCount = 502204900
1336845361679: Leader about to send REPLY packet, number: 502204900 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845361679: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845361680: === Finished one round of sending REPLY Packet =======
1336845361721: mux: Inside mux Packet.CLIENT_REQUEST
1336845361721: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845361721: inside handleClientRequest. Originator leader of region 1
1336845361722: got new request, requestCounter = 5022050
1336845361722: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502204900
1336845361722: Yay the last leg succeeded. Removing reply runnables ...
1336845361722: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502204900
1336845361722: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502204900
1336845361722: do not send ack for received final_leg_ack
1336845363258: Received UDP payload: 446
1336845363367: Received UDP payload: 446
1336845363828: Received UDP payload: 446
1336845364594: inside sendPacket(Packet p)
1336845364597: Sending UDP payload: 446
1336845366117: Received UDP payload: 446
1336845366245: Received UDP payload: 446
1336845367538: Received UDP payload: 1006
1336845367547: mux: GOT CSM_Msg
1336845367548: removed replies before id 4 from sentReplies of size 0
1336845367548: inside handleDSMRequest. At requests's remote leader of region 1
1336845367562: INSIDE SERVER_GET_PHOTO!!!
1336845367567: Received PROC_REQUEST 11:4 (3,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(3,0)
1336845367568: Dispatching Atom PROC_REPLY 11:4 (1,0)->(3,0)
1336845367569: mux: I got a CSM packet at a leader 

1336845367580: Sending UDP payload: 3760
1336845367591: forwarding disabled, not forwarding packets
1336845368274: Received UDP payload: 446
1336845368371: Received UDP payload: 446
1336845368842: Received UDP payload: 446
1336845369594: inside sendPacket(Packet p)
1336845369597: Sending UDP payload: 446
1336845369817: Received UDP payload: 1006
1336845369825: mux: GOT CSM_Msg
1336845369825: removed replies before id 3 from sentReplies of size 0
1336845369826: inside handleDSMRequest. At requests's remote leader of region 1
1336845369828: INSIDE SERVER_GET_PHOTO!!!
1336845369833: Received PROC_REQUEST 11:3 (2,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1336845369834: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1336845369834: mux: I got a CSM packet at a leader 

1336845369838: Sending UDP payload: 3760
1336845369852: forwarding disabled, not forwarding packets
1336845371102: Received UDP payload: 446
1336845371253: Received UDP payload: 446
1336845373377: Received UDP payload: 446
1336845373860: Received UDP payload: 446
1336845374331: Received UDP payload: 642
1336845374335: mux: Inside mux Packet.CLIENT_REQUEST
1336845374377: Received UDP payload: 1006
1336845374384: mux: GOT CSM_Msg
1336845374384: removed replies before id 6 from sentReplies of size 0
1336845374384: inside handleDSMRequest. At requests's remote leader of region 1
1336845374385: INSIDE SERVER_GET_PHOTO!!!
1336845374386: Received PROC_REQUEST 11:6 (5,0)->(1,0), replying PROC_REPLY 11:6 (1,0)->(5,0)
1336845374386: Dispatching Atom PROC_REPLY 11:6 (1,0)->(5,0)
1336845374386: mux: I got a CSM packet at a leader 

1336845374387: Sending UDP payload: 3760
1336845374388: forwarding disabled, not forwarding packets
1336845374389: Received UDP payload: 446
1336845374390: mux: Inside Packet.SERVER_REPLY
1336845374390: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845374498: Received UDP payload: 3413
1336845374501: mux: Inside Packet.SERVER_REPLY
1336845374501: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845374513: Received UDP payload: 446
1336845374515: mux: Inside mux Packet.CLIENT_REQUEST
1336845374595: inside sendPacket(Packet p)
1336845374596: Sending UDP payload: 446
1336845375272: Received UDP payload: 446
1336845375595: Received UDP payload: 1006
1336845375604: mux: GOT CSM_Msg
1336845375605: removed replies before id 7 from sentReplies of size 0
1336845375605: inside handleDSMRequest. At requests's remote leader of region 1
1336845375607: INSIDE SERVER_GET_PHOTO!!!
1336845375623: Received PROC_REQUEST 11:7 (5,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(5,0)
1336845375624: Dispatching Atom PROC_REPLY 11:7 (1,0)->(5,0)
1336845375625: mux: I got a CSM packet at a leader 

1336845375629: Sending UDP payload: 3760
1336845375642: forwarding disabled, not forwarding packets
1336845376091: Received UDP payload: 446
1336845376285: Received UDP payload: 1006
1336845376293: mux: GOT CSM_Msg
1336845376293: removed replies before id 6 from sentReplies of size 0
1336845376294: inside handleDSMRequest. At requests's remote leader of region 1
1336845376296: INSIDE SERVER_GET_PHOTO!!!
1336845376308: Received PROC_REQUEST 11:6 (4,0)->(1,0), replying PROC_REPLY 11:6 (1,0)->(4,0)
1336845376309: Dispatching Atom PROC_REPLY 11:6 (1,0)->(4,0)
1336845376310: mux: I got a CSM packet at a leader 

1336845376318: Received UDP payload: 446
1336845376335: Sending UDP payload: 3760
1336845376343: forwarding disabled, not forwarding packets
1336845377712: Received UDP payload: 642
1336845377717: mux: Inside mux Packet.CLIENT_REQUEST
1336845377806: Received UDP payload: 1006
1336845377814: mux: GOT CSM_Msg
1336845377815: removed replies before id 7 from sentReplies of size 0
1336845377815: inside handleDSMRequest. At requests's remote leader of region 1
1336845377817: INSIDE SERVER_GET_PHOTO!!!
1336845377823: Received PROC_REQUEST 11:7 (4,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(4,0)
1336845377829: Received UDP payload: 446
1336845377834: mux: Inside Packet.SERVER_REPLY
1336845377835: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845377834: Dispatching Atom PROC_REPLY 11:7 (1,0)->(4,0)
1336845377835: mux: I got a CSM packet at a leader 

1336845377839: Sending UDP payload: 3760
1336845377854: forwarding disabled, not forwarding packets
1336845377939: Received UDP payload: 3413
1336845377942: mux: Inside Packet.SERVER_REPLY
1336845377942: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845377953: Received UDP payload: 446
1336845377955: mux: Inside mux Packet.CLIENT_REQUEST
1336845378377: Received UDP payload: 446
1336845378852: Received UDP payload: 446
1336845379597: inside sendPacket(Packet p)
1336845379603: Sending UDP payload: 446
1336845380276: Received UDP payload: 446
1336845381108: Received UDP payload: 446
1336845381262: Received UDP payload: 446
1336845383856: Received UDP payload: 446
1336845384608: inside sendPacket(Packet p)
1336845384611: Sending UDP payload: 446
1336845385275: Received UDP payload: 446
1336845385446: Received UDP payload: 446
1336845386107: Received UDP payload: 446
1336845386267: Received UDP payload: 446
1336845388856: Received UDP payload: 446
1336845389611: inside sendPacket(Packet p)
1336845389623: Sending UDP payload: 446
1336845390172: Received UDP payload: 642
1336845390177: mux: Inside mux Packet.CLIENT_REQUEST
1336845390208: Received UDP payload: 1006
1336845390216: mux: GOT CSM_Msg
1336845390217: forwarding disabled, not forwarding packets
1336845390218: Received UDP payload: 446
1336845390226: mux: Inside Packet.SERVER_REPLY
1336845390227: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845390284: Received UDP payload: 446
1336845390296: Received UDP payload: 3834
1336845390298: mux: GOT CSM_Msg
1336845390298: forwarding disabled, not forwarding packets
1336845390351: Received UDP payload: 3487
1336845390353: mux: Inside Packet.SERVER_REPLY
1336845390353: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845390372: Received UDP payload: 446
1336845390374: mux: Inside mux Packet.CLIENT_REQUEST
1336845390451: Received UDP payload: 446
1336845391102: Received UDP payload: 446
1336845391266: Received UDP payload: 446
1336845391384: Received UDP payload: 1006
1336845391393: mux: GOT CSM_Msg
1336845391393: forwarding disabled, not forwarding packets
1336845391478: Received UDP payload: 3834
1336845391485: mux: GOT CSM_Msg
1336845391485: forwarding disabled, not forwarding packets
1336845391664: canPressButton = TRUE
1336845391664: areButtonsEnabled --> false 
1336845391664: get picture disableButtonsR
1336845391664: areButtonsEnabled --> false
1336845391677: one more getNum: 22
1336845391678: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=20 getBad=1 getTimedout=0 getPercent=90%
1336845391679: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336845391679: change local requestCounter to 51
1336845391679: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022051 Client in region: 1 Client nodID: 5022
1336845391708: ----------------------------
1336845391709: inside sendRequestPacketRepeatingRunnable for requestCount = 5022051
1336845391709: I'm a leader, my requesting photos packet going to mux directly
1336845391715: --- Finished one round of sending REQUEST Packet ---------
1336845391709: mux: Inside mux Packet.CLIENT_REQUEST
1336845391709: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845391750: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845391709: inside handleClientRequest. Originator leader of region 1
1336845391709: got new request, requestCounter = 5022051
1336845391709: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845391710: Sending to region: 2
1336845391711: Sending PROC_REQUEST 11:6 (1,0)->(2,0)
1336845391711: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(2,0)
1336845391712: mux: I got a CSM packet at a leader 

1336845391711: Note down new request by adding requestCounter=5022051 to HashMap processedRequests
1336845391711: Make FirstLeg Ack regardless of new or already-processed requests
1336845391711: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845391714: Sending UDP payload: 1006
1336845391714: forwarding disabled, not forwarding packets
1336845391781: Received UDP payload: 3834
1336845391785: mux: GOT CSM_Msg
1336845391785: Received PROC_REPLY 11:6 (2,0)->(1,0), handing to UserApp
1336845391785: inside handleDSMReply. Now back in originator leader of region 1
1336845391785: DSM layer: Going to and from remote region took latency = 75
1336845391785: DSM layer: orig leader sent packet at 1336845391710 ~ received reply from remote leader at 1336845391785
1336845391786: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845391786: leader client reply has replyCounter: 502205100
1336845391786: reply packet contains the newest photo/success info from the remote region
1336845391786: inside sendReplies of replyCount = 502205100
1336845391801: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845391803: disabling progressdialog due to successful new photo get
1336845391803: Inside _enableButtons
1336845391803: areButtonsEnabled --> true
1336845391803: send final leg ack regardless of new or already-processed reply
1336845391804: inside finalLegAck: change requestCounter to 52
1336845391804: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022052 Client in region: (1,0) Client nodID: 5022
1336845391804: I'm a leader client, my final_leg packet going to mux directly
1336845391806: new client_show_remotephoto reply with replyCounter 502205100
1336845391806: note down new reply by adding replyCounter=502205100 to HashMap processedReplies
1336845391806: leader download remote photo latency = 92
1336845391806: = leader download start 1336845391709 ~ stop 1336845391801
1336845391807: one more getGood: 21
1336845391808: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=21 getBad=1 getTimedout=0 getPercent=95%
1336845391808: adding get latency: 92
1336845391811: Success! Client getting photo from remote region, showing photo...
1336845391811: Remote photo's length: 2806
1336845391787: =======================
1336845391787: inside sendReplyRepeatingRunnable for replyCount = 502205100
1336845391787: Leader about to send REPLY packet, number: 502205100 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845391787: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845391787: === Finished one round of sending REPLY Packet =======
1336845391804: mux: Inside mux Packet.CLIENT_REQUEST
1336845391805: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845391805: inside handleClientRequest. Originator leader of region 1
1336845391805: got new request, requestCounter = 5022052
1336845391805: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502205100
1336845391805: Yay the last leg succeeded. Removing reply runnables ...
1336845391805: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502205100
1336845391805: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502205100
1336845391805: do not send ack for received final_leg_ack
1336845392990: Received UDP payload: 642
1336845393008: mux: Inside mux Packet.CLIENT_REQUEST
1336845393008: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845393009: inside handleClientRequest. Originator leader of region 1
1336845393009: got new request, requestCounter = 5002049
1336845393010: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845393027: Sending to region: 2
1336845393028: Sending PROC_REQUEST 11:7 (1,0)->(2,0)
1336845393043: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1336845393044: mux: I got a CSM packet at a leader 

1336845393043: Note down new request by adding requestCounter=5002049 to HashMap processedRequests
1336845393044: Make FirstLeg Ack regardless of new or already-processed requests
1336845393044: The leader sending a First Leg ack to originator client (which id = 5002)
1336845393044: inside sendPacket(Packet p)
1336845393056: Sending UDP payload: 1006
1336845393056: forwarding disabled, not forwarding packets
1336845393057: Sending UDP payload: 446
1336845393127: Received UDP payload: 3834
1336845393131: mux: GOT CSM_Msg
1336845393132: Received PROC_REPLY 11:7 (2,0)->(1,0), handing to UserApp
1336845393132: inside handleDSMReply. Now back in originator leader of region 1
1336845393132: DSM layer: Going to and from remote region took latency = 105
1336845393132: DSM layer: orig leader sent packet at 1336845393027 ~ received reply from remote leader at 1336845393132
1336845393133: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845393133: leader client reply has replyCounter: 500204900
1336845393133: reply packet contains the newest photo/success info from the remote region
1336845393133: inside sendReplies of replyCount = 500204900
1336845393133: =======================
1336845393134: inside sendReplyRepeatingRunnable for replyCount = 500204900
1336845393134: Leader about to send REPLY packet, number: 500204900 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845393134: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845393134: inside sendPacket(Packet p)
1336845393134: === Finished one round of sending REPLY Packet =======
1336845393135: Sending UDP payload: 3487
1336845393196: Received UDP payload: 446
1336845393197: mux: Inside mux Packet.CLIENT_REQUEST
1336845393197: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845393197: inside handleClientRequest. Originator leader of region 1
1336845393197: got new request, requestCounter = 5002050
1336845393198: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500204900
1336845393198: Yay the last leg succeeded. Removing reply runnables ...
1336845393198: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500204900
1336845393198: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500204900
1336845393198: do not send ack for received final_leg_ack
1336845393855: Received UDP payload: 446
1336845394625: inside sendPacket(Packet p)
1336845394628: Sending UDP payload: 446
1336845395469: Received UDP payload: 446
1336845396107: Received UDP payload: 446
1336845396282: Received UDP payload: 446
1336845397734: Received UDP payload: 1006
1336845397742: mux: GOT CSM_Msg
1336845397743: forwarding disabled, not forwarding packets
1336845397830: Received UDP payload: 3834
1336845397832: mux: GOT CSM_Msg
1336845397832: forwarding disabled, not forwarding packets
1336845398869: Received UDP payload: 446
1336845399219: Received UDP payload: 1006
1336845399228: mux: GOT CSM_Msg
1336845399229: forwarding disabled, not forwarding packets
1336845399263: Received UDP payload: 3834
1336845399277: mux: GOT CSM_Msg
1336845399278: forwarding disabled, not forwarding packets
1336845399631: inside sendPacket(Packet p)
1336845399633: Sending UDP payload: 446
1336845400282: Received UDP payload: 446
1336845400465: Received UDP payload: 446
1336845401101: Received UDP payload: 446
1336845403434: Received UDP payload: 446
1336845403865: Received UDP payload: 446
1336845404632: inside sendPacket(Packet p)
1336845404634: Sending UDP payload: 446
1336845404825: Received UDP payload: 642
1336845404829: mux: Inside mux Packet.CLIENT_REQUEST
1336845404880: Received UDP payload: 1006
1336845404885: mux: GOT CSM_Msg
1336845404885: forwarding disabled, not forwarding packets
1336845404888: Received UDP payload: 446
1336845404889: mux: Inside Packet.SERVER_REPLY
1336845404889: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845404961: Received UDP payload: 3834
1336845404963: mux: GOT CSM_Msg
1336845404963: forwarding disabled, not forwarding packets
1336845405006: Received UDP payload: 3487
1336845405008: mux: Inside Packet.SERVER_REPLY
1336845405008: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845405018: Received UDP payload: 446
1336845405019: mux: Inside mux Packet.CLIENT_REQUEST
1336845405277: Received UDP payload: 446
1336845405461: Received UDP payload: 446
1336845405791: Received UDP payload: 1006
1336845405798: mux: GOT CSM_Msg
1336845405799: forwarding disabled, not forwarding packets
1336845405814: Received UDP payload: 1006
1336845405826: mux: GOT CSM_Msg
1336845405827: forwarding disabled, not forwarding packets
1336845405886: Received UDP payload: 3834
1336845405888: mux: GOT CSM_Msg
1336845405888: forwarding disabled, not forwarding packets
1336845406121: Received UDP payload: 446
1336845407541: Received UDP payload: 642
1336845407546: mux: Inside mux Packet.CLIENT_REQUEST
1336845407598: Received UDP payload: 1006
1336845407601: mux: GOT CSM_Msg
1336845407601: forwarding disabled, not forwarding packets
1336845407605: Received UDP payload: 446
1336845407607: mux: Inside Packet.SERVER_REPLY
1336845407607: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845407696: Received UDP payload: 3834
1336845407698: mux: GOT CSM_Msg
1336845407698: forwarding disabled, not forwarding packets
1336845407744: Received UDP payload: 3487
1336845407746: mux: Inside Packet.SERVER_REPLY
1336845407746: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845407754: Received UDP payload: 446
1336845407755: mux: Inside mux Packet.CLIENT_REQUEST
1336845408439: Received UDP payload: 446
1336845408860: Received UDP payload: 446
1336845409633: inside sendPacket(Packet p)
1336845409643: Sending UDP payload: 446
1336845410291: Received UDP payload: 446
1336845410473: Received UDP payload: 446
1336845411111: Received UDP payload: 446
1336845413452: Received UDP payload: 446
1336845413859: Received UDP payload: 446
1336845414645: inside sendPacket(Packet p)
1336845414648: Sending UDP payload: 446
1336845415288: Received UDP payload: 446
1336845415492: Received UDP payload: 446
1336845416115: Received UDP payload: 446
1336845418452: Received UDP payload: 446
1336845418863: Received UDP payload: 446
1336845419165: Received UDP payload: 642
1336845419171: mux: Inside mux Packet.CLIENT_REQUEST
1336845419209: Received UDP payload: 1006
1336845419217: mux: GOT CSM_Msg
1336845419218: forwarding disabled, not forwarding packets
1336845419224: Received UDP payload: 446
1336845419225: mux: Inside Packet.SERVER_REPLY
1336845419225: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845419270: Received UDP payload: 3745
1336845419272: mux: GOT CSM_Msg
1336845419272: forwarding disabled, not forwarding packets
1336845419323: Received UDP payload: 3398
1336845419325: mux: Inside Packet.SERVER_REPLY
1336845419325: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845419339: Received UDP payload: 446
1336845419341: mux: Inside mux Packet.CLIENT_REQUEST
1336845419647: inside sendPacket(Packet p)
1336845419647: Sending UDP payload: 446
1336845419940: canPressButton = TRUE
1336845419941: areButtonsEnabled --> false 
1336845419941: get picture disableButtonsR
1336845419941: areButtonsEnabled --> false
1336845419974: one more getNum: 23
1336845419975: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=21 getBad=1 getTimedout=0 getPercent=91%
1336845419976: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336845419976: change local requestCounter to 53
1336845419979: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022053 Client in region: 1 Client nodID: 5022
1336845420046: ----------------------------
1336845420047: inside sendRequestPacketRepeatingRunnable for requestCount = 5022053
1336845420047: I'm a leader, my requesting photos packet going to mux directly
1336845420047: --- Finished one round of sending REQUEST Packet ---------
1336845420047: mux: Inside mux Packet.CLIENT_REQUEST
1336845420048: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845420100: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845420048: inside handleClientRequest. Originator leader of region 1
1336845420048: got new request, requestCounter = 5022053
1336845420048: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845420049: Sending to region: 3
1336845420049: Sending PROC_REQUEST 11:6 (1,0)->(3,0)
1336845420049: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(3,0)
1336845420056: mux: I got a CSM packet at a leader 

1336845420050: Note down new request by adding requestCounter=5022053 to HashMap processedRequests
1336845420050: Make FirstLeg Ack regardless of new or already-processed requests
1336845420050: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845420058: Sending UDP payload: 1006
1336845420058: forwarding disabled, not forwarding packets
1336845420158: Received UDP payload: 3745
1336845420160: mux: GOT CSM_Msg
1336845420189: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845420190: disabling progressdialog due to successful new photo get
1336845420190: Inside _enableButtons
1336845420191: areButtonsEnabled --> true
1336845420191: send final leg ack regardless of new or already-processed reply
1336845420191: inside finalLegAck: change requestCounter to 54
1336845420192: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022054 Client in region: (1,0) Client nodID: 5022
1336845420192: I'm a leader client, my final_leg packet going to mux directly
1336845420194: new client_show_remotephoto reply with replyCounter 502205300
1336845420194: note down new reply by adding replyCounter=502205300 to HashMap processedReplies
1336845420194: leader download remote photo latency = 142
1336845420195: = leader download start 1336845420047 ~ stop 1336845420189
1336845420198: one more getGood: 22
1336845420201: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=22 getBad=1 getTimedout=0 getPercent=95%
1336845420201: adding get latency: 142
1336845420202: Success! Client getting photo from remote region, showing photo...
1336845420202: Remote photo's length: 2717
1336845420160: Received PROC_REPLY 11:6 (3,0)->(1,0), handing to UserApp
1336845420161: inside handleDSMReply. Now back in originator leader of region 1
1336845420161: DSM layer: Going to and from remote region took latency = 112
1336845420161: DSM layer: orig leader sent packet at 1336845420049 ~ received reply from remote leader at 1336845420161
1336845420162: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845420162: leader client reply has replyCounter: 502205300
1336845420162: reply packet contains the newest photo/success info from the remote region
1336845420162: inside sendReplies of replyCount = 502205300
1336845420166: =======================
1336845420166: inside sendReplyRepeatingRunnable for replyCount = 502205300
1336845420166: Leader about to send REPLY packet, number: 502205300 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845420166: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845420166: === Finished one round of sending REPLY Packet =======
1336845420193: mux: Inside mux Packet.CLIENT_REQUEST
1336845420193: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845420193: inside handleClientRequest. Originator leader of region 1
1336845420193: got new request, requestCounter = 5022054
1336845420193: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502205300
1336845420193: Yay the last leg succeeded. Removing reply runnables ...
1336845420193: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502205300
1336845420193: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502205300
1336845420193: do not send ack for received final_leg_ack
1336845420289: Received UDP payload: 446
1336845420318: Received UDP payload: 1006
1336845420325: mux: GOT CSM_Msg
1336845420326: forwarding disabled, not forwarding packets
1336845420437: Received UDP payload: 3745
1336845420439: mux: GOT CSM_Msg
1336845420439: forwarding disabled, not forwarding packets
1336845420511: Received UDP payload: 446
1336845421116: Received UDP payload: 446
1336845421293: Received UDP payload: 642
1336845421299: mux: Inside mux Packet.CLIENT_REQUEST
1336845421300: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845421301: inside handleClientRequest. Originator leader of region 1
1336845421302: got new request, requestCounter = 5002051
1336845421302: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845421312: Sending to region: 3
1336845421315: Sending PROC_REQUEST 11:7 (1,0)->(3,0)
1336845421318: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1336845421321: mux: I got a CSM packet at a leader 

1336845421318: Note down new request by adding requestCounter=5002051 to HashMap processedRequests
1336845421319: Make FirstLeg Ack regardless of new or already-processed requests
1336845421319: The leader sending a First Leg ack to originator client (which id = 5002)
1336845421320: inside sendPacket(Packet p)
1336845421346: Sending UDP payload: 1006
1336845421347: forwarding disabled, not forwarding packets
1336845421348: Sending UDP payload: 446
1336845421491: Received UDP payload: 3745
1336845421494: mux: GOT CSM_Msg
1336845421494: Received PROC_REPLY 11:7 (3,0)->(1,0), handing to UserApp
1336845421494: inside handleDSMReply. Now back in originator leader of region 1
1336845421495: DSM layer: Going to and from remote region took latency = 181
1336845421495: DSM layer: orig leader sent packet at 1336845421313 ~ received reply from remote leader at 1336845421494
1336845421496: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845421496: leader client reply has replyCounter: 500205100
1336845421496: reply packet contains the newest photo/success info from the remote region
1336845421496: inside sendReplies of replyCount = 500205100
1336845421496: =======================
1336845421497: inside sendReplyRepeatingRunnable for replyCount = 500205100
1336845421497: Leader about to send REPLY packet, number: 500205100 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845421497: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845421497: inside sendPacket(Packet p)
1336845421497: === Finished one round of sending REPLY Packet =======
1336845421499: Sending UDP payload: 3398
1336845421552: Received UDP payload: 446
1336845421554: mux: Inside mux Packet.CLIENT_REQUEST
1336845421554: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845421554: inside handleClientRequest. Originator leader of region 1
1336845421554: got new request, requestCounter = 5002052
1336845421554: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500205100
1336845421554: Yay the last leg succeeded. Removing reply runnables ...
1336845421555: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500205100
1336845421555: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500205100
1336845421555: do not send ack for received final_leg_ack
1336845423462: Received UDP payload: 446
1336845423904: Received UDP payload: 446
1336845424646: inside sendPacket(Packet p)
1336845424663: Sending UDP payload: 446
1336845425360: Received UDP payload: 446
1336845425518: Received UDP payload: 446
1336845426143: Received UDP payload: 446
1336845429666: inside sendPacket(Packet p)
1336845429667: Sending UDP payload: 446
1336845433471: Received UDP payload: 446
1336845433871: Received UDP payload: 446
1336845434666: inside sendPacket(Packet p)
1336845434667: Sending UDP payload: 446
1336845435291: Received UDP payload: 446
1336845435544: Received UDP payload: 446
1336845436135: Received UDP payload: 446
1336845438492: Received UDP payload: 446
1336845438891: Received UDP payload: 446
1336845439666: inside sendPacket(Packet p)
1336845439669: Sending UDP payload: 446
1336845440143: Received UDP payload: 642
1336845440148: mux: Inside mux Packet.CLIENT_REQUEST
1336845440179: Received UDP payload: 1006
1336845440195: mux: GOT CSM_Msg
1336845440195: forwarding disabled, not forwarding packets
1336845440202: Received UDP payload: 446
1336845440203: mux: Inside Packet.SERVER_REPLY
1336845440203: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845440253: Received UDP payload: 3745
1336845440255: mux: GOT CSM_Msg
1336845440256: forwarding disabled, not forwarding packets
1336845440299: Received UDP payload: 446
1336845440304: Received UDP payload: 3398
1336845440306: mux: Inside Packet.SERVER_REPLY
1336845440306: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845440314: Received UDP payload: 446
1336845440316: mux: Inside mux Packet.CLIENT_REQUEST
1336845440543: Received UDP payload: 446
1336845440644: Received UDP payload: 1006
1336845440646: mux: GOT CSM_Msg
1336845440646: forwarding disabled, not forwarding packets
1336845440698: Received UDP payload: 3745
1336845440701: mux: GOT CSM_Msg
1336845440701: forwarding disabled, not forwarding packets
1336845441142: Received UDP payload: 446
1336845441768: Received UDP payload: 1006
1336845441773: mux: GOT CSM_Msg
1336845441773: forwarding disabled, not forwarding packets
1336845441781: Received UDP payload: 642
1336845441783: mux: Inside mux Packet.CLIENT_REQUEST
1336845441830: Received UDP payload: 1006
1336845441834: mux: GOT CSM_Msg
1336845441834: forwarding disabled, not forwarding packets
1336845441856: Received UDP payload: 446
1336845441858: mux: Inside Packet.SERVER_REPLY
1336845441859: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845441867: Received UDP payload: 3745
1336845441871: mux: GOT CSM_Msg
1336845441871: forwarding disabled, not forwarding packets
1336845441912: Received UDP payload: 3745
1336845441923: mux: GOT CSM_Msg
1336845441923: forwarding disabled, not forwarding packets
1336845441967: Received UDP payload: 3398
1336845441969: mux: Inside Packet.SERVER_REPLY
1336845441969: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845441977: Received UDP payload: 446
1336845441978: mux: Inside mux Packet.CLIENT_REQUEST
1336845443506: Received UDP payload: 446
1336845443898: Received UDP payload: 446
1336845444668: inside sendPacket(Packet p)
1336845444671: Sending UDP payload: 446
1336845445293: Received UDP payload: 446
1336845445585: Received UDP payload: 446
1336845446154: Received UDP payload: 446
1336845448519: Received UDP payload: 446
1336845448898: Received UDP payload: 446
1336845449669: inside sendPacket(Packet p)
1336845449672: Sending UDP payload: 446
1336845450294: Received UDP payload: 446
1336845450574: Received UDP payload: 446
1336845451174: Received UDP payload: 446
1336845453538: Received UDP payload: 446
1336845453907: Received UDP payload: 446
1336845454672: inside sendPacket(Packet p)
1336845454683: Sending UDP payload: 446
1336845455294: Received UDP payload: 446
1336845455584: Received UDP payload: 446
1336845456180: Received UDP payload: 446
1336845456949: Received UDP payload: 642
1336845456954: mux: Inside mux Packet.CLIENT_REQUEST
1336845456994: Received UDP payload: 1006
1336845457003: mux: GOT CSM_Msg
1336845457003: forwarding disabled, not forwarding packets
1336845457009: Received UDP payload: 446
1336845457013: mux: Inside Packet.SERVER_REPLY
1336845457013: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845457058: Received UDP payload: 3811
1336845457060: mux: GOT CSM_Msg
1336845457060: forwarding disabled, not forwarding packets
1336845457122: Received UDP payload: 3464
1336845457124: mux: Inside Packet.SERVER_REPLY
1336845457124: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845457135: Received UDP payload: 446
1336845457137: mux: Inside mux Packet.CLIENT_REQUEST
1336845458111: Received UDP payload: 1006
1336845458121: mux: GOT CSM_Msg
1336845458121: forwarding disabled, not forwarding packets
1336845458196: Received UDP payload: 3811
1336845458198: mux: GOT CSM_Msg
1336845458198: forwarding disabled, not forwarding packets
1336845458543: Received UDP payload: 446
1336845458925: Received UDP payload: 446
1336845459574: leader to cloud hearbeat...
1336845460292: Received UDP payload: 446
1336845460588: Received UDP payload: 446
1336845461556: inside sendPacket(Packet p)
1336845461573: Sending UDP payload: 446
1336845461988: Received UDP payload: 642
1336845461993: mux: Inside mux Packet.CLIENT_REQUEST
1336845461993: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845461993: inside handleClientRequest. Originator leader of region 1
1336845461994: got new request, requestCounter = 5002053
1336845461994: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845461996: Sending to region: 4
1336845461997: Sending PROC_REQUEST 11:7 (1,0)->(4,0)
1336845461998: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(4,0)
1336845462002: mux: I got a CSM packet at a leader 

1336845461999: Note down new request by adding requestCounter=5002053 to HashMap processedRequests
1336845461999: Make FirstLeg Ack regardless of new or already-processed requests
1336845461999: The leader sending a First Leg ack to originator client (which id = 5002)
1336845462000: inside sendPacket(Packet p)
1336845462014: Sending UDP payload: 1006
1336845462016: forwarding disabled, not forwarding packets
1336845462019: Sending UDP payload: 446
1336845462099: Received UDP payload: 3811
1336845462101: mux: GOT CSM_Msg
1336845462101: Received PROC_REPLY 11:7 (4,0)->(1,0), handing to UserApp
1336845462102: inside handleDSMReply. Now back in originator leader of region 1
1336845462102: DSM layer: Going to and from remote region took latency = 106
1336845462102: DSM layer: orig leader sent packet at 1336845461996 ~ received reply from remote leader at 1336845462102
1336845462103: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845462103: leader client reply has replyCounter: 500205300
1336845462103: reply packet contains the newest photo/success info from the remote region
1336845462103: inside sendReplies of replyCount = 500205300
1336845462103: =======================
1336845462103: inside sendReplyRepeatingRunnable for replyCount = 500205300
1336845462104: Leader about to send REPLY packet, number: 500205300 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845462104: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845462104: inside sendPacket(Packet p)
1336845462104: === Finished one round of sending REPLY Packet =======
1336845462121: Sending UDP payload: 3464
1336845462173: Received UDP payload: 446
1336845462175: mux: Inside mux Packet.CLIENT_REQUEST
1336845462175: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845462175: inside handleClientRequest. Originator leader of region 1
1336845462175: got new request, requestCounter = 5002054
1336845462175: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500205300
1336845462175: Yay the last leg succeeded. Removing reply runnables ...
1336845462176: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500205300
1336845462176: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500205300
1336845462176: do not send ack for received final_leg_ack
1336845463048: canPressButton = TRUE
1336845463049: areButtonsEnabled --> false 
1336845463049: get picture disableButtonsR
1336845463050: areButtonsEnabled --> false
1336845463081: one more getNum: 24
1336845463082: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=22 getBad=1 getTimedout=0 getPercent=91%
1336845463082: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336845463083: change local requestCounter to 55
1336845463086: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022055 Client in region: 1 Client nodID: 5022
1336845463114: ----------------------------
1336845463115: inside sendRequestPacketRepeatingRunnable for requestCount = 5022055
1336845463115: I'm a leader, my requesting photos packet going to mux directly
1336845463122: --- Finished one round of sending REQUEST Packet ---------
1336845463115: mux: Inside mux Packet.CLIENT_REQUEST
1336845463115: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845463160: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845463115: inside handleClientRequest. Originator leader of region 1
1336845463115: got new request, requestCounter = 5022055
1336845463116: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845463116: Sending to region: 4
1336845463117: Sending PROC_REQUEST 11:8 (1,0)->(4,0)
1336845463117: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(4,0)
1336845463118: mux: I got a CSM packet at a leader 

1336845463117: Note down new request by adding requestCounter=5022055 to HashMap processedRequests
1336845463117: Make FirstLeg Ack regardless of new or already-processed requests
1336845463117: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845463119: Sending UDP payload: 1006
1336845463121: forwarding disabled, not forwarding packets
1336845463224: Received UDP payload: 3811
1336845463226: mux: GOT CSM_Msg
1336845463226: Received PROC_REPLY 11:8 (4,0)->(1,0), handing to UserApp
1336845463226: inside handleDSMReply. Now back in originator leader of region 1
1336845463227: DSM layer: Going to and from remote region took latency = 110
1336845463227: DSM layer: orig leader sent packet at 1336845463116 ~ received reply from remote leader at 1336845463226
1336845463227: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845463227: leader client reply has replyCounter: 502205500
1336845463228: reply packet contains the newest photo/success info from the remote region
1336845463228: inside sendReplies of replyCount = 502205500
1336845463230: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845463231: disabling progressdialog due to successful new photo get
1336845463231: Inside _enableButtons
1336845463231: areButtonsEnabled --> true
1336845463231: send final leg ack regardless of new or already-processed reply
1336845463232: inside finalLegAck: change requestCounter to 56
1336845463232: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022056 Client in region: (1,0) Client nodID: 5022
1336845463232: I'm a leader client, my final_leg packet going to mux directly
1336845463237: new client_show_remotephoto reply with replyCounter 502205500
1336845463237: note down new reply by adding replyCounter=502205500 to HashMap processedReplies
1336845463237: leader download remote photo latency = 115
1336845463238: = leader download start 1336845463115 ~ stop 1336845463230
1336845463239: one more getGood: 23
1336845463240: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=23 getBad=1 getTimedout=0 getPercent=95%
1336845463240: adding get latency: 115
1336845463244: Success! Client getting photo from remote region, showing photo...
1336845463245: Remote photo's length: 2783
1336845463228: =======================
1336845463228: inside sendReplyRepeatingRunnable for replyCount = 502205500
1336845463228: Leader about to send REPLY packet, number: 502205500 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845463228: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845463228: === Finished one round of sending REPLY Packet =======
1336845463232: mux: Inside mux Packet.CLIENT_REQUEST
1336845463233: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845463233: inside handleClientRequest. Originator leader of region 1
1336845463233: got new request, requestCounter = 5022056
1336845463233: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502205500
1336845463234: Yay the last leg succeeded. Removing reply runnables ...
1336845463234: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502205500
1336845463234: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502205500
1336845463234: do not send ack for received final_leg_ack
1336845463243: Received UDP payload: 446
1336845463550: Received UDP payload: 446
1336845463908: Received UDP payload: 446
1336845465310: Received UDP payload: 446
1336845465576: Received UDP payload: 446
1336845466575: inside sendPacket(Packet p)
1336845466592: Sending UDP payload: 446
1336845467064: Received UDP payload: 1006
1336845467077: mux: GOT CSM_Msg
1336845467077: forwarding disabled, not forwarding packets
1336845468257: Received UDP payload: 446
1336845468338: Received UDP payload: 1006
1336845468350: mux: GOT CSM_Msg
1336845468351: forwarding disabled, not forwarding packets
1336845468425: Received UDP payload: 3811
1336845468427: mux: GOT CSM_Msg
1336845468427: forwarding disabled, not forwarding packets
1336845468548: Received UDP payload: 446
1336845468910: Received UDP payload: 446
1336845470307: Received UDP payload: 446
1336845470594: Received UDP payload: 446
1336845471576: inside sendPacket(Packet p)
1336845471593: Sending UDP payload: 446
1336845473259: Received UDP payload: 446
1336845473553: Received UDP payload: 446
1336845473915: Received UDP payload: 446
1336845475303: Received UDP payload: 446
1336845475614: Received UDP payload: 446
1336845476596: inside sendPacket(Packet p)
1336845476599: Sending UDP payload: 446
1336845476982: Received UDP payload: 1006
1336845476989: mux: GOT CSM_Msg
1336845476989: forwarding disabled, not forwarding packets
1336845477021: Received UDP payload: 3811
1336845477029: mux: GOT CSM_Msg
1336845477029: forwarding disabled, not forwarding packets
1336845478257: Received UDP payload: 642
1336845478262: mux: Inside mux Packet.CLIENT_REQUEST
1336845478293: Received UDP payload: 446
1336845478326: Received UDP payload: 446
1336845478330: mux: Inside Packet.SERVER_REPLY
1336845478331: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845478368: Received UDP payload: 3811
1336845478376: mux: GOT CSM_Msg
1336845478376: forwarding disabled, not forwarding packets
1336845478407: Received UDP payload: 3464
1336845478413: mux: Inside Packet.SERVER_REPLY
1336845478413: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845478418: Received UDP payload: 446
1336845478419: mux: Inside mux Packet.CLIENT_REQUEST
1336845478550: Received UDP payload: 446
1336845479982: Received UDP payload: 1006
1336845479989: mux: GOT CSM_Msg
1336845479989: forwarding disabled, not forwarding packets
1336845480050: Received UDP payload: 3811
1336845480055: mux: GOT CSM_Msg
1336845480055: forwarding disabled, not forwarding packets
1336845480297: Received UDP payload: 446
1336845480619: Received UDP payload: 446
1336845480929: Received UDP payload: 446
1336845481397: Received UDP payload: 642
1336845481403: mux: Inside mux Packet.CLIENT_REQUEST
1336845481447: Received UDP payload: 1006
1336845481455: mux: GOT CSM_Msg
1336845481455: forwarding disabled, not forwarding packets
1336845481457: Received UDP payload: 446
1336845481458: mux: Inside Packet.SERVER_REPLY
1336845481458: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845481518: Received UDP payload: 3811
1336845481520: mux: GOT CSM_Msg
1336845481520: forwarding disabled, not forwarding packets
1336845481560: Received UDP payload: 3464
1336845481562: mux: Inside Packet.SERVER_REPLY
1336845481562: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845481571: Received UDP payload: 446
1336845481572: mux: Inside mux Packet.CLIENT_REQUEST
1336845481597: inside sendPacket(Packet p)
1336845481598: Sending UDP payload: 446
1336845483292: Received UDP payload: 446
1336845483560: Received UDP payload: 446
1336845485312: Received UDP payload: 446
1336845485621: Received UDP payload: 446
1336845485929: Received UDP payload: 446
1336845486598: inside sendPacket(Packet p)
1336845486613: Sending UDP payload: 446
1336845488412: Received UDP payload: 446
1336845488584: Received UDP payload: 446
1336845489739: Received UDP payload: 642
1336845489744: mux: Inside mux Packet.CLIENT_REQUEST
1336845489785: Received UDP payload: 1006
1336845489796: mux: GOT CSM_Msg
1336845489796: forwarding disabled, not forwarding packets
1336845489796: Received UDP payload: 446
1336845489797: mux: Inside Packet.SERVER_REPLY
1336845489797: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845489864: Received UDP payload: 3734
1336845489866: mux: GOT CSM_Msg
1336845489866: forwarding disabled, not forwarding packets
1336845489922: Received UDP payload: 3387
1336845489923: mux: Inside Packet.SERVER_REPLY
1336845489924: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845489945: Received UDP payload: 446
1336845489946: mux: Inside mux Packet.CLIENT_REQUEST
1336845490309: Received UDP payload: 446
1336845490637: Received UDP payload: 446
1336845490921: Received UDP payload: 1006
1336845490929: mux: GOT CSM_Msg
1336845490930: forwarding disabled, not forwarding packets
1336845490941: Received UDP payload: 446
1336845491010: Received UDP payload: 3734
1336845491016: mux: GOT CSM_Msg
1336845491017: forwarding disabled, not forwarding packets
1336845491614: inside sendPacket(Packet p)
1336845491622: Sending UDP payload: 446
1336845493299: Received UDP payload: 446
1336845493607: Received UDP payload: 446
1336845495648: Received UDP payload: 446
1336845495944: Received UDP payload: 446
1336845496625: inside sendPacket(Packet p)
1336845496628: Sending UDP payload: 446
1336845497111: Received UDP payload: 642
1336845497115: mux: Inside mux Packet.CLIENT_REQUEST
1336845497116: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845497116: inside handleClientRequest. Originator leader of region 1
1336845497116: got new request, requestCounter = 5002055
1336845497117: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845497125: Sending to region: 5
1336845497126: Sending PROC_REQUEST 11:6 (1,0)->(5,0)
1336845497128: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(5,0)
1336845497130: mux: I got a CSM packet at a leader 

1336845497128: Note down new request by adding requestCounter=5002055 to HashMap processedRequests
1336845497128: Make FirstLeg Ack regardless of new or already-processed requests
1336845497129: The leader sending a First Leg ack to originator client (which id = 5002)
1336845497129: inside sendPacket(Packet p)
1336845497154: Sending UDP payload: 1006
1336845497165: forwarding disabled, not forwarding packets
1336845497169: Sending UDP payload: 446
1336845497229: Received UDP payload: 3734
1336845497232: mux: GOT CSM_Msg
1336845497232: Received PROC_REPLY 11:6 (5,0)->(1,0), handing to UserApp
1336845497232: inside handleDSMReply. Now back in originator leader of region 1
1336845497232: DSM layer: Going to and from remote region took latency = 106
1336845497232: DSM layer: orig leader sent packet at 1336845497126 ~ received reply from remote leader at 1336845497232
1336845497233: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845497233: leader client reply has replyCounter: 500205500
1336845497233: reply packet contains the newest photo/success info from the remote region
1336845497234: inside sendReplies of replyCount = 500205500
1336845497234: =======================
1336845497234: inside sendReplyRepeatingRunnable for replyCount = 500205500
1336845497234: Leader about to send REPLY packet, number: 500205500 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845497234: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845497235: inside sendPacket(Packet p)
1336845497235: === Finished one round of sending REPLY Packet =======
1336845497236: Sending UDP payload: 3387
1336845497302: Received UDP payload: 446
1336845497303: mux: Inside mux Packet.CLIENT_REQUEST
1336845497303: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845497303: inside handleClientRequest. Originator leader of region 1
1336845497304: got new request, requestCounter = 5002056
1336845497304: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500205500
1336845497304: Yay the last leg succeeded. Removing reply runnables ...
1336845497304: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500205500
1336845497304: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500205500
1336845497304: do not send ack for received final_leg_ack
1336845497312: Received UDP payload: 446
1336845498055: canPressButton = TRUE
1336845498056: areButtonsEnabled --> false 
1336845498056: get picture disableButtonsR
1336845498056: areButtonsEnabled --> false
1336845498083: one more getNum: 25
1336845498084: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=25 getGood=23 getBad=1 getTimedout=0 getPercent=92%
1336845498085: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336845498085: change local requestCounter to 57
1336845498092: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022057 Client in region: 1 Client nodID: 5022
1336845498139: ----------------------------
1336845498139: inside sendRequestPacketRepeatingRunnable for requestCount = 5022057
1336845498140: I'm a leader, my requesting photos packet going to mux directly
1336845498145: --- Finished one round of sending REQUEST Packet ---------
1336845498104: Received UDP payload: 1006
1336845498107: mux: GOT CSM_Msg
1336845498107: forwarding disabled, not forwarding packets
1336845498140: mux: Inside mux Packet.CLIENT_REQUEST
1336845498140: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845498181: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845498140: inside handleClientRequest. Originator leader of region 1
1336845498140: got new request, requestCounter = 5022057
1336845498140: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845498141: Sending to region: 5
1336845498141: Sending PROC_REQUEST 11:7 (1,0)->(5,0)
1336845498142: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(5,0)
1336845498142: mux: I got a CSM packet at a leader 

1336845498142: Note down new request by adding requestCounter=5022057 to HashMap processedRequests
1336845498142: Make FirstLeg Ack regardless of new or already-processed requests
1336845498142: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845498144: Sending UDP payload: 1006
1336845498144: forwarding disabled, not forwarding packets
1336845498195: Received UDP payload: 3734
1336845498197: mux: GOT CSM_Msg
1336845498197: forwarding disabled, not forwarding packets
1336845498230: Received UDP payload: 3734
1336845498232: mux: GOT CSM_Msg
1336845498232: Received PROC_REPLY 11:7 (5,0)->(1,0), handing to UserApp
1336845498232: inside handleDSMReply. Now back in originator leader of region 1
1336845498233: DSM layer: Going to and from remote region took latency = 91
1336845498233: DSM layer: orig leader sent packet at 1336845498141 ~ received reply from remote leader at 1336845498232
1336845498233: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845498233: leader client reply has replyCounter: 502205700
1336845498234: reply packet contains the newest photo/success info from the remote region
1336845498234: inside sendReplies of replyCount = 502205700
1336845498249: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845498249: disabling progressdialog due to successful new photo get
1336845498249: Inside _enableButtons
1336845498249: areButtonsEnabled --> true
1336845498250: send final leg ack regardless of new or already-processed reply
1336845498250: inside finalLegAck: change requestCounter to 58
1336845498250: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022058 Client in region: (1,0) Client nodID: 5022
1336845498251: I'm a leader client, my final_leg packet going to mux directly
1336845498252: new client_show_remotephoto reply with replyCounter 502205700
1336845498252: note down new reply by adding replyCounter=502205700 to HashMap processedReplies
1336845498253: leader download remote photo latency = 109
1336845498253: = leader download start 1336845498140 ~ stop 1336845498249
1336845498257: one more getGood: 24
1336845498258: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=25 getGood=24 getBad=1 getTimedout=0 getPercent=96%
1336845498258: adding get latency: 109
1336845498258: Success! Client getting photo from remote region, showing photo...
1336845498259: Remote photo's length: 2706
1336845498236: =======================
1336845498236: inside sendReplyRepeatingRunnable for replyCount = 502205700
1336845498236: Leader about to send REPLY packet, number: 502205700 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845498236: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845498236: === Finished one round of sending REPLY Packet =======
1336845498251: mux: Inside mux Packet.CLIENT_REQUEST
1336845498251: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845498251: inside handleClientRequest. Originator leader of region 1
1336845498251: got new request, requestCounter = 5022058
1336845498251: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502205700
1336845498251: Yay the last leg succeeded. Removing reply runnables ...
1336845498252: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502205700
1336845498252: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502205700
1336845498252: do not send ack for received final_leg_ack
1336845498310: Received UDP payload: 446
1336845498601: Received UDP payload: 446
1336845500644: Received UDP payload: 446
1336845500946: Received UDP payload: 446
1336845501625: inside sendPacket(Packet p)
1336845501663: Sending UDP payload: 446
1336845502114: Received UDP payload: 642
1336845502120: mux: Inside mux Packet.CLIENT_REQUEST
1336845502121: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845502121: inside handleClientRequest. Originator leader of region 1
1336845502121: got new request, requestCounter = 5002057
1336845502122: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845502127: Sending to region: 5
1336845502128: Sending PROC_REQUEST 11:8 (1,0)->(5,0)
1336845502129: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(5,0)
1336845502142: mux: I got a CSM packet at a leader 

1336845502130: Note down new request by adding requestCounter=5002057 to HashMap processedRequests
1336845502140: Make FirstLeg Ack regardless of new or already-processed requests
1336845502141: The leader sending a First Leg ack to originator client (which id = 5002)
1336845502141: inside sendPacket(Packet p)
1336845502161: Sending UDP payload: 1006
1336845502163: forwarding disabled, not forwarding packets
1336845502165: Sending UDP payload: 446
1336845502317: Received UDP payload: 446
1336845502853: Retrying PROC_REQUEST 11:8 (1,0)->(5,0)
1336845502861: Dispatching Atom PROC_REQUEST 11:8 (1,0)->(5,0)
1336845502862: mux: I got a CSM packet at a leader 

1336845502865: Sending UDP payload: 1006
1336845502867: forwarding disabled, not forwarding packets
1336845502965: Received UDP payload: 3734
1336845502968: mux: GOT CSM_Msg
1336845502969: Received PROC_REPLY 11:8 (5,0)->(1,0), handing to UserApp
1336845502969: inside handleDSMReply. Now back in originator leader of region 1
1336845502969: DSM layer: Going to and from remote region took latency = 842
1336845502969: DSM layer: orig leader sent packet at 1336845502127 ~ received reply from remote leader at 1336845502969
1336845502970: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845502970: leader client reply has replyCounter: 500205700
1336845502970: reply packet contains the newest photo/success info from the remote region
1336845502970: inside sendReplies of replyCount = 500205700
1336845502971: =======================
1336845502971: inside sendReplyRepeatingRunnable for replyCount = 500205700
1336845502971: Leader about to send REPLY packet, number: 500205700 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845502971: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845502971: inside sendPacket(Packet p)
1336845502971: === Finished one round of sending REPLY Packet =======
1336845502975: Sending UDP payload: 3387
1336845503036: Received UDP payload: 446
1336845503038: mux: Inside mux Packet.CLIENT_REQUEST
1336845503038: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845503039: inside handleClientRequest. Originator leader of region 1
1336845503039: got new request, requestCounter = 5002058
1336845503039: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500205700
1336845503039: Yay the last leg succeeded. Removing reply runnables ...
1336845503039: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500205700
1336845503040: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500205700
1336845503040: do not send ack for received final_leg_ack
1336845503292: Received UDP payload: 446
1336845503606: Received UDP payload: 446
1336845505946: Received UDP payload: 446
1336845506627: inside sendPacket(Packet p)
1336845506631: Sending UDP payload: 446
1336845507319: Received UDP payload: 446
1336845507772: Received UDP payload: 446
1336845508299: Received UDP payload: 446
1336845508614: Received UDP payload: 446
1336845510158: Received UDP payload: 1006
1336845510166: mux: GOT CSM_Msg
1336845510166: forwarding disabled, not forwarding packets
1336845510241: Received UDP payload: 3734
1336845510251: mux: GOT CSM_Msg
1336845510251: forwarding disabled, not forwarding packets
1336845510946: Received UDP payload: 446
1336845511630: inside sendPacket(Packet p)
1336845511640: Sending UDP payload: 446
1336845512321: Received UDP payload: 446
1336845512828: Received UDP payload: 446
1336845513215: Received UDP payload: 1006
1336845513222: mux: GOT CSM_Msg
1336845513223: forwarding disabled, not forwarding packets
1336845513288: Received UDP payload: 3734
1336845513295: mux: GOT CSM_Msg
1336845513295: forwarding disabled, not forwarding packets
1336845513307: Received UDP payload: 446
1336845513611: Received UDP payload: 446
1336845514598: Received UDP payload: 642
1336845514603: mux: Inside mux Packet.CLIENT_REQUEST
1336845514671: Received UDP payload: 1006
1336845514678: mux: GOT CSM_Msg
1336845514678: forwarding disabled, not forwarding packets
1336845514690: Received UDP payload: 446
1336845514694: mux: Inside Packet.SERVER_REPLY
1336845514695: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845514799: Received UDP payload: 3734
1336845514802: mux: GOT CSM_Msg
1336845514802: forwarding disabled, not forwarding packets
1336845514836: Received UDP payload: 3387
1336845514838: mux: Inside Packet.SERVER_REPLY
1336845514838: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845514847: Received UDP payload: 446
1336845514849: mux: Inside mux Packet.CLIENT_REQUEST
1336845515960: Received UDP payload: 446
1336845516645: inside sendPacket(Packet p)
1336845516648: Sending UDP payload: 446
1336845517322: Received UDP payload: 446
1336845517558: Received UDP payload: 1006
1336845517567: mux: GOT CSM_Msg
1336845517567: forwarding disabled, not forwarding packets
1336845517600: Received UDP payload: 3734
1336845517608: mux: GOT CSM_Msg
1336845517608: forwarding disabled, not forwarding packets
1336845517774: Received UDP payload: 446
1336845518306: Received UDP payload: 446
1336845518622: Received UDP payload: 446
1336845518951: Received UDP payload: 642
1336845518956: mux: Inside mux Packet.CLIENT_REQUEST
1336845518993: Received UDP payload: 1006
1336845519001: mux: GOT CSM_Msg
1336845519002: forwarding disabled, not forwarding packets
1336845519030: Received UDP payload: 446
1336845519034: mux: Inside Packet.SERVER_REPLY
1336845519034: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845519071: Received UDP payload: 3734
1336845519073: mux: GOT CSM_Msg
1336845519073: forwarding disabled, not forwarding packets
1336845519118: Received UDP payload: 3387
1336845519120: mux: Inside Packet.SERVER_REPLY
1336845519120: mux: Ignoring SERVER_REPLY since it's not for me  5022
1336845519130: Received UDP payload: 446
1336845519131: mux: Inside mux Packet.CLIENT_REQUEST
1336845520959: Received UDP payload: 446
1336845521647: inside sendPacket(Packet p)
1336845521663: Sending UDP payload: 446
1336845522339: Received UDP payload: 446
1336845522776: Received UDP payload: 446
1336845523321: Received UDP payload: 446
1336845525531: Received UDP payload: 446
1336845525954: Received UDP payload: 446
1336845526664: inside sendPacket(Packet p)
1336845526667: Sending UDP payload: 446
1336845527343: Received UDP payload: 446
1336845527790: Received UDP payload: 446
1336845528340: Received UDP payload: 446
1336845530534: Received UDP payload: 446
1336845530957: Received UDP payload: 446
1336845531666: inside sendPacket(Packet p)
1336845531669: Sending UDP payload: 446
1336845532345: Received UDP payload: 446
1336845532802: Received UDP payload: 446
1336845533348: Received UDP payload: 446
1336845535574: Received UDP payload: 446
1336845535972: Received UDP payload: 446
1336845536666: inside sendPacket(Packet p)
1336845536669: Sending UDP payload: 446
1336845537319: Received UDP payload: 642
1336845537324: mux: Inside mux Packet.CLIENT_REQUEST
1336845537324: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845537325: inside handleClientRequest. Originator leader of region 1
1336845537325: got new request, requestCounter = 5002059
1336845537325: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845537327: Sending to region: 5
1336845537328: Sending PROC_REQUEST 11:9 (1,0)->(5,0)
1336845537329: Dispatching Atom PROC_REQUEST 11:9 (1,0)->(5,0)
1336845537340: mux: I got a CSM packet at a leader 

1336845537330: Note down new request by adding requestCounter=5002059 to HashMap processedRequests
1336845537338: Make FirstLeg Ack regardless of new or already-processed requests
1336845537338: The leader sending a First Leg ack to originator client (which id = 5002)
1336845537339: inside sendPacket(Packet p)
1336845537343: Sending UDP payload: 1006
1336845537355: forwarding disabled, not forwarding packets
1336845537358: Sending UDP payload: 446
1336845537380: Received UDP payload: 446
1336845537428: Received UDP payload: 3734
1336845537430: mux: GOT CSM_Msg
1336845537430: Received PROC_REPLY 11:9 (5,0)->(1,0), handing to UserApp
1336845537430: inside handleDSMReply. Now back in originator leader of region 1
1336845537430: DSM layer: Going to and from remote region took latency = 102
1336845537431: DSM layer: orig leader sent packet at 1336845537328 ~ received reply from remote leader at 1336845537430
1336845537431: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845537431: leader client reply has replyCounter: 500205900
1336845537431: reply packet contains the newest photo/success info from the remote region
1336845537431: inside sendReplies of replyCount = 500205900
1336845537432: =======================
1336845537432: inside sendReplyRepeatingRunnable for replyCount = 500205900
1336845537433: Leader about to send REPLY packet, number: 500205900 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336845537433: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1336845537433: inside sendPacket(Packet p)
1336845537433: === Finished one round of sending REPLY Packet =======
1336845537434: Sending UDP payload: 3387
1336845537482: Received UDP payload: 446
1336845537484: mux: Inside mux Packet.CLIENT_REQUEST
1336845537484: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845537484: inside handleClientRequest. Originator leader of region 1
1336845537484: got new request, requestCounter = 5002060
1336845537484: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500205900
1336845537484: Yay the last leg succeeded. Removing reply runnables ...
1336845537484: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500205900
1336845537485: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500205900
1336845537485: do not send ack for received final_leg_ack
1336845537798: Received UDP payload: 446
1336845538335: Received UDP payload: 446
1336845540526: canPressButton = TRUE
1336845540526: areButtonsEnabled --> false 
1336845540526: get picture disableButtonsR
1336845540526: areButtonsEnabled --> false
1336845540552: one more getNum: 26
1336845540553: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=26 getGood=24 getBad=1 getTimedout=0 getPercent=92%
1336845540553: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336845540554: change local requestCounter to 59
1336845540556: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5022059 Client in region: 1 Client nodID: 5022
1336845540535: Received UDP payload: 446
1336845540586: ----------------------------
1336845540587: inside sendRequestPacketRepeatingRunnable for requestCount = 5022059
1336845540587: I'm a leader, my requesting photos packet going to mux directly
1336845540593: --- Finished one round of sending REQUEST Packet ---------
1336845540587: mux: Inside mux Packet.CLIENT_REQUEST
1336845540587: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845540634: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336845540588: inside handleClientRequest. Originator leader of region 1
1336845540588: got new request, requestCounter = 5022059
1336845540588: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336845540589: Sending to region: 5
1336845540589: Sending PROC_REQUEST 11:10 (1,0)->(5,0)
1336845540589: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(5,0)
1336845540591: mux: I got a CSM packet at a leader 

1336845540590: Note down new request by adding requestCounter=5022059 to HashMap processedRequests
1336845540590: Make FirstLeg Ack regardless of new or already-processed requests
1336845540590: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5022)
1336845540592: Sending UDP payload: 1006
1336845540593: forwarding disabled, not forwarding packets
1336845540684: Received UDP payload: 3734
1336845540687: mux: GOT CSM_Msg
1336845540719: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336845540719: disabling progressdialog due to successful new photo get
1336845540720: Inside _enableButtons
1336845540720: areButtonsEnabled --> true
1336845540721: send final leg ack regardless of new or already-processed reply
1336845540721: inside finalLegAck: change requestCounter to 60
1336845540721: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5022060 Client in region: (1,0) Client nodID: 5022
1336845540722: I'm a leader client, my final_leg packet going to mux directly
1336845540728: new client_show_remotephoto reply with replyCounter 502205900
1336845540728: note down new reply by adding replyCounter=502205900 to HashMap processedReplies
1336845540733: leader download remote photo latency = 132
1336845540736: = leader download start 1336845540587 ~ stop 1336845540719
1336845540739: one more getGood: 25
1336845540743: reg=1 id=5022 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=26 getGood=25 getBad=1 getTimedout=0 getPercent=96%
1336845540744: adding get latency: 132
1336845540745: Success! Client getting photo from remote region, showing photo...
1336845540745: Remote photo's length: 2706
1336845540688: Received PROC_REPLY 11:10 (5,0)->(1,0), handing to UserApp
1336845540688: inside handleDSMReply. Now back in originator leader of region 1
1336845540688: DSM layer: Going to and from remote region took latency = 99
1336845540688: DSM layer: orig leader sent packet at 1336845540589 ~ received reply from remote leader at 1336845540688
1336845540689: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336845540690: leader client reply has replyCounter: 502205900
1336845540690: reply packet contains the newest photo/success info from the remote region
1336845540690: inside sendReplies of replyCount = 502205900
1336845540694: =======================
1336845540694: inside sendReplyRepeatingRunnable for replyCount = 502205900
1336845540694: Leader about to send REPLY packet, number: 502205900 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336845540695: I (the leader) was also the originator client (id = 5022) so I hand the packet to my mux directly, without UDP
1336845540695: === Finished one round of sending REPLY Packet =======
1336845540722: mux: Inside mux Packet.CLIENT_REQUEST
1336845540723: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336845540723: inside handleClientRequest. Originator leader of region 1
1336845540723: got new request, requestCounter = 5022060
1336845540723: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502205900
1336845540723: Yay the last leg succeeded. Removing reply runnables ...
1336845540724: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502205900
1336845540727: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502205900
1336845540727: do not send ack for received final_leg_ack
1336845540973: Received UDP payload: 446
1336845541667: inside sendPacket(Packet p)
1336845541679: Sending UDP payload: 446
1336845542358: Received UDP payload: 446
1336845542805: Received UDP payload: 446
1336845543338: Received UDP payload: 446
1336845545543: Received UDP payload: 446
1336845545984: Received UDP payload: 446
1336845546681: inside sendPacket(Packet p)
1336845546694: Sending UDP payload: 446
1336845547366: Received UDP payload: 446
1336845547813: Received UDP payload: 446
1336845548352: Received UDP payload: 446
1336845550538: Received UDP payload: 446
1336845550999: Received UDP payload: 446
1336845551695: inside sendPacket(Packet p)
1336845551698: Sending UDP payload: 446
1336845552364: Received UDP payload: 446
1336845552814: Received UDP payload: 446
1336845553345: Received UDP payload: 446
1336845555541: Received UDP payload: 446
1336845556005: Received UDP payload: 446
1336845556697: inside sendPacket(Packet p)
1336845556705: Sending UDP payload: 446
1336845557365: Received UDP payload: 446
1336845557813: Received UDP payload: 446
1336845558346: Received UDP payload: 446
1336845560589: Received UDP payload: 446
1336845561005: Received UDP payload: 446
1336845561699: inside sendPacket(Packet p)
1336845561702: Sending UDP payload: 446
1336845562364: Received UDP payload: 446
1336845562858: Received UDP payload: 446
1336845563365: Received UDP payload: 446
1336845563561: HI I'm in ONPAUSE()
1336845565561: Received UDP payload: 446
1336845565649: inside onDestroy()
