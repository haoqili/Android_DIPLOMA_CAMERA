1336845894932: *** Opened log file for writing ***
1336845894933: Android build: SAMSUNG-SGH-I717
1336845894933: NET_NAME set to: eth0
1336845894934: areButtonsEnabled --> true
1336845894934: starting Mux with id = -1
1336845894936: *** Application started ***
1336845894936: HI I'm in ONRESUME()
1336845894939: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1336845894943: ************ GPS turned OFF *************
1336845894951: mux: Mux.java run() beginning -------------
1336845894954: mux: Mux.java's nodeId is5002
1336845894954: mux: starting vncDaemon ........
1336845894955: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1336845894966: mux: vncDaemon started
1336845894967: VCoreDaemon.java inside stateTransition ..........
1336845894967: VCoreDaemon.java onStart() ....
1336845894967: started, mId = 5002
1336845894968: ..... VCoreDaemon.java out of bounds
1336845894968: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845894968: region (-1, -1) out of bounds, dormant
1336845894968: removing leaderRequestRetryR because I'm doing a stateTransition
1336845897104: moving from region (-1,-1), to (1,0)
1336845897105: VCoreDaemon.java inside stateTransition ..........
1336845897105: removing leaderRequestRetryR because I'm doing a stateTransition
1336845897106: ..... VCoreDaemon.java targetState = JOINING (1,0)
1336845897106: inside sendPacket(Packet p)
1336845897106: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845897106: posting leaderRequestRetryR because I'm joining
1336845897106: sending LEADER_REQUEST
1336845897114: Sending UDP payload: 446
1336845897131: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845897395: Received UDP payload: 446
1336845897407: sending LEADER_REQUEST
1336845897408: inside sendPacket(Packet p)
1336845897408: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845897457: Sending UDP payload: 446
1336845897663: Received UDP payload: 446
1336845897709: inside sendPacket(Packet p)
1336845897709: sending LEADER_REQUEST
1336845897710: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845897711: Sending UDP payload: 446
1336845897969: Received UDP payload: 446
1336845898010: inside sendPacket(Packet p)
1336845898010: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845898010: sending LEADER_REQUEST
1336845898013: Sending UDP payload: 446
1336845898131: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1336845898133: VCoreDaemon.java inside stateTransition ..........
1336845898133: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1336845898133: removing leaderRequestRetryR because I'm doing a stateTransition
1336845898134: ..... VCoreDaemon.java targetState = LEADER
1336845898135: trying to take leadership (1,0) to the cloud
1336845898274: Received UDP payload: 446
1336845898621: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1336845898621: cloud accepted leadership request, no csm data included.
1336845898622: Received UDP payload: 446
1336845898623: *** Starting CSM Layer ***
1336845898625: *** CSM Layer starting with cache disabled ***
1336845898625: *** CSM Layer starting with forwarding disabled ***
1336845898656: DSMLayer starting
1336845898657: UserApp for Camera Diploma initialized and waiting for requests.
1336845898657: UserApp started.
1336845898888: inside sendPacket(Packet p)
1336845898902: Sending UDP payload: 22318
1336845898906: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845898906: now fully up as LEADER (id=5002) of (1,0)
1336845898907: heard LEADER_REQUEST from node 5022, responding LEADER_REPLY
1336845898918: Received UDP payload: 446
1336845899014: inside sendPacket(Packet p)
1336845899016: Sending UDP payload: 22335
1336845899247: Received UDP payload: 446
1336845899513: Received UDP payload: 446
1336845899846: Received UDP payload: 446
1336845899969: inside sendPacket(Packet p)
1336845899978: Sending UDP payload: 446
1336845900130: Received UDP payload: 446
1336845900429: Received UDP payload: 446
1336845900735: Received UDP payload: 446
1336845900908: Received UDP payload: 22950
1336845901209: Received UDP payload: 22335
1336845901481: Received UDP payload: 22335
1336845901753: Received UDP payload: 22335
1336845903490: Received UDP payload: 446
1336845904979: inside sendPacket(Packet p)
1336845904989: Sending UDP payload: 446
1336845907865: Received UDP payload: 446
1336845908165: Received UDP payload: 446
1336845908462: Received UDP payload: 446
1336845908495: Received UDP payload: 446
1336845908762: Received UDP payload: 446
1336845909992: Received UDP payload: 22318
1336845909998: inside sendPacket(Packet p)
1336845910013: Sending UDP payload: 446
1336845910025: ignoring leader_reply that's not for me
1336845910026: Received UDP payload: 446
1336845911852: Received UDP payload: 446
1336845912136: Received UDP payload: 446
1336845912437: Received UDP payload: 446
1336845912745: Received UDP payload: 446
1336845913511: Received UDP payload: 446
1336845913803: Received UDP payload: 22318
1336845913812: ignoring leader_reply that's not for me
1336845914401: Received UDP payload: 446
1336845914996: Received UDP payload: 446
1336845915005: inside sendPacket(Packet p)
1336845915021: Sending UDP payload: 446
1336845918526: Received UDP payload: 446
1336845919422: Received UDP payload: 446
1336845920014: Received UDP payload: 446
1336845920025: inside sendPacket(Packet p)
1336845920028: Sending UDP payload: 446
1336845920969: Received UDP payload: 446
1336845921248: Received UDP payload: 446
1336845921536: Received UDP payload: 446
1336845921843: Received UDP payload: 446
1336845923141: Received UDP payload: 22318
1336845923152: ignoring leader_reply that's not for me
1336845923537: Received UDP payload: 446
1336845923823: Received UDP payload: 446
1336845924447: Received UDP payload: 446
1336845925026: inside sendPacket(Packet p)
1336845925038: Sending UDP payload: 446
1336845925062: Received UDP payload: 446
1336845928558: Received UDP payload: 446
1336845928822: Received UDP payload: 446
1336845928862: Received UDP payload: 446
1336845929107: Received UDP payload: 446
1336845929415: Received UDP payload: 446
1336845929453: Received UDP payload: 446
1336845929713: Received UDP payload: 446
1336845930042: inside sendPacket(Packet p)
1336845930052: Sending UDP payload: 446
1336845930065: Received UDP payload: 446
1336845930085: Received UDP payload: 446
1336845930340: Received UDP payload: 446
1336845930653: Received UDP payload: 446
1336845930805: Received UDP payload: 22318
1336845930814: ignoring leader_reply that's not for me
1336845931060: Received UDP payload: 22335
1336845931330: Received UDP payload: 22335
1336845931588: Received UDP payload: 22335
1336845933545: Received UDP payload: 446
1336845933860: Received UDP payload: 446
1336845934471: Received UDP payload: 446
1336845934616: Received UDP payload: 446
1336845935054: Received UDP payload: 446
1336845935055: inside sendPacket(Packet p)
1336845935074: Sending UDP payload: 446
1336845938559: Received UDP payload: 446
1336845938869: Received UDP payload: 446
1336845939494: Received UDP payload: 446
1336845939631: Received UDP payload: 446
1336845939647: Received UDP payload: 446
1336845939900: Received UDP payload: 446
1336845940048: Received UDP payload: 22335
1336845940056: inside sendPacket(Packet p)
1336845940060: Sending UDP payload: 446
1336845940103: Received UDP payload: 446
1336845940307: Received UDP payload: 22950
1336845943581: Received UDP payload: 446
1336845943889: Received UDP payload: 446
1336845944508: Received UDP payload: 446
1336845944649: Received UDP payload: 446
1336845945057: inside sendPacket(Packet p)
1336845945072: Sending UDP payload: 446
1336845945078: Received UDP payload: 446
1336845948546: Received UDP payload: 446
1336845948892: Received UDP payload: 446
1336845949531: Received UDP payload: 446
1336845949672: Received UDP payload: 446
1336845950074: Received UDP payload: 446
1336845950075: inside sendPacket(Packet p)
1336845950087: Sending UDP payload: 446
1336845953550: Received UDP payload: 446
1336845953877: Received UDP payload: 446
1336845954570: Received UDP payload: 446
1336845954686: Received UDP payload: 446
1336845955088: inside sendPacket(Packet p)
1336845955098: Sending UDP payload: 446
1336845955115: Received UDP payload: 446
1336845958578: Received UDP payload: 446
1336845958883: Received UDP payload: 446
1336845959569: Received UDP payload: 446
1336845959753: Received UDP payload: 446
1336845960078: Received UDP payload: 446
1336845960101: inside sendPacket(Packet p)
1336845960102: Sending UDP payload: 446
1336845963564: Received UDP payload: 446
1336845963921: Received UDP payload: 446
1336845964594: Received UDP payload: 446
1336845964719: Received UDP payload: 446
1336845965067: Received UDP payload: 446
1336845965102: inside sendPacket(Packet p)
1336845965106: Sending UDP payload: 446
1336845968621: Received UDP payload: 446
1336845968928: Received UDP payload: 446
1336845969618: Received UDP payload: 446
1336845969736: Received UDP payload: 446
1336845970103: inside sendPacket(Packet p)
1336845970118: Sending UDP payload: 446
1336845970121: Received UDP payload: 446
1336845973609: Received UDP payload: 446
1336845973909: Received UDP payload: 446
1336845974618: Received UDP payload: 446
1336845974746: Received UDP payload: 446
1336845975076: Received UDP payload: 446
1336845975121: inside sendPacket(Packet p)
1336845975152: Sending UDP payload: 446
1336845978589: Received UDP payload: 446
1336845978929: Received UDP payload: 446
1336845979626: Received UDP payload: 446
1336845980122: inside sendPacket(Packet p)
1336845980126: Sending UDP payload: 446
1336845980137: Received UDP payload: 446
1336845983593: Received UDP payload: 446
1336845983926: Received UDP payload: 446
1336845984637: Received UDP payload: 446
1336845984796: Received UDP payload: 446
1336845985094: Received UDP payload: 446
1336845985123: inside sendPacket(Packet p)
1336845985127: Sending UDP payload: 446
1336845988593: Received UDP payload: 446
1336845988928: Received UDP payload: 446
1336845989686: Received UDP payload: 446
1336845989793: Received UDP payload: 446
1336845990096: Received UDP payload: 446
1336845990125: inside sendPacket(Packet p)
1336845990128: Sending UDP payload: 446
1336845993602: Received UDP payload: 446
1336845993920: Received UDP payload: 446
1336845994359: Received UDP payload: 4083
1336845994366: mux: Inside mux Packet.CLIENT_REQUEST
1336845994502: Received UDP payload: 446
1336845994507: mux: Inside Packet.SERVER_REPLY
1336845994508: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336845994515: Received UDP payload: 1006
1336845994545: mux: GOT CSM_Msg
1336845994546: forwarding disabled, not forwarding packets
1336845994547: Received UDP payload: 659
1336845994562: mux: Inside Packet.SERVER_REPLY
1336845994563: Received UDP payload: 446
1336845994563: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336845994573: mux: Inside mux Packet.CLIENT_REQUEST
1336845994664: Received UDP payload: 446
1336845994792: Received UDP payload: 446
1336845995095: Received UDP payload: 446
1336845995125: inside sendPacket(Packet p)
1336845995127: Sending UDP payload: 446
1336845998599: Received UDP payload: 446
1336845998963: Received UDP payload: 446
1336845999456: canPressButton = TRUE
1336845999458: areButtonsEnabled --> false
1336845999458: disabling buttons ...
1336845999468: took picture disableButtonsR
1336845999469: areButtonsEnabled --> false
1336845999549: one more takeNum: 1
1336845999550: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336845999551: Clicked take picture button ..
1336845999710: Received UDP payload: 4373
1336845999717: forwarding disabled, not forwarding packets
1336845999717: mux: GOT CSM_Msg
1336845999733: Received UDP payload: 446
1336845999751: Received UDP payload: 1006
1336845999785: forwarding disabled, not forwarding packets
1336845999785: mux: GOT CSM_Msg
1336845999793: Received UDP payload: 446
1336846000120: Received UDP payload: 446
1336846000126: inside sendPacket(Packet p)
1336846000127: Sending UDP payload: 446
1336846000874: inside HandlePictureStorage onPictureTaken()
1336846000875: one more takeCamGood: 1
1336846000876: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336846001134: Picture successfully taken, ORIG BYTE LENGTH = 2804091
1336846001339: Our new height x width: 306 x 408
1336846001340: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846001340: Show photo from handle my camera take
1336846001341: change local requestCounter to 1
1336846001356: BYTE SIZE AFTER COMPRESSION: 3758
1336846001363: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5002001 Client in region: 1 Client nodID: 5002
1336846001396: ----------------------------
1336846001396: I'm a leader, my requesting photos packet going to mux directly
1336846001396: inside sendRequestPacketRepeatingRunnable for requestCount = 5002001
1336846001397: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846001397: got new request, requestCounter = 5002001
1336846001397: inside handleClientRequest. Originator leader of region 1
1336846001397: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846001397: mux: Inside mux Packet.CLIENT_REQUEST
1336846001398: Sending PROC_REQUEST 10:0 (1,0)->(1,0)
1336846001399: Dispatching Atom PROC_REQUEST 10:0 (1,0)->(1,0)
1336846001399: Make FirstLeg Ack regardless of new or already-processed requests
1336846001399: Note down new request by adding requestCounter=5002001 to HashMap processedRequests
1336846001399: mux: I got a CSM packet at a leader 
1336846001399: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846001404: Sending UDP payload: 4786
1336846001407: inside handleDSMRequest. At requests's remote leader of region 1
1336846001407: removed replies before id 0 from sentReplies of size 0
1336846001409: Inside UPLOAD_PHOTO!!
1336846001410: --- Finished one round of sending REQUEST Packet ---------
1336846001427: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846001427: my_gpinfo.isSuccess is now (should be true): true
1336846001429: Dispatching Atom PROC_REPLY 10:0 (1,0)->(1,0)
1336846001429: Received PROC_REQUEST 10:0 (1,0)->(1,0), replying PROC_REPLY 10:0 (1,0)->(1,0)
1336846001430: mux: I got a CSM packet at a leader 
1336846001432: Sending UDP payload: 1006
1336846001433: Received PROC_REPLY 10:0 (1,0)->(1,0), handing to UserApp
1336846001434: DSM layer: Going to and from remote region took latency = 36
1336846001434: DSM layer: orig leader sent packet at 1336846001398 ~ received reply from remote leader at 1336846001434
1336846001434: inside handleDSMReply. Now back in originator leader of region 1
1336846001435: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846001435: leader client reply has replyCounter: 500200100
1336846001435: reply packet contains the success info for UPLOAD_PHOTO
1336846001436: =======================
1336846001436: Leader about to send REPLY packet, number: 500200100 type: 16 Leader in region: (1,0) to Client nodID: 5002
1336846001436: inside sendReplies of replyCount = 500200100
1336846001436: inside sendReplyRepeatingRunnable for replyCount = 500200100
1336846001437: === Finished one round of sending REPLY Packet =======
1336846001437: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846001446: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846001447: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846001448: I'm a leader and I successfully saved my client's new photo
1336846001449: now showing in UI the new photo I just saved ... 
1336846001449: the photo length: 3758
1336846001484: end of server show photo aside %%%%%%%%%
1336846001487: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846001490: Inside _enableButtons
1336846001490: areButtonsEnabled --> true
1336846001490: disabling progressdialog due to successful new photo upload
1336846001491: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002002 Client in region: (1,0) Client nodID: 5002
1336846001491: inside finalLegAck: change requestCounter to 2
1336846001491: send final leg ack regardless of new or already-processed reply
1336846001492: I'm a leader client, my final_leg packet going to mux directly
1336846001492: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846001492: mux: Inside mux Packet.CLIENT_REQUEST
1336846001493: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500200100
1336846001493: Yay the last leg succeeded. Removing reply runnables ...
1336846001493: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500200100
1336846001493: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500200100
1336846001493: got new request, requestCounter = 5002002
1336846001493: inside handleClientRequest. Originator leader of region 1
1336846001494: do not send ack for received final_leg_ack
1336846001495: new client_upload_photo_ack reply with replyCounter 500200100
1336846001495: note down new reply by adding replyCounter=500200100 to HashMap processedReplies
1336846001496: = leader upload start 1336846001397 ~ stop 1336846001487
1336846001496: leader upload new photo latency = 90
1336846001497: one more takeGoodSave: 1
1336846001498: adding take latency: 90
1336846001498: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336846001499: SUCCESS Client now knows saving photo on its leader succeeded
1336846003663: Received UDP payload: 446
1336846003950: Received UDP payload: 446
1336846004728: Received UDP payload: 446
1336846004805: Received UDP payload: 446
1336846005119: Received UDP payload: 446
1336846005126: inside sendPacket(Packet p)
1336846005129: Sending UDP payload: 446
1336846007487: Received UDP payload: 4169
1336846007495: mux: Inside mux Packet.CLIENT_REQUEST
1336846007496: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846007497: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846007497: got new request, requestCounter = 5022001
1336846007497: inside handleClientRequest. Originator leader of region 1
1336846007499: Sending PROC_REQUEST 10:1 (1,0)->(1,0)
1336846007500: Dispatching Atom PROC_REQUEST 10:1 (1,0)->(1,0)
1336846007501: Make FirstLeg Ack regardless of new or already-processed requests
1336846007501: Note down new request by adding requestCounter=5022001 to HashMap processedRequests
1336846007501: The leader sending a First Leg ack to originator client (which id = 5022)
1336846007502: inside sendPacket(Packet p)
1336846007503: mux: I got a CSM packet at a leader 
1336846007535: Sending UDP payload: 4533
1336846007541: removed replies before id 1 from sentReplies of size 0
1336846007542: inside handleDSMRequest. At requests's remote leader of region 1
1336846007565: Inside UPLOAD_PHOTO!!
1336846007570: my_gpinfo.isSuccess is now (should be true): true
1336846007571: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846007578: Received PROC_REQUEST 10:1 (1,0)->(1,0), replying PROC_REPLY 10:1 (1,0)->(1,0)
1336846007579: Dispatching Atom PROC_REPLY 10:1 (1,0)->(1,0)
1336846007583: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846007585: I'm a leader and I successfully saved my client's new photo
1336846007585: now showing in UI the new photo I just saved ... 
1336846007585: the photo length: 3505
1336846007621: Sending UDP payload: 446
1336846007622: mux: I got a CSM packet at a leader 
1336846007623: Sending UDP payload: 1006
1336846007627: DSM layer: Going to and from remote region took latency = 129
1336846007627: DSM layer: orig leader sent packet at 1336846007498 ~ received reply from remote leader at 1336846007627
1336846007627: Received PROC_REPLY 10:1 (1,0)->(1,0), handing to UserApp
1336846007627: inside handleDSMReply. Now back in originator leader of region 1
1336846007628: =======================
1336846007628: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846007628: inside sendReplies of replyCount = 502200100
1336846007628: leader client reply has replyCounter: 502200100
1336846007628: reply packet contains the success info for UPLOAD_PHOTO
1336846007629: === Finished one round of sending REPLY Packet =======
1336846007629: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846007629: Leader about to send REPLY packet, number: 502200100 type: 16 Leader in region: (1,0) to Client nodID: 5022
1336846007629: inside sendPacket(Packet p)
1336846007629: inside sendReplyRepeatingRunnable for replyCount = 502200100
1336846007632: Sending UDP payload: 659
1336846007638: end of server show photo aside %%%%%%%%%
1336846007645: Received UDP payload: 4169
1336846007647: inside handleClientRequest. Originator leader of region 1
1336846007647: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846007647: mux: Inside mux Packet.CLIENT_REQUEST
1336846007648: Make FirstLeg Ack regardless of new or already-processed requests
1336846007648: Note down new request by adding requestCounter=5022001 to HashMap processedRequests
1336846007648: The leader sending a First Leg ack to originator client (which id = 5022)
1336846007648: discarding repeated requestCounter=5022001, but still send an ack back
1336846007648: inside sendPacket(Packet p)
1336846007649: Sending UDP payload: 446
1336846007694: Received UDP payload: 446
1336846007696: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200100
1336846007696: Yay the last leg succeeded. Removing reply runnables ...
1336846007696: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502200100
1336846007696: got new request, requestCounter = 5022002
1336846007696: inside handleClientRequest. Originator leader of region 1
1336846007696: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846007696: mux: Inside mux Packet.CLIENT_REQUEST
1336846007697: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502200100
1336846007697: do not send ack for received final_leg_ack
1336846008607: Received UDP payload: 446
1336846008921: Received UDP payload: 446
1336846009786: Received UDP payload: 446
1336846009887: Received UDP payload: 446
1336846010121: Received UDP payload: 446
1336846010127: inside sendPacket(Packet p)
1336846010145: Sending UDP payload: 446
1336846013774: Received UDP payload: 446
1336846013939: Received UDP payload: 446
1336846014721: Received UDP payload: 446
1336846014839: Received UDP payload: 446
1336846015130: Received UDP payload: 446
1336846015139: inside sendPacket(Packet p)
1336846015158: Sending UDP payload: 446
1336846017338: Received UDP payload: 4942
1336846017358: forwarding disabled, not forwarding packets
1336846017358: mux: GOT CSM_Msg
1336846017376: Received UDP payload: 1006
1336846017388: forwarding disabled, not forwarding packets
1336846017388: mux: GOT CSM_Msg
1336846018680: Received UDP payload: 446
1336846018907: leader to cloud hearbeat...
1336846018994: Received UDP payload: 446
1336846019733: Received UDP payload: 446
1336846019866: Received UDP payload: 446
1336846020141: inside sendPacket(Packet p)
1336846020142: Sending UDP payload: 446
1336846020189: Received UDP payload: 446
1336846021185: Received UDP payload: 4368
1336846021223: mux: GOT CSM_Msg
1336846021224: forwarding disabled, not forwarding packets
1336846021241: Received UDP payload: 1006
1336846021258: forwarding disabled, not forwarding packets
1336846021258: mux: GOT CSM_Msg
1336846023705: Received UDP payload: 446
1336846023931: Received UDP payload: 446
1336846024771: Received UDP payload: 446
1336846024920: Received UDP payload: 446
1336846025141: inside sendPacket(Packet p)
1336846025155: Sending UDP payload: 446
1336846025198: Received UDP payload: 446
1336846028684: Received UDP payload: 446
1336846028939: Received UDP payload: 446
1336846029772: Received UDP payload: 446
1336846029939: Received UDP payload: 446
1336846030142: inside sendPacket(Packet p)
1336846030146: Sending UDP payload: 446
1336846030198: Received UDP payload: 446
1336846033664: Received UDP payload: 3963
1336846033675: forwarding disabled, not forwarding packets
1336846033675: mux: GOT CSM_Msg
1336846033692: Received UDP payload: 1006
1336846033704: forwarding disabled, not forwarding packets
1336846033704: mux: GOT CSM_Msg
1336846033717: Received UDP payload: 446
1336846033939: Received UDP payload: 446
1336846034009: Received UDP payload: 3935
1336846034012: mux: Inside mux Packet.CLIENT_REQUEST
1336846034084: Received UDP payload: 4299
1336846034088: mux: GOT CSM_Msg
1336846034089: forwarding disabled, not forwarding packets
1336846034105: Received UDP payload: 446
1336846034107: mux: Inside Packet.SERVER_REPLY
1336846034108: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846034113: Received UDP payload: 1006
1336846034118: forwarding disabled, not forwarding packets
1336846034118: mux: GOT CSM_Msg
1336846034138: Received UDP payload: 659
1336846034142: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846034142: mux: Inside Packet.SERVER_REPLY
1336846034151: Received UDP payload: 446
1336846034154: mux: Inside mux Packet.CLIENT_REQUEST
1336846034762: Received UDP payload: 446
1336846034889: Received UDP payload: 446
1336846035143: inside sendPacket(Packet p)
1336846035147: Sending UDP payload: 446
1336846035216: Received UDP payload: 446
1336846037613: Received UDP payload: 3727
1336846037619: mux: Inside mux Packet.CLIENT_REQUEST
1336846037705: Received UDP payload: 4091
1336846037717: mux: GOT CSM_Msg
1336846037718: forwarding disabled, not forwarding packets
1336846037725: Received UDP payload: 446
1336846037737: mux: Inside Packet.SERVER_REPLY
1336846037738: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846037739: Received UDP payload: 1006
1336846037759: forwarding disabled, not forwarding packets
1336846037759: mux: GOT CSM_Msg
1336846037773: Received UDP payload: 659
1336846037781: mux: Inside Packet.SERVER_REPLY
1336846037782: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846037795: Received UDP payload: 446
1336846037796: mux: Inside mux Packet.CLIENT_REQUEST
1336846038743: Received UDP payload: 446
1336846038979: Received UDP payload: 446
1336846039791: Received UDP payload: 446
1336846039891: Received UDP payload: 446
1336846040145: inside sendPacket(Packet p)
1336846040148: Sending UDP payload: 446
1336846040219: Received UDP payload: 446
1336846041515: Received UDP payload: 4368
1336846041525: mux: GOT CSM_Msg
1336846041526: forwarding disabled, not forwarding packets
1336846041539: Received UDP payload: 1006
1336846041559: mux: GOT CSM_Msg
1336846041560: forwarding disabled, not forwarding packets
1336846043948: Received UDP payload: 446
1336846043977: Received UDP payload: 446
1336846044766: Received UDP payload: 446
1336846044926: Received UDP payload: 446
1336846045147: inside sendPacket(Packet p)
1336846045148: Sending UDP payload: 446
1336846045212: Received UDP payload: 446
1336846048649: Received UDP payload: 446
1336846048951: Received UDP payload: 446
1336846049773: Received UDP payload: 446
1336846049897: Received UDP payload: 446
1336846050150: inside sendPacket(Packet p)
1336846050153: Sending UDP payload: 446
1336846050211: Received UDP payload: 446
1336846053881: Received UDP payload: 446
1336846053967: Received UDP payload: 446
1336846054786: Received UDP payload: 446
1336846054942: Received UDP payload: 446
1336846055151: inside sendPacket(Packet p)
1336846055165: Sending UDP payload: 446
1336846055260: Received UDP payload: 446
1336846058828: Received UDP payload: 446
1336846058957: Received UDP payload: 446
1336846059811: Received UDP payload: 446
1336846059915: Received UDP payload: 446
1336846060152: inside sendPacket(Packet p)
1336846060156: Sending UDP payload: 446
1336846060223: Received UDP payload: 446
1336846063700: Received UDP payload: 446
1336846063971: Received UDP payload: 446
1336846064813: Received UDP payload: 446
1336846064909: Received UDP payload: 446
1336846065153: inside sendPacket(Packet p)
1336846065156: Sending UDP payload: 446
1336846065226: Received UDP payload: 446
1336846067535: Received UDP payload: 642
1336846067541: mux: Inside mux Packet.CLIENT_REQUEST
1336846067626: Received UDP payload: 1006
1336846067637: mux: GOT CSM_Msg
1336846067638: forwarding disabled, not forwarding packets
1336846067645: Received UDP payload: 446
1336846067654: mux: Inside Packet.SERVER_REPLY
1336846067655: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846067691: Received UDP payload: 4373
1336846067694: forwarding disabled, not forwarding packets
1336846067694: mux: GOT CSM_Msg
1336846067744: Received UDP payload: 4026
1336846067746: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846067746: mux: Inside Packet.SERVER_REPLY
1336846067761: Received UDP payload: 446
1336846067763: mux: Inside mux Packet.CLIENT_REQUEST
1336846068674: Received UDP payload: 446
1336846068689: Received UDP payload: 1006
1336846068701: mux: GOT CSM_Msg
1336846068702: forwarding disabled, not forwarding packets
1336846068735: Received UDP payload: 4373
1336846068739: forwarding disabled, not forwarding packets
1336846068739: mux: GOT CSM_Msg
1336846068983: Received UDP payload: 446
1336846069292: Received UDP payload: 642
1336846069299: mux: Inside mux Packet.CLIENT_REQUEST
1336846069300: inside handleClientRequest. Originator leader of region 1
1336846069300: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846069301: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846069301: got new request, requestCounter = 5022003
1336846069304: Sending to region: 0
1336846069307: Sending PROC_REQUEST 11:0 (1,0)->(0,0)
1336846069308: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1336846069308: Make FirstLeg Ack regardless of new or already-processed requests
1336846069308: Note down new request by adding requestCounter=5022003 to HashMap processedRequests
1336846069308: The leader sending a First Leg ack to originator client (which id = 5022)
1336846069308: inside sendPacket(Packet p)
1336846069309: mux: I got a CSM packet at a leader 
1336846069311: Sending UDP payload: 1006
1336846069311: forwarding disabled, not forwarding packets
1336846069313: Sending UDP payload: 446
1336846069424: Received UDP payload: 4373
1336846069430: mux: GOT CSM_Msg
1336846069431: Received PROC_REPLY 11:0 (0,0)->(1,0), handing to UserApp
1336846069432: DSM layer: Going to and from remote region took latency = 125
1336846069432: inside handleDSMReply. Now back in originator leader of region 1
1336846069447: DSM layer: orig leader sent packet at 1336846069307 ~ received reply from remote leader at 1336846069432
1336846069450: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846069451: leader client reply has replyCounter: 502200300
1336846069451: reply packet contains the newest photo/success info from the remote region
1336846069452: inside sendReplies of replyCount = 502200300
1336846069453: =======================
1336846069454: Leader about to send REPLY packet, number: 502200300 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846069454: inside sendReplyRepeatingRunnable for replyCount = 502200300
1336846069455: === Finished one round of sending REPLY Packet =======
1336846069455: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846069455: inside sendPacket(Packet p)
1336846069461: Sending UDP payload: 4026
1336846069518: Received UDP payload: 446
1336846069521: mux: Inside mux Packet.CLIENT_REQUEST
1336846069522: got new request, requestCounter = 5022004
1336846069522: inside handleClientRequest. Originator leader of region 1
1336846069522: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846069523: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200300
1336846069523: Yay the last leg succeeded. Removing reply runnables ...
1336846069523: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502200300
1336846069524: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502200300
1336846069524: do not send ack for received final_leg_ack
1336846069783: canPressButton = TRUE
1336846069784: areButtonsEnabled --> false 
1336846069785: areButtonsEnabled --> false
1336846069785: get picture disableButtonsR
1336846069830: Received UDP payload: 446
1336846069841: one more getNum: 1
1336846069845: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1336846069846: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846069847: change local requestCounter to 3
1336846069849: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002003 Client in region: 1 Client nodID: 5002
1336846069937: ----------------------------
1336846069937: inside sendRequestPacketRepeatingRunnable for requestCount = 5002003
1336846069938: I'm a leader, my requesting photos packet going to mux directly
1336846069939: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846069939: got new request, requestCounter = 5002003
1336846069939: inside handleClientRequest. Originator leader of region 1
1336846069939: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846069939: mux: Inside mux Packet.CLIENT_REQUEST
1336846069940: Sending to region: 0
1336846069941: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1336846069941: Make FirstLeg Ack regardless of new or already-processed requests
1336846069941: Note down new request by adding requestCounter=5002003 to HashMap processedRequests
1336846069941: Sending PROC_REQUEST 11:1 (1,0)->(0,0)
1336846069941: mux: I got a CSM packet at a leader 
1336846069941: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846069943: Sending UDP payload: 1006
1336846069945: --- Finished one round of sending REQUEST Packet ---------
1336846069945: forwarding disabled, not forwarding packets
1336846069967: Received UDP payload: 446
1336846069994: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846070023: Received UDP payload: 4373
1336846070026: mux: GOT CSM_Msg
1336846070027: DSM layer: Going to and from remote region took latency = 87
1336846070027: DSM layer: orig leader sent packet at 1336846069940 ~ received reply from remote leader at 1336846070027
1336846070027: Received PROC_REPLY 11:1 (0,0)->(1,0), handing to UserApp
1336846070027: inside handleDSMReply. Now back in originator leader of region 1
1336846070028: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846070028: inside sendReplies of replyCount = 500200300
1336846070028: leader client reply has replyCounter: 500200300
1336846070028: reply packet contains the newest photo/success info from the remote region
1336846070029: =======================
1336846070030: === Finished one round of sending REPLY Packet =======
1336846070030: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846070030: Leader about to send REPLY packet, number: 500200300 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846070030: inside sendReplyRepeatingRunnable for replyCount = 500200300
1336846070055: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846070056: Inside _enableButtons
1336846070056: areButtonsEnabled --> true
1336846070056: disabling progressdialog due to successful new photo get
1336846070056: send final leg ack regardless of new or already-processed reply
1336846070057: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002004 Client in region: (1,0) Client nodID: 5002
1336846070057: I'm a leader client, my final_leg packet going to mux directly
1336846070057: inside finalLegAck: change requestCounter to 4
1336846070057: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846070057: mux: Inside mux Packet.CLIENT_REQUEST
1336846070058: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500200300
1336846070058: Yay the last leg succeeded. Removing reply runnables ...
1336846070058: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500200300
1336846070058: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500200300
1336846070058: do not send ack for received final_leg_ack
1336846070058: got new request, requestCounter = 5002004
1336846070058: inside handleClientRequest. Originator leader of region 1
1336846070059: = leader download start 1336846069939 ~ stop 1336846070055
1336846070059: leader download remote photo latency = 116
1336846070059: new client_show_remotephoto reply with replyCounter 500200300
1336846070059: note down new reply by adding replyCounter=500200300 to HashMap processedReplies
1336846070060: one more getGood: 1
1336846070061: adding get latency: 116
1336846070061: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1336846070062: Remote photo's length: 3345
1336846070062: Success! Client getting photo from remote region, showing photo...
1336846070155: inside sendPacket(Packet p)
1336846070156: Sending UDP payload: 446
1336846070233: Received UDP payload: 446
1336846073669: Received UDP payload: 446
1336846073969: Received UDP payload: 446
1336846074816: Received UDP payload: 446
1336846074916: Received UDP payload: 446
1336846075156: inside sendPacket(Packet p)
1336846075165: Sending UDP payload: 446
1336846075240: Received UDP payload: 446
1336846075550: Received UDP payload: 1006
1336846075563: forwarding disabled, not forwarding packets
1336846075563: mux: GOT CSM_Msg
1336846075663: Received UDP payload: 4373
1336846075672: forwarding disabled, not forwarding packets
1336846075672: mux: GOT CSM_Msg
1336846076570: Received UDP payload: 1006
1336846076583: forwarding disabled, not forwarding packets
1336846076583: mux: GOT CSM_Msg
1336846076691: Received UDP payload: 4373
1336846076706: mux: GOT CSM_Msg
1336846076707: forwarding disabled, not forwarding packets
1336846078681: Received UDP payload: 446
1336846078986: Received UDP payload: 446
1336846079909: Received UDP payload: 446
1336846079953: Received UDP payload: 446
1336846080158: inside sendPacket(Packet p)
1336846080159: Sending UDP payload: 446
1336846080261: Received UDP payload: 446
1336846081746: Received UDP payload: 642
1336846081753: mux: Inside mux Packet.CLIENT_REQUEST
1336846081850: Received UDP payload: 1006
1336846081861: forwarding disabled, not forwarding packets
1336846081861: mux: GOT CSM_Msg
1336846081862: Received UDP payload: 446
1336846081870: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846081870: mux: Inside Packet.SERVER_REPLY
1336846081984: Received UDP payload: 4373
1336846081993: forwarding disabled, not forwarding packets
1336846081993: mux: GOT CSM_Msg
1336846082043: Received UDP payload: 4026
1336846082055: mux: Inside Packet.SERVER_REPLY
1336846082056: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846082057: Received UDP payload: 446
1336846082062: mux: Inside mux Packet.CLIENT_REQUEST
1336846082349: Received UDP payload: 1006
1336846082358: mux: GOT CSM_Msg
1336846082359: forwarding disabled, not forwarding packets
1336846082422: Received UDP payload: 4373
1336846082434: mux: GOT CSM_Msg
1336846082435: forwarding disabled, not forwarding packets
1336846083393: Received UDP payload: 1006
1336846083405: mux: GOT CSM_Msg
1336846083406: forwarding disabled, not forwarding packets
1336846083493: Received UDP payload: 4373
1336846083498: forwarding disabled, not forwarding packets
1336846083498: mux: GOT CSM_Msg
1336846083687: Received UDP payload: 446
1336846083988: Received UDP payload: 446
1336846084793: Received UDP payload: 642
1336846084802: mux: Inside mux Packet.CLIENT_REQUEST
1336846084854: Received UDP payload: 1006
1336846084865: mux: GOT CSM_Msg
1336846084866: forwarding disabled, not forwarding packets
1336846084874: Received UDP payload: 446
1336846084876: Received UDP payload: 446
1336846084876: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846084876: mux: Inside Packet.SERVER_REPLY
1336846084916: Received UDP payload: 446
1336846084964: Received UDP payload: 4373
1336846084967: forwarding disabled, not forwarding packets
1336846084967: mux: GOT CSM_Msg
1336846085024: Received UDP payload: 446
1336846085026: mux: Inside mux Packet.CLIENT_REQUEST
1336846085159: inside sendPacket(Packet p)
1336846085160: Sending UDP payload: 446
1336846085229: Received UDP payload: 446
1336846088755: Received UDP payload: 446
1336846089043: Received UDP payload: 446
1336846089863: Received UDP payload: 446
1336846089936: Received UDP payload: 446
1336846090159: inside sendPacket(Packet p)
1336846090163: Sending UDP payload: 446
1336846090289: Received UDP payload: 446
1336846093850: Received UDP payload: 446
1336846094018: Received UDP payload: 446
1336846094860: Received UDP payload: 446
1336846094940: Received UDP payload: 446
1336846095162: inside sendPacket(Packet p)
1336846095165: Sending UDP payload: 446
1336846095237: Received UDP payload: 446
1336846097534: Received UDP payload: 642
1336846097542: mux: Inside mux Packet.CLIENT_REQUEST
1336846097623: Received UDP payload: 1006
1336846097633: mux: GOT CSM_Msg
1336846097634: removed replies before id 0 from sentReplies of size 0
1336846097635: inside handleDSMRequest. At requests's remote leader of region 1
1336846097638: INSIDE SERVER_GET_PHOTO!!!
1336846097655: Received PROC_REQUEST 11:0 (0,0)->(1,0), replying PROC_REPLY 11:0 (1,0)->(0,0)
1336846097656: Dispatching Atom PROC_REPLY 11:0 (1,0)->(0,0)
1336846097657: mux: I got a CSM packet at a leader 
1336846097661: Sending UDP payload: 4533
1336846097671: Received UDP payload: 446
1336846097673: forwarding disabled, not forwarding packets
1336846097673: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846097673: mux: Inside Packet.SERVER_REPLY
1336846097850: Received UDP payload: 642
1336846097854: mux: Inside mux Packet.CLIENT_REQUEST
1336846097855: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846097855: got new request, requestCounter = 5022005
1336846097855: inside handleClientRequest. Originator leader of region 1
1336846097855: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846097857: Sending PROC_REQUEST 11:2 (1,0)->(1,0)
1336846097857: Sending to region: 1
1336846097858: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(1,0)
1336846097858: Make FirstLeg Ack regardless of new or already-processed requests
1336846097858: Note down new request by adding requestCounter=5022005 to HashMap processedRequests
1336846097859: The leader sending a First Leg ack to originator client (which id = 5022)
1336846097859: inside sendPacket(Packet p)
1336846097860: mux: I got a CSM packet at a leader 
1336846097863: Sending UDP payload: 1006
1336846097875: inside handleDSMRequest. At requests's remote leader of region 1
1336846097875: removed replies before id 2 from sentReplies of size 0
1336846097877: INSIDE SERVER_GET_PHOTO!!!
1336846097878:  1 self to self atomRequest
1336846097878: dst_region == src_region = 1
1336846097881: Received PROC_REQUEST 11:2 (1,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(1,0)
1336846097882: Dispatching Atom PROC_REPLY 11:2 (1,0)->(1,0)
1336846097883: Sending UDP payload: 446
1336846097885: mux: I got a CSM packet at a leader 
1336846097894: Sending UDP payload: 4533
1336846097899: Received PROC_REPLY 11:2 (1,0)->(1,0), handing to UserApp
1336846097900: DSM layer: Going to and from remote region took latency = 43
1336846097900: DSM layer: orig leader sent packet at 1336846097857 ~ received reply from remote leader at 1336846097900
1336846097900: inside handleDSMReply. Now back in originator leader of region 1
1336846097902: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846097902: leader client reply has replyCounter: 502200500
1336846097902: reply packet contains the newest photo/success info from the remote region
1336846097903: =======================
1336846097903: inside sendReplies of replyCount = 502200500
1336846097903: inside sendReplyRepeatingRunnable for replyCount = 502200500
1336846097904: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846097904: Leader about to send REPLY packet, number: 502200500 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846097905: === Finished one round of sending REPLY Packet =======
1336846097905: inside sendPacket(Packet p)
1336846097917: Sending UDP payload: 4186
1336846098044: Received UDP payload: 446
1336846098048: got new request, requestCounter = 5022006
1336846098048: inside handleClientRequest. Originator leader of region 1
1336846098048: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846098048: mux: Inside mux Packet.CLIENT_REQUEST
1336846098049: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200500
1336846098049: Yay the last leg succeeded. Removing reply runnables ...
1336846098049: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502200500
1336846098049: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502200500
1336846098050: do not send ack for received final_leg_ack
1336846098059: Received UDP payload: 4186
1336846098063: mux: Inside Packet.SERVER_REPLY
1336846098064: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846098104: Received UDP payload: 446
1336846098108: mux: Inside mux Packet.CLIENT_REQUEST
1336846098172: Received UDP payload: 4186
1336846098177: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846098177: mux: Inside Packet.SERVER_REPLY
1336846098215: Received UDP payload: 446
1336846098220: mux: Inside mux Packet.CLIENT_REQUEST
1336846098672: Received UDP payload: 446
1336846098730: Received UDP payload: 1006
1336846098772: inside handleDSMRequest. At requests's remote leader of region 1
1336846098772: mux: GOT CSM_Msg
1336846098772: removed replies before id 1 from sentReplies of size 0
1336846098773: INSIDE SERVER_GET_PHOTO!!!
1336846098775: Dispatching Atom PROC_REPLY 11:1 (1,0)->(0,0)
1336846098775: Received PROC_REQUEST 11:1 (0,0)->(1,0), replying PROC_REPLY 11:1 (1,0)->(0,0)
1336846098775: mux: I got a CSM packet at a leader 
1336846098776: Sending UDP payload: 4533
1336846098777: forwarding disabled, not forwarding packets
1336846098778: canPressButton = TRUE
1336846098779: areButtonsEnabled --> false
1336846098779: areButtonsEnabled --> false 
1336846098779: get picture disableButtonsR
1336846098809: one more getNum: 2
1336846098810: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846098810: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=0 getTimedout=0 getPercent=50%
1336846098811: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002005 Client in region: 1 Client nodID: 5002
1336846098811: change local requestCounter to 5
1336846098857: ----------------------------
1336846098858: I'm a leader, my requesting photos packet going to mux directly
1336846098858: inside handleClientRequest. Originator leader of region 1
1336846098858: inside sendRequestPacketRepeatingRunnable for requestCount = 5002005
1336846098858: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846098858: mux: Inside mux Packet.CLIENT_REQUEST
1336846098859: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846098859: got new request, requestCounter = 5002005
1336846098860: Sending PROC_REQUEST 11:3 (1,0)->(1,0)
1336846098860: Sending to region: 1
1336846098861: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(1,0)
1336846098861: Make FirstLeg Ack regardless of new or already-processed requests
1336846098861: Note down new request by adding requestCounter=5002005 to HashMap processedRequests
1336846098861: mux: I got a CSM packet at a leader 
1336846098861: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846098863: Sending UDP payload: 1006
1336846098864: removed replies before id 3 from sentReplies of size 0
1336846098865: inside handleDSMRequest. At requests's remote leader of region 1
1336846098866:  1 self to self atomRequest
1336846098866: INSIDE SERVER_GET_PHOTO!!!
1336846098866: dst_region == src_region = 1
1336846098868: --- Finished one round of sending REQUEST Packet ---------
1336846098868: Received PROC_REQUEST 11:3 (1,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(1,0)
1336846098879: Dispatching Atom PROC_REPLY 11:3 (1,0)->(1,0)
1336846098880: mux: I got a CSM packet at a leader 
1336846098881: Sending UDP payload: 4533
1336846098883: Received PROC_REPLY 11:3 (1,0)->(1,0), handing to UserApp
1336846098884: DSM layer: Going to and from remote region took latency = 24
1336846098884: DSM layer: orig leader sent packet at 1336846098860 ~ received reply from remote leader at 1336846098884
1336846098884: inside handleDSMReply. Now back in originator leader of region 1
1336846098885: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846098885: inside sendReplies of replyCount = 500200500
1336846098885: leader client reply has replyCounter: 500200500
1336846098885: reply packet contains the newest photo/success info from the remote region
1336846098886: === Finished one round of sending REPLY Packet =======
1336846098886: =======================
1336846098886: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846098886: Leader about to send REPLY packet, number: 500200500 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846098886: inside sendReplyRepeatingRunnable for replyCount = 500200500
1336846098913: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846098918: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846098919: Inside _enableButtons
1336846098919: areButtonsEnabled --> true
1336846098919: disabling progressdialog due to successful new photo get
1336846098920: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002006 Client in region: (1,0) Client nodID: 5002
1336846098920: inside finalLegAck: change requestCounter to 6
1336846098920: send final leg ack regardless of new or already-processed reply
1336846098921: I'm a leader client, my final_leg packet going to mux directly
1336846098921: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500200500
1336846098921: Yay the last leg succeeded. Removing reply runnables ...
1336846098921: got new request, requestCounter = 5002006
1336846098921: inside handleClientRequest. Originator leader of region 1
1336846098921: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846098921: mux: Inside mux Packet.CLIENT_REQUEST
1336846098922: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500200500
1336846098922: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500200500
1336846098922: do not send ack for received final_leg_ack
1336846098923: new client_show_remotephoto reply with replyCounter 500200500
1336846098927: note down new reply by adding replyCounter=500200500 to HashMap processedReplies
1336846098928: leader download remote photo latency = 60
1336846098929: = leader download start 1336846098858 ~ stop 1336846098918
1336846098930: one more getGood: 2
1336846098930: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=2 getBad=0 getTimedout=0 getPercent=100%
1336846098931: adding get latency: 60
1336846098932: Remote photo's length: 3505
1336846098932: Success! Client getting photo from remote region, showing photo...
1336846099048: Received UDP payload: 446
1336846099859: Received UDP payload: 446
1336846099937: Received UDP payload: 446
1336846100163: inside sendPacket(Packet p)
1336846100179: Sending UDP payload: 446
1336846100293: Received UDP payload: 446
1336846103717: Received UDP payload: 446
1336846103999: Received UDP payload: 446
1336846104473: Received UDP payload: 1006
1336846104483: mux: GOT CSM_Msg
1336846104484: removed replies before id 0 from sentReplies of size 0
1336846104485: inside handleDSMRequest. At requests's remote leader of region 1
1336846104487: INSIDE SERVER_GET_PHOTO!!!
1336846104492: Received PROC_REQUEST 11:0 (3,0)->(1,0), replying PROC_REPLY 11:0 (1,0)->(3,0)
1336846104493: Dispatching Atom PROC_REPLY 11:0 (1,0)->(3,0)
1336846104494: mux: I got a CSM packet at a leader 
1336846104521: Sending UDP payload: 4533
1336846104528: forwarding disabled, not forwarding packets
1336846104866: Received UDP payload: 446
1336846104962: Received UDP payload: 446
1336846105164: inside sendPacket(Packet p)
1336846105166: Sending UDP payload: 446
1336846105233: Received UDP payload: 446
1336846108349: Received UDP payload: 1006
1336846108359: mux: GOT CSM_Msg
1336846108360: removed replies before id 0 from sentReplies of size 0
1336846108361: inside handleDSMRequest. At requests's remote leader of region 1
1336846108363: INSIDE SERVER_GET_PHOTO!!!
1336846108382: Received PROC_REQUEST 11:0 (2,0)->(1,0), replying PROC_REPLY 11:0 (1,0)->(2,0)
1336846108383: Dispatching Atom PROC_REPLY 11:0 (1,0)->(2,0)
1336846108384: mux: I got a CSM packet at a leader 
1336846108388: Sending UDP payload: 4533
1336846108401: forwarding disabled, not forwarding packets
1336846108688: Received UDP payload: 446
1336846108990: Received UDP payload: 446
1336846109875: Received UDP payload: 446
1336846109936: Received UDP payload: 446
1336846110165: inside sendPacket(Packet p)
1336846110169: Sending UDP payload: 446
1336846110248: Received UDP payload: 446
1336846110489: Received UDP payload: 642
1336846110498: mux: Inside mux Packet.CLIENT_REQUEST
1336846110567: Received UDP payload: 1006
1336846110579: mux: GOT CSM_Msg
1336846110580: inside handleDSMRequest. At requests's remote leader of region 1
1336846110580: removed replies before id 0 from sentReplies of size 0
1336846110582: INSIDE SERVER_GET_PHOTO!!!
1336846110595: Received UDP payload: 446
1336846110601: Received PROC_REQUEST 11:0 (5,0)->(1,0), replying PROC_REPLY 11:0 (1,0)->(5,0)
1336846110607: Dispatching Atom PROC_REPLY 11:0 (1,0)->(5,0)
1336846110608: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846110608: mux: Inside Packet.SERVER_REPLY
1336846110609: mux: I got a CSM packet at a leader 
1336846110621: Sending UDP payload: 4533
1336846110630: forwarding disabled, not forwarding packets
1336846110749: Received UDP payload: 4186
1336846110752: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846110752: mux: Inside Packet.SERVER_REPLY
1336846110759: Received UDP payload: 446
1336846110762: mux: Inside mux Packet.CLIENT_REQUEST
1336846111530: Received UDP payload: 1006
1336846111540: mux: GOT CSM_Msg
1336846111541: removed replies before id 1 from sentReplies of size 0
1336846111542: inside handleDSMRequest. At requests's remote leader of region 1
1336846111544: INSIDE SERVER_GET_PHOTO!!!
1336846111557: Received PROC_REQUEST 11:1 (5,0)->(1,0), replying PROC_REPLY 11:1 (1,0)->(5,0)
1336846111558: Dispatching Atom PROC_REPLY 11:1 (1,0)->(5,0)
1336846111559: mux: I got a CSM packet at a leader 
1336846111563: Sending UDP payload: 4533
1336846111577: forwarding disabled, not forwarding packets
1336846113714: Received UDP payload: 446
1336846114032: Received UDP payload: 446
1336846114229: Received UDP payload: 1006
1336846114240: mux: GOT CSM_Msg
1336846114241: inside handleDSMRequest. At requests's remote leader of region 1
1336846114241: removed replies before id 0 from sentReplies of size 0
1336846114244: INSIDE SERVER_GET_PHOTO!!!
1336846114258: Received PROC_REQUEST 11:0 (4,0)->(1,0), replying PROC_REPLY 11:0 (1,0)->(4,0)
1336846114259: Dispatching Atom PROC_REPLY 11:0 (1,0)->(4,0)
1336846114260: mux: I got a CSM packet at a leader 
1336846114278: Sending UDP payload: 4533
1336846114281: forwarding disabled, not forwarding packets
1336846114896: Received UDP payload: 446
1336846114937: Received UDP payload: 446
1336846115166: inside sendPacket(Packet p)
1336846115169: Sending UDP payload: 446
1336846115253: Received UDP payload: 446
1336846115461: Received UDP payload: 642
1336846115469: mux: Inside mux Packet.CLIENT_REQUEST
1336846115566: Received UDP payload: 1006
1336846115575: mux: GOT CSM_Msg
1336846115576: inside handleDSMRequest. At requests's remote leader of region 1
1336846115576: removed replies before id 1 from sentReplies of size 0
1336846115578: INSIDE SERVER_GET_PHOTO!!!
1336846115583: Received PROC_REQUEST 11:1 (4,0)->(1,0), replying PROC_REPLY 11:1 (1,0)->(4,0)
1336846115584: Dispatching Atom PROC_REPLY 11:1 (1,0)->(4,0)
1336846115595: mux: I got a CSM packet at a leader 
1336846115599: Sending UDP payload: 4533
1336846115610: Received UDP payload: 446
1336846115618: forwarding disabled, not forwarding packets
1336846115618: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846115618: mux: Inside Packet.SERVER_REPLY
1336846115778: Received UDP payload: 4186
1336846115782: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846115782: mux: Inside Packet.SERVER_REPLY
1336846115825: Received UDP payload: 446
1336846115828: mux: Inside mux Packet.CLIENT_REQUEST
1336846118752: Received UDP payload: 446
1336846119051: Received UDP payload: 446
1336846119936: Received UDP payload: 446
1336846119950: Received UDP payload: 446
1336846120167: inside sendPacket(Packet p)
1336846120170: Sending UDP payload: 446
1336846120282: Received UDP payload: 446
1336846123730: Received UDP payload: 446
1336846124005: Received UDP payload: 446
1336846124407: areButtonsEnabled --> false
1336846124407: areButtonsEnabled --> false 
1336846124407: canPressButton = TRUE
1336846124407: get picture disableButtonsR
1336846124433: one more getNum: 3
1336846124435: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846124435: change local requestCounter to 7
1336846124435: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=0 getTimedout=0 getPercent=66%
1336846124436: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002007 Client in region: 1 Client nodID: 5002
1336846124469: ----------------------------
1336846124470: I'm a leader, my requesting photos packet going to mux directly
1336846124470: inside handleClientRequest. Originator leader of region 1
1336846124470: inside sendRequestPacketRepeatingRunnable for requestCount = 5002007
1336846124470: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846124470: mux: Inside mux Packet.CLIENT_REQUEST
1336846124471: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846124471: Sending to region: 2
1336846124471: got new request, requestCounter = 5002007
1336846124472: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1336846124472: Sending PROC_REQUEST 11:0 (1,0)->(2,0)
1336846124473: Make FirstLeg Ack regardless of new or already-processed requests
1336846124473: Note down new request by adding requestCounter=5002007 to HashMap processedRequests
1336846124473: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846124474: mux: I got a CSM packet at a leader 
1336846124475: Sending UDP payload: 1006
1336846124476: --- Finished one round of sending REQUEST Packet ---------
1336846124476: forwarding disabled, not forwarding packets
1336846124514: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846124591: Received UDP payload: 4368
1336846124594: Received PROC_REPLY 11:0 (2,0)->(1,0), handing to UserApp
1336846124594: inside handleDSMReply. Now back in originator leader of region 1
1336846124594: mux: GOT CSM_Msg
1336846124595: DSM layer: Going to and from remote region took latency = 122
1336846124595: DSM layer: orig leader sent packet at 1336846124472 ~ received reply from remote leader at 1336846124594
1336846124596: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846124596: inside sendReplies of replyCount = 500200700
1336846124596: leader client reply has replyCounter: 500200700
1336846124596: reply packet contains the newest photo/success info from the remote region
1336846124598: === Finished one round of sending REPLY Packet =======
1336846124598: =======================
1336846124598: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846124598: Leader about to send REPLY packet, number: 500200700 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846124598: inside sendReplyRepeatingRunnable for replyCount = 500200700
1336846124604: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846124604: disabling progressdialog due to successful new photo get
1336846124605: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002008 Client in region: (1,0) Client nodID: 5002
1336846124605: Inside _enableButtons
1336846124605: areButtonsEnabled --> true
1336846124605: inside finalLegAck: change requestCounter to 8
1336846124605: send final leg ack regardless of new or already-processed reply
1336846124606: I'm a leader client, my final_leg packet going to mux directly
1336846124606: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500200700
1336846124606: Yay the last leg succeeded. Removing reply runnables ...
1336846124606: got new request, requestCounter = 5002008
1336846124606: inside handleClientRequest. Originator leader of region 1
1336846124606: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846124606: mux: Inside mux Packet.CLIENT_REQUEST
1336846124607: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500200700
1336846124607: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500200700
1336846124607: do not send ack for received final_leg_ack
1336846124607: new client_show_remotephoto reply with replyCounter 500200700
1336846124608: = leader download start 1336846124470 ~ stop 1336846124604
1336846124608: leader download remote photo latency = 134
1336846124608: note down new reply by adding replyCounter=500200700 to HashMap processedReplies
1336846124610: one more getGood: 3
1336846124611: adding get latency: 134
1336846124611: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=3 getBad=0 getTimedout=0 getPercent=100%
1336846124612: Remote photo's length: 3340
1336846124612: Success! Client getting photo from remote region, showing photo...
1336846124897: Received UDP payload: 446
1336846124963: Received UDP payload: 446
1336846125168: inside sendPacket(Packet p)
1336846125172: Sending UDP payload: 446
1336846125252: Received UDP payload: 446
1336846125394: Received UDP payload: 642
1336846125403: inside handleClientRequest. Originator leader of region 1
1336846125403: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846125403: mux: Inside mux Packet.CLIENT_REQUEST
1336846125404: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846125404: got new request, requestCounter = 5022007
1336846125406: Sending to region: 2
1336846125418: Sending PROC_REQUEST 11:1 (1,0)->(2,0)
1336846125419: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(2,0)
1336846125419: Note down new request by adding requestCounter=5022007 to HashMap processedRequests
1336846125420: Make FirstLeg Ack regardless of new or already-processed requests
1336846125420: The leader sending a First Leg ack to originator client (which id = 5022)
1336846125420: inside sendPacket(Packet p)
1336846125421: mux: I got a CSM packet at a leader 
1336846125426: Sending UDP payload: 1006
1336846125426: forwarding disabled, not forwarding packets
1336846125440: Sending UDP payload: 446
1336846125498: Received UDP payload: 4368
1336846125508: DSM layer: Going to and from remote region took latency = 102
1336846125508: DSM layer: orig leader sent packet at 1336846125406 ~ received reply from remote leader at 1336846125508
1336846125508: Received PROC_REPLY 11:1 (2,0)->(1,0), handing to UserApp
1336846125508: inside handleDSMReply. Now back in originator leader of region 1
1336846125508: mux: GOT CSM_Msg
1336846125509: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846125509: inside sendReplies of replyCount = 502200700
1336846125509: leader client reply has replyCounter: 502200700
1336846125509: reply packet contains the newest photo/success info from the remote region
1336846125510: === Finished one round of sending REPLY Packet =======
1336846125510: =======================
1336846125510: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846125510: Leader about to send REPLY packet, number: 502200700 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846125510: inside sendPacket(Packet p)
1336846125510: inside sendReplyRepeatingRunnable for replyCount = 502200700
1336846125512: Sending UDP payload: 4021
1336846125581: Received UDP payload: 446
1336846125583: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200700
1336846125583: got new request, requestCounter = 5022008
1336846125583: inside handleClientRequest. Originator leader of region 1
1336846125583: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846125583: mux: Inside mux Packet.CLIENT_REQUEST
1336846125584: Yay the last leg succeeded. Removing reply runnables ...
1336846125584: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502200700
1336846125584: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502200700
1336846125584: do not send ack for received final_leg_ack
1336846128727: Received UDP payload: 446
1336846128997: Received UDP payload: 446
1336846129910: Received UDP payload: 446
1336846129976: Received UDP payload: 446
1336846130170: inside sendPacket(Packet p)
1336846130173: Sending UDP payload: 446
1336846130266: Received UDP payload: 446
1336846132751: Received UDP payload: 642
1336846132761: mux: Inside mux Packet.CLIENT_REQUEST
1336846132775: Received UDP payload: 642
1336846132782: mux: Inside mux Packet.CLIENT_REQUEST
1336846132979: Received UDP payload: 1006
1336846132982: forwarding disabled, not forwarding packets
1336846132982: mux: GOT CSM_Msg
1336846132988: Received UDP payload: 446
1336846132993: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846132993: mux: Inside Packet.SERVER_REPLY
1336846133009: Received UDP payload: 446
1336846133017: mux: Inside Packet.SERVER_REPLY
1336846133018: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846133118: Received UDP payload: 4368
1336846133129: mux: GOT CSM_Msg
1336846133130: forwarding disabled, not forwarding packets
1336846133203: Received UDP payload: 4021
1336846133209: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846133209: mux: Inside Packet.SERVER_REPLY
1336846133220: Received UDP payload: 446
1336846133226: mux: Inside mux Packet.CLIENT_REQUEST
1336846133729: Received UDP payload: 446
1336846133764: Received UDP payload: 1006
1336846133774: mux: GOT CSM_Msg
1336846133775: forwarding disabled, not forwarding packets
1336846133863: Received UDP payload: 4368
1336846133875: forwarding disabled, not forwarding packets
1336846133875: mux: GOT CSM_Msg
1336846134002: Received UDP payload: 446
1336846134816: Received UDP payload: 1006
1336846134827: forwarding disabled, not forwarding packets
1336846134827: mux: GOT CSM_Msg
1336846134926: Received UDP payload: 446
1336846134976: Received UDP payload: 4368
1336846134986: forwarding disabled, not forwarding packets
1336846134986: mux: GOT CSM_Msg
1336846134995: Received UDP payload: 446
1336846135171: inside sendPacket(Packet p)
1336846135172: Sending UDP payload: 446
1336846135244: Received UDP payload: 446
1336846138741: Received UDP payload: 446
1336846138998: Received UDP payload: 446
1336846139402: leader to cloud hearbeat...
1336846139892: Received UDP payload: 446
1336846139986: Received UDP payload: 446
1336846140171: inside sendPacket(Packet p)
1336846140174: Sending UDP payload: 446
1336846140263: Received UDP payload: 446
1336846140707: Received UDP payload: 1006
1336846140717: forwarding disabled, not forwarding packets
1336846140717: mux: GOT CSM_Msg
1336846140763: Received UDP payload: 4368
1336846140772: forwarding disabled, not forwarding packets
1336846140772: mux: GOT CSM_Msg
1336846140902: Received UDP payload: 642
1336846140905: mux: Inside mux Packet.CLIENT_REQUEST
1336846140931: Received UDP payload: 1006
1336846140936: forwarding disabled, not forwarding packets
1336846140936: mux: GOT CSM_Msg
1336846140941: Received UDP payload: 446
1336846140944: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846140944: mux: Inside Packet.SERVER_REPLY
1336846140998: Received UDP payload: 4368
1336846141002: forwarding disabled, not forwarding packets
1336846141002: mux: GOT CSM_Msg
1336846141073: Received UDP payload: 4021
1336846141076: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846141076: mux: Inside Packet.SERVER_REPLY
1336846141087: Received UDP payload: 446
1336846141090: mux: Inside mux Packet.CLIENT_REQUEST
1336846141901: Received UDP payload: 1006
1336846141912: forwarding disabled, not forwarding packets
1336846141912: mux: GOT CSM_Msg
1336846142008: Received UDP payload: 4368
1336846142017: mux: GOT CSM_Msg
1336846142018: forwarding disabled, not forwarding packets
1336846143746: Received UDP payload: 446
1336846144002: Received UDP payload: 446
1336846144906: Received UDP payload: 446
1336846144989: Received UDP payload: 446
1336846145172: inside sendPacket(Packet p)
1336846145173: Sending UDP payload: 446
1336846145247: Received UDP payload: 446
1336846148140: Received UDP payload: 1006
1336846148152: forwarding disabled, not forwarding packets
1336846148152: mux: GOT CSM_Msg
1336846148248: Received UDP payload: 4368
1336846148287: forwarding disabled, not forwarding packets
1336846148287: mux: GOT CSM_Msg
1336846148746: Received UDP payload: 446
1336846149001: Received UDP payload: 446
1336846149509: Received UDP payload: 642
1336846149522: mux: Inside mux Packet.CLIENT_REQUEST
1336846149575: Received UDP payload: 1006
1336846149583: Received UDP payload: 446
1336846149583: forwarding disabled, not forwarding packets
1336846149583: mux: GOT CSM_Msg
1336846149585: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846149585: mux: Inside Packet.SERVER_REPLY
1336846149673: Received UDP payload: 4368
1336846149676: forwarding disabled, not forwarding packets
1336846149676: mux: GOT CSM_Msg
1336846149728: Received UDP payload: 4021
1336846149730: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846149730: mux: Inside Packet.SERVER_REPLY
1336846149741: Received UDP payload: 446
1336846149743: mux: Inside mux Packet.CLIENT_REQUEST
1336846149899: Received UDP payload: 446
1336846149989: Received UDP payload: 446
1336846150173: inside sendPacket(Packet p)
1336846150176: Sending UDP payload: 446
1336846150627: Received UDP payload: 446
1336846153753: Received UDP payload: 446
1336846154018: Received UDP payload: 446
1336846154909: Received UDP payload: 446
1336846155008: Received UDP payload: 446
1336846155173: inside sendPacket(Packet p)
1336846155177: Sending UDP payload: 446
1336846155636: Received UDP payload: 446
1336846158755: Received UDP payload: 446
1336846159039: Received UDP payload: 446
1336846159926: Received UDP payload: 446
1336846160026: Received UDP payload: 446
1336846160174: inside sendPacket(Packet p)
1336846160177: Sending UDP payload: 446
1336846160639: Received UDP payload: 446
1336846163756: Received UDP payload: 446
1336846164041: Received UDP payload: 446
1336846164917: Received UDP payload: 446
1336846165044: Received UDP payload: 446
1336846165175: inside sendPacket(Packet p)
1336846165178: Sending UDP payload: 446
1336846165687: Received UDP payload: 446
1336846168772: Received UDP payload: 446
1336846169070: Received UDP payload: 446
1336846169955: Received UDP payload: 446
1336846170045: Received UDP payload: 446
1336846170176: inside sendPacket(Packet p)
1336846170179: Sending UDP payload: 446
1336846170651: Received UDP payload: 446
1336846172996: areButtonsEnabled --> false 
1336846172996: canPressButton = TRUE
1336846172997: areButtonsEnabled --> false
1336846172997: get picture disableButtonsR
1336846173023: one more getNum: 4
1336846173024: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846173024: change local requestCounter to 9
1336846173024: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=3 getBad=0 getTimedout=0 getPercent=75%
1336846173025: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002009 Client in region: 1 Client nodID: 5002
1336846173059: ----------------------------
1336846173060: inside sendRequestPacketRepeatingRunnable for requestCount = 5002009
1336846173061: I'm a leader, my requesting photos packet going to mux directly
1336846173061: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846173061: got new request, requestCounter = 5002009
1336846173061: inside handleClientRequest. Originator leader of region 1
1336846173061: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846173061: mux: Inside mux Packet.CLIENT_REQUEST
1336846173062: Sending to region: 3
1336846173063: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(3,0)
1336846173063: Make FirstLeg Ack regardless of new or already-processed requests
1336846173063: Note down new request by adding requestCounter=5002009 to HashMap processedRequests
1336846173063: Sending PROC_REQUEST 11:0 (1,0)->(3,0)
1336846173063: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846173064: mux: I got a CSM packet at a leader 
1336846173066: Sending UDP payload: 1006
1336846173066: forwarding disabled, not forwarding packets
1336846173067: --- Finished one round of sending REQUEST Packet ---------
1336846173107: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846173236: Received UDP payload: 4942
1336846173241: Received PROC_REPLY 11:0 (3,0)->(1,0), handing to UserApp
1336846173241: inside handleDSMReply. Now back in originator leader of region 1
1336846173241: mux: GOT CSM_Msg
1336846173242: DSM layer: Going to and from remote region took latency = 179
1336846173242: DSM layer: orig leader sent packet at 1336846173062 ~ received reply from remote leader at 1336846173241
1336846173242: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846173243: =======================
1336846173243: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846173243: Leader about to send REPLY packet, number: 500200900 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846173243: inside sendReplies of replyCount = 500200900
1336846173243: inside sendReplyRepeatingRunnable for replyCount = 500200900
1336846173243: leader client reply has replyCounter: 500200900
1336846173243: reply packet contains the newest photo/success info from the remote region
1336846173244: === Finished one round of sending REPLY Packet =======
1336846173248: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846173249: Inside _enableButtons
1336846173249: areButtonsEnabled --> true
1336846173249: disabling progressdialog due to successful new photo get
1336846173249: inside finalLegAck: change requestCounter to 10
1336846173249: send final leg ack regardless of new or already-processed reply
1336846173250: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002010 Client in region: (1,0) Client nodID: 5002
1336846173250: I'm a leader client, my final_leg packet going to mux directly
1336846173250: inside handleClientRequest. Originator leader of region 1
1336846173250: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846173250: mux: Inside mux Packet.CLIENT_REQUEST
1336846173251: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500200900
1336846173251: Yay the last leg succeeded. Removing reply runnables ...
1336846173251: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500200900
1336846173251: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500200900
1336846173251: do not send ack for received final_leg_ack
1336846173251: got new request, requestCounter = 5002010
1336846173252: new client_show_remotephoto reply with replyCounter 500200900
1336846173253: = leader download start 1336846173061 ~ stop 1336846173248
1336846173253: leader download remote photo latency = 187
1336846173253: note down new reply by adding replyCounter=500200900 to HashMap processedReplies
1336846173254: one more getGood: 4
1336846173255: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=4 getBad=0 getTimedout=0 getPercent=100%
1336846173256: Remote photo's length: 3914
1336846173256: Success! Client getting photo from remote region, showing photo...
1336846173256: adding get latency: 187
1336846173760: Received UDP payload: 446
1336846174045: Received UDP payload: 446
1336846174258: Received UDP payload: 642
1336846174266: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846174266: mux: Inside mux Packet.CLIENT_REQUEST
1336846174267: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846174267: got new request, requestCounter = 5022009
1336846174267: inside handleClientRequest. Originator leader of region 1
1336846174269: Sending to region: 3
1336846174277: Sending PROC_REQUEST 11:1 (1,0)->(3,0)
1336846174278: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(3,0)
1336846174279: Make FirstLeg Ack regardless of new or already-processed requests
1336846174279: Note down new request by adding requestCounter=5022009 to HashMap processedRequests
1336846174280: The leader sending a First Leg ack to originator client (which id = 5022)
1336846174280: inside sendPacket(Packet p)
1336846174281: mux: I got a CSM packet at a leader 
1336846174306: Sending UDP payload: 1006
1336846174309: forwarding disabled, not forwarding packets
1336846174313: Sending UDP payload: 446
1336846174407: Received UDP payload: 4942
1336846174410: Received PROC_REPLY 11:1 (3,0)->(1,0), handing to UserApp
1336846174410: mux: GOT CSM_Msg
1336846174411: DSM layer: Going to and from remote region took latency = 141
1336846174411: DSM layer: orig leader sent packet at 1336846174270 ~ received reply from remote leader at 1336846174411
1336846174411: inside handleDSMReply. Now back in originator leader of region 1
1336846174412: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846174412: inside sendReplies of replyCount = 502200900
1336846174412: leader client reply has replyCounter: 502200900
1336846174412: reply packet contains the newest photo/success info from the remote region
1336846174413: === Finished one round of sending REPLY Packet =======
1336846174413: =======================
1336846174413: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846174413: Leader about to send REPLY packet, number: 502200900 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846174413: inside sendPacket(Packet p)
1336846174413: inside sendReplyRepeatingRunnable for replyCount = 502200900
1336846174415: Sending UDP payload: 4595
1336846174498: Received UDP payload: 446
1336846174500: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502200900
1336846174500: Yay the last leg succeeded. Removing reply runnables ...
1336846174500: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502200900
1336846174500: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502200900
1336846174500: do not send ack for received final_leg_ack
1336846174500: got new request, requestCounter = 5022010
1336846174500: inside handleClientRequest. Originator leader of region 1
1336846174500: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846174500: mux: Inside mux Packet.CLIENT_REQUEST
1336846174933: Received UDP payload: 446
1336846175041: Received UDP payload: 446
1336846175177: inside sendPacket(Packet p)
1336846175181: Sending UDP payload: 446
1336846175675: Received UDP payload: 446
1336846176796: Received UDP payload: 642
1336846176802: mux: Inside mux Packet.CLIENT_REQUEST
1336846176837: Received UDP payload: 1006
1336846176849: mux: GOT CSM_Msg
1336846176850: forwarding disabled, not forwarding packets
1336846176856: Received UDP payload: 446
1336846176857: mux: Inside Packet.SERVER_REPLY
1336846176858: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846176912: Received UDP payload: 4942
1336846176915: forwarding disabled, not forwarding packets
1336846176915: mux: GOT CSM_Msg
1336846176986: Received UDP payload: 4595
1336846176988: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846176988: mux: Inside Packet.SERVER_REPLY
1336846176999: Received UDP payload: 446
1336846177000: mux: Inside mux Packet.CLIENT_REQUEST
1336846178117: Received UDP payload: 1006
1336846178128: mux: GOT CSM_Msg
1336846178129: forwarding disabled, not forwarding packets
1336846178210: Received UDP payload: 4942
1336846178220: mux: GOT CSM_Msg
1336846178221: forwarding disabled, not forwarding packets
1336846178766: Received UDP payload: 446
1336846179087: Received UDP payload: 446
1336846179961: Received UDP payload: 446
1336846180040: Received UDP payload: 446
1336846180178: inside sendPacket(Packet p)
1336846180181: Sending UDP payload: 446
1336846180670: Received UDP payload: 446
1336846183779: Received UDP payload: 446
1336846184065: Received UDP payload: 446
1336846184235: Received UDP payload: 1006
1336846184245: mux: GOT CSM_Msg
1336846184246: forwarding disabled, not forwarding packets
1336846184293: Received UDP payload: 4942
1336846184302: forwarding disabled, not forwarding packets
1336846184302: mux: GOT CSM_Msg
1336846184940: Received UDP payload: 446
1336846185053: Received UDP payload: 446
1336846185179: inside sendPacket(Packet p)
1336846185182: Sending UDP payload: 446
1336846185695: Received UDP payload: 446
1336846187135: Received UDP payload: 1006
1336846187143: forwarding disabled, not forwarding packets
1336846187143: mux: GOT CSM_Msg
1336846187258: Received UDP payload: 4942
1336846187263: forwarding disabled, not forwarding packets
1336846187263: mux: GOT CSM_Msg
1336846188783: Received UDP payload: 446
1336846189077: Received UDP payload: 446
1336846189944: Received UDP payload: 446
1336846190051: Received UDP payload: 446
1336846190179: inside sendPacket(Packet p)
1336846190182: Sending UDP payload: 446
1336846190699: Received UDP payload: 446
1336846191056: Received UDP payload: 642
1336846191062: mux: Inside mux Packet.CLIENT_REQUEST
1336846191130: Received UDP payload: 1006
1336846191133: forwarding disabled, not forwarding packets
1336846191133: mux: GOT CSM_Msg
1336846191137: Received UDP payload: 446
1336846191139: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846191139: mux: Inside Packet.SERVER_REPLY
1336846191226: Received UDP payload: 4942
1336846191229: forwarding disabled, not forwarding packets
1336846191229: mux: GOT CSM_Msg
1336846191298: Received UDP payload: 4595
1336846191300: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846191300: mux: Inside Packet.SERVER_REPLY
1336846191309: Received UDP payload: 446
1336846191311: mux: Inside mux Packet.CLIENT_REQUEST
1336846192068: Received UDP payload: 1006
1336846192079: forwarding disabled, not forwarding packets
1336846192079: mux: GOT CSM_Msg
1336846192161: Received UDP payload: 4942
1336846192164: forwarding disabled, not forwarding packets
1336846192164: mux: GOT CSM_Msg
1336846193784: Received UDP payload: 446
1336846194072: Received UDP payload: 446
1336846194947: Received UDP payload: 446
1336846195063: Received UDP payload: 446
1336846195179: inside sendPacket(Packet p)
1336846195183: Sending UDP payload: 446
1336846195699: Received UDP payload: 446
1336846196809: Received UDP payload: 1006
1336846196821: forwarding disabled, not forwarding packets
1336846196821: mux: GOT CSM_Msg
1336846196915: Received UDP payload: 4942
1336846196923: mux: GOT CSM_Msg
1336846196924: forwarding disabled, not forwarding packets
1336846198199: Received UDP payload: 642
1336846198206: mux: Inside mux Packet.CLIENT_REQUEST
1336846198261: Received UDP payload: 1006
1336846198270: forwarding disabled, not forwarding packets
1336846198270: mux: GOT CSM_Msg
1336846198285: Received UDP payload: 446
1336846198290: mux: Inside Packet.SERVER_REPLY
1336846198291: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846198332: Received UDP payload: 4942
1336846198335: forwarding disabled, not forwarding packets
1336846198335: mux: GOT CSM_Msg
1336846198411: Received UDP payload: 4595
1336846198413: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846198413: mux: Inside Packet.SERVER_REPLY
1336846198455: Received UDP payload: 446
1336846198457: mux: Inside mux Packet.CLIENT_REQUEST
1336846198788: Received UDP payload: 446
1336846199078: Received UDP payload: 446
1336846199950: Received UDP payload: 446
1336846200064: Received UDP payload: 446
1336846200181: inside sendPacket(Packet p)
1336846200182: Sending UDP payload: 446
1336846200708: Received UDP payload: 446
1336846203836: Received UDP payload: 446
1336846204096: Received UDP payload: 446
1336846204528: areButtonsEnabled --> false
1336846204528: areButtonsEnabled --> false 
1336846204528: canPressButton = TRUE
1336846204528: get picture disableButtonsR
1336846204574: one more getNum: 5
1336846204575: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=0 getTimedout=0 getPercent=80%
1336846204576: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846204576: change local requestCounter to 11
1336846204577: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002011 Client in region: 1 Client nodID: 5002
1336846204639: ----------------------------
1336846204639: inside sendRequestPacketRepeatingRunnable for requestCount = 5002011
1336846204640: I'm a leader, my requesting photos packet going to mux directly
1336846204640: got new request, requestCounter = 5002011
1336846204640: inside handleClientRequest. Originator leader of region 1
1336846204640: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846204640: mux: Inside mux Packet.CLIENT_REQUEST
1336846204641: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846204641: Sending to region: 4
1336846204642: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(4,0)
1336846204642: Make FirstLeg Ack regardless of new or already-processed requests
1336846204642: Note down new request by adding requestCounter=5002011 to HashMap processedRequests
1336846204642: Sending PROC_REQUEST 11:0 (1,0)->(4,0)
1336846204643: mux: I got a CSM packet at a leader 
1336846204643: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846204644: Sending UDP payload: 1006
1336846204645: --- Finished one round of sending REQUEST Packet ---------
1336846204649: forwarding disabled, not forwarding packets
1336846204691: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846204752: Received UDP payload: 4091
1336846204755: Received PROC_REPLY 11:0 (4,0)->(1,0), handing to UserApp
1336846204755: mux: GOT CSM_Msg
1336846204756: DSM layer: Going to and from remote region took latency = 114
1336846204756: DSM layer: orig leader sent packet at 1336846204642 ~ received reply from remote leader at 1336846204756
1336846204756: inside handleDSMReply. Now back in originator leader of region 1
1336846204758: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846204758: inside sendReplies of replyCount = 500201100
1336846204758: leader client reply has replyCounter: 500201100
1336846204758: reply packet contains the newest photo/success info from the remote region
1336846204759: =======================
1336846204762: === Finished one round of sending REPLY Packet =======
1336846204762: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846204762: Leader about to send REPLY packet, number: 500201100 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846204762: inside sendReplyRepeatingRunnable for replyCount = 500201100
1336846204781: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846204781: disabling progressdialog due to successful new photo get
1336846204782: Inside _enableButtons
1336846204782: areButtonsEnabled --> true
1336846204782: inside finalLegAck: change requestCounter to 12
1336846204782: send final leg ack regardless of new or already-processed reply
1336846204783: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002012 Client in region: (1,0) Client nodID: 5002
1336846204783: I'm a leader client, my final_leg packet going to mux directly
1336846204783: mux: Inside mux Packet.CLIENT_REQUEST
1336846204784: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500201100
1336846204784: Yay the last leg succeeded. Removing reply runnables ...
1336846204784: got new request, requestCounter = 5002012
1336846204784: inside handleClientRequest. Originator leader of region 1
1336846204784: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846204785: = leader download start 1336846204640 ~ stop 1336846204781
1336846204785: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500201100
1336846204785: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500201100
1336846204785: do not send ack for received final_leg_ack
1336846204785: leader download remote photo latency = 141
1336846204785: new client_show_remotephoto reply with replyCounter 500201100
1336846204785: note down new reply by adding replyCounter=500201100 to HashMap processedReplies
1336846204786: one more getGood: 5
1336846204787: adding get latency: 141
1336846204787: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=5 getBad=0 getTimedout=0 getPercent=100%
1336846204788: Success! Client getting photo from remote region, showing photo...
1336846204789: Remote photo's length: 3063
1336846204954: Received UDP payload: 446
1336846205070: Received UDP payload: 446
1336846205181: inside sendPacket(Packet p)
1336846205184: Sending UDP payload: 446
1336846205722: Received UDP payload: 446
1336846206015: Received UDP payload: 642
1336846206021: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846206021: mux: Inside mux Packet.CLIENT_REQUEST
1336846206022: got new request, requestCounter = 5022011
1336846206022: inside handleClientRequest. Originator leader of region 1
1336846206023: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846206039: Sending to region: 4
1336846206040: Sending PROC_REQUEST 11:1 (1,0)->(4,0)
1336846206041: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(4,0)
1336846206042: Make FirstLeg Ack regardless of new or already-processed requests
1336846206042: Note down new request by adding requestCounter=5022011 to HashMap processedRequests
1336846206042: The leader sending a First Leg ack to originator client (which id = 5022)
1336846206043: inside sendPacket(Packet p)
1336846206044: mux: I got a CSM packet at a leader 
1336846206048: Sending UDP payload: 1006
1336846206071: forwarding disabled, not forwarding packets
1336846206079: Sending UDP payload: 446
1336846206176: Received UDP payload: 4091
1336846206180: mux: GOT CSM_Msg
1336846206181: DSM layer: Going to and from remote region took latency = 142
1336846206181: Received PROC_REPLY 11:1 (4,0)->(1,0), handing to UserApp
1336846206181: inside handleDSMReply. Now back in originator leader of region 1
1336846206182: DSM layer: orig leader sent packet at 1336846206039 ~ received reply from remote leader at 1336846206181
1336846206183: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846206183: leader client reply has replyCounter: 502201100
1336846206184: =======================
1336846206184: inside sendReplies of replyCount = 502201100
1336846206184: inside sendReplyRepeatingRunnable for replyCount = 502201100
1336846206184: reply packet contains the newest photo/success info from the remote region
1336846206185: Leader about to send REPLY packet, number: 502201100 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846206186: === Finished one round of sending REPLY Packet =======
1336846206186: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846206186: inside sendPacket(Packet p)
1336846206189: Sending UDP payload: 3744
1336846206264: Received UDP payload: 446
1336846206266: mux: Inside mux Packet.CLIENT_REQUEST
1336846206267: inside handleClientRequest. Originator leader of region 1
1336846206267: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846206268: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502201100
1336846206268: Yay the last leg succeeded. Removing reply runnables ...
1336846206268: got new request, requestCounter = 5022012
1336846206269: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502201100
1336846206269: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502201100
1336846206269: do not send ack for received final_leg_ack
1336846208805: Received UDP payload: 446
1336846209165: Received UDP payload: 446
1336846209986: Received UDP payload: 446
1336846210071: Received UDP payload: 446
1336846210181: inside sendPacket(Packet p)
1336846210198: Sending UDP payload: 446
1336846210734: Received UDP payload: 446
1336846213286: Received UDP payload: 642
1336846213296: mux: Inside mux Packet.CLIENT_REQUEST
1336846213352: Received UDP payload: 1006
1336846213361: forwarding disabled, not forwarding packets
1336846213361: mux: GOT CSM_Msg
1336846213365: Received UDP payload: 446
1336846213377: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846213377: mux: Inside Packet.SERVER_REPLY
1336846213436: Received UDP payload: 4091
1336846213438: forwarding disabled, not forwarding packets
1336846213438: mux: GOT CSM_Msg
1336846213482: Received UDP payload: 3744
1336846213484: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846213484: mux: Inside Packet.SERVER_REPLY
1336846213535: Received UDP payload: 446
1336846213537: mux: Inside mux Packet.CLIENT_REQUEST
1336846213809: Received UDP payload: 446
1336846214112: Received UDP payload: 446
1336846214679: Received UDP payload: 1006
1336846214691: mux: GOT CSM_Msg
1336846214692: forwarding disabled, not forwarding packets
1336846214774: Received UDP payload: 4091
1336846214783: forwarding disabled, not forwarding packets
1336846214783: mux: GOT CSM_Msg
1336846214955: Received UDP payload: 446
1336846215086: Received UDP payload: 446
1336846215182: inside sendPacket(Packet p)
1336846215185: Sending UDP payload: 446
1336846215396: Received UDP payload: 1006
1336846215405: forwarding disabled, not forwarding packets
1336846215405: mux: GOT CSM_Msg
1336846215486: Received UDP payload: 4091
1336846215497: mux: GOT CSM_Msg
1336846215498: forwarding disabled, not forwarding packets
1336846215746: Received UDP payload: 446
1336846218825: Received UDP payload: 446
1336846219128: Received UDP payload: 446
1336846219956: Received UDP payload: 446
1336846220088: Received UDP payload: 446
1336846220183: inside sendPacket(Packet p)
1336846220186: Sending UDP payload: 446
1336846220748: Received UDP payload: 446
1336846222454: Received UDP payload: 642
1336846222460: mux: Inside mux Packet.CLIENT_REQUEST
1336846222536: Received UDP payload: 1006
1336846222538: forwarding disabled, not forwarding packets
1336846222538: mux: GOT CSM_Msg
1336846222545: Received UDP payload: 446
1336846222547: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846222547: mux: Inside Packet.SERVER_REPLY
1336846222653: Received UDP payload: 4091
1336846222656: forwarding disabled, not forwarding packets
1336846222656: mux: GOT CSM_Msg
1336846222712: Received UDP payload: 3744
1336846222716: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846222716: mux: Inside Packet.SERVER_REPLY
1336846222727: Received UDP payload: 446
1336846222729: mux: Inside mux Packet.CLIENT_REQUEST
1336846222818: Received UDP payload: 1006
1336846222822: forwarding disabled, not forwarding packets
1336846222822: mux: GOT CSM_Msg
1336846222878: Received UDP payload: 4091
1336846222881: forwarding disabled, not forwarding packets
1336846222881: mux: GOT CSM_Msg
1336846223662: Received UDP payload: 1006
1336846223675: mux: GOT CSM_Msg
1336846223676: forwarding disabled, not forwarding packets
1336846223764: Received UDP payload: 4091
1336846223766: forwarding disabled, not forwarding packets
1336846223766: mux: GOT CSM_Msg
1336846223907: Received UDP payload: 446
1336846224120: Received UDP payload: 446
1336846224990: Received UDP payload: 446
1336846225076: Received UDP payload: 446
1336846225185: inside sendPacket(Packet p)
1336846225188: Sending UDP payload: 446
1336846225799: Received UDP payload: 446
1336846228871: Received UDP payload: 446
1336846229163: Received UDP payload: 446
1336846229234: Received UDP payload: 1006
1336846229246: forwarding disabled, not forwarding packets
1336846229246: mux: GOT CSM_Msg
1336846229281: Received UDP payload: 4091
1336846229290: forwarding disabled, not forwarding packets
1336846229290: mux: GOT CSM_Msg
1336846230042: Received UDP payload: 446
1336846230086: Received UDP payload: 446
1336846230188: inside sendPacket(Packet p)
1336846230191: Sending UDP payload: 446
1336846230520: Received UDP payload: 642
1336846230528: mux: Inside mux Packet.CLIENT_REQUEST
1336846230552: Received UDP payload: 1006
1336846230570: forwarding disabled, not forwarding packets
1336846230570: mux: GOT CSM_Msg
1336846230579: Received UDP payload: 446
1336846230580: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846230580: mux: Inside Packet.SERVER_REPLY
1336846230618: Received UDP payload: 4091
1336846230620: forwarding disabled, not forwarding packets
1336846230620: mux: GOT CSM_Msg
1336846230663: Received UDP payload: 3744
1336846230664: mux: Inside Packet.SERVER_REPLY
1336846230665: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846230678: Received UDP payload: 446
1336846230680: mux: Inside mux Packet.CLIENT_REQUEST
1336846230753: Received UDP payload: 446
1336846233838: Received UDP payload: 446
1336846234131: Received UDP payload: 446
1336846234993: Received UDP payload: 446
1336846235103: Received UDP payload: 446
1336846235188: inside sendPacket(Packet p)
1336846235192: Sending UDP payload: 446
1336846235775: Received UDP payload: 446
1336846235940: canPressButton = TRUE
1336846235941: areButtonsEnabled --> false 
1336846235941: get picture disableButtonsR
1336846235942: areButtonsEnabled --> false
1336846235984: one more getNum: 6
1336846235987: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=5 getBad=0 getTimedout=0 getPercent=83%
1336846235988: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846235988: change local requestCounter to 13
1336846235990: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002013 Client in region: 1 Client nodID: 5002
1336846236043: ----------------------------
1336846236043: I'm a leader, my requesting photos packet going to mux directly
1336846236043: inside sendRequestPacketRepeatingRunnable for requestCount = 5002013
1336846236044: --- Finished one round of sending REQUEST Packet ---------
1336846236044: inside handleClientRequest. Originator leader of region 1
1336846236044: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846236044: mux: Inside mux Packet.CLIENT_REQUEST
1336846236045: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846236045: got new request, requestCounter = 5002013
1336846236046: Sending to region: 5
1336846236047: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(5,0)
1336846236047: Sending PROC_REQUEST 11:0 (1,0)->(5,0)
1336846236051: Make FirstLeg Ack regardless of new or already-processed requests
1336846236051: Note down new request by adding requestCounter=5002013 to HashMap processedRequests
1336846236052: mux: I got a CSM packet at a leader 
1336846236052: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846236056: Sending UDP payload: 1006
1336846236056: forwarding disabled, not forwarding packets
1336846236078: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846236209: Received UDP payload: 4368
1336846236212: mux: GOT CSM_Msg
1336846236213: Received PROC_REPLY 11:0 (5,0)->(1,0), handing to UserApp
1336846236214: DSM layer: Going to and from remote region took latency = 167
1336846236214: DSM layer: orig leader sent packet at 1336846236046 ~ received reply from remote leader at 1336846236213
1336846236214: inside handleDSMReply. Now back in originator leader of region 1
1336846236217: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846236218: inside sendReplies of replyCount = 500201300
1336846236218: leader client reply has replyCounter: 500201300
1336846236218: reply packet contains the newest photo/success info from the remote region
1336846236219: =======================
1336846236219: inside sendReplyRepeatingRunnable for replyCount = 500201300
1336846236220: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846236220: Leader about to send REPLY packet, number: 500201300 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846236221: === Finished one round of sending REPLY Packet =======
1336846236236: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846236237: disabling progressdialog due to successful new photo get
1336846236238: Inside _enableButtons
1336846236238: areButtonsEnabled --> true
1336846236239: inside finalLegAck: change requestCounter to 14
1336846236239: send final leg ack regardless of new or already-processed reply
1336846236240: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002014 Client in region: (1,0) Client nodID: 5002
1336846236241: I'm a leader client, my final_leg packet going to mux directly
1336846236241: mux: Inside mux Packet.CLIENT_REQUEST
1336846236242: got new request, requestCounter = 5002014
1336846236242: inside handleClientRequest. Originator leader of region 1
1336846236242: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846236243: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500201300
1336846236243: Yay the last leg succeeded. Removing reply runnables ...
1336846236243: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500201300
1336846236244: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500201300
1336846236244: do not send ack for received final_leg_ack
1336846236245: new client_show_remotephoto reply with replyCounter 500201300
1336846236245: note down new reply by adding replyCounter=500201300 to HashMap processedReplies
1336846236246: leader download remote photo latency = 192
1336846236247: = leader download start 1336846236044 ~ stop 1336846236236
1336846236251: one more getGood: 6
1336846236253: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846236254: adding get latency: 192
1336846236255: Remote photo's length: 3340
1336846236255: Success! Client getting photo from remote region, showing photo...
1336846237092: Received UDP payload: 642
1336846237094: inside handleClientRequest. Originator leader of region 1
1336846237094: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846237094: mux: Inside mux Packet.CLIENT_REQUEST
1336846237095: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846237095: Sending to region: 5
1336846237095: got new request, requestCounter = 5022013
1336846237096: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(5,0)
1336846237096: Note down new request by adding requestCounter=5022013 to HashMap processedRequests
1336846237096: Sending PROC_REQUEST 11:1 (1,0)->(5,0)
1336846237104: Make FirstLeg Ack regardless of new or already-processed requests
1336846237107: The leader sending a First Leg ack to originator client (which id = 5022)
1336846237107: inside sendPacket(Packet p)
1336846237108: mux: I got a CSM packet at a leader 
1336846237113: Sending UDP payload: 1006
1336846237123: forwarding disabled, not forwarding packets
1336846237127: Sending UDP payload: 446
1336846237216: Received UDP payload: 4368
1336846237219: mux: GOT CSM_Msg
1336846237220: DSM layer: Going to and from remote region took latency = 125
1336846237220: DSM layer: orig leader sent packet at 1336846237095 ~ received reply from remote leader at 1336846237220
1336846237220: Received PROC_REPLY 11:1 (5,0)->(1,0), handing to UserApp
1336846237220: inside handleDSMReply. Now back in originator leader of region 1
1336846237221: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846237222: =======================
1336846237222: inside sendReplies of replyCount = 502201300
1336846237222: leader client reply has replyCounter: 502201300
1336846237222: reply packet contains the newest photo/success info from the remote region
1336846237223: === Finished one round of sending REPLY Packet =======
1336846237223: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846237223: Leader about to send REPLY packet, number: 502201300 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846237223: inside sendPacket(Packet p)
1336846237223: inside sendReplyRepeatingRunnable for replyCount = 502201300
1336846237225: Sending UDP payload: 4021
1336846237300: Received UDP payload: 446
1336846237302: got new request, requestCounter = 5022014
1336846237302: inside handleClientRequest. Originator leader of region 1
1336846237302: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846237302: mux: Inside mux Packet.CLIENT_REQUEST
1336846237303: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502201300
1336846237303: Yay the last leg succeeded. Removing reply runnables ...
1336846237303: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502201300
1336846237303: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502201300
1336846237303: do not send ack for received final_leg_ack
1336846238846: Received UDP payload: 446
1336846239139: Received UDP payload: 446
1336846240014: Received UDP payload: 446
1336846240105: Received UDP payload: 446
1336846240189: inside sendPacket(Packet p)
1336846240199: Sending UDP payload: 446
1336846240795: Received UDP payload: 446
1336846243175: Received UDP payload: 642
1336846243180: mux: Inside mux Packet.CLIENT_REQUEST
1336846243223: Received UDP payload: 1006
1336846243237: forwarding disabled, not forwarding packets
1336846243237: mux: GOT CSM_Msg
1336846243239: Received UDP payload: 446
1336846243243: mux: Inside Packet.SERVER_REPLY
1336846243244: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846243313: Received UDP payload: 4368
1336846243317: forwarding disabled, not forwarding packets
1336846243317: mux: GOT CSM_Msg
1336846243372: Received UDP payload: 4021
1336846243375: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846243375: mux: Inside Packet.SERVER_REPLY
1336846243389: Received UDP payload: 446
1336846243391: mux: Inside mux Packet.CLIENT_REQUEST
1336846243844: Received UDP payload: 446
1336846244136: Received UDP payload: 446
1336846244493: Received UDP payload: 1006
1336846244502: mux: GOT CSM_Msg
1336846244503: forwarding disabled, not forwarding packets
1336846244584: Received UDP payload: 4368
1336846244593: mux: GOT CSM_Msg
1336846244594: forwarding disabled, not forwarding packets
1336846245032: Received UDP payload: 446
1336846245096: Received UDP payload: 446
1336846245190: inside sendPacket(Packet p)
1336846245193: Sending UDP payload: 446
1336846245815: Received UDP payload: 446
1336846248900: Received UDP payload: 446
1336846249142: Received UDP payload: 446
1336846250068: Received UDP payload: 446
1336846250122: Received UDP payload: 446
1336846250191: inside sendPacket(Packet p)
1336846250201: Sending UDP payload: 446
1336846250855: Received UDP payload: 446
1336846251551: Received UDP payload: 1006
1336846251560: forwarding disabled, not forwarding packets
1336846251560: mux: GOT CSM_Msg
1336846251655: Received UDP payload: 4368
1336846251657: forwarding disabled, not forwarding packets
1336846251657: mux: GOT CSM_Msg
1336846253097: Received UDP payload: 1006
1336846253106: forwarding disabled, not forwarding packets
1336846253106: mux: GOT CSM_Msg
1336846253196: Received UDP payload: 4368
1336846253204: forwarding disabled, not forwarding packets
1336846253204: mux: GOT CSM_Msg
1336846253863: Received UDP payload: 446
1336846254147: Received UDP payload: 446
1336846255080: Received UDP payload: 446
1336846255106: Received UDP payload: 446
1336846255193: inside sendPacket(Packet p)
1336846255196: Sending UDP payload: 446
1336846255830: Received UDP payload: 446
1336846258199: Received UDP payload: 642
1336846258204: mux: Inside mux Packet.CLIENT_REQUEST
1336846258272: Received UDP payload: 1006
1336846258281: forwarding disabled, not forwarding packets
1336846258281: mux: GOT CSM_Msg
1336846258282: Received UDP payload: 446
1336846258292: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846258292: mux: Inside Packet.SERVER_REPLY
1336846258327: Received UDP payload: 4368
1336846258329: forwarding disabled, not forwarding packets
1336846258329: mux: GOT CSM_Msg
1336846258373: Received UDP payload: 4021
1336846258374: mux: Inside Packet.SERVER_REPLY
1336846258375: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846258386: Received UDP payload: 446
1336846258388: mux: Inside mux Packet.CLIENT_REQUEST
1336846258869: Received UDP payload: 446
1336846259157: Received UDP payload: 446
1336846259327: Received UDP payload: 1006
1336846259342: forwarding disabled, not forwarding packets
1336846259342: mux: GOT CSM_Msg
1336846259379: Received UDP payload: 4368
1336846259392: mux: GOT CSM_Msg
1336846259393: forwarding disabled, not forwarding packets
1336846259838: leader to cloud hearbeat...
1336846260034: Received UDP payload: 446
1336846260098: Received UDP payload: 446
1336846260247: inside sendPacket(Packet p)
1336846260255: Sending UDP payload: 446
1336846260826: Received UDP payload: 446
1336846263878: Received UDP payload: 446
1336846264246: Received UDP payload: 446
1336846265047: Received UDP payload: 446
1336846265106: Received UDP payload: 446
1336846265257: inside sendPacket(Packet p)
1336846265260: Sending UDP payload: 446
1336846265832: Received UDP payload: 446
1336846267042: Received UDP payload: 1006
1336846267057: forwarding disabled, not forwarding packets
1336846267057: mux: GOT CSM_Msg
1336846267204: Received UDP payload: 4368
1336846267214: forwarding disabled, not forwarding packets
1336846267214: mux: GOT CSM_Msg
1336846268298: Received UDP payload: 642
1336846268302: mux: Inside mux Packet.CLIENT_REQUEST
1336846268331: Received UDP payload: 1006
1336846268341: forwarding disabled, not forwarding packets
1336846268341: mux: GOT CSM_Msg
1336846268354: Received UDP payload: 446
1336846268358: mux: Inside Packet.SERVER_REPLY
1336846268359: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846268427: Received UDP payload: 4368
1336846268429: forwarding disabled, not forwarding packets
1336846268429: mux: GOT CSM_Msg
1336846268493: Received UDP payload: 4021
1336846268495: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846268495: mux: Inside Packet.SERVER_REPLY
1336846268527: Received UDP payload: 446
1336846268529: mux: Inside mux Packet.CLIENT_REQUEST
1336846268940: Received UDP payload: 446
1336846269179: Received UDP payload: 446
1336846270070: Received UDP payload: 446
1336846270121: Received UDP payload: 446
1336846270261: inside sendPacket(Packet p)
1336846270264: Sending UDP payload: 446
1336846271043: Received UDP payload: 446
1336846273875: Received UDP payload: 446
1336846274197: Received UDP payload: 446
1336846275069: Received UDP payload: 446
1336846275108: Received UDP payload: 446
1336846275264: inside sendPacket(Packet p)
1336846275267: Sending UDP payload: 446
1336846276060: Received UDP payload: 446
1336846278883: Received UDP payload: 446
1336846279206: Received UDP payload: 446
1336846280083: Received UDP payload: 446
1336846280110: Received UDP payload: 446
1336846280266: inside sendPacket(Packet p)
1336846280269: Sending UDP payload: 446
1336846281063: Received UDP payload: 446
1336846283890: Received UDP payload: 446
1336846284217: Received UDP payload: 446
1336846285096: Received UDP payload: 446
1336846285121: Received UDP payload: 446
1336846285269: inside sendPacket(Packet p)
1336846285276: Sending UDP payload: 446
1336846286083: Received UDP payload: 446
1336846288885: Received UDP payload: 446
1336846289224: Received UDP payload: 446
1336846290140: Received UDP payload: 446
1336846290157: Received UDP payload: 446
1336846290270: inside sendPacket(Packet p)
1336846290273: Sending UDP payload: 446
1336846291130: Received UDP payload: 446
1336846293961: Received UDP payload: 446
1336846294248: Received UDP payload: 446
1336846295135: Received UDP payload: 446
1336846295149: Received UDP payload: 446
1336846295271: inside sendPacket(Packet p)
1336846295274: Sending UDP payload: 446
1336846296128: Received UDP payload: 446
1336846298906: Received UDP payload: 446
1336846299239: Received UDP payload: 446
1336846300144: Received UDP payload: 446
1336846300172: Received UDP payload: 446
1336846300274: inside sendPacket(Packet p)
1336846300277: Sending UDP payload: 446
1336846301167: Received UDP payload: 446
1336846303948: Received UDP payload: 446
1336846304276: Received UDP payload: 446
1336846305150: Received UDP payload: 446
1336846305169: Received UDP payload: 446
1336846305274: inside sendPacket(Packet p)
1336846305277: Sending UDP payload: 446
1336846306184: Received UDP payload: 446
1336846308937: Received UDP payload: 446
1336846309246: Received UDP payload: 446
1336846309843: areButtonsEnabled --> false
1336846309843: canPressButton = TRUE
1336846309843: disabling buttons ...
1336846309843: took picture disableButtonsR
1336846309844: areButtonsEnabled --> false
1336846309861: one more takeNum: 2
1336846309861: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846309862: Clicked take picture button ..
1336846310120: Received UDP payload: 446
1336846310145: Received UDP payload: 446
1336846310275: inside sendPacket(Packet p)
1336846310276: Sending UDP payload: 446
1336846311214: inside HandlePictureStorage onPictureTaken()
1336846311215: one more takeCamGood: 2
1336846311215: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846311233: Received UDP payload: 446
1336846311703: Picture successfully taken, ORIG BYTE LENGTH = 2262906
1336846312241: Our new height x width: 306 x 408
1336846312241: Show photo from handle my camera take
1336846312242: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846312242: change local requestCounter to 15
1336846312255: BYTE SIZE AFTER COMPRESSION: 2743
1336846312256: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5002015 Client in region: 1 Client nodID: 5002
1336846312281: ----------------------------
1336846312282: I'm a leader, my requesting photos packet going to mux directly
1336846312282: inside sendRequestPacketRepeatingRunnable for requestCount = 5002015
1336846312282: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846312282: mux: Inside mux Packet.CLIENT_REQUEST
1336846312283: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846312283: Sending PROC_REQUEST 10:4 (1,0)->(1,0)
1336846312283: got new request, requestCounter = 5002015
1336846312283: inside handleClientRequest. Originator leader of region 1
1336846312284: Dispatching Atom PROC_REQUEST 10:4 (1,0)->(1,0)
1336846312284: Make FirstLeg Ack regardless of new or already-processed requests
1336846312284: Note down new request by adding requestCounter=5002015 to HashMap processedRequests
1336846312284: mux: I got a CSM packet at a leader 
1336846312284: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846312285: Sending UDP payload: 3771
1336846312287: inside handleDSMRequest. At requests's remote leader of region 1
1336846312287: removed replies before id 4 from sentReplies of size 0
1336846312288: Inside UPLOAD_PHOTO!!
1336846312290: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846312290: my_gpinfo.isSuccess is now (should be true): true
1336846312291: Received PROC_REQUEST 10:4 (1,0)->(1,0), replying PROC_REPLY 10:4 (1,0)->(1,0)
1336846312292: Dispatching Atom PROC_REPLY 10:4 (1,0)->(1,0)
1336846312293: mux: I got a CSM packet at a leader 
1336846312294: Sending UDP payload: 1006
1336846312295: --- Finished one round of sending REQUEST Packet ---------
1336846312305: DSM layer: Going to and from remote region took latency = 22
1336846312305: DSM layer: orig leader sent packet at 1336846312283 ~ received reply from remote leader at 1336846312305
1336846312305: Received PROC_REPLY 10:4 (1,0)->(1,0), handing to UserApp
1336846312305: inside handleDSMReply. Now back in originator leader of region 1
1336846312306: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846312306: inside sendReplies of replyCount = 500201500
1336846312306: leader client reply has replyCounter: 500201500
1336846312306: reply packet contains the success info for UPLOAD_PHOTO
1336846312307: === Finished one round of sending REPLY Packet =======
1336846312307: =======================
1336846312307: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846312307: Leader about to send REPLY packet, number: 500201500 type: 16 Leader in region: (1,0) to Client nodID: 5002
1336846312307: inside sendReplyRepeatingRunnable for replyCount = 500201500
1336846312319: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846312320: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846312321: I'm a leader and I successfully saved my client's new photo
1336846312321: now showing in UI the new photo I just saved ... 
1336846312322: the photo length: 2743
1336846312356: end of server show photo aside %%%%%%%%%
1336846312358: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846312358: Inside _enableButtons
1336846312358: disabling progressdialog due to successful new photo upload
1336846312359: areButtonsEnabled --> true
1336846312359: inside finalLegAck: change requestCounter to 16
1336846312359: send final leg ack regardless of new or already-processed reply
1336846312360: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002016 Client in region: (1,0) Client nodID: 5002
1336846312360: I'm a leader client, my final_leg packet going to mux directly
1336846312360: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846312360: mux: Inside mux Packet.CLIENT_REQUEST
1336846312361: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500201500
1336846312361: Yay the last leg succeeded. Removing reply runnables ...
1336846312361: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500201500
1336846312361: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500201500
1336846312361: do not send ack for received final_leg_ack
1336846312361: got new request, requestCounter = 5002016
1336846312361: inside handleClientRequest. Originator leader of region 1
1336846312361: new client_upload_photo_ack reply with replyCounter 500201500
1336846312362: = leader upload start 1336846312282 ~ stop 1336846312358
1336846312362: leader upload new photo latency = 76
1336846312362: note down new reply by adding replyCounter=500201500 to HashMap processedReplies
1336846312363: one more takeGoodSave: 2
1336846312364: adding take latency: 76
1336846312364: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846312365: SUCCESS Client now knows saving photo on its leader succeeded
1336846312490: Received UDP payload: 3409
1336846312492: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846312492: Sending PROC_REQUEST 10:5 (1,0)->(1,0)
1336846312492: got new request, requestCounter = 5022015
1336846312492: inside handleClientRequest. Originator leader of region 1
1336846312492: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846312492: mux: Inside mux Packet.CLIENT_REQUEST
1336846312493: Dispatching Atom PROC_REQUEST 10:5 (1,0)->(1,0)
1336846312493: Make FirstLeg Ack regardless of new or already-processed requests
1336846312493: Note down new request by adding requestCounter=5022015 to HashMap processedRequests
1336846312493: The leader sending a First Leg ack to originator client (which id = 5022)
1336846312493: inside sendPacket(Packet p)
1336846312493: mux: I got a CSM packet at a leader 
1336846312497: Sending UDP payload: 3773
1336846312500: removed replies before id 5 from sentReplies of size 0
1336846312501: Inside UPLOAD_PHOTO!!
1336846312501: inside handleDSMRequest. At requests's remote leader of region 1
1336846312503: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846312503: my_gpinfo.isSuccess is now (should be true): true
1336846312504: Received PROC_REQUEST 10:5 (1,0)->(1,0), replying PROC_REPLY 10:5 (1,0)->(1,0)
1336846312505: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846312507: I'm a leader and I successfully saved my client's new photo
1336846312507: now showing in UI the new photo I just saved ... 
1336846312507: the photo length: 2745
1336846312555: Dispatching Atom PROC_REPLY 10:5 (1,0)->(1,0)
1336846312556: Sending UDP payload: 446
1336846312557: mux: I got a CSM packet at a leader 
1336846312558: Sending UDP payload: 1006
1336846312560: DSM layer: Going to and from remote region took latency = 68
1336846312560: Received PROC_REPLY 10:5 (1,0)->(1,0), handing to UserApp
1336846312560: inside handleDSMReply. Now back in originator leader of region 1
1336846312561: DSM layer: orig leader sent packet at 1336846312492 ~ received reply from remote leader at 1336846312560
1336846312561: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846312562: =======================
1336846312562: Leader about to send REPLY packet, number: 502201500 type: 16 Leader in region: (1,0) to Client nodID: 5022
1336846312562: inside sendReplies of replyCount = 502201500
1336846312562: inside sendReplyRepeatingRunnable for replyCount = 502201500
1336846312562: leader client reply has replyCounter: 502201500
1336846312562: reply packet contains the success info for UPLOAD_PHOTO
1336846312563: === Finished one round of sending REPLY Packet =======
1336846312563: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846312563: inside sendPacket(Packet p)
1336846312570: Sending UDP payload: 659
1336846312576: end of server show photo aside %%%%%%%%%
1336846312594: Received UDP payload: 446
1336846312596: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502201500
1336846312596: Yay the last leg succeeded. Removing reply runnables ...
1336846312596: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502201500
1336846312596: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502201500
1336846312596: got new request, requestCounter = 5022016
1336846312596: inside handleClientRequest. Originator leader of region 1
1336846312596: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846312596: mux: Inside mux Packet.CLIENT_REQUEST
1336846312597: do not send ack for received final_leg_ack
1336846313976: Received UDP payload: 446
1336846314274: Received UDP payload: 446
1336846315195: Received UDP payload: 446
1336846315203: Received UDP payload: 446
1336846315276: inside sendPacket(Packet p)
1336846315280: Sending UDP payload: 446
1336846316228: Received UDP payload: 446
1336846318949: Received UDP payload: 446
1336846319256: Received UDP payload: 446
1336846320150: Received UDP payload: 446
1336846320214: Received UDP payload: 446
1336846320277: inside sendPacket(Packet p)
1336846320278: Sending UDP payload: 446
1336846321179: Received UDP payload: 446
1336846323938: Received UDP payload: 446
1336846324295: Received UDP payload: 446
1336846324344: Received UDP payload: 3757
1336846324354: mux: GOT CSM_Msg
1336846324356: forwarding disabled, not forwarding packets
1336846324368: Received UDP payload: 1006
1336846324387: forwarding disabled, not forwarding packets
1336846324387: mux: GOT CSM_Msg
1336846325150: Received UDP payload: 446
1336846325191: Received UDP payload: 446
1336846325276: inside sendPacket(Packet p)
1336846325286: Sending UDP payload: 446
1336846325908: Received UDP payload: 3547
1336846325912: mux: Inside mux Packet.CLIENT_REQUEST
1336846325973: Received UDP payload: 3911
1336846325989: mux: GOT CSM_Msg
1336846325990: forwarding disabled, not forwarding packets
1336846325994: Received UDP payload: 446
1336846326007: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846326007: mux: Inside Packet.SERVER_REPLY
1336846326008: Received UDP payload: 1006
1336846326027: forwarding disabled, not forwarding packets
1336846326027: mux: GOT CSM_Msg
1336846326029: Received UDP payload: 659
1336846326036: Received UDP payload: 446
1336846326036: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846326036: mux: Inside Packet.SERVER_REPLY
1336846326038: mux: Inside mux Packet.CLIENT_REQUEST
1336846326241: Received UDP payload: 446
1336846327650: Received UDP payload: 3857
1336846327661: mux: GOT CSM_Msg
1336846327662: forwarding disabled, not forwarding packets
1336846327675: Received UDP payload: 1006
1336846327683: forwarding disabled, not forwarding packets
1336846327683: mux: GOT CSM_Msg
1336846328942: Received UDP payload: 446
1336846329262: Received UDP payload: 446
1336846330155: Received UDP payload: 446
1336846330176: Received UDP payload: 446
1336846330277: inside sendPacket(Packet p)
1336846330280: Sending UDP payload: 446
1336846331223: Received UDP payload: 446
1336846331726: Received UDP payload: 3370
1336846331731: mux: Inside mux Packet.CLIENT_REQUEST
1336846331778: Received UDP payload: 3734
1336846331791: forwarding disabled, not forwarding packets
1336846331791: mux: GOT CSM_Msg
1336846331792: Received UDP payload: 446
1336846331803: mux: Inside Packet.SERVER_REPLY
1336846331804: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846331812: Received UDP payload: 1006
1336846331814: Received UDP payload: 659
1336846331814: forwarding disabled, not forwarding packets
1336846331814: mux: GOT CSM_Msg
1336846331816: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846331816: mux: Inside Packet.SERVER_REPLY
1336846331844: Received UDP payload: 446
1336846331845: mux: Inside mux Packet.CLIENT_REQUEST
1336846332816: Received UDP payload: 3777
1336846332824: forwarding disabled, not forwarding packets
1336846332824: mux: GOT CSM_Msg
1336846332837: Received UDP payload: 1006
1336846332857: mux: GOT CSM_Msg
1336846332858: forwarding disabled, not forwarding packets
1336846333126: Received UDP payload: 3489
1336846333129: mux: Inside mux Packet.CLIENT_REQUEST
1336846333195: Received UDP payload: 3853
1336846333200: forwarding disabled, not forwarding packets
1336846333200: mux: GOT CSM_Msg
1336846333217: Received UDP payload: 446
1336846333219: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846333219: mux: Inside Packet.SERVER_REPLY
1336846333226: Received UDP payload: 1006
1336846333232: forwarding disabled, not forwarding packets
1336846333232: mux: GOT CSM_Msg
1336846333239: Received UDP payload: 659
1336846333242: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846333242: mux: Inside Packet.SERVER_REPLY
1336846333264: Received UDP payload: 446
1336846333267: mux: Inside mux Packet.CLIENT_REQUEST
1336846333985: Received UDP payload: 446
1336846334276: Received UDP payload: 446
1336846334606: Received UDP payload: 3861
1336846334615: forwarding disabled, not forwarding packets
1336846334615: mux: GOT CSM_Msg
1336846334634: Received UDP payload: 1006
1336846334641: mux: GOT CSM_Msg
1336846334642: forwarding disabled, not forwarding packets
1336846335167: Received UDP payload: 446
1336846335193: Received UDP payload: 446
1336846335277: inside sendPacket(Packet p)
1336846335280: Sending UDP payload: 446
1336846336243: Received UDP payload: 446
1336846338993: Received UDP payload: 446
1336846339271: Received UDP payload: 446
1336846340275: Received UDP payload: 446
1336846340278: inside sendPacket(Packet p)
1336846340294: Sending UDP payload: 446
1336846340319: Received UDP payload: 446
1336846341212: Received UDP payload: 446
1336846343997: Received UDP payload: 446
1336846344323: Received UDP payload: 446
1336846345185: Received UDP payload: 446
1336846345211: Received UDP payload: 446
1336846345279: inside sendPacket(Packet p)
1336846345295: Sending UDP payload: 446
1336846346220: Received UDP payload: 446
1336846348980: Received UDP payload: 446
1336846349287: Received UDP payload: 446
1336846350175: Received UDP payload: 446
1336846350226: Received UDP payload: 446
1336846350280: inside sendPacket(Packet p)
1336846350297: Sending UDP payload: 446
1336846351223: Received UDP payload: 446
1336846352079: Received UDP payload: 3790
1336846352090: forwarding disabled, not forwarding packets
1336846352090: mux: GOT CSM_Msg
1336846352105: Received UDP payload: 1006
1336846352113: forwarding disabled, not forwarding packets
1336846352113: mux: GOT CSM_Msg
1336846353958: Received UDP payload: 446
1336846354278: Received UDP payload: 446
1336846355216: Received UDP payload: 446
1336846355243: Received UDP payload: 446
1336846355281: inside sendPacket(Packet p)
1336846355292: Sending UDP payload: 446
1336846356234: Received UDP payload: 446
1336846358975: Received UDP payload: 3734
1336846358986: forwarding disabled, not forwarding packets
1336846358986: mux: GOT CSM_Msg
1336846359000: Received UDP payload: 446
1336846359005: Received UDP payload: 1006
1336846359028: forwarding disabled, not forwarding packets
1336846359028: mux: GOT CSM_Msg
1336846359324: Received UDP payload: 446
1336846360180: Received UDP payload: 446
1336846360269: Received UDP payload: 446
1336846360282: inside sendPacket(Packet p)
1336846360295: Sending UDP payload: 446
1336846361237: Received UDP payload: 446
1336846363279: Received UDP payload: 3370
1336846363285: mux: Inside mux Packet.CLIENT_REQUEST
1336846363406: Received UDP payload: 3734
1336846363417: forwarding disabled, not forwarding packets
1336846363417: mux: GOT CSM_Msg
1336846363425: Received UDP payload: 446
1336846363430: mux: Inside Packet.SERVER_REPLY
1336846363431: Received UDP payload: 1006
1336846363431: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846363448: mux: GOT CSM_Msg
1336846363449: Received UDP payload: 659
1336846363449: forwarding disabled, not forwarding packets
1336846363467: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846363467: mux: Inside Packet.SERVER_REPLY
1336846363468: Received UDP payload: 446
1336846363472: mux: Inside mux Packet.CLIENT_REQUEST
1336846363960: Received UDP payload: 446
1336846364301: Received UDP payload: 446
1336846365175: Received UDP payload: 446
1336846365280: Received UDP payload: 446
1336846365283: inside sendPacket(Packet p)
1336846365301: Sending UDP payload: 446
1336846366269: Received UDP payload: 446
1336846369054: Received UDP payload: 446
1336846369286: Received UDP payload: 446
1336846370169: Received UDP payload: 446
1336846370276: Received UDP payload: 446
1336846370284: inside sendPacket(Packet p)
1336846370287: Sending UDP payload: 446
1336846371270: Received UDP payload: 446
1336846373966: Received UDP payload: 446
1336846374286: Received UDP payload: 446
1336846375195: Received UDP payload: 446
1336846375284: Received UDP payload: 446
1336846375285: inside sendPacket(Packet p)
1336846375287: Sending UDP payload: 446
1336846375972: Received UDP payload: 3370
1336846375978: mux: Inside mux Packet.CLIENT_REQUEST
1336846376122: Received UDP payload: 3734
1336846376131: mux: GOT CSM_Msg
1336846376132: forwarding disabled, not forwarding packets
1336846376154: Received UDP payload: 446
1336846376156: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846376156: mux: Inside Packet.SERVER_REPLY
1336846376157: Received UDP payload: 1006
1336846376163: Received UDP payload: 659
1336846376163: forwarding disabled, not forwarding packets
1336846376163: mux: GOT CSM_Msg
1336846376165: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846376165: mux: Inside Packet.SERVER_REPLY
1336846376171: Received UDP payload: 446
1336846376172: mux: Inside mux Packet.CLIENT_REQUEST
1336846376318: Received UDP payload: 446
1336846378967: Received UDP payload: 446
1336846379306: Received UDP payload: 446
1336846379656: Received UDP payload: 3805
1336846379666: forwarding disabled, not forwarding packets
1336846379666: mux: GOT CSM_Msg
1336846379689: Received UDP payload: 1006
1336846379698: forwarding disabled, not forwarding packets
1336846379698: mux: GOT CSM_Msg
1336846380169: Received UDP payload: 446
1336846380247: leader to cloud hearbeat...
1336846380273: Received UDP payload: 446
1336846380683: inside sendPacket(Packet p)
1336846380697: Sending UDP payload: 446
1336846381271: Received UDP payload: 446
1336846383970: Received UDP payload: 446
1336846384287: Received UDP payload: 446
1336846385165: Received UDP payload: 446
1336846385294: Received UDP payload: 446
1336846385701: inside sendPacket(Packet p)
1336846385712: Sending UDP payload: 446
1336846386357: Received UDP payload: 446
1336846389134: Received UDP payload: 446
1336846389344: Received UDP payload: 446
1336846390220: Received UDP payload: 446
1336846390285: Received UDP payload: 446
1336846390715: inside sendPacket(Packet p)
1336846390728: Sending UDP payload: 446
1336846391501: Received UDP payload: 446
1336846393985: Received UDP payload: 446
1336846394293: Received UDP payload: 446
1336846395282: Received UDP payload: 446
1336846395438: Received UDP payload: 446
1336846395730: inside sendPacket(Packet p)
1336846395737: Sending UDP payload: 446
1336846396281: Received UDP payload: 642
1336846396289: mux: Inside mux Packet.CLIENT_REQUEST
1336846396325: Received UDP payload: 1006
1336846396333: mux: GOT CSM_Msg
1336846396334: forwarding disabled, not forwarding packets
1336846396351: Received UDP payload: 446
1336846396352: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846396352: mux: Inside Packet.SERVER_REPLY
1336846396413: Received UDP payload: 3805
1336846396415: forwarding disabled, not forwarding packets
1336846396415: mux: GOT CSM_Msg
1336846396452: Received UDP payload: 3458
1336846396453: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846396453: mux: Inside Packet.SERVER_REPLY
1336846396466: Received UDP payload: 446
1336846396467: mux: Inside mux Packet.CLIENT_REQUEST
1336846396509: Received UDP payload: 446
1336846397504: canPressButton = TRUE
1336846397505: areButtonsEnabled --> false
1336846397505: areButtonsEnabled --> false 
1336846397505: get picture disableButtonsR
1336846397528: one more getNum: 7
1336846397529: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846397529: change local requestCounter to 17
1336846397529: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=6 getBad=0 getTimedout=0 getPercent=85%
1336846397530: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002017 Client in region: 1 Client nodID: 5002
1336846397560: ----------------------------
1336846397560: I'm a leader, my requesting photos packet going to mux directly
1336846397560: inside sendRequestPacketRepeatingRunnable for requestCount = 5002017
1336846397560: mux: Inside mux Packet.CLIENT_REQUEST
1336846397561: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846397561: got new request, requestCounter = 5002017
1336846397561: inside handleClientRequest. Originator leader of region 1
1336846397561: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846397562: Sending PROC_REQUEST 11:2 (1,0)->(0,0)
1336846397562: Sending to region: 0
1336846397563: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(0,0)
1336846397563: Make FirstLeg Ack regardless of new or already-processed requests
1336846397563: Note down new request by adding requestCounter=5002017 to HashMap processedRequests
1336846397563: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846397564: mux: I got a CSM packet at a leader 
1336846397566: Sending UDP payload: 1006
1336846397567: --- Finished one round of sending REQUEST Packet ---------
1336846397567: forwarding disabled, not forwarding packets
1336846397605: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846397630: Received UDP payload: 3805
1336846397632: mux: GOT CSM_Msg
1336846397633: DSM layer: Going to and from remote region took latency = 71
1336846397633: DSM layer: orig leader sent packet at 1336846397562 ~ received reply from remote leader at 1336846397633
1336846397633: Received PROC_REPLY 11:2 (0,0)->(1,0), handing to UserApp
1336846397633: inside handleDSMReply. Now back in originator leader of region 1
1336846397634: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846397634: inside sendReplies of replyCount = 500201700
1336846397634: leader client reply has replyCounter: 500201700
1336846397634: reply packet contains the newest photo/success info from the remote region
1336846397637: =======================
1336846397637: inside sendReplyRepeatingRunnable for replyCount = 500201700
1336846397638: === Finished one round of sending REPLY Packet =======
1336846397638: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846397638: Leader about to send REPLY packet, number: 500201700 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846397648: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846397649: Inside _enableButtons
1336846397649: areButtonsEnabled --> true
1336846397649: disabling progressdialog due to successful new photo get
1336846397650: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002018 Client in region: (1,0) Client nodID: 5002
1336846397650: I'm a leader client, my final_leg packet going to mux directly
1336846397650: inside finalLegAck: change requestCounter to 18
1336846397650: send final leg ack regardless of new or already-processed reply
1336846397651: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500201700
1336846397651: Yay the last leg succeeded. Removing reply runnables ...
1336846397651: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500201700
1336846397651: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500201700
1336846397651: do not send ack for received final_leg_ack
1336846397651: got new request, requestCounter = 5002018
1336846397651: inside handleClientRequest. Originator leader of region 1
1336846397651: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846397651: mux: Inside mux Packet.CLIENT_REQUEST
1336846397655: new client_show_remotephoto reply with replyCounter 500201700
1336846397656: = leader download start 1336846397560 ~ stop 1336846397648
1336846397656: leader download remote photo latency = 88
1336846397656: note down new reply by adding replyCounter=500201700 to HashMap processedReplies
1336846397657: one more getGood: 7
1336846397658: adding get latency: 88
1336846397658: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=7 getBad=0 getTimedout=0 getPercent=100%
1336846397659: Remote photo's length: 2777
1336846397659: Success! Client getting photo from remote region, showing photo...
1336846397825: Received UDP payload: 1006
1336846397828: forwarding disabled, not forwarding packets
1336846397828: mux: GOT CSM_Msg
1336846397872: Received UDP payload: 3805
1336846397875: forwarding disabled, not forwarding packets
1336846397875: mux: GOT CSM_Msg
1336846398850: Received UDP payload: 642
1336846398855: mux: Inside mux Packet.CLIENT_REQUEST
1336846398856: inside handleClientRequest. Originator leader of region 1
1336846398856: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846398857: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846398857: got new request, requestCounter = 5022017
1336846398859: Sending to region: 0
1336846398860: Sending PROC_REQUEST 11:3 (1,0)->(0,0)
1336846398861: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1336846398861: Note down new request by adding requestCounter=5022017 to HashMap processedRequests
1336846398862: Make FirstLeg Ack regardless of new or already-processed requests
1336846398862: The leader sending a First Leg ack to originator client (which id = 5022)
1336846398862: inside sendPacket(Packet p)
1336846398863: mux: I got a CSM packet at a leader 
1336846398877: Sending UDP payload: 1006
1336846398884: forwarding disabled, not forwarding packets
1336846398887: Sending UDP payload: 446
1336846398985: Received UDP payload: 3805
1336846398989: Received PROC_REPLY 11:3 (0,0)->(1,0), handing to UserApp
1336846398989: mux: GOT CSM_Msg
1336846398990: DSM layer: Going to and from remote region took latency = 131
1336846398990: DSM layer: orig leader sent packet at 1336846398859 ~ received reply from remote leader at 1336846398990
1336846398990: inside handleDSMReply. Now back in originator leader of region 1
1336846398991: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846398991: leader client reply has replyCounter: 502201700
1336846398991: reply packet contains the newest photo/success info from the remote region
1336846398992: inside sendReplies of replyCount = 502201700
1336846398993: =======================
1336846398993: inside sendReplyRepeatingRunnable for replyCount = 502201700
1336846398995: === Finished one round of sending REPLY Packet =======
1336846398995: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846398995: Leader about to send REPLY packet, number: 502201700 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846398995: inside sendPacket(Packet p)
1336846398997: Sending UDP payload: 3458
1336846398998: Received UDP payload: 446
1336846399053: Received UDP payload: 446
1336846399055: got new request, requestCounter = 5022018
1336846399055: inside handleClientRequest. Originator leader of region 1
1336846399055: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846399055: mux: Inside mux Packet.CLIENT_REQUEST
1336846399056: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502201700
1336846399056: Yay the last leg succeeded. Removing reply runnables ...
1336846399056: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502201700
1336846399056: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502201700
1336846399056: do not send ack for received final_leg_ack
1336846399286: Received UDP payload: 446
1336846400278: Received UDP payload: 446
1336846400431: Received UDP payload: 446
1336846400741: inside sendPacket(Packet p)
1336846400744: Sending UDP payload: 446
1336846401515: Received UDP payload: 446
1336846403993: Received UDP payload: 446
1336846404634: Received UDP payload: 446
1336846405299: Received UDP payload: 446
1336846405406: Received UDP payload: 446
1336846405641: Received UDP payload: 1006
1336846405649: forwarding disabled, not forwarding packets
1336846405649: mux: GOT CSM_Msg
1336846405744: inside sendPacket(Packet p)
1336846405746: Sending UDP payload: 446
1336846405789: Received UDP payload: 1006
1336846405797: forwarding disabled, not forwarding packets
1336846405797: mux: GOT CSM_Msg
1336846405828: Received UDP payload: 3805
1336846405830: forwarding disabled, not forwarding packets
1336846405830: mux: GOT CSM_Msg
1336846405879: Received UDP payload: 3805
1336846405881: forwarding disabled, not forwarding packets
1336846405881: mux: GOT CSM_Msg
1336846406529: Received UDP payload: 446
1336846409053: Received UDP payload: 446
1336846409630: Received UDP payload: 446
1336846410409: Received UDP payload: 446
1336846410744: inside sendPacket(Packet p)
1336846410747: Sending UDP payload: 446
1336846411313: Received UDP payload: 642
1336846411318: mux: Inside mux Packet.CLIENT_REQUEST
1336846411380: Received UDP payload: 1006
1336846411388: forwarding disabled, not forwarding packets
1336846411388: mux: GOT CSM_Msg
1336846411389: Received UDP payload: 446
1336846411393: mux: Inside Packet.SERVER_REPLY
1336846411394: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846411469: Received UDP payload: 3805
1336846411471: forwarding disabled, not forwarding packets
1336846411471: mux: GOT CSM_Msg
1336846411528: Received UDP payload: 446
1336846411537: Received UDP payload: 446
1336846411539: mux: Inside mux Packet.CLIENT_REQUEST
1336846412378: Received UDP payload: 1006
1336846412384: mux: GOT CSM_Msg
1336846412385: forwarding disabled, not forwarding packets
1336846412461: Received UDP payload: 3805
1336846412463: forwarding disabled, not forwarding packets
1336846412463: mux: GOT CSM_Msg
1336846413587: Received UDP payload: 1006
1336846413596: mux: GOT CSM_Msg
1336846413597: forwarding disabled, not forwarding packets
1336846413666: Received UDP payload: 3805
1336846413669: forwarding disabled, not forwarding packets
1336846413669: mux: GOT CSM_Msg
1336846413995: Received UDP payload: 446
1336846414678: Received UDP payload: 446
1336846415092: Received UDP payload: 642
1336846415097: mux: Inside mux Packet.CLIENT_REQUEST
1336846415152: Received UDP payload: 1006
1336846415159: mux: GOT CSM_Msg
1336846415160: forwarding disabled, not forwarding packets
1336846415165: Received UDP payload: 446
1336846415168: mux: Inside Packet.SERVER_REPLY
1336846415169: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846415211: Received UDP payload: 3805
1336846415213: forwarding disabled, not forwarding packets
1336846415213: mux: GOT CSM_Msg
1336846415261: Received UDP payload: 3458
1336846415262: mux: Inside Packet.SERVER_REPLY
1336846415263: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846415272: Received UDP payload: 446
1336846415273: mux: Inside mux Packet.CLIENT_REQUEST
1336846415297: Received UDP payload: 446
1336846415404: Received UDP payload: 446
1336846415745: inside sendPacket(Packet p)
1336846415746: Sending UDP payload: 446
1336846416581: Received UDP payload: 446
1336846418982: Received UDP payload: 446
1336846419650: Received UDP payload: 446
1336846420360: Received UDP payload: 446
1336846420473: Received UDP payload: 446
1336846420747: inside sendPacket(Packet p)
1336846420749: Sending UDP payload: 446
1336846421529: Received UDP payload: 446
1336846423989: Received UDP payload: 446
1336846424644: Received UDP payload: 446
1336846425298: Received UDP payload: 446
1336846425418: Received UDP payload: 446
1336846425749: inside sendPacket(Packet p)
1336846425752: Sending UDP payload: 446
1336846426545: Received UDP payload: 446
1336846429003: Received UDP payload: 446
1336846429632: Received UDP payload: 446
1336846430299: Received UDP payload: 446
1336846430430: Received UDP payload: 446
1336846430751: inside sendPacket(Packet p)
1336846430754: Sending UDP payload: 446
1336846431349: canPressButton = TRUE
1336846431350: areButtonsEnabled --> false 
1336846431351: get picture disableButtonsR
1336846431352: areButtonsEnabled --> false
1336846431382: one more getNum: 8
1336846431383: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846431383: change local requestCounter to 19
1336846431383: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=7 getBad=0 getTimedout=0 getPercent=87%
1336846431384: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002019 Client in region: 1 Client nodID: 5002
1336846431413: ----------------------------
1336846431414: --- Finished one round of sending REQUEST Packet ---------
1336846431414: I'm a leader, my requesting photos packet going to mux directly
1336846431414: inside sendRequestPacketRepeatingRunnable for requestCount = 5002019
1336846431414: mux: Inside mux Packet.CLIENT_REQUEST
1336846431415: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846431415: got new request, requestCounter = 5002019
1336846431415: inside handleClientRequest. Originator leader of region 1
1336846431415: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846431417: Sending to region: 1
1336846431420: Sending PROC_REQUEST 11:6 (1,0)->(1,0)
1336846431422: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(1,0)
1336846431422: Make FirstLeg Ack regardless of new or already-processed requests
1336846431422: Note down new request by adding requestCounter=5002019 to HashMap processedRequests
1336846431422: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846431423: mux: I got a CSM packet at a leader 
1336846431427: Sending UDP payload: 1006
1336846431428: inside handleDSMRequest. At requests's remote leader of region 1
1336846431428: removed replies before id 6 from sentReplies of size 0
1336846431429: INSIDE SERVER_GET_PHOTO!!!
1336846431432:  1 self to self atomRequest
1336846431432: dst_region == src_region = 1
1336846431434: Dispatching Atom PROC_REPLY 11:6 (1,0)->(1,0)
1336846431434: Received PROC_REQUEST 11:6 (1,0)->(1,0), replying PROC_REPLY 11:6 (1,0)->(1,0)
1336846431435: mux: I got a CSM packet at a leader 
1336846431436: Sending UDP payload: 3773
1336846431437: DSM layer: Going to and from remote region took latency = 20
1336846431437: DSM layer: orig leader sent packet at 1336846431417 ~ received reply from remote leader at 1336846431437
1336846431437: Received PROC_REPLY 11:6 (1,0)->(1,0), handing to UserApp
1336846431437: inside handleDSMReply. Now back in originator leader of region 1
1336846431438: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846431438: inside sendReplies of replyCount = 500201900
1336846431438: leader client reply has replyCounter: 500201900
1336846431438: reply packet contains the newest photo/success info from the remote region
1336846431439: === Finished one round of sending REPLY Packet =======
1336846431439: =======================
1336846431439: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846431439: Leader about to send REPLY packet, number: 500201900 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846431439: inside sendReplyRepeatingRunnable for replyCount = 500201900
1336846431464: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846431468: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846431469: Inside _enableButtons
1336846431469: disabling progressdialog due to successful new photo get
1336846431470: areButtonsEnabled --> true
1336846431470: send final leg ack regardless of new or already-processed reply
1336846431471: inside finalLegAck: change requestCounter to 20
1336846431474: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002020 Client in region: (1,0) Client nodID: 5002
1336846431475: I'm a leader client, my final_leg packet going to mux directly
1336846431475: new client_show_remotephoto reply with replyCounter 500201900
1336846431476: = leader download start 1336846431414 ~ stop 1336846431468
1336846431476: leader download remote photo latency = 54
1336846431476: note down new reply by adding replyCounter=500201900 to HashMap processedReplies
1336846431477: mux: Inside mux Packet.CLIENT_REQUEST
1336846431478: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500201900
1336846431478: Yay the last leg succeeded. Removing reply runnables ...
1336846431478: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500201900
1336846431478: got new request, requestCounter = 5002020
1336846431478: inside handleClientRequest. Originator leader of region 1
1336846431478: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846431478: one more getGood: 8
1336846431479: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500201900
1336846431479: do not send ack for received final_leg_ack
1336846431479: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=8 getBad=0 getTimedout=0 getPercent=100%
1336846431480: adding get latency: 54
1336846431481: Remote photo's length: 2745
1336846431481: Success! Client getting photo from remote region, showing photo...
1336846431548: Received UDP payload: 446
1336846432028: Received UDP payload: 642
1336846432030: mux: Inside mux Packet.CLIENT_REQUEST
1336846432078: Received UDP payload: 1006
1336846432080: mux: GOT CSM_Msg
1336846432081: inside handleDSMRequest. At requests's remote leader of region 1
1336846432081: removed replies before id 2 from sentReplies of size 0
1336846432083: INSIDE SERVER_GET_PHOTO!!!
1336846432085: Received UDP payload: 446
1336846432097: Received PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1336846432099: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1336846432099: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846432099: mux: Inside Packet.SERVER_REPLY
1336846432100: mux: I got a CSM packet at a leader 
1336846432103: Sending UDP payload: 3773
1336846432104: forwarding disabled, not forwarding packets
1336846432198: Received UDP payload: 3426
1336846432201: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846432201: mux: Inside Packet.SERVER_REPLY
1336846432212: Received UDP payload: 446
1336846432214: mux: Inside mux Packet.CLIENT_REQUEST
1336846432854: Received UDP payload: 642
1336846432860: mux: Inside mux Packet.CLIENT_REQUEST
1336846432861: inside handleClientRequest. Originator leader of region 1
1336846432861: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846432862: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846432862: got new request, requestCounter = 5022019
1336846432864: Sending to region: 1
1336846432875: Sending PROC_REQUEST 11:7 (1,0)->(1,0)
1336846432876: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(1,0)
1336846432878: Make FirstLeg Ack regardless of new or already-processed requests
1336846432878: Note down new request by adding requestCounter=5022019 to HashMap processedRequests
1336846432879: The leader sending a First Leg ack to originator client (which id = 5022)
1336846432879: inside sendPacket(Packet p)
1336846432880: mux: I got a CSM packet at a leader 
1336846432883: Sending UDP payload: 1006
1336846432896: inside handleDSMRequest. At requests's remote leader of region 1
1336846432896: removed replies before id 7 from sentReplies of size 0
1336846432899: INSIDE SERVER_GET_PHOTO!!!
1336846432910:  1 self to self atomRequest
1336846432910: dst_region == src_region = 1
1336846432915: Received PROC_REQUEST 11:7 (1,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(1,0)
1336846432916: Dispatching Atom PROC_REPLY 11:7 (1,0)->(1,0)
1336846432936: Sending UDP payload: 446
1336846432937: mux: I got a CSM packet at a leader 
1336846432939: Sending UDP payload: 3773
1336846432941: DSM layer: Going to and from remote region took latency = 77
1336846432941: DSM layer: orig leader sent packet at 1336846432864 ~ received reply from remote leader at 1336846432941
1336846432941: Received PROC_REPLY 11:7 (1,0)->(1,0), handing to UserApp
1336846432941: inside handleDSMReply. Now back in originator leader of region 1
1336846432942: =======================
1336846432942: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846432942: inside sendReplies of replyCount = 502201900
1336846432942: inside sendReplyRepeatingRunnable for replyCount = 502201900
1336846432942: leader client reply has replyCounter: 502201900
1336846432942: reply packet contains the newest photo/success info from the remote region
1336846432943: === Finished one round of sending REPLY Packet =======
1336846432943: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846432943: Leader about to send REPLY packet, number: 502201900 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846432943: inside sendPacket(Packet p)
1336846432945: Sending UDP payload: 3426
1336846433044: Received UDP payload: 446
1336846433046: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502201900
1336846433046: Yay the last leg succeeded. Removing reply runnables ...
1336846433046: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502201900
1336846433046: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502201900
1336846433046: do not send ack for received final_leg_ack
1336846433046: got new request, requestCounter = 5022020
1336846433046: inside handleClientRequest. Originator leader of region 1
1336846433046: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846433046: mux: Inside mux Packet.CLIENT_REQUEST
1336846433717: Received UDP payload: 1006
1336846433729: mux: GOT CSM_Msg
1336846433730: removed replies before id 3 from sentReplies of size 0
1336846433731: inside handleDSMRequest. At requests's remote leader of region 1
1336846433734: INSIDE SERVER_GET_PHOTO!!!
1336846433748: Received PROC_REQUEST 11:3 (0,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(0,0)
1336846433750: Dispatching Atom PROC_REPLY 11:3 (1,0)->(0,0)
1336846433750: mux: I got a CSM packet at a leader 
1336846433763: Sending UDP payload: 3773
1336846433776: forwarding disabled, not forwarding packets
1336846434006: Received UDP payload: 446
1336846434650: Received UDP payload: 446
1336846435303: Received UDP payload: 446
1336846435446: Received UDP payload: 446
1336846435753: inside sendPacket(Packet p)
1336846435767: Sending UDP payload: 446
1336846436570: Received UDP payload: 446
1336846439013: Received UDP payload: 446
1336846439661: Received UDP payload: 446
1336846440086: Received UDP payload: 1006
1336846440088: mux: GOT CSM_Msg
1336846440089: INSIDE SERVER_GET_PHOTO!!!
1336846440089: inside handleDSMRequest. At requests's remote leader of region 1
1336846440089: removed replies before id 1 from sentReplies of size 0
1336846440091: Dispatching Atom PROC_REPLY 11:1 (1,0)->(3,0)
1336846440091: Received PROC_REQUEST 11:1 (3,0)->(1,0), replying PROC_REPLY 11:1 (1,0)->(3,0)
1336846440091: mux: I got a CSM packet at a leader 
1336846440092: Sending UDP payload: 3773
1336846440103: forwarding disabled, not forwarding packets
1336846440311: Received UDP payload: 446
1336846440460: Received UDP payload: 446
1336846440769: inside sendPacket(Packet p)
1336846440787: Sending UDP payload: 446
1336846441403: Received UDP payload: 1006
1336846441411: mux: GOT CSM_Msg
1336846441412: removed replies before id 1 from sentReplies of size 0
1336846441413: inside handleDSMRequest. At requests's remote leader of region 1
1336846441417: INSIDE SERVER_GET_PHOTO!!!
1336846441428: Received PROC_REQUEST 11:1 (2,0)->(1,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1336846441429: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1336846441430: mux: I got a CSM packet at a leader 
1336846441449: Sending UDP payload: 3773
1336846441450: forwarding disabled, not forwarding packets
1336846441556: Received UDP payload: 446
1336846444015: Received UDP payload: 446
1336846444638: Received UDP payload: 446
1336846445326: Received UDP payload: 446
1336846445477: Received UDP payload: 446
1336846445788: inside sendPacket(Packet p)
1336846445797: Sending UDP payload: 446
1336846446607: Received UDP payload: 446
1336846446893: Received UDP payload: 642
1336846446898: mux: Inside mux Packet.CLIENT_REQUEST
1336846446999: Received UDP payload: 1006
1336846447001: inside handleDSMRequest. At requests's remote leader of region 1
1336846447001: mux: GOT CSM_Msg
1336846447001: removed replies before id 2 from sentReplies of size 0
1336846447002: INSIDE SERVER_GET_PHOTO!!!
1336846447003: Dispatching Atom PROC_REPLY 11:2 (1,0)->(5,0)
1336846447003: Received PROC_REQUEST 11:2 (5,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(5,0)
1336846447004: mux: I got a CSM packet at a leader 
1336846447007: Received UDP payload: 446
1336846447009: Sending UDP payload: 3773
1336846447014: forwarding disabled, not forwarding packets
1336846447015: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846447015: mux: Inside Packet.SERVER_REPLY
1336846447111: Received UDP payload: 3426
1336846447116: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846447116: mux: Inside Packet.SERVER_REPLY
1336846447125: Received UDP payload: 446
1336846447129: mux: Inside mux Packet.CLIENT_REQUEST
1336846447752: Received UDP payload: 1006
1336846447760: mux: GOT CSM_Msg
1336846447760: removed replies before id 2 from sentReplies of size 0
1336846447761: inside handleDSMRequest. At requests's remote leader of region 1
1336846447762: INSIDE SERVER_GET_PHOTO!!!
1336846447777: Received PROC_REQUEST 11:2 (4,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(4,0)
1336846447778: Dispatching Atom PROC_REPLY 11:2 (1,0)->(4,0)
1336846447779: mux: I got a CSM packet at a leader 
1336846447796: Sending UDP payload: 3773
1336846447798: forwarding disabled, not forwarding packets
1336846448534: Received UDP payload: 1006
1336846448541: mux: GOT CSM_Msg
1336846448542: inside handleDSMRequest. At requests's remote leader of region 1
1336846448542: removed replies before id 3 from sentReplies of size 0
1336846448544: INSIDE SERVER_GET_PHOTO!!!
1336846448556: Received PROC_REQUEST 11:3 (5,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(5,0)
1336846448557: Dispatching Atom PROC_REPLY 11:3 (1,0)->(5,0)
1336846448559: mux: I got a CSM packet at a leader 
1336846448562: Sending UDP payload: 3773
1336846448577: forwarding disabled, not forwarding packets
1336846449026: Received UDP payload: 446
1336846449260: Received UDP payload: 642
1336846449265: mux: Inside mux Packet.CLIENT_REQUEST
1336846449319: Received UDP payload: 1006
1336846449325: mux: GOT CSM_Msg
1336846449326: removed replies before id 3 from sentReplies of size 0
1336846449327: inside handleDSMRequest. At requests's remote leader of region 1
1336846449329: INSIDE SERVER_GET_PHOTO!!!
1336846449333: Received UDP payload: 446
1336846449334: Received PROC_REQUEST 11:3 (4,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(4,0)
1336846449335: Dispatching Atom PROC_REPLY 11:3 (1,0)->(4,0)
1336846449336: mux: I got a CSM packet at a leader 
1336846449346: Sending UDP payload: 3773
1336846449349: forwarding disabled, not forwarding packets
1336846449350: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846449350: mux: Inside Packet.SERVER_REPLY
1336846449436: Received UDP payload: 3426
1336846449440: mux: Inside Packet.SERVER_REPLY
1336846449441: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846449451: Received UDP payload: 446
1336846449456: mux: Inside mux Packet.CLIENT_REQUEST
1336846449673: Received UDP payload: 446
1336846450337: Received UDP payload: 446
1336846450484: Received UDP payload: 446
1336846450799: inside sendPacket(Packet p)
1336846450801: Sending UDP payload: 446
1336846451614: Received UDP payload: 446
1336846454038: Received UDP payload: 446
1336846454648: Received UDP payload: 446
1336846455326: Received UDP payload: 446
1336846455468: Received UDP payload: 446
1336846455800: inside sendPacket(Packet p)
1336846455803: Sending UDP payload: 446
1336846456559: Received UDP payload: 446
1336846459025: Received UDP payload: 446
1336846459653: Received UDP payload: 446
1336846460329: Received UDP payload: 446
1336846460466: Received UDP payload: 446
1336846460801: inside sendPacket(Packet p)
1336846460804: Sending UDP payload: 446
1336846461572: Received UDP payload: 446
1336846464034: Received UDP payload: 446
1336846464667: Received UDP payload: 446
1336846465336: Received UDP payload: 446
1336846465454: Received UDP payload: 446
1336846465802: inside sendPacket(Packet p)
1336846465805: Sending UDP payload: 446
1336846466577: Received UDP payload: 446
1336846469034: Received UDP payload: 446
1336846469657: Received UDP payload: 446
1336846470352: Received UDP payload: 446
1336846470460: Received UDP payload: 446
1336846470803: inside sendPacket(Packet p)
1336846470817: Sending UDP payload: 446
1336846471586: Received UDP payload: 446
1336846474051: Received UDP payload: 446
1336846474660: Received UDP payload: 446
1336846475344: Received UDP payload: 446
1336846475460: Received UDP payload: 446
1336846475820: inside sendPacket(Packet p)
1336846475822: Sending UDP payload: 446
1336846476620: Received UDP payload: 446
1336846479098: Received UDP payload: 446
1336846479660: Received UDP payload: 446
1336846480358: Received UDP payload: 446
1336846480463: Received UDP payload: 446
1336846480821: inside sendPacket(Packet p)
1336846480823: Sending UDP payload: 446
1336846481588: Received UDP payload: 446
1336846484076: Received UDP payload: 446
1336846484662: Received UDP payload: 446
1336846485365: Received UDP payload: 446
1336846485470: Received UDP payload: 446
1336846485822: inside sendPacket(Packet p)
1336846485825: Sending UDP payload: 446
1336846486645: Received UDP payload: 446
1336846489032: canPressButton = TRUE
1336846489033: areButtonsEnabled --> false
1336846489033: areButtonsEnabled --> false 
1336846489033: get picture disableButtonsR
1336846489059: one more getNum: 9
1336846489060: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846489060: change local requestCounter to 21
1336846489060: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=8 getBad=0 getTimedout=0 getPercent=88%
1336846489061: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002021 Client in region: 1 Client nodID: 5002
1336846489089: ----------------------------
1336846489090: I'm a leader, my requesting photos packet going to mux directly
1336846489090: inside sendRequestPacketRepeatingRunnable for requestCount = 5002021
1336846489090: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846489090: mux: Inside mux Packet.CLIENT_REQUEST
1336846489091: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846489091: Sending to region: 2
1336846489091: got new request, requestCounter = 5002021
1336846489091: inside handleClientRequest. Originator leader of region 1
1336846489092: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1336846489092: Make FirstLeg Ack regardless of new or already-processed requests
1336846489092: Note down new request by adding requestCounter=5002021 to HashMap processedRequests
1336846489092: Sending PROC_REQUEST 11:2 (1,0)->(2,0)
1336846489093: mux: I got a CSM packet at a leader 
1336846489093: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846489094: Sending UDP payload: 1006
1336846489095: forwarding disabled, not forwarding packets
1336846489096: --- Finished one round of sending REQUEST Packet ---------
1336846489124: Received UDP payload: 446
1336846489134: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846489254: Received UDP payload: 3790
1336846489256: Received PROC_REPLY 11:2 (2,0)->(1,0), handing to UserApp
1336846489256: mux: GOT CSM_Msg
1336846489257: DSM layer: Going to and from remote region took latency = 166
1336846489257: DSM layer: orig leader sent packet at 1336846489091 ~ received reply from remote leader at 1336846489257
1336846489257: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846489257: inside handleDSMReply. Now back in originator leader of region 1
1336846489258: =======================
1336846489258: Leader about to send REPLY packet, number: 500202100 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846489258: inside sendReplies of replyCount = 500202100
1336846489258: inside sendReplyRepeatingRunnable for replyCount = 500202100
1336846489258: leader client reply has replyCounter: 500202100
1336846489258: reply packet contains the newest photo/success info from the remote region
1336846489259: === Finished one round of sending REPLY Packet =======
1336846489259: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846489262: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846489262: Inside _enableButtons
1336846489262: areButtonsEnabled --> true
1336846489262: disabling progressdialog due to successful new photo get
1336846489262: send final leg ack regardless of new or already-processed reply
1336846489263: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002022 Client in region: (1,0) Client nodID: 5002
1336846489263: I'm a leader client, my final_leg packet going to mux directly
1336846489263: inside finalLegAck: change requestCounter to 22
1336846489263: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846489263: mux: Inside mux Packet.CLIENT_REQUEST
1336846489264: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500202100
1336846489264: Yay the last leg succeeded. Removing reply runnables ...
1336846489264: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500202100
1336846489264: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500202100
1336846489264: do not send ack for received final_leg_ack
1336846489264: got new request, requestCounter = 5002022
1336846489264: inside handleClientRequest. Originator leader of region 1
1336846489265: = leader download start 1336846489090 ~ stop 1336846489262
1336846489265: leader download remote photo latency = 172
1336846489265: new client_show_remotephoto reply with replyCounter 500202100
1336846489265: note down new reply by adding replyCounter=500202100 to HashMap processedReplies
1336846489269: one more getGood: 9
1336846489270: Success! Client getting photo from remote region, showing photo...
1336846489270: adding get latency: 172
1336846489270: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=9 getBad=0 getTimedout=0 getPercent=100%
1336846489271: Remote photo's length: 2762
1336846489534: Received UDP payload: 642
1336846489536: mux: Inside mux Packet.CLIENT_REQUEST
1336846489554: Received UDP payload: 1006
1336846489557: forwarding disabled, not forwarding packets
1336846489557: mux: GOT CSM_Msg
1336846489570: Received UDP payload: 446
1336846489572: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846489572: mux: Inside Packet.SERVER_REPLY
1336846489629: Received UDP payload: 3790
1336846489631: mux: GOT CSM_Msg
1336846489632: forwarding disabled, not forwarding packets
1336846489692: Received UDP payload: 3443
1336846489694: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846489694: mux: Inside Packet.SERVER_REPLY
1336846489717: Received UDP payload: 446
1336846489719: mux: Inside mux Packet.CLIENT_REQUEST
1336846489735: Received UDP payload: 446
1336846490220: Received UDP payload: 642
1336846490225: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846490225: mux: Inside mux Packet.CLIENT_REQUEST
1336846490226: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846490226: got new request, requestCounter = 5022021
1336846490226: inside handleClientRequest. Originator leader of region 1
1336846490229: Sending to region: 2
1336846490230: Sending PROC_REQUEST 11:3 (1,0)->(2,0)
1336846490245: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1336846490246: Make FirstLeg Ack regardless of new or already-processed requests
1336846490246: Note down new request by adding requestCounter=5022021 to HashMap processedRequests
1336846490248: The leader sending a First Leg ack to originator client (which id = 5022)
1336846490248: inside sendPacket(Packet p)
1336846490249: mux: I got a CSM packet at a leader 
1336846490253: Sending UDP payload: 1006
1336846490261: forwarding disabled, not forwarding packets
1336846490262: Sending UDP payload: 446
1336846490347: Received UDP payload: 3790
1336846490349: Received PROC_REPLY 11:3 (2,0)->(1,0), handing to UserApp
1336846490349: inside handleDSMReply. Now back in originator leader of region 1
1336846490349: mux: GOT CSM_Msg
1336846490350: DSM layer: Going to and from remote region took latency = 120
1336846490350: DSM layer: orig leader sent packet at 1336846490229 ~ received reply from remote leader at 1336846490349
1336846490350: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846490351: =======================
1336846490351: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846490351: Leader about to send REPLY packet, number: 502202100 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846490351: inside sendPacket(Packet p)
1336846490351: inside sendReplies of replyCount = 502202100
1336846490351: inside sendReplyRepeatingRunnable for replyCount = 502202100
1336846490351: leader client reply has replyCounter: 502202100
1336846490351: reply packet contains the newest photo/success info from the remote region
1336846490352: === Finished one round of sending REPLY Packet =======
1336846490353: Sending UDP payload: 3443
1336846490358: Received UDP payload: 446
1336846490419: Received UDP payload: 446
1336846490420: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502202100
1336846490420: got new request, requestCounter = 5022022
1336846490420: inside handleClientRequest. Originator leader of region 1
1336846490420: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846490420: mux: Inside mux Packet.CLIENT_REQUEST
1336846490421: Yay the last leg succeeded. Removing reply runnables ...
1336846490421: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502202100
1336846490421: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502202100
1336846490421: do not send ack for received final_leg_ack
1336846490457: Received UDP payload: 446
1336846490823: inside sendPacket(Packet p)
1336846490824: Sending UDP payload: 446
1336846491089: Received UDP payload: 1006
1336846491098: mux: GOT CSM_Msg
1336846491099: forwarding disabled, not forwarding packets
1336846491178: Received UDP payload: 3790
1336846491185: mux: GOT CSM_Msg
1336846491186: forwarding disabled, not forwarding packets
1336846491596: Received UDP payload: 446
1336846494090: Received UDP payload: 446
1336846494667: Received UDP payload: 446
1336846495373: Received UDP payload: 446
1336846495477: Received UDP payload: 446
1336846495824: inside sendPacket(Packet p)
1336846495837: Sending UDP payload: 446
1336846496609: Received UDP payload: 446
1336846498640: Received UDP payload: 1006
1336846498647: mux: GOT CSM_Msg
1336846498648: forwarding disabled, not forwarding packets
1336846498693: Received UDP payload: 3790
1336846498699: mux: GOT CSM_Msg
1336846498700: forwarding disabled, not forwarding packets
1336846498909: Received UDP payload: 1006
1336846498917: forwarding disabled, not forwarding packets
1336846498917: mux: GOT CSM_Msg
1336846498968: Received UDP payload: 3790
1336846498975: mux: GOT CSM_Msg
1336846498976: forwarding disabled, not forwarding packets
1336846499095: Received UDP payload: 446
1336846499706: Received UDP payload: 446
1336846500381: Received UDP payload: 446
1336846500475: Received UDP payload: 446
1336846500682: leader to cloud hearbeat...
1336846501119: inside sendPacket(Packet p)
1336846501136: Sending UDP payload: 446
1336846501633: Received UDP payload: 446
1336846504110: Received UDP payload: 446
1336846504688: Received UDP payload: 446
1336846504907: Received UDP payload: 1006
1336846504914: mux: GOT CSM_Msg
1336846504915: forwarding disabled, not forwarding packets
1336846504994: Received UDP payload: 3790
1336846505000: mux: GOT CSM_Msg
1336846505001: forwarding disabled, not forwarding packets
1336846505376: Received UDP payload: 446
1336846505483: Received UDP payload: 446
1336846505497: Received UDP payload: 642
1336846505499: mux: Inside mux Packet.CLIENT_REQUEST
1336846505537: Received UDP payload: 1006
1336846505541: forwarding disabled, not forwarding packets
1336846505541: mux: GOT CSM_Msg
1336846505545: Received UDP payload: 446
1336846505547: mux: Inside Packet.SERVER_REPLY
1336846505548: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846505702: Received UDP payload: 3790
1336846505713: forwarding disabled, not forwarding packets
1336846505713: mux: GOT CSM_Msg
1336846505780: Received UDP payload: 3443
1336846505782: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846505782: mux: Inside Packet.SERVER_REPLY
1336846505794: Received UDP payload: 446
1336846505796: mux: Inside mux Packet.CLIENT_REQUEST
1336846506094: Received UDP payload: 642
1336846506096: mux: Inside mux Packet.CLIENT_REQUEST
1336846506117: Received UDP payload: 1006
1336846506119: forwarding disabled, not forwarding packets
1336846506119: mux: GOT CSM_Msg
1336846506120: Received UDP payload: 446
1336846506122: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846506122: mux: Inside Packet.SERVER_REPLY
1336846506138: inside sendPacket(Packet p)
1336846506139: Sending UDP payload: 446
1336846506208: Received UDP payload: 3790
1336846506210: forwarding disabled, not forwarding packets
1336846506210: mux: GOT CSM_Msg
1336846506254: Received UDP payload: 3443
1336846506256: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846506256: mux: Inside Packet.SERVER_REPLY
1336846506285: Received UDP payload: 446
1336846506287: mux: Inside mux Packet.CLIENT_REQUEST
1336846506637: Received UDP payload: 446
1336846506647: Received UDP payload: 1006
1336846506653: mux: GOT CSM_Msg
1336846506654: forwarding disabled, not forwarding packets
1336846506708: Received UDP payload: 3790
1336846506710: forwarding disabled, not forwarding packets
1336846506710: mux: GOT CSM_Msg
1336846509143: Received UDP payload: 446
1336846509694: Received UDP payload: 446
1336846510376: Received UDP payload: 446
1336846510480: Received UDP payload: 446
1336846511139: inside sendPacket(Packet p)
1336846511142: Sending UDP payload: 446
1336846511897: Received UDP payload: 446
1336846514097: Received UDP payload: 446
1336846514698: Received UDP payload: 446
1336846515391: Received UDP payload: 446
1336846515765: Received UDP payload: 446
1336846516141: inside sendPacket(Packet p)
1336846516153: Sending UDP payload: 446
1336846516905: Received UDP payload: 446
1336846518419: Received UDP payload: 642
1336846518423: mux: Inside mux Packet.CLIENT_REQUEST
1336846518460: Received UDP payload: 1006
1336846518469: forwarding disabled, not forwarding packets
1336846518469: mux: GOT CSM_Msg
1336846518470: Received UDP payload: 446
1336846518477: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846518477: mux: Inside Packet.SERVER_REPLY
1336846518547: Received UDP payload: 3757
1336846518555: mux: GOT CSM_Msg
1336846518556: forwarding disabled, not forwarding packets
1336846518593: Received UDP payload: 3410
1336846518600: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846518600: mux: Inside Packet.SERVER_REPLY
1336846518610: Received UDP payload: 446
1336846518614: mux: Inside mux Packet.CLIENT_REQUEST
1336846519100: Received UDP payload: 446
1336846519695: Received UDP payload: 446
1336846519949: Received UDP payload: 1006
1336846519956: forwarding disabled, not forwarding packets
1336846519956: mux: GOT CSM_Msg
1336846520044: Received UDP payload: 3757
1336846520051: forwarding disabled, not forwarding packets
1336846520051: mux: GOT CSM_Msg
1336846520394: Received UDP payload: 446
1336846520431: areButtonsEnabled --> false 
1336846520431: canPressButton = TRUE
1336846520432: areButtonsEnabled --> false
1336846520432: get picture disableButtonsR
1336846520459: one more getNum: 10
1336846520460: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846520460: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=9 getBad=0 getTimedout=0 getPercent=90%
1336846520461: change local requestCounter to 23
1336846520462: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002023 Client in region: 1 Client nodID: 5002
1336846520500: ----------------------------
1336846520501: I'm a leader, my requesting photos packet going to mux directly
1336846520501: inside sendRequestPacketRepeatingRunnable for requestCount = 5002023
1336846520501: mux: Inside mux Packet.CLIENT_REQUEST
1336846520502: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846520502: got new request, requestCounter = 5002023
1336846520502: inside handleClientRequest. Originator leader of region 1
1336846520502: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846520503: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(3,0)
1336846520503: Sending PROC_REQUEST 11:2 (1,0)->(3,0)
1336846520503: Sending to region: 3
1336846520504: Make FirstLeg Ack regardless of new or already-processed requests
1336846520504: Note down new request by adding requestCounter=5002023 to HashMap processedRequests
1336846520504: mux: I got a CSM packet at a leader 
1336846520504: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846520523: Sending UDP payload: 1006
1336846520523: forwarding disabled, not forwarding packets
1336846520524: --- Finished one round of sending REQUEST Packet ---------
1336846520559: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846520589: Received UDP payload: 3757
1336846520591: DSM layer: Going to and from remote region took latency = 88
1336846520591: Received PROC_REPLY 11:2 (3,0)->(1,0), handing to UserApp
1336846520591: inside handleDSMReply. Now back in originator leader of region 1
1336846520591: mux: GOT CSM_Msg
1336846520592: DSM layer: orig leader sent packet at 1336846520503 ~ received reply from remote leader at 1336846520591
1336846520592: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846520592: leader client reply has replyCounter: 500202300
1336846520592: reply packet contains the newest photo/success info from the remote region
1336846520593: =======================
1336846520593: inside sendReplies of replyCount = 500202300
1336846520593: inside sendReplyRepeatingRunnable for replyCount = 500202300
1336846520594: === Finished one round of sending REPLY Packet =======
1336846520594: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846520594: Leader about to send REPLY packet, number: 500202300 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846520610: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846520610: Inside _enableButtons
1336846520610: areButtonsEnabled --> true
1336846520610: disabling progressdialog due to successful new photo get
1336846520611: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002024 Client in region: (1,0) Client nodID: 5002
1336846520611: I'm a leader client, my final_leg packet going to mux directly
1336846520611: inside finalLegAck: change requestCounter to 24
1336846520611: send final leg ack regardless of new or already-processed reply
1336846520612: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500202300
1336846520612: Yay the last leg succeeded. Removing reply runnables ...
1336846520612: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500202300
1336846520612: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500202300
1336846520612: do not send ack for received final_leg_ack
1336846520612: got new request, requestCounter = 5002024
1336846520612: inside handleClientRequest. Originator leader of region 1
1336846520612: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846520612: mux: Inside mux Packet.CLIENT_REQUEST
1336846520613: new client_show_remotephoto reply with replyCounter 500202300
1336846520613: note down new reply by adding replyCounter=500202300 to HashMap processedReplies
1336846520618: = leader download start 1336846520501 ~ stop 1336846520610
1336846520618: leader download remote photo latency = 109
1336846520620: one more getGood: 10
1336846520622: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=10 getBad=0 getTimedout=0 getPercent=100%
1336846520623: adding get latency: 109
1336846520625: Remote photo's length: 2729
1336846520625: Success! Client getting photo from remote region, showing photo...
1336846520763: Received UDP payload: 446
1336846521155: inside sendPacket(Packet p)
1336846521157: Sending UDP payload: 446
1336846521902: Received UDP payload: 446
1336846524112: Received UDP payload: 446
1336846525068: Received UDP payload: 446
1336846525312: Received UDP payload: 642
1336846525317: mux: Inside mux Packet.CLIENT_REQUEST
1336846525318: got new request, requestCounter = 5022023
1336846525318: inside handleClientRequest. Originator leader of region 1
1336846525318: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846525319: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846525320: Sending to region: 3
1336846525322: Sending PROC_REQUEST 11:3 (1,0)->(3,0)
1336846525323: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1336846525323: Make FirstLeg Ack regardless of new or already-processed requests
1336846525323: Note down new request by adding requestCounter=5022023 to HashMap processedRequests
1336846525324: The leader sending a First Leg ack to originator client (which id = 5022)
1336846525338: inside sendPacket(Packet p)
1336846525339: mux: I got a CSM packet at a leader 
1336846525342: Sending UDP payload: 1006
1336846525356: forwarding disabled, not forwarding packets
1336846525357: Sending UDP payload: 446
1336846525397: Received UDP payload: 446
1336846525431: Received UDP payload: 3757
1336846525433: DSM layer: Going to and from remote region took latency = 112
1336846525433: Received PROC_REPLY 11:3 (3,0)->(1,0), handing to UserApp
1336846525433: inside handleDSMReply. Now back in originator leader of region 1
1336846525433: mux: GOT CSM_Msg
1336846525434: DSM layer: orig leader sent packet at 1336846525321 ~ received reply from remote leader at 1336846525433
1336846525434: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846525435: =======================
1336846525435: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846525435: Leader about to send REPLY packet, number: 502202300 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846525435: inside sendReplies of replyCount = 502202300
1336846525435: inside sendReplyRepeatingRunnable for replyCount = 502202300
1336846525435: leader client reply has replyCounter: 502202300
1336846525435: reply packet contains the newest photo/success info from the remote region
1336846525436: === Finished one round of sending REPLY Packet =======
1336846525436: inside sendPacket(Packet p)
1336846525437: Sending UDP payload: 3410
1336846525519: Received UDP payload: 446
1336846525520: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502202300
1336846525520: got new request, requestCounter = 5022024
1336846525520: inside handleClientRequest. Originator leader of region 1
1336846525520: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846525520: mux: Inside mux Packet.CLIENT_REQUEST
1336846525521: Yay the last leg succeeded. Removing reply runnables ...
1336846525521: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502202300
1336846525521: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502202300
1336846525521: do not send ack for received final_leg_ack
1336846525763: Received UDP payload: 446
1336846526158: inside sendPacket(Packet p)
1336846526161: Sending UDP payload: 446
1336846526916: Received UDP payload: 446
1336846528145: Received UDP payload: 1006
1336846528152: forwarding disabled, not forwarding packets
1336846528152: mux: GOT CSM_Msg
1336846528233: Received UDP payload: 3757
1336846528240: forwarding disabled, not forwarding packets
1336846528240: mux: GOT CSM_Msg
1336846529103: Received UDP payload: 446
1336846529785: Received UDP payload: 1006
1336846529795: mux: GOT CSM_Msg
1336846529796: forwarding disabled, not forwarding packets
1336846529837: Received UDP payload: 3757
1336846529839: forwarding disabled, not forwarding packets
1336846529839: mux: GOT CSM_Msg
1336846530092: Received UDP payload: 446
1336846530393: Received UDP payload: 446
1336846530767: Received UDP payload: 446
1336846531163: inside sendPacket(Packet p)
1336846531166: Sending UDP payload: 446
1336846531922: Received UDP payload: 446
1336846534146: Received UDP payload: 446
1336846534901: Received UDP payload: 1006
1336846534911: mux: GOT CSM_Msg
1336846534912: forwarding disabled, not forwarding packets
1336846535049: Received UDP payload: 3757
1336846535056: forwarding disabled, not forwarding packets
1336846535056: mux: GOT CSM_Msg
1336846535077: Received UDP payload: 446
1336846535104: Received UDP payload: 642
1336846535108: mux: Inside mux Packet.CLIENT_REQUEST
1336846535151: Received UDP payload: 1006
1336846535159: forwarding disabled, not forwarding packets
1336846535159: mux: GOT CSM_Msg
1336846535160: Received UDP payload: 446
1336846535163: mux: Inside Packet.SERVER_REPLY
1336846535164: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846535207: Received UDP payload: 3757
1336846535215: mux: GOT CSM_Msg
1336846535216: forwarding disabled, not forwarding packets
1336846535265: Received UDP payload: 3410
1336846535269: mux: Inside Packet.SERVER_REPLY
1336846535270: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846535277: Received UDP payload: 446
1336846535281: mux: Inside mux Packet.CLIENT_REQUEST
1336846535395: Received UDP payload: 446
1336846535818: Received UDP payload: 446
1336846536134: Received UDP payload: 642
1336846536139: mux: Inside mux Packet.CLIENT_REQUEST
1336846536164: inside sendPacket(Packet p)
1336846536167: Sending UDP payload: 446
1336846536170: Received UDP payload: 1006
1336846536177: forwarding disabled, not forwarding packets
1336846536177: mux: GOT CSM_Msg
1336846536187: Received UDP payload: 446
1336846536192: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846536192: mux: Inside Packet.SERVER_REPLY
1336846536261: Received UDP payload: 3757
1336846536263: forwarding disabled, not forwarding packets
1336846536263: mux: GOT CSM_Msg
1336846536306: Received UDP payload: 3410
1336846536308: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846536308: mux: Inside Packet.SERVER_REPLY
1336846536343: Received UDP payload: 446
1336846536345: mux: Inside mux Packet.CLIENT_REQUEST
1336846536392: Received UDP payload: 1006
1336846536395: forwarding disabled, not forwarding packets
1336846536395: mux: GOT CSM_Msg
1336846536440: Received UDP payload: 3757
1336846536443: forwarding disabled, not forwarding packets
1336846536443: mux: GOT CSM_Msg
1336846536904: Received UDP payload: 446
1336846539156: Received UDP payload: 446
1336846540113: Received UDP payload: 446
1336846540405: Received UDP payload: 446
1336846540846: Received UDP payload: 446
1336846541165: inside sendPacket(Packet p)
1336846541177: Sending UDP payload: 446
1336846541969: Received UDP payload: 446
1336846544126: Received UDP payload: 446
1336846545102: Received UDP payload: 446
1336846545424: Received UDP payload: 446
1336846545785: Received UDP payload: 446
1336846546179: inside sendPacket(Packet p)
1336846546181: Sending UDP payload: 446
1336846546744: Received UDP payload: 642
1336846546748: mux: Inside mux Packet.CLIENT_REQUEST
1336846546793: Received UDP payload: 1006
1336846546800: mux: GOT CSM_Msg
1336846546801: forwarding disabled, not forwarding packets
1336846546804: Received UDP payload: 446
1336846546808: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846546808: mux: Inside Packet.SERVER_REPLY
1336846546850: Received UDP payload: 3734
1336846546857: forwarding disabled, not forwarding packets
1336846546857: mux: GOT CSM_Msg
1336846546891: Received UDP payload: 3387
1336846546892: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846546892: mux: Inside Packet.SERVER_REPLY
1336846546905: Received UDP payload: 446
1336846546917: Received UDP payload: 446
1336846546918: mux: Inside mux Packet.CLIENT_REQUEST
1336846548045: Received UDP payload: 1006
1336846548054: mux: GOT CSM_Msg
1336846548055: forwarding disabled, not forwarding packets
1336846548132: Received UDP payload: 3734
1336846548138: mux: GOT CSM_Msg
1336846548139: forwarding disabled, not forwarding packets
1336846549109: Received UDP payload: 446
1336846550074: canPressButton = TRUE
1336846550075: areButtonsEnabled --> false
1336846550075: areButtonsEnabled --> false 
1336846550075: get picture disableButtonsR
1336846550096: Received UDP payload: 446
1336846550101: one more getNum: 11
1336846550101: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=10 getBad=0 getTimedout=0 getPercent=90%
1336846550102: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846550102: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002025 Client in region: 1 Client nodID: 5002
1336846550102: change local requestCounter to 25
1336846550133: ----------------------------
1336846550133: I'm a leader, my requesting photos packet going to mux directly
1336846550133: inside sendRequestPacketRepeatingRunnable for requestCount = 5002025
1336846550133: mux: Inside mux Packet.CLIENT_REQUEST
1336846550134: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846550134: got new request, requestCounter = 5002025
1336846550134: inside handleClientRequest. Originator leader of region 1
1336846550134: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846550135: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(4,0)
1336846550135: Note down new request by adding requestCounter=5002025 to HashMap processedRequests
1336846550135: Sending PROC_REQUEST 11:2 (1,0)->(4,0)
1336846550135: Sending to region: 4
1336846550136: Make FirstLeg Ack regardless of new or already-processed requests
1336846550136: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846550137: mux: I got a CSM packet at a leader 
1336846550138: Sending UDP payload: 1006
1336846550139: --- Finished one round of sending REQUEST Packet ---------
1336846550139: forwarding disabled, not forwarding packets
1336846550196: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846550229: Received UDP payload: 3734
1336846550231: DSM layer: Going to and from remote region took latency = 96
1336846550231: Received PROC_REPLY 11:2 (4,0)->(1,0), handing to UserApp
1336846550231: inside handleDSMReply. Now back in originator leader of region 1
1336846550231: mux: GOT CSM_Msg
1336846550232: DSM layer: orig leader sent packet at 1336846550135 ~ received reply from remote leader at 1336846550231
1336846550234: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846550234: inside sendReplies of replyCount = 500202500
1336846550234: leader client reply has replyCounter: 500202500
1336846550234: reply packet contains the newest photo/success info from the remote region
1336846550236: =======================
1336846550236: Leader about to send REPLY packet, number: 500202500 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846550236: inside sendReplyRepeatingRunnable for replyCount = 500202500
1336846550237: === Finished one round of sending REPLY Packet =======
1336846550237: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846550243: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846550243: Inside _enableButtons
1336846550243: disabling progressdialog due to successful new photo get
1336846550244: areButtonsEnabled --> true
1336846550244: inside finalLegAck: change requestCounter to 26
1336846550244: send final leg ack regardless of new or already-processed reply
1336846550245: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002026 Client in region: (1,0) Client nodID: 5002
1336846550245: I'm a leader client, my final_leg packet going to mux directly
1336846550245: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500202500
1336846550245: got new request, requestCounter = 5002026
1336846550245: inside handleClientRequest. Originator leader of region 1
1336846550245: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846550245: mux: Inside mux Packet.CLIENT_REQUEST
1336846550246: Yay the last leg succeeded. Removing reply runnables ...
1336846550246: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500202500
1336846550246: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500202500
1336846550246: do not send ack for received final_leg_ack
1336846550246: new client_show_remotephoto reply with replyCounter 500202500
1336846550247: = leader download start 1336846550133 ~ stop 1336846550243
1336846550247: leader download remote photo latency = 110
1336846550247: note down new reply by adding replyCounter=500202500 to HashMap processedReplies
1336846550248: one more getGood: 11
1336846550249: adding get latency: 110
1336846550249: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=11 getBad=0 getTimedout=0 getPercent=100%
1336846550250: Success! Client getting photo from remote region, showing photo...
1336846550251: Remote photo's length: 2706
1336846550404: Received UDP payload: 446
1336846550778: Received UDP payload: 446
1336846551180: inside sendPacket(Packet p)
1336846551183: Sending UDP payload: 446
1336846551487: Received UDP payload: 642
1336846551492: inside handleClientRequest. Originator leader of region 1
1336846551492: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846551492: mux: Inside mux Packet.CLIENT_REQUEST
1336846551493: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846551493: got new request, requestCounter = 5022025
1336846551495: Sending to region: 4
1336846551496: Sending PROC_REQUEST 11:3 (1,0)->(4,0)
1336846551497: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(4,0)
1336846551498: Make FirstLeg Ack regardless of new or already-processed requests
1336846551498: Note down new request by adding requestCounter=5022025 to HashMap processedRequests
1336846551498: The leader sending a First Leg ack to originator client (which id = 5022)
1336846551499: inside sendPacket(Packet p)
1336846551500: mux: I got a CSM packet at a leader 
1336846551516: Sending UDP payload: 1006
1336846551519: forwarding disabled, not forwarding packets
1336846551521: Sending UDP payload: 446
1336846551588: Received UDP payload: 3734
1336846551598: mux: GOT CSM_Msg
1336846551599: Received PROC_REPLY 11:3 (4,0)->(1,0), handing to UserApp
1336846551600: DSM layer: Going to and from remote region took latency = 105
1336846551600: inside handleDSMReply. Now back in originator leader of region 1
1336846551604: DSM layer: orig leader sent packet at 1336846551495 ~ received reply from remote leader at 1336846551600
1336846551606: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846551606: leader client reply has replyCounter: 502202500
1336846551607: inside sendReplies of replyCount = 502202500
1336846551607: reply packet contains the newest photo/success info from the remote region
1336846551608: =======================
1336846551608: inside sendReplyRepeatingRunnable for replyCount = 502202500
1336846551609: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846551609: Leader about to send REPLY packet, number: 502202500 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846551609: inside sendPacket(Packet p)
1336846551610: === Finished one round of sending REPLY Packet =======
1336846551618: Sending UDP payload: 3387
1336846551669: Received UDP payload: 446
1336846551673: mux: Inside mux Packet.CLIENT_REQUEST
1336846551674: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846551675: inside handleClientRequest. Originator leader of region 1
1336846551676: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502202500
1336846551676: Yay the last leg succeeded. Removing reply runnables ...
1336846551676: got new request, requestCounter = 5022026
1336846551677: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502202500
1336846551677: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502202500
1336846551678: do not send ack for received final_leg_ack
1336846551905: Received UDP payload: 446
1336846554120: Received UDP payload: 446
1336846555096: Received UDP payload: 446
1336846555364: Received UDP payload: 1006
1336846555371: forwarding disabled, not forwarding packets
1336846555371: mux: GOT CSM_Msg
1336846555419: Received UDP payload: 446
1336846555428: Received UDP payload: 1006
1336846555430: forwarding disabled, not forwarding packets
1336846555430: mux: GOT CSM_Msg
1336846555473: Received UDP payload: 3734
1336846555476: forwarding disabled, not forwarding packets
1336846555476: mux: GOT CSM_Msg
1336846555522: Received UDP payload: 3734
1336846555525: forwarding disabled, not forwarding packets
1336846555525: mux: GOT CSM_Msg
1336846555785: Received UDP payload: 446
1336846556188: inside sendPacket(Packet p)
1336846556191: Sending UDP payload: 446
1336846556929: Received UDP payload: 446
1336846559130: Received UDP payload: 446
1336846560092: Received UDP payload: 446
1336846560409: Received UDP payload: 446
1336846560849: Received UDP payload: 446
1336846561006: Received UDP payload: 1006
1336846561013: mux: GOT CSM_Msg
1336846561014: forwarding disabled, not forwarding packets
1336846561055: Received UDP payload: 3734
1336846561063: forwarding disabled, not forwarding packets
1336846561063: mux: GOT CSM_Msg
1336846561112: Received UDP payload: 1006
1336846561114: forwarding disabled, not forwarding packets
1336846561114: mux: GOT CSM_Msg
1336846561194: Received UDP payload: 3734
1336846561196: forwarding disabled, not forwarding packets
1336846561196: mux: GOT CSM_Msg
1336846561197: Sending UDP payload: 446
1336846561197: inside sendPacket(Packet p)
1336846561835: Received UDP payload: 1006
1336846561841: mux: GOT CSM_Msg
1336846561842: forwarding disabled, not forwarding packets
1336846561908: Received UDP payload: 3734
1336846561910: forwarding disabled, not forwarding packets
1336846561910: mux: GOT CSM_Msg
1336846561924: Received UDP payload: 446
1336846562306: Received UDP payload: 642
1336846562310: mux: Inside mux Packet.CLIENT_REQUEST
1336846562349: Received UDP payload: 1006
1336846562357: mux: GOT CSM_Msg
1336846562358: forwarding disabled, not forwarding packets
1336846562369: Received UDP payload: 446
1336846562373: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846562373: mux: Inside Packet.SERVER_REPLY
1336846562416: Received UDP payload: 3734
1336846562423: forwarding disabled, not forwarding packets
1336846562423: mux: GOT CSM_Msg
1336846562452: Received UDP payload: 3387
1336846562457: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846562457: mux: Inside Packet.SERVER_REPLY
1336846562470: Received UDP payload: 446
1336846562480: mux: Inside mux Packet.CLIENT_REQUEST
1336846562845: Received UDP payload: 642
1336846562849: mux: Inside mux Packet.CLIENT_REQUEST
1336846562915: Received UDP payload: 1006
1336846562924: mux: GOT CSM_Msg
1336846562925: forwarding disabled, not forwarding packets
1336846562935: Received UDP payload: 446
1336846562938: mux: Inside Packet.SERVER_REPLY
1336846562939: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846563005: Received UDP payload: 3734
1336846563007: forwarding disabled, not forwarding packets
1336846563007: mux: GOT CSM_Msg
1336846563057: Received UDP payload: 3387
1336846563059: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846563059: mux: Inside Packet.SERVER_REPLY
1336846563081: Received UDP payload: 446
1336846563083: mux: Inside mux Packet.CLIENT_REQUEST
1336846564127: Received UDP payload: 446
1336846565096: Received UDP payload: 446
1336846565422: Received UDP payload: 446
1336846565865: Received UDP payload: 446
1336846566197: inside sendPacket(Packet p)
1336846566207: Sending UDP payload: 446
1336846567445: Received UDP payload: 446
1336846569139: Received UDP payload: 446
1336846570107: Received UDP payload: 446
1336846570428: Received UDP payload: 446
1336846570567: Received UDP payload: 642
1336846570572: mux: Inside mux Packet.CLIENT_REQUEST
1336846570609: Received UDP payload: 1006
1336846570617: forwarding disabled, not forwarding packets
1336846570617: mux: GOT CSM_Msg
1336846570627: Received UDP payload: 446
1336846570628: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846570628: mux: Inside Packet.SERVER_REPLY
1336846570691: Received UDP payload: 3777
1336846570693: forwarding disabled, not forwarding packets
1336846570693: mux: GOT CSM_Msg
1336846570743: Received UDP payload: 3430
1336846570745: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846570745: mux: Inside Packet.SERVER_REPLY
1336846570766: Received UDP payload: 446
1336846570767: mux: Inside mux Packet.CLIENT_REQUEST
1336846570793: Received UDP payload: 446
1336846571209: inside sendPacket(Packet p)
1336846571212: Sending UDP payload: 446
1336846571944: Received UDP payload: 446
1336846572011: Received UDP payload: 1006
1336846572018: forwarding disabled, not forwarding packets
1336846572018: mux: GOT CSM_Msg
1336846572099: Received UDP payload: 3777
1336846572106: forwarding disabled, not forwarding packets
1336846572106: mux: GOT CSM_Msg
1336846574126: areButtonsEnabled --> false
1336846574126: areButtonsEnabled --> false 
1336846574126: canPressButton = TRUE
1336846574126: get picture disableButtonsR
1336846574141: Received UDP payload: 446
1336846574142: one more getNum: 12
1336846574143: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846574143: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=11 getBad=0 getTimedout=0 getPercent=91%
1336846574144: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002027 Client in region: 1 Client nodID: 5002
1336846574144: change local requestCounter to 27
1336846574175: ----------------------------
1336846574176: I'm a leader, my requesting photos packet going to mux directly
1336846574176: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846574176: got new request, requestCounter = 5002027
1336846574176: inside handleClientRequest. Originator leader of region 1
1336846574176: inside sendRequestPacketRepeatingRunnable for requestCount = 5002027
1336846574176: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846574176: mux: Inside mux Packet.CLIENT_REQUEST
1336846574177: Sending to region: 5
1336846574178: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(5,0)
1336846574178: Make FirstLeg Ack regardless of new or already-processed requests
1336846574178: Note down new request by adding requestCounter=5002027 to HashMap processedRequests
1336846574178: Sending PROC_REQUEST 11:2 (1,0)->(5,0)
1336846574178: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846574179: mux: I got a CSM packet at a leader 
1336846574180: Sending UDP payload: 1006
1336846574181: forwarding disabled, not forwarding packets
1336846574182: --- Finished one round of sending REQUEST Packet ---------
1336846574222: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846574266: Received UDP payload: 3777
1336846574268: mux: GOT CSM_Msg
1336846574269: DSM layer: Going to and from remote region took latency = 92
1336846574269: DSM layer: orig leader sent packet at 1336846574177 ~ received reply from remote leader at 1336846574269
1336846574269: Received PROC_REPLY 11:2 (5,0)->(1,0), handing to UserApp
1336846574269: inside handleDSMReply. Now back in originator leader of region 1
1336846574270: =======================
1336846574270: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846574270: inside sendReplies of replyCount = 500202700
1336846574270: leader client reply has replyCounter: 500202700
1336846574270: reply packet contains the newest photo/success info from the remote region
1336846574271: === Finished one round of sending REPLY Packet =======
1336846574271: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846574271: Leader about to send REPLY packet, number: 500202700 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846574271: inside sendReplyRepeatingRunnable for replyCount = 500202700
1336846574282: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846574282: Inside _enableButtons
1336846574282: disabling progressdialog due to successful new photo get
1336846574283: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002028 Client in region: (1,0) Client nodID: 5002
1336846574283: areButtonsEnabled --> true
1336846574283: inside finalLegAck: change requestCounter to 28
1336846574283: send final leg ack regardless of new or already-processed reply
1336846574284: I'm a leader client, my final_leg packet going to mux directly
1336846574284: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500202700
1336846574284: Yay the last leg succeeded. Removing reply runnables ...
1336846574284: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500202700
1336846574284: got new request, requestCounter = 5002028
1336846574284: inside handleClientRequest. Originator leader of region 1
1336846574284: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846574284: mux: Inside mux Packet.CLIENT_REQUEST
1336846574285: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500202700
1336846574285: do not send ack for received final_leg_ack
1336846574285: new client_show_remotephoto reply with replyCounter 500202700
1336846574286: note down new reply by adding replyCounter=500202700 to HashMap processedReplies
1336846574287: leader download remote photo latency = 106
1336846574288: = leader download start 1336846574176 ~ stop 1336846574282
1336846574289: one more getGood: 12
1336846574291: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846574292: adding get latency: 106
1336846574293: Success! Client getting photo from remote region, showing photo...
1336846574294: Remote photo's length: 2749
1336846575106: Received UDP payload: 446
1336846575439: Received UDP payload: 446
1336846575479: Received UDP payload: 642
1336846575489: inside handleClientRequest. Originator leader of region 1
1336846575489: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846575489: mux: Inside mux Packet.CLIENT_REQUEST
1336846575490: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846575490: got new request, requestCounter = 5022027
1336846575492: Sending to region: 5
1336846575494: Sending PROC_REQUEST 11:3 (1,0)->(5,0)
1336846575505: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(5,0)
1336846575506: Make FirstLeg Ack regardless of new or already-processed requests
1336846575506: Note down new request by adding requestCounter=5022027 to HashMap processedRequests
1336846575507: The leader sending a First Leg ack to originator client (which id = 5022)
1336846575507: inside sendPacket(Packet p)
1336846575508: mux: I got a CSM packet at a leader 
1336846575511: Sending UDP payload: 1006
1336846575526: forwarding disabled, not forwarding packets
1336846575531: Sending UDP payload: 446
1336846575597: Received UDP payload: 3777
1336846575600: DSM layer: Going to and from remote region took latency = 107
1336846575600: DSM layer: orig leader sent packet at 1336846575493 ~ received reply from remote leader at 1336846575600
1336846575600: Received PROC_REPLY 11:3 (5,0)->(1,0), handing to UserApp
1336846575600: inside handleDSMReply. Now back in originator leader of region 1
1336846575600: mux: GOT CSM_Msg
1336846575601: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846575601: inside sendReplies of replyCount = 502202700
1336846575601: leader client reply has replyCounter: 502202700
1336846575601: reply packet contains the newest photo/success info from the remote region
1336846575602: === Finished one round of sending REPLY Packet =======
1336846575602: =======================
1336846575602: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846575602: Leader about to send REPLY packet, number: 502202700 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846575602: inside sendPacket(Packet p)
1336846575602: inside sendReplyRepeatingRunnable for replyCount = 502202700
1336846575604: Sending UDP payload: 3430
1336846575680: Received UDP payload: 446
1336846575681: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502202700
1336846575681: got new request, requestCounter = 5022028
1336846575681: inside handleClientRequest. Originator leader of region 1
1336846575681: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846575681: mux: Inside mux Packet.CLIENT_REQUEST
1336846575682: Yay the last leg succeeded. Removing reply runnables ...
1336846575682: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502202700
1336846575682: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502202700
1336846575682: do not send ack for received final_leg_ack
1336846575793: Received UDP payload: 446
1336846576210: inside sendPacket(Packet p)
1336846576212: Sending UDP payload: 446
1336846576941: Received UDP payload: 446
1336846578777: Received UDP payload: 1006
1336846578784: forwarding disabled, not forwarding packets
1336846578784: mux: GOT CSM_Msg
1336846578835: Received UDP payload: 1006
1336846578841: mux: GOT CSM_Msg
1336846578842: forwarding disabled, not forwarding packets
1336846578947: Received UDP payload: 3777
1336846578951: forwarding disabled, not forwarding packets
1336846578951: mux: GOT CSM_Msg
1336846579231: Received UDP payload: 446
1336846579485: Received UDP payload: 1006
1336846579492: forwarding disabled, not forwarding packets
1336846579492: mux: GOT CSM_Msg
1336846579566: Received UDP payload: 3777
1336846579569: forwarding disabled, not forwarding packets
1336846579569: mux: GOT CSM_Msg
1336846580097: Received UDP payload: 446
1336846580446: Received UDP payload: 446
1336846580803: Received UDP payload: 446
1336846581211: inside sendPacket(Packet p)
1336846581219: Sending UDP payload: 446
1336846581978: Received UDP payload: 446
1336846583461: Received UDP payload: 642
1336846583467: mux: Inside mux Packet.CLIENT_REQUEST
1336846583506: Received UDP payload: 1006
1336846583513: forwarding disabled, not forwarding packets
1336846583513: mux: GOT CSM_Msg
1336846583534: Received UDP payload: 446
1336846583535: mux: Inside Packet.SERVER_REPLY
1336846583536: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846583579: Received UDP payload: 3777
1336846583581: forwarding disabled, not forwarding packets
1336846583581: mux: GOT CSM_Msg
1336846583620: Received UDP payload: 3430
1336846583621: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846583621: mux: Inside Packet.SERVER_REPLY
1336846583634: Received UDP payload: 446
1336846583635: mux: Inside mux Packet.CLIENT_REQUEST
1336846584148: Received UDP payload: 446
1336846584500: Received UDP payload: 1006
1336846584510: forwarding disabled, not forwarding packets
1336846584510: mux: GOT CSM_Msg
1336846584608: Received UDP payload: 3777
1336846584622: forwarding disabled, not forwarding packets
1336846584622: mux: GOT CSM_Msg
1336846584882: Received UDP payload: 1006
1336846584890: mux: GOT CSM_Msg
1336846584891: forwarding disabled, not forwarding packets
1336846584943: Received UDP payload: 3777
1336846584950: forwarding disabled, not forwarding packets
1336846584950: mux: GOT CSM_Msg
1336846585098: Received UDP payload: 446
1336846585453: Received UDP payload: 446
1336846585807: Received UDP payload: 446
1336846586221: inside sendPacket(Packet p)
1336846586223: Sending UDP payload: 446
1336846586962: Received UDP payload: 446
1336846589149: Received UDP payload: 446
1336846590111: Received UDP payload: 446
1336846590123: Received UDP payload: 642
1336846590128: mux: Inside mux Packet.CLIENT_REQUEST
1336846590166: Received UDP payload: 1006
1336846590176: forwarding disabled, not forwarding packets
1336846590176: mux: GOT CSM_Msg
1336846590177: Received UDP payload: 446
1336846590178: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846590178: mux: Inside Packet.SERVER_REPLY
1336846590215: Received UDP payload: 3777
1336846590217: forwarding disabled, not forwarding packets
1336846590217: mux: GOT CSM_Msg
1336846590263: Received UDP payload: 3430
1336846590264: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846590264: mux: Inside Packet.SERVER_REPLY
1336846590306: Received UDP payload: 446
1336846590307: mux: Inside mux Packet.CLIENT_REQUEST
1336846590448: Received UDP payload: 446
1336846590817: Received UDP payload: 446
1336846591224: inside sendPacket(Packet p)
1336846591228: Sending UDP payload: 446
1336846591975: Received UDP payload: 446
1336846594150: Received UDP payload: 446
1336846595106: Received UDP payload: 446
1336846595455: Received UDP payload: 446
1336846595877: Received UDP payload: 446
1336846596230: inside sendPacket(Packet p)
1336846596247: Sending UDP payload: 446
1336846597009: Received UDP payload: 446
1336846599198: Received UDP payload: 446
1336846600125: Received UDP payload: 446
1336846600491: Received UDP payload: 446
1336846600827: Received UDP payload: 446
1336846601250: inside sendPacket(Packet p)
1336846601257: Sending UDP payload: 446
1336846601969: Received UDP payload: 446
1336846604155: Received UDP payload: 446
1336846605129: Received UDP payload: 446
1336846605480: Received UDP payload: 446
1336846605837: Received UDP payload: 446
1336846606261: inside sendPacket(Packet p)
1336846606264: Sending UDP payload: 446
1336846606971: Received UDP payload: 446
1336846607657: areButtonsEnabled --> false
1336846607657: canPressButton = TRUE
1336846607657: disabling buttons ...
1336846607657: took picture disableButtonsR
1336846607658: areButtonsEnabled --> false
1336846607683: one more takeNum: 3
1336846607684: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846607685: Clicked take picture button ..
1336846609007: inside HandlePictureStorage onPictureTaken()
1336846609007: one more takeCamGood: 3
1336846609008: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846609182: Received UDP payload: 446
1336846609495: Picture successfully taken, ORIG BYTE LENGTH = 2231949
1336846609862: Our new height x width: 306 x 408
1336846609863: Show photo from handle my camera take
1336846609864: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846609864: change local requestCounter to 29
1336846609893: BYTE SIZE AFTER COMPRESSION: 2748
1336846609895: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5002029 Client in region: 1 Client nodID: 5002
1336846609951: ----------------------------
1336846609951: I'm a leader, my requesting photos packet going to mux directly
1336846609951: inside sendRequestPacketRepeatingRunnable for requestCount = 5002029
1336846609952: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846609952: got new request, requestCounter = 5002029
1336846609952: inside handleClientRequest. Originator leader of region 1
1336846609952: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846609952: mux: Inside mux Packet.CLIENT_REQUEST
1336846609953: Dispatching Atom PROC_REQUEST 10:8 (1,0)->(1,0)
1336846609953: Make FirstLeg Ack regardless of new or already-processed requests
1336846609953: Note down new request by adding requestCounter=5002029 to HashMap processedRequests
1336846609953: Sending PROC_REQUEST 10:8 (1,0)->(1,0)
1336846609953: mux: I got a CSM packet at a leader 
1336846609953: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846609955: Sending UDP payload: 3776
1336846609957: inside handleDSMRequest. At requests's remote leader of region 1
1336846609957: removed replies before id 8 from sentReplies of size 0
1336846609958: Inside UPLOAD_PHOTO!!
1336846609959: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846609959: my_gpinfo.isSuccess is now (should be true): true
1336846609961: Dispatching Atom PROC_REPLY 10:8 (1,0)->(1,0)
1336846609961: Received PROC_REQUEST 10:8 (1,0)->(1,0), replying PROC_REPLY 10:8 (1,0)->(1,0)
1336846609961: mux: I got a CSM packet at a leader 
1336846609963: --- Finished one round of sending REQUEST Packet ---------
1336846609971: Sending UDP payload: 1006
1336846609973: Received PROC_REPLY 10:8 (1,0)->(1,0), handing to UserApp
1336846609973: inside handleDSMReply. Now back in originator leader of region 1
1336846609974: DSM layer: Going to and from remote region took latency = 21
1336846609974: DSM layer: orig leader sent packet at 1336846609952 ~ received reply from remote leader at 1336846609973
1336846609975: =======================
1336846609975: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846609975: inside sendReplies of replyCount = 500202900
1336846609975: inside sendReplyRepeatingRunnable for replyCount = 500202900
1336846609975: leader client reply has replyCounter: 500202900
1336846609975: reply packet contains the success info for UPLOAD_PHOTO
1336846609976: === Finished one round of sending REPLY Packet =======
1336846609976: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846609976: Leader about to send REPLY packet, number: 500202900 type: 16 Leader in region: (1,0) to Client nodID: 5002
1336846609987: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846609988: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846609989: I'm a leader and I successfully saved my client's new photo
1336846609990: now showing in UI the new photo I just saved ... 
1336846609990: the photo length: 2748
1336846610023: end of server show photo aside %%%%%%%%%
1336846610025: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846610025: Inside _enableButtons
1336846610025: areButtonsEnabled --> true
1336846610025: disabling progressdialog due to successful new photo upload
1336846610026: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002030 Client in region: (1,0) Client nodID: 5002
1336846610026: I'm a leader client, my final_leg packet going to mux directly
1336846610026: inside finalLegAck: change requestCounter to 30
1336846610026: send final leg ack regardless of new or already-processed reply
1336846610027: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500202900
1336846610027: Yay the last leg succeeded. Removing reply runnables ...
1336846610027: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500202900
1336846610027: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500202900
1336846610027: do not send ack for received final_leg_ack
1336846610027: got new request, requestCounter = 5002030
1336846610027: inside handleClientRequest. Originator leader of region 1
1336846610027: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846610027: mux: Inside mux Packet.CLIENT_REQUEST
1336846610028: = leader upload start 1336846609952 ~ stop 1336846610025
1336846610028: leader upload new photo latency = 73
1336846610028: new client_upload_photo_ack reply with replyCounter 500202900
1336846610028: note down new reply by adding replyCounter=500202900 to HashMap processedReplies
1336846610029: one more takeGoodSave: 3
1336846610030: adding take latency: 73
1336846610030: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846610031: SUCCESS Client now knows saving photo on its leader succeeded
1336846610107: Received UDP payload: 446
1336846610130: Received UDP payload: 3474
1336846610132: mux: Inside mux Packet.CLIENT_REQUEST
1336846610190: Received UDP payload: 3474
1336846610192: mux: Inside mux Packet.CLIENT_REQUEST
1336846610252: Received UDP payload: 3474
1336846610254: mux: Inside mux Packet.CLIENT_REQUEST
1336846610260: Received UDP payload: 3838
1336846610262: forwarding disabled, not forwarding packets
1336846610262: mux: GOT CSM_Msg
1336846610310: Received UDP payload: 3474
1336846610312: mux: Inside mux Packet.CLIENT_REQUEST
1336846610322: Received UDP payload: 1006
1336846610325: forwarding disabled, not forwarding packets
1336846610325: mux: GOT CSM_Msg
1336846610339: Received UDP payload: 659
1336846610340: mux: Inside Packet.SERVER_REPLY
1336846610341: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846610349: Received UDP payload: 446
1336846610350: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846610350: mux: Inside Packet.SERVER_REPLY
1336846610355: Received UDP payload: 446
1336846610356: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846610356: mux: Inside Packet.SERVER_REPLY
1336846610373: Received UDP payload: 446
1336846610375: mux: Inside mux Packet.CLIENT_REQUEST
1336846610466: Received UDP payload: 446
1336846610838: Received UDP payload: 446
1336846611262: inside sendPacket(Packet p)
1336846611265: Sending UDP payload: 446
1336846611979: Received UDP payload: 446
1336846612902: Received UDP payload: 3412
1336846612908: mux: Inside mux Packet.CLIENT_REQUEST
1336846612909: inside handleClientRequest. Originator leader of region 1
1336846612909: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846612910: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846612910: got new request, requestCounter = 5022029
1336846612911: Sending PROC_REQUEST 10:9 (1,0)->(1,0)
1336846612912: Dispatching Atom PROC_REQUEST 10:9 (1,0)->(1,0)
1336846612913: Make FirstLeg Ack regardless of new or already-processed requests
1336846612913: Note down new request by adding requestCounter=5022029 to HashMap processedRequests
1336846612913: The leader sending a First Leg ack to originator client (which id = 5022)
1336846612914: inside sendPacket(Packet p)
1336846612945: mux: I got a CSM packet at a leader 
1336846612955: Sending UDP payload: 3776
1336846612960: inside handleDSMRequest. At requests's remote leader of region 1
1336846612960: removed replies before id 9 from sentReplies of size 0
1336846612961: Inside UPLOAD_PHOTO!!
1336846612962: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846612962: my_gpinfo.isSuccess is now (should be true): true
1336846612964: Dispatching Atom PROC_REPLY 10:9 (1,0)->(1,0)
1336846612964: Received PROC_REQUEST 10:9 (1,0)->(1,0), replying PROC_REPLY 10:9 (1,0)->(1,0)
1336846612967: Sending UDP payload: 446
1336846612975: mux: I got a CSM packet at a leader 
1336846612976: Sending UDP payload: 1006
1336846612977: DSM layer: Going to and from remote region took latency = 67
1336846612977: DSM layer: orig leader sent packet at 1336846612910 ~ received reply from remote leader at 1336846612977
1336846612977: Received PROC_REPLY 10:9 (1,0)->(1,0), handing to UserApp
1336846612977: inside handleDSMReply. Now back in originator leader of region 1
1336846612978: =======================
1336846612978: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846612978: inside sendReplies of replyCount = 502202900
1336846612978: leader client reply has replyCounter: 502202900
1336846612978: reply packet contains the success info for UPLOAD_PHOTO
1336846612979: === Finished one round of sending REPLY Packet =======
1336846612979: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846612979: Leader about to send REPLY packet, number: 502202900 type: 16 Leader in region: (1,0) to Client nodID: 5022
1336846612979: inside sendPacket(Packet p)
1336846612979: inside sendReplyRepeatingRunnable for replyCount = 502202900
1336846612980: Sending UDP payload: 659
1336846613012: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846613013: I'm a leader and I successfully saved my client's new photo
1336846613014: now showing in UI the new photo I just saved ... 
1336846613014: the photo length: 2748
1336846613047: Received UDP payload: 446
1336846613048: mux: Inside mux Packet.CLIENT_REQUEST
1336846613049: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502202900
1336846613049: Yay the last leg succeeded. Removing reply runnables ...
1336846613049: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502202900
1336846613049: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502202900
1336846613049: do not send ack for received final_leg_ack
1336846613049: got new request, requestCounter = 5022030
1336846613049: inside handleClientRequest. Originator leader of region 1
1336846613049: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846613054: end of server show photo aside %%%%%%%%%
1336846614149: Received UDP payload: 446
1336846615110: Received UDP payload: 446
1336846615471: Received UDP payload: 446
1336846615845: Received UDP payload: 446
1336846616268: inside sendPacket(Packet p)
1336846616271: Sending UDP payload: 446
1336846616361: Received UDP payload: 3748
1336846616371: forwarding disabled, not forwarding packets
1336846616371: mux: GOT CSM_Msg
1336846616376: Received UDP payload: 1006
1336846616391: forwarding disabled, not forwarding packets
1336846616391: mux: GOT CSM_Msg
1336846616970: Received UDP payload: 446
1336846619162: Received UDP payload: 446
1336846620156: Received UDP payload: 446
1336846620471: Received UDP payload: 446
1336846620847: Received UDP payload: 446
1336846621119: leader to cloud hearbeat...
1336846621546: inside sendPacket(Packet p)
1336846621556: Sending UDP payload: 446
1336846621983: Received UDP payload: 446
1336846624246: Received UDP payload: 446
1336846625112: Received UDP payload: 446
1336846625481: Received UDP payload: 446
1336846625876: Received UDP payload: 446
1336846626359: Received UDP payload: 3734
1336846626367: mux: GOT CSM_Msg
1336846626368: forwarding disabled, not forwarding packets
1336846626386: Received UDP payload: 1006
1336846626394: forwarding disabled, not forwarding packets
1336846626394: mux: GOT CSM_Msg
1336846626558: inside sendPacket(Packet p)
1336846626559: Sending UDP payload: 446
1336846626705: Received UDP payload: 1006
1336846626709: forwarding disabled, not forwarding packets
1336846626709: mux: GOT CSM_Msg
1336846626992: Received UDP payload: 446
1336846629177: Received UDP payload: 446
1336846630141: Received UDP payload: 446
1336846630484: Received UDP payload: 446
1336846630886: Received UDP payload: 446
1336846631558: inside sendPacket(Packet p)
1336846631566: Sending UDP payload: 446
1336846632178: Received UDP payload: 3791
1336846632189: mux: GOT CSM_Msg
1336846632190: forwarding disabled, not forwarding packets
1336846632195: Received UDP payload: 1006
1336846632217: mux: GOT CSM_Msg
1336846632218: forwarding disabled, not forwarding packets
1336846632356: Received UDP payload: 446
1336846633300: Received UDP payload: 3370
1336846633307: mux: Inside mux Packet.CLIENT_REQUEST
1336846633400: Received UDP payload: 3734
1336846633410: mux: GOT CSM_Msg
1336846633411: forwarding disabled, not forwarding packets
1336846633412: Received UDP payload: 446
1336846633415: mux: Inside Packet.SERVER_REPLY
1336846633417: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846633425: Received UDP payload: 1006
1336846633438: mux: GOT CSM_Msg
1336846633439: forwarding disabled, not forwarding packets
1336846633440: Received UDP payload: 659
1336846633444: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846633444: mux: Inside Packet.SERVER_REPLY
1336846633457: Received UDP payload: 446
1336846633461: mux: Inside mux Packet.CLIENT_REQUEST
1336846634172: Received UDP payload: 3447
1336846634177: mux: Inside mux Packet.CLIENT_REQUEST
1336846634185: Received UDP payload: 446
1336846634256: Received UDP payload: 3811
1336846634263: forwarding disabled, not forwarding packets
1336846634263: mux: GOT CSM_Msg
1336846634271: Received UDP payload: 446
1336846634274: mux: Inside Packet.SERVER_REPLY
1336846634275: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846634277: Received UDP payload: 1006
1336846634296: forwarding disabled, not forwarding packets
1336846634296: mux: GOT CSM_Msg
1336846634297: Received UDP payload: 659
1336846634302: mux: Inside Packet.SERVER_REPLY
1336846634303: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846634304: Received UDP payload: 446
1336846634308: mux: Inside mux Packet.CLIENT_REQUEST
1336846635126: Received UDP payload: 446
1336846635490: Received UDP payload: 446
1336846636128: Received UDP payload: 3768
1336846636136: forwarding disabled, not forwarding packets
1336846636136: mux: GOT CSM_Msg
1336846636155: Received UDP payload: 1006
1336846636162: forwarding disabled, not forwarding packets
1336846636162: mux: GOT CSM_Msg
1336846636196: Received UDP payload: 446
1336846636571: inside sendPacket(Packet p)
1336846636573: Sending UDP payload: 446
1336846637313: Received UDP payload: 446
1336846639254: Received UDP payload: 446
1336846640118: Received UDP payload: 446
1336846640503: Received UDP payload: 446
1336846641199: Received UDP payload: 446
1336846641572: inside sendPacket(Packet p)
1336846641587: Sending UDP payload: 446
1336846642315: Received UDP payload: 446
1336846644195: Received UDP payload: 446
1336846645498: Received UDP payload: 446
1336846645525: Received UDP payload: 446
1336846646262: Received UDP payload: 446
1336846646590: inside sendPacket(Packet p)
1336846646602: Sending UDP payload: 446
1336846647375: Received UDP payload: 446
1336846649253: Received UDP payload: 446
1336846650499: Received UDP payload: 446
1336846650521: Received UDP payload: 446
1336846651200: Received UDP payload: 446
1336846651604: inside sendPacket(Packet p)
1336846651606: Sending UDP payload: 446
1336846652329: Received UDP payload: 446
1336846653058: Received UDP payload: 642
1336846653062: inside handleClientRequest. Originator leader of region 1
1336846653062: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846653062: mux: Inside mux Packet.CLIENT_REQUEST
1336846653063: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846653063: got new request, requestCounter = 5022031
1336846653075: Sending to region: 0
1336846653077: Sending PROC_REQUEST 11:4 (1,0)->(0,0)
1336846653078: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(0,0)
1336846653078: Note down new request by adding requestCounter=5022031 to HashMap processedRequests
1336846653079: Make FirstLeg Ack regardless of new or already-processed requests
1336846653079: The leader sending a First Leg ack to originator client (which id = 5022)
1336846653079: inside sendPacket(Packet p)
1336846653080: mux: I got a CSM packet at a leader 
1336846653083: Sending UDP payload: 1006
1336846653094: forwarding disabled, not forwarding packets
1336846653097: Sending UDP payload: 446
1336846653165: Received UDP payload: 3748
1336846653167: mux: GOT CSM_Msg
1336846653168: DSM layer: Going to and from remote region took latency = 92
1336846653168: DSM layer: orig leader sent packet at 1336846653076 ~ received reply from remote leader at 1336846653168
1336846653168: Received PROC_REPLY 11:4 (0,0)->(1,0), handing to UserApp
1336846653168: inside handleDSMReply. Now back in originator leader of region 1
1336846653169: =======================
1336846653169: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846653169: inside sendReplies of replyCount = 502203100
1336846653169: inside sendReplyRepeatingRunnable for replyCount = 502203100
1336846653169: leader client reply has replyCounter: 502203100
1336846653169: reply packet contains the newest photo/success info from the remote region
1336846653170: === Finished one round of sending REPLY Packet =======
1336846653170: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846653170: Leader about to send REPLY packet, number: 502203100 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846653170: inside sendPacket(Packet p)
1336846653171: Sending UDP payload: 3401
1336846653226: Received UDP payload: 446
1336846653227: mux: Inside mux Packet.CLIENT_REQUEST
1336846653228: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502203100
1336846653228: Yay the last leg succeeded. Removing reply runnables ...
1336846653228: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502203100
1336846653228: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502203100
1336846653228: do not send ack for received final_leg_ack
1336846653228: got new request, requestCounter = 5022032
1336846653228: inside handleClientRequest. Originator leader of region 1
1336846653228: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846654058: areButtonsEnabled --> false 
1336846654058: canPressButton = TRUE
1336846654059: areButtonsEnabled --> false
1336846654059: get picture disableButtonsR
1336846654119: one more getNum: 13
1336846654120: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846654120: change local requestCounter to 31
1336846654120: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=12 getBad=0 getTimedout=0 getPercent=92%
1336846654121: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002031 Client in region: 1 Client nodID: 5002
1336846654149: ----------------------------
1336846654149: I'm a leader, my requesting photos packet going to mux directly
1336846654149: inside sendRequestPacketRepeatingRunnable for requestCount = 5002031
1336846654150: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846654150: got new request, requestCounter = 5002031
1336846654150: inside handleClientRequest. Originator leader of region 1
1336846654150: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846654150: mux: Inside mux Packet.CLIENT_REQUEST
1336846654151: Sending PROC_REQUEST 11:5 (1,0)->(0,0)
1336846654151: Sending to region: 0
1336846654152: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(0,0)
1336846654152: Make FirstLeg Ack regardless of new or already-processed requests
1336846654152: Note down new request by adding requestCounter=5002031 to HashMap processedRequests
1336846654152: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846654153: mux: I got a CSM packet at a leader 
1336846654154: Sending UDP payload: 1006
1336846654155: --- Finished one round of sending REQUEST Packet ---------
1336846654155: forwarding disabled, not forwarding packets
1336846654228: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846654255: Received UDP payload: 3748
1336846654257: Received PROC_REPLY 11:5 (0,0)->(1,0), handing to UserApp
1336846654257: mux: GOT CSM_Msg
1336846654258: DSM layer: Going to and from remote region took latency = 107
1336846654258: DSM layer: orig leader sent packet at 1336846654151 ~ received reply from remote leader at 1336846654258
1336846654258: inside handleDSMReply. Now back in originator leader of region 1
1336846654259: =======================
1336846654259: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846654259: inside sendReplies of replyCount = 500203100
1336846654259: inside sendReplyRepeatingRunnable for replyCount = 500203100
1336846654259: leader client reply has replyCounter: 500203100
1336846654259: reply packet contains the newest photo/success info from the remote region
1336846654260: === Finished one round of sending REPLY Packet =======
1336846654260: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846654260: Leader about to send REPLY packet, number: 500203100 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846654263: Received UDP payload: 446
1336846654303: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846654303: Inside _enableButtons
1336846654303: disabling progressdialog due to successful new photo get
1336846654304: areButtonsEnabled --> true
1336846654306: inside finalLegAck: change requestCounter to 32
1336846654306: send final leg ack regardless of new or already-processed reply
1336846654307: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002032 Client in region: (1,0) Client nodID: 5002
1336846654307: I'm a leader client, my final_leg packet going to mux directly
1336846654307: got new request, requestCounter = 5002032
1336846654307: inside handleClientRequest. Originator leader of region 1
1336846654307: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846654307: mux: Inside mux Packet.CLIENT_REQUEST
1336846654308: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500203100
1336846654308: Yay the last leg succeeded. Removing reply runnables ...
1336846654308: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500203100
1336846654308: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500203100
1336846654308: do not send ack for received final_leg_ack
1336846654308: new client_show_remotephoto reply with replyCounter 500203100
1336846654309: = leader download start 1336846654150 ~ stop 1336846654303
1336846654309: leader download remote photo latency = 153
1336846654309: note down new reply by adding replyCounter=500203100 to HashMap processedReplies
1336846654310: one more getGood: 13
1336846654311: Success! Client getting photo from remote region, showing photo...
1336846654311: adding get latency: 153
1336846654311: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=13 getBad=0 getTimedout=0 getPercent=100%
1336846654312: Remote photo's length: 2720
1336846654552: Received UDP payload: 642
1336846654554: mux: Inside mux Packet.CLIENT_REQUEST
1336846654592: Received UDP payload: 1006
1336846654594: forwarding disabled, not forwarding packets
1336846654594: mux: GOT CSM_Msg
1336846654621: Received UDP payload: 446
1336846654623: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846654623: mux: Inside Packet.SERVER_REPLY
1336846654666: Received UDP payload: 3748
1336846654668: forwarding disabled, not forwarding packets
1336846654668: mux: GOT CSM_Msg
1336846654708: Received UDP payload: 3401
1336846654710: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846654710: mux: Inside Packet.SERVER_REPLY
1336846654723: Received UDP payload: 446
1336846654725: mux: Inside mux Packet.CLIENT_REQUEST
1336846655507: Received UDP payload: 446
1336846655517: Received UDP payload: 446
1336846656241: Received UDP payload: 446
1336846656605: inside sendPacket(Packet p)
1336846656607: Sending UDP payload: 446
1336846657081: Received UDP payload: 1006
1336846657089: forwarding disabled, not forwarding packets
1336846657089: mux: GOT CSM_Msg
1336846657128: Received UDP payload: 3748
1336846657158: forwarding disabled, not forwarding packets
1336846657158: mux: GOT CSM_Msg
1336846657331: Received UDP payload: 446
1336846658489: Received UDP payload: 1006
1336846658498: forwarding disabled, not forwarding packets
1336846658498: mux: GOT CSM_Msg
1336846658574: Received UDP payload: 3748
1336846658576: forwarding disabled, not forwarding packets
1336846658576: mux: GOT CSM_Msg
1336846659216: Received UDP payload: 446
1336846660518: Received UDP payload: 446
1336846660536: Received UDP payload: 446
1336846661290: Received UDP payload: 446
1336846661606: inside sendPacket(Packet p)
1336846661609: Sending UDP payload: 446
1336846662350: Received UDP payload: 446
1336846664259: Received UDP payload: 446
1336846664507: Received UDP payload: 642
1336846664512: mux: Inside mux Packet.CLIENT_REQUEST
1336846664591: Received UDP payload: 1006
1336846664593: forwarding disabled, not forwarding packets
1336846664593: mux: GOT CSM_Msg
1336846664606: Received UDP payload: 446
1336846664608: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846664608: mux: Inside Packet.SERVER_REPLY
1336846664653: Received UDP payload: 3748
1336846664655: forwarding disabled, not forwarding packets
1336846664655: mux: GOT CSM_Msg
1336846664700: Received UDP payload: 3401
1336846664701: mux: Inside Packet.SERVER_REPLY
1336846664702: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846664727: Received UDP payload: 446
1336846664728: mux: Inside mux Packet.CLIENT_REQUEST
1336846665519: Received UDP payload: 446
1336846665526: Received UDP payload: 446
1336846665696: Received UDP payload: 1006
1336846665703: mux: GOT CSM_Msg
1336846665704: forwarding disabled, not forwarding packets
1336846665788: Received UDP payload: 3748
1336846665796: forwarding disabled, not forwarding packets
1336846665796: mux: GOT CSM_Msg
1336846666269: Received UDP payload: 446
1336846666607: inside sendPacket(Packet p)
1336846666609: Sending UDP payload: 446
1336846667369: Received UDP payload: 446
1336846669232: Received UDP payload: 446
1336846669813: Received UDP payload: 1006
1336846669821: forwarding disabled, not forwarding packets
1336846669821: mux: GOT CSM_Msg
1336846669888: Received UDP payload: 3748
1336846669896: forwarding disabled, not forwarding packets
1336846669896: mux: GOT CSM_Msg
1336846670520: Received UDP payload: 446
1336846670527: Received UDP payload: 446
1336846671275: Received UDP payload: 446
1336846671612: inside sendPacket(Packet p)
1336846671615: Sending UDP payload: 446
1336846672393: Received UDP payload: 446
1336846674255: Received UDP payload: 446
1336846675525: Received UDP payload: 446
1336846675532: Received UDP payload: 446
1336846676260: Received UDP payload: 446
1336846676613: inside sendPacket(Packet p)
1336846676621: Sending UDP payload: 446
1336846677397: Received UDP payload: 446
1336846677961: Received UDP payload: 1006
1336846677971: mux: GOT CSM_Msg
1336846677972: forwarding disabled, not forwarding packets
1336846678048: Received UDP payload: 3748
1336846678054: mux: GOT CSM_Msg
1336846678055: forwarding disabled, not forwarding packets
1336846679232: Received UDP payload: 446
1336846680535: Received UDP payload: 446
1336846680621: Received UDP payload: 642
1336846680624: mux: Inside mux Packet.CLIENT_REQUEST
1336846680668: Received UDP payload: 1006
1336846680672: forwarding disabled, not forwarding packets
1336846680672: mux: GOT CSM_Msg
1336846680673: Received UDP payload: 446
1336846680676: mux: Inside Packet.SERVER_REPLY
1336846680677: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846680758: Received UDP payload: 3748
1336846680768: mux: GOT CSM_Msg
1336846680769: forwarding disabled, not forwarding packets
1336846680829: Received UDP payload: 3401
1336846680833: mux: Inside Packet.SERVER_REPLY
1336846680834: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846680848: Received UDP payload: 446
1336846680852: mux: Inside mux Packet.CLIENT_REQUEST
1336846681255: Received UDP payload: 446
1336846681625: inside sendPacket(Packet p)
1336846681627: Sending UDP payload: 446
1336846682402: Received UDP payload: 446
1336846684285: Received UDP payload: 446
1336846685623: Received UDP payload: 446
1336846685694: Received UDP payload: 446
1336846686312: Received UDP payload: 446
1336846686625: inside sendPacket(Packet p)
1336846686628: Sending UDP payload: 446
1336846687401: Received UDP payload: 446
1336846688392: areButtonsEnabled --> false
1336846688392: areButtonsEnabled --> false 
1336846688392: canPressButton = TRUE
1336846688392: get picture disableButtonsR
1336846688411: one more getNum: 14
1336846688412: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846688412: change local requestCounter to 33
1336846688412: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=13 getBad=0 getTimedout=0 getPercent=92%
1336846688413: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002033 Client in region: 1 Client nodID: 5002
1336846688444: ----------------------------
1336846688445: I'm a leader, my requesting photos packet going to mux directly
1336846688445: inside sendRequestPacketRepeatingRunnable for requestCount = 5002033
1336846688445: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846688445: mux: Inside mux Packet.CLIENT_REQUEST
1336846688446: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846688446: Sending to region: 1
1336846688446: got new request, requestCounter = 5002033
1336846688446: inside handleClientRequest. Originator leader of region 1
1336846688447: Dispatching Atom PROC_REQUEST 11:10 (1,0)->(1,0)
1336846688447: Make FirstLeg Ack regardless of new or already-processed requests
1336846688447: Note down new request by adding requestCounter=5002033 to HashMap processedRequests
1336846688447: Sending PROC_REQUEST 11:10 (1,0)->(1,0)
1336846688447: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846688448: mux: I got a CSM packet at a leader 
1336846688450: Sending UDP payload: 1006
1336846688451: INSIDE SERVER_GET_PHOTO!!!
1336846688451: inside handleDSMRequest. At requests's remote leader of region 1
1336846688451: removed replies before id 10 from sentReplies of size 0
1336846688452:  1 self to self atomRequest
1336846688452: dst_region == src_region = 1
1336846688453: Received PROC_REQUEST 11:10 (1,0)->(1,0), replying PROC_REPLY 11:10 (1,0)->(1,0)
1336846688454: --- Finished one round of sending REQUEST Packet ---------
1336846688454: Dispatching Atom PROC_REPLY 11:10 (1,0)->(1,0)
1336846688454: mux: I got a CSM packet at a leader 
1336846688460: Sending UDP payload: 3776
1336846688462: DSM layer: Going to and from remote region took latency = 15
1336846688462: DSM layer: orig leader sent packet at 1336846688447 ~ received reply from remote leader at 1336846688462
1336846688462: Received PROC_REPLY 11:10 (1,0)->(1,0), handing to UserApp
1336846688462: inside handleDSMReply. Now back in originator leader of region 1
1336846688463: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846688463: leader client reply has replyCounter: 500203300
1336846688463: reply packet contains the newest photo/success info from the remote region
1336846688464: === Finished one round of sending REPLY Packet =======
1336846688464: =======================
1336846688464: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846688464: Leader about to send REPLY packet, number: 500203300 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846688464: inside sendReplies of replyCount = 500203300
1336846688464: inside sendReplyRepeatingRunnable for replyCount = 500203300
1336846688497: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846688499: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846688499: Inside _enableButtons
1336846688499: disabling progressdialog due to successful new photo get
1336846688500: areButtonsEnabled --> true
1336846688500: inside finalLegAck: change requestCounter to 34
1336846688500: send final leg ack regardless of new or already-processed reply
1336846688501: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002034 Client in region: (1,0) Client nodID: 5002
1336846688501: I'm a leader client, my final_leg packet going to mux directly
1336846688501: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500203300
1336846688501: got new request, requestCounter = 5002034
1336846688501: inside handleClientRequest. Originator leader of region 1
1336846688501: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846688501: mux: Inside mux Packet.CLIENT_REQUEST
1336846688502: Yay the last leg succeeded. Removing reply runnables ...
1336846688505: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500203300
1336846688505: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500203300
1336846688505: do not send ack for received final_leg_ack
1336846688506: new client_show_remotephoto reply with replyCounter 500203300
1336846688506: note down new reply by adding replyCounter=500203300 to HashMap processedReplies
1336846688507: = leader download start 1336846688445 ~ stop 1336846688499
1336846688507: leader download remote photo latency = 54
1336846688508: one more getGood: 14
1336846688508: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=14 getBad=0 getTimedout=0 getPercent=100%
1336846688509: Remote photo's length: 2748
1336846688509: Success! Client getting photo from remote region, showing photo...
1336846688509: adding get latency: 54
1336846689303: Received UDP payload: 446
1336846689735: Received UDP payload: 642
1336846689740: mux: Inside mux Packet.CLIENT_REQUEST
1336846689741: inside handleClientRequest. Originator leader of region 1
1336846689741: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846689742: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846689742: got new request, requestCounter = 5022033
1336846689745: Sending to region: 1
1336846689748: Sending PROC_REQUEST 11:11 (1,0)->(1,0)
1336846689750: Dispatching Atom PROC_REQUEST 11:11 (1,0)->(1,0)
1336846689750: Make FirstLeg Ack regardless of new or already-processed requests
1336846689750: Note down new request by adding requestCounter=5022033 to HashMap processedRequests
1336846689751: The leader sending a First Leg ack to originator client (which id = 5022)
1336846689751: inside sendPacket(Packet p)
1336846689752: mux: I got a CSM packet at a leader 
1336846689766: Sending UDP payload: 1006
1336846689768: removed replies before id 11 from sentReplies of size 0
1336846689769: inside handleDSMRequest. At requests's remote leader of region 1
1336846689771: INSIDE SERVER_GET_PHOTO!!!
1336846689784: dst_region == src_region = 1
1336846689787:  1 self to self atomRequest
1336846689788: Dispatching Atom PROC_REPLY 11:11 (1,0)->(1,0)
1336846689788: Received PROC_REQUEST 11:11 (1,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(1,0)
1336846689789: Sending UDP payload: 446
1336846689795: mux: I got a CSM packet at a leader 
1336846689796: Sending UDP payload: 3776
1336846689799: Received PROC_REPLY 11:11 (1,0)->(1,0), handing to UserApp
1336846689801: DSM layer: Going to and from remote region took latency = 56
1336846689801: DSM layer: orig leader sent packet at 1336846689745 ~ received reply from remote leader at 1336846689801
1336846689801: inside handleDSMReply. Now back in originator leader of region 1
1336846689802: =======================
1336846689802: Leader about to send REPLY packet, number: 502203300 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846689802: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846689802: inside sendReplies of replyCount = 502203300
1336846689802: inside sendReplyRepeatingRunnable for replyCount = 502203300
1336846689802: leader client reply has replyCounter: 502203300
1336846689802: reply packet contains the newest photo/success info from the remote region
1336846689803: === Finished one round of sending REPLY Packet =======
1336846689803: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846689803: inside sendPacket(Packet p)
1336846689804: Sending UDP payload: 3429
1336846689903: Received UDP payload: 446
1336846689905: got new request, requestCounter = 5022034
1336846689905: inside handleClientRequest. Originator leader of region 1
1336846689905: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846689905: mux: Inside mux Packet.CLIENT_REQUEST
1336846689906: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502203300
1336846689906: Yay the last leg succeeded. Removing reply runnables ...
1336846689906: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502203300
1336846689906: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502203300
1336846689906: do not send ack for received final_leg_ack
1336846690543: Received UDP payload: 446
1336846690565: Received UDP payload: 446
1336846691267: Received UDP payload: 446
1336846691626: inside sendPacket(Packet p)
1336846691629: Sending UDP payload: 446
1336846691644: Received UDP payload: 642
1336846691649: mux: Inside mux Packet.CLIENT_REQUEST
1336846691695: Received UDP payload: 1006
1336846691700: mux: GOT CSM_Msg
1336846691700: removed replies before id 4 from sentReplies of size 0
1336846691701: INSIDE SERVER_GET_PHOTO!!!
1336846691701: inside handleDSMRequest. At requests's remote leader of region 1
1336846691702: Received PROC_REQUEST 11:4 (0,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(0,0)
1336846691703: Dispatching Atom PROC_REPLY 11:4 (1,0)->(0,0)
1336846691703: mux: I got a CSM packet at a leader 
1336846691704: Sending UDP payload: 3776
1336846691705: forwarding disabled, not forwarding packets
1336846691710: Received UDP payload: 446
1336846691712: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846691712: mux: Inside Packet.SERVER_REPLY
1336846691808: Received UDP payload: 3429
1336846691810: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846691810: mux: Inside Packet.SERVER_REPLY
1336846691820: Received UDP payload: 446
1336846691822: mux: Inside mux Packet.CLIENT_REQUEST
1336846692416: Received UDP payload: 446
1336846694215: Received UDP payload: 1006
1336846694222: mux: GOT CSM_Msg
1336846694222: removed replies before id 5 from sentReplies of size 0
1336846694223: inside handleDSMRequest. At requests's remote leader of region 1
1336846694225: INSIDE SERVER_GET_PHOTO!!!
1336846694240: Received PROC_REQUEST 11:5 (0,0)->(1,0), replying PROC_REPLY 11:5 (1,0)->(0,0)
1336846694241: Received UDP payload: 446
1336846694259: Dispatching Atom PROC_REPLY 11:5 (1,0)->(0,0)
1336846694259: mux: I got a CSM packet at a leader 
1336846694260: Sending UDP payload: 3776
1336846694261: forwarding disabled, not forwarding packets
1336846695556: Received UDP payload: 446
1336846695563: Received UDP payload: 446
1336846696272: Received UDP payload: 446
1336846696627: inside sendPacket(Packet p)
1336846696636: Sending UDP payload: 446
1336846697404: Received UDP payload: 1006
1336846697413: mux: GOT CSM_Msg
1336846697414: removed replies before id 2 from sentReplies of size 0
1336846697415: inside handleDSMRequest. At requests's remote leader of region 1
1336846697430: INSIDE SERVER_GET_PHOTO!!!
1336846697436: Received PROC_REQUEST 11:2 (3,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(3,0)
1336846697444: Received UDP payload: 446
1336846697455: Dispatching Atom PROC_REPLY 11:2 (1,0)->(3,0)
1336846697457: mux: I got a CSM packet at a leader 
1336846697460: Sending UDP payload: 3776
1336846697476: forwarding disabled, not forwarding packets
1336846699250: Received UDP payload: 446
1336846700551: Received UDP payload: 446
1336846700566: Received UDP payload: 446
1336846701285: Received UDP payload: 446
1336846701638: inside sendPacket(Packet p)
1336846701640: Sending UDP payload: 446
1336846702430: Received UDP payload: 446
1336846702658: Received UDP payload: 642
1336846702662: mux: Inside mux Packet.CLIENT_REQUEST
1336846702701: Received UDP payload: 1006
1336846702709: mux: GOT CSM_Msg
1336846702709: removed replies before id 4 from sentReplies of size 0
1336846702710: inside handleDSMRequest. At requests's remote leader of region 1
1336846702713: INSIDE SERVER_GET_PHOTO!!!
1336846702718: Received PROC_REQUEST 11:4 (5,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(5,0)
1336846702719: Dispatching Atom PROC_REPLY 11:4 (1,0)->(5,0)
1336846702719: mux: I got a CSM packet at a leader 
1336846702722: Sending UDP payload: 3776
1336846702736: Received UDP payload: 446
1336846702739: forwarding disabled, not forwarding packets
1336846702740: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846702740: mux: Inside Packet.SERVER_REPLY
1336846702823: Received UDP payload: 3429
1336846702825: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846702825: mux: Inside Packet.SERVER_REPLY
1336846702837: Received UDP payload: 446
1336846702839: mux: Inside mux Packet.CLIENT_REQUEST
1336846703011: Received UDP payload: 1006
1336846703013: mux: GOT CSM_Msg
1336846703013: removed replies before id 2 from sentReplies of size 0
1336846703014: INSIDE SERVER_GET_PHOTO!!!
1336846703014: inside handleDSMRequest. At requests's remote leader of region 1
1336846703016: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1336846703016: Received PROC_REQUEST 11:2 (2,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1336846703017: mux: I got a CSM packet at a leader 
1336846703018: Sending UDP payload: 3776
1336846703020: forwarding disabled, not forwarding packets
1336846703729: Received UDP payload: 1006
1336846703737: mux: GOT CSM_Msg
1336846703737: removed replies before id 5 from sentReplies of size 0
1336846703738: inside handleDSMRequest. At requests's remote leader of region 1
1336846703739: INSIDE SERVER_GET_PHOTO!!!
1336846703755: Received PROC_REQUEST 11:5 (5,0)->(1,0), replying PROC_REPLY 11:5 (1,0)->(5,0)
1336846703756: Dispatching Atom PROC_REPLY 11:5 (1,0)->(5,0)
1336846703757: mux: I got a CSM packet at a leader 
1336846703761: Sending UDP payload: 3776
1336846703773: forwarding disabled, not forwarding packets
1336846704251: Received UDP payload: 446
1336846705566: Received UDP payload: 446
1336846705608: Received UDP payload: 446
1336846706291: Received UDP payload: 446
1336846706640: inside sendPacket(Packet p)
1336846706642: Sending UDP payload: 446
1336846707428: Received UDP payload: 446
1336846708936: Received UDP payload: 1006
1336846708942: mux: GOT CSM_Msg
1336846708943: inside handleDSMRequest. At requests's remote leader of region 1
1336846708943: removed replies before id 4 from sentReplies of size 0
1336846708946: INSIDE SERVER_GET_PHOTO!!!
1336846708950: Received PROC_REQUEST 11:4 (4,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(4,0)
1336846708951: Dispatching Atom PROC_REPLY 11:4 (1,0)->(4,0)
1336846708952: mux: I got a CSM packet at a leader 
1336846708977: Sending UDP payload: 3776
1336846708980: forwarding disabled, not forwarding packets
1336846709250: Received UDP payload: 446
1336846710337: Received UDP payload: 642
1336846710341: mux: Inside mux Packet.CLIENT_REQUEST
1336846710379: Received UDP payload: 1006
1336846710387: mux: GOT CSM_Msg
1336846710387: removed replies before id 5 from sentReplies of size 0
1336846710388: inside handleDSMRequest. At requests's remote leader of region 1
1336846710389: INSIDE SERVER_GET_PHOTO!!!
1336846710394: Received PROC_REQUEST 11:5 (4,0)->(1,0), replying PROC_REPLY 11:5 (1,0)->(4,0)
1336846710397: Dispatching Atom PROC_REPLY 11:5 (1,0)->(4,0)
1336846710397: Received UDP payload: 446
1336846710398: mux: I got a CSM packet at a leader 
1336846710399: Sending UDP payload: 3776
1336846710407: forwarding disabled, not forwarding packets
1336846710407: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846710407: mux: Inside Packet.SERVER_REPLY
1336846710490: Received UDP payload: 3429
1336846710492: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846710492: mux: Inside Packet.SERVER_REPLY
1336846710500: Received UDP payload: 446
1336846710501: mux: Inside mux Packet.CLIENT_REQUEST
1336846710564: Received UDP payload: 446
1336846710593: Received UDP payload: 446
1336846711295: Received UDP payload: 446
1336846711643: inside sendPacket(Packet p)
1336846711646: Sending UDP payload: 446
1336846712437: Received UDP payload: 446
1336846714258: Received UDP payload: 446
1336846715580: Received UDP payload: 446
1336846715645: Received UDP payload: 446
1336846716079: canPressButton = TRUE
1336846716080: areButtonsEnabled --> false 
1336846716081: areButtonsEnabled --> false
1336846716081: get picture disableButtonsR
1336846716123: one more getNum: 15
1336846716124: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846716124: change local requestCounter to 35
1336846716124: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=14 getBad=0 getTimedout=0 getPercent=93%
1336846716125: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002035 Client in region: 1 Client nodID: 5002
1336846716153: ----------------------------
1336846716154: inside sendRequestPacketRepeatingRunnable for requestCount = 5002035
1336846716159: I'm a leader, my requesting photos packet going to mux directly
1336846716159: mux: Inside mux Packet.CLIENT_REQUEST
1336846716160: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846716160: got new request, requestCounter = 5002035
1336846716160: inside handleClientRequest. Originator leader of region 1
1336846716160: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846716161: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(2,0)
1336846716161: Make FirstLeg Ack regardless of new or already-processed requests
1336846716161: Note down new request by adding requestCounter=5002035 to HashMap processedRequests
1336846716161: Sending PROC_REQUEST 11:4 (1,0)->(2,0)
1336846716161: Sending to region: 2
1336846716161: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846716162: mux: I got a CSM packet at a leader 
1336846716163: Sending UDP payload: 1006
1336846716163: forwarding disabled, not forwarding packets
1336846716164: --- Finished one round of sending REQUEST Packet ---------
1336846716200: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846716273: Received UDP payload: 3778
1336846716276: DSM layer: Going to and from remote region took latency = 115
1336846716276: Received PROC_REPLY 11:4 (2,0)->(1,0), handing to UserApp
1336846716276: inside handleDSMReply. Now back in originator leader of region 1
1336846716276: mux: GOT CSM_Msg
1336846716277: DSM layer: orig leader sent packet at 1336846716161 ~ received reply from remote leader at 1336846716276
1336846716277: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846716278: inside sendReplies of replyCount = 500203500
1336846716278: leader client reply has replyCounter: 500203500
1336846716278: reply packet contains the newest photo/success info from the remote region
1336846716282: =======================
1336846716283: === Finished one round of sending REPLY Packet =======
1336846716283: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846716283: Leader about to send REPLY packet, number: 500203500 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846716283: inside sendReplyRepeatingRunnable for replyCount = 500203500
1336846716297: Received UDP payload: 446
1336846716310: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846716310: disabling progressdialog due to successful new photo get
1336846716313: Inside _enableButtons
1336846716313: areButtonsEnabled --> true
1336846716313: inside finalLegAck: change requestCounter to 36
1336846716313: send final leg ack regardless of new or already-processed reply
1336846716314: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002036 Client in region: (1,0) Client nodID: 5002
1336846716314: I'm a leader client, my final_leg packet going to mux directly
1336846716314: got new request, requestCounter = 5002036
1336846716314: inside handleClientRequest. Originator leader of region 1
1336846716314: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846716314: mux: Inside mux Packet.CLIENT_REQUEST
1336846716315: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500203500
1336846716315: Yay the last leg succeeded. Removing reply runnables ...
1336846716315: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500203500
1336846716315: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500203500
1336846716315: do not send ack for received final_leg_ack
1336846716315: new client_show_remotephoto reply with replyCounter 500203500
1336846716316: = leader download start 1336846716159 ~ stop 1336846716310
1336846716316: leader download remote photo latency = 151
1336846716316: note down new reply by adding replyCounter=500203500 to HashMap processedReplies
1336846716323: one more getGood: 15
1336846716324: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=15 getBad=0 getTimedout=0 getPercent=100%
1336846716325: Success! Client getting photo from remote region, showing photo...
1336846716325: adding get latency: 151
1336846716326: Remote photo's length: 2750
1336846716644: inside sendPacket(Packet p)
1336846716645: Sending UDP payload: 446
1336846717417: Received UDP payload: 642
1336846717422: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846717422: mux: Inside mux Packet.CLIENT_REQUEST
1336846717423: got new request, requestCounter = 5022035
1336846717423: inside handleClientRequest. Originator leader of region 1
1336846717424: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846717428: Sending to region: 2
1336846717429: Sending PROC_REQUEST 11:5 (1,0)->(2,0)
1336846717431: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(2,0)
1336846717432: Make FirstLeg Ack regardless of new or already-processed requests
1336846717432: Note down new request by adding requestCounter=5022035 to HashMap processedRequests
1336846717432: The leader sending a First Leg ack to originator client (which id = 5022)
1336846717441: Received UDP payload: 446
1336846717445: inside sendPacket(Packet p)
1336846717446: mux: I got a CSM packet at a leader 
1336846717451: Sending UDP payload: 1006
1336846717463: forwarding disabled, not forwarding packets
1336846717468: Sending UDP payload: 446
1336846717537: Received UDP payload: 3778
1336846717546: mux: GOT CSM_Msg
1336846717547: Received PROC_REPLY 11:5 (2,0)->(1,0), handing to UserApp
1336846717548: DSM layer: Going to and from remote region took latency = 120
1336846717548: DSM layer: orig leader sent packet at 1336846717428 ~ received reply from remote leader at 1336846717548
1336846717548: inside handleDSMReply. Now back in originator leader of region 1
1336846717551: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846717551: leader client reply has replyCounter: 502203500
1336846717551: reply packet contains the newest photo/success info from the remote region
1336846717552: =======================
1336846717552: inside sendReplies of replyCount = 502203500
1336846717552: inside sendReplyRepeatingRunnable for replyCount = 502203500
1336846717553: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846717553: Leader about to send REPLY packet, number: 502203500 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846717554: === Finished one round of sending REPLY Packet =======
1336846717554: inside sendPacket(Packet p)
1336846717569: Sending UDP payload: 3431
1336846717646: Received UDP payload: 446
1336846717650: mux: Inside mux Packet.CLIENT_REQUEST
1336846717651: inside handleClientRequest. Originator leader of region 1
1336846717651: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846717652: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502203500
1336846717652: Yay the last leg succeeded. Removing reply runnables ...
1336846717652: got new request, requestCounter = 5022036
1336846717665: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502203500
1336846717666: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502203500
1336846717666: do not send ack for received final_leg_ack
1336846718849: Received UDP payload: 642
1336846718854: mux: Inside mux Packet.CLIENT_REQUEST
1336846718961: Received UDP payload: 1006
1336846718963: forwarding disabled, not forwarding packets
1336846718963: mux: GOT CSM_Msg
1336846718972: Received UDP payload: 446
1336846718974: mux: Inside Packet.SERVER_REPLY
1336846718975: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846719041: Received UDP payload: 3778
1336846719045: mux: GOT CSM_Msg
1336846719046: forwarding disabled, not forwarding packets
1336846719092: Received UDP payload: 3431
1336846719095: mux: Inside Packet.SERVER_REPLY
1336846719096: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846719105: Received UDP payload: 446
1336846719107: mux: Inside mux Packet.CLIENT_REQUEST
1336846719262: Received UDP payload: 446
1336846720217: Received UDP payload: 1006
1336846720224: forwarding disabled, not forwarding packets
1336846720224: mux: GOT CSM_Msg
1336846720609: Received UDP payload: 446
1336846720621: Received UDP payload: 446
1336846721015: Received UDP payload: 1006
1336846721023: forwarding disabled, not forwarding packets
1336846721023: mux: GOT CSM_Msg
1336846721090: Received UDP payload: 3778
1336846721092: mux: GOT CSM_Msg
1336846721093: forwarding disabled, not forwarding packets
1336846721298: Received UDP payload: 446
1336846721645: inside sendPacket(Packet p)
1336846721648: Sending UDP payload: 446
1336846722461: Received UDP payload: 446
1336846723626: Received UDP payload: 1006
1336846723629: forwarding disabled, not forwarding packets
1336846723629: mux: GOT CSM_Msg
1336846723765: Received UDP payload: 3778
1336846723768: forwarding disabled, not forwarding packets
1336846723768: mux: GOT CSM_Msg
1336846724286: Received UDP payload: 446
1336846725608: Received UDP payload: 446
1336846725618: Received UDP payload: 446
1336846726300: Received UDP payload: 446
1336846726646: inside sendPacket(Packet p)
1336846726649: Sending UDP payload: 446
1336846727499: Received UDP payload: 446
1336846728230: Received UDP payload: 1006
1336846728241: mux: GOT CSM_Msg
1336846728242: forwarding disabled, not forwarding packets
1336846728278: Received UDP payload: 3778
1336846728290: mux: GOT CSM_Msg
1336846728291: forwarding disabled, not forwarding packets
1336846729259: Received UDP payload: 446
1336846729715: Received UDP payload: 642
1336846729719: mux: Inside mux Packet.CLIENT_REQUEST
1336846729772: Received UDP payload: 1006
1336846729780: forwarding disabled, not forwarding packets
1336846729780: mux: GOT CSM_Msg
1336846729785: Received UDP payload: 446
1336846729788: mux: Inside Packet.SERVER_REPLY
1336846729789: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846729839: Received UDP payload: 3778
1336846729841: forwarding disabled, not forwarding packets
1336846729841: mux: GOT CSM_Msg
1336846729888: Received UDP payload: 3431
1336846729889: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846729889: mux: Inside Packet.SERVER_REPLY
1336846729901: Received UDP payload: 446
1336846729902: mux: Inside mux Packet.CLIENT_REQUEST
1336846730582: Received UDP payload: 446
1336846730594: Received UDP payload: 446
1336846730765: Received UDP payload: 1006
1336846730772: mux: GOT CSM_Msg
1336846730773: forwarding disabled, not forwarding packets
1336846730855: Received UDP payload: 3778
1336846730857: forwarding disabled, not forwarding packets
1336846730857: mux: GOT CSM_Msg
1336846731302: Received UDP payload: 446
1336846731647: inside sendPacket(Packet p)
1336846731650: Sending UDP payload: 446
1336846732461: Received UDP payload: 446
1336846733497: Received UDP payload: 1006
1336846733504: forwarding disabled, not forwarding packets
1336846733504: mux: GOT CSM_Msg
1336846733645: Received UDP payload: 3778
1336846733652: forwarding disabled, not forwarding packets
1336846733652: mux: GOT CSM_Msg
1336846734272: Received UDP payload: 446
1336846734822: Received UDP payload: 642
1336846734827: mux: Inside mux Packet.CLIENT_REQUEST
1336846734878: Received UDP payload: 1006
1336846734884: forwarding disabled, not forwarding packets
1336846734884: mux: GOT CSM_Msg
1336846734905: Received UDP payload: 446
1336846734908: mux: Inside Packet.SERVER_REPLY
1336846734909: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846734937: Received UDP payload: 3778
1336846734939: forwarding disabled, not forwarding packets
1336846734939: mux: GOT CSM_Msg
1336846734987: Received UDP payload: 3431
1336846734989: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846734989: mux: Inside Packet.SERVER_REPLY
1336846735001: Received UDP payload: 446
1336846735002: mux: Inside mux Packet.CLIENT_REQUEST
1336846735585: Received UDP payload: 446
1336846735653: Received UDP payload: 446
1336846736315: Received UDP payload: 446
1336846736652: inside sendPacket(Packet p)
1336846736655: Sending UDP payload: 446
1336846737466: Received UDP payload: 446
1336846739271: Received UDP payload: 446
1336846740602: Received UDP payload: 446
1336846740611: Received UDP payload: 446
1336846741326: Received UDP payload: 446
1336846741546: leader to cloud hearbeat...
1336846742000: inside sendPacket(Packet p)
1336846742013: Sending UDP payload: 446
1336846742470: Received UDP payload: 446
1336846744283: Received UDP payload: 446
1336846745608: Received UDP payload: 446
1336846745624: Received UDP payload: 446
1336846746059: Received UDP payload: 642
1336846746064: mux: Inside mux Packet.CLIENT_REQUEST
1336846746100: Received UDP payload: 1006
1336846746109: mux: GOT CSM_Msg
1336846746110: forwarding disabled, not forwarding packets
1336846746111: Received UDP payload: 446
1336846746128: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846746128: mux: Inside Packet.SERVER_REPLY
1336846746231: Received UDP payload: 3734
1336846746233: forwarding disabled, not forwarding packets
1336846746233: mux: GOT CSM_Msg
1336846746288: Received UDP payload: 3387
1336846746289: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846746289: mux: Inside Packet.SERVER_REPLY
1336846746304: Received UDP payload: 446
1336846746306: mux: Inside mux Packet.CLIENT_REQUEST
1336846746378: Received UDP payload: 446
1336846747018: inside sendPacket(Packet p)
1336846747021: Sending UDP payload: 446
1336846747470: Received UDP payload: 1006
1336846747481: forwarding disabled, not forwarding packets
1336846747481: mux: GOT CSM_Msg
1336846747493: Received UDP payload: 446
1336846747550: Received UDP payload: 3734
1336846747552: forwarding disabled, not forwarding packets
1336846747552: mux: GOT CSM_Msg
1336846749317: Received UDP payload: 446
1336846750100: areButtonsEnabled --> false 
1336846750100: canPressButton = TRUE
1336846750101: areButtonsEnabled --> false
1336846750101: get picture disableButtonsR
1336846750127: one more getNum: 16
1336846750128: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846750128: change local requestCounter to 37
1336846750128: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=15 getBad=0 getTimedout=0 getPercent=93%
1336846750129: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002037 Client in region: 1 Client nodID: 5002
1336846750163: ----------------------------
1336846750163: I'm a leader, my requesting photos packet going to mux directly
1336846750163: inside sendRequestPacketRepeatingRunnable for requestCount = 5002037
1336846750164: mux: Inside mux Packet.CLIENT_REQUEST
1336846750165: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846750165: Sending to region: 3
1336846750165: got new request, requestCounter = 5002037
1336846750165: inside handleClientRequest. Originator leader of region 1
1336846750165: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846750166: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(3,0)
1336846750166: Note down new request by adding requestCounter=5002037 to HashMap processedRequests
1336846750166: Sending PROC_REQUEST 11:4 (1,0)->(3,0)
1336846750167: Make FirstLeg Ack regardless of new or already-processed requests
1336846750167: mux: I got a CSM packet at a leader 
1336846750167: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846750168: Sending UDP payload: 1006
1336846750169: --- Finished one round of sending REQUEST Packet ---------
1336846750169: forwarding disabled, not forwarding packets
1336846750202: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846750273: Received UDP payload: 3734
1336846750275: Received PROC_REPLY 11:4 (3,0)->(1,0), handing to UserApp
1336846750275: mux: GOT CSM_Msg
1336846750276: DSM layer: Going to and from remote region took latency = 110
1336846750276: DSM layer: orig leader sent packet at 1336846750166 ~ received reply from remote leader at 1336846750276
1336846750276: inside handleDSMReply. Now back in originator leader of region 1
1336846750277: =======================
1336846750277: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846750277: inside sendReplies of replyCount = 500203700
1336846750277: leader client reply has replyCounter: 500203700
1336846750277: reply packet contains the newest photo/success info from the remote region
1336846750278: === Finished one round of sending REPLY Packet =======
1336846750278: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846750278: Leader about to send REPLY packet, number: 500203700 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846750278: inside sendReplyRepeatingRunnable for replyCount = 500203700
1336846750323: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846750324: disabling progressdialog due to successful new photo get
1336846750325: Inside _enableButtons
1336846750325: areButtonsEnabled --> true
1336846750326: inside finalLegAck: change requestCounter to 38
1336846750326: send final leg ack regardless of new or already-processed reply
1336846750327: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002038 Client in region: (1,0) Client nodID: 5002
1336846750328: I'm a leader client, my final_leg packet going to mux directly
1336846750329: inside handleClientRequest. Originator leader of region 1
1336846750329: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846750329: mux: Inside mux Packet.CLIENT_REQUEST
1336846750330: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500203700
1336846750330: Yay the last leg succeeded. Removing reply runnables ...
1336846750330: got new request, requestCounter = 5002038
1336846750331: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500203700
1336846750332: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500203700
1336846750332: do not send ack for received final_leg_ack
1336846750332: new client_show_remotephoto reply with replyCounter 500203700
1336846750333: = leader download start 1336846750164 ~ stop 1336846750323
1336846750333: leader download remote photo latency = 159
1336846750333: note down new reply by adding replyCounter=500203700 to HashMap processedReplies
1336846750334: one more getGood: 16
1336846750335: adding get latency: 159
1336846750335: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=16 getBad=0 getTimedout=0 getPercent=100%
1336846750336: Remote photo's length: 2706
1336846750336: Success! Client getting photo from remote region, showing photo...
1336846750605: Received UDP payload: 446
1336846750627: Received UDP payload: 446
1336846751336: Received UDP payload: 446
1336846751770: Received UDP payload: 642
1336846751777: mux: Inside mux Packet.CLIENT_REQUEST
1336846751778: inside handleClientRequest. Originator leader of region 1
1336846751778: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846751779: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846751779: got new request, requestCounter = 5022037
1336846751781: Sending to region: 3
1336846751783: Sending PROC_REQUEST 11:5 (1,0)->(3,0)
1336846751784: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(3,0)
1336846751784: Note down new request by adding requestCounter=5022037 to HashMap processedRequests
1336846751795: Make FirstLeg Ack regardless of new or already-processed requests
1336846751796: The leader sending a First Leg ack to originator client (which id = 5022)
1336846751796: inside sendPacket(Packet p)
1336846751797: mux: I got a CSM packet at a leader 
1336846751812: Sending UDP payload: 1006
1336846751814: forwarding disabled, not forwarding packets
1336846751819: Sending UDP payload: 446
1336846751879: Received UDP payload: 3734
1336846751881: Received PROC_REPLY 11:5 (3,0)->(1,0), handing to UserApp
1336846751881: inside handleDSMReply. Now back in originator leader of region 1
1336846751881: mux: GOT CSM_Msg
1336846751882: DSM layer: Going to and from remote region took latency = 99
1336846751882: DSM layer: orig leader sent packet at 1336846751782 ~ received reply from remote leader at 1336846751881
1336846751882: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846751882: leader client reply has replyCounter: 502203700
1336846751883: inside sendReplies of replyCount = 502203700
1336846751883: reply packet contains the newest photo/success info from the remote region
1336846751885: === Finished one round of sending REPLY Packet =======
1336846751885: =======================
1336846751885: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846751885: Leader about to send REPLY packet, number: 502203700 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846751885: inside sendPacket(Packet p)
1336846751885: inside sendReplyRepeatingRunnable for replyCount = 502203700
1336846751892: Sending UDP payload: 3387
1336846751958: Received UDP payload: 446
1336846751959: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502203700
1336846751959: Yay the last leg succeeded. Removing reply runnables ...
1336846751959: got new request, requestCounter = 5022038
1336846751959: inside handleClientRequest. Originator leader of region 1
1336846751959: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846751959: mux: Inside mux Packet.CLIENT_REQUEST
1336846751960: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502203700
1336846751960: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502203700
1336846751960: do not send ack for received final_leg_ack
1336846752019: inside sendPacket(Packet p)
1336846752020: Sending UDP payload: 446
1336846752769: Received UDP payload: 446
1336846754303: Received UDP payload: 446
1336846755468: Received UDP payload: 1006
1336846755477: forwarding disabled, not forwarding packets
1336846755477: mux: GOT CSM_Msg
1336846755582: Received UDP payload: 3734
1336846755589: mux: GOT CSM_Msg
1336846755590: forwarding disabled, not forwarding packets
1336846755605: Received UDP payload: 446
1336846755637: Received UDP payload: 446
1336846756473: Received UDP payload: 1006
1336846756480: forwarding disabled, not forwarding packets
1336846756480: mux: GOT CSM_Msg
1336846756515: Received UDP payload: 3734
1336846756523: forwarding disabled, not forwarding packets
1336846756523: mux: GOT CSM_Msg
1336846756726: Received UDP payload: 446
1336846757019: inside sendPacket(Packet p)
1336846757021: Sending UDP payload: 446
1336846757812: Received UDP payload: 446
1336846759296: Received UDP payload: 446
1336846760624: Received UDP payload: 446
1336846760631: Received UDP payload: 446
1336846761735: Received UDP payload: 446
1336846762019: inside sendPacket(Packet p)
1336846762022: Sending UDP payload: 446
1336846762613: Received UDP payload: 1006
1336846762619: mux: GOT CSM_Msg
1336846762620: forwarding disabled, not forwarding packets
1336846762710: Received UDP payload: 3734
1336846762717: forwarding disabled, not forwarding packets
1336846762717: mux: GOT CSM_Msg
1336846762765: Received UDP payload: 446
1336846763891: Received UDP payload: 642
1336846763896: mux: Inside mux Packet.CLIENT_REQUEST
1336846763934: Received UDP payload: 1006
1336846763946: forwarding disabled, not forwarding packets
1336846763946: mux: GOT CSM_Msg
1336846763947: Received UDP payload: 446
1336846763948: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846763948: mux: Inside Packet.SERVER_REPLY
1336846763996: Received UDP payload: 3734
1336846763998: forwarding disabled, not forwarding packets
1336846763998: mux: GOT CSM_Msg
1336846764043: Received UDP payload: 3387
1336846764045: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846764045: mux: Inside Packet.SERVER_REPLY
1336846764053: Received UDP payload: 446
1336846764055: mux: Inside mux Packet.CLIENT_REQUEST
1336846764296: Received UDP payload: 446
1336846765636: Received UDP payload: 446
1336846765753: Received UDP payload: 642
1336846765759: mux: Inside mux Packet.CLIENT_REQUEST
1336846765811: Received UDP payload: 1006
1336846765820: forwarding disabled, not forwarding packets
1336846765820: mux: GOT CSM_Msg
1336846765821: Received UDP payload: 446
1336846765835: mux: Inside Packet.SERVER_REPLY
1336846765836: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846765874: Received UDP payload: 3734
1336846765876: forwarding disabled, not forwarding packets
1336846765876: mux: GOT CSM_Msg
1336846765902: Received UDP payload: 446
1336846765944: Received UDP payload: 3387
1336846765945: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846765945: mux: Inside Packet.SERVER_REPLY
1336846765957: Received UDP payload: 446
1336846765958: mux: Inside mux Packet.CLIENT_REQUEST
1336846766740: Received UDP payload: 446
1336846767020: inside sendPacket(Packet p)
1336846767022: Sending UDP payload: 446
1336846767773: Received UDP payload: 446
1336846769295: Received UDP payload: 446
1336846769461: Received UDP payload: 1006
1336846769470: forwarding disabled, not forwarding packets
1336846769470: mux: GOT CSM_Msg
1336846769552: Received UDP payload: 3734
1336846769554: forwarding disabled, not forwarding packets
1336846769554: mux: GOT CSM_Msg
1336846770957: Received UDP payload: 446
1336846771754: Received UDP payload: 446
1336846772023: inside sendPacket(Packet p)
1336846772026: Sending UDP payload: 446
1336846772779: Received UDP payload: 446
1336846774297: Received UDP payload: 446
1336846775647: Received UDP payload: 446
1336846775927: Received UDP payload: 446
1336846776847: Received UDP payload: 446
1336846777025: inside sendPacket(Packet p)
1336846777040: Sending UDP payload: 446
1336846777846: Received UDP payload: 446
1336846779320: Received UDP payload: 446
1336846780351: Received UDP payload: 642
1336846780356: mux: Inside mux Packet.CLIENT_REQUEST
1336846780392: Received UDP payload: 1006
1336846780400: mux: GOT CSM_Msg
1336846780401: Received UDP payload: 446
1336846780401: forwarding disabled, not forwarding packets
1336846780417: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846780417: mux: Inside Packet.SERVER_REPLY
1336846780464: Received UDP payload: 3811
1336846780466: forwarding disabled, not forwarding packets
1336846780466: mux: GOT CSM_Msg
1336846780525: Received UDP payload: 3464
1336846780527: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846780527: mux: Inside Packet.SERVER_REPLY
1336846780546: Received UDP payload: 446
1336846780547: mux: Inside mux Packet.CLIENT_REQUEST
1336846780645: Received UDP payload: 446
1336846780905: Received UDP payload: 446
1336846781783: Received UDP payload: 446
1336846782042: inside sendPacket(Packet p)
1336846782045: Sending UDP payload: 446
1336846782276: canPressButton = TRUE
1336846782277: areButtonsEnabled --> false
1336846782277: areButtonsEnabled --> false 
1336846782277: get picture disableButtonsR
1336846782291: one more getNum: 17
1336846782292: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846782292: change local requestCounter to 39
1336846782292: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=16 getBad=0 getTimedout=0 getPercent=94%
1336846782293: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002039 Client in region: 1 Client nodID: 5002
1336846782322: ----------------------------
1336846782322: I'm a leader, my requesting photos packet going to mux directly
1336846782322: inside sendRequestPacketRepeatingRunnable for requestCount = 5002039
1336846782322: mux: Inside mux Packet.CLIENT_REQUEST
1336846782323: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846782323: got new request, requestCounter = 5002039
1336846782323: inside handleClientRequest. Originator leader of region 1
1336846782323: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846782324: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(4,0)
1336846782324: Sending PROC_REQUEST 11:4 (1,0)->(4,0)
1336846782324: Sending to region: 4
1336846782325: Make FirstLeg Ack regardless of new or already-processed requests
1336846782325: Note down new request by adding requestCounter=5002039 to HashMap processedRequests
1336846782325: mux: I got a CSM packet at a leader 
1336846782325: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846782327: Sending UDP payload: 1006
1336846782327: forwarding disabled, not forwarding packets
1336846782328: --- Finished one round of sending REQUEST Packet ---------
1336846782368: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846782441: Received UDP payload: 3811
1336846782445: mux: GOT CSM_Msg
1336846782446: DSM layer: Going to and from remote region took latency = 122
1336846782446: DSM layer: orig leader sent packet at 1336846782324 ~ received reply from remote leader at 1336846782446
1336846782446: Received PROC_REPLY 11:4 (4,0)->(1,0), handing to UserApp
1336846782446: inside handleDSMReply. Now back in originator leader of region 1
1336846782447: =======================
1336846782447: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846782447: inside sendReplies of replyCount = 500203900
1336846782447: inside sendReplyRepeatingRunnable for replyCount = 500203900
1336846782447: leader client reply has replyCounter: 500203900
1336846782447: reply packet contains the newest photo/success info from the remote region
1336846782448: === Finished one round of sending REPLY Packet =======
1336846782448: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846782448: Leader about to send REPLY packet, number: 500203900 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846782455: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846782455: Inside _enableButtons
1336846782455: areButtonsEnabled --> true
1336846782455: disabling progressdialog due to successful new photo get
1336846782456: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002040 Client in region: (1,0) Client nodID: 5002
1336846782456: I'm a leader client, my final_leg packet going to mux directly
1336846782456: inside finalLegAck: change requestCounter to 40
1336846782456: send final leg ack regardless of new or already-processed reply
1336846782457: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500203900
1336846782457: Yay the last leg succeeded. Removing reply runnables ...
1336846782457: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500203900
1336846782457: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500203900
1336846782457: do not send ack for received final_leg_ack
1336846782457: got new request, requestCounter = 5002040
1336846782457: inside handleClientRequest. Originator leader of region 1
1336846782457: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846782457: mux: Inside mux Packet.CLIENT_REQUEST
1336846782458: new client_show_remotephoto reply with replyCounter 500203900
1336846782458: note down new reply by adding replyCounter=500203900 to HashMap processedReplies
1336846782460: leader download remote photo latency = 133
1336846782461: = leader download start 1336846782322 ~ stop 1336846782455
1336846782462: one more getGood: 17
1336846782462: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=17 getBad=0 getTimedout=0 getPercent=100%
1336846782463: adding get latency: 133
1336846782466: Success! Client getting photo from remote region, showing photo...
1336846782469: Remote photo's length: 2783
1336846782781: Received UDP payload: 446
1336846784295: Received UDP payload: 446
1336846784312: Received UDP payload: 1006
1336846784323: mux: GOT CSM_Msg
1336846784324: forwarding disabled, not forwarding packets
1336846784393: Received UDP payload: 3811
1336846784395: forwarding disabled, not forwarding packets
1336846784395: mux: GOT CSM_Msg
1336846785655: Received UDP payload: 446
1336846785912: Received UDP payload: 446
1336846786787: Received UDP payload: 446
1336846787044: inside sendPacket(Packet p)
1336846787047: Sending UDP payload: 446
1336846787793: Received UDP payload: 446
1336846788440: Received UDP payload: 642
1336846788444: mux: Inside mux Packet.CLIENT_REQUEST
1336846788445: inside handleClientRequest. Originator leader of region 1
1336846788445: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846788446: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846788446: got new request, requestCounter = 5022039
1336846788448: Sending to region: 4
1336846788449: Sending PROC_REQUEST 11:5 (1,0)->(4,0)
1336846788450: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(4,0)
1336846788450: Note down new request by adding requestCounter=5022039 to HashMap processedRequests
1336846788451: Make FirstLeg Ack regardless of new or already-processed requests
1336846788451: The leader sending a First Leg ack to originator client (which id = 5022)
1336846788451: inside sendPacket(Packet p)
1336846788452: mux: I got a CSM packet at a leader 
1336846788461: Sending UDP payload: 1006
1336846788463: forwarding disabled, not forwarding packets
1336846788466: Sending UDP payload: 446
1336846788551: Received UDP payload: 3811
1336846788558: mux: GOT CSM_Msg
1336846788560: Received PROC_REPLY 11:5 (4,0)->(1,0), handing to UserApp
1336846788560: inside handleDSMReply. Now back in originator leader of region 1
1336846788561: DSM layer: Going to and from remote region took latency = 112
1336846788561: DSM layer: orig leader sent packet at 1336846788448 ~ received reply from remote leader at 1336846788560
1336846788563: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846788564: inside sendReplies of replyCount = 502203900
1336846788564: leader client reply has replyCounter: 502203900
1336846788564: reply packet contains the newest photo/success info from the remote region
1336846788565: =======================
1336846788565: inside sendReplyRepeatingRunnable for replyCount = 502203900
1336846788566: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846788566: Leader about to send REPLY packet, number: 502203900 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846788566: inside sendPacket(Packet p)
1336846788567: === Finished one round of sending REPLY Packet =======
1336846788580: Sending UDP payload: 3464
1336846788637: Received UDP payload: 446
1336846788640: inside handleClientRequest. Originator leader of region 1
1336846788640: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846788640: mux: Inside mux Packet.CLIENT_REQUEST
1336846788641: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502203900
1336846788641: Yay the last leg succeeded. Removing reply runnables ...
1336846788641: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502203900
1336846788641: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502203900
1336846788641: do not send ack for received final_leg_ack
1336846788641: got new request, requestCounter = 5022040
1336846789299: Received UDP payload: 446
1336846790660: Received UDP payload: 446
1336846790907: Received UDP payload: 446
1336846791547: Received UDP payload: 1006
1336846791555: forwarding disabled, not forwarding packets
1336846791555: mux: GOT CSM_Msg
1336846791618: Received UDP payload: 3811
1336846791625: mux: GOT CSM_Msg
1336846791626: forwarding disabled, not forwarding packets
1336846791771: Received UDP payload: 446
1336846792047: inside sendPacket(Packet p)
1336846792049: Sending UDP payload: 446
1336846792795: Received UDP payload: 446
1336846793323: Received UDP payload: 1006
1336846793330: forwarding disabled, not forwarding packets
1336846793330: mux: GOT CSM_Msg
1336846793426: Received UDP payload: 3811
1336846793429: forwarding disabled, not forwarding packets
1336846793429: mux: GOT CSM_Msg
1336846794299: Received UDP payload: 446
1336846795686: Received UDP payload: 446
1336846795919: Received UDP payload: 446
1336846796777: Received UDP payload: 446
1336846797047: inside sendPacket(Packet p)
1336846797050: Sending UDP payload: 446
1336846797772: Received UDP payload: 1006
1336846797781: forwarding disabled, not forwarding packets
1336846797781: mux: GOT CSM_Msg
1336846797830: Received UDP payload: 3811
1336846797832: forwarding disabled, not forwarding packets
1336846797832: mux: GOT CSM_Msg
1336846797836: Received UDP payload: 446
1336846798569: Received UDP payload: 642
1336846798574: mux: Inside mux Packet.CLIENT_REQUEST
1336846798635: Received UDP payload: 1006
1336846798644: forwarding disabled, not forwarding packets
1336846798644: mux: GOT CSM_Msg
1336846798646: Received UDP payload: 446
1336846798649: mux: Inside Packet.SERVER_REPLY
1336846798650: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846798714: Received UDP payload: 3811
1336846798716: forwarding disabled, not forwarding packets
1336846798716: mux: GOT CSM_Msg
1336846798769: Received UDP payload: 3464
1336846798770: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846798770: mux: Inside Packet.SERVER_REPLY
1336846798780: Received UDP payload: 446
1336846798782: mux: Inside mux Packet.CLIENT_REQUEST
1336846799245: Received UDP payload: 642
1336846799247: mux: Inside mux Packet.CLIENT_REQUEST
1336846799264: Received UDP payload: 1006
1336846799271: forwarding disabled, not forwarding packets
1336846799271: mux: GOT CSM_Msg
1336846799291: Received UDP payload: 446
1336846799295: mux: Inside Packet.SERVER_REPLY
1336846799296: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846799299: Received UDP payload: 446
1336846799355: Received UDP payload: 3811
1336846799357: forwarding disabled, not forwarding packets
1336846799357: mux: GOT CSM_Msg
1336846799387: Received UDP payload: 3464
1336846799388: mux: Inside Packet.SERVER_REPLY
1336846799389: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846799417: Received UDP payload: 446
1336846799418: mux: Inside mux Packet.CLIENT_REQUEST
1336846800656: Received UDP payload: 1006
1336846800659: forwarding disabled, not forwarding packets
1336846800659: mux: GOT CSM_Msg
1336846800718: Received UDP payload: 446
1336846800924: Received UDP payload: 446
1336846801408: Received UDP payload: 1006
1336846801416: mux: GOT CSM_Msg
1336846801417: forwarding disabled, not forwarding packets
1336846801492: Received UDP payload: 3811
1336846801499: mux: GOT CSM_Msg
1336846801500: forwarding disabled, not forwarding packets
1336846801505: Received UDP payload: 1006
1336846801529: forwarding disabled, not forwarding packets
1336846801529: mux: GOT CSM_Msg
1336846801555: Received UDP payload: 3811
1336846801557: forwarding disabled, not forwarding packets
1336846801557: mux: GOT CSM_Msg
1336846801775: Received UDP payload: 446
1336846802049: inside sendPacket(Packet p)
1336846802050: Sending UDP payload: 446
1336846802789: Received UDP payload: 446
1336846804368: Received UDP payload: 446
1336846805755: Received UDP payload: 446
1336846805934: Received UDP payload: 446
1336846806821: Received UDP payload: 446
1336846807050: inside sendPacket(Packet p)
1336846807057: Sending UDP payload: 446
1336846807793: Received UDP payload: 446
1336846809330: Received UDP payload: 446
1336846810707: Received UDP payload: 446
1336846810862: Received UDP payload: 642
1336846810868: mux: Inside mux Packet.CLIENT_REQUEST
1336846810902: Received UDP payload: 1006
1336846810910: forwarding disabled, not forwarding packets
1336846810910: mux: GOT CSM_Msg
1336846810917: Received UDP payload: 446
1336846810918: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846810918: mux: Inside Packet.SERVER_REPLY
1336846810941: Received UDP payload: 446
1336846810998: Received UDP payload: 3768
1336846811000: forwarding disabled, not forwarding packets
1336846811000: mux: GOT CSM_Msg
1336846811050: Received UDP payload: 3421
1336846811051: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846811051: mux: Inside Packet.SERVER_REPLY
1336846811063: Received UDP payload: 446
1336846811064: mux: Inside mux Packet.CLIENT_REQUEST
1336846811776: Received UDP payload: 446
1336846812059: inside sendPacket(Packet p)
1336846812061: Sending UDP payload: 446
1336846812089: Received UDP payload: 1006
1336846812096: forwarding disabled, not forwarding packets
1336846812096: mux: GOT CSM_Msg
1336846812166: Received UDP payload: 3768
1336846812168: forwarding disabled, not forwarding packets
1336846812168: mux: GOT CSM_Msg
1336846812786: Received UDP payload: 446
1336846814340: Received UDP payload: 446
1336846815689: Received UDP payload: 446
1336846815936: Received UDP payload: 446
1336846816791: Received UDP payload: 446
1336846816828: areButtonsEnabled --> false 
1336846816828: canPressButton = TRUE
1336846816828: get picture disableButtonsR
1336846816829: areButtonsEnabled --> false
1336846816854: one more getNum: 18
1336846816855: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=17 getBad=0 getTimedout=0 getPercent=94%
1336846816856: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846816856: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002041 Client in region: 1 Client nodID: 5002
1336846816856: change local requestCounter to 41
1336846816887: ----------------------------
1336846816887: inside sendRequestPacketRepeatingRunnable for requestCount = 5002041
1336846816888: I'm a leader, my requesting photos packet going to mux directly
1336846816888: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846816888: got new request, requestCounter = 5002041
1336846816888: inside handleClientRequest. Originator leader of region 1
1336846816888: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846816888: mux: Inside mux Packet.CLIENT_REQUEST
1336846816889: Sending PROC_REQUEST 11:4 (1,0)->(5,0)
1336846816889: Sending to region: 5
1336846816890: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(5,0)
1336846816890: Make FirstLeg Ack regardless of new or already-processed requests
1336846816890: Note down new request by adding requestCounter=5002041 to HashMap processedRequests
1336846816890: mux: I got a CSM packet at a leader 
1336846816890: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846816893: Sending UDP payload: 1006
1336846816893: forwarding disabled, not forwarding packets
1336846816894: --- Finished one round of sending REQUEST Packet ---------
1336846816928: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846816995: Received UDP payload: 3768
1336846816997: DSM layer: Going to and from remote region took latency = 108
1336846816997: DSM layer: orig leader sent packet at 1336846816889 ~ received reply from remote leader at 1336846816997
1336846816997: Received PROC_REPLY 11:4 (5,0)->(1,0), handing to UserApp
1336846816997: inside handleDSMReply. Now back in originator leader of region 1
1336846816997: mux: GOT CSM_Msg
1336846816998: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846816998: inside sendReplies of replyCount = 500204100
1336846816998: leader client reply has replyCounter: 500204100
1336846816998: reply packet contains the newest photo/success info from the remote region
1336846816999: === Finished one round of sending REPLY Packet =======
1336846816999: =======================
1336846816999: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846816999: Leader about to send REPLY packet, number: 500204100 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846816999: inside sendReplyRepeatingRunnable for replyCount = 500204100
1336846817000: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846817001: Inside _enableButtons
1336846817001: areButtonsEnabled --> true
1336846817001: disabling progressdialog due to successful new photo get
1336846817001: inside finalLegAck: change requestCounter to 42
1336846817001: send final leg ack regardless of new or already-processed reply
1336846817002: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002042 Client in region: (1,0) Client nodID: 5002
1336846817002: I'm a leader client, my final_leg packet going to mux directly
1336846817002: got new request, requestCounter = 5002042
1336846817002: inside handleClientRequest. Originator leader of region 1
1336846817002: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846817002: mux: Inside mux Packet.CLIENT_REQUEST
1336846817003: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500204100
1336846817003: Yay the last leg succeeded. Removing reply runnables ...
1336846817003: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500204100
1336846817003: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500204100
1336846817003: do not send ack for received final_leg_ack
1336846817005: new client_show_remotephoto reply with replyCounter 500204100
1336846817006: = leader download start 1336846816888 ~ stop 1336846817000
1336846817006: leader download remote photo latency = 112
1336846817006: note down new reply by adding replyCounter=500204100 to HashMap processedReplies
1336846817007: one more getGood: 18
1336846817008: Success! Client getting photo from remote region, showing photo...
1336846817008: adding get latency: 112
1336846817008: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846817009: Remote photo's length: 2740
1336846817063: inside sendPacket(Packet p)
1336846817064: Sending UDP payload: 446
1336846817793: Received UDP payload: 446
1336846818101: Received UDP payload: 642
1336846818106: mux: Inside mux Packet.CLIENT_REQUEST
1336846818107: inside handleClientRequest. Originator leader of region 1
1336846818107: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846818108: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846818108: got new request, requestCounter = 5022041
1336846818110: Sending to region: 5
1336846818111: Sending PROC_REQUEST 11:5 (1,0)->(5,0)
1336846818112: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(5,0)
1336846818113: Make FirstLeg Ack regardless of new or already-processed requests
1336846818113: Note down new request by adding requestCounter=5022041 to HashMap processedRequests
1336846818113: The leader sending a First Leg ack to originator client (which id = 5022)
1336846818114: inside sendPacket(Packet p)
1336846818125: mux: I got a CSM packet at a leader 
1336846818128: Sending UDP payload: 1006
1336846818146: forwarding disabled, not forwarding packets
1336846818150: Sending UDP payload: 446
1336846818212: Received UDP payload: 3768
1336846818219: mux: GOT CSM_Msg
1336846818220: Received PROC_REPLY 11:5 (5,0)->(1,0), handing to UserApp
1336846818221: DSM layer: Going to and from remote region took latency = 111
1336846818221: DSM layer: orig leader sent packet at 1336846818110 ~ received reply from remote leader at 1336846818221
1336846818221: inside handleDSMReply. Now back in originator leader of region 1
1336846818224: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846818224: leader client reply has replyCounter: 502204100
1336846818225: inside sendReplies of replyCount = 502204100
1336846818225: reply packet contains the newest photo/success info from the remote region
1336846818226: =======================
1336846818226: inside sendReplyRepeatingRunnable for replyCount = 502204100
1336846818227: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846818227: Leader about to send REPLY packet, number: 502204100 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846818227: inside sendPacket(Packet p)
1336846818228: === Finished one round of sending REPLY Packet =======
1336846818237: Sending UDP payload: 3421
1336846818304: Received UDP payload: 446
1336846818316: mux: Inside mux Packet.CLIENT_REQUEST
1336846818317: inside handleClientRequest. Originator leader of region 1
1336846818317: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846818318: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502204100
1336846818318: Yay the last leg succeeded. Removing reply runnables ...
1336846818318: got new request, requestCounter = 5022042
1336846818319: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502204100
1336846818319: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502204100
1336846818319: do not send ack for received final_leg_ack
1336846819348: Received UDP payload: 446
1336846820702: Received UDP payload: 446
1336846820932: Received UDP payload: 446
1336846821783: Received UDP payload: 446
1336846822080: inside sendPacket(Packet p)
1336846822082: Sending UDP payload: 446
1336846822638: Received UDP payload: 1006
1336846822647: mux: GOT CSM_Msg
1336846822648: forwarding disabled, not forwarding packets
1336846822741: Received UDP payload: 3768
1336846822749: mux: GOT CSM_Msg
1336846822750: forwarding disabled, not forwarding packets
1336846822799: Received UDP payload: 446
1336846823662: Received UDP payload: 1006
1336846823670: mux: GOT CSM_Msg
1336846823671: forwarding disabled, not forwarding packets
1336846823731: Received UDP payload: 3768
1336846823733: forwarding disabled, not forwarding packets
1336846823733: mux: GOT CSM_Msg
1336846824349: Received UDP payload: 446
1336846825717: Received UDP payload: 446
1336846825930: Received UDP payload: 446
1336846826815: Received UDP payload: 446
1336846827081: inside sendPacket(Packet p)
1336846827083: Sending UDP payload: 446
1336846827820: Received UDP payload: 446
1336846829303: Received UDP payload: 642
1336846829307: mux: Inside mux Packet.CLIENT_REQUEST
1336846829347: Received UDP payload: 1006
1336846829353: forwarding disabled, not forwarding packets
1336846829353: mux: GOT CSM_Msg
1336846829356: Received UDP payload: 446
1336846829381: Received UDP payload: 446
1336846829382: mux: Inside Packet.SERVER_REPLY
1336846829383: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846829420: Received UDP payload: 3768
1336846829422: forwarding disabled, not forwarding packets
1336846829422: mux: GOT CSM_Msg
1336846829458: Received UDP payload: 3421
1336846829459: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846829459: mux: Inside Packet.SERVER_REPLY
1336846829474: Received UDP payload: 446
1336846829475: mux: Inside mux Packet.CLIENT_REQUEST
1336846829573: Received UDP payload: 1006
1336846829575: forwarding disabled, not forwarding packets
1336846829575: mux: GOT CSM_Msg
1336846829620: Received UDP payload: 3768
1336846829622: forwarding disabled, not forwarding packets
1336846829622: mux: GOT CSM_Msg
1336846830429: Received UDP payload: 1006
1336846830433: forwarding disabled, not forwarding packets
1336846830433: mux: GOT CSM_Msg
1336846830488: Received UDP payload: 3768
1336846830496: forwarding disabled, not forwarding packets
1336846830496: mux: GOT CSM_Msg
1336846830623: Received UDP payload: 642
1336846830628: mux: Inside mux Packet.CLIENT_REQUEST
1336846830641: Received UDP payload: 1006
1336846830648: forwarding disabled, not forwarding packets
1336846830648: mux: GOT CSM_Msg
1336846830652: Received UDP payload: 446
1336846830664: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846830664: mux: Inside Packet.SERVER_REPLY
1336846830694: Received UDP payload: 3768
1336846830696: forwarding disabled, not forwarding packets
1336846830696: mux: GOT CSM_Msg
1336846830738: Received UDP payload: 3421
1336846830740: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846830740: mux: Inside Packet.SERVER_REPLY
1336846830743: Received UDP payload: 446
1336846830793: Received UDP payload: 446
1336846830794: mux: Inside mux Packet.CLIENT_REQUEST
1336846830926: Received UDP payload: 446
1336846831785: Received UDP payload: 446
1336846832082: inside sendPacket(Packet p)
1336846832085: Sending UDP payload: 446
1336846832801: Received UDP payload: 446
1336846834367: Received UDP payload: 446
1336846835734: Received UDP payload: 446
1336846835962: Received UDP payload: 446
1336846836797: Received UDP payload: 446
1336846837083: inside sendPacket(Packet p)
1336846837086: Sending UDP payload: 446
1336846837801: Received UDP payload: 446
1336846839386: Received UDP payload: 446
1336846840753: Received UDP payload: 446
1336846840936: Received UDP payload: 446
1336846841803: Received UDP payload: 446
1336846842084: inside sendPacket(Packet p)
1336846842087: Sending UDP payload: 446
1336846842815: Received UDP payload: 446
1336846844391: Received UDP payload: 446
1336846845771: Received UDP payload: 446
1336846845949: Received UDP payload: 446
1336846846811: Received UDP payload: 446
1336846847086: inside sendPacket(Packet p)
1336846847089: Sending UDP payload: 446
1336846847803: Received UDP payload: 446
1336846849410: Received UDP payload: 446
1336846850776: Received UDP payload: 446
1336846850959: Received UDP payload: 446
1336846851823: Received UDP payload: 446
1336846852087: inside sendPacket(Packet p)
1336846852096: Sending UDP payload: 446
1336846852805: Received UDP payload: 446
1336846853798: areButtonsEnabled --> false
1336846853798: canPressButton = TRUE
1336846853799: areButtonsEnabled --> false
1336846853799: disabling buttons ...
1336846853799: took picture disableButtonsR
1336846853825: one more takeNum: 4
1336846853826: Clicked take picture button ..
1336846853826: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846854381: Received UDP payload: 446
1336846855094: inside HandlePictureStorage onPictureTaken()
1336846855095: one more takeCamGood: 4
1336846855095: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846855584: Picture successfully taken, ORIG BYTE LENGTH = 1872547
1336846855782: Our new height x width: 306 x 408
1336846855782: Show photo from handle my camera take
1336846855786: Received UDP payload: 446
1336846855787: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846855787: change local requestCounter to 43
1336846855801: BYTE SIZE AFTER COMPRESSION: 2734
1336846855802: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5002043 Client in region: 1 Client nodID: 5002
1336846855858: ----------------------------
1336846855858: I'm a leader, my requesting photos packet going to mux directly
1336846855858: inside sendRequestPacketRepeatingRunnable for requestCount = 5002043
1336846855859: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846855859: got new request, requestCounter = 5002043
1336846855859: inside handleClientRequest. Originator leader of region 1
1336846855859: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846855859: mux: Inside mux Packet.CLIENT_REQUEST
1336846855860: --- Finished one round of sending REQUEST Packet ---------
1336846855860: Dispatching Atom PROC_REQUEST 10:12 (1,0)->(1,0)
1336846855860: Make FirstLeg Ack regardless of new or already-processed requests
1336846855860: Note down new request by adding requestCounter=5002043 to HashMap processedRequests
1336846855860: Sending PROC_REQUEST 10:12 (1,0)->(1,0)
1336846855861: mux: I got a CSM packet at a leader 
1336846855861: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846855862: Sending UDP payload: 3762
1336846855863: inside handleDSMRequest. At requests's remote leader of region 1
1336846855863: removed replies before id 12 from sentReplies of size 0
1336846855864: Inside UPLOAD_PHOTO!!
1336846855866: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846855866: my_gpinfo.isSuccess is now (should be true): true
1336846855868: Dispatching Atom PROC_REPLY 10:12 (1,0)->(1,0)
1336846855868: Received PROC_REQUEST 10:12 (1,0)->(1,0), replying PROC_REPLY 10:12 (1,0)->(1,0)
1336846855869: mux: I got a CSM packet at a leader 
1336846855871: Received PROC_REPLY 10:12 (1,0)->(1,0), handing to UserApp
1336846855871: Sending UDP payload: 1006
1336846855872: DSM layer: Going to and from remote region took latency = 13
1336846855872: DSM layer: orig leader sent packet at 1336846855859 ~ received reply from remote leader at 1336846855872
1336846855872: inside handleDSMReply. Now back in originator leader of region 1
1336846855873: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846855873: inside sendReplies of replyCount = 500204300
1336846855873: leader client reply has replyCounter: 500204300
1336846855873: reply packet contains the success info for UPLOAD_PHOTO
1336846855874: =======================
1336846855874: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846855874: Leader about to send REPLY packet, number: 500204300 type: 16 Leader in region: (1,0) to Client nodID: 5002
1336846855874: inside sendReplyRepeatingRunnable for replyCount = 500204300
1336846855875: === Finished one round of sending REPLY Packet =======
1336846855887: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846855888: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846855889: I'm a leader and I successfully saved my client's new photo
1336846855889: now showing in UI the new photo I just saved ... 
1336846855889: the photo length: 2734
1336846855923: end of server show photo aside %%%%%%%%%
1336846855925: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846855925: disabling progressdialog due to successful new photo upload
1336846855926: Inside _enableButtons
1336846855926: areButtonsEnabled --> true
1336846855926: send final leg ack regardless of new or already-processed reply
1336846855927: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002044 Client in region: (1,0) Client nodID: 5002
1336846855927: I'm a leader client, my final_leg packet going to mux directly
1336846855927: inside finalLegAck: change requestCounter to 44
1336846855928: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500204300
1336846855928: Yay the last leg succeeded. Removing reply runnables ...
1336846855928: got new request, requestCounter = 5002044
1336846855928: inside handleClientRequest. Originator leader of region 1
1336846855928: leader upload new photo latency = 66
1336846855928: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846855928: mux: Inside mux Packet.CLIENT_REQUEST
1336846855928: new client_upload_photo_ack reply with replyCounter 500204300
1336846855928: note down new reply by adding replyCounter=500204300 to HashMap processedReplies
1336846855929: = leader upload start 1336846855859 ~ stop 1336846855925
1336846855929: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500204300
1336846855929: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500204300
1336846855929: do not send ack for received final_leg_ack
1336846855930: one more takeGoodSave: 4
1336846855930: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846855931: SUCCESS Client now knows saving photo on its leader succeeded
1336846855931: adding take latency: 66
1336846855963: Received UDP payload: 446
1336846856827: Received UDP payload: 446
1336846857098: inside sendPacket(Packet p)
1336846857101: Sending UDP payload: 446
1336846857815: Received UDP payload: 446
1336846858271: Received UDP payload: 3380
1336846858278: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846858278: mux: Inside mux Packet.CLIENT_REQUEST
1336846858279: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846858279: got new request, requestCounter = 5022043
1336846858279: inside handleClientRequest. Originator leader of region 1
1336846858281: Sending PROC_REQUEST 10:13 (1,0)->(1,0)
1336846858282: Dispatching Atom PROC_REQUEST 10:13 (1,0)->(1,0)
1336846858282: Make FirstLeg Ack regardless of new or already-processed requests
1336846858282: Note down new request by adding requestCounter=5022043 to HashMap processedRequests
1336846858283: The leader sending a First Leg ack to originator client (which id = 5022)
1336846858283: inside sendPacket(Packet p)
1336846858284: mux: I got a CSM packet at a leader 
1336846858298: Sending UDP payload: 3744
1336846858307: inside handleDSMRequest. At requests's remote leader of region 1
1336846858307: removed replies before id 13 from sentReplies of size 0
1336846858310: Inside UPLOAD_PHOTO!!
1336846858313: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846858313: my_gpinfo.isSuccess is now (should be true): true
1336846858329: Received PROC_REQUEST 10:13 (1,0)->(1,0), replying PROC_REPLY 10:13 (1,0)->(1,0)
1336846858330: Dispatching Atom PROC_REPLY 10:13 (1,0)->(1,0)
1336846858341: Sending UDP payload: 446
1336846858347: mux: I got a CSM packet at a leader 
1336846858348: Sending UDP payload: 1006
1336846858350: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846858352: I'm a leader and I successfully saved my client's new photo
1336846858352: now showing in UI the new photo I just saved ... 
1336846858352: the photo length: 2716
1336846858383: DSM layer: Going to and from remote region took latency = 103
1336846858383: DSM layer: orig leader sent packet at 1336846858280 ~ received reply from remote leader at 1336846858383
1336846858383: Received PROC_REPLY 10:13 (1,0)->(1,0), handing to UserApp
1336846858383: inside handleDSMReply. Now back in originator leader of region 1
1336846858384: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846858384: inside sendReplies of replyCount = 502204300
1336846858384: leader client reply has replyCounter: 502204300
1336846858384: reply packet contains the success info for UPLOAD_PHOTO
1336846858385: === Finished one round of sending REPLY Packet =======
1336846858385: =======================
1336846858385: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846858385: Leader about to send REPLY packet, number: 502204300 type: 16 Leader in region: (1,0) to Client nodID: 5022
1336846858385: inside sendPacket(Packet p)
1336846858385: inside sendReplyRepeatingRunnable for replyCount = 502204300
1336846858387: Sending UDP payload: 659
1336846858392: end of server show photo aside %%%%%%%%%
1336846858686: === Finished one round of sending REPLY Packet =======
1336846858686: =======================
1336846858686: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846858686: Leader about to send REPLY packet, number: 502204300 type: 16 Leader in region: (1,0) to Client nodID: 5022
1336846858686: inside sendPacket(Packet p)
1336846858686: inside sendReplyRepeatingRunnable for replyCount = 502204300
1336846858687: Sending UDP payload: 659
1336846858714: Received UDP payload: 446
1336846858715: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846858715: mux: Inside mux Packet.CLIENT_REQUEST
1336846858716: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502204300
1336846858716: Yay the last leg succeeded. Removing reply runnables ...
1336846858716: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502204300
1336846858716: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502204300
1336846858716: do not send ack for received final_leg_ack
1336846858716: got new request, requestCounter = 5022044
1336846858716: inside handleClientRequest. Originator leader of region 1
1336846859322: Received UDP payload: 3420
1336846859324: mux: Inside mux Packet.CLIENT_REQUEST
1336846859380: Received UDP payload: 3784
1336846859384: forwarding disabled, not forwarding packets
1336846859384: mux: GOT CSM_Msg
1336846859396: Received UDP payload: 446
1336846859400: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846859400: mux: Inside Packet.SERVER_REPLY
1336846859402: Received UDP payload: 446
1336846859411: Received UDP payload: 1006
1336846859425: forwarding disabled, not forwarding packets
1336846859425: mux: GOT CSM_Msg
1336846859438: Received UDP payload: 659
1336846859442: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846859442: mux: Inside Packet.SERVER_REPLY
1336846859450: Received UDP payload: 446
1336846859451: mux: Inside mux Packet.CLIENT_REQUEST
1336846860772: Received UDP payload: 446
1336846860970: Received UDP payload: 446
1336846861827: Received UDP payload: 446
1336846862002: leader to cloud hearbeat...
1336846862381: inside sendPacket(Packet p)
1336846862397: Sending UDP payload: 446
1336846862815: Received UDP payload: 446
1336846864388: Received UDP payload: 446
1336846865283: Received UDP payload: 3803
1336846865285: mux: GOT CSM_Msg
1336846865286: forwarding disabled, not forwarding packets
1336846865297: Received UDP payload: 1006
1336846865299: forwarding disabled, not forwarding packets
1336846865299: mux: GOT CSM_Msg
1336846865819: Received UDP payload: 446
1336846865966: Received UDP payload: 446
1336846866875: Received UDP payload: 446
1336846867399: inside sendPacket(Packet p)
1336846867402: Sending UDP payload: 446
1336846867821: Received UDP payload: 446
1336846869391: Received UDP payload: 446
1336846869486: Received UDP payload: 3734
1336846869496: Received UDP payload: 1006
1336846869496: forwarding disabled, not forwarding packets
1336846869496: mux: GOT CSM_Msg
1336846869504: mux: GOT CSM_Msg
1336846869505: forwarding disabled, not forwarding packets
1336846870775: Received UDP payload: 446
1336846870969: Received UDP payload: 446
1336846871875: Received UDP payload: 446
1336846872400: inside sendPacket(Packet p)
1336846872402: Sending UDP payload: 446
1336846873166: Received UDP payload: 446
1336846874396: Received UDP payload: 446
1336846875776: Received UDP payload: 446
1336846875990: Received UDP payload: 446
1336846876296: Received UDP payload: 1006
1336846876303: forwarding disabled, not forwarding packets
1336846876303: mux: GOT CSM_Msg
1336846876380: Received UDP payload: 3370
1336846876382: mux: Inside mux Packet.CLIENT_REQUEST
1336846876443: Received UDP payload: 3734
1336846876446: mux: GOT CSM_Msg
1336846876447: forwarding disabled, not forwarding packets
1336846876452: Received UDP payload: 446
1336846876453: mux: Inside Packet.SERVER_REPLY
1336846876454: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846876461: Received UDP payload: 1006
1336846876464: mux: GOT CSM_Msg
1336846876465: forwarding disabled, not forwarding packets
1336846876615: Received UDP payload: 659
1336846876617: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846876617: mux: Inside Packet.SERVER_REPLY
1336846876629: Received UDP payload: 446
1336846876631: mux: Inside mux Packet.CLIENT_REQUEST
1336846877139: Received UDP payload: 446
1336846877401: inside sendPacket(Packet p)
1336846877403: Sending UDP payload: 446
1336846878143: Received UDP payload: 446
1336846879405: Received UDP payload: 446
1336846879602: Received UDP payload: 3766
1336846879611: mux: GOT CSM_Msg
1336846879612: forwarding disabled, not forwarding packets
1336846879625: Received UDP payload: 1006
1336846879632: forwarding disabled, not forwarding packets
1336846879632: mux: GOT CSM_Msg
1336846880773: Received UDP payload: 446
1336846881021: Received UDP payload: 446
1336846882146: Received UDP payload: 446
1336846882206: Received UDP payload: 3807
1336846882213: forwarding disabled, not forwarding packets
1336846882213: mux: GOT CSM_Msg
1336846882225: Received UDP payload: 1006
1336846882232: forwarding disabled, not forwarding packets
1336846882232: mux: GOT CSM_Msg
1336846882405: inside sendPacket(Packet p)
1336846882407: Sending UDP payload: 446
1336846883155: Received UDP payload: 446
1336846884474: Received UDP payload: 446
1336846884848: Received UDP payload: 3417
1336846884853: mux: Inside mux Packet.CLIENT_REQUEST
1336846884935: Received UDP payload: 3781
1336846884947: forwarding disabled, not forwarding packets
1336846884947: mux: GOT CSM_Msg
1336846884948: Received UDP payload: 446
1336846884960: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846884960: mux: Inside Packet.SERVER_REPLY
1336846884961: Received UDP payload: 1006
1336846884978: forwarding disabled, not forwarding packets
1336846884978: mux: GOT CSM_Msg
1336846884979: Received UDP payload: 659
1336846884983: mux: Inside Packet.SERVER_REPLY
1336846884984: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846885035: Received UDP payload: 446
1336846885036: mux: Inside mux Packet.CLIENT_REQUEST
1336846885775: Received UDP payload: 446
1336846886373: Received UDP payload: 446
1336846887209: Received UDP payload: 446
1336846887406: inside sendPacket(Packet p)
1336846887409: Sending UDP payload: 446
1336846888172: Received UDP payload: 446
1336846889412: Received UDP payload: 446
1336846890781: Received UDP payload: 446
1336846891376: Received UDP payload: 446
1336846892174: Received UDP payload: 446
1336846892407: inside sendPacket(Packet p)
1336846892408: Sending UDP payload: 446
1336846893175: Received UDP payload: 446
1336846894403: Received UDP payload: 446
1336846895313: Received UDP payload: 642
1336846895318: mux: Inside mux Packet.CLIENT_REQUEST
1336846895361: Received UDP payload: 1006
1336846895370: mux: GOT CSM_Msg
1336846895371: forwarding disabled, not forwarding packets
1336846895385: Received UDP payload: 446
1336846895386: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846895386: mux: Inside Packet.SERVER_REPLY
1336846895428: Received UDP payload: 3803
1336846895430: forwarding disabled, not forwarding packets
1336846895430: mux: GOT CSM_Msg
1336846895482: Received UDP payload: 3456
1336846895484: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846895484: mux: Inside Packet.SERVER_REPLY
1336846895505: Received UDP payload: 446
1336846895506: mux: Inside mux Packet.CLIENT_REQUEST
1336846895832: Received UDP payload: 446
1336846896368: Received UDP payload: 446
1336846896591: Received UDP payload: 1006
1336846896600: forwarding disabled, not forwarding packets
1336846896600: mux: GOT CSM_Msg
1336846896630: Received UDP payload: 3803
1336846896639: forwarding disabled, not forwarding packets
1336846896639: mux: GOT CSM_Msg
1336846897232: Received UDP payload: 446
1336846897407: inside sendPacket(Packet p)
1336846897410: Sending UDP payload: 446
1336846897694: Received UDP payload: 642
1336846897699: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846897699: mux: Inside mux Packet.CLIENT_REQUEST
1336846897700: got new request, requestCounter = 5022045
1336846897700: inside handleClientRequest. Originator leader of region 1
1336846897701: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846897703: Sending to region: 0
1336846897704: Sending PROC_REQUEST 11:6 (1,0)->(0,0)
1336846897706: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(0,0)
1336846897706: Make FirstLeg Ack regardless of new or already-processed requests
1336846897706: Note down new request by adding requestCounter=5022045 to HashMap processedRequests
1336846897707: The leader sending a First Leg ack to originator client (which id = 5022)
1336846897708: inside sendPacket(Packet p)
1336846897708: mux: I got a CSM packet at a leader 
1336846897736: Sending UDP payload: 1006
1336846897738: forwarding disabled, not forwarding packets
1336846897740: Sending UDP payload: 446
1336846897810: Received UDP payload: 3803
1336846897812: DSM layer: Going to and from remote region took latency = 109
1336846897812: DSM layer: orig leader sent packet at 1336846897703 ~ received reply from remote leader at 1336846897812
1336846897812: Received PROC_REPLY 11:6 (0,0)->(1,0), handing to UserApp
1336846897812: inside handleDSMReply. Now back in originator leader of region 1
1336846897812: mux: GOT CSM_Msg
1336846897813: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846897813: inside sendReplies of replyCount = 502204500
1336846897813: leader client reply has replyCounter: 502204500
1336846897813: reply packet contains the newest photo/success info from the remote region
1336846897824: =======================
1336846897824: inside sendReplyRepeatingRunnable for replyCount = 502204500
1336846897825: === Finished one round of sending REPLY Packet =======
1336846897825: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846897825: Leader about to send REPLY packet, number: 502204500 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846897825: inside sendPacket(Packet p)
1336846897826: Sending UDP payload: 3456
1336846897882: Received UDP payload: 446
1336846897884: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502204500
1336846897884: Yay the last leg succeeded. Removing reply runnables ...
1336846897884: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502204500
1336846897884: got new request, requestCounter = 5022046
1336846897884: inside handleClientRequest. Originator leader of region 1
1336846897884: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846897884: mux: Inside mux Packet.CLIENT_REQUEST
1336846897885: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502204500
1336846897885: do not send ack for received final_leg_ack
1336846898171: Received UDP payload: 446
1336846898584: areButtonsEnabled --> false 
1336846898584: canPressButton = TRUE
1336846898585: areButtonsEnabled --> false
1336846898585: get picture disableButtonsR
1336846898601: one more getNum: 19
1336846898602: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846898602: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=18 getBad=0 getTimedout=0 getPercent=94%
1336846898603: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002045 Client in region: 1 Client nodID: 5002
1336846898603: change local requestCounter to 45
1336846898631: ----------------------------
1336846898632: I'm a leader, my requesting photos packet going to mux directly
1336846898632: inside handleClientRequest. Originator leader of region 1
1336846898632: inside sendRequestPacketRepeatingRunnable for requestCount = 5002045
1336846898632: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846898632: mux: Inside mux Packet.CLIENT_REQUEST
1336846898633: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846898633: Sending to region: 0
1336846898633: got new request, requestCounter = 5002045
1336846898634: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(0,0)
1336846898634: Make FirstLeg Ack regardless of new or already-processed requests
1336846898634: Note down new request by adding requestCounter=5002045 to HashMap processedRequests
1336846898634: Sending PROC_REQUEST 11:7 (1,0)->(0,0)
1336846898635: mux: I got a CSM packet at a leader 
1336846898635: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846898636: Sending UDP payload: 1006
1336846898637: --- Finished one round of sending REQUEST Packet ---------
1336846898637: forwarding disabled, not forwarding packets
1336846898669: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846898762: Received UDP payload: 3803
1336846898764: DSM layer: Going to and from remote region took latency = 131
1336846898764: Received PROC_REPLY 11:7 (0,0)->(1,0), handing to UserApp
1336846898764: inside handleDSMReply. Now back in originator leader of region 1
1336846898764: mux: GOT CSM_Msg
1336846898765: DSM layer: orig leader sent packet at 1336846898633 ~ received reply from remote leader at 1336846898764
1336846898765: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846898765: leader client reply has replyCounter: 500204500
1336846898766: inside sendReplies of replyCount = 500204500
1336846898766: reply packet contains the newest photo/success info from the remote region
1336846898768: === Finished one round of sending REPLY Packet =======
1336846898768: =======================
1336846898768: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846898768: Leader about to send REPLY packet, number: 500204500 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846898768: inside sendReplyRepeatingRunnable for replyCount = 500204500
1336846898772: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846898772: Inside _enableButtons
1336846898772: disabling progressdialog due to successful new photo get
1336846898773: areButtonsEnabled --> true
1336846898774: inside finalLegAck: change requestCounter to 46
1336846898774: send final leg ack regardless of new or already-processed reply
1336846898775: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002046 Client in region: (1,0) Client nodID: 5002
1336846898775: I'm a leader client, my final_leg packet going to mux directly
1336846898775: inside handleClientRequest. Originator leader of region 1
1336846898775: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846898775: mux: Inside mux Packet.CLIENT_REQUEST
1336846898776: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500204500
1336846898776: Yay the last leg succeeded. Removing reply runnables ...
1336846898776: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500204500
1336846898776: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500204500
1336846898776: do not send ack for received final_leg_ack
1336846898776: got new request, requestCounter = 5002046
1336846898777: new client_show_remotephoto reply with replyCounter 500204500
1336846898777: note down new reply by adding replyCounter=500204500 to HashMap processedReplies
1336846898778: = leader download start 1336846898632 ~ stop 1336846898772
1336846898778: leader download remote photo latency = 140
1336846898779: one more getGood: 19
1336846898780: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=19 getBad=0 getTimedout=0 getPercent=100%
1336846898787: adding get latency: 140
1336846898788: Remote photo's length: 2775
1336846898788: Success! Client getting photo from remote region, showing photo...
1336846899406: Received UDP payload: 446
1336846900795: Received UDP payload: 446
1336846901389: Received UDP payload: 446
1336846902197: Received UDP payload: 446
1336846902408: inside sendPacket(Packet p)
1336846902409: Sending UDP payload: 446
1336846903176: Received UDP payload: 446
1336846903810: Received UDP payload: 1006
1336846903818: forwarding disabled, not forwarding packets
1336846903818: mux: GOT CSM_Msg
1336846903909: Received UDP payload: 3803
1336846903911: forwarding disabled, not forwarding packets
1336846903911: mux: GOT CSM_Msg
1336846904410: Received UDP payload: 446
1336846905812: Received UDP payload: 446
1336846906369: Received UDP payload: 446
1336846907209: Received UDP payload: 446
1336846907409: inside sendPacket(Packet p)
1336846907412: Sending UDP payload: 446
1336846908178: Received UDP payload: 446
1336846909043: Received UDP payload: 1006
1336846909050: forwarding disabled, not forwarding packets
1336846909050: mux: GOT CSM_Msg
1336846909126: Received UDP payload: 3803
1336846909132: forwarding disabled, not forwarding packets
1336846909132: mux: GOT CSM_Msg
1336846909413: Received UDP payload: 446
1336846910599: Received UDP payload: 642
1336846910603: mux: Inside mux Packet.CLIENT_REQUEST
1336846910660: Received UDP payload: 1006
1336846910667: forwarding disabled, not forwarding packets
1336846910667: mux: GOT CSM_Msg
1336846910668: Received UDP payload: 446
1336846910672: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846910672: mux: Inside Packet.SERVER_REPLY
1336846910742: Received UDP payload: 3803
1336846910749: mux: GOT CSM_Msg
1336846910750: forwarding disabled, not forwarding packets
1336846910799: Received UDP payload: 3456
1336846910804: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846910804: mux: Inside Packet.SERVER_REPLY
1336846910810: Received UDP payload: 446
1336846910816: Received UDP payload: 446
1336846910820: mux: Inside mux Packet.CLIENT_REQUEST
1336846911368: Received UDP payload: 446
1336846911590: Received UDP payload: 1006
1336846911601: mux: GOT CSM_Msg
1336846911602: forwarding disabled, not forwarding packets
1336846911683: Received UDP payload: 3803
1336846911690: forwarding disabled, not forwarding packets
1336846911690: mux: GOT CSM_Msg
1336846912235: Received UDP payload: 446
1336846912410: inside sendPacket(Packet p)
1336846912413: Sending UDP payload: 446
1336846913186: Received UDP payload: 446
1336846914269: Received UDP payload: 1006
1336846914278: forwarding disabled, not forwarding packets
1336846914278: mux: GOT CSM_Msg
1336846914362: Received UDP payload: 3803
1336846914369: forwarding disabled, not forwarding packets
1336846914369: mux: GOT CSM_Msg
1336846914414: Received UDP payload: 446
1336846915818: Received UDP payload: 642
1336846915823: mux: Inside mux Packet.CLIENT_REQUEST
1336846915835: Received UDP payload: 446
1336846915872: Received UDP payload: 1006
1336846915881: forwarding disabled, not forwarding packets
1336846915881: mux: GOT CSM_Msg
1336846915886: Received UDP payload: 446
1336846915888: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846915888: mux: Inside Packet.SERVER_REPLY
1336846915932: Received UDP payload: 3803
1336846915934: forwarding disabled, not forwarding packets
1336846915934: mux: GOT CSM_Msg
1336846915987: Received UDP payload: 3456
1336846915989: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846915989: mux: Inside Packet.SERVER_REPLY
1336846916004: Received UDP payload: 446
1336846916005: mux: Inside mux Packet.CLIENT_REQUEST
1336846916394: Received UDP payload: 446
1336846917236: Received UDP payload: 446
1336846917415: inside sendPacket(Packet p)
1336846917428: Sending UDP payload: 446
1336846918189: Received UDP payload: 446
1336846919414: Received UDP payload: 446
1336846920840: Received UDP payload: 446
1336846921385: Received UDP payload: 446
1336846922257: Received UDP payload: 446
1336846922430: inside sendPacket(Packet p)
1336846922442: Sending UDP payload: 446
1336846923085: areButtonsEnabled --> false 
1336846923085: canPressButton = TRUE
1336846923086: areButtonsEnabled --> false
1336846923086: get picture disableButtonsR
1336846923099: one more getNum: 20
1336846923100: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=19 getBad=0 getTimedout=0 getPercent=95%
1336846923101: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846923101: change local requestCounter to 47
1336846923102: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002047 Client in region: 1 Client nodID: 5002
1336846923133: ----------------------------
1336846923134: I'm a leader, my requesting photos packet going to mux directly
1336846923134: inside sendRequestPacketRepeatingRunnable for requestCount = 5002047
1336846923135: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846923135: got new request, requestCounter = 5002047
1336846923135: inside handleClientRequest. Originator leader of region 1
1336846923135: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846923135: mux: Inside mux Packet.CLIENT_REQUEST
1336846923136: Dispatching Atom PROC_REQUEST 11:14 (1,0)->(1,0)
1336846923136: Sending PROC_REQUEST 11:14 (1,0)->(1,0)
1336846923136: Sending to region: 1
1336846923137: Make FirstLeg Ack regardless of new or already-processed requests
1336846923137: Note down new request by adding requestCounter=5002047 to HashMap processedRequests
1336846923137: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846923138: mux: I got a CSM packet at a leader 
1336846923139: Sending UDP payload: 1006
1336846923139: removed replies before id 14 from sentReplies of size 0
1336846923140: INSIDE SERVER_GET_PHOTO!!!
1336846923140: inside handleDSMRequest. At requests's remote leader of region 1
1336846923141:  1 self to self atomRequest
1336846923141: dst_region == src_region = 1
1336846923142: Dispatching Atom PROC_REPLY 11:14 (1,0)->(1,0)
1336846923142: Received PROC_REQUEST 11:14 (1,0)->(1,0), replying PROC_REPLY 11:14 (1,0)->(1,0)
1336846923142: mux: I got a CSM packet at a leader 
1336846923143: Sending UDP payload: 3744
1336846923144: --- Finished one round of sending REQUEST Packet ---------
1336846923150: DSM layer: Going to and from remote region took latency = 14
1336846923150: Received PROC_REPLY 11:14 (1,0)->(1,0), handing to UserApp
1336846923150: inside handleDSMReply. Now back in originator leader of region 1
1336846923151: DSM layer: orig leader sent packet at 1336846923136 ~ received reply from remote leader at 1336846923150
1336846923151: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846923152: =======================
1336846923152: inside sendReplies of replyCount = 500204700
1336846923152: inside sendReplyRepeatingRunnable for replyCount = 500204700
1336846923152: leader client reply has replyCounter: 500204700
1336846923152: reply packet contains the newest photo/success info from the remote region
1336846923153: === Finished one round of sending REPLY Packet =======
1336846923153: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846923153: Leader about to send REPLY packet, number: 500204700 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846923189: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846923191: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846923194: Received UDP payload: 446
1336846923198: disabling progressdialog due to successful new photo get
1336846923199: Inside _enableButtons
1336846923199: areButtonsEnabled --> true
1336846923199: inside finalLegAck: change requestCounter to 48
1336846923199: send final leg ack regardless of new or already-processed reply
1336846923200: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002048 Client in region: (1,0) Client nodID: 5002
1336846923200: I'm a leader client, my final_leg packet going to mux directly
1336846923202: mux: Inside mux Packet.CLIENT_REQUEST
1336846923203: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500204700
1336846923203: Yay the last leg succeeded. Removing reply runnables ...
1336846923203: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500204700
1336846923203: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500204700
1336846923203: do not send ack for received final_leg_ack
1336846923203: got new request, requestCounter = 5002048
1336846923203: inside handleClientRequest. Originator leader of region 1
1336846923203: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846923204: = leader download start 1336846923134 ~ stop 1336846923191
1336846923204: leader download remote photo latency = 57
1336846923204: new client_show_remotephoto reply with replyCounter 500204700
1336846923204: note down new reply by adding replyCounter=500204700 to HashMap processedReplies
1336846923205: one more getGood: 20
1336846923206: adding get latency: 57
1336846923206: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=20 getBad=0 getTimedout=0 getPercent=100%
1336846923207: Remote photo's length: 2716
1336846923207: Success! Client getting photo from remote region, showing photo...
1336846924297: Received UDP payload: 642
1336846924301: mux: Inside mux Packet.CLIENT_REQUEST
1336846924302: inside handleClientRequest. Originator leader of region 1
1336846924302: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846924303: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846924303: got new request, requestCounter = 5022047
1336846924315: Sending to region: 1
1336846924318: Sending PROC_REQUEST 11:15 (1,0)->(1,0)
1336846924319: Dispatching Atom PROC_REQUEST 11:15 (1,0)->(1,0)
1336846924320: Make FirstLeg Ack regardless of new or already-processed requests
1336846924320: Note down new request by adding requestCounter=5022047 to HashMap processedRequests
1336846924321: The leader sending a First Leg ack to originator client (which id = 5022)
1336846924321: inside sendPacket(Packet p)
1336846924322: mux: I got a CSM packet at a leader 
1336846924335: Sending UDP payload: 1006
1336846924346: removed replies before id 15 from sentReplies of size 0
1336846924347: inside handleDSMRequest. At requests's remote leader of region 1
1336846924349: INSIDE SERVER_GET_PHOTO!!!
1336846924351:  1 self to self atomRequest
1336846924351: dst_region == src_region = 1
1336846924362: Received PROC_REQUEST 11:15 (1,0)->(1,0), replying PROC_REPLY 11:15 (1,0)->(1,0)
1336846924363: Dispatching Atom PROC_REPLY 11:15 (1,0)->(1,0)
1336846924366: Sending UDP payload: 446
1336846924376: mux: I got a CSM packet at a leader 
1336846924380: Sending UDP payload: 3744
1336846924389: Received PROC_REPLY 11:15 (1,0)->(1,0), handing to UserApp
1336846924389: inside handleDSMReply. Now back in originator leader of region 1
1336846924390: DSM layer: Going to and from remote region took latency = 74
1336846924390: DSM layer: orig leader sent packet at 1336846924315 ~ received reply from remote leader at 1336846924389
1336846924393: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846924394: leader client reply has replyCounter: 502204700
1336846924394: reply packet contains the newest photo/success info from the remote region
1336846924406: inside sendReplies of replyCount = 502204700
1336846924407: =======================
1336846924407: inside sendReplyRepeatingRunnable for replyCount = 502204700
1336846924408: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846924408: Leader about to send REPLY packet, number: 502204700 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846924409: === Finished one round of sending REPLY Packet =======
1336846924409: inside sendPacket(Packet p)
1336846924422: Sending UDP payload: 3397
1336846924430: Received UDP payload: 446
1336846924485: Received UDP payload: 446
1336846924489: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846924489: mux: Inside mux Packet.CLIENT_REQUEST
1336846924490: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502204700
1336846924490: got new request, requestCounter = 5022048
1336846924490: inside handleClientRequest. Originator leader of region 1
1336846924492: Yay the last leg succeeded. Removing reply runnables ...
1336846924492: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502204700
1336846924493: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502204700
1336846924493: do not send ack for received final_leg_ack
1336846925740: Received UDP payload: 642
1336846925748: mux: Inside mux Packet.CLIENT_REQUEST
1336846925792: Received UDP payload: 1006
1336846925803: mux: GOT CSM_Msg
1336846925803: removed replies before id 6 from sentReplies of size 0
1336846925804: inside handleDSMRequest. At requests's remote leader of region 1
1336846925806: INSIDE SERVER_GET_PHOTO!!!
1336846925810: Received PROC_REQUEST 11:6 (0,0)->(1,0), replying PROC_REPLY 11:6 (1,0)->(0,0)
1336846925811: Dispatching Atom PROC_REPLY 11:6 (1,0)->(0,0)
1336846925811: mux: I got a CSM packet at a leader 
1336846925812: Sending UDP payload: 3744
1336846925812: forwarding disabled, not forwarding packets
1336846925814: Received UDP payload: 446
1336846925823: mux: Inside Packet.SERVER_REPLY
1336846925824: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846925849: Received UDP payload: 446
1336846925950: Received UDP payload: 3397
1336846925952: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846925952: mux: Inside Packet.SERVER_REPLY
1336846925964: Received UDP payload: 446
1336846925965: mux: Inside mux Packet.CLIENT_REQUEST
1336846926396: Received UDP payload: 446
1336846927145: Received UDP payload: 1006
1336846927152: mux: GOT CSM_Msg
1336846927153: inside handleDSMRequest. At requests's remote leader of region 1
1336846927153: removed replies before id 7 from sentReplies of size 0
1336846927156: INSIDE SERVER_GET_PHOTO!!!
1336846927161: Received PROC_REQUEST 11:7 (0,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(0,0)
1336846927162: Dispatching Atom PROC_REPLY 11:7 (1,0)->(0,0)
1336846927162: mux: I got a CSM packet at a leader 
1336846927187: Sending UDP payload: 3744
1336846927190: forwarding disabled, not forwarding packets
1336846927444: inside sendPacket(Packet p)
1336846927446: Sending UDP payload: 446
1336846928205: Received UDP payload: 446
1336846929420: Received UDP payload: 446
1336846930890: Received UDP payload: 446
1336846931400: Received UDP payload: 446
1336846932068: Received UDP payload: 1006
1336846932077: mux: GOT CSM_Msg
1336846932077: removed replies before id 3 from sentReplies of size 0
1336846932078: inside handleDSMRequest. At requests's remote leader of region 1
1336846932080: INSIDE SERVER_GET_PHOTO!!!
1336846932084: Received PROC_REQUEST 11:3 (3,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(3,0)
1336846932107: Dispatching Atom PROC_REPLY 11:3 (1,0)->(3,0)
1336846932108: mux: I got a CSM packet at a leader 
1336846932111: Sending UDP payload: 3744
1336846932127: forwarding disabled, not forwarding packets
1336846932446: inside sendPacket(Packet p)
1336846932447: Sending UDP payload: 446
1336846933222: Received UDP payload: 446
1336846934418: Received UDP payload: 446
1336846935088: Received UDP payload: 1006
1336846935096: mux: GOT CSM_Msg
1336846935097: removed replies before id 3 from sentReplies of size 0
1336846935098: inside handleDSMRequest. At requests's remote leader of region 1
1336846935100: INSIDE SERVER_GET_PHOTO!!!
1336846935132: Received PROC_REQUEST 11:3 (2,0)->(1,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1336846935133: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1336846935133: mux: I got a CSM packet at a leader 
1336846935137: Sending UDP payload: 3744
1336846935144: forwarding disabled, not forwarding packets
1336846935856: Received UDP payload: 446
1336846936402: Received UDP payload: 446
1336846937298: Received UDP payload: 446
1336846937447: inside sendPacket(Packet p)
1336846937450: Sending UDP payload: 446
1336846937706: Received UDP payload: 642
1336846937711: mux: Inside mux Packet.CLIENT_REQUEST
1336846937765: Received UDP payload: 1006
1336846937773: mux: GOT CSM_Msg
1336846937773: removed replies before id 6 from sentReplies of size 0
1336846937774: inside handleDSMRequest. At requests's remote leader of region 1
1336846937776: INSIDE SERVER_GET_PHOTO!!!
1336846937780: Received PROC_REQUEST 11:6 (5,0)->(1,0), replying PROC_REPLY 11:6 (1,0)->(5,0)
1336846937781: Dispatching Atom PROC_REPLY 11:6 (1,0)->(5,0)
1336846937782: mux: I got a CSM packet at a leader 
1336846937788: Received UDP payload: 446
1336846937795: Sending UDP payload: 3744
1336846937801: forwarding disabled, not forwarding packets
1336846937801: mux: Inside Packet.SERVER_REPLY
1336846937802: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846937887: Received UDP payload: 3397
1336846937888: mux: Inside Packet.SERVER_REPLY
1336846937889: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846937898: Received UDP payload: 446
1336846937900: mux: Inside mux Packet.CLIENT_REQUEST
1336846938211: Received UDP payload: 446
1336846938946: Received UDP payload: 1006
1336846938959: mux: GOT CSM_Msg
1336846938960: removed replies before id 7 from sentReplies of size 0
1336846938961: inside handleDSMRequest. At requests's remote leader of region 1
1336846938963: INSIDE SERVER_GET_PHOTO!!!
1336846938978: Received PROC_REQUEST 11:7 (5,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(5,0)
1336846938980: Dispatching Atom PROC_REPLY 11:7 (1,0)->(5,0)
1336846938981: mux: I got a CSM packet at a leader 
1336846938997: Sending UDP payload: 3744
1336846938998: forwarding disabled, not forwarding packets
1336846939417: Received UDP payload: 446
1336846940863: Received UDP payload: 446
1336846941408: Received UDP payload: 446
1336846941729: Received UDP payload: 1006
1336846941738: mux: GOT CSM_Msg
1336846941739: inside handleDSMRequest. At requests's remote leader of region 1
1336846941739: removed replies before id 6 from sentReplies of size 0
1336846941741: INSIDE SERVER_GET_PHOTO!!!
1336846941758: Received PROC_REQUEST 11:6 (4,0)->(1,0), replying PROC_REPLY 11:6 (1,0)->(4,0)
1336846941759: Dispatching Atom PROC_REPLY 11:6 (1,0)->(4,0)
1336846941759: mux: I got a CSM packet at a leader 
1336846941763: Sending UDP payload: 3744
1336846941777: forwarding disabled, not forwarding packets
1336846942297: Received UDP payload: 446
1336846942448: inside sendPacket(Packet p)
1336846942450: Sending UDP payload: 446
1336846942921: Received UDP payload: 642
1336846942926: mux: Inside mux Packet.CLIENT_REQUEST
1336846942977: Received UDP payload: 1006
1336846942988: mux: GOT CSM_Msg
1336846942988: removed replies before id 7 from sentReplies of size 0
1336846942989: inside handleDSMRequest. At requests's remote leader of region 1
1336846942990: INSIDE SERVER_GET_PHOTO!!!
1336846942995: Received UDP payload: 446
1336846943005: Received PROC_REQUEST 11:7 (4,0)->(1,0), replying PROC_REPLY 11:7 (1,0)->(4,0)
1336846943006: Dispatching Atom PROC_REPLY 11:7 (1,0)->(4,0)
1336846943006: mux: Inside Packet.SERVER_REPLY
1336846943007: mux: I got a CSM packet at a leader 
1336846943007: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846943010: Sending UDP payload: 3744
1336846943019: forwarding disabled, not forwarding packets
1336846943096: Received UDP payload: 3397
1336846943098: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846943098: mux: Inside Packet.SERVER_REPLY
1336846943119: Received UDP payload: 446
1336846943121: mux: Inside mux Packet.CLIENT_REQUEST
1336846943209: Received UDP payload: 446
1336846944441: Received UDP payload: 446
1336846945877: Received UDP payload: 446
1336846946429: Received UDP payload: 446
1336846947305: Received UDP payload: 446
1336846947452: inside sendPacket(Packet p)
1336846947455: Sending UDP payload: 446
1336846948216: Received UDP payload: 446
1336846949436: Received UDP payload: 446
1336846950891: Received UDP payload: 446
1336846951099: Received UDP payload: 642
1336846951104: mux: Inside mux Packet.CLIENT_REQUEST
1336846951105: inside handleClientRequest. Originator leader of region 1
1336846951105: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846951106: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846951106: got new request, requestCounter = 5022049
1336846951108: Sending to region: 2
1336846951109: Sending PROC_REQUEST 11:6 (1,0)->(2,0)
1336846951110: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(2,0)
1336846951111: Make FirstLeg Ack regardless of new or already-processed requests
1336846951111: Note down new request by adding requestCounter=5022049 to HashMap processedRequests
1336846951111: The leader sending a First Leg ack to originator client (which id = 5022)
1336846951111: inside sendPacket(Packet p)
1336846951112: mux: I got a CSM packet at a leader 
1336846951132: Sending UDP payload: 1006
1336846951145: forwarding disabled, not forwarding packets
1336846951147: Sending UDP payload: 446
1336846951235: Received UDP payload: 3791
1336846951238: mux: GOT CSM_Msg
1336846951239: Received PROC_REPLY 11:6 (2,0)->(1,0), handing to UserApp
1336846951239: inside handleDSMReply. Now back in originator leader of region 1
1336846951240: DSM layer: Going to and from remote region took latency = 131
1336846951240: DSM layer: orig leader sent packet at 1336846951108 ~ received reply from remote leader at 1336846951239
1336846951242: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846951242: leader client reply has replyCounter: 502204900
1336846951242: reply packet contains the newest photo/success info from the remote region
1336846951243: =======================
1336846951243: Leader about to send REPLY packet, number: 502204900 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846951243: inside sendReplies of replyCount = 502204900
1336846951243: inside sendReplyRepeatingRunnable for replyCount = 502204900
1336846951244: === Finished one round of sending REPLY Packet =======
1336846951244: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846951244: inside sendPacket(Packet p)
1336846951252: Sending UDP payload: 3444
1336846951307: Received UDP payload: 446
1336846951308: mux: Inside mux Packet.CLIENT_REQUEST
1336846951309: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502204900
1336846951309: got new request, requestCounter = 5022050
1336846951309: inside handleClientRequest. Originator leader of region 1
1336846951309: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846951310: Yay the last leg succeeded. Removing reply runnables ...
1336846951310: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502204900
1336846951310: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502204900
1336846951311: do not send ack for received final_leg_ack
1336846951433: Received UDP payload: 446
1336846952299: areButtonsEnabled --> false 
1336846952299: canPressButton = TRUE
1336846952299: get picture disableButtonsR
1336846952300: areButtonsEnabled --> false
1336846952315: Received UDP payload: 446
1336846952327: one more getNum: 21
1336846952328: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=20 getBad=0 getTimedout=0 getPercent=95%
1336846952329: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846952331: change local requestCounter to 49
1336846952332: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002049 Client in region: 1 Client nodID: 5002
1336846952368: ----------------------------
1336846952368: inside sendRequestPacketRepeatingRunnable for requestCount = 5002049
1336846952369: --- Finished one round of sending REQUEST Packet ---------
1336846952369: I'm a leader, my requesting photos packet going to mux directly
1336846952370: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846952370: got new request, requestCounter = 5002049
1336846952370: inside handleClientRequest. Originator leader of region 1
1336846952370: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846952370: mux: Inside mux Packet.CLIENT_REQUEST
1336846952371: Sending PROC_REQUEST 11:7 (1,0)->(2,0)
1336846952371: Sending to region: 2
1336846952372: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(2,0)
1336846952372: Make FirstLeg Ack regardless of new or already-processed requests
1336846952372: Note down new request by adding requestCounter=5002049 to HashMap processedRequests
1336846952372: mux: I got a CSM packet at a leader 
1336846952372: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846952379: Sending UDP payload: 1006
1336846952384: forwarding disabled, not forwarding packets
1336846952419: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846952454: inside sendPacket(Packet p)
1336846952455: Sending UDP payload: 446
1336846952467: Received UDP payload: 642
1336846952472: mux: Inside mux Packet.CLIENT_REQUEST
1336846952490: Received UDP payload: 3791
1336846952506: mux: GOT CSM_Msg
1336846952507: DSM layer: Going to and from remote region took latency = 136
1336846952507: DSM layer: orig leader sent packet at 1336846952371 ~ received reply from remote leader at 1336846952507
1336846952507: Received PROC_REPLY 11:7 (2,0)->(1,0), handing to UserApp
1336846952507: inside handleDSMReply. Now back in originator leader of region 1
1336846952508: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846952508: inside sendReplies of replyCount = 500204900
1336846952508: leader client reply has replyCounter: 500204900
1336846952508: reply packet contains the newest photo/success info from the remote region
1336846952509: === Finished one round of sending REPLY Packet =======
1336846952509: =======================
1336846952509: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846952509: Leader about to send REPLY packet, number: 500204900 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846952509: inside sendReplyRepeatingRunnable for replyCount = 500204900
1336846952529: Received UDP payload: 1006
1336846952532: forwarding disabled, not forwarding packets
1336846952532: mux: GOT CSM_Msg
1336846952535: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846952536: Inside _enableButtons
1336846952536: disabling progressdialog due to successful new photo get
1336846952537: Received UDP payload: 446
1336846952538: areButtonsEnabled --> true
1336846952538: mux: Inside Packet.SERVER_REPLY
1336846952538: send final leg ack regardless of new or already-processed reply
1336846952539: inside finalLegAck: change requestCounter to 50
1336846952539: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846952540: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002050 Client in region: (1,0) Client nodID: 5002
1336846952540: I'm a leader client, my final_leg packet going to mux directly
1336846952541: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846952541: mux: Inside mux Packet.CLIENT_REQUEST
1336846952541: new client_show_remotephoto reply with replyCounter 500204900
1336846952542: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500204900
1336846952542: Yay the last leg succeeded. Removing reply runnables ...
1336846952542: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500204900
1336846952542: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500204900
1336846952542: got new request, requestCounter = 5002050
1336846952542: inside handleClientRequest. Originator leader of region 1
1336846952542: note down new reply by adding replyCounter=500204900 to HashMap processedReplies
1336846952543: = leader download start 1336846952369 ~ stop 1336846952535
1336846952543: do not send ack for received final_leg_ack
1336846952543: leader download remote photo latency = 166
1336846952546: one more getGood: 21
1336846952548: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=21 getBad=0 getTimedout=0 getPercent=100%
1336846952550: adding get latency: 166
1336846952552: Success! Client getting photo from remote region, showing photo...
1336846952553: Remote photo's length: 2763
1336846952586: Received UDP payload: 3791
1336846952588: forwarding disabled, not forwarding packets
1336846952588: mux: GOT CSM_Msg
1336846952639: Received UDP payload: 3444
1336846952641: mux: Inside Packet.SERVER_REPLY
1336846952642: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846952654: Received UDP payload: 446
1336846952660: mux: Inside mux Packet.CLIENT_REQUEST
1336846953213: Received UDP payload: 446
1336846953808: Received UDP payload: 1006
1336846953818: forwarding disabled, not forwarding packets
1336846953818: mux: GOT CSM_Msg
1336846953888: Received UDP payload: 3791
1336846953897: forwarding disabled, not forwarding packets
1336846953897: mux: GOT CSM_Msg
1336846954428: Received UDP payload: 446
1336846955895: Received UDP payload: 446
1336846956434: Received UDP payload: 446
1336846957335: Received UDP payload: 446
1336846957456: inside sendPacket(Packet p)
1336846957459: Sending UDP payload: 446
1336846958260: Received UDP payload: 446
1336846958543: Received UDP payload: 1006
1336846958551: mux: GOT CSM_Msg
1336846958552: forwarding disabled, not forwarding packets
1336846958640: Received UDP payload: 3791
1336846958648: forwarding disabled, not forwarding packets
1336846958648: mux: GOT CSM_Msg
1336846959486: Received UDP payload: 446
1336846960895: Received UDP payload: 446
1336846961446: Received UDP payload: 446
1336846962181: Received UDP payload: 1006
1336846962189: forwarding disabled, not forwarding packets
1336846962189: mux: GOT CSM_Msg
1336846962223: Received UDP payload: 3791
1336846962236: forwarding disabled, not forwarding packets
1336846962236: mux: GOT CSM_Msg
1336846962339: Received UDP payload: 446
1336846962457: inside sendPacket(Packet p)
1336846962458: Sending UDP payload: 446
1336846963223: Received UDP payload: 446
1336846964036: Received UDP payload: 642
1336846964037: mux: Inside mux Packet.CLIENT_REQUEST
1336846964093: Received UDP payload: 1006
1336846964095: forwarding disabled, not forwarding packets
1336846964095: mux: GOT CSM_Msg
1336846964100: Received UDP payload: 446
1336846964101: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846964101: mux: Inside Packet.SERVER_REPLY
1336846964157: Received UDP payload: 3791
1336846964159: forwarding disabled, not forwarding packets
1336846964159: mux: GOT CSM_Msg
1336846964210: Received UDP payload: 3444
1336846964211: mux: Inside Packet.SERVER_REPLY
1336846964212: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846964221: Received UDP payload: 446
1336846964222: mux: Inside mux Packet.CLIENT_REQUEST
1336846964518: Received UDP payload: 446
1336846965042: Received UDP payload: 1006
1336846965047: forwarding disabled, not forwarding packets
1336846965047: mux: GOT CSM_Msg
1336846965136: Received UDP payload: 3791
1336846965142: forwarding disabled, not forwarding packets
1336846965142: mux: GOT CSM_Msg
1336846965896: Received UDP payload: 446
1336846966501: Received UDP payload: 446
1336846967341: Received UDP payload: 446
1336846967459: inside sendPacket(Packet p)
1336846967463: Sending UDP payload: 446
1336846968218: Received UDP payload: 446
1336846968530: Received UDP payload: 1006
1336846968539: forwarding disabled, not forwarding packets
1336846968539: mux: GOT CSM_Msg
1336846968624: Received UDP payload: 3791
1336846968631: forwarding disabled, not forwarding packets
1336846968631: mux: GOT CSM_Msg
1336846969445: Received UDP payload: 446
1336846969730: Received UDP payload: 642
1336846969736: mux: Inside mux Packet.CLIENT_REQUEST
1336846969781: Received UDP payload: 1006
1336846969788: Received UDP payload: 446
1336846969788: forwarding disabled, not forwarding packets
1336846969788: mux: GOT CSM_Msg
1336846969789: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846969789: mux: Inside Packet.SERVER_REPLY
1336846969831: Received UDP payload: 3791
1336846969833: forwarding disabled, not forwarding packets
1336846969833: mux: GOT CSM_Msg
1336846969872: Received UDP payload: 3444
1336846969874: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846969874: mux: Inside Packet.SERVER_REPLY
1336846969886: Received UDP payload: 446
1336846969888: mux: Inside mux Packet.CLIENT_REQUEST
1336846970902: Received UDP payload: 446
1336846971468: Received UDP payload: 446
1336846972347: Received UDP payload: 446
1336846972460: inside sendPacket(Packet p)
1336846972463: Sending UDP payload: 446
1336846973225: Received UDP payload: 446
1336846974446: Received UDP payload: 446
1336846975629: canPressButton = TRUE
1336846975630: areButtonsEnabled --> false
1336846975630: areButtonsEnabled --> false 
1336846975630: get picture disableButtonsR
1336846975656: one more getNum: 22
1336846975657: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846975657: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=21 getBad=0 getTimedout=0 getPercent=95%
1336846975658: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002051 Client in region: 1 Client nodID: 5002
1336846975658: change local requestCounter to 51
1336846975689: ----------------------------
1336846975690: I'm a leader, my requesting photos packet going to mux directly
1336846975690: inside handleClientRequest. Originator leader of region 1
1336846975690: inside sendRequestPacketRepeatingRunnable for requestCount = 5002051
1336846975690: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846975690: mux: Inside mux Packet.CLIENT_REQUEST
1336846975691: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846975691: got new request, requestCounter = 5002051
1336846975692: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(3,0)
1336846975692: Sending PROC_REQUEST 11:6 (1,0)->(3,0)
1336846975692: Sending to region: 3
1336846975693: Make FirstLeg Ack regardless of new or already-processed requests
1336846975693: Note down new request by adding requestCounter=5002051 to HashMap processedRequests
1336846975693: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336846975694: mux: I got a CSM packet at a leader 
1336846975696: --- Finished one round of sending REQUEST Packet ---------
1336846975696: Sending UDP payload: 1006
1336846975696: forwarding disabled, not forwarding packets
1336846975737: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846975762: Received UDP payload: 3734
1336846975764: mux: GOT CSM_Msg
1336846975765: DSM layer: Going to and from remote region took latency = 73
1336846975765: DSM layer: orig leader sent packet at 1336846975692 ~ received reply from remote leader at 1336846975765
1336846975765: Received PROC_REPLY 11:6 (3,0)->(1,0), handing to UserApp
1336846975765: inside handleDSMReply. Now back in originator leader of region 1
1336846975766: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846975766: inside sendReplies of replyCount = 500205100
1336846975766: leader client reply has replyCounter: 500205100
1336846975766: reply packet contains the newest photo/success info from the remote region
1336846975768: === Finished one round of sending REPLY Packet =======
1336846975768: =======================
1336846975768: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336846975768: Leader about to send REPLY packet, number: 500205100 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336846975768: inside sendReplyRepeatingRunnable for replyCount = 500205100
1336846975780: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846975780: Inside _enableButtons
1336846975780: disabling progressdialog due to successful new photo get
1336846975781: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002052 Client in region: (1,0) Client nodID: 5002
1336846975781: areButtonsEnabled --> true
1336846975781: inside finalLegAck: change requestCounter to 52
1336846975781: send final leg ack regardless of new or already-processed reply
1336846975782: I'm a leader client, my final_leg packet going to mux directly
1336846975782: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500205100
1336846975782: Yay the last leg succeeded. Removing reply runnables ...
1336846975782: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500205100
1336846975782: got new request, requestCounter = 5002052
1336846975782: inside handleClientRequest. Originator leader of region 1
1336846975782: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846975782: mux: Inside mux Packet.CLIENT_REQUEST
1336846975783: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500205100
1336846975783: do not send ack for received final_leg_ack
1336846975783: new client_show_remotephoto reply with replyCounter 500205100
1336846975784: = leader download start 1336846975690 ~ stop 1336846975780
1336846975784: leader download remote photo latency = 90
1336846975784: note down new reply by adding replyCounter=500205100 to HashMap processedReplies
1336846975785: one more getGood: 22
1336846975786: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=22 getBad=0 getTimedout=0 getPercent=100%
1336846975787: Remote photo's length: 2706
1336846975787: Success! Client getting photo from remote region, showing photo...
1336846975787: adding get latency: 90
1336846975894: Received UDP payload: 446
1336846976470: Received UDP payload: 446
1336846977354: Received UDP payload: 446
1336846977460: inside sendPacket(Packet p)
1336846977463: Sending UDP payload: 446
1336846978229: Received UDP payload: 446
1336846978466: Received UDP payload: 642
1336846978472: mux: Inside mux Packet.CLIENT_REQUEST
1336846978515: Received UDP payload: 1006
1336846978521: mux: GOT CSM_Msg
1336846978522: forwarding disabled, not forwarding packets
1336846978527: Received UDP payload: 446
1336846978528: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846978528: mux: Inside Packet.SERVER_REPLY
1336846978595: Received UDP payload: 3734
1336846978597: mux: GOT CSM_Msg
1336846978598: forwarding disabled, not forwarding packets
1336846978656: Received UDP payload: 3387
1336846978657: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846978657: mux: Inside Packet.SERVER_REPLY
1336846978668: Received UDP payload: 446
1336846978669: mux: Inside mux Packet.CLIENT_REQUEST
1336846979455: Received UDP payload: 446
1336846979893: Received UDP payload: 642
1336846979898: mux: Inside mux Packet.CLIENT_REQUEST
1336846979899: got new request, requestCounter = 5022051
1336846979899: inside handleClientRequest. Originator leader of region 1
1336846979899: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846979900: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846979901: Sending to region: 3
1336846979916: Sending PROC_REQUEST 11:7 (1,0)->(3,0)
1336846979917: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(3,0)
1336846979918: Make FirstLeg Ack regardless of new or already-processed requests
1336846979918: Note down new request by adding requestCounter=5022051 to HashMap processedRequests
1336846979918: The leader sending a First Leg ack to originator client (which id = 5022)
1336846979919: inside sendPacket(Packet p)
1336846979920: mux: I got a CSM packet at a leader 
1336846979923: Sending UDP payload: 1006
1336846979935: forwarding disabled, not forwarding packets
1336846979938: Sending UDP payload: 446
1336846979998: Received UDP payload: 1006
1336846980000: forwarding disabled, not forwarding packets
1336846980000: mux: GOT CSM_Msg
1336846980013: Received UDP payload: 3734
1336846980016: mux: GOT CSM_Msg
1336846980017: DSM layer: Going to and from remote region took latency = 115
1336846980017: DSM layer: orig leader sent packet at 1336846979902 ~ received reply from remote leader at 1336846980017
1336846980017: Received PROC_REPLY 11:7 (3,0)->(1,0), handing to UserApp
1336846980017: inside handleDSMReply. Now back in originator leader of region 1
1336846980018: =======================
1336846980018: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846980018: inside sendReplies of replyCount = 502205100
1336846980018: leader client reply has replyCounter: 502205100
1336846980018: reply packet contains the newest photo/success info from the remote region
1336846980019: === Finished one round of sending REPLY Packet =======
1336846980019: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336846980019: Leader about to send REPLY packet, number: 502205100 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336846980019: inside sendPacket(Packet p)
1336846980019: inside sendReplyRepeatingRunnable for replyCount = 502205100
1336846980020: Sending UDP payload: 3387
1336846980059: Received UDP payload: 3734
1336846980061: mux: GOT CSM_Msg
1336846980062: forwarding disabled, not forwarding packets
1336846980114: Received UDP payload: 446
1336846980115: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846980115: mux: Inside mux Packet.CLIENT_REQUEST
1336846980116: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502205100
1336846980116: Yay the last leg succeeded. Removing reply runnables ...
1336846980116: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502205100
1336846980116: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502205100
1336846980116: do not send ack for received final_leg_ack
1336846980116: got new request, requestCounter = 5022052
1336846980116: inside handleClientRequest. Originator leader of region 1
1336846980898: Received UDP payload: 446
1336846981474: Received UDP payload: 446
1336846982366: Received UDP payload: 446
1336846982381: leader to cloud hearbeat...
1336846982827: inside sendPacket(Packet p)
1336846982835: Sending UDP payload: 446
1336846987836: Sending UDP payload: 446
1336846987836: inside sendPacket(Packet p)
1336846990922: Received UDP payload: 446
1336846991046: Received UDP payload: 1006
1336846991054: forwarding disabled, not forwarding packets
1336846991054: mux: GOT CSM_Msg
1336846991151: Received UDP payload: 3734
1336846991158: forwarding disabled, not forwarding packets
1336846991158: mux: GOT CSM_Msg
1336846991485: Received UDP payload: 446
1336846991816: Received UDP payload: 642
1336846991820: mux: Inside mux Packet.CLIENT_REQUEST
1336846991889: Received UDP payload: 1006
1336846991897: mux: GOT CSM_Msg
1336846991898: forwarding disabled, not forwarding packets
1336846991905: Received UDP payload: 446
1336846991909: mux: Inside Packet.SERVER_REPLY
1336846991910: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846991955: Received UDP payload: 3734
1336846991957: forwarding disabled, not forwarding packets
1336846991957: mux: GOT CSM_Msg
1336846992000: Received UDP payload: 3387
1336846992001: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336846992001: mux: Inside Packet.SERVER_REPLY
1336846992012: Received UDP payload: 446
1336846992013: mux: Inside mux Packet.CLIENT_REQUEST
1336846992395: Received UDP payload: 446
1336846992837: inside sendPacket(Packet p)
1336846992840: Sending UDP payload: 446
1336846992888: Received UDP payload: 1006
1336846992894: mux: GOT CSM_Msg
1336846992895: forwarding disabled, not forwarding packets
1336846992978: Received UDP payload: 3734
1336846992981: forwarding disabled, not forwarding packets
1336846992981: mux: GOT CSM_Msg
1336846993303: Received UDP payload: 446
1336846994512: Received UDP payload: 446
1336846995936: Received UDP payload: 446
1336846996506: Received UDP payload: 446
1336846997586: Received UDP payload: 446
1336846997843: inside sendPacket(Packet p)
1336846997846: Sending UDP payload: 446
1336846998310: Received UDP payload: 446
1336846999412: Received UDP payload: 1006
1336846999419: mux: GOT CSM_Msg
1336846999420: forwarding disabled, not forwarding packets
1336846999472: Received UDP payload: 446
1336847000692: Received UDP payload: 642
1336847000697: mux: Inside mux Packet.CLIENT_REQUEST
1336847000746: Received UDP payload: 1006
1336847000753: Received UDP payload: 446
1336847000757: forwarding disabled, not forwarding packets
1336847000757: mux: GOT CSM_Msg
1336847000757: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847000757: mux: Inside Packet.SERVER_REPLY
1336847000819: Received UDP payload: 3734
1336847000821: forwarding disabled, not forwarding packets
1336847000821: mux: GOT CSM_Msg
1336847000868: Received UDP payload: 3387
1336847000870: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847000870: mux: Inside Packet.SERVER_REPLY
1336847000885: Received UDP payload: 446
1336847000887: mux: Inside mux Packet.CLIENT_REQUEST
1336847000921: Received UDP payload: 446
1336847001492: Received UDP payload: 446
1336847002590: Received UDP payload: 446
1336847002845: inside sendPacket(Packet p)
1336847002857: Sending UDP payload: 446
1336847003311: Received UDP payload: 446
1336847003928: areButtonsEnabled --> false 
1336847003928: canPressButton = TRUE
1336847003928: get picture disableButtonsR
1336847003929: areButtonsEnabled --> false
1336847003954: one more getNum: 23
1336847003955: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336847003955: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=22 getBad=0 getTimedout=0 getPercent=95%
1336847003956: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002053 Client in region: 1 Client nodID: 5002
1336847003956: change local requestCounter to 53
1336847003985: ----------------------------
1336847003985: I'm a leader, my requesting photos packet going to mux directly
1336847003985: inside sendRequestPacketRepeatingRunnable for requestCount = 5002053
1336847003986: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847003986: got new request, requestCounter = 5002053
1336847003986: inside handleClientRequest. Originator leader of region 1
1336847003986: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847003986: mux: Inside mux Packet.CLIENT_REQUEST
1336847003987: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(4,0)
1336847003987: Sending PROC_REQUEST 11:6 (1,0)->(4,0)
1336847003987: Sending to region: 4
1336847003988: Make FirstLeg Ack regardless of new or already-processed requests
1336847003988: Note down new request by adding requestCounter=5002053 to HashMap processedRequests
1336847003988: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336847003989: mux: I got a CSM packet at a leader 
1336847003990: Sending UDP payload: 1006
1336847003990: forwarding disabled, not forwarding packets
1336847003991: --- Finished one round of sending REQUEST Packet ---------
1336847004030: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336847004094: Received UDP payload: 3781
1336847004096: Received PROC_REPLY 11:6 (4,0)->(1,0), handing to UserApp
1336847004096: mux: GOT CSM_Msg
1336847004097: DSM layer: Going to and from remote region took latency = 110
1336847004097: DSM layer: orig leader sent packet at 1336847003987 ~ received reply from remote leader at 1336847004097
1336847004097: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847004097: inside handleDSMReply. Now back in originator leader of region 1
1336847004098: =======================
1336847004098: Leader about to send REPLY packet, number: 500205300 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336847004098: inside sendReplies of replyCount = 500205300
1336847004098: inside sendReplyRepeatingRunnable for replyCount = 500205300
1336847004098: leader client reply has replyCounter: 500205300
1336847004098: reply packet contains the newest photo/success info from the remote region
1336847004099: === Finished one round of sending REPLY Packet =======
1336847004099: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336847004100: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336847004100: Inside _enableButtons
1336847004100: disabling progressdialog due to successful new photo get
1336847004101: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002054 Client in region: (1,0) Client nodID: 5002
1336847004101: areButtonsEnabled --> true
1336847004101: inside finalLegAck: change requestCounter to 54
1336847004101: send final leg ack regardless of new or already-processed reply
1336847004102: I'm a leader client, my final_leg packet going to mux directly
1336847004102: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500205300
1336847004102: Yay the last leg succeeded. Removing reply runnables ...
1336847004102: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500205300
1336847004102: got new request, requestCounter = 5002054
1336847004102: inside handleClientRequest. Originator leader of region 1
1336847004102: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847004102: mux: Inside mux Packet.CLIENT_REQUEST
1336847004103: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500205300
1336847004103: do not send ack for received final_leg_ack
1336847004107: = leader download start 1336847003986 ~ stop 1336847004100
1336847004107: leader download remote photo latency = 114
1336847004107: new client_show_remotephoto reply with replyCounter 500205300
1336847004107: note down new reply by adding replyCounter=500205300 to HashMap processedReplies
1336847004108: one more getGood: 23
1336847004109: adding get latency: 114
1336847004109: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=23 getBad=0 getTimedout=0 getPercent=100%
1336847004110: Remote photo's length: 2753
1336847004110: Success! Client getting photo from remote region, showing photo...
1336847004477: Received UDP payload: 446
1336847005106: Received UDP payload: 642
1336847005112: mux: Inside mux Packet.CLIENT_REQUEST
1336847005113: inside handleClientRequest. Originator leader of region 1
1336847005113: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847005114: got new request, requestCounter = 5022053
1336847005125: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847005128: Sending to region: 4
1336847005131: Sending PROC_REQUEST 11:7 (1,0)->(4,0)
1336847005134: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(4,0)
1336847005134: Note down new request by adding requestCounter=5022053 to HashMap processedRequests
1336847005135: Make FirstLeg Ack regardless of new or already-processed requests
1336847005135: The leader sending a First Leg ack to originator client (which id = 5022)
1336847005135: inside sendPacket(Packet p)
1336847005136: mux: I got a CSM packet at a leader 
1336847005150: Sending UDP payload: 1006
1336847005163: forwarding disabled, not forwarding packets
1336847005167: Sending UDP payload: 446
1336847005233: Received UDP payload: 3781
1336847005235: mux: GOT CSM_Msg
1336847005236: DSM layer: Going to and from remote region took latency = 107
1336847005236: DSM layer: orig leader sent packet at 1336847005129 ~ received reply from remote leader at 1336847005236
1336847005236: Received PROC_REPLY 11:7 (4,0)->(1,0), handing to UserApp
1336847005236: inside handleDSMReply. Now back in originator leader of region 1
1336847005237: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847005237: leader client reply has replyCounter: 502205300
1336847005237: reply packet contains the newest photo/success info from the remote region
1336847005238: inside sendReplies of replyCount = 502205300
1336847005244: =======================
1336847005245: === Finished one round of sending REPLY Packet =======
1336847005245: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336847005245: Leader about to send REPLY packet, number: 502205300 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336847005245: inside sendPacket(Packet p)
1336847005245: inside sendReplyRepeatingRunnable for replyCount = 502205300
1336847005246: Sending UDP payload: 3434
1336847005303: Received UDP payload: 446
1336847005305: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502205300
1336847005305: Yay the last leg succeeded. Removing reply runnables ...
1336847005305: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502205300
1336847005305: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502205300
1336847005305: got new request, requestCounter = 5022054
1336847005305: inside handleClientRequest. Originator leader of region 1
1336847005305: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847005305: mux: Inside mux Packet.CLIENT_REQUEST
1336847005306: do not send ack for received final_leg_ack
1336847005939: Received UDP payload: 446
1336847006780: Received UDP payload: 446
1336847007595: Received UDP payload: 446
1336847007861: inside sendPacket(Packet p)
1336847007864: Sending UDP payload: 446
1336847007961: Received UDP payload: 642
1336847007968: mux: Inside mux Packet.CLIENT_REQUEST
1336847008011: Received UDP payload: 1006
1336847008019: forwarding disabled, not forwarding packets
1336847008019: mux: GOT CSM_Msg
1336847008028: Received UDP payload: 446
1336847008032: mux: Inside Packet.SERVER_REPLY
1336847008033: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847008081: Received UDP payload: 3781
1336847008083: forwarding disabled, not forwarding packets
1336847008083: mux: GOT CSM_Msg
1336847008133: Received UDP payload: 3434
1336847008135: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847008135: mux: Inside Packet.SERVER_REPLY
1336847008144: Received UDP payload: 446
1336847008146: mux: Inside mux Packet.CLIENT_REQUEST
1336847008313: Received UDP payload: 446
1336847009196: Received UDP payload: 1006
1336847009203: forwarding disabled, not forwarding packets
1336847009203: mux: GOT CSM_Msg
1336847009249: Received UDP payload: 3781
1336847009251: forwarding disabled, not forwarding packets
1336847009251: mux: GOT CSM_Msg
1336847009476: Received UDP payload: 446
1336847010958: Received UDP payload: 446
1336847011785: Received UDP payload: 446
1336847012595: Received UDP payload: 446
1336847012863: inside sendPacket(Packet p)
1336847012866: Sending UDP payload: 446
1336847013311: Received UDP payload: 446
1336847014337: Received UDP payload: 1006
1336847014345: forwarding disabled, not forwarding packets
1336847014345: mux: GOT CSM_Msg
1336847014416: Received UDP payload: 3781
1336847014422: mux: GOT CSM_Msg
1336847014423: forwarding disabled, not forwarding packets
1336847014480: Received UDP payload: 446
1336847015970: Received UDP payload: 446
1336847016225: Received UDP payload: 1006
1336847016231: mux: GOT CSM_Msg
1336847016232: forwarding disabled, not forwarding packets
1336847016290: Received UDP payload: 3781
1336847016292: forwarding disabled, not forwarding packets
1336847016292: mux: GOT CSM_Msg
1336847016800: Received UDP payload: 446
1336847017611: Received UDP payload: 446
1336847017864: inside sendPacket(Packet p)
1336847017866: Sending UDP payload: 446
1336847018355: Received UDP payload: 446
1336847019512: Received UDP payload: 446
1336847020434: Received UDP payload: 642
1336847020439: mux: Inside mux Packet.CLIENT_REQUEST
1336847020505: Received UDP payload: 1006
1336847020512: forwarding disabled, not forwarding packets
1336847020512: mux: GOT CSM_Msg
1336847020515: Received UDP payload: 446
1336847020519: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847020519: mux: Inside Packet.SERVER_REPLY
1336847020557: Received UDP payload: 3781
1336847020559: forwarding disabled, not forwarding packets
1336847020559: mux: GOT CSM_Msg
1336847020604: Received UDP payload: 3434
1336847020605: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847020605: mux: Inside Packet.SERVER_REPLY
1336847020619: Received UDP payload: 446
1336847020620: mux: Inside mux Packet.CLIENT_REQUEST
1336847020968: Received UDP payload: 446
1336847021673: Received UDP payload: 1006
1336847021680: mux: GOT CSM_Msg
1336847021681: forwarding disabled, not forwarding packets
1336847021723: Received UDP payload: 3781
1336847021730: forwarding disabled, not forwarding packets
1336847021730: mux: GOT CSM_Msg
1336847021741: Received UDP payload: 1006
1336847021743: forwarding disabled, not forwarding packets
1336847021743: mux: GOT CSM_Msg
1336847021779: Received UDP payload: 3781
1336847021781: forwarding disabled, not forwarding packets
1336847021781: mux: GOT CSM_Msg
1336847021806: Received UDP payload: 446
1336847022616: Received UDP payload: 446
1336847022847: Received UDP payload: 642
1336847022852: mux: Inside mux Packet.CLIENT_REQUEST
1336847022865: inside sendPacket(Packet p)
1336847022868: Sending UDP payload: 446
1336847022901: Received UDP payload: 1006
1336847022908: forwarding disabled, not forwarding packets
1336847022908: mux: GOT CSM_Msg
1336847022909: Received UDP payload: 446
1336847022910: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847022910: mux: Inside Packet.SERVER_REPLY
1336847022963: Received UDP payload: 3781
1336847022965: forwarding disabled, not forwarding packets
1336847022965: mux: GOT CSM_Msg
1336847023002: Received UDP payload: 3434
1336847023004: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847023004: mux: Inside Packet.SERVER_REPLY
1336847023025: Received UDP payload: 446
1336847023026: mux: Inside mux Packet.CLIENT_REQUEST
1336847023320: Received UDP payload: 446
1336847024486: Received UDP payload: 446
1336847025978: Received UDP payload: 446
1336847026826: Received UDP payload: 446
1336847027623: Received UDP payload: 446
1336847027867: inside sendPacket(Packet p)
1336847027870: Sending UDP payload: 446
1336847028315: Received UDP payload: 446
1336847029492: Received UDP payload: 446
1336847031001: Received UDP payload: 446
1336847031840: Received UDP payload: 446
1336847032638: Received UDP payload: 446
1336847032869: inside sendPacket(Packet p)
1336847032871: Sending UDP payload: 446
1336847033326: Received UDP payload: 446
1336847034381: Received UDP payload: 642
1336847034386: mux: Inside mux Packet.CLIENT_REQUEST
1336847034418: Received UDP payload: 1006
1336847034429: mux: GOT CSM_Msg
1336847034430: forwarding disabled, not forwarding packets
1336847034436: Received UDP payload: 446
1336847034438: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847034438: mux: Inside Packet.SERVER_REPLY
1336847034501: Received UDP payload: 446
1336847034513: Received UDP payload: 3766
1336847034515: forwarding disabled, not forwarding packets
1336847034515: mux: GOT CSM_Msg
1336847034571: Received UDP payload: 3419
1336847034572: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847034572: mux: Inside Packet.SERVER_REPLY
1336847034582: Received UDP payload: 446
1336847034583: mux: Inside mux Packet.CLIENT_REQUEST
1336847035638: Received UDP payload: 1006
1336847035645: forwarding disabled, not forwarding packets
1336847035645: mux: GOT CSM_Msg
1336847035732: Received UDP payload: 3766
1336847035740: mux: GOT CSM_Msg
1336847035741: forwarding disabled, not forwarding packets
1336847036009: Received UDP payload: 446
1336847036841: Received UDP payload: 642
1336847036846: mux: Inside mux Packet.CLIENT_REQUEST
1336847036847: inside handleClientRequest. Originator leader of region 1
1336847036847: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847036848: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847036848: got new request, requestCounter = 5022055
1336847036857: Sending to region: 5
1336847036860: Sending PROC_REQUEST 11:6 (1,0)->(5,0)
1336847036861: Dispatching Atom PROC_REQUEST 11:6 (1,0)->(5,0)
1336847036862: Make FirstLeg Ack regardless of new or already-processed requests
1336847036862: Note down new request by adding requestCounter=5022055 to HashMap processedRequests
1336847036862: The leader sending a First Leg ack to originator client (which id = 5022)
1336847036863: inside sendPacket(Packet p)
1336847036863: mux: I got a CSM packet at a leader 
1336847036865: Received UDP payload: 446
1336847036877: Sending UDP payload: 1006
1336847036889: forwarding disabled, not forwarding packets
1336847036891: Sending UDP payload: 446
1336847036954: Received UDP payload: 3766
1336847036956: Received PROC_REPLY 11:6 (5,0)->(1,0), handing to UserApp
1336847036956: mux: GOT CSM_Msg
1336847036957: DSM layer: Going to and from remote region took latency = 100
1336847036957: DSM layer: orig leader sent packet at 1336847036857 ~ received reply from remote leader at 1336847036957
1336847036957: Originator Region=1's Leader (for Client=5022) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847036957: inside handleDSMReply. Now back in originator leader of region 1
1336847036958: =======================
1336847036958: inside sendReplies of replyCount = 502205500
1336847036958: leader client reply has replyCounter: 502205500
1336847036958: reply packet contains the newest photo/success info from the remote region
1336847036959: === Finished one round of sending REPLY Packet =======
1336847036959: I (the leader) was not the originator client (which id = 5022) so I use UDP to send packet back to my nonleader
1336847036959: Leader about to send REPLY packet, number: 502205500 type: 15 Leader in region: (1,0) to Client nodID: 5022
1336847036959: inside sendPacket(Packet p)
1336847036959: inside sendReplyRepeatingRunnable for replyCount = 502205500
1336847036960: Sending UDP payload: 3419
1336847037020: Received UDP payload: 446
1336847037021: inside handleClientRequest. Originator leader of region 1
1336847037021: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847037021: mux: Inside mux Packet.CLIENT_REQUEST
1336847037022: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 502205500
1336847037022: Yay the last leg succeeded. Removing reply runnables ...
1336847037022: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 502205500
1336847037022: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 502205500
1336847037022: do not send ack for received final_leg_ack
1336847037022: got new request, requestCounter = 5022056
1336847037622: Received UDP payload: 446
1336847037870: inside sendPacket(Packet p)
1336847037873: Sending UDP payload: 446
1336847038336: Received UDP payload: 446
1336847038427: canPressButton = TRUE
1336847038428: areButtonsEnabled --> false 
1336847038428: get picture disableButtonsR
1336847038429: areButtonsEnabled --> false
1336847038461: one more getNum: 24
1336847038462: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336847038462: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=23 getBad=0 getTimedout=0 getPercent=95%
1336847038463: change local requestCounter to 55
1336847038464: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5002055 Client in region: 1 Client nodID: 5002
1336847038505: ----------------------------
1336847038505: I'm a leader, my requesting photos packet going to mux directly
1336847038505: inside sendRequestPacketRepeatingRunnable for requestCount = 5002055
1336847038506: got new request, requestCounter = 5002055
1336847038506: inside handleClientRequest. Originator leader of region 1
1336847038506: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847038506: mux: Inside mux Packet.CLIENT_REQUEST
1336847038507: --- Finished one round of sending REQUEST Packet ---------
1336847038507: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847038512: Sending to region: 5
1336847038519: Dispatching Atom PROC_REQUEST 11:7 (1,0)->(5,0)
1336847038519: Note down new request by adding requestCounter=5002055 to HashMap processedRequests
1336847038519: Sending PROC_REQUEST 11:7 (1,0)->(5,0)
1336847038520: Make FirstLeg Ack regardless of new or already-processed requests
1336847038520: mux: I got a CSM packet at a leader 
1336847038520: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5002)
1336847038521: Sending UDP payload: 1006
1336847038522: forwarding disabled, not forwarding packets
1336847038554: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336847038627: Received UDP payload: 3766
1336847038634: mux: GOT CSM_Msg
1336847038635: DSM layer: Going to and from remote region took latency = 122
1336847038635: DSM layer: orig leader sent packet at 1336847038513 ~ received reply from remote leader at 1336847038635
1336847038635: Received PROC_REPLY 11:7 (5,0)->(1,0), handing to UserApp
1336847038635: inside handleDSMReply. Now back in originator leader of region 1
1336847038638: Originator Region=1's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847038638: leader client reply has replyCounter: 500205500
1336847038639: inside sendReplies of replyCount = 500205500
1336847038639: reply packet contains the newest photo/success info from the remote region
1336847038640: =======================
1336847038640: Leader about to send REPLY packet, number: 500205500 type: 15 Leader in region: (1,0) to Client nodID: 5002
1336847038640: inside sendReplyRepeatingRunnable for replyCount = 500205500
1336847038641: === Finished one round of sending REPLY Packet =======
1336847038641: I (the leader) was also the originator client (id = 5002) so I hand the packet to my mux directly, without UDP
1336847038656: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336847038657: Inside _enableButtons
1336847038657: areButtonsEnabled --> true
1336847038657: disabling progressdialog due to successful new photo get
1336847038658: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5002056 Client in region: (1,0) Client nodID: 5002
1336847038658: I'm a leader client, my final_leg packet going to mux directly
1336847038658: inside finalLegAck: change requestCounter to 56
1336847038658: send final leg ack regardless of new or already-processed reply
1336847038659: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500205500
1336847038659: Yay the last leg succeeded. Removing reply runnables ...
1336847038659: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500205500
1336847038659: got new request, requestCounter = 5002056
1336847038659: inside handleClientRequest. Originator leader of region 1
1336847038659: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847038659: mux: Inside mux Packet.CLIENT_REQUEST
1336847038660: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500205500
1336847038660: do not send ack for received final_leg_ack
1336847038660: new client_show_remotephoto reply with replyCounter 500205500
1336847038661: = leader download start 1336847038506 ~ stop 1336847038656
1336847038661: leader download remote photo latency = 150
1336847038661: note down new reply by adding replyCounter=500205500 to HashMap processedReplies
1336847038662: one more getGood: 24
1336847038663: adding get latency: 150
1336847038663: reg=1 id=5002 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=24 getBad=0 getTimedout=0 getPercent=100%
1336847038664: Remote photo's length: 2738
1336847038664: Success! Client getting photo from remote region, showing photo...
1336847039499: Received UDP payload: 446
1336847041018: Received UDP payload: 446
1336847041856: Received UDP payload: 446
1336847042665: Received UDP payload: 446
1336847042871: inside sendPacket(Packet p)
1336847042874: Sending UDP payload: 446
1336847043342: Received UDP payload: 446
1336847044488: Received UDP payload: 1006
1336847044496: forwarding disabled, not forwarding packets
1336847044496: mux: GOT CSM_Msg
1336847044517: Received UDP payload: 446
1336847044637: Received UDP payload: 3766
1336847044643: mux: GOT CSM_Msg
1336847044644: forwarding disabled, not forwarding packets
1336847046045: Received UDP payload: 446
1336847046863: Received UDP payload: 446
1336847047628: Received UDP payload: 446
1336847047782: Received UDP payload: 1006
1336847047790: mux: GOT CSM_Msg
1336847047791: forwarding disabled, not forwarding packets
1336847047874: inside sendPacket(Packet p)
1336847047875: Received UDP payload: 3766
1336847047882: forwarding disabled, not forwarding packets
1336847047882: mux: GOT CSM_Msg
1336847047885: Sending UDP payload: 446
1336847048342: Received UDP payload: 446
1336847049528: Received UDP payload: 446
1336847051036: Received UDP payload: 446
1336847051864: Received UDP payload: 446
1336847052661: Received UDP payload: 446
1336847052861: Received UDP payload: 642
1336847052867: mux: Inside mux Packet.CLIENT_REQUEST
1336847052882: inside sendPacket(Packet p)
1336847052885: Sending UDP payload: 446
1336847052908: Received UDP payload: 1006
1336847052919: mux: GOT CSM_Msg
1336847052920: forwarding disabled, not forwarding packets
1336847052944: Received UDP payload: 446
1336847052950: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847052950: mux: Inside Packet.SERVER_REPLY
1336847052989: Received UDP payload: 3766
1336847052991: forwarding disabled, not forwarding packets
1336847052991: mux: GOT CSM_Msg
1336847053030: Received UDP payload: 3419
1336847053031: mux: Inside Packet.SERVER_REPLY
1336847053032: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847053041: Received UDP payload: 446
1336847053042: mux: Inside mux Packet.CLIENT_REQUEST
1336847053330: Received UDP payload: 446
1336847054270: Received UDP payload: 1006
1336847054278: forwarding disabled, not forwarding packets
1336847054278: mux: GOT CSM_Msg
1336847054324: Received UDP payload: 3766
1336847054330: mux: GOT CSM_Msg
1336847054331: forwarding disabled, not forwarding packets
1336847054513: Received UDP payload: 446
1336847056032: Received UDP payload: 446
1336847056887: Received UDP payload: 446
1336847057655: Received UDP payload: 446
1336847057885: inside sendPacket(Packet p)
1336847057888: Sending UDP payload: 446
1336847058346: Received UDP payload: 446
1336847059503: Received UDP payload: 446
1336847061031: Received UDP payload: 446
1336847062532: Received UDP payload: 1006
1336847062540: mux: GOT CSM_Msg
1336847062541: forwarding disabled, not forwarding packets
1336847062629: Received UDP payload: 3766
1336847062637: forwarding disabled, not forwarding packets
1336847062637: mux: GOT CSM_Msg
1336847062649: Received UDP payload: 446
1336847062886: inside sendPacket(Packet p)
1336847062889: Sending UDP payload: 446
1336847063355: Received UDP payload: 446
1336847063955: Received UDP payload: 642
1336847063961: mux: Inside mux Packet.CLIENT_REQUEST
1336847064012: Received UDP payload: 1006
1336847064014: forwarding disabled, not forwarding packets
1336847064014: mux: GOT CSM_Msg
1336847064025: Received UDP payload: 446
1336847064026: mux: Inside Packet.SERVER_REPLY
1336847064027: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847064074: Received UDP payload: 3766
1336847064076: forwarding disabled, not forwarding packets
1336847064076: mux: GOT CSM_Msg
1336847064123: Received UDP payload: 3419
1336847064125: mux: Ignoring SERVER_REPLY since it's not for me  5002
1336847064125: mux: Inside Packet.SERVER_REPLY
1336847064137: Received UDP payload: 446
1336847064138: mux: Inside mux Packet.CLIENT_REQUEST
1336847064506: Received UDP payload: 446
1336847066040: Received UDP payload: 446
1336847066866: Received UDP payload: 446
1336847067665: Received UDP payload: 446
1336847067887: inside sendPacket(Packet p)
1336847067897: Sending UDP payload: 446
1336847068368: Received UDP payload: 446
1336847069508: Received UDP payload: 446
1336847071052: Received UDP payload: 446
1336847072677: Received UDP payload: 446
1336847072899: inside sendPacket(Packet p)
1336847072901: Sending UDP payload: 446
1336847073375: Received UDP payload: 446
1336847074508: Received UDP payload: 446
1336847076046: Received UDP payload: 446
1336847077723: Received UDP payload: 446
1336847077900: inside sendPacket(Packet p)
1336847077907: Sending UDP payload: 446
1336847079525: Received UDP payload: 446
1336847081058: Received UDP payload: 446
1336847081851: HI I'm in ONPAUSE()
1336847082705: Received UDP payload: 446
1336847082909: inside sendPacket(Packet p)
1336847082910: Sending UDP payload: 446
1336847083158: inside onDestroy()
