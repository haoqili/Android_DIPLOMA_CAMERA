1336845919594: *** Opened log file for writing ***
1336845919595: Android build: SAMSUNG-SGH-I717
1336845919595: NET_NAME set to: eth0
1336845919595: starting Mux with id = -1
1336845919596: areButtonsEnabled --> true
1336845919597: *** Application started ***
1336845919598: HI I'm in ONRESUME()
1336845919601: mux: Mux.java run() beginning -------------
1336845919604: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1336845919607: ************ GPS turned OFF *************
1336845919614: mux: Mux.java's nodeId is5010
1336845919614: mux: starting vncDaemon ........
1336845919616: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1336845919621: VCoreDaemon.java onStart() ....
1336845919621: mux: vncDaemon started
1336845919622: ..... VCoreDaemon.java out of bounds
1336845919622: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845919622: VCoreDaemon.java inside stateTransition ..........
1336845919622: region (-1, -1) out of bounds, dormant
1336845919622: removing leaderRequestRetryR because I'm doing a stateTransition
1336845919622: started, mId = 5010
1336845920063: Received UDP payload: 446
1336845920086: Received UDP payload: 446
1336845921018: Received UDP payload: 446
1336845921298: Received UDP payload: 446
1336845921586: Received UDP payload: 446
1336845921893: Received UDP payload: 446
1336845923587: Received UDP payload: 446
1336845923873: Received UDP payload: 446
1336845924497: Received UDP payload: 446
1336845925097: Received UDP payload: 446
1336845925115: Received UDP payload: 446
1336845928610: Received UDP payload: 446
1336845928838: VCoreDaemon.java inside stateTransition ..........
1336845928838: moving from region (-1,-1), to (4,0)
1336845928842: removing leaderRequestRetryR because I'm doing a stateTransition
1336845928843: ..... VCoreDaemon.java targetState = JOINING (4,0)
1336845928845: posting leaderRequestRetryR because I'm joining
1336845928847: inside sendPacket(Packet p)
1336845928847: sending LEADER_REQUEST
1336845928848: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845928865: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845928874: Received UDP payload: 446
1336845928895: Sending UDP payload: 446
1336845929149: inside sendPacket(Packet p)
1336845929149: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845929149: sending LEADER_REQUEST
1336845929150: Sending UDP payload: 446
1336845929450: inside sendPacket(Packet p)
1336845929450: sending LEADER_REQUEST
1336845929451: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845929456: Sending UDP payload: 446
1336845929503: Received UDP payload: 446
1336845929751: sending LEADER_REQUEST
1336845929752: inside sendPacket(Packet p)
1336845929752: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1336845929756: Sending UDP payload: 446
1336845929864: VCoreDaemon.java inside stateTransition ..........
1336845929864: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1336845929864: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1336845929865: ..... VCoreDaemon.java targetState = LEADER
1336845929865: removing leaderRequestRetryR because I'm doing a stateTransition
1336845929865: trying to take leadership (4,0) to the cloud
1336845930100: Received UDP payload: 446
1336845930127: Received UDP payload: 446
1336845930133: Received UDP payload: 446
1336845930341: cloud accepted leadership request, no csm data included.
1336845930351: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1336845930353: *** Starting CSM Layer ***
1336845930354: *** CSM Layer starting with cache disabled ***
1336845930354: *** CSM Layer starting with forwarding disabled ***
1336845930390: Received UDP payload: 446
1336845930403: DSMLayer starting
1336845930407: UserApp started.
1336845930408: UserApp for Camera Diploma initialized and waiting for requests.
1336845930575: inside sendPacket(Packet p)
1336845930604: Sending UDP payload: 22318
1336845930609: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1336845930609: now fully up as LEADER (id=5010) of (4,0)
1336845930610: heard LEADER_REQUEST from node 5009, responding LEADER_REPLY
1336845930704: Received UDP payload: 446
1336845930747: inside sendPacket(Packet p)
1336845930763: Sending UDP payload: 22335
1336845930767: heard LEADER_REQUEST from node 5009, responding LEADER_REPLY
1336845930862: inside sendPacket(Packet p)
1336845930871: Sending UDP payload: 22335
1336845930875: heard LEADER_REQUEST from node 5009, responding LEADER_REPLY
1336845930974: inside sendPacket(Packet p)
1336845930976: Sending UDP payload: 22335
1336845933596: Received UDP payload: 446
1336845933911: Received UDP payload: 446
1336845934522: Received UDP payload: 446
1336845934626: inside sendPacket(Packet p)
1336845934656: Sending UDP payload: 446
1336845935107: Received UDP payload: 446
1336845935134: Received UDP payload: 446
1336845938610: Received UDP payload: 446
1336845938922: Received UDP payload: 446
1336845939544: Received UDP payload: 446
1336845939654: inside sendPacket(Packet p)
1336845939671: Sending UDP payload: 446
1336845939699: Received UDP payload: 446
1336845939951: Received UDP payload: 446
1336845940100: Received UDP payload: 22335
1336845940154: Received UDP payload: 446
1336845940360: Received UDP payload: 22950
1336845940373: Received UDP payload: 446
1336845943634: Received UDP payload: 446
1336845943941: Received UDP payload: 446
1336845944558: Received UDP payload: 446
1336845944674: inside sendPacket(Packet p)
1336845944691: Sending UDP payload: 446
1336845945124: Received UDP payload: 446
1336845945132: Received UDP payload: 446
1336845948599: Received UDP payload: 446
1336845948944: Received UDP payload: 446
1336845949583: Received UDP payload: 446
1336845949696: inside sendPacket(Packet p)
1336845949715: Sending UDP payload: 446
1336845950124: Received UDP payload: 446
1336845950150: Received UDP payload: 446
1336845953602: Received UDP payload: 446
1336845953931: Received UDP payload: 446
1336845954624: Received UDP payload: 446
1336845954717: inside sendPacket(Packet p)
1336845954731: Sending UDP payload: 446
1336845955144: Received UDP payload: 446
1336845955201: Received UDP payload: 446
1336845958630: Received UDP payload: 446
1336845958933: Received UDP payload: 446
1336845959622: Received UDP payload: 446
1336845959735: inside sendPacket(Packet p)
1336845959754: Sending UDP payload: 446
1336845960131: Received UDP payload: 446
1336845960169: Received UDP payload: 446
1336845963616: Received UDP payload: 446
1336845963973: Received UDP payload: 446
1336845964647: Received UDP payload: 446
1336845964756: inside sendPacket(Packet p)
1336845964761: Sending UDP payload: 446
1336845965116: Received UDP payload: 446
1336845965166: Received UDP payload: 446
1336845968673: Received UDP payload: 446
1336845968976: Received UDP payload: 446
1336845969670: Received UDP payload: 446
1336845969758: inside sendPacket(Packet p)
1336845969776: Sending UDP payload: 446
1336845970160: Received UDP payload: 446
1336845970203: Received UDP payload: 446
1336845973661: Received UDP payload: 446
1336845973960: Received UDP payload: 446
1336845974670: Received UDP payload: 446
1336845974777: inside sendPacket(Packet p)
1336845974789: Sending UDP payload: 446
1336845975128: Received UDP payload: 446
1336845975211: Received UDP payload: 446
1336845978641: Received UDP payload: 446
1336845978981: Received UDP payload: 446
1336845979676: Received UDP payload: 446
1336845979792: inside sendPacket(Packet p)
1336845979802: Sending UDP payload: 446
1336845980181: Received UDP payload: 446
1336845980192: Received UDP payload: 446
1336845983646: Received UDP payload: 446
1336845983978: Received UDP payload: 446
1336845984688: Received UDP payload: 446
1336845984803: inside sendPacket(Packet p)
1336845984813: Sending UDP payload: 446
1336845985146: Received UDP payload: 446
1336845985191: Received UDP payload: 446
1336845988645: Received UDP payload: 446
1336845988980: Received UDP payload: 446
1336845989738: Received UDP payload: 446
1336845989817: inside sendPacket(Packet p)
1336845989833: Sending UDP payload: 446
1336845990148: Received UDP payload: 446
1336845990196: Received UDP payload: 446
1336845993653: Received UDP payload: 446
1336845993970: Received UDP payload: 446
1336845994410: Received UDP payload: 4083
1336845994417: mux: Inside mux Packet.CLIENT_REQUEST
1336845994554: Received UDP payload: 446
1336845994560: mux: Inside Packet.SERVER_REPLY
1336845994561: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845994568: Received UDP payload: 1006
1336845994598: forwarding disabled, not forwarding packets
1336845994598: mux: GOT CSM_Msg
1336845994602: Received UDP payload: 659
1336845994605: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336845994605: mux: Inside Packet.SERVER_REPLY
1336845994614: Received UDP payload: 446
1336845994616: mux: Inside mux Packet.CLIENT_REQUEST
1336845994716: Received UDP payload: 446
1336845994837: inside sendPacket(Packet p)
1336845994838: Sending UDP payload: 446
1336845995146: Received UDP payload: 446
1336845995187: Received UDP payload: 446
1336845998651: Received UDP payload: 446
1336845999015: Received UDP payload: 446
1336845999765: Received UDP payload: 4373
1336845999778: mux: GOT CSM_Msg
1336845999780: forwarding disabled, not forwarding packets
1336845999800: Received UDP payload: 446
1336845999807: Received UDP payload: 1006
1336845999832: forwarding disabled, not forwarding packets
1336845999832: mux: GOT CSM_Msg
1336845999838: inside sendPacket(Packet p)
1336845999839: Sending UDP payload: 446
1336846000173: Received UDP payload: 446
1336846000205: Received UDP payload: 446
1336846001514: Received UDP payload: 4786
1336846001532: forwarding disabled, not forwarding packets
1336846001532: mux: GOT CSM_Msg
1336846001550: Received UDP payload: 1006
1336846001560: forwarding disabled, not forwarding packets
1336846001560: mux: GOT CSM_Msg
1336846003714: Received UDP payload: 446
1336846004001: Received UDP payload: 446
1336846004780: Received UDP payload: 446
1336846004840: inside sendPacket(Packet p)
1336846004846: Sending UDP payload: 446
1336846005172: Received UDP payload: 446
1336846005195: Received UDP payload: 446
1336846007540: Received UDP payload: 4169
1336846007546: mux: Inside mux Packet.CLIENT_REQUEST
1336846007683: Received UDP payload: 4533
1336846007695: forwarding disabled, not forwarding packets
1336846007695: mux: GOT CSM_Msg
1336846007710: Received UDP payload: 446
1336846007722: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846007722: mux: Inside Packet.SERVER_REPLY
1336846007730: Received UDP payload: 4169
1336846007736: mux: Inside mux Packet.CLIENT_REQUEST
1336846007758: Received UDP payload: 1006
1336846007768: mux: GOT CSM_Msg
1336846007769: forwarding disabled, not forwarding packets
1336846007772: Received UDP payload: 659
1336846007774: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846007774: mux: Inside Packet.SERVER_REPLY
1336846007775: Received UDP payload: 446
1336846007776: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846007776: mux: Inside Packet.SERVER_REPLY
1336846007786: Received UDP payload: 446
1336846007787: mux: Inside mux Packet.CLIENT_REQUEST
1336846008659: Received UDP payload: 446
1336846008975: Received UDP payload: 446
1336846009840: Received UDP payload: 446
1336846009847: inside sendPacket(Packet p)
1336846009865: Sending UDP payload: 446
1336846010174: Received UDP payload: 446
1336846010252: Received UDP payload: 446
1336846013826: Received UDP payload: 446
1336846013991: Received UDP payload: 446
1336846014773: Received UDP payload: 446
1336846014869: inside sendPacket(Packet p)
1336846014881: Sending UDP payload: 446
1336846015184: Received UDP payload: 446
1336846015226: Received UDP payload: 446
1336846017391: Received UDP payload: 4942
1336846017422: forwarding disabled, not forwarding packets
1336846017422: mux: GOT CSM_Msg
1336846017431: Received UDP payload: 1006
1336846017456: mux: GOT CSM_Msg
1336846017457: forwarding disabled, not forwarding packets
1336846018734: Received UDP payload: 446
1336846019048: Received UDP payload: 446
1336846019785: Received UDP payload: 446
1336846019886: inside sendPacket(Packet p)
1336846019901: Sending UDP payload: 446
1336846020223: Received UDP payload: 446
1336846020241: Received UDP payload: 446
1336846021239: Received UDP payload: 4368
1336846021249: forwarding disabled, not forwarding packets
1336846021249: mux: GOT CSM_Msg
1336846021266: Received UDP payload: 1006
1336846021277: forwarding disabled, not forwarding packets
1336846021277: mux: GOT CSM_Msg
1336846023756: Received UDP payload: 446
1336846023982: Received UDP payload: 446
1336846024824: Received UDP payload: 446
1336846024905: inside sendPacket(Packet p)
1336846024917: Sending UDP payload: 446
1336846025217: Received UDP payload: 446
1336846025250: Received UDP payload: 446
1336846028736: Received UDP payload: 446
1336846028991: Received UDP payload: 446
1336846029824: Received UDP payload: 446
1336846029920: inside sendPacket(Packet p)
1336846029923: Sending UDP payload: 446
1336846030206: Received UDP payload: 446
1336846030252: Received UDP payload: 446
1336846031484: canPressButton = TRUE
1336846031485: areButtonsEnabled --> false
1336846031485: disabling buttons ...
1336846031485: took picture disableButtonsR
1336846031486: areButtonsEnabled --> false
1336846031568: one more takeNum: 1
1336846031570: Clicked take picture button ..
1336846031570: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336846032946: inside HandlePictureStorage onPictureTaken()
1336846032947: one more takeCamGood: 1
1336846032947: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336846033211: Picture successfully taken, ORIG BYTE LENGTH = 2490597
1336846033595: Our new height x width: 306 x 408
1336846033596: Show photo from handle my camera take
1336846033597: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846033598: change local requestCounter to 1
1336846033628: BYTE SIZE AFTER COMPRESSION: 2935
1336846033637: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5010001 Client in region: 4 Client nodID: 5010
1336846033667: ----------------------------
1336846033667: inside sendRequestPacketRepeatingRunnable for requestCount = 5010001
1336846033668: I'm a leader, my requesting photos packet going to mux directly
1336846033668: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846033668: got new request, requestCounter = 5010001
1336846033668: inside handleClientRequest. Originator leader of region 4
1336846033668: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846033668: mux: Inside mux Packet.CLIENT_REQUEST
1336846033669: Dispatching Atom PROC_REQUEST 10:0 (4,0)->(4,0)
1336846033669: Sending PROC_REQUEST 10:0 (4,0)->(4,0)
1336846033670: Make FirstLeg Ack regardless of new or already-processed requests
1336846033670: Note down new request by adding requestCounter=5010001 to HashMap processedRequests
1336846033670: mux: I got a CSM packet at a leader 
1336846033670: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846033674: Sending UDP payload: 3963
1336846033675: --- Finished one round of sending REQUEST Packet ---------
1336846033676: inside handleDSMRequest. At requests's remote leader of region 4
1336846033676: removed replies before id 0 from sentReplies of size 0
1336846033679: Inside UPLOAD_PHOTO!!
1336846033694: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846033694: my_gpinfo.isSuccess is now (should be true): true
1336846033696: Dispatching Atom PROC_REPLY 10:0 (4,0)->(4,0)
1336846033696: Received PROC_REQUEST 10:0 (4,0)->(4,0), replying PROC_REPLY 10:0 (4,0)->(4,0)
1336846033697: mux: I got a CSM packet at a leader 
1336846033698: Sending UDP payload: 1006
1336846033699: Received PROC_REPLY 10:0 (4,0)->(4,0), handing to UserApp
1336846033700: DSM layer: Going to and from remote region took latency = 31
1336846033700: inside handleDSMReply. Now back in originator leader of region 4
1336846033701: DSM layer: orig leader sent packet at 1336846033669 ~ received reply from remote leader at 1336846033700
1336846033701: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846033702: =======================
1336846033702: inside sendReplies of replyCount = 501000100
1336846033702: leader client reply has replyCounter: 501000100
1336846033702: reply packet contains the success info for UPLOAD_PHOTO
1336846033703: === Finished one round of sending REPLY Packet =======
1336846033703: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846033703: Leader about to send REPLY packet, number: 501000100 type: 16 Leader in region: (4,0) to Client nodID: 5010
1336846033703: inside sendReplyRepeatingRunnable for replyCount = 501000100
1336846033712: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846033714: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846033715: I'm a leader and I successfully saved my client's new photo
1336846033716: now showing in UI the new photo I just saved ... 
1336846033716: the photo length: 2935
1336846033743: Received UDP payload: 446
1336846033750: end of server show photo aside %%%%%%%%%
1336846033754: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846033755: Inside _enableButtons
1336846033755: areButtonsEnabled --> true
1336846033755: disabling progressdialog due to successful new photo upload
1336846033755: send final leg ack regardless of new or already-processed reply
1336846033756: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010002 Client in region: (4,0) Client nodID: 5010
1336846033756: I'm a leader client, my final_leg packet going to mux directly
1336846033756: inside finalLegAck: change requestCounter to 2
1336846033757: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501000100
1336846033757: Yay the last leg succeeded. Removing reply runnables ...
1336846033757: got new request, requestCounter = 5010002
1336846033757: inside handleClientRequest. Originator leader of region 4
1336846033757: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846033757: mux: Inside mux Packet.CLIENT_REQUEST
1336846033758: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501000100
1336846033758: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501000100
1336846033758: do not send ack for received final_leg_ack
1336846033759: new client_upload_photo_ack reply with replyCounter 501000100
1336846033759: note down new reply by adding replyCounter=501000100 to HashMap processedReplies
1336846033760: = leader upload start 1336846033668 ~ stop 1336846033754
1336846033760: leader upload new photo latency = 86
1336846033761: one more takeGoodSave: 1
1336846033762: SUCCESS Client now knows saving photo on its leader succeeded
1336846033762: adding take latency: 86
1336846033762: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1336846033990: Received UDP payload: 446
1336846034060: Received UDP payload: 3935
1336846034062: mux: Inside mux Packet.CLIENT_REQUEST
1336846034136: Received UDP payload: 4299
1336846034139: forwarding disabled, not forwarding packets
1336846034139: mux: GOT CSM_Msg
1336846034157: Received UDP payload: 446
1336846034158: mux: Inside Packet.SERVER_REPLY
1336846034159: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846034166: Received UDP payload: 1006
1336846034168: mux: GOT CSM_Msg
1336846034169: forwarding disabled, not forwarding packets
1336846034191: Received UDP payload: 659
1336846034193: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846034193: mux: Inside Packet.SERVER_REPLY
1336846034203: Received UDP payload: 446
1336846034205: mux: Inside mux Packet.CLIENT_REQUEST
1336846034813: Received UDP payload: 446
1336846034921: inside sendPacket(Packet p)
1336846034932: Sending UDP payload: 446
1336846035238: Received UDP payload: 446
1336846035268: Received UDP payload: 446
1336846037664: Received UDP payload: 3727
1336846037672: mux: Inside mux Packet.CLIENT_REQUEST
1336846037673: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846037674: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846037674: got new request, requestCounter = 5009001
1336846037674: inside handleClientRequest. Originator leader of region 4
1336846037676: Sending PROC_REQUEST 10:1 (4,0)->(4,0)
1336846037678: Dispatching Atom PROC_REQUEST 10:1 (4,0)->(4,0)
1336846037678: Note down new request by adding requestCounter=5009001 to HashMap processedRequests
1336846037679: Make FirstLeg Ack regardless of new or already-processed requests
1336846037701: The leader sending a First Leg ack to originator client (which id = 5009)
1336846037702: inside sendPacket(Packet p)
1336846037703: mux: I got a CSM packet at a leader 
1336846037708: Sending UDP payload: 4091
1336846037721: removed replies before id 1 from sentReplies of size 0
1336846037722: inside handleDSMRequest. At requests's remote leader of region 4
1336846037726: Inside UPLOAD_PHOTO!!
1336846037740: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846037740: my_gpinfo.isSuccess is now (should be true): true
1336846037743: Dispatching Atom PROC_REPLY 10:1 (4,0)->(4,0)
1336846037743: Received PROC_REQUEST 10:1 (4,0)->(4,0), replying PROC_REPLY 10:1 (4,0)->(4,0)
1336846037745: Sending UDP payload: 446
1336846037750: mux: I got a CSM packet at a leader 
1336846037751: Sending UDP payload: 1006
1336846037753: DSM layer: Going to and from remote region took latency = 78
1336846037753: DSM layer: orig leader sent packet at 1336846037675 ~ received reply from remote leader at 1336846037753
1336846037753: Received PROC_REPLY 10:1 (4,0)->(4,0), handing to UserApp
1336846037753: inside handleDSMReply. Now back in originator leader of region 4
1336846037754: =======================
1336846037754: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846037754: inside sendReplies of replyCount = 500900100
1336846037754: inside sendReplyRepeatingRunnable for replyCount = 500900100
1336846037754: leader client reply has replyCounter: 500900100
1336846037754: reply packet contains the success info for UPLOAD_PHOTO
1336846037755: === Finished one round of sending REPLY Packet =======
1336846037755: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846037755: Leader about to send REPLY packet, number: 500900100 type: 16 Leader in region: (4,0) to Client nodID: 5009
1336846037755: inside sendPacket(Packet p)
1336846037757: Sending UDP payload: 659
1336846037761: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846037762: I'm a leader and I successfully saved my client's new photo
1336846037763: now showing in UI the new photo I just saved ... 
1336846037763: the photo length: 3063
1336846037797: end of server show photo aside %%%%%%%%%
1336846037813: Received UDP payload: 446
1336846037815: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500900100
1336846037815: Yay the last leg succeeded. Removing reply runnables ...
1336846037815: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500900100
1336846037815: got new request, requestCounter = 5009002
1336846037815: inside handleClientRequest. Originator leader of region 4
1336846037815: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846037815: mux: Inside mux Packet.CLIENT_REQUEST
1336846037816: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500900100
1336846037816: do not send ack for received final_leg_ack
1336846038796: Received UDP payload: 446
1336846039031: Received UDP payload: 446
1336846039844: Received UDP payload: 446
1336846039923: inside sendPacket(Packet p)
1336846039933: Sending UDP payload: 446
1336846040208: Received UDP payload: 446
1336846040272: Received UDP payload: 446
1336846041567: Received UDP payload: 4368
1336846041579: mux: GOT CSM_Msg
1336846041580: forwarding disabled, not forwarding packets
1336846041598: Received UDP payload: 1006
1336846041619: forwarding disabled, not forwarding packets
1336846041619: mux: GOT CSM_Msg
1336846044002: Received UDP payload: 446
1336846044030: Received UDP payload: 446
1336846044819: Received UDP payload: 446
1336846044937: inside sendPacket(Packet p)
1336846044941: Sending UDP payload: 446
1336846045211: Received UDP payload: 446
1336846045265: Received UDP payload: 446
1336846048701: Received UDP payload: 446
1336846049003: Received UDP payload: 446
1336846049828: Received UDP payload: 446
1336846049937: inside sendPacket(Packet p)
1336846049941: Sending UDP payload: 446
1336846050224: Received UDP payload: 446
1336846050264: Received UDP payload: 446
1336846050612: leader to cloud hearbeat...
1336846053932: Received UDP payload: 446
1336846054021: Received UDP payload: 446
1336846054838: Received UDP payload: 446
1336846054939: inside sendPacket(Packet p)
1336846054952: Sending UDP payload: 446
1336846055232: Received UDP payload: 446
1336846055314: Received UDP payload: 446
1336846058880: Received UDP payload: 446
1336846059011: Received UDP payload: 446
1336846059862: Received UDP payload: 446
1336846059939: inside sendPacket(Packet p)
1336846059943: Sending UDP payload: 446
1336846060217: Received UDP payload: 446
1336846060276: Received UDP payload: 446
1336846063752: Received UDP payload: 446
1336846064023: Received UDP payload: 446
1336846064868: Received UDP payload: 446
1336846064941: inside sendPacket(Packet p)
1336846064952: Sending UDP payload: 446
1336846065219: Received UDP payload: 446
1336846065278: Received UDP payload: 446
1336846067589: Received UDP payload: 642
1336846067595: mux: Inside mux Packet.CLIENT_REQUEST
1336846067678: Received UDP payload: 1006
1336846067695: forwarding disabled, not forwarding packets
1336846067695: mux: GOT CSM_Msg
1336846067710: Received UDP payload: 446
1336846067716: mux: Inside Packet.SERVER_REPLY
1336846067717: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846067744: Received UDP payload: 4373
1336846067747: forwarding disabled, not forwarding packets
1336846067747: mux: GOT CSM_Msg
1336846067797: Received UDP payload: 4026
1336846067799: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846067799: mux: Inside Packet.SERVER_REPLY
1336846067813: Received UDP payload: 446
1336846067815: mux: Inside mux Packet.CLIENT_REQUEST
1336846068725: Received UDP payload: 446
1336846068743: Received UDP payload: 1006
1336846068760: mux: GOT CSM_Msg
1336846068761: forwarding disabled, not forwarding packets
1336846068788: Received UDP payload: 4373
1336846068809: forwarding disabled, not forwarding packets
1336846068809: mux: GOT CSM_Msg
1336846069035: Received UDP payload: 446
1336846069344: Received UDP payload: 642
1336846069346: mux: Inside mux Packet.CLIENT_REQUEST
1336846069386: Received UDP payload: 1006
1336846069394: forwarding disabled, not forwarding packets
1336846069394: mux: GOT CSM_Msg
1336846069396: Received UDP payload: 446
1336846069411: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846069411: mux: Inside Packet.SERVER_REPLY
1336846069476: Received UDP payload: 4373
1336846069480: forwarding disabled, not forwarding packets
1336846069480: mux: GOT CSM_Msg
1336846069572: Received UDP payload: 446
1336846069574: mux: Inside mux Packet.CLIENT_REQUEST
1336846069883: Received UDP payload: 446
1336846069955: inside sendPacket(Packet p)
1336846069956: Sending UDP payload: 446
1336846070007: Received UDP payload: 1006
1336846070015: mux: GOT CSM_Msg
1336846070016: forwarding disabled, not forwarding packets
1336846070077: Received UDP payload: 4373
1336846070080: forwarding disabled, not forwarding packets
1336846070080: mux: GOT CSM_Msg
1336846070217: Received UDP payload: 446
1336846070289: Received UDP payload: 446
1336846073721: Received UDP payload: 446
1336846074023: Received UDP payload: 446
1336846074868: Received UDP payload: 446
1336846074957: inside sendPacket(Packet p)
1336846074961: Sending UDP payload: 446
1336846075226: Received UDP payload: 446
1336846075292: Received UDP payload: 446
1336846075601: Received UDP payload: 1006
1336846075611: forwarding disabled, not forwarding packets
1336846075611: mux: GOT CSM_Msg
1336846075716: Received UDP payload: 4373
1336846075727: forwarding disabled, not forwarding packets
1336846075727: mux: GOT CSM_Msg
1336846076623: Received UDP payload: 1006
1336846076635: forwarding disabled, not forwarding packets
1336846076635: mux: GOT CSM_Msg
1336846078734: Received UDP payload: 446
1336846079040: Received UDP payload: 446
1336846079957: inside sendPacket(Packet p)
1336846079964: Received UDP payload: 446
1336846079968: Sending UDP payload: 446
1336846080227: Received UDP payload: 446
1336846080318: Received UDP payload: 446
1336846081799: Received UDP payload: 642
1336846081807: mux: Inside mux Packet.CLIENT_REQUEST
1336846081904: Received UDP payload: 1006
1336846081906: mux: GOT CSM_Msg
1336846081907: Received UDP payload: 446
1336846081907: forwarding disabled, not forwarding packets
1336846081909: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846081909: mux: Inside Packet.SERVER_REPLY
1336846082038: Received UDP payload: 4373
1336846082043: forwarding disabled, not forwarding packets
1336846082043: mux: GOT CSM_Msg
1336846082097: Received UDP payload: 4026
1336846082101: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846082101: mux: Inside Packet.SERVER_REPLY
1336846082109: Received UDP payload: 446
1336846082112: mux: Inside mux Packet.CLIENT_REQUEST
1336846082403: Received UDP payload: 1006
1336846082408: mux: GOT CSM_Msg
1336846082409: forwarding disabled, not forwarding packets
1336846082476: Received UDP payload: 4373
1336846082478: forwarding disabled, not forwarding packets
1336846082478: mux: GOT CSM_Msg
1336846083369: canPressButton = TRUE
1336846083370: areButtonsEnabled --> false
1336846083370: areButtonsEnabled --> false 
1336846083370: get picture disableButtonsR
1336846083396: one more getNum: 1
1336846083397: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846083397: change local requestCounter to 3
1336846083397: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1336846083398: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010003 Client in region: 4 Client nodID: 5010
1336846083427: ----------------------------
1336846083428: I'm a leader, my requesting photos packet going to mux directly
1336846083428: got new request, requestCounter = 5010003
1336846083428: inside handleClientRequest. Originator leader of region 4
1336846083428: inside sendRequestPacketRepeatingRunnable for requestCount = 5010003
1336846083428: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846083428: mux: Inside mux Packet.CLIENT_REQUEST
1336846083429: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846083429: Sending to region: 0
1336846083430: Dispatching Atom PROC_REQUEST 11:0 (4,0)->(0,0)
1336846083430: Make FirstLeg Ack regardless of new or already-processed requests
1336846083430: Note down new request by adding requestCounter=5010003 to HashMap processedRequests
1336846083430: Sending PROC_REQUEST 11:0 (4,0)->(0,0)
1336846083432: mux: I got a CSM packet at a leader 
1336846083432: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846083434: Sending UDP payload: 1006
1336846083435: --- Finished one round of sending REQUEST Packet ---------
1336846083435: forwarding disabled, not forwarding packets
1336846083482: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846083547: Received UDP payload: 4373
1336846083552: DSM layer: Going to and from remote region took latency = 123
1336846083552: DSM layer: orig leader sent packet at 1336846083429 ~ received reply from remote leader at 1336846083552
1336846083552: Received PROC_REPLY 11:0 (0,0)->(4,0), handing to UserApp
1336846083552: inside handleDSMReply. Now back in originator leader of region 4
1336846083552: mux: GOT CSM_Msg
1336846083553: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846083553: leader client reply has replyCounter: 501000300
1336846083553: reply packet contains the newest photo/success info from the remote region
1336846083554: === Finished one round of sending REPLY Packet =======
1336846083554: =======================
1336846083554: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846083554: Leader about to send REPLY packet, number: 501000300 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846083554: inside sendReplies of replyCount = 501000300
1336846083554: inside sendReplyRepeatingRunnable for replyCount = 501000300
1336846083559: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846083560: Inside _enableButtons
1336846083560: disabling progressdialog due to successful new photo get
1336846083563: areButtonsEnabled --> true
1336846083563: inside finalLegAck: change requestCounter to 4
1336846083563: send final leg ack regardless of new or already-processed reply
1336846083564: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010004 Client in region: (4,0) Client nodID: 5010
1336846083564: I'm a leader client, my final_leg packet going to mux directly
1336846083564: mux: Inside mux Packet.CLIENT_REQUEST
1336846083565: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501000300
1336846083565: Yay the last leg succeeded. Removing reply runnables ...
1336846083565: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501000300
1336846083565: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501000300
1336846083565: do not send ack for received final_leg_ack
1336846083565: got new request, requestCounter = 5010004
1336846083565: inside handleClientRequest. Originator leader of region 4
1336846083565: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846083566: new client_show_remotephoto reply with replyCounter 501000300
1336846083566: note down new reply by adding replyCounter=501000300 to HashMap processedReplies
1336846083567: = leader download start 1336846083428 ~ stop 1336846083559
1336846083567: leader download remote photo latency = 131
1336846083568: one more getGood: 1
1336846083569: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1336846083570: Remote photo's length: 3345
1336846083570: Success! Client getting photo from remote region, showing photo...
1336846083570: adding get latency: 131
1336846083739: Received UDP payload: 446
1336846084040: Received UDP payload: 446
1336846084844: Received UDP payload: 642
1336846084852: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846084852: mux: Inside mux Packet.CLIENT_REQUEST
1336846084853: got new request, requestCounter = 5009003
1336846084853: inside handleClientRequest. Originator leader of region 4
1336846084854: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846084869: Sending to region: 0
1336846084874: Sending PROC_REQUEST 11:1 (4,0)->(0,0)
1336846084886: Dispatching Atom PROC_REQUEST 11:1 (4,0)->(0,0)
1336846084886: Make FirstLeg Ack regardless of new or already-processed requests
1336846084886: Note down new request by adding requestCounter=5009003 to HashMap processedRequests
1336846084887: The leader sending a First Leg ack to originator client (which id = 5009)
1336846084887: inside sendPacket(Packet p)
1336846084888: mux: I got a CSM packet at a leader 
1336846084893: Sending UDP payload: 1006
1336846084908: forwarding disabled, not forwarding packets
1336846084909: Sending UDP payload: 446
1336846084927: Received UDP payload: 446
1336846084959: inside sendPacket(Packet p)
1336846084960: Sending UDP payload: 446
1336846085016: Received UDP payload: 4373
1336846085018: mux: GOT CSM_Msg
1336846085019: DSM layer: Going to and from remote region took latency = 149
1336846085019: Received PROC_REPLY 11:1 (0,0)->(4,0), handing to UserApp
1336846085019: inside handleDSMReply. Now back in originator leader of region 4
1336846085020: DSM layer: orig leader sent packet at 1336846084870 ~ received reply from remote leader at 1336846085019
1336846085020: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846085021: inside sendReplies of replyCount = 500900300
1336846085021: leader client reply has replyCounter: 500900300
1336846085021: reply packet contains the newest photo/success info from the remote region
1336846085022: === Finished one round of sending REPLY Packet =======
1336846085022: =======================
1336846085022: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846085022: Leader about to send REPLY packet, number: 500900300 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846085022: inside sendPacket(Packet p)
1336846085022: inside sendReplyRepeatingRunnable for replyCount = 500900300
1336846085024: Sending UDP payload: 4026
1336846085078: Received UDP payload: 446
1336846085080: got new request, requestCounter = 5009004
1336846085080: inside handleClientRequest. Originator leader of region 4
1336846085080: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846085080: mux: Inside mux Packet.CLIENT_REQUEST
1336846085081: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500900300
1336846085081: Yay the last leg succeeded. Removing reply runnables ...
1336846085081: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500900300
1336846085081: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500900300
1336846085081: do not send ack for received final_leg_ack
1336846085218: Received UDP payload: 446
1336846085281: Received UDP payload: 446
1336846088808: Received UDP payload: 446
1336846089098: Received UDP payload: 446
1336846089915: Received UDP payload: 446
1336846089960: inside sendPacket(Packet p)
1336846089974: Sending UDP payload: 446
1336846090223: Received UDP payload: 446
1336846090343: Received UDP payload: 446
1336846093903: Received UDP payload: 446
1336846094070: Received UDP payload: 446
1336846094913: Received UDP payload: 446
1336846094976: inside sendPacket(Packet p)
1336846094982: Sending UDP payload: 446
1336846095238: Received UDP payload: 446
1336846095291: Received UDP payload: 446
1336846097585: Received UDP payload: 642
1336846097592: mux: Inside mux Packet.CLIENT_REQUEST
1336846097677: Received UDP payload: 1006
1336846097687: Received UDP payload: 446
1336846097689: mux: GOT CSM_Msg
1336846097690: forwarding disabled, not forwarding packets
1336846097703: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846097703: mux: Inside Packet.SERVER_REPLY
1336846097843: Received UDP payload: 4533
1336846097848: mux: GOT CSM_Msg
1336846097849: forwarding disabled, not forwarding packets
1336846097902: Received UDP payload: 642
1336846097905: mux: Inside mux Packet.CLIENT_REQUEST
1336846097935: Received UDP payload: 1006
1336846097941: forwarding disabled, not forwarding packets
1336846097941: mux: GOT CSM_Msg
1336846097946: Received UDP payload: 446
1336846097950: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846097950: mux: Inside Packet.SERVER_REPLY
1336846098051: Received UDP payload: 4186
1336846098055: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846098055: mux: Inside Packet.SERVER_REPLY
1336846098097: Received UDP payload: 446
1336846098101: mux: Inside mux Packet.CLIENT_REQUEST
1336846098112: Received UDP payload: 4186
1336846098116: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846098116: mux: Inside Packet.SERVER_REPLY
1336846098157: Received UDP payload: 446
1336846098160: mux: Inside mux Packet.CLIENT_REQUEST
1336846098227: Received UDP payload: 4186
1336846098232: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846098232: mux: Inside Packet.SERVER_REPLY
1336846098269: Received UDP payload: 446
1336846098272: mux: Inside mux Packet.CLIENT_REQUEST
1336846098725: Received UDP payload: 446
1336846098782: Received UDP payload: 1006
1336846098793: forwarding disabled, not forwarding packets
1336846098793: mux: GOT CSM_Msg
1336846098929: Received UDP payload: 1006
1336846098938: mux: GOT CSM_Msg
1336846098939: forwarding disabled, not forwarding packets
1336846098996: Received UDP payload: 4533
1336846099003: mux: GOT CSM_Msg
1336846099004: forwarding disabled, not forwarding packets
1336846099100: Received UDP payload: 446
1336846099912: Received UDP payload: 446
1336846099978: inside sendPacket(Packet p)
1336846099982: Sending UDP payload: 446
1336846100241: Received UDP payload: 446
1336846100344: Received UDP payload: 446
1336846103770: Received UDP payload: 446
1336846104049: Received UDP payload: 446
1336846104525: Received UDP payload: 1006
1336846104537: mux: GOT CSM_Msg
1336846104538: forwarding disabled, not forwarding packets
1336846104632: Received UDP payload: 4533
1336846104641: mux: GOT CSM_Msg
1336846104642: forwarding disabled, not forwarding packets
1336846104920: Received UDP payload: 446
1336846104978: inside sendPacket(Packet p)
1336846104981: Sending UDP payload: 446
1336846105227: Received UDP payload: 446
1336846105288: Received UDP payload: 446
1336846108402: Received UDP payload: 1006
1336846108415: forwarding disabled, not forwarding packets
1336846108415: mux: GOT CSM_Msg
1336846108493: Received UDP payload: 4533
1336846108503: mux: GOT CSM_Msg
1336846108504: forwarding disabled, not forwarding packets
1336846108740: Received UDP payload: 446
1336846109044: Received UDP payload: 446
1336846109927: Received UDP payload: 446
1336846109978: inside sendPacket(Packet p)
1336846109981: Sending UDP payload: 446
1336846110232: Received UDP payload: 446
1336846110303: Received UDP payload: 446
1336846110541: Received UDP payload: 642
1336846110547: mux: Inside mux Packet.CLIENT_REQUEST
1336846110620: Received UDP payload: 1006
1336846110630: mux: GOT CSM_Msg
1336846110631: forwarding disabled, not forwarding packets
1336846110639: Received UDP payload: 446
1336846110645: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846110645: mux: Inside Packet.SERVER_REPLY
1336846110725: Received UDP payload: 4533
1336846110728: forwarding disabled, not forwarding packets
1336846110728: mux: GOT CSM_Msg
1336846110802: Received UDP payload: 4186
1336846110805: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846110805: mux: Inside Packet.SERVER_REPLY
1336846110812: Received UDP payload: 446
1336846110814: mux: Inside mux Packet.CLIENT_REQUEST
1336846111584: Received UDP payload: 1006
1336846111596: forwarding disabled, not forwarding packets
1336846111596: mux: GOT CSM_Msg
1336846111680: Received UDP payload: 4533
1336846111694: forwarding disabled, not forwarding packets
1336846111694: mux: GOT CSM_Msg
1336846113766: Received UDP payload: 446
1336846114008: canPressButton = TRUE
1336846114009: areButtonsEnabled --> false
1336846114009: areButtonsEnabled --> false 
1336846114009: get picture disableButtonsR
1336846114057: one more getNum: 2
1336846114058: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=0 getTimedout=0 getPercent=50%
1336846114068: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846114068: change local requestCounter to 5
1336846114070: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010005 Client in region: 4 Client nodID: 5010
1336846114084: Received UDP payload: 446
1336846114146: ----------------------------
1336846114148: I'm a leader, my requesting photos packet going to mux directly
1336846114148: inside sendRequestPacketRepeatingRunnable for requestCount = 5010005
1336846114148: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846114148: mux: Inside mux Packet.CLIENT_REQUEST
1336846114149: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846114149: got new request, requestCounter = 5010005
1336846114149: inside handleClientRequest. Originator leader of region 4
1336846114150: Sending to region: 1
1336846114151: Dispatching Atom PROC_REQUEST 11:0 (4,0)->(1,0)
1336846114151: Make FirstLeg Ack regardless of new or already-processed requests
1336846114151: Note down new request by adding requestCounter=5010005 to HashMap processedRequests
1336846114151: Sending PROC_REQUEST 11:0 (4,0)->(1,0)
1336846114152: mux: I got a CSM packet at a leader 
1336846114152: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846114154: Sending UDP payload: 1006
1336846114156: --- Finished one round of sending REQUEST Packet ---------
1336846114157: forwarding disabled, not forwarding packets
1336846114205: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846114406: Received UDP payload: 4533
1336846114410: mux: GOT CSM_Msg
1336846114411: DSM layer: Going to and from remote region took latency = 261
1336846114411: DSM layer: orig leader sent packet at 1336846114150 ~ received reply from remote leader at 1336846114411
1336846114411: Received PROC_REPLY 11:0 (1,0)->(4,0), handing to UserApp
1336846114411: inside handleDSMReply. Now back in originator leader of region 4
1336846114412: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846114413: =======================
1336846114413: inside sendReplies of replyCount = 501000500
1336846114413: inside sendReplyRepeatingRunnable for replyCount = 501000500
1336846114413: leader client reply has replyCounter: 501000500
1336846114413: reply packet contains the newest photo/success info from the remote region
1336846114414: === Finished one round of sending REPLY Packet =======
1336846114414: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846114414: Leader about to send REPLY packet, number: 501000500 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846114434: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846114434: disabling progressdialog due to successful new photo get
1336846114435: Inside _enableButtons
1336846114435: areButtonsEnabled --> true
1336846114435: inside finalLegAck: change requestCounter to 6
1336846114435: send final leg ack regardless of new or already-processed reply
1336846114436: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010006 Client in region: (4,0) Client nodID: 5010
1336846114436: I'm a leader client, my final_leg packet going to mux directly
1336846114437: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501000500
1336846114437: Yay the last leg succeeded. Removing reply runnables ...
1336846114437: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501000500
1336846114437: got new request, requestCounter = 5010006
1336846114437: inside handleClientRequest. Originator leader of region 4
1336846114437: leader download remote photo latency = 286
1336846114437: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846114437: mux: Inside mux Packet.CLIENT_REQUEST
1336846114437: new client_show_remotephoto reply with replyCounter 501000500
1336846114437: note down new reply by adding replyCounter=501000500 to HashMap processedReplies
1336846114438: = leader download start 1336846114148 ~ stop 1336846114434
1336846114438: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501000500
1336846114438: do not send ack for received final_leg_ack
1336846114439: one more getGood: 2
1336846114440: adding get latency: 286
1336846114440: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=2 getBad=0 getTimedout=0 getPercent=100%
1336846114441: Remote photo's length: 3505
1336846114441: Success! Client getting photo from remote region, showing photo...
1336846114946: Received UDP payload: 446
1336846114979: inside sendPacket(Packet p)
1336846114982: Sending UDP payload: 446
1336846115238: Received UDP payload: 446
1336846115307: Received UDP payload: 446
1336846115513: Received UDP payload: 642
1336846115519: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846115519: mux: Inside mux Packet.CLIENT_REQUEST
1336846115520: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846115520: got new request, requestCounter = 5009005
1336846115520: inside handleClientRequest. Originator leader of region 4
1336846115523: Sending to region: 1
1336846115524: Sending PROC_REQUEST 11:1 (4,0)->(1,0)
1336846115544: Dispatching Atom PROC_REQUEST 11:1 (4,0)->(1,0)
1336846115544: Make FirstLeg Ack regardless of new or already-processed requests
1336846115544: Note down new request by adding requestCounter=5009005 to HashMap processedRequests
1336846115546: The leader sending a First Leg ack to originator client (which id = 5009)
1336846115546: inside sendPacket(Packet p)
1336846115547: mux: I got a CSM packet at a leader 
1336846115565: Sending UDP payload: 1006
1336846115566: forwarding disabled, not forwarding packets
1336846115567: Sending UDP payload: 446
1336846115763: Received UDP payload: 4533
1336846115769: mux: GOT CSM_Msg
1336846115770: Received PROC_REPLY 11:1 (1,0)->(4,0), handing to UserApp
1336846115770: inside handleDSMReply. Now back in originator leader of region 4
1336846115771: DSM layer: Going to and from remote region took latency = 247
1336846115771: DSM layer: orig leader sent packet at 1336846115523 ~ received reply from remote leader at 1336846115770
1336846115772: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846115772: leader client reply has replyCounter: 500900500
1336846115773: =======================
1336846115773: inside sendReplies of replyCount = 500900500
1336846115773: reply packet contains the newest photo/success info from the remote region
1336846115774: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846115774: Leader about to send REPLY packet, number: 500900500 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846115774: inside sendReplyRepeatingRunnable for replyCount = 500900500
1336846115777: === Finished one round of sending REPLY Packet =======
1336846115777: inside sendPacket(Packet p)
1336846115780: Sending UDP payload: 4186
1336846115878: Received UDP payload: 446
1336846115881: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846115881: mux: Inside mux Packet.CLIENT_REQUEST
1336846115882: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500900500
1336846115882: Yay the last leg succeeded. Removing reply runnables ...
1336846115882: got new request, requestCounter = 5009006
1336846115882: inside handleClientRequest. Originator leader of region 4
1336846115883: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500900500
1336846115883: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500900500
1336846115883: do not send ack for received final_leg_ack
1336846118805: Received UDP payload: 446
1336846119104: Received UDP payload: 446
1336846119980: inside sendPacket(Packet p)
1336846119987: Received UDP payload: 446
1336846119996: Sending UDP payload: 446
1336846120231: Received UDP payload: 446
1336846120341: Received UDP payload: 446
1336846123782: Received UDP payload: 446
1336846124057: Received UDP payload: 446
1336846124541: Received UDP payload: 1006
1336846124551: forwarding disabled, not forwarding packets
1336846124551: mux: GOT CSM_Msg
1336846124645: Received UDP payload: 4368
1336846124654: forwarding disabled, not forwarding packets
1336846124654: mux: GOT CSM_Msg
1336846124952: Received UDP payload: 446
1336846124997: inside sendPacket(Packet p)
1336846125001: Sending UDP payload: 446
1336846125238: Received UDP payload: 446
1336846125307: Received UDP payload: 446
1336846125448: Received UDP payload: 642
1336846125457: mux: Inside mux Packet.CLIENT_REQUEST
1336846125504: Received UDP payload: 1006
1336846125509: Received UDP payload: 446
1336846125509: forwarding disabled, not forwarding packets
1336846125509: mux: GOT CSM_Msg
1336846125511: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846125511: mux: Inside Packet.SERVER_REPLY
1336846125549: Received UDP payload: 4368
1336846125552: forwarding disabled, not forwarding packets
1336846125552: mux: GOT CSM_Msg
1336846125621: Received UDP payload: 4021
1336846125622: mux: Inside Packet.SERVER_REPLY
1336846125623: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846125636: Received UDP payload: 446
1336846125637: mux: Inside mux Packet.CLIENT_REQUEST
1336846128780: Received UDP payload: 446
1336846129051: Received UDP payload: 446
1336846129961: Received UDP payload: 446
1336846129999: inside sendPacket(Packet p)
1336846130012: Sending UDP payload: 446
1336846130241: Received UDP payload: 446
1336846130321: Received UDP payload: 446
1336846132804: Received UDP payload: 642
1336846132812: mux: Inside mux Packet.CLIENT_REQUEST
1336846132831: Received UDP payload: 642
1336846132837: mux: Inside mux Packet.CLIENT_REQUEST
1336846133033: Received UDP payload: 1006
1336846133044: forwarding disabled, not forwarding packets
1336846133044: mux: GOT CSM_Msg
1336846133050: Received UDP payload: 446
1336846133056: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846133056: mux: Inside Packet.SERVER_REPLY
1336846133063: Received UDP payload: 446
1336846133081: mux: Inside Packet.SERVER_REPLY
1336846133082: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846133171: Received UDP payload: 4368
1336846133185: mux: GOT CSM_Msg
1336846133186: forwarding disabled, not forwarding packets
1336846133257: Received UDP payload: 4021
1336846133263: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846133263: mux: Inside Packet.SERVER_REPLY
1336846133273: Received UDP payload: 446
1336846133279: mux: Inside mux Packet.CLIENT_REQUEST
1336846133780: Received UDP payload: 446
1336846133817: Received UDP payload: 1006
1336846133827: mux: GOT CSM_Msg
1336846133828: forwarding disabled, not forwarding packets
1336846133915: Received UDP payload: 4368
1336846133918: forwarding disabled, not forwarding packets
1336846133918: mux: GOT CSM_Msg
1336846134056: Received UDP payload: 446
1336846134870: Received UDP payload: 1006
1336846134881: mux: GOT CSM_Msg
1336846134889: forwarding disabled, not forwarding packets
1336846134977: Received UDP payload: 446
1336846135014: inside sendPacket(Packet p)
1336846135017: Sending UDP payload: 446
1336846135029: Received UDP payload: 4368
1336846135039: mux: GOT CSM_Msg
1336846135040: forwarding disabled, not forwarding packets
1336846135235: Received UDP payload: 446
1336846135297: Received UDP payload: 446
1336846139052: Received UDP payload: 446
1336846139946: Received UDP payload: 446
1336846140018: inside sendPacket(Packet p)
1336846140031: Sending UDP payload: 446
1336846140246: Received UDP payload: 446
1336846140314: Received UDP payload: 446
1336846140761: Received UDP payload: 1006
1336846140773: mux: GOT CSM_Msg
1336846140774: forwarding disabled, not forwarding packets
1336846140817: Received UDP payload: 4368
1336846140831: forwarding disabled, not forwarding packets
1336846140831: mux: GOT CSM_Msg
1336846140954: Received UDP payload: 642
1336846140957: mux: Inside mux Packet.CLIENT_REQUEST
1336846140983: Received UDP payload: 1006
1336846140988: forwarding disabled, not forwarding packets
1336846140988: mux: GOT CSM_Msg
1336846140995: Received UDP payload: 446
1336846140998: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846140998: mux: Inside Packet.SERVER_REPLY
1336846141051: Received UDP payload: 4368
1336846141055: forwarding disabled, not forwarding packets
1336846141055: mux: GOT CSM_Msg
1336846141126: Received UDP payload: 4021
1336846141130: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846141130: mux: Inside Packet.SERVER_REPLY
1336846141140: Received UDP payload: 446
1336846141143: mux: Inside mux Packet.CLIENT_REQUEST
1336846141955: Received UDP payload: 1006
1336846141967: mux: GOT CSM_Msg
1336846141968: forwarding disabled, not forwarding packets
1336846142060: Received UDP payload: 4368
1336846142062: forwarding disabled, not forwarding packets
1336846142062: mux: GOT CSM_Msg
1336846143800: Received UDP payload: 446
1336846144056: Received UDP payload: 446
1336846144960: Received UDP payload: 446
1336846145033: inside sendPacket(Packet p)
1336846145034: Sending UDP payload: 446
1336846145241: Received UDP payload: 446
1336846145300: Received UDP payload: 446
1336846148100: canPressButton = TRUE
1336846148101: areButtonsEnabled --> false
1336846148101: areButtonsEnabled --> false 
1336846148101: get picture disableButtonsR
1336846148127: one more getNum: 3
1336846148128: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846148128: change local requestCounter to 7
1336846148128: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=0 getTimedout=0 getPercent=66%
1336846148129: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010007 Client in region: 4 Client nodID: 5010
1336846148157: ----------------------------
1336846148158: inside sendRequestPacketRepeatingRunnable for requestCount = 5010007
1336846148159: I'm a leader, my requesting photos packet going to mux directly
1336846148159: inside handleClientRequest. Originator leader of region 4
1336846148159: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846148159: mux: Inside mux Packet.CLIENT_REQUEST
1336846148160: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846148160: Sending to region: 2
1336846148160: got new request, requestCounter = 5010007
1336846148161: Dispatching Atom PROC_REQUEST 11:0 (4,0)->(2,0)
1336846148161: Make FirstLeg Ack regardless of new or already-processed requests
1336846148161: Note down new request by adding requestCounter=5010007 to HashMap processedRequests
1336846148161: Sending PROC_REQUEST 11:0 (4,0)->(2,0)
1336846148161: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846148163: mux: I got a CSM packet at a leader 
1336846148164: Sending UDP payload: 1006
1336846148165: --- Finished one round of sending REQUEST Packet ---------
1336846148165: forwarding disabled, not forwarding packets
1336846148205: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846148300: Received UDP payload: 4368
1336846148302: mux: GOT CSM_Msg
1336846148303: DSM layer: Going to and from remote region took latency = 142
1336846148303: DSM layer: orig leader sent packet at 1336846148161 ~ received reply from remote leader at 1336846148303
1336846148303: Received PROC_REPLY 11:0 (2,0)->(4,0), handing to UserApp
1336846148303: inside handleDSMReply. Now back in originator leader of region 4
1336846148304: =======================
1336846148304: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846148304: inside sendReplies of replyCount = 501000700
1336846148304: leader client reply has replyCounter: 501000700
1336846148304: reply packet contains the newest photo/success info from the remote region
1336846148305: === Finished one round of sending REPLY Packet =======
1336846148305: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846148305: Leader about to send REPLY packet, number: 501000700 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846148305: inside sendReplyRepeatingRunnable for replyCount = 501000700
1336846148311: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846148311: Inside _enableButtons
1336846148311: disabling progressdialog due to successful new photo get
1336846148312: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010008 Client in region: (4,0) Client nodID: 5010
1336846148312: areButtonsEnabled --> true
1336846148312: inside finalLegAck: change requestCounter to 8
1336846148312: send final leg ack regardless of new or already-processed reply
1336846148313: I'm a leader client, my final_leg packet going to mux directly
1336846148313: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501000700
1336846148313: Yay the last leg succeeded. Removing reply runnables ...
1336846148313: got new request, requestCounter = 5010008
1336846148313: inside handleClientRequest. Originator leader of region 4
1336846148313: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846148313: mux: Inside mux Packet.CLIENT_REQUEST
1336846148314: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501000700
1336846148314: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501000700
1336846148314: do not send ack for received final_leg_ack
1336846148314: new client_show_remotephoto reply with replyCounter 501000700
1336846148314: note down new reply by adding replyCounter=501000700 to HashMap processedReplies
1336846148315: = leader download start 1336846148159 ~ stop 1336846148311
1336846148315: leader download remote photo latency = 152
1336846148316: one more getGood: 3
1336846148316: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=3 getBad=0 getTimedout=0 getPercent=100%
1336846148317: Success! Client getting photo from remote region, showing photo...
1336846148317: adding get latency: 152
1336846148318: Remote photo's length: 3340
1336846148799: Received UDP payload: 446
1336846149054: Received UDP payload: 446
1336846149561: Received UDP payload: 642
1336846149570: inside handleClientRequest. Originator leader of region 4
1336846149570: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846149570: mux: Inside mux Packet.CLIENT_REQUEST
1336846149571: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846149571: got new request, requestCounter = 5009007
1336846149585: Sending to region: 2
1336846149587: Sending PROC_REQUEST 11:1 (4,0)->(2,0)
1336846149589: Dispatching Atom PROC_REQUEST 11:1 (4,0)->(2,0)
1336846149589: Note down new request by adding requestCounter=5009007 to HashMap processedRequests
1336846149590: Make FirstLeg Ack regardless of new or already-processed requests
1336846149590: The leader sending a First Leg ack to originator client (which id = 5009)
1336846149590: inside sendPacket(Packet p)
1336846149591: mux: I got a CSM packet at a leader 
1336846149612: Sending UDP payload: 1006
1336846149615: forwarding disabled, not forwarding packets
1336846149618: Sending UDP payload: 446
1336846149726: Received UDP payload: 4368
1336846149730: mux: GOT CSM_Msg
1336846149731: DSM layer: Going to and from remote region took latency = 146
1336846149731: DSM layer: orig leader sent packet at 1336846149585 ~ received reply from remote leader at 1336846149731
1336846149731: Received PROC_REPLY 11:1 (2,0)->(4,0), handing to UserApp
1336846149731: inside handleDSMReply. Now back in originator leader of region 4
1336846149732: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846149732: leader client reply has replyCounter: 500900700
1336846149732: reply packet contains the newest photo/success info from the remote region
1336846149733: =======================
1336846149733: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846149733: Leader about to send REPLY packet, number: 500900700 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846149733: inside sendPacket(Packet p)
1336846149733: inside sendReplies of replyCount = 500900700
1336846149733: inside sendReplyRepeatingRunnable for replyCount = 500900700
1336846149734: === Finished one round of sending REPLY Packet =======
1336846149735: Sending UDP payload: 4021
1336846149795: Received UDP payload: 446
1336846149797: got new request, requestCounter = 5009008
1336846149797: inside handleClientRequest. Originator leader of region 4
1336846149797: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846149797: mux: Inside mux Packet.CLIENT_REQUEST
1336846149798: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500900700
1336846149798: Yay the last leg succeeded. Removing reply runnables ...
1336846149798: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500900700
1336846149798: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500900700
1336846149798: do not send ack for received final_leg_ack
1336846149952: Received UDP payload: 446
1336846150033: inside sendPacket(Packet p)
1336846150035: Sending UDP payload: 446
1336846150237: Received UDP payload: 446
1336846150680: Received UDP payload: 446
1336846153806: Received UDP payload: 446
1336846154073: Received UDP payload: 446
1336846154963: Received UDP payload: 446
1336846155034: inside sendPacket(Packet p)
1336846155052: Sending UDP payload: 446
1336846155239: Received UDP payload: 446
1336846155691: Received UDP payload: 446
1336846158808: Received UDP payload: 446
1336846159092: Received UDP payload: 446
1336846159978: Received UDP payload: 446
1336846160057: inside sendPacket(Packet p)
1336846160071: Sending UDP payload: 446
1336846160239: Received UDP payload: 446
1336846160694: Received UDP payload: 446
1336846163810: Received UDP payload: 446
1336846164095: Received UDP payload: 446
1336846164970: Received UDP payload: 446
1336846165075: inside sendPacket(Packet p)
1336846165082: Sending UDP payload: 446
1336846165255: Received UDP payload: 446
1336846165740: Received UDP payload: 446
1336846168827: Received UDP payload: 446
1336846169123: Received UDP payload: 446
1336846170007: Received UDP payload: 446
1336846170083: inside sendPacket(Packet p)
1336846170086: Sending UDP payload: 446
1336846170242: Received UDP payload: 446
1336846170705: Received UDP payload: 446
1336846171009: leader to cloud hearbeat...
1336846173133: Received UDP payload: 1006
1336846173144: forwarding disabled, not forwarding packets
1336846173144: mux: GOT CSM_Msg
1336846173291: Received UDP payload: 4942
1336846173301: forwarding disabled, not forwarding packets
1336846173301: mux: GOT CSM_Msg
1336846173815: Received UDP payload: 446
1336846174101: Received UDP payload: 446
1336846174313: Received UDP payload: 642
1336846174332: mux: Inside mux Packet.CLIENT_REQUEST
1336846174374: Received UDP payload: 1006
1336846174376: forwarding disabled, not forwarding packets
1336846174376: mux: GOT CSM_Msg
1336846174386: Received UDP payload: 446
1336846174388: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846174388: mux: Inside Packet.SERVER_REPLY
1336846174461: Received UDP payload: 4942
1336846174464: forwarding disabled, not forwarding packets
1336846174464: mux: GOT CSM_Msg
1336846174526: Received UDP payload: 4595
1336846174528: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846174528: mux: Inside Packet.SERVER_REPLY
1336846174552: Received UDP payload: 446
1336846174553: mux: Inside mux Packet.CLIENT_REQUEST
1336846174989: Received UDP payload: 446
1336846175084: inside sendPacket(Packet p)
1336846175087: Sending UDP payload: 446
1336846175243: Received UDP payload: 446
1336846175730: Received UDP payload: 446
1336846176849: Received UDP payload: 642
1336846176856: mux: Inside mux Packet.CLIENT_REQUEST
1336846176890: Received UDP payload: 1006
1336846176899: forwarding disabled, not forwarding packets
1336846176899: mux: GOT CSM_Msg
1336846176908: Received UDP payload: 446
1336846176910: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846176910: mux: Inside Packet.SERVER_REPLY
1336846176966: Received UDP payload: 4942
1336846176968: forwarding disabled, not forwarding packets
1336846176968: mux: GOT CSM_Msg
1336846177040: Received UDP payload: 4595
1336846177041: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846177041: mux: Inside Packet.SERVER_REPLY
1336846177054: Received UDP payload: 446
1336846177055: mux: Inside mux Packet.CLIENT_REQUEST
1336846178172: Received UDP payload: 1006
1336846178186: mux: GOT CSM_Msg
1336846178187: forwarding disabled, not forwarding packets
1336846178264: Received UDP payload: 4942
1336846178266: forwarding disabled, not forwarding packets
1336846178266: mux: GOT CSM_Msg
1336846178820: Received UDP payload: 446
1336846179140: Received UDP payload: 446
1336846180013: Received UDP payload: 446
1336846180084: inside sendPacket(Packet p)
1336846180085: Sending UDP payload: 446
1336846180289: Received UDP payload: 446
1336846180725: Received UDP payload: 446
1336846183833: Received UDP payload: 446
1336846184117: Received UDP payload: 446
1336846184287: Received UDP payload: 1006
1336846184298: mux: GOT CSM_Msg
1336846184299: forwarding disabled, not forwarding packets
1336846184345: Received UDP payload: 4942
1336846184350: forwarding disabled, not forwarding packets
1336846184350: mux: GOT CSM_Msg
1336846184993: Received UDP payload: 446
1336846185085: inside sendPacket(Packet p)
1336846185088: Sending UDP payload: 446
1336846185245: Received UDP payload: 446
1336846185752: Received UDP payload: 446
1336846187188: Received UDP payload: 1006
1336846187198: forwarding disabled, not forwarding packets
1336846187198: mux: GOT CSM_Msg
1336846187312: Received UDP payload: 4942
1336846187324: mux: GOT CSM_Msg
1336846187325: forwarding disabled, not forwarding packets
1336846188836: Received UDP payload: 446
1336846189129: Received UDP payload: 446
1336846189996: Received UDP payload: 446
1336846190087: inside sendPacket(Packet p)
1336846190095: Sending UDP payload: 446
1336846190246: Received UDP payload: 446
1336846190754: Received UDP payload: 446
1336846191117: Received UDP payload: 642
1336846191124: mux: Inside mux Packet.CLIENT_REQUEST
1336846191184: Received UDP payload: 1006
1336846191187: forwarding disabled, not forwarding packets
1336846191187: mux: GOT CSM_Msg
1336846191191: Received UDP payload: 446
1336846191193: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846191193: mux: Inside Packet.SERVER_REPLY
1336846191281: Received UDP payload: 4942
1336846191284: forwarding disabled, not forwarding packets
1336846191284: mux: GOT CSM_Msg
1336846191352: Received UDP payload: 4595
1336846191353: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846191353: mux: Inside Packet.SERVER_REPLY
1336846191363: Received UDP payload: 446
1336846191365: mux: Inside mux Packet.CLIENT_REQUEST
1336846192126: Received UDP payload: 1006
1336846192137: mux: GOT CSM_Msg
1336846192138: forwarding disabled, not forwarding packets
1336846192215: Received UDP payload: 4942
1336846192218: forwarding disabled, not forwarding packets
1336846192218: mux: GOT CSM_Msg
1336846193837: Received UDP payload: 446
1336846194125: Received UDP payload: 446
1336846195000: Received UDP payload: 446
1336846195099: inside sendPacket(Packet p)
1336846195108: Sending UDP payload: 446
1336846195244: Received UDP payload: 446
1336846195754: Received UDP payload: 446
1336846196758: canPressButton = TRUE
1336846196759: areButtonsEnabled --> false 
1336846196759: get picture disableButtonsR
1336846196760: areButtonsEnabled --> false
1336846196796: one more getNum: 4
1336846196798: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846196798: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=3 getBad=0 getTimedout=0 getPercent=75%
1336846196799: change local requestCounter to 9
1336846196800: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010009 Client in region: 4 Client nodID: 5010
1336846196836: ----------------------------
1336846196836: inside sendRequestPacketRepeatingRunnable for requestCount = 5010009
1336846196837: I'm a leader, my requesting photos packet going to mux directly
1336846196837: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846196837: got new request, requestCounter = 5010009
1336846196837: inside handleClientRequest. Originator leader of region 4
1336846196837: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846196837: mux: Inside mux Packet.CLIENT_REQUEST
1336846196838: Sending PROC_REQUEST 11:0 (4,0)->(3,0)
1336846196838: Sending to region: 3
1336846196839: Dispatching Atom PROC_REQUEST 11:0 (4,0)->(3,0)
1336846196839: Make FirstLeg Ack regardless of new or already-processed requests
1336846196839: Note down new request by adding requestCounter=5010009 to HashMap processedRequests
1336846196840: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846196841: mux: I got a CSM packet at a leader 
1336846196847: Sending UDP payload: 1006
1336846196850: --- Finished one round of sending REQUEST Packet ---------
1336846196859: forwarding disabled, not forwarding packets
1336846196885: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846196969: Received UDP payload: 4942
1336846196972: DSM layer: Going to and from remote region took latency = 134
1336846196972: DSM layer: orig leader sent packet at 1336846196838 ~ received reply from remote leader at 1336846196972
1336846196972: Received PROC_REPLY 11:0 (3,0)->(4,0), handing to UserApp
1336846196972: inside handleDSMReply. Now back in originator leader of region 4
1336846196972: mux: GOT CSM_Msg
1336846196973: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846196973: leader client reply has replyCounter: 501000900
1336846196973: reply packet contains the newest photo/success info from the remote region
1336846196974: === Finished one round of sending REPLY Packet =======
1336846196974: =======================
1336846196974: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846196974: Leader about to send REPLY packet, number: 501000900 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846196974: inside sendReplies of replyCount = 501000900
1336846196974: inside sendReplyRepeatingRunnable for replyCount = 501000900
1336846196990: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846196990: disabling progressdialog due to successful new photo get
1336846196991: Inside _enableButtons
1336846196991: areButtonsEnabled --> true
1336846196991: send final leg ack regardless of new or already-processed reply
1336846196992: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010010 Client in region: (4,0) Client nodID: 5010
1336846196992: inside finalLegAck: change requestCounter to 10
1336846196993: I'm a leader client, my final_leg packet going to mux directly
1336846196993: got new request, requestCounter = 5010010
1336846196993: inside handleClientRequest. Originator leader of region 4
1336846196993: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846196993: mux: Inside mux Packet.CLIENT_REQUEST
1336846196993: new client_show_remotephoto reply with replyCounter 501000900
1336846196993: note down new reply by adding replyCounter=501000900 to HashMap processedReplies
1336846196994: = leader download start 1336846196837 ~ stop 1336846196990
1336846196994: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501000900
1336846196994: Yay the last leg succeeded. Removing reply runnables ...
1336846196994: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501000900
1336846196994: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501000900
1336846196994: do not send ack for received final_leg_ack
1336846196994: leader download remote photo latency = 153
1336846196996: one more getGood: 4
1336846196996: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=4 getBad=0 getTimedout=0 getPercent=100%
1336846196997: adding get latency: 153
1336846196998: Remote photo's length: 3914
1336846196998: Success! Client getting photo from remote region, showing photo...
1336846198253: Received UDP payload: 642
1336846198264: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846198264: mux: Inside mux Packet.CLIENT_REQUEST
1336846198265: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846198265: got new request, requestCounter = 5009009
1336846198265: inside handleClientRequest. Originator leader of region 4
1336846198268: Sending to region: 3
1336846198280: Sending PROC_REQUEST 11:1 (4,0)->(3,0)
1336846198281: Dispatching Atom PROC_REQUEST 11:1 (4,0)->(3,0)
1336846198281: Note down new request by adding requestCounter=5009009 to HashMap processedRequests
1336846198282: Make FirstLeg Ack regardless of new or already-processed requests
1336846198282: The leader sending a First Leg ack to originator client (which id = 5009)
1336846198282: inside sendPacket(Packet p)
1336846198283: mux: I got a CSM packet at a leader 
1336846198298: Sending UDP payload: 1006
1336846198309: forwarding disabled, not forwarding packets
1336846198311: Sending UDP payload: 446
1336846198385: Received UDP payload: 4942
1336846198387: mux: GOT CSM_Msg
1336846198388: DSM layer: Going to and from remote region took latency = 120
1336846198388: DSM layer: orig leader sent packet at 1336846198268 ~ received reply from remote leader at 1336846198388
1336846198388: Received PROC_REPLY 11:1 (3,0)->(4,0), handing to UserApp
1336846198388: inside handleDSMReply. Now back in originator leader of region 4
1336846198389: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846198389: inside sendReplies of replyCount = 500900900
1336846198389: leader client reply has replyCounter: 500900900
1336846198389: reply packet contains the newest photo/success info from the remote region
1336846198398: =======================
1336846198399: inside sendReplyRepeatingRunnable for replyCount = 500900900
1336846198400: === Finished one round of sending REPLY Packet =======
1336846198400: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846198400: Leader about to send REPLY packet, number: 500900900 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846198400: inside sendPacket(Packet p)
1336846198402: Sending UDP payload: 4595
1336846198509: Received UDP payload: 446
1336846198511: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500900900
1336846198511: Yay the last leg succeeded. Removing reply runnables ...
1336846198511: got new request, requestCounter = 5009010
1336846198511: inside handleClientRequest. Originator leader of region 4
1336846198511: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846198511: mux: Inside mux Packet.CLIENT_REQUEST
1336846198512: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500900900
1336846198512: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500900900
1336846198512: do not send ack for received final_leg_ack
1336846198842: Received UDP payload: 446
1336846199132: Received UDP payload: 446
1336846200003: Received UDP payload: 446
1336846200111: inside sendPacket(Packet p)
1336846200112: Sending UDP payload: 446
1336846200243: Received UDP payload: 446
1336846200760: Received UDP payload: 446
1336846203890: Received UDP payload: 446
1336846204151: Received UDP payload: 446
1336846204710: Received UDP payload: 1006
1336846204720: mux: GOT CSM_Msg
1336846204720: removed replies before id 0 from sentReplies of size 0
1336846204721: inside handleDSMRequest. At requests's remote leader of region 4
1336846204723: INSIDE SERVER_GET_PHOTO!!!
1336846204741: Received PROC_REQUEST 11:0 (1,0)->(4,0), replying PROC_REPLY 11:0 (4,0)->(1,0)
1336846204742: Dispatching Atom PROC_REPLY 11:0 (4,0)->(1,0)
1336846204743: mux: I got a CSM packet at a leader 
1336846204756: Sending UDP payload: 4091
1336846204771: forwarding disabled, not forwarding packets
1336846205008: Received UDP payload: 446
1336846205113: inside sendPacket(Packet p)
1336846205116: Sending UDP payload: 446
1336846205251: Received UDP payload: 446
1336846205775: Received UDP payload: 446
1336846206070: Received UDP payload: 642
1336846206080: mux: Inside mux Packet.CLIENT_REQUEST
1336846206118: Received UDP payload: 1006
1336846206127: mux: GOT CSM_Msg
1336846206127: removed replies before id 1 from sentReplies of size 0
1336846206128: inside handleDSMRequest. At requests's remote leader of region 4
1336846206131: INSIDE SERVER_GET_PHOTO!!!
1336846206140: Dispatching Atom PROC_REPLY 11:1 (4,0)->(1,0)
1336846206140: Received PROC_REQUEST 11:1 (1,0)->(4,0), replying PROC_REPLY 11:1 (4,0)->(1,0)
1336846206140: mux: I got a CSM packet at a leader 
1336846206142: Sending UDP payload: 4091
1336846206143: forwarding disabled, not forwarding packets
1336846206144: Received UDP payload: 446
1336846206146: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846206146: mux: Inside Packet.SERVER_REPLY
1336846206292: Received UDP payload: 3744
1336846206294: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846206294: mux: Inside Packet.SERVER_REPLY
1336846206318: Received UDP payload: 446
1336846206320: mux: Inside mux Packet.CLIENT_REQUEST
1336846208858: Received UDP payload: 446
1336846209220: Received UDP payload: 446
1336846210041: Received UDP payload: 446
1336846210113: inside sendPacket(Packet p)
1336846210116: Sending UDP payload: 446
1336846210265: Received UDP payload: 446
1336846210788: Received UDP payload: 446
1336846213342: Received UDP payload: 642
1336846213347: mux: Inside mux Packet.CLIENT_REQUEST
1336846213405: Received UDP payload: 1006
1336846213414: mux: GOT CSM_Msg
1336846213415: inside handleDSMRequest. At requests's remote leader of region 4
1336846213415: removed replies before id 0 from sentReplies of size 0
1336846213417: INSIDE SERVER_GET_PHOTO!!!
1336846213422: Received PROC_REQUEST 11:0 (0,0)->(4,0), replying PROC_REPLY 11:0 (4,0)->(0,0)
1336846213423: Dispatching Atom PROC_REPLY 11:0 (4,0)->(0,0)
1336846213423: mux: I got a CSM packet at a leader 
1336846213425: Received UDP payload: 446
1336846213444: Sending UDP payload: 4091
1336846213450: forwarding disabled, not forwarding packets
1336846213451: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846213451: mux: Inside Packet.SERVER_REPLY
1336846213536: Received UDP payload: 3744
1336846213538: mux: Inside Packet.SERVER_REPLY
1336846213539: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846213588: Received UDP payload: 446
1336846213590: mux: Inside mux Packet.CLIENT_REQUEST
1336846213864: Received UDP payload: 446
1336846214165: Received UDP payload: 446
1336846214735: Received UDP payload: 1006
1336846214746: mux: GOT CSM_Msg
1336846214747: inside handleDSMRequest. At requests's remote leader of region 4
1336846214747: removed replies before id 1 from sentReplies of size 0
1336846214760: INSIDE SERVER_GET_PHOTO!!!
1336846214766: Received PROC_REQUEST 11:1 (0,0)->(4,0), replying PROC_REPLY 11:1 (4,0)->(0,0)
1336846214768: Dispatching Atom PROC_REPLY 11:1 (4,0)->(0,0)
1336846214768: mux: I got a CSM packet at a leader 
1336846214784: Sending UDP payload: 4091
1336846214788: forwarding disabled, not forwarding packets
1336846215008: Received UDP payload: 446
1336846215114: inside sendPacket(Packet p)
1336846215117: Sending UDP payload: 446
1336846215248: Received UDP payload: 446
1336846215452: Received UDP payload: 1006
1336846215462: mux: GOT CSM_Msg
1336846215463: inside handleDSMRequest. At requests's remote leader of region 4
1336846215463: removed replies before id 0 from sentReplies of size 0
1336846215465: INSIDE SERVER_GET_PHOTO!!!
1336846215483: Received PROC_REQUEST 11:0 (3,0)->(4,0), replying PROC_REPLY 11:0 (4,0)->(3,0)
1336846215484: Dispatching Atom PROC_REPLY 11:0 (4,0)->(3,0)
1336846215484: mux: I got a CSM packet at a leader 
1336846215488: Sending UDP payload: 4091
1336846215502: forwarding disabled, not forwarding packets
1336846215798: Received UDP payload: 446
1336846218880: Received UDP payload: 446
1336846219181: Received UDP payload: 446
1336846220010: Received UDP payload: 446
1336846220115: inside sendPacket(Packet p)
1336846220118: Sending UDP payload: 446
1336846220248: Received UDP payload: 446
1336846220801: Received UDP payload: 446
1336846222508: Received UDP payload: 642
1336846222514: mux: Inside mux Packet.CLIENT_REQUEST
1336846222590: Received UDP payload: 1006
1336846222598: mux: GOT CSM_Msg
1336846222600: removed replies before id 0 from sentReplies of size 0
1336846222601: inside handleDSMRequest. At requests's remote leader of region 4
1336846222603: INSIDE SERVER_GET_PHOTO!!!
1336846222608: Received PROC_REQUEST 11:0 (5,0)->(4,0), replying PROC_REPLY 11:0 (4,0)->(5,0)
1336846222609: Dispatching Atom PROC_REPLY 11:0 (4,0)->(5,0)
1336846222619: Received UDP payload: 446
1336846222625: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846222625: mux: Inside Packet.SERVER_REPLY
1336846222626: mux: I got a CSM packet at a leader 
1336846222636: Sending UDP payload: 4091
1336846222645: forwarding disabled, not forwarding packets
1336846222766: Received UDP payload: 3744
1336846222768: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846222768: mux: Inside Packet.SERVER_REPLY
1336846222781: Received UDP payload: 446
1336846222783: mux: Inside mux Packet.CLIENT_REQUEST
1336846222871: Received UDP payload: 1006
1336846222874: mux: GOT CSM_Msg
1336846222874: removed replies before id 0 from sentReplies of size 0
1336846222875: inside handleDSMRequest. At requests's remote leader of region 4
1336846222877: INSIDE SERVER_GET_PHOTO!!!
1336846222881: Received PROC_REQUEST 11:0 (2,0)->(4,0), replying PROC_REPLY 11:0 (4,0)->(2,0)
1336846222883: Dispatching Atom PROC_REPLY 11:0 (4,0)->(2,0)
1336846222884: mux: I got a CSM packet at a leader 
1336846222890: Sending UDP payload: 4091
1336846222891: forwarding disabled, not forwarding packets
1336846223718: Received UDP payload: 1006
1336846223735: mux: GOT CSM_Msg
1336846223736: inside handleDSMRequest. At requests's remote leader of region 4
1336846223736: removed replies before id 1 from sentReplies of size 0
1336846223738: INSIDE SERVER_GET_PHOTO!!!
1336846223755: Received PROC_REQUEST 11:1 (5,0)->(4,0), replying PROC_REPLY 11:1 (4,0)->(5,0)
1336846223760: Dispatching Atom PROC_REPLY 11:1 (4,0)->(5,0)
1336846223760: mux: I got a CSM packet at a leader 
1336846223765: Sending UDP payload: 4091
1336846223790: forwarding disabled, not forwarding packets
1336846223961: Received UDP payload: 446
1336846224174: Received UDP payload: 446
1336846225044: Received UDP payload: 446
1336846225117: inside sendPacket(Packet p)
1336846225122: Sending UDP payload: 446
1336846225251: Received UDP payload: 446
1336846225854: Received UDP payload: 446
1336846228927: Received UDP payload: 446
1336846229157: canPressButton = TRUE
1336846229158: areButtonsEnabled --> false
1336846229158: areButtonsEnabled --> false 
1336846229158: get picture disableButtonsR
1336846229184: one more getNum: 5
1336846229185: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846229185: change local requestCounter to 11
1336846229185: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=0 getTimedout=0 getPercent=80%
1336846229186: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010011 Client in region: 4 Client nodID: 5010
1336846229214: ----------------------------
1336846229215: Received UDP payload: 446
1336846229218: I'm a leader, my requesting photos packet going to mux directly
1336846229218: inside sendRequestPacketRepeatingRunnable for requestCount = 5010011
1336846229219: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846229219: got new request, requestCounter = 5010011
1336846229219: inside handleClientRequest. Originator leader of region 4
1336846229219: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846229219: mux: Inside mux Packet.CLIENT_REQUEST
1336846229220: Sending to region: 4
1336846229221: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(4,0)
1336846229221: Make FirstLeg Ack regardless of new or already-processed requests
1336846229221: Note down new request by adding requestCounter=5010011 to HashMap processedRequests
1336846229221: Sending PROC_REQUEST 11:2 (4,0)->(4,0)
1336846229221: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846229222: mux: I got a CSM packet at a leader 
1336846229223: Sending UDP payload: 1006
1336846229224: inside handleDSMRequest. At requests's remote leader of region 4
1336846229224: removed replies before id 2 from sentReplies of size 0
1336846229225: INSIDE SERVER_GET_PHOTO!!!
1336846229226:  1 self to self atomRequest
1336846229226: dst_region == src_region = 4
1336846229227: Dispatching Atom PROC_REPLY 11:2 (4,0)->(4,0)
1336846229227: Received PROC_REQUEST 11:2 (4,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(4,0)
1336846229228: mux: I got a CSM packet at a leader 
1336846229229: --- Finished one round of sending REQUEST Packet ---------
1336846229229: Sending UDP payload: 4091
1336846229237: Received PROC_REPLY 11:2 (4,0)->(4,0), handing to UserApp
1336846229238: DSM layer: Going to and from remote region took latency = 18
1336846229238: DSM layer: orig leader sent packet at 1336846229220 ~ received reply from remote leader at 1336846229238
1336846229238: inside handleDSMReply. Now back in originator leader of region 4
1336846229239: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846229239: leader client reply has replyCounter: 501001100
1336846229246: =======================
1336846229246: inside sendReplies of replyCount = 501001100
1336846229246: inside sendReplyRepeatingRunnable for replyCount = 501001100
1336846229246: reply packet contains the newest photo/success info from the remote region
1336846229247: === Finished one round of sending REPLY Packet =======
1336846229247: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846229247: Leader about to send REPLY packet, number: 501001100 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846229278: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846229280: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846229281: disabling progressdialog due to successful new photo get
1336846229285: Inside _enableButtons
1336846229286: areButtonsEnabled --> true
1336846229286: send final leg ack regardless of new or already-processed reply
1336846229287: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010012 Client in region: (4,0) Client nodID: 5010
1336846229287: I'm a leader client, my final_leg packet going to mux directly
1336846229287: inside finalLegAck: change requestCounter to 12
1336846229288: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501001100
1336846229288: Yay the last leg succeeded. Removing reply runnables ...
1336846229288: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501001100
1336846229288: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501001100
1336846229288: do not send ack for received final_leg_ack
1336846229288: got new request, requestCounter = 5010012
1336846229288: inside handleClientRequest. Originator leader of region 4
1336846229288: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846229288: mux: Inside mux Packet.CLIENT_REQUEST
1336846229289: leader download remote photo latency = 61
1336846229289: new client_show_remotephoto reply with replyCounter 501001100
1336846229289: note down new reply by adding replyCounter=501001100 to HashMap processedReplies
1336846229290: = leader download start 1336846229219 ~ stop 1336846229280
1336846229291: one more getGood: 5
1336846229292: Success! Client getting photo from remote region, showing photo...
1336846229292: adding get latency: 61
1336846229292: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=5 getBad=0 getTimedout=0 getPercent=100%
1336846229293: Remote photo's length: 3063
1336846230095: Received UDP payload: 446
1336846230124: inside sendPacket(Packet p)
1336846230132: Sending UDP payload: 446
1336846230257: Received UDP payload: 446
1336846230572: Received UDP payload: 642
1336846230576: inside handleClientRequest. Originator leader of region 4
1336846230576: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846230576: mux: Inside mux Packet.CLIENT_REQUEST
1336846230577: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846230577: got new request, requestCounter = 5009011
1336846230578: Sending to region: 4
1336846230589: Sending PROC_REQUEST 11:3 (4,0)->(4,0)
1336846230590: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(4,0)
1336846230590: Note down new request by adding requestCounter=5009011 to HashMap processedRequests
1336846230591: Make FirstLeg Ack regardless of new or already-processed requests
1336846230591: The leader sending a First Leg ack to originator client (which id = 5009)
1336846230591: inside sendPacket(Packet p)
1336846230591: mux: I got a CSM packet at a leader 
1336846230595: Sending UDP payload: 1006
1336846230596: inside handleDSMRequest. At requests's remote leader of region 4
1336846230596: removed replies before id 3 from sentReplies of size 0
1336846230598: INSIDE SERVER_GET_PHOTO!!!
1336846230604:  1 self to self atomRequest
1336846230604: dst_region == src_region = 4
1336846230607: Received PROC_REQUEST 11:3 (4,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(4,0)
1336846230608: Dispatching Atom PROC_REPLY 11:3 (4,0)->(4,0)
1336846230610: Sending UDP payload: 446
1336846230620: mux: I got a CSM packet at a leader 
1336846230623: Sending UDP payload: 4091
1336846230630: Received PROC_REPLY 11:3 (4,0)->(4,0), handing to UserApp
1336846230631: DSM layer: Going to and from remote region took latency = 52
1336846230631: DSM layer: orig leader sent packet at 1336846230578 ~ received reply from remote leader at 1336846230630
1336846230631: inside handleDSMReply. Now back in originator leader of region 4
1336846230633: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846230633: leader client reply has replyCounter: 500901100
1336846230633: reply packet contains the newest photo/success info from the remote region
1336846230634: =======================
1336846230634: inside sendReplies of replyCount = 500901100
1336846230634: inside sendReplyRepeatingRunnable for replyCount = 500901100
1336846230635: === Finished one round of sending REPLY Packet =======
1336846230635: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846230635: Leader about to send REPLY packet, number: 500901100 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846230635: inside sendPacket(Packet p)
1336846230646: Sending UDP payload: 3744
1336846230733: Received UDP payload: 446
1336846230736: got new request, requestCounter = 5009012
1336846230736: inside handleClientRequest. Originator leader of region 4
1336846230736: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846230736: mux: Inside mux Packet.CLIENT_REQUEST
1336846230737: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500901100
1336846230737: Yay the last leg succeeded. Removing reply runnables ...
1336846230737: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500901100
1336846230737: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500901100
1336846230737: do not send ack for received final_leg_ack
1336846230808: Received UDP payload: 446
1336846233894: Received UDP payload: 446
1336846234185: Received UDP payload: 446
1336846235048: Received UDP payload: 446
1336846235136: inside sendPacket(Packet p)
1336846235139: Sending UDP payload: 446
1336846235254: Received UDP payload: 446
1336846235827: Received UDP payload: 446
1336846236130: Received UDP payload: 1006
1336846236138: forwarding disabled, not forwarding packets
1336846236138: mux: GOT CSM_Msg
1336846236266: Received UDP payload: 4368
1336846236273: mux: GOT CSM_Msg
1336846236274: forwarding disabled, not forwarding packets
1336846237149: Received UDP payload: 642
1336846237154: mux: Inside mux Packet.CLIENT_REQUEST
1336846237181: Received UDP payload: 1006
1336846237188: mux: GOT CSM_Msg
1336846237189: forwarding disabled, not forwarding packets
1336846237201: Received UDP payload: 446
1336846237203: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846237203: mux: Inside Packet.SERVER_REPLY
1336846237271: Received UDP payload: 4368
1336846237275: forwarding disabled, not forwarding packets
1336846237275: mux: GOT CSM_Msg
1336846237337: Received UDP payload: 4021
1336846237340: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846237340: mux: Inside Packet.SERVER_REPLY
1336846237355: Received UDP payload: 446
1336846237357: mux: Inside mux Packet.CLIENT_REQUEST
1336846238901: Received UDP payload: 446
1336846239188: Received UDP payload: 446
1336846240068: Received UDP payload: 446
1336846240136: inside sendPacket(Packet p)
1336846240150: Sending UDP payload: 446
1336846240262: Received UDP payload: 446
1336846240848: Received UDP payload: 446
1336846243228: Received UDP payload: 642
1336846243233: mux: Inside mux Packet.CLIENT_REQUEST
1336846243278: Received UDP payload: 1006
1336846243287: mux: GOT CSM_Msg
1336846243288: forwarding disabled, not forwarding packets
1336846243293: Received UDP payload: 446
1336846243298: mux: Inside Packet.SERVER_REPLY
1336846243299: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846243368: Received UDP payload: 4368
1336846243377: forwarding disabled, not forwarding packets
1336846243377: mux: GOT CSM_Msg
1336846243427: Received UDP payload: 4021
1336846243434: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846243434: mux: Inside Packet.SERVER_REPLY
1336846243446: Received UDP payload: 446
1336846243451: mux: Inside mux Packet.CLIENT_REQUEST
1336846243897: Received UDP payload: 446
1336846244190: Received UDP payload: 446
1336846244546: Received UDP payload: 1006
1336846244554: mux: GOT CSM_Msg
1336846244555: forwarding disabled, not forwarding packets
1336846244638: Received UDP payload: 4368
1336846244646: forwarding disabled, not forwarding packets
1336846244646: mux: GOT CSM_Msg
1336846245086: Received UDP payload: 446
1336846245137: inside sendPacket(Packet p)
1336846245141: Sending UDP payload: 446
1336846245256: Received UDP payload: 446
1336846245866: Received UDP payload: 446
1336846248953: Received UDP payload: 446
1336846249197: Received UDP payload: 446
1336846250123: Received UDP payload: 446
1336846250142: inside sendPacket(Packet p)
1336846250152: Sending UDP payload: 446
1336846250268: Received UDP payload: 446
1336846250910: Received UDP payload: 446
1336846251604: Received UDP payload: 1006
1336846251616: mux: GOT CSM_Msg
1336846251617: forwarding disabled, not forwarding packets
1336846251710: Received UDP payload: 4368
1336846251717: forwarding disabled, not forwarding packets
1336846251717: mux: GOT CSM_Msg
1336846253153: Received UDP payload: 1006
1336846253167: forwarding disabled, not forwarding packets
1336846253167: mux: GOT CSM_Msg
1336846253251: Received UDP payload: 4368
1336846253254: forwarding disabled, not forwarding packets
1336846253254: mux: GOT CSM_Msg
1336846253920: Received UDP payload: 446
1336846254204: Received UDP payload: 446
1336846255133: Received UDP payload: 446
1336846255143: inside sendPacket(Packet p)
1336846255146: Sending UDP payload: 446
1336846255270: Received UDP payload: 446
1336846255886: Received UDP payload: 446
1336846258253: Received UDP payload: 642
1336846258258: mux: Inside mux Packet.CLIENT_REQUEST
1336846258326: Received UDP payload: 1006
1336846258335: forwarding disabled, not forwarding packets
1336846258335: mux: GOT CSM_Msg
1336846258337: Received UDP payload: 446
1336846258354: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846258354: mux: Inside Packet.SERVER_REPLY
1336846258382: Received UDP payload: 4368
1336846258384: forwarding disabled, not forwarding packets
1336846258384: mux: GOT CSM_Msg
1336846258427: Received UDP payload: 4021
1336846258429: mux: Inside Packet.SERVER_REPLY
1336846258430: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846258441: Received UDP payload: 446
1336846258443: mux: Inside mux Packet.CLIENT_REQUEST
1336846258923: Received UDP payload: 446
1336846259210: Received UDP payload: 446
1336846259383: Received UDP payload: 1006
1336846259392: forwarding disabled, not forwarding packets
1336846259392: mux: GOT CSM_Msg
1336846259435: Received UDP payload: 4368
1336846259448: forwarding disabled, not forwarding packets
1336846259448: mux: GOT CSM_Msg
1336846260087: Received UDP payload: 446
1336846260146: inside sendPacket(Packet p)
1336846260147: Sending UDP payload: 446
1336846260316: Received UDP payload: 446
1336846260881: Received UDP payload: 446
1336846263931: Received UDP payload: 446
1336846264298: Received UDP payload: 446
1336846265101: Received UDP payload: 446
1336846265148: inside sendPacket(Packet p)
1336846265152: Sending UDP payload: 446
1336846265340: Received UDP payload: 446
1336846265885: Received UDP payload: 446
1336846267002: areButtonsEnabled --> false 
1336846267002: canPressButton = TRUE
1336846267003: areButtonsEnabled --> false
1336846267003: get picture disableButtonsR
1336846267029: one more getNum: 6
1336846267030: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846267030: change local requestCounter to 13
1336846267030: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=5 getBad=0 getTimedout=0 getPercent=83%
1336846267031: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010013 Client in region: 4 Client nodID: 5010
1336846267063: ----------------------------
1336846267064: I'm a leader, my requesting photos packet going to mux directly
1336846267064: inside sendRequestPacketRepeatingRunnable for requestCount = 5010013
1336846267065: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846267065: got new request, requestCounter = 5010013
1336846267065: inside handleClientRequest. Originator leader of region 4
1336846267065: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846267065: mux: Inside mux Packet.CLIENT_REQUEST
1336846267066: Sending PROC_REQUEST 11:0 (4,0)->(5,0)
1336846267066: Sending to region: 5
1336846267067: Dispatching Atom PROC_REQUEST 11:0 (4,0)->(5,0)
1336846267067: Note down new request by adding requestCounter=5010013 to HashMap processedRequests
1336846267069: Make FirstLeg Ack regardless of new or already-processed requests
1336846267070: mux: I got a CSM packet at a leader 
1336846267070: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846267071: Sending UDP payload: 1006
1336846267072: --- Finished one round of sending REQUEST Packet ---------
1336846267072: forwarding disabled, not forwarding packets
1336846267112: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846267258: Received UDP payload: 4368
1336846267261: DSM layer: Going to and from remote region took latency = 195
1336846267261: Received PROC_REPLY 11:0 (5,0)->(4,0), handing to UserApp
1336846267261: inside handleDSMReply. Now back in originator leader of region 4
1336846267261: mux: GOT CSM_Msg
1336846267262: DSM layer: orig leader sent packet at 1336846267066 ~ received reply from remote leader at 1336846267261
1336846267262: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846267263: inside sendReplies of replyCount = 501001300
1336846267263: leader client reply has replyCounter: 501001300
1336846267263: reply packet contains the newest photo/success info from the remote region
1336846267264: === Finished one round of sending REPLY Packet =======
1336846267264: =======================
1336846267264: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846267264: Leader about to send REPLY packet, number: 501001300 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846267264: inside sendReplyRepeatingRunnable for replyCount = 501001300
1336846267267: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846267270: Inside _enableButtons
1336846267270: areButtonsEnabled --> true
1336846267270: disabling progressdialog due to successful new photo get
1336846267271: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010014 Client in region: (4,0) Client nodID: 5010
1336846267271: I'm a leader client, my final_leg packet going to mux directly
1336846267271: inside finalLegAck: change requestCounter to 14
1336846267271: send final leg ack regardless of new or already-processed reply
1336846267272: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501001300
1336846267272: Yay the last leg succeeded. Removing reply runnables ...
1336846267272: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501001300
1336846267272: got new request, requestCounter = 5010014
1336846267272: inside handleClientRequest. Originator leader of region 4
1336846267272: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846267272: mux: Inside mux Packet.CLIENT_REQUEST
1336846267273: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501001300
1336846267273: do not send ack for received final_leg_ack
1336846267273: leader download remote photo latency = 202
1336846267273: new client_show_remotephoto reply with replyCounter 501001300
1336846267273: note down new reply by adding replyCounter=501001300 to HashMap processedReplies
1336846267274: = leader download start 1336846267065 ~ stop 1336846267267
1336846267275: one more getGood: 6
1336846267275: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846267276: adding get latency: 202
1336846267277: Remote photo's length: 3340
1336846267277: Success! Client getting photo from remote region, showing photo...
1336846268350: Received UDP payload: 642
1336846268353: mux: Inside mux Packet.CLIENT_REQUEST
1336846268354: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846268354: got new request, requestCounter = 5009013
1336846268354: inside handleClientRequest. Originator leader of region 4
1336846268354: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846268355: Sending to region: 5
1336846268356: Dispatching Atom PROC_REQUEST 11:1 (4,0)->(5,0)
1336846268356: Make FirstLeg Ack regardless of new or already-processed requests
1336846268356: Note down new request by adding requestCounter=5009013 to HashMap processedRequests
1336846268356: Sending PROC_REQUEST 11:1 (4,0)->(5,0)
1336846268357: The leader sending a First Leg ack to originator client (which id = 5009)
1336846268357: inside sendPacket(Packet p)
1336846268357: mux: I got a CSM packet at a leader 
1336846268369: Sending UDP payload: 1006
1336846268382: forwarding disabled, not forwarding packets
1336846268385: Sending UDP payload: 446
1336846268480: Received UDP payload: 4368
1336846268483: mux: GOT CSM_Msg
1336846268484: DSM layer: Going to and from remote region took latency = 129
1336846268484: DSM layer: orig leader sent packet at 1336846268355 ~ received reply from remote leader at 1336846268484
1336846268484: Received PROC_REPLY 11:1 (5,0)->(4,0), handing to UserApp
1336846268484: inside handleDSMReply. Now back in originator leader of region 4
1336846268485: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846268485: leader client reply has replyCounter: 500901300
1336846268485: reply packet contains the newest photo/success info from the remote region
1336846268486: =======================
1336846268486: inside sendReplies of replyCount = 500901300
1336846268486: inside sendReplyRepeatingRunnable for replyCount = 500901300
1336846268487: === Finished one round of sending REPLY Packet =======
1336846268487: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846268487: Leader about to send REPLY packet, number: 500901300 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846268487: inside sendPacket(Packet p)
1336846268490: Sending UDP payload: 4021
1336846268582: Received UDP payload: 446
1336846268583: inside handleClientRequest. Originator leader of region 4
1336846268583: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846268583: mux: Inside mux Packet.CLIENT_REQUEST
1336846268584: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500901300
1336846268584: Yay the last leg succeeded. Removing reply runnables ...
1336846268584: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500901300
1336846268584: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500901300
1336846268584: do not send ack for received final_leg_ack
1336846268584: got new request, requestCounter = 5009014
1336846268994: Received UDP payload: 446
1336846269232: Received UDP payload: 446
1336846270123: Received UDP payload: 446
1336846270149: inside sendPacket(Packet p)
1336846270160: Sending UDP payload: 446
1336846270340: Received UDP payload: 446
1336846271097: Received UDP payload: 446
1336846273931: Received UDP payload: 446
1336846274250: Received UDP payload: 446
1336846275124: Received UDP payload: 446
1336846275150: inside sendPacket(Packet p)
1336846275153: Sending UDP payload: 446
1336846275332: Received UDP payload: 446
1336846276115: Received UDP payload: 446
1336846278937: Received UDP payload: 446
1336846279259: Received UDP payload: 446
1336846280137: Received UDP payload: 446
1336846280150: inside sendPacket(Packet p)
1336846280154: Sending UDP payload: 446
1336846280331: Received UDP payload: 446
1336846281118: Received UDP payload: 446
1336846283946: Received UDP payload: 446
1336846284271: Received UDP payload: 446
1336846285151: Received UDP payload: 446
1336846285157: inside sendPacket(Packet p)
1336846285168: Sending UDP payload: 446
1336846285338: Received UDP payload: 446
1336846286138: Received UDP payload: 446
1336846288940: Received UDP payload: 446
1336846289278: Received UDP payload: 446
1336846290159: inside sendPacket(Packet p)
1336846290170: Sending UDP payload: 446
1336846290195: Received UDP payload: 446
1336846290365: Received UDP payload: 446
1336846291187: Received UDP payload: 446
1336846291412: leader to cloud hearbeat...
1336846294016: Received UDP payload: 446
1336846294303: Received UDP payload: 446
1336846295160: inside sendPacket(Packet p)
1336846295171: Sending UDP payload: 446
1336846295203: Received UDP payload: 446
1336846295352: Received UDP payload: 446
1336846296183: Received UDP payload: 446
1336846298961: Received UDP payload: 446
1336846299292: Received UDP payload: 446
1336846300173: inside sendPacket(Packet p)
1336846300176: Sending UDP payload: 446
1336846300226: Received UDP payload: 446
1336846300343: Received UDP payload: 446
1336846301222: Received UDP payload: 446
1336846304004: Received UDP payload: 446
1336846304328: Received UDP payload: 446
1336846305173: inside sendPacket(Packet p)
1336846305182: Sending UDP payload: 446
1336846305225: Received UDP payload: 446
1336846305338: Received UDP payload: 446
1336846306238: Received UDP payload: 446
1336846308993: Received UDP payload: 446
1336846309301: Received UDP payload: 446
1336846310176: Received UDP payload: 446
1336846310184: inside sendPacket(Packet p)
1336846310186: Sending UDP payload: 446
1336846310338: Received UDP payload: 446
1336846311290: Received UDP payload: 446
1336846312420: Received UDP payload: 3771
1336846312427: forwarding disabled, not forwarding packets
1336846312427: mux: GOT CSM_Msg
1336846312440: Received UDP payload: 1006
1336846312459: mux: GOT CSM_Msg
1336846312460: forwarding disabled, not forwarding packets
1336846312545: Received UDP payload: 3409
1336846312550: mux: Inside mux Packet.CLIENT_REQUEST
1336846312600: Received UDP payload: 3773
1336846312607: mux: GOT CSM_Msg
1336846312608: forwarding disabled, not forwarding packets
1336846312620: Received UDP payload: 446
1336846312624: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846312624: mux: Inside Packet.SERVER_REPLY
1336846312631: Received UDP payload: 1006
1336846312639: forwarding disabled, not forwarding packets
1336846312639: mux: GOT CSM_Msg
1336846312644: Received UDP payload: 659
1336846312676: Received UDP payload: 446
1336846312679: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846312679: mux: Inside Packet.SERVER_REPLY
1336846312689: mux: Inside mux Packet.CLIENT_REQUEST
1336846314033: Received UDP payload: 446
1336846314327: Received UDP payload: 446
1336846315185: inside sendPacket(Packet p)
1336846315194: Sending UDP payload: 446
1336846315255: Received UDP payload: 446
1336846315342: Received UDP payload: 446
1336846316283: Received UDP payload: 446
1336846319002: Received UDP payload: 446
1336846319310: Received UDP payload: 446
1336846320196: inside sendPacket(Packet p)
1336846320197: Sending UDP payload: 446
1336846320268: Received UDP payload: 446
1336846320397: Received UDP payload: 446
1336846321236: Received UDP payload: 446
1336846323990: Received UDP payload: 446
1336846324348: Received UDP payload: 446
1336846324399: Received UDP payload: 3757
1336846324415: mux: GOT CSM_Msg
1336846324416: forwarding disabled, not forwarding packets
1336846324429: Received UDP payload: 1006
1336846324436: mux: GOT CSM_Msg
1336846324437: forwarding disabled, not forwarding packets
1336846325198: inside sendPacket(Packet p)
1336846325206: Received UDP payload: 446
1336846325206: Sending UDP payload: 446
1336846325349: Received UDP payload: 446
1336846325968: Received UDP payload: 3547
1336846325973: mux: Inside mux Packet.CLIENT_REQUEST
1336846326028: Received UDP payload: 3911
1336846326039: forwarding disabled, not forwarding packets
1336846326039: mux: GOT CSM_Msg
1336846326054: Received UDP payload: 446
1336846326056: Received UDP payload: 1006
1336846326056: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846326056: mux: Inside Packet.SERVER_REPLY
1336846326058: forwarding disabled, not forwarding packets
1336846326058: mux: GOT CSM_Msg
1336846326061: Received UDP payload: 659
1336846326063: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846326063: mux: Inside Packet.SERVER_REPLY
1336846326083: Received UDP payload: 446
1336846326084: mux: Inside mux Packet.CLIENT_REQUEST
1336846326294: Received UDP payload: 446
1336846327707: Received UDP payload: 3857
1336846327715: mux: GOT CSM_Msg
1336846327717: forwarding disabled, not forwarding packets
1336846327730: Received UDP payload: 1006
1336846327737: forwarding disabled, not forwarding packets
1336846327737: mux: GOT CSM_Msg
1336846328996: Received UDP payload: 446
1336846329317: Received UDP payload: 446
1336846330201: inside sendPacket(Packet p)
1336846330210: Received UDP payload: 446
1336846330216: Sending UDP payload: 446
1336846330364: Received UDP payload: 446
1336846331278: Received UDP payload: 446
1336846331781: Received UDP payload: 3370
1336846331785: mux: Inside mux Packet.CLIENT_REQUEST
1336846331833: Received UDP payload: 3734
1336846331842: forwarding disabled, not forwarding packets
1336846331842: mux: GOT CSM_Msg
1336846331843: Received UDP payload: 446
1336846331847: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846331847: mux: Inside Packet.SERVER_REPLY
1336846331861: Received UDP payload: 1006
1336846331863: forwarding disabled, not forwarding packets
1336846331863: mux: GOT CSM_Msg
1336846331867: Received UDP payload: 659
1336846331868: mux: Inside Packet.SERVER_REPLY
1336846331869: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846331900: Received UDP payload: 446
1336846331901: mux: Inside mux Packet.CLIENT_REQUEST
1336846332870: Received UDP payload: 3777
1336846332877: mux: GOT CSM_Msg
1336846332878: forwarding disabled, not forwarding packets
1336846332889: Received UDP payload: 1006
1336846332896: mux: GOT CSM_Msg
1336846332897: forwarding disabled, not forwarding packets
1336846333184: Received UDP payload: 3489
1336846333188: mux: Inside mux Packet.CLIENT_REQUEST
1336846333250: Received UDP payload: 3853
1336846333252: forwarding disabled, not forwarding packets
1336846333252: mux: GOT CSM_Msg
1336846333272: Received UDP payload: 446
1336846333273: mux: Inside Packet.SERVER_REPLY
1336846333274: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846333281: Received UDP payload: 1006
1336846333283: forwarding disabled, not forwarding packets
1336846333283: mux: GOT CSM_Msg
1336846333295: Received UDP payload: 659
1336846333296: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846333296: mux: Inside Packet.SERVER_REPLY
1336846333321: Received UDP payload: 446
1336846333322: mux: Inside mux Packet.CLIENT_REQUEST
1336846334040: Received UDP payload: 446
1336846334331: Received UDP payload: 446
1336846334662: Received UDP payload: 3861
1336846334669: mux: GOT CSM_Msg
1336846334670: forwarding disabled, not forwarding packets
1336846334689: Received UDP payload: 1006
1336846334697: forwarding disabled, not forwarding packets
1336846334697: mux: GOT CSM_Msg
1336846335220: inside sendPacket(Packet p)
1336846335224: Sending UDP payload: 446
1336846335225: Received UDP payload: 446
1336846335352: Received UDP payload: 446
1336846336298: Received UDP payload: 446
1336846339049: Received UDP payload: 446
1336846339326: Received UDP payload: 446
1336846340230: inside sendPacket(Packet p)
1336846340242: Sending UDP payload: 446
1336846340377: Received UDP payload: 446
1336846340385: Received UDP payload: 446
1336846341267: Received UDP payload: 446
1336846344050: Received UDP payload: 446
1336846344377: Received UDP payload: 446
1336846345238: Received UDP payload: 446
1336846345244: inside sendPacket(Packet p)
1336846345254: Sending UDP payload: 446
1336846345360: Received UDP payload: 446
1336846346276: Received UDP payload: 446
1336846349036: Received UDP payload: 446
1336846349342: Received UDP payload: 446
1336846350231: Received UDP payload: 446
1336846350256: inside sendPacket(Packet p)
1336846350271: Sending UDP payload: 446
1336846350361: Received UDP payload: 446
1336846351277: Received UDP payload: 446
1336846352136: Received UDP payload: 3790
1336846352144: forwarding disabled, not forwarding packets
1336846352144: mux: GOT CSM_Msg
1336846352158: Received UDP payload: 1006
1336846352165: mux: GOT CSM_Msg
1336846352166: forwarding disabled, not forwarding packets
1336846354014: Received UDP payload: 446
1336846354333: Received UDP payload: 446
1336846355271: Received UDP payload: 446
1336846355275: inside sendPacket(Packet p)
1336846355291: Sending UDP payload: 446
1336846355390: Received UDP payload: 446
1336846356291: Received UDP payload: 446
1336846357319: areButtonsEnabled --> false
1336846357319: canPressButton = TRUE
1336846357319: disabling buttons ...
1336846357320: areButtonsEnabled --> false
1336846357320: took picture disableButtonsR
1336846357333: one more takeNum: 2
1336846357334: Clicked take picture button ..
1336846357334: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846358324: inside HandlePictureStorage onPictureTaken()
1336846358324: one more takeCamGood: 2
1336846358325: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846358812: Picture successfully taken, ORIG BYTE LENGTH = 312725
1336846358936: Our new height x width: 306 x 408
1336846358936: Show photo from handle my camera take
1336846358937: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846358937: change local requestCounter to 15
1336846358950: BYTE SIZE AFTER COMPRESSION: 2706
1336846358951: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5010015 Client in region: 4 Client nodID: 5010
1336846358978: ----------------------------
1336846358979: I'm a leader, my requesting photos packet going to mux directly
1336846358979: inside sendRequestPacketRepeatingRunnable for requestCount = 5010015
1336846358979: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846358979: mux: Inside mux Packet.CLIENT_REQUEST
1336846358980: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846358980: Sending PROC_REQUEST 10:4 (4,0)->(4,0)
1336846358980: got new request, requestCounter = 5010015
1336846358980: inside handleClientRequest. Originator leader of region 4
1336846358981: Dispatching Atom PROC_REQUEST 10:4 (4,0)->(4,0)
1336846358981: Make FirstLeg Ack regardless of new or already-processed requests
1336846358981: Note down new request by adding requestCounter=5010015 to HashMap processedRequests
1336846358981: mux: I got a CSM packet at a leader 
1336846358981: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846358983: Sending UDP payload: 3734
1336846358984: removed replies before id 4 from sentReplies of size 0
1336846358985: Inside UPLOAD_PHOTO!!
1336846358985: inside handleDSMRequest. At requests's remote leader of region 4
1336846358986: my_gpinfo.isSuccess is now (should be true): true
1336846358987: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846358988: Received PROC_REQUEST 10:4 (4,0)->(4,0), replying PROC_REPLY 10:4 (4,0)->(4,0)
1336846358989: --- Finished one round of sending REQUEST Packet ---------
1336846358989: Dispatching Atom PROC_REPLY 10:4 (4,0)->(4,0)
1336846359000: mux: I got a CSM packet at a leader 
1336846359001: Sending UDP payload: 1006
1336846359002: Received PROC_REPLY 10:4 (4,0)->(4,0), handing to UserApp
1336846359003: DSM layer: Going to and from remote region took latency = 23
1336846359003: DSM layer: orig leader sent packet at 1336846358980 ~ received reply from remote leader at 1336846359003
1336846359003: inside handleDSMReply. Now back in originator leader of region 4
1336846359004: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846359004: inside sendReplies of replyCount = 501001500
1336846359004: leader client reply has replyCounter: 501001500
1336846359004: reply packet contains the success info for UPLOAD_PHOTO
1336846359005: === Finished one round of sending REPLY Packet =======
1336846359005: =======================
1336846359005: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846359005: Leader about to send REPLY packet, number: 501001500 type: 16 Leader in region: (4,0) to Client nodID: 5010
1336846359005: inside sendReplyRepeatingRunnable for replyCount = 501001500
1336846359015: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846359016: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846359018: I'm a leader and I successfully saved my client's new photo
1336846359018: now showing in UI the new photo I just saved ... 
1336846359018: the photo length: 2706
1336846359047: Received UDP payload: 446
1336846359054: end of server show photo aside %%%%%%%%%
1336846359056: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846359056: disabling progressdialog due to successful new photo upload
1336846359057: Inside _enableButtons
1336846359057: areButtonsEnabled --> true
1336846359058: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010016 Client in region: (4,0) Client nodID: 5010
1336846359058: I'm a leader client, my final_leg packet going to mux directly
1336846359058: inside finalLegAck: change requestCounter to 16
1336846359058: send final leg ack regardless of new or already-processed reply
1336846359059: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501001500
1336846359059: Yay the last leg succeeded. Removing reply runnables ...
1336846359059: got new request, requestCounter = 5010016
1336846359059: inside handleClientRequest. Originator leader of region 4
1336846359059: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846359059: mux: Inside mux Packet.CLIENT_REQUEST
1336846359060: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501001500
1336846359060: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501001500
1336846359060: do not send ack for received final_leg_ack
1336846359060: new client_upload_photo_ack reply with replyCounter 501001500
1336846359061: = leader upload start 1336846358979 ~ stop 1336846359056
1336846359061: leader upload new photo latency = 77
1336846359061: note down new reply by adding replyCounter=501001500 to HashMap processedReplies
1336846359062: one more takeGoodSave: 2
1336846359063: adding take latency: 77
1336846359063: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=6 getBad=0 getTimedout=0 getPercent=100%
1336846359064: SUCCESS Client now knows saving photo on its leader succeeded
1336846359378: Received UDP payload: 446
1336846360236: Received UDP payload: 446
1336846360299: inside sendPacket(Packet p)
1336846360312: Sending UDP payload: 446
1336846360357: Received UDP payload: 446
1336846361291: Received UDP payload: 446
1336846363335: Received UDP payload: 3370
1336846363340: mux: Inside mux Packet.CLIENT_REQUEST
1336846363341: inside handleClientRequest. Originator leader of region 4
1336846363341: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846363342: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846363342: got new request, requestCounter = 5009015
1336846363343: Sending PROC_REQUEST 10:5 (4,0)->(4,0)
1336846363344: Dispatching Atom PROC_REQUEST 10:5 (4,0)->(4,0)
1336846363345: Make FirstLeg Ack regardless of new or already-processed requests
1336846363345: Note down new request by adding requestCounter=5009015 to HashMap processedRequests
1336846363345: The leader sending a First Leg ack to originator client (which id = 5009)
1336846363346: inside sendPacket(Packet p)
1336846363346: mux: I got a CSM packet at a leader 
1336846363372: Sending UDP payload: 3734
1336846363380: removed replies before id 5 from sentReplies of size 0
1336846363381: inside handleDSMRequest. At requests's remote leader of region 4
1336846363383: Inside UPLOAD_PHOTO!!
1336846363387: my_gpinfo.isSuccess is now (should be true): true
1336846363388: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846363404: Received PROC_REQUEST 10:5 (4,0)->(4,0), replying PROC_REPLY 10:5 (4,0)->(4,0)
1336846363405: Dispatching Atom PROC_REPLY 10:5 (4,0)->(4,0)
1336846363408: Sending UDP payload: 446
1336846363418: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846363421: mux: I got a CSM packet at a leader 
1336846363422: Sending UDP payload: 1006
1336846363423: Received PROC_REPLY 10:5 (4,0)->(4,0), handing to UserApp
1336846363424: inside handleDSMReply. Now back in originator leader of region 4
1336846363425: DSM layer: Going to and from remote region took latency = 82
1336846363425: DSM layer: orig leader sent packet at 1336846363342 ~ received reply from remote leader at 1336846363424
1336846363425: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846363426: =======================
1336846363426: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846363426: Leader about to send REPLY packet, number: 500901500 type: 16 Leader in region: (4,0) to Client nodID: 5009
1336846363426: inside sendPacket(Packet p)
1336846363426: inside sendReplies of replyCount = 500901500
1336846363426: inside sendReplyRepeatingRunnable for replyCount = 500901500
1336846363426: leader client reply has replyCounter: 500901500
1336846363426: reply packet contains the success info for UPLOAD_PHOTO
1336846363427: === Finished one round of sending REPLY Packet =======
1336846363428: I'm a leader and I successfully saved my client's new photo
1336846363428: now showing in UI the new photo I just saved ... 
1336846363428: the photo length: 2706
1336846363458: Sending UDP payload: 659
1336846363464: end of server show photo aside %%%%%%%%%
1336846363514: Received UDP payload: 446
1336846363515: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500901500
1336846363515: got new request, requestCounter = 5009016
1336846363515: inside handleClientRequest. Originator leader of region 4
1336846363515: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846363515: mux: Inside mux Packet.CLIENT_REQUEST
1336846363516: Yay the last leg succeeded. Removing reply runnables ...
1336846363516: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500901500
1336846363516: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500901500
1336846363516: do not send ack for received final_leg_ack
1336846364017: Received UDP payload: 446
1336846364355: Received UDP payload: 446
1336846365231: Received UDP payload: 446
1336846365315: inside sendPacket(Packet p)
1336846365318: Sending UDP payload: 446
1336846365378: Received UDP payload: 446
1336846366325: Received UDP payload: 446
1336846369109: Received UDP payload: 446
1336846369341: Received UDP payload: 446
1336846370224: Received UDP payload: 446
1336846370315: inside sendPacket(Packet p)
1336846370318: Sending UDP payload: 446
1336846370358: Received UDP payload: 446
1336846371325: Received UDP payload: 446
1336846374023: Received UDP payload: 446
1336846374342: Received UDP payload: 446
1336846375250: Received UDP payload: 446
1336846375317: inside sendPacket(Packet p)
1336846375326: Sending UDP payload: 446
1336846375358: Received UDP payload: 446
1336846376027: Received UDP payload: 3370
1336846376032: mux: Inside mux Packet.CLIENT_REQUEST
1336846376179: Received UDP payload: 3734
1336846376187: forwarding disabled, not forwarding packets
1336846376187: mux: GOT CSM_Msg
1336846376188: Received UDP payload: 446
1336846376196: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846376196: mux: Inside Packet.SERVER_REPLY
1336846376197: Received UDP payload: 1006
1336846376216: mux: GOT CSM_Msg
1336846376217: forwarding disabled, not forwarding packets
1336846376218: Received UDP payload: 659
1336846376223: mux: Inside Packet.SERVER_REPLY
1336846376224: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846376237: Received UDP payload: 446
1336846376240: mux: Inside mux Packet.CLIENT_REQUEST
1336846376374: Received UDP payload: 446
1336846379024: Received UDP payload: 446
1336846379362: Received UDP payload: 446
1336846379713: Received UDP payload: 3805
1336846379721: forwarding disabled, not forwarding packets
1336846379721: mux: GOT CSM_Msg
1336846379744: Received UDP payload: 1006
1336846379752: forwarding disabled, not forwarding packets
1336846379752: mux: GOT CSM_Msg
1336846380225: Received UDP payload: 446
1336846380318: inside sendPacket(Packet p)
1336846380321: Sending UDP payload: 446
1336846380773: Received UDP payload: 446
1336846381327: Received UDP payload: 446
1336846384027: Received UDP payload: 446
1336846384344: Received UDP payload: 446
1336846385222: Received UDP payload: 446
1336846385318: inside sendPacket(Packet p)
1336846385319: Sending UDP payload: 446
1336846385787: Received UDP payload: 446
1336846386414: Received UDP payload: 446
1336846389190: Received UDP payload: 446
1336846389400: Received UDP payload: 446
1336846390275: Received UDP payload: 446
1336846390319: inside sendPacket(Packet p)
1336846390322: Sending UDP payload: 446
1336846390803: Received UDP payload: 446
1336846391555: Received UDP payload: 446
1336846394041: Received UDP payload: 446
1336846394351: Received UDP payload: 446
1336846395319: inside sendPacket(Packet p)
1336846395330: Sending UDP payload: 446
1336846395493: Received UDP payload: 446
1336846395804: Received UDP payload: 446
1336846396339: Received UDP payload: 642
1336846396345: mux: Inside mux Packet.CLIENT_REQUEST
1336846396380: Received UDP payload: 1006
1336846396388: forwarding disabled, not forwarding packets
1336846396388: mux: GOT CSM_Msg
1336846396408: Received UDP payload: 446
1336846396410: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846396410: mux: Inside Packet.SERVER_REPLY
1336846396468: Received UDP payload: 3805
1336846396471: forwarding disabled, not forwarding packets
1336846396471: mux: GOT CSM_Msg
1336846396508: Received UDP payload: 3458
1336846396509: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846396509: mux: Inside Packet.SERVER_REPLY
1336846396523: Received UDP payload: 446
1336846396524: mux: Inside mux Packet.CLIENT_REQUEST
1336846396565: Received UDP payload: 446
1336846397635: Received UDP payload: 1006
1336846397644: forwarding disabled, not forwarding packets
1336846397644: mux: GOT CSM_Msg
1336846397687: Received UDP payload: 3805
1336846397693: forwarding disabled, not forwarding packets
1336846397693: mux: GOT CSM_Msg
1336846397882: Received UDP payload: 1006
1336846397891: forwarding disabled, not forwarding packets
1336846397891: mux: GOT CSM_Msg
1336846397931: Received UDP payload: 3805
1336846397937: mux: GOT CSM_Msg
1336846397938: forwarding disabled, not forwarding packets
1336846398906: Received UDP payload: 642
1336846398911: mux: Inside mux Packet.CLIENT_REQUEST
1336846398949: Received UDP payload: 1006
1336846398958: forwarding disabled, not forwarding packets
1336846398958: mux: GOT CSM_Msg
1336846398971: Received UDP payload: 446
1336846398972: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846398972: mux: Inside Packet.SERVER_REPLY
1336846399043: Received UDP payload: 3805
1336846399045: forwarding disabled, not forwarding packets
1336846399045: mux: GOT CSM_Msg
1336846399050: Received UDP payload: 446
1336846399095: Received UDP payload: 3458
1336846399096: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846399096: mux: Inside Packet.SERVER_REPLY
1336846399109: Received UDP payload: 446
1336846399110: mux: Inside mux Packet.CLIENT_REQUEST
1336846399343: Received UDP payload: 446
1336846400322: inside sendPacket(Packet p)
1336846400325: Sending UDP payload: 446
1336846400488: Received UDP payload: 446
1336846400815: Received UDP payload: 446
1336846401571: Received UDP payload: 446
1336846404050: Received UDP payload: 446
1336846404690: Received UDP payload: 446
1336846405330: inside sendPacket(Packet p)
1336846405343: Sending UDP payload: 446
1336846405462: Received UDP payload: 446
1336846405697: Received UDP payload: 1006
1336846405704: mux: GOT CSM_Msg
1336846405705: forwarding disabled, not forwarding packets
1336846405812: Received UDP payload: 446
1336846405846: Received UDP payload: 1006
1336846405853: forwarding disabled, not forwarding packets
1336846405853: mux: GOT CSM_Msg
1336846405883: Received UDP payload: 3805
1336846405892: mux: GOT CSM_Msg
1336846405893: forwarding disabled, not forwarding packets
1336846405935: Received UDP payload: 3805
1336846405942: mux: GOT CSM_Msg
1336846405943: forwarding disabled, not forwarding packets
1336846406585: Received UDP payload: 446
1336846409108: Received UDP payload: 446
1336846409686: Received UDP payload: 446
1336846410344: inside sendPacket(Packet p)
1336846410347: Sending UDP payload: 446
1336846410464: Received UDP payload: 446
1336846410833: Received UDP payload: 446
1336846411368: Received UDP payload: 642
1336846411374: mux: Inside mux Packet.CLIENT_REQUEST
1336846411436: Received UDP payload: 1006
1336846411444: forwarding disabled, not forwarding packets
1336846411444: mux: GOT CSM_Msg
1336846411445: Received UDP payload: 446
1336846411448: mux: Inside Packet.SERVER_REPLY
1336846411449: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846411527: Received UDP payload: 3805
1336846411535: forwarding disabled, not forwarding packets
1336846411535: mux: GOT CSM_Msg
1336846411573: Received UDP payload: 3458
1336846411575: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846411575: mux: Inside Packet.SERVER_REPLY
1336846411584: Received UDP payload: 446
1336846411593: Received UDP payload: 446
1336846411594: mux: Inside mux Packet.CLIENT_REQUEST
1336846411866: leader to cloud hearbeat...
1336846412433: Received UDP payload: 1006
1336846412447: mux: GOT CSM_Msg
1336846412448: forwarding disabled, not forwarding packets
1336846412519: Received UDP payload: 3805
1336846412526: mux: GOT CSM_Msg
1336846412527: forwarding disabled, not forwarding packets
1336846413568: areButtonsEnabled --> false 
1336846413568: canPressButton = TRUE
1336846413568: get picture disableButtonsR
1336846413569: areButtonsEnabled --> false
1336846413594: one more getNum: 7
1336846413595: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846413595: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=6 getBad=0 getTimedout=0 getPercent=85%
1336846413596: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010017 Client in region: 4 Client nodID: 5010
1336846413596: change local requestCounter to 17
1336846413625: ----------------------------
1336846413625: I'm a leader, my requesting photos packet going to mux directly
1336846413625: inside sendRequestPacketRepeatingRunnable for requestCount = 5010017
1336846413626: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846413626: got new request, requestCounter = 5010017
1336846413626: inside handleClientRequest. Originator leader of region 4
1336846413626: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846413626: mux: Inside mux Packet.CLIENT_REQUEST
1336846413627: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(0,0)
1336846413627: Sending PROC_REQUEST 11:2 (4,0)->(0,0)
1336846413627: Sending to region: 0
1336846413628: Make FirstLeg Ack regardless of new or already-processed requests
1336846413628: Note down new request by adding requestCounter=5010017 to HashMap processedRequests
1336846413628: mux: I got a CSM packet at a leader 
1336846413628: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846413630: Sending UDP payload: 1006
1336846413631: forwarding disabled, not forwarding packets
1336846413632: --- Finished one round of sending REQUEST Packet ---------
1336846413672: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846413721: Received UDP payload: 3805
1336846413723: mux: GOT CSM_Msg
1336846413724: DSM layer: Going to and from remote region took latency = 97
1336846413724: DSM layer: orig leader sent packet at 1336846413627 ~ received reply from remote leader at 1336846413724
1336846413724: Received PROC_REPLY 11:2 (0,0)->(4,0), handing to UserApp
1336846413724: inside handleDSMReply. Now back in originator leader of region 4
1336846413725: =======================
1336846413725: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846413725: inside sendReplies of replyCount = 501001700
1336846413725: inside sendReplyRepeatingRunnable for replyCount = 501001700
1336846413725: leader client reply has replyCounter: 501001700
1336846413725: reply packet contains the newest photo/success info from the remote region
1336846413726: === Finished one round of sending REPLY Packet =======
1336846413726: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846413726: Leader about to send REPLY packet, number: 501001700 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846413734: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846413735: Inside _enableButtons
1336846413735: areButtonsEnabled --> true
1336846413735: disabling progressdialog due to successful new photo get
1336846413735: send final leg ack regardless of new or already-processed reply
1336846413736: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010018 Client in region: (4,0) Client nodID: 5010
1336846413736: I'm a leader client, my final_leg packet going to mux directly
1336846413736: inside finalLegAck: change requestCounter to 18
1336846413736: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846413736: mux: Inside mux Packet.CLIENT_REQUEST
1336846413737: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501001700
1336846413737: Yay the last leg succeeded. Removing reply runnables ...
1336846413737: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501001700
1336846413737: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501001700
1336846413737: do not send ack for received final_leg_ack
1336846413737: got new request, requestCounter = 5010018
1336846413737: inside handleClientRequest. Originator leader of region 4
1336846413737: new client_show_remotephoto reply with replyCounter 501001700
1336846413738: leader download remote photo latency = 109
1336846413738: note down new reply by adding replyCounter=501001700 to HashMap processedReplies
1336846413739: = leader download start 1336846413625 ~ stop 1336846413734
1336846413740: one more getGood: 7
1336846413740: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=7 getBad=0 getTimedout=0 getPercent=100%
1336846413741: Success! Client getting photo from remote region, showing photo...
1336846413741: adding get latency: 109
1336846413742: Remote photo's length: 2777
1336846414051: Received UDP payload: 446
1336846414735: Received UDP payload: 446
1336846415148: Received UDP payload: 642
1336846415154: mux: Inside mux Packet.CLIENT_REQUEST
1336846415155: got new request, requestCounter = 5009017
1336846415155: inside handleClientRequest. Originator leader of region 4
1336846415155: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846415156: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846415158: Sending to region: 0
1336846415170: Sending PROC_REQUEST 11:3 (4,0)->(0,0)
1336846415171: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(0,0)
1336846415172: Make FirstLeg Ack regardless of new or already-processed requests
1336846415172: Note down new request by adding requestCounter=5009017 to HashMap processedRequests
1336846415173: The leader sending a First Leg ack to originator client (which id = 5009)
1336846415173: inside sendPacket(Packet p)
1336846415174: mux: I got a CSM packet at a leader 
1336846415195: Sending UDP payload: 1006
1336846415198: forwarding disabled, not forwarding packets
1336846415202: Sending UDP payload: 446
1336846415267: Received UDP payload: 3805
1336846415269: Received PROC_REPLY 11:3 (0,0)->(4,0), handing to UserApp
1336846415269: inside handleDSMReply. Now back in originator leader of region 4
1336846415269: mux: GOT CSM_Msg
1336846415270: DSM layer: Going to and from remote region took latency = 111
1336846415270: DSM layer: orig leader sent packet at 1336846415158 ~ received reply from remote leader at 1336846415269
1336846415270: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846415271: =======================
1336846415271: Leader about to send REPLY packet, number: 500901700 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846415271: inside sendReplies of replyCount = 500901700
1336846415271: inside sendReplyRepeatingRunnable for replyCount = 500901700
1336846415271: leader client reply has replyCounter: 500901700
1336846415271: reply packet contains the newest photo/success info from the remote region
1336846415272: === Finished one round of sending REPLY Packet =======
1336846415272: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846415272: inside sendPacket(Packet p)
1336846415274: Sending UDP payload: 3458
1336846415328: Received UDP payload: 446
1336846415330: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500901700
1336846415330: Yay the last leg succeeded. Removing reply runnables ...
1336846415330: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500901700
1336846415330: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500901700
1336846415330: got new request, requestCounter = 5009018
1336846415330: inside handleClientRequest. Originator leader of region 4
1336846415330: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846415330: mux: Inside mux Packet.CLIENT_REQUEST
1336846415331: do not send ack for received final_leg_ack
1336846415344: inside sendPacket(Packet p)
1336846415345: Sending UDP payload: 446
1336846415460: Received UDP payload: 446
1336846415808: Received UDP payload: 446
1336846416636: Received UDP payload: 446
1336846419038: Received UDP payload: 446
1336846419706: Received UDP payload: 446
1336846420344: inside sendPacket(Packet p)
1336846420347: Sending UDP payload: 446
1336846420522: Received UDP payload: 446
1336846420816: Received UDP payload: 446
1336846421586: Received UDP payload: 446
1336846424046: Received UDP payload: 446
1336846424700: Received UDP payload: 446
1336846425344: inside sendPacket(Packet p)
1336846425347: Sending UDP payload: 446
1336846425474: Received UDP payload: 446
1336846425820: Received UDP payload: 446
1336846426603: Received UDP payload: 446
1336846429060: Received UDP payload: 446
1336846429687: Received UDP payload: 446
1336846430344: inside sendPacket(Packet p)
1336846430347: Sending UDP payload: 446
1336846430487: Received UDP payload: 446
1336846430825: Received UDP payload: 446
1336846431497: Received UDP payload: 1006
1336846431508: mux: GOT CSM_Msg
1336846431510: forwarding disabled, not forwarding packets
1336846431537: Received UDP payload: 3773
1336846431543: forwarding disabled, not forwarding packets
1336846431543: mux: GOT CSM_Msg
1336846431605: Received UDP payload: 446
1336846432086: Received UDP payload: 642
1336846432088: mux: Inside mux Packet.CLIENT_REQUEST
1336846432136: Received UDP payload: 1006
1336846432144: forwarding disabled, not forwarding packets
1336846432144: mux: GOT CSM_Msg
1336846432145: Received UDP payload: 446
1336846432148: mux: Inside Packet.SERVER_REPLY
1336846432149: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846432209: Received UDP payload: 3773
1336846432216: forwarding disabled, not forwarding packets
1336846432216: mux: GOT CSM_Msg
1336846432256: Received UDP payload: 3426
1336846432261: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846432261: mux: Inside Packet.SERVER_REPLY
1336846432268: Received UDP payload: 446
1336846432269: mux: Inside mux Packet.CLIENT_REQUEST
1336846432909: Received UDP payload: 642
1336846432915: mux: Inside mux Packet.CLIENT_REQUEST
1336846432951: Received UDP payload: 1006
1336846432953: forwarding disabled, not forwarding packets
1336846432953: mux: GOT CSM_Msg
1336846433001: Received UDP payload: 446
1336846433002: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846433002: mux: Inside Packet.SERVER_REPLY
1336846433042: Received UDP payload: 3773
1336846433045: forwarding disabled, not forwarding packets
1336846433045: mux: GOT CSM_Msg
1336846433084: Received UDP payload: 3426
1336846433085: mux: Inside Packet.SERVER_REPLY
1336846433086: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846433099: Received UDP payload: 446
1336846433101: mux: Inside mux Packet.CLIENT_REQUEST
1336846433775: Received UDP payload: 1006
1336846433782: mux: GOT CSM_Msg
1336846433783: forwarding disabled, not forwarding packets
1336846433871: Received UDP payload: 3773
1336846433873: forwarding disabled, not forwarding packets
1336846433873: mux: GOT CSM_Msg
1336846434062: Received UDP payload: 446
1336846434705: Received UDP payload: 446
1336846435347: inside sendPacket(Packet p)
1336846435351: Sending UDP payload: 446
1336846435501: Received UDP payload: 446
1336846435831: Received UDP payload: 446
1336846436607: Received UDP payload: 446
1336846439069: Received UDP payload: 446
1336846439716: Received UDP payload: 446
1336846440143: Received UDP payload: 1006
1336846440144: mux: GOT CSM_Msg
1336846440145: forwarding disabled, not forwarding packets
1336846440189: Received UDP payload: 3773
1336846440193: forwarding disabled, not forwarding packets
1336846440193: mux: GOT CSM_Msg
1336846440350: inside sendPacket(Packet p)
1336846440351: Sending UDP payload: 446
1336846440516: Received UDP payload: 446
1336846440852: Received UDP payload: 446
1336846441460: Received UDP payload: 1006
1336846441467: forwarding disabled, not forwarding packets
1336846441467: mux: GOT CSM_Msg
1336846441548: Received UDP payload: 3773
1336846441550: forwarding disabled, not forwarding packets
1336846441550: mux: GOT CSM_Msg
1336846441612: Received UDP payload: 446
1336846444071: Received UDP payload: 446
1336846444694: Received UDP payload: 446
1336846445350: inside sendPacket(Packet p)
1336846445362: Sending UDP payload: 446
1336846445532: Received UDP payload: 446
1336846445863: Received UDP payload: 446
1336846446661: Received UDP payload: 446
1336846446948: Received UDP payload: 642
1336846446953: mux: Inside mux Packet.CLIENT_REQUEST
1336846447056: Received UDP payload: 1006
1336846447064: forwarding disabled, not forwarding packets
1336846447064: mux: GOT CSM_Msg
1336846447065: Received UDP payload: 446
1336846447076: mux: Inside Packet.SERVER_REPLY
1336846447077: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846447108: Received UDP payload: 3773
1336846447115: forwarding disabled, not forwarding packets
1336846447115: mux: GOT CSM_Msg
1336846447166: Received UDP payload: 3426
1336846447168: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846447168: mux: Inside Packet.SERVER_REPLY
1336846447181: Received UDP payload: 446
1336846447182: mux: Inside mux Packet.CLIENT_REQUEST
1336846447731: canPressButton = TRUE
1336846447732: areButtonsEnabled --> false
1336846447732: areButtonsEnabled --> false 
1336846447732: get picture disableButtonsR
1336846447758: one more getNum: 8
1336846447759: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846447759: change local requestCounter to 19
1336846447759: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=7 getBad=0 getTimedout=0 getPercent=87%
1336846447760: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010019 Client in region: 4 Client nodID: 5010
1336846447791: ----------------------------
1336846447791: I'm a leader, my requesting photos packet going to mux directly
1336846447791: inside sendRequestPacketRepeatingRunnable for requestCount = 5010019
1336846447791: mux: Inside mux Packet.CLIENT_REQUEST
1336846447792: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846447792: got new request, requestCounter = 5010019
1336846447792: inside handleClientRequest. Originator leader of region 4
1336846447792: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846447793: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(1,0)
1336846447793: Note down new request by adding requestCounter=5010019 to HashMap processedRequests
1336846447793: Sending PROC_REQUEST 11:2 (4,0)->(1,0)
1336846447793: Sending to region: 1
1336846447794: Make FirstLeg Ack regardless of new or already-processed requests
1336846447794: mux: I got a CSM packet at a leader 
1336846447794: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846447796: Sending UDP payload: 1006
1336846447796: forwarding disabled, not forwarding packets
1336846447797: --- Finished one round of sending REQUEST Packet ---------
1336846447838: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846447894: Received UDP payload: 3773
1336846447896: mux: GOT CSM_Msg
1336846447897: DSM layer: Going to and from remote region took latency = 104
1336846447897: Received PROC_REPLY 11:2 (1,0)->(4,0), handing to UserApp
1336846447897: inside handleDSMReply. Now back in originator leader of region 4
1336846447898: DSM layer: orig leader sent packet at 1336846447793 ~ received reply from remote leader at 1336846447897
1336846447898: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846447898: leader client reply has replyCounter: 501001900
1336846447899: =======================
1336846447899: inside sendReplies of replyCount = 501001900
1336846447899: inside sendReplyRepeatingRunnable for replyCount = 501001900
1336846447899: reply packet contains the newest photo/success info from the remote region
1336846447900: === Finished one round of sending REPLY Packet =======
1336846447900: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846447900: Leader about to send REPLY packet, number: 501001900 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846447907: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846447907: Inside _enableButtons
1336846447907: disabling progressdialog due to successful new photo get
1336846447908: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010020 Client in region: (4,0) Client nodID: 5010
1336846447908: areButtonsEnabled --> true
1336846447908: inside finalLegAck: change requestCounter to 20
1336846447908: send final leg ack regardless of new or already-processed reply
1336846447909: I'm a leader client, my final_leg packet going to mux directly
1336846447909: mux: Inside mux Packet.CLIENT_REQUEST
1336846447910: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501001900
1336846447910: Yay the last leg succeeded. Removing reply runnables ...
1336846447910: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501001900
1336846447910: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501001900
1336846447910: do not send ack for received final_leg_ack
1336846447910: got new request, requestCounter = 5010020
1336846447910: inside handleClientRequest. Originator leader of region 4
1336846447910: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846447911: = leader download start 1336846447791 ~ stop 1336846447907
1336846447911: leader download remote photo latency = 116
1336846447911: new client_show_remotephoto reply with replyCounter 501001900
1336846447911: note down new reply by adding replyCounter=501001900 to HashMap processedReplies
1336846447941: one more getGood: 8
1336846447942: adding get latency: 116
1336846447942: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=8 getBad=0 getTimedout=0 getPercent=100%
1336846447943: Remote photo's length: 2745
1336846447943: Success! Client getting photo from remote region, showing photo...
1336846448589: Received UDP payload: 1006
1336846448597: forwarding disabled, not forwarding packets
1336846448597: mux: GOT CSM_Msg
1336846448681: Received UDP payload: 3773
1336846448688: mux: GOT CSM_Msg
1336846448689: forwarding disabled, not forwarding packets
1336846449083: Received UDP payload: 446
1336846449316: Received UDP payload: 642
1336846449330: mux: Inside mux Packet.CLIENT_REQUEST
1336846449331: inside handleClientRequest. Originator leader of region 4
1336846449331: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846449332: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846449332: got new request, requestCounter = 5009019
1336846449334: Sending to region: 1
1336846449335: Sending PROC_REQUEST 11:3 (4,0)->(1,0)
1336846449350: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(1,0)
1336846449351: Note down new request by adding requestCounter=5009019 to HashMap processedRequests
1336846449352: Make FirstLeg Ack regardless of new or already-processed requests
1336846449353: The leader sending a First Leg ack to originator client (which id = 5009)
1336846449353: inside sendPacket(Packet p)
1336846449354: mux: I got a CSM packet at a leader 
1336846449358: Sending UDP payload: 1006
1336846449367: forwarding disabled, not forwarding packets
1336846449372: Sending UDP payload: 446
1336846449443: Received UDP payload: 3773
1336846449446: Received PROC_REPLY 11:3 (1,0)->(4,0), handing to UserApp
1336846449446: mux: GOT CSM_Msg
1336846449447: DSM layer: Going to and from remote region took latency = 113
1336846449447: DSM layer: orig leader sent packet at 1336846449334 ~ received reply from remote leader at 1336846449447
1336846449447: inside handleDSMReply. Now back in originator leader of region 4
1336846449448: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846449448: inside sendReplies of replyCount = 500901900
1336846449448: leader client reply has replyCounter: 500901900
1336846449448: reply packet contains the newest photo/success info from the remote region
1336846449449: =======================
1336846449449: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846449449: Leader about to send REPLY packet, number: 500901900 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846449449: inside sendPacket(Packet p)
1336846449449: inside sendReplyRepeatingRunnable for replyCount = 500901900
1336846449450: === Finished one round of sending REPLY Packet =======
1336846449451: Sending UDP payload: 3426
1336846449507: Received UDP payload: 446
1336846449509: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500901900
1336846449509: Yay the last leg succeeded. Removing reply runnables ...
1336846449509: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500901900
1336846449509: got new request, requestCounter = 5009020
1336846449509: inside handleClientRequest. Originator leader of region 4
1336846449509: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846449509: mux: Inside mux Packet.CLIENT_REQUEST
1336846449510: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500901900
1336846449510: do not send ack for received final_leg_ack
1336846449729: Received UDP payload: 446
1336846450363: inside sendPacket(Packet p)
1336846450366: Sending UDP payload: 446
1336846450540: Received UDP payload: 446
1336846450866: Received UDP payload: 446
1336846451672: Received UDP payload: 446
1336846454096: Received UDP payload: 446
1336846454706: Received UDP payload: 446
1336846455372: inside sendPacket(Packet p)
1336846455375: Sending UDP payload: 446
1336846455524: Received UDP payload: 446
1336846455871: Received UDP payload: 446
1336846456615: Received UDP payload: 446
1336846459080: Received UDP payload: 446
1336846459710: Received UDP payload: 446
1336846460373: inside sendPacket(Packet p)
1336846460376: Sending UDP payload: 446
1336846460522: Received UDP payload: 446
1336846460870: Received UDP payload: 446
1336846461629: Received UDP payload: 446
1336846464092: Received UDP payload: 446
1336846464722: Received UDP payload: 446
1336846465375: inside sendPacket(Packet p)
1336846465384: Sending UDP payload: 446
1336846465511: Received UDP payload: 446
1336846465878: Received UDP payload: 446
1336846466633: Received UDP payload: 446
1336846469093: Received UDP payload: 446
1336846469715: Received UDP payload: 446
1336846470387: inside sendPacket(Packet p)
1336846470397: Sending UDP payload: 446
1336846470517: Received UDP payload: 446
1336846470884: Received UDP payload: 446
1336846471641: Received UDP payload: 446
1336846474110: Received UDP payload: 446
1336846474717: Received UDP payload: 446
1336846475387: inside sendPacket(Packet p)
1336846475390: Sending UDP payload: 446
1336846475517: Received UDP payload: 446
1336846475891: Received UDP payload: 446
1336846476678: Received UDP payload: 446
1336846479154: Received UDP payload: 446
1336846479717: Received UDP payload: 446
1336846480392: inside sendPacket(Packet p)
1336846480401: Sending UDP payload: 446
1336846480520: Received UDP payload: 446
1336846480895: Received UDP payload: 446
1336846481645: Received UDP payload: 446
1336846484130: Received UDP payload: 446
1336846484718: Received UDP payload: 446
1336846485405: inside sendPacket(Packet p)
1336846485408: Sending UDP payload: 446
1336846485525: Received UDP payload: 446
1336846485890: Received UDP payload: 446
1336846486701: Received UDP payload: 446
1336846489174: Received UDP payload: 1006
1336846489183: forwarding disabled, not forwarding packets
1336846489183: mux: GOT CSM_Msg
1336846489199: Received UDP payload: 446
1336846489312: Received UDP payload: 3790
1336846489319: forwarding disabled, not forwarding packets
1336846489319: mux: GOT CSM_Msg
1336846489592: Received UDP payload: 642
1336846489596: mux: Inside mux Packet.CLIENT_REQUEST
1336846489610: Received UDP payload: 1006
1336846489617: forwarding disabled, not forwarding packets
1336846489617: mux: GOT CSM_Msg
1336846489627: Received UDP payload: 446
1336846489631: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846489631: mux: Inside Packet.SERVER_REPLY
1336846489687: Received UDP payload: 3790
1336846489694: forwarding disabled, not forwarding packets
1336846489694: mux: GOT CSM_Msg
1336846489750: Received UDP payload: 3443
1336846489755: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846489755: mux: Inside Packet.SERVER_REPLY
1336846489775: Received UDP payload: 446
1336846489778: mux: Inside mux Packet.CLIENT_REQUEST
1336846489792: Received UDP payload: 446
1336846490276: Received UDP payload: 642
1336846490281: mux: Inside mux Packet.CLIENT_REQUEST
1336846490321: Received UDP payload: 1006
1336846490331: forwarding disabled, not forwarding packets
1336846490331: mux: GOT CSM_Msg
1336846490332: Received UDP payload: 446
1336846490335: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846490335: mux: Inside Packet.SERVER_REPLY
1336846490403: Received UDP payload: 3790
1336846490405: mux: GOT CSM_Msg
1336846490406: forwarding disabled, not forwarding packets
1336846490407: inside sendPacket(Packet p)
1336846490408: Sending UDP payload: 446
1336846490456: Received UDP payload: 3443
1336846490458: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846490458: mux: Inside Packet.SERVER_REPLY
1336846490474: Received UDP payload: 446
1336846490476: mux: Inside mux Packet.CLIENT_REQUEST
1336846490515: Received UDP payload: 446
1336846490888: Received UDP payload: 446
1336846491146: Received UDP payload: 1006
1336846491154: mux: GOT CSM_Msg
1336846491155: forwarding disabled, not forwarding packets
1336846491236: Received UDP payload: 3790
1336846491238: forwarding disabled, not forwarding packets
1336846491238: mux: GOT CSM_Msg
1336846491653: Received UDP payload: 446
1336846494145: Received UDP payload: 446
1336846494724: Received UDP payload: 446
1336846495407: inside sendPacket(Packet p)
1336846495417: Sending UDP payload: 446
1336846495534: Received UDP payload: 446
1336846495903: Received UDP payload: 446
1336846496665: Received UDP payload: 446
1336846498698: Received UDP payload: 1006
1336846498706: mux: GOT CSM_Msg
1336846498707: forwarding disabled, not forwarding packets
1336846498750: Received UDP payload: 3790
1336846498758: mux: GOT CSM_Msg
1336846498759: forwarding disabled, not forwarding packets
1336846498966: Received UDP payload: 1006
1336846498974: mux: GOT CSM_Msg
1336846498975: forwarding disabled, not forwarding packets
1336846499024: Received UDP payload: 3790
1336846499031: mux: GOT CSM_Msg
1336846499032: forwarding disabled, not forwarding packets
1336846499150: Received UDP payload: 446
1336846499763: Received UDP payload: 446
1336846500420: inside sendPacket(Packet p)
1336846500423: Sending UDP payload: 446
1336846500533: Received UDP payload: 446
1336846501202: Received UDP payload: 446
1336846501691: Received UDP payload: 446
1336846504165: Received UDP payload: 446
1336846504744: Received UDP payload: 446
1336846504888: areButtonsEnabled --> false 
1336846504888: canPressButton = TRUE
1336846504889: areButtonsEnabled --> false
1336846504889: get picture disableButtonsR
1336846504915: one more getNum: 9
1336846504915: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=8 getBad=0 getTimedout=0 getPercent=88%
1336846504916: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846504916: change local requestCounter to 21
1336846504917: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010021 Client in region: 4 Client nodID: 5010
1336846504945: ----------------------------
1336846504945: I'm a leader, my requesting photos packet going to mux directly
1336846504945: inside sendRequestPacketRepeatingRunnable for requestCount = 5010021
1336846504946: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846504946: got new request, requestCounter = 5010021
1336846504946: inside handleClientRequest. Originator leader of region 4
1336846504946: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846504946: mux: Inside mux Packet.CLIENT_REQUEST
1336846504947: Sending PROC_REQUEST 11:2 (4,0)->(2,0)
1336846504947: Sending to region: 2
1336846504948: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(2,0)
1336846504948: Make FirstLeg Ack regardless of new or already-processed requests
1336846504948: Note down new request by adding requestCounter=5010021 to HashMap processedRequests
1336846504948: mux: I got a CSM packet at a leader 
1336846504948: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846504950: Sending UDP payload: 1006
1336846504951: forwarding disabled, not forwarding packets
1336846504952: --- Finished one round of sending REQUEST Packet ---------
1336846504992: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846505050: Received UDP payload: 3790
1336846505052: Received PROC_REPLY 11:2 (2,0)->(4,0), handing to UserApp
1336846505052: mux: GOT CSM_Msg
1336846505053: DSM layer: Going to and from remote region took latency = 106
1336846505053: DSM layer: orig leader sent packet at 1336846504947 ~ received reply from remote leader at 1336846505053
1336846505053: inside handleDSMReply. Now back in originator leader of region 4
1336846505054: =======================
1336846505054: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846505054: Leader about to send REPLY packet, number: 501002100 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846505054: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846505054: inside sendReplies of replyCount = 501002100
1336846505054: inside sendReplyRepeatingRunnable for replyCount = 501002100
1336846505054: leader client reply has replyCounter: 501002100
1336846505054: reply packet contains the newest photo/success info from the remote region
1336846505055: === Finished one round of sending REPLY Packet =======
1336846505074: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846505074: disabling progressdialog due to successful new photo get
1336846505075: Inside _enableButtons
1336846505075: areButtonsEnabled --> true
1336846505075: inside finalLegAck: change requestCounter to 22
1336846505075: send final leg ack regardless of new or already-processed reply
1336846505076: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010022 Client in region: (4,0) Client nodID: 5010
1336846505076: I'm a leader client, my final_leg packet going to mux directly
1336846505076: new client_show_remotephoto reply with replyCounter 501002100
1336846505076: note down new reply by adding replyCounter=501002100 to HashMap processedReplies
1336846505077: = leader download start 1336846504946 ~ stop 1336846505074
1336846505077: leader download remote photo latency = 128
1336846505078: one more getGood: 9
1336846505078: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=9 getBad=0 getTimedout=0 getPercent=100%
1336846505079: Success! Client getting photo from remote region, showing photo...
1336846505079: adding get latency: 128
1336846505080: Remote photo's length: 2762
1336846505121: mux: Inside mux Packet.CLIENT_REQUEST
1336846505122: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501002100
1336846505122: Yay the last leg succeeded. Removing reply runnables ...
1336846505122: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501002100
1336846505122: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501002100
1336846505122: do not send ack for received final_leg_ack
1336846505122: got new request, requestCounter = 5010022
1336846505122: inside handleClientRequest. Originator leader of region 4
1336846505122: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846505421: inside sendPacket(Packet p)
1336846505423: Sending UDP payload: 446
1336846505539: Received UDP payload: 446
1336846505554: Received UDP payload: 642
1336846505555: mux: Inside mux Packet.CLIENT_REQUEST
1336846505594: Received UDP payload: 1006
1336846505596: mux: GOT CSM_Msg
1336846505597: forwarding disabled, not forwarding packets
1336846505602: Received UDP payload: 446
1336846505604: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846505604: mux: Inside Packet.SERVER_REPLY
1336846505757: Received UDP payload: 3790
1336846505766: forwarding disabled, not forwarding packets
1336846505766: mux: GOT CSM_Msg
1336846505836: Received UDP payload: 3443
1336846505838: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846505838: mux: Inside Packet.SERVER_REPLY
1336846505850: Received UDP payload: 446
1336846505851: mux: Inside mux Packet.CLIENT_REQUEST
1336846506151: Received UDP payload: 642
1336846506153: mux: Inside mux Packet.CLIENT_REQUEST
1336846506154: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846506154: got new request, requestCounter = 5009021
1336846506154: inside handleClientRequest. Originator leader of region 4
1336846506154: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846506155: Sending to region: 2
1336846506156: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(2,0)
1336846506156: Note down new request by adding requestCounter=5009021 to HashMap processedRequests
1336846506156: Sending PROC_REQUEST 11:3 (4,0)->(2,0)
1336846506157: Make FirstLeg Ack regardless of new or already-processed requests
1336846506157: The leader sending a First Leg ack to originator client (which id = 5009)
1336846506157: inside sendPacket(Packet p)
1336846506157: mux: I got a CSM packet at a leader 
1336846506160: Sending UDP payload: 1006
1336846506165: forwarding disabled, not forwarding packets
1336846506166: Sending UDP payload: 446
1336846506204: Received UDP payload: 446
1336846506264: Received UDP payload: 3790
1336846506267: mux: GOT CSM_Msg
1336846506268: DSM layer: Going to and from remote region took latency = 113
1336846506268: Received PROC_REPLY 11:3 (2,0)->(4,0), handing to UserApp
1336846506268: inside handleDSMReply. Now back in originator leader of region 4
1336846506269: DSM layer: orig leader sent packet at 1336846506155 ~ received reply from remote leader at 1336846506268
1336846506270: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846506270: inside sendReplies of replyCount = 500902100
1336846506270: leader client reply has replyCounter: 500902100
1336846506270: reply packet contains the newest photo/success info from the remote region
1336846506271: =======================
1336846506271: inside sendReplyRepeatingRunnable for replyCount = 500902100
1336846506272: === Finished one round of sending REPLY Packet =======
1336846506272: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846506272: Leader about to send REPLY packet, number: 500902100 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846506272: inside sendPacket(Packet p)
1336846506274: Sending UDP payload: 3443
1336846506341: Received UDP payload: 446
1336846506343: inside handleClientRequest. Originator leader of region 4
1336846506343: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846506343: mux: Inside mux Packet.CLIENT_REQUEST
1336846506344: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500902100
1336846506344: Yay the last leg succeeded. Removing reply runnables ...
1336846506344: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500902100
1336846506344: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500902100
1336846506344: do not send ack for received final_leg_ack
1336846506344: got new request, requestCounter = 5009022
1336846506692: Received UDP payload: 446
1336846506705: Received UDP payload: 1006
1336846506713: forwarding disabled, not forwarding packets
1336846506713: mux: GOT CSM_Msg
1336846506764: Received UDP payload: 3790
1336846506766: forwarding disabled, not forwarding packets
1336846506766: mux: GOT CSM_Msg
1336846509201: Received UDP payload: 446
1336846509752: Received UDP payload: 446
1336846510421: inside sendPacket(Packet p)
1336846510424: Sending UDP payload: 446
1336846510538: Received UDP payload: 446
1336846511208: Received UDP payload: 446
1336846511955: Received UDP payload: 446
1336846514153: Received UDP payload: 446
1336846514756: Received UDP payload: 446
1336846515424: inside sendPacket(Packet p)
1336846515438: Sending UDP payload: 446
1336846515823: Received UDP payload: 446
1336846516218: Received UDP payload: 446
1336846516963: Received UDP payload: 446
1336846518476: Received UDP payload: 642
1336846518482: mux: Inside mux Packet.CLIENT_REQUEST
1336846518517: Received UDP payload: 1006
1336846518526: Received UDP payload: 446
1336846518526: forwarding disabled, not forwarding packets
1336846518526: mux: GOT CSM_Msg
1336846518527: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846518527: mux: Inside Packet.SERVER_REPLY
1336846518602: Received UDP payload: 3757
1336846518604: forwarding disabled, not forwarding packets
1336846518604: mux: GOT CSM_Msg
1336846518649: Received UDP payload: 3410
1336846518650: mux: Inside Packet.SERVER_REPLY
1336846518651: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846518668: Received UDP payload: 446
1336846518669: mux: Inside mux Packet.CLIENT_REQUEST
1336846519158: Received UDP payload: 446
1336846519753: Received UDP payload: 446
1336846520006: Received UDP payload: 1006
1336846520015: mux: GOT CSM_Msg
1336846520016: forwarding disabled, not forwarding packets
1336846520100: Received UDP payload: 3757
1336846520102: forwarding disabled, not forwarding packets
1336846520102: mux: GOT CSM_Msg
1336846520440: inside sendPacket(Packet p)
1336846520442: Sending UDP payload: 446
1336846520592: Received UDP payload: 1006
1336846520595: mux: GOT CSM_Msg
1336846520596: forwarding disabled, not forwarding packets
1336846520646: Received UDP payload: 3757
1336846520653: forwarding disabled, not forwarding packets
1336846520653: mux: GOT CSM_Msg
1336846520822: Received UDP payload: 446
1336846521222: Received UDP payload: 446
1336846521959: Received UDP payload: 446
1336846524170: Received UDP payload: 446
1336846525125: Received UDP payload: 446
1336846525369: Received UDP payload: 642
1336846525373: mux: Inside mux Packet.CLIENT_REQUEST
1336846525412: Received UDP payload: 1006
1336846525418: forwarding disabled, not forwarding packets
1336846525418: mux: GOT CSM_Msg
1336846525421: Received UDP payload: 446
1336846525431: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846525431: mux: Inside Packet.SERVER_REPLY
1336846525441: inside sendPacket(Packet p)
1336846525442: Sending UDP payload: 446
1336846525488: Received UDP payload: 3757
1336846525490: forwarding disabled, not forwarding packets
1336846525490: mux: GOT CSM_Msg
1336846525532: Received UDP payload: 3410
1336846525533: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846525533: mux: Inside Packet.SERVER_REPLY
1336846525577: Received UDP payload: 446
1336846525578: mux: Inside mux Packet.CLIENT_REQUEST
1336846525820: Received UDP payload: 446
1336846526225: Received UDP payload: 446
1336846526973: Received UDP payload: 446
1336846528200: Received UDP payload: 1006
1336846528207: mux: GOT CSM_Msg
1336846528208: forwarding disabled, not forwarding packets
1336846528291: Received UDP payload: 3757
1336846528297: mux: GOT CSM_Msg
1336846528298: forwarding disabled, not forwarding packets
1336846529161: Received UDP payload: 446
1336846529842: Received UDP payload: 1006
1336846529849: mux: GOT CSM_Msg
1336846529850: forwarding disabled, not forwarding packets
1336846529893: Received UDP payload: 3757
1336846529899: mux: GOT CSM_Msg
1336846529900: forwarding disabled, not forwarding packets
1336846530149: Received UDP payload: 446
1336846530442: inside sendPacket(Packet p)
1336846530443: Sending UDP payload: 446
1336846530824: Received UDP payload: 446
1336846531233: Received UDP payload: 446
1336846531979: Received UDP payload: 446
1336846532335: leader to cloud hearbeat...
1336846534202: Received UDP payload: 446
1336846534880: canPressButton = TRUE
1336846534881: areButtonsEnabled --> false
1336846534881: areButtonsEnabled --> false 
1336846534881: get picture disableButtonsR
1336846534907: one more getNum: 10
1336846534908: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846534908: change local requestCounter to 23
1336846534908: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=9 getBad=0 getTimedout=0 getPercent=90%
1336846534909: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010023 Client in region: 4 Client nodID: 5010
1336846534940: ----------------------------
1336846534941: I'm a leader, my requesting photos packet going to mux directly
1336846534941: inside handleClientRequest. Originator leader of region 4
1336846534941: inside sendRequestPacketRepeatingRunnable for requestCount = 5010023
1336846534941: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846534941: mux: Inside mux Packet.CLIENT_REQUEST
1336846534942: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846534942: got new request, requestCounter = 5010023
1336846534943: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(3,0)
1336846534943: Note down new request by adding requestCounter=5010023 to HashMap processedRequests
1336846534943: Sending PROC_REQUEST 11:2 (4,0)->(3,0)
1336846534943: Sending to region: 3
1336846534944: Make FirstLeg Ack regardless of new or already-processed requests
1336846534944: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846534945: mux: I got a CSM packet at a leader 
1336846534947: Sending UDP payload: 1006
1336846534948: --- Finished one round of sending REQUEST Packet ---------
1336846534948: forwarding disabled, not forwarding packets
1336846534998: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846535105: Received UDP payload: 3757
1336846535107: DSM layer: Going to and from remote region took latency = 164
1336846535107: Received PROC_REPLY 11:2 (3,0)->(4,0), handing to UserApp
1336846535107: inside handleDSMReply. Now back in originator leader of region 4
1336846535107: mux: GOT CSM_Msg
1336846535108: DSM layer: orig leader sent packet at 1336846534943 ~ received reply from remote leader at 1336846535107
1336846535108: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846535108: leader client reply has replyCounter: 501002300
1336846535109: =======================
1336846535109: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846535109: Leader about to send REPLY packet, number: 501002300 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846535109: inside sendReplies of replyCount = 501002300
1336846535109: inside sendReplyRepeatingRunnable for replyCount = 501002300
1336846535109: reply packet contains the newest photo/success info from the remote region
1336846535110: === Finished one round of sending REPLY Packet =======
1336846535113: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846535113: Inside _enableButtons
1336846535113: areButtonsEnabled --> true
1336846535113: disabling progressdialog due to successful new photo get
1336846535114: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010024 Client in region: (4,0) Client nodID: 5010
1336846535114: I'm a leader client, my final_leg packet going to mux directly
1336846535114: inside finalLegAck: change requestCounter to 24
1336846535114: send final leg ack regardless of new or already-processed reply
1336846535115: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501002300
1336846535115: Yay the last leg succeeded. Removing reply runnables ...
1336846535115: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501002300
1336846535115: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501002300
1336846535115: do not send ack for received final_leg_ack
1336846535115: got new request, requestCounter = 5010024
1336846535115: inside handleClientRequest. Originator leader of region 4
1336846535115: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846535115: mux: Inside mux Packet.CLIENT_REQUEST
1336846535116: = leader download start 1336846534941 ~ stop 1336846535113
1336846535116: leader download remote photo latency = 172
1336846535116: new client_show_remotephoto reply with replyCounter 501002300
1336846535116: note down new reply by adding replyCounter=501002300 to HashMap processedReplies
1336846535117: one more getGood: 10
1336846535118: adding get latency: 172
1336846535118: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=10 getBad=0 getTimedout=0 getPercent=100%
1336846535120: Success! Client getting photo from remote region, showing photo...
1336846535122: Remote photo's length: 2729
1336846535159: Received UDP payload: 446
1336846535161: Received UDP payload: 642
1336846535163: mux: Inside mux Packet.CLIENT_REQUEST
1336846535207: Received UDP payload: 1006
1336846535209: forwarding disabled, not forwarding packets
1336846535209: mux: GOT CSM_Msg
1336846535212: Received UDP payload: 446
1336846535213: mux: Inside Packet.SERVER_REPLY
1336846535214: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846535263: Received UDP payload: 3757
1336846535265: forwarding disabled, not forwarding packets
1336846535265: mux: GOT CSM_Msg
1336846535321: Received UDP payload: 3410
1336846535323: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846535323: mux: Inside Packet.SERVER_REPLY
1336846535336: Received UDP payload: 446
1336846535339: mux: Inside mux Packet.CLIENT_REQUEST
1336846535442: inside sendPacket(Packet p)
1336846535445: Sending UDP payload: 446
1336846535876: Received UDP payload: 446
1336846536192: Received UDP payload: 642
1336846536197: mux: Inside mux Packet.CLIENT_REQUEST
1336846536198: inside handleClientRequest. Originator leader of region 4
1336846536198: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846536199: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846536199: got new request, requestCounter = 5009023
1336846536203: Sending to region: 3
1336846536204: Sending PROC_REQUEST 11:3 (4,0)->(3,0)
1336846536210: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(3,0)
1336846536210: Note down new request by adding requestCounter=5009023 to HashMap processedRequests
1336846536211: Make FirstLeg Ack regardless of new or already-processed requests
1336846536211: The leader sending a First Leg ack to originator client (which id = 5009)
1336846536211: inside sendPacket(Packet p)
1336846536212: mux: I got a CSM packet at a leader 
1336846536216: Sending UDP payload: 1006
1336846536232: forwarding disabled, not forwarding packets
1336846536233: Sending UDP payload: 446
1336846536235: Received UDP payload: 446
1336846536318: Received UDP payload: 3757
1336846536321: DSM layer: Going to and from remote region took latency = 118
1336846536321: DSM layer: orig leader sent packet at 1336846536203 ~ received reply from remote leader at 1336846536321
1336846536321: Received PROC_REPLY 11:3 (3,0)->(4,0), handing to UserApp
1336846536321: inside handleDSMReply. Now back in originator leader of region 4
1336846536321: mux: GOT CSM_Msg
1336846536322: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846536322: inside sendReplies of replyCount = 500902300
1336846536322: leader client reply has replyCounter: 500902300
1336846536322: reply packet contains the newest photo/success info from the remote region
1336846536323: === Finished one round of sending REPLY Packet =======
1336846536323: =======================
1336846536323: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846536323: Leader about to send REPLY packet, number: 500902300 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846536323: inside sendPacket(Packet p)
1336846536323: inside sendReplyRepeatingRunnable for replyCount = 500902300
1336846536324: Sending UDP payload: 3410
1336846536401: Received UDP payload: 446
1336846536403: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500902300
1336846536403: Yay the last leg succeeded. Removing reply runnables ...
1336846536403: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500902300
1336846536403: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500902300
1336846536403: do not send ack for received final_leg_ack
1336846536403: got new request, requestCounter = 5009024
1336846536403: inside handleClientRequest. Originator leader of region 4
1336846536403: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846536403: mux: Inside mux Packet.CLIENT_REQUEST
1336846536449: Received UDP payload: 1006
1336846536451: mux: GOT CSM_Msg
1336846536452: forwarding disabled, not forwarding packets
1336846536496: Received UDP payload: 3757
1336846536498: forwarding disabled, not forwarding packets
1336846536498: mux: GOT CSM_Msg
1336846536962: Received UDP payload: 446
1336846539215: Received UDP payload: 446
1336846540193: Received UDP payload: 446
1336846540444: inside sendPacket(Packet p)
1336846540452: Sending UDP payload: 446
1336846540902: Received UDP payload: 446
1336846541247: Received UDP payload: 446
1336846542025: Received UDP payload: 446
1336846544183: Received UDP payload: 446
1336846545158: Received UDP payload: 446
1336846545454: inside sendPacket(Packet p)
1336846545457: Sending UDP payload: 446
1336846545842: Received UDP payload: 446
1336846546247: Received UDP payload: 446
1336846546800: Received UDP payload: 642
1336846546805: mux: Inside mux Packet.CLIENT_REQUEST
1336846546850: Received UDP payload: 1006
1336846546852: inside handleDSMRequest. At requests's remote leader of region 4
1336846546852: mux: GOT CSM_Msg
1336846546852: removed replies before id 2 from sentReplies of size 0
1336846546853: INSIDE SERVER_GET_PHOTO!!!
1336846546854: Received PROC_REQUEST 11:2 (0,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(0,0)
1336846546855: Dispatching Atom PROC_REPLY 11:2 (4,0)->(0,0)
1336846546855: mux: I got a CSM packet at a leader 
1336846546856: Sending UDP payload: 3734
1336846546857: forwarding disabled, not forwarding packets
1336846546860: Received UDP payload: 446
1336846546862: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846546862: mux: Inside Packet.SERVER_REPLY
1336846546948: Received UDP payload: 3387
1336846546950: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846546950: mux: Inside Packet.SERVER_REPLY
1336846546964: Received UDP payload: 446
1336846546973: Received UDP payload: 446
1336846546975: mux: Inside mux Packet.CLIENT_REQUEST
1336846548104: Received UDP payload: 1006
1336846548114: mux: GOT CSM_Msg
1336846548114: removed replies before id 3 from sentReplies of size 0
1336846548115: inside handleDSMRequest. At requests's remote leader of region 4
1336846548117: INSIDE SERVER_GET_PHOTO!!!
1336846548133: Received PROC_REQUEST 11:3 (0,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(0,0)
1336846548134: Dispatching Atom PROC_REPLY 11:3 (4,0)->(0,0)
1336846548134: mux: I got a CSM packet at a leader 
1336846548138: Sending UDP payload: 3734
1336846548152: forwarding disabled, not forwarding packets
1336846549166: Received UDP payload: 446
1336846550155: Received UDP payload: 446
1336846550208: Received UDP payload: 1006
1336846550215: mux: GOT CSM_Msg
1336846550216: inside handleDSMRequest. At requests's remote leader of region 4
1336846550216: removed replies before id 2 from sentReplies of size 0
1336846550218: INSIDE SERVER_GET_PHOTO!!!
1336846550239: Received PROC_REQUEST 11:2 (1,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(1,0)
1336846550240: Dispatching Atom PROC_REPLY 11:2 (4,0)->(1,0)
1336846550241: mux: I got a CSM packet at a leader 
1336846550246: Sending UDP payload: 3734
1336846550262: forwarding disabled, not forwarding packets
1336846550454: inside sendPacket(Packet p)
1336846550455: Sending UDP payload: 446
1336846550836: Received UDP payload: 446
1336846551252: Received UDP payload: 446
1336846551546: Received UDP payload: 642
1336846551552: mux: Inside mux Packet.CLIENT_REQUEST
1336846551590: Received UDP payload: 1006
1336846551596: mux: GOT CSM_Msg
1336846551597: removed replies before id 3 from sentReplies of size 0
1336846551598: inside handleDSMRequest. At requests's remote leader of region 4
1336846551602: INSIDE SERVER_GET_PHOTO!!!
1336846551604: Received PROC_REQUEST 11:3 (1,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(1,0)
1336846551605: Dispatching Atom PROC_REPLY 11:3 (4,0)->(1,0)
1336846551605: mux: I got a CSM packet at a leader 
1336846551606: Sending UDP payload: 3734
1336846551607: forwarding disabled, not forwarding packets
1336846551609: Received UDP payload: 446
1336846551610: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846551610: mux: Inside Packet.SERVER_REPLY
1336846551727: Received UDP payload: 446
1336846551729: mux: Inside mux Packet.CLIENT_REQUEST
1336846551960: Received UDP payload: 446
1336846554178: Received UDP payload: 446
1336846555154: Received UDP payload: 446
1336846555422: Received UDP payload: 1006
1336846555431: mux: GOT CSM_Msg
1336846555432: inside handleDSMRequest. At requests's remote leader of region 4
1336846555432: removed replies before id 1 from sentReplies of size 0
1336846555434: INSIDE SERVER_GET_PHOTO!!!
1336846555454: Received PROC_REQUEST 11:1 (2,0)->(4,0), replying PROC_REPLY 11:1 (4,0)->(2,0)
1336846555454: inside sendPacket(Packet p)
1336846555456: Dispatching Atom PROC_REPLY 11:1 (4,0)->(2,0)
1336846555469: Sending UDP payload: 446
1336846555471: mux: I got a CSM packet at a leader 
1336846555475: Sending UDP payload: 3734
1336846555487: Received UDP payload: 1006
1336846555495: forwarding disabled, not forwarding packets
1336846555496: mux: GOT CSM_Msg
1336846555497: inside handleDSMRequest. At requests's remote leader of region 4
1336846555497: removed replies before id 1 from sentReplies of size 0
1336846555501: INSIDE SERVER_GET_PHOTO!!!
1336846555503: Dispatching Atom PROC_REPLY 11:1 (4,0)->(3,0)
1336846555503: Received PROC_REQUEST 11:1 (3,0)->(4,0), replying PROC_REPLY 11:1 (4,0)->(3,0)
1336846555503: mux: I got a CSM packet at a leader 
1336846555504: Sending UDP payload: 3734
1336846555510: forwarding disabled, not forwarding packets
1336846555841: Received UDP payload: 446
1336846556257: Received UDP payload: 446
1336846556986: Received UDP payload: 446
1336846559187: Received UDP payload: 446
1336846560151: Received UDP payload: 446
1336846560456: inside sendPacket(Packet p)
1336846560457: Sending UDP payload: 446
1336846560904: Received UDP payload: 446
1336846560984: canPressButton = TRUE
1336846560985: areButtonsEnabled --> false
1336846560985: areButtonsEnabled --> false 
1336846560985: get picture disableButtonsR
1336846561011: one more getNum: 11
1336846561012: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846561012: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=10 getBad=0 getTimedout=0 getPercent=90%
1336846561013: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010025 Client in region: 4 Client nodID: 5010
1336846561013: change local requestCounter to 25
1336846561042: ----------------------------
1336846561042: inside sendRequestPacketRepeatingRunnable for requestCount = 5010025
1336846561043: I'm a leader, my requesting photos packet going to mux directly
1336846561043: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846561043: got new request, requestCounter = 5010025
1336846561043: inside handleClientRequest. Originator leader of region 4
1336846561043: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846561043: mux: Inside mux Packet.CLIENT_REQUEST
1336846561044: Sending PROC_REQUEST 11:6 (4,0)->(4,0)
1336846561044: Sending to region: 4
1336846561045: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(4,0)
1336846561045: Make FirstLeg Ack regardless of new or already-processed requests
1336846561045: Note down new request by adding requestCounter=5010025 to HashMap processedRequests
1336846561045: mux: I got a CSM packet at a leader 
1336846561045: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846561047: Sending UDP payload: 1006
1336846561049: INSIDE SERVER_GET_PHOTO!!!
1336846561049: inside handleDSMRequest. At requests's remote leader of region 4
1336846561049: removed replies before id 6 from sentReplies of size 0
1336846561050:  1 self to self atomRequest
1336846561050: dst_region == src_region = 4
1336846561051: Dispatching Atom PROC_REPLY 11:6 (4,0)->(4,0)
1336846561051: Received PROC_REQUEST 11:6 (4,0)->(4,0), replying PROC_REPLY 11:6 (4,0)->(4,0)
1336846561052: mux: I got a CSM packet at a leader 
1336846561053: --- Finished one round of sending REQUEST Packet ---------
1336846561067: Sending UDP payload: 3734
1336846561068: Received PROC_REPLY 11:6 (4,0)->(4,0), handing to UserApp
1336846561069: DSM layer: Going to and from remote region took latency = 25
1336846561069: DSM layer: orig leader sent packet at 1336846561044 ~ received reply from remote leader at 1336846561069
1336846561069: inside handleDSMReply. Now back in originator leader of region 4
1336846561087: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846561087: inside sendReplies of replyCount = 501002500
1336846561087: leader client reply has replyCounter: 501002500
1336846561087: reply packet contains the newest photo/success info from the remote region
1336846561088: === Finished one round of sending REPLY Packet =======
1336846561088: =======================
1336846561088: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846561088: Leader about to send REPLY packet, number: 501002500 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846561088: inside sendReplyRepeatingRunnable for replyCount = 501002500
1336846561135: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846561136: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846561137: Inside _enableButtons
1336846561137: areButtonsEnabled --> true
1336846561137: disabling progressdialog due to successful new photo get
1336846561147: inside finalLegAck: change requestCounter to 26
1336846561147: send final leg ack regardless of new or already-processed reply
1336846561148: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010026 Client in region: (4,0) Client nodID: 5010
1336846561148: I'm a leader client, my final_leg packet going to mux directly
1336846561148: inside handleClientRequest. Originator leader of region 4
1336846561148: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846561148: mux: Inside mux Packet.CLIENT_REQUEST
1336846561149: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501002500
1336846561149: Yay the last leg succeeded. Removing reply runnables ...
1336846561149: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501002500
1336846561149: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501002500
1336846561149: do not send ack for received final_leg_ack
1336846561149: got new request, requestCounter = 5010026
1336846561151: new client_show_remotephoto reply with replyCounter 501002500
1336846561151: note down new reply by adding replyCounter=501002500 to HashMap processedReplies
1336846561152: = leader download start 1336846561043 ~ stop 1336846561136
1336846561152: leader download remote photo latency = 93
1336846561153: one more getGood: 11
1336846561153: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=11 getBad=0 getTimedout=0 getPercent=100%
1336846561154: Remote photo's length: 2706
1336846561154: Success! Client getting photo from remote region, showing photo...
1336846561154: adding get latency: 93
1336846561204: Received UDP payload: 1006
1336846561206: mux: GOT CSM_Msg
1336846561206: removed replies before id 2 from sentReplies of size 0
1336846561207: INSIDE SERVER_GET_PHOTO!!!
1336846561207: inside handleDSMRequest. At requests's remote leader of region 4
1336846561209: Received PROC_REQUEST 11:2 (5,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(5,0)
1336846561213: Dispatching Atom PROC_REPLY 11:2 (4,0)->(5,0)
1336846561214: mux: I got a CSM packet at a leader 
1336846561215: Sending UDP payload: 3734
1336846561216: forwarding disabled, not forwarding packets
1336846561261: Received UDP payload: 446
1336846561892: Received UDP payload: 1006
1336846561901: mux: GOT CSM_Msg
1336846561902: removed replies before id 2 from sentReplies of size 1
1336846561904: Received DUPLICATE PROC_REQUEST 11:2 (5,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(5,0)
1336846561905: Dispatching Atom PROC_REPLY 11:2 (4,0)->(5,0)
1336846561905: mux: I got a CSM packet at a leader 
1336846561920: Sending UDP payload: 3734
1336846561925: forwarding disabled, not forwarding packets
1336846561982: Received UDP payload: 446
1336846562365: Received UDP payload: 642
1336846562371: inside handleClientRequest. Originator leader of region 4
1336846562371: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846562371: mux: Inside mux Packet.CLIENT_REQUEST
1336846562372: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846562372: got new request, requestCounter = 5009025
1336846562374: Sending to region: 4
1336846562375: Sending PROC_REQUEST 11:7 (4,0)->(4,0)
1336846562376: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(4,0)
1336846562377: Make FirstLeg Ack regardless of new or already-processed requests
1336846562377: Note down new request by adding requestCounter=5009025 to HashMap processedRequests
1336846562377: The leader sending a First Leg ack to originator client (which id = 5009)
1336846562378: inside sendPacket(Packet p)
1336846562378: mux: I got a CSM packet at a leader 
1336846562394: Sending UDP payload: 1006
1336846562396: inside handleDSMRequest. At requests's remote leader of region 4
1336846562396: removed replies before id 7 from sentReplies of size 0
1336846562399: INSIDE SERVER_GET_PHOTO!!!
1336846562402: dst_region == src_region = 4
1336846562409:  1 self to self atomRequest
1336846562414: Received PROC_REQUEST 11:7 (4,0)->(4,0), replying PROC_REPLY 11:7 (4,0)->(4,0)
1336846562415: Dispatching Atom PROC_REPLY 11:7 (4,0)->(4,0)
1336846562417: Sending UDP payload: 446
1336846562427: mux: I got a CSM packet at a leader 
1336846562431: Sending UDP payload: 3734
1336846562441: Received PROC_REPLY 11:7 (4,0)->(4,0), handing to UserApp
1336846562442: DSM layer: Going to and from remote region took latency = 68
1336846562442: inside handleDSMReply. Now back in originator leader of region 4
1336846562443: DSM layer: orig leader sent packet at 1336846562374 ~ received reply from remote leader at 1336846562442
1336846562445: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846562446: inside sendReplies of replyCount = 500902500
1336846562446: leader client reply has replyCounter: 500902500
1336846562446: reply packet contains the newest photo/success info from the remote region
1336846562447: =======================
1336846562447: inside sendReplyRepeatingRunnable for replyCount = 500902500
1336846562448: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846562448: Leader about to send REPLY packet, number: 500902500 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846562449: === Finished one round of sending REPLY Packet =======
1336846562449: inside sendPacket(Packet p)
1336846562470: Sending UDP payload: 3387
1336846562528: Received UDP payload: 446
1336846562533: inside handleClientRequest. Originator leader of region 4
1336846562533: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846562533: mux: Inside mux Packet.CLIENT_REQUEST
1336846562534: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500902500
1336846562534: Yay the last leg succeeded. Removing reply runnables ...
1336846562534: got new request, requestCounter = 5009026
1336846562535: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500902500
1336846562535: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500902500
1336846562536: do not send ack for received final_leg_ack
1336846562902: Received UDP payload: 642
1336846562906: mux: Inside mux Packet.CLIENT_REQUEST
1336846562972: Received UDP payload: 1006
1336846562980: mux: GOT CSM_Msg
1336846562981: inside handleDSMRequest. At requests's remote leader of region 4
1336846562981: removed replies before id 3 from sentReplies of size 0
1336846562985: INSIDE SERVER_GET_PHOTO!!!
1336846562991: Dispatching Atom PROC_REPLY 11:3 (4,0)->(5,0)
1336846562991: Received PROC_REQUEST 11:3 (5,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(5,0)
1336846562992: mux: I got a CSM packet at a leader 
1336846562997: Received UDP payload: 446
1336846563005: Sending UDP payload: 3734
1336846563015: forwarding disabled, not forwarding packets
1336846563016: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846563016: mux: Inside Packet.SERVER_REPLY
1336846563115: Received UDP payload: 3387
1336846563116: mux: Inside Packet.SERVER_REPLY
1336846563117: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846563138: Received UDP payload: 446
1336846563140: mux: Inside mux Packet.CLIENT_REQUEST
1336846564183: Received UDP payload: 446
1336846565156: Received UDP payload: 446
1336846565458: inside sendPacket(Packet p)
1336846565470: Sending UDP payload: 446
1336846565922: Received UDP payload: 446
1336846566293: Received UDP payload: 446
1336846567504: Received UDP payload: 446
1336846569198: Received UDP payload: 446
1336846570163: Received UDP payload: 446
1336846570473: inside sendPacket(Packet p)
1336846570476: Sending UDP payload: 446
1336846570623: Received UDP payload: 642
1336846570627: mux: Inside mux Packet.CLIENT_REQUEST
1336846570666: Received UDP payload: 1006
1336846570675: forwarding disabled, not forwarding packets
1336846570675: mux: GOT CSM_Msg
1336846570683: Received UDP payload: 446
1336846570686: mux: Inside Packet.SERVER_REPLY
1336846570687: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846570748: Received UDP payload: 3777
1336846570750: mux: GOT CSM_Msg
1336846570751: forwarding disabled, not forwarding packets
1336846570801: Received UDP payload: 3430
1336846570803: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846570803: mux: Inside Packet.SERVER_REPLY
1336846570822: Received UDP payload: 446
1336846570824: mux: Inside mux Packet.CLIENT_REQUEST
1336846570849: Received UDP payload: 446
1336846571277: Received UDP payload: 446
1336846572003: Received UDP payload: 446
1336846572070: Received UDP payload: 1006
1336846572077: forwarding disabled, not forwarding packets
1336846572077: mux: GOT CSM_Msg
1336846572156: Received UDP payload: 3777
1336846572158: forwarding disabled, not forwarding packets
1336846572158: mux: GOT CSM_Msg
1336846574201: Received UDP payload: 446
1336846574254: Received UDP payload: 1006
1336846574262: forwarding disabled, not forwarding packets
1336846574262: mux: GOT CSM_Msg
1336846574324: Received UDP payload: 3777
1336846574331: forwarding disabled, not forwarding packets
1336846574331: mux: GOT CSM_Msg
1336846575164: Received UDP payload: 446
1336846575475: inside sendPacket(Packet p)
1336846575488: Sending UDP payload: 446
1336846575537: Received UDP payload: 642
1336846575538: mux: Inside mux Packet.CLIENT_REQUEST
1336846575583: Received UDP payload: 1006
1336846575585: forwarding disabled, not forwarding packets
1336846575585: mux: GOT CSM_Msg
1336846575598: Received UDP payload: 446
1336846575600: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846575600: mux: Inside Packet.SERVER_REPLY
1336846575655: Received UDP payload: 3777
1336846575657: mux: GOT CSM_Msg
1336846575658: forwarding disabled, not forwarding packets
1336846575700: Received UDP payload: 3430
1336846575702: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846575702: mux: Inside Packet.SERVER_REPLY
1336846575739: Received UDP payload: 446
1336846575740: mux: Inside mux Packet.CLIENT_REQUEST
1336846575852: Received UDP payload: 446
1336846576280: Received UDP payload: 446
1336846577000: Received UDP payload: 446
1336846578834: Received UDP payload: 1006
1336846578844: forwarding disabled, not forwarding packets
1336846578844: mux: GOT CSM_Msg
1336846578891: Received UDP payload: 1006
1336846578897: forwarding disabled, not forwarding packets
1336846578897: mux: GOT CSM_Msg
1336846579003: Received UDP payload: 3777
1336846579007: forwarding disabled, not forwarding packets
1336846579007: mux: GOT CSM_Msg
1336846579290: Received UDP payload: 446
1336846579544: Received UDP payload: 1006
1336846579552: mux: GOT CSM_Msg
1336846579553: forwarding disabled, not forwarding packets
1336846579624: Received UDP payload: 3777
1336846579630: mux: GOT CSM_Msg
1336846579631: forwarding disabled, not forwarding packets
1336846580156: Received UDP payload: 446
1336846580492: inside sendPacket(Packet p)
1336846580494: Sending UDP payload: 446
1336846580861: Received UDP payload: 446
1336846581290: Received UDP payload: 446
1336846582036: Received UDP payload: 446
1336846583518: Received UDP payload: 642
1336846583525: mux: Inside mux Packet.CLIENT_REQUEST
1336846583564: Received UDP payload: 1006
1336846583574: forwarding disabled, not forwarding packets
1336846583574: mux: GOT CSM_Msg
1336846583592: Received UDP payload: 446
1336846583593: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846583593: mux: Inside Packet.SERVER_REPLY
1336846583637: Received UDP payload: 3777
1336846583640: forwarding disabled, not forwarding packets
1336846583640: mux: GOT CSM_Msg
1336846583677: Received UDP payload: 3430
1336846583679: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846583679: mux: Inside Packet.SERVER_REPLY
1336846583690: Received UDP payload: 446
1336846583692: mux: Inside mux Packet.CLIENT_REQUEST
1336846584206: Received UDP payload: 446
1336846584436: areButtonsEnabled --> false
1336846584436: areButtonsEnabled --> false 
1336846584436: canPressButton = TRUE
1336846584436: get picture disableButtonsR
1336846584482: one more getNum: 12
1336846584483: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846584483: change local requestCounter to 27
1336846584483: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=11 getBad=0 getTimedout=0 getPercent=91%
1336846584484: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010027 Client in region: 4 Client nodID: 5010
1336846584539: ----------------------------
1336846584539: I'm a leader, my requesting photos packet going to mux directly
1336846584539: inside sendRequestPacketRepeatingRunnable for requestCount = 5010027
1336846584540: inside handleClientRequest. Originator leader of region 4
1336846584540: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846584540: mux: Inside mux Packet.CLIENT_REQUEST
1336846584541: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846584541: got new request, requestCounter = 5010027
1336846584542: Sending PROC_REQUEST 11:2 (4,0)->(5,0)
1336846584542: Sending to region: 5
1336846584543: Dispatching Atom PROC_REQUEST 11:2 (4,0)->(5,0)
1336846584543: Make FirstLeg Ack regardless of new or already-processed requests
1336846584543: Note down new request by adding requestCounter=5010027 to HashMap processedRequests
1336846584543: mux: I got a CSM packet at a leader 
1336846584543: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846584544: Sending UDP payload: 1006
1336846584548: --- Finished one round of sending REQUEST Packet ---------
1336846584548: forwarding disabled, not forwarding packets
1336846584582: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846584665: Received UDP payload: 3777
1336846584670: DSM layer: Going to and from remote region took latency = 128
1336846584670: DSM layer: orig leader sent packet at 1336846584542 ~ received reply from remote leader at 1336846584670
1336846584670: Received PROC_REPLY 11:2 (5,0)->(4,0), handing to UserApp
1336846584670: inside handleDSMReply. Now back in originator leader of region 4
1336846584670: mux: GOT CSM_Msg
1336846584671: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846584671: inside sendReplies of replyCount = 501002700
1336846584671: leader client reply has replyCounter: 501002700
1336846584671: reply packet contains the newest photo/success info from the remote region
1336846584672: === Finished one round of sending REPLY Packet =======
1336846584672: =======================
1336846584672: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846584672: Leader about to send REPLY packet, number: 501002700 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846584672: inside sendReplyRepeatingRunnable for replyCount = 501002700
1336846584681: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846584681: disabling progressdialog due to successful new photo get
1336846584682: Inside _enableButtons
1336846584682: areButtonsEnabled --> true
1336846584682: inside finalLegAck: change requestCounter to 28
1336846584682: send final leg ack regardless of new or already-processed reply
1336846584683: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010028 Client in region: (4,0) Client nodID: 5010
1336846584683: I'm a leader client, my final_leg packet going to mux directly
1336846584683: mux: Inside mux Packet.CLIENT_REQUEST
1336846584684: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501002700
1336846584684: Yay the last leg succeeded. Removing reply runnables ...
1336846584684: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501002700
1336846584684: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501002700
1336846584684: do not send ack for received final_leg_ack
1336846584684: got new request, requestCounter = 5010028
1336846584684: inside handleClientRequest. Originator leader of region 4
1336846584684: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846584685: = leader download start 1336846584540 ~ stop 1336846584681
1336846584685: leader download remote photo latency = 141
1336846584685: new client_show_remotephoto reply with replyCounter 501002700
1336846584685: note down new reply by adding replyCounter=501002700 to HashMap processedReplies
1336846584686: one more getGood: 12
1336846584687: adding get latency: 141
1336846584687: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846584688: Remote photo's length: 2749
1336846584688: Success! Client getting photo from remote region, showing photo...
1336846584938: Received UDP payload: 1006
1336846584940: mux: GOT CSM_Msg
1336846584941: forwarding disabled, not forwarding packets
1336846584999: Received UDP payload: 3777
1336846585001: forwarding disabled, not forwarding packets
1336846585001: mux: GOT CSM_Msg
1336846585157: Received UDP payload: 446
1336846585497: inside sendPacket(Packet p)
1336846585498: Sending UDP payload: 446
1336846585863: Received UDP payload: 446
1336846586301: Received UDP payload: 446
1336846587020: Received UDP payload: 446
1336846589207: Received UDP payload: 446
1336846590168: Received UDP payload: 446
1336846590181: Received UDP payload: 642
1336846590186: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846590186: mux: Inside mux Packet.CLIENT_REQUEST
1336846590187: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846590187: got new request, requestCounter = 5009027
1336846590187: inside handleClientRequest. Originator leader of region 4
1336846590199: Sending to region: 5
1336846590200: Sending PROC_REQUEST 11:3 (4,0)->(5,0)
1336846590201: Dispatching Atom PROC_REQUEST 11:3 (4,0)->(5,0)
1336846590202: Make FirstLeg Ack regardless of new or already-processed requests
1336846590202: Note down new request by adding requestCounter=5009027 to HashMap processedRequests
1336846590202: The leader sending a First Leg ack to originator client (which id = 5009)
1336846590203: inside sendPacket(Packet p)
1336846590203: mux: I got a CSM packet at a leader 
1336846590208: Sending UDP payload: 1006
1336846590221: forwarding disabled, not forwarding packets
1336846590222: Sending UDP payload: 446
1336846590273: Received UDP payload: 3777
1336846590275: DSM layer: Going to and from remote region took latency = 75
1336846590275: DSM layer: orig leader sent packet at 1336846590200 ~ received reply from remote leader at 1336846590275
1336846590275: Received PROC_REPLY 11:3 (5,0)->(4,0), handing to UserApp
1336846590275: inside handleDSMReply. Now back in originator leader of region 4
1336846590275: mux: GOT CSM_Msg
1336846590276: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846590276: leader client reply has replyCounter: 500902700
1336846590276: reply packet contains the newest photo/success info from the remote region
1336846590277: =======================
1336846590277: Leader about to send REPLY packet, number: 500902700 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846590277: inside sendReplies of replyCount = 500902700
1336846590277: inside sendReplyRepeatingRunnable for replyCount = 500902700
1336846590278: === Finished one round of sending REPLY Packet =======
1336846590278: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846590278: inside sendPacket(Packet p)
1336846590279: Sending UDP payload: 3430
1336846590362: Received UDP payload: 446
1336846590364: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500902700
1336846590364: Yay the last leg succeeded. Removing reply runnables ...
1336846590364: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500902700
1336846590364: got new request, requestCounter = 5009028
1336846590364: inside handleClientRequest. Originator leader of region 4
1336846590364: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846590364: mux: Inside mux Packet.CLIENT_REQUEST
1336846590365: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500902700
1336846590365: do not send ack for received final_leg_ack
1336846590498: inside sendPacket(Packet p)
1336846590499: Sending UDP payload: 446
1336846590875: Received UDP payload: 446
1336846592034: Received UDP payload: 446
1336846594209: Received UDP payload: 446
1336846595162: Received UDP payload: 446
1336846595499: inside sendPacket(Packet p)
1336846595502: Sending UDP payload: 446
1336846595936: Received UDP payload: 446
1336846596314: Received UDP payload: 446
1336846597067: Received UDP payload: 446
1336846599258: Received UDP payload: 446
1336846600182: Received UDP payload: 446
1336846600501: inside sendPacket(Packet p)
1336846600512: Sending UDP payload: 446
1336846600885: Received UDP payload: 446
1336846601324: Received UDP payload: 446
1336846602027: Received UDP payload: 446
1336846604213: Received UDP payload: 446
1336846605186: Received UDP payload: 446
1336846605516: inside sendPacket(Packet p)
1336846605530: Sending UDP payload: 446
1336846605893: Received UDP payload: 446
1336846606403: Received UDP payload: 446
1336846609240: Received UDP payload: 446
1336846610099: Received UDP payload: 3776
1336846610111: forwarding disabled, not forwarding packets
1336846610111: mux: GOT CSM_Msg
1336846610130: Received UDP payload: 1006
1336846610137: forwarding disabled, not forwarding packets
1336846610137: mux: GOT CSM_Msg
1336846610166: Received UDP payload: 446
1336846610249: Received UDP payload: 3474
1336846610251: mux: Inside mux Packet.CLIENT_REQUEST
1336846610312: Received UDP payload: 3474
1336846610314: mux: Inside mux Packet.CLIENT_REQUEST
1336846610318: Received UDP payload: 3838
1336846610322: forwarding disabled, not forwarding packets
1336846610322: mux: GOT CSM_Msg
1336846610325: Received UDP payload: 446
1336846610327: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846610327: mux: Inside Packet.SERVER_REPLY
1336846610381: Received UDP payload: 1006
1336846610385: forwarding disabled, not forwarding packets
1336846610385: mux: GOT CSM_Msg
1336846610398: Received UDP payload: 659
1336846610401: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846610401: mux: Inside Packet.SERVER_REPLY
1336846610407: Received UDP payload: 446
1336846610409: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846610409: mux: Inside Packet.SERVER_REPLY
1336846610414: Received UDP payload: 446
1336846610416: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846610416: mux: Inside Packet.SERVER_REPLY
1336846610431: Received UDP payload: 446
1336846610434: mux: Inside mux Packet.CLIENT_REQUEST
1336846610516: inside sendPacket(Packet p)
1336846610518: Sending UDP payload: 446
1336846610897: Received UDP payload: 446
1336846611331: Received UDP payload: 446
1336846612035: Received UDP payload: 446
1336846612959: Received UDP payload: 3412
1336846612963: mux: Inside mux Packet.CLIENT_REQUEST
1336846613055: Received UDP payload: 3776
1336846613063: forwarding disabled, not forwarding packets
1336846613063: mux: GOT CSM_Msg
1336846613064: Received UDP payload: 446
1336846613067: mux: Inside Packet.SERVER_REPLY
1336846613068: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846613078: Received UDP payload: 1006
1336846613091: mux: GOT CSM_Msg
1336846613092: Received UDP payload: 659
1336846613092: forwarding disabled, not forwarding packets
1336846613097: mux: Inside Packet.SERVER_REPLY
1336846613098: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846613109: Received UDP payload: 446
1336846613113: mux: Inside mux Packet.CLIENT_REQUEST
1336846614208: Received UDP payload: 446
1336846615167: Received UDP payload: 446
1336846615518: inside sendPacket(Packet p)
1336846615521: Sending UDP payload: 446
1336846615899: Received UDP payload: 446
1336846616339: Received UDP payload: 446
1336846616423: Received UDP payload: 3748
1336846616435: forwarding disabled, not forwarding packets
1336846616435: mux: GOT CSM_Msg
1336846616447: Received UDP payload: 1006
1336846616454: forwarding disabled, not forwarding packets
1336846616454: mux: GOT CSM_Msg
1336846617028: Received UDP payload: 446
1336846619218: Received UDP payload: 446
1336846620213: Received UDP payload: 446
1336846620519: inside sendPacket(Packet p)
1336846620522: Sending UDP payload: 446
1336846620905: Received UDP payload: 446
1336846621623: Received UDP payload: 446
1336846622040: Received UDP payload: 446
1336846624303: Received UDP payload: 446
1336846625172: Received UDP payload: 446
1336846625520: inside sendPacket(Packet p)
1336846625531: Sending UDP payload: 446
1336846625933: Received UDP payload: 446
1336846626415: Received UDP payload: 3734
1336846626424: forwarding disabled, not forwarding packets
1336846626424: mux: GOT CSM_Msg
1336846626432: Received UDP payload: 1006
1336846626448: forwarding disabled, not forwarding packets
1336846626448: mux: GOT CSM_Msg
1336846626647: Received UDP payload: 446
1336846626752: Received UDP payload: 3778
1336846626759: forwarding disabled, not forwarding packets
1336846626759: mux: GOT CSM_Msg
1336846626769: Received UDP payload: 1006
1336846626776: forwarding disabled, not forwarding packets
1336846626776: mux: GOT CSM_Msg
1336846627052: Received UDP payload: 446
1336846629233: Received UDP payload: 446
1336846629820: areButtonsEnabled --> false
1336846629820: canPressButton = TRUE
1336846629821: areButtonsEnabled --> false
1336846629821: disabling buttons ...
1336846629821: took picture disableButtonsR
1336846629869: one more takeNum: 3
1336846629870: Clicked take picture button ..
1336846629870: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846630198: Received UDP payload: 446
1336846630533: inside sendPacket(Packet p)
1336846630534: Sending UDP payload: 446
1336846630941: Received UDP payload: 446
1336846631251: inside HandlePictureStorage onPictureTaken()
1336846631251: one more takeCamGood: 3
1336846631252: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846631631: Received UDP payload: 446
1336846631739: Picture successfully taken, ORIG BYTE LENGTH = 2388908
1336846632112: Our new height x width: 306 x 408
1336846632113: Show photo from handle my camera take
1336846632114: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846632114: change local requestCounter to 29
1336846632144: BYTE SIZE AFTER COMPRESSION: 2763
1336846632146: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5010029 Client in region: 4 Client nodID: 5010
1336846632190: ----------------------------
1336846632190: inside sendRequestPacketRepeatingRunnable for requestCount = 5010029
1336846632191: I'm a leader, my requesting photos packet going to mux directly
1336846632191: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846632191: got new request, requestCounter = 5010029
1336846632191: inside handleClientRequest. Originator leader of region 4
1336846632191: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846632191: mux: Inside mux Packet.CLIENT_REQUEST
1336846632192: Dispatching Atom PROC_REQUEST 10:8 (4,0)->(4,0)
1336846632192: Make FirstLeg Ack regardless of new or already-processed requests
1336846632192: Note down new request by adding requestCounter=5010029 to HashMap processedRequests
1336846632192: Sending PROC_REQUEST 10:8 (4,0)->(4,0)
1336846632192: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846632193: mux: I got a CSM packet at a leader 
1336846632194: Sending UDP payload: 3791
1336846632196: inside handleDSMRequest. At requests's remote leader of region 4
1336846632196: removed replies before id 8 from sentReplies of size 0
1336846632197: Inside UPLOAD_PHOTO!!
1336846632198: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846632198: my_gpinfo.isSuccess is now (should be true): true
1336846632199: --- Finished one round of sending REQUEST Packet ---------
1336846632208: Dispatching Atom PROC_REPLY 10:8 (4,0)->(4,0)
1336846632208: Received PROC_REQUEST 10:8 (4,0)->(4,0), replying PROC_REPLY 10:8 (4,0)->(4,0)
1336846632209: mux: I got a CSM packet at a leader 
1336846632210: Sending UDP payload: 1006
1336846632212: DSM layer: Going to and from remote region took latency = 21
1336846632212: DSM layer: orig leader sent packet at 1336846632191 ~ received reply from remote leader at 1336846632212
1336846632212: Received PROC_REPLY 10:8 (4,0)->(4,0), handing to UserApp
1336846632212: inside handleDSMReply. Now back in originator leader of region 4
1336846632213: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846632213: leader client reply has replyCounter: 501002900
1336846632214: =======================
1336846632214: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846632214: Leader about to send REPLY packet, number: 501002900 type: 16 Leader in region: (4,0) to Client nodID: 5010
1336846632214: inside sendReplies of replyCount = 501002900
1336846632214: inside sendReplyRepeatingRunnable for replyCount = 501002900
1336846632214: reply packet contains the success info for UPLOAD_PHOTO
1336846632215: === Finished one round of sending REPLY Packet =======
1336846632226: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846632227: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846632228: I'm a leader and I successfully saved my client's new photo
1336846632228: now showing in UI the new photo I just saved ... 
1336846632228: the photo length: 2763
1336846632265: end of server show photo aside %%%%%%%%%
1336846632269: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846632269: Inside _enableButtons
1336846632269: areButtonsEnabled --> true
1336846632269: disabling progressdialog due to successful new photo upload
1336846632270: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010030 Client in region: (4,0) Client nodID: 5010
1336846632270: I'm a leader client, my final_leg packet going to mux directly
1336846632270: inside finalLegAck: change requestCounter to 30
1336846632270: send final leg ack regardless of new or already-processed reply
1336846632271: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501002900
1336846632271: Yay the last leg succeeded. Removing reply runnables ...
1336846632271: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501002900
1336846632271: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501002900
1336846632271: got new request, requestCounter = 5010030
1336846632271: inside handleClientRequest. Originator leader of region 4
1336846632271: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846632271: mux: Inside mux Packet.CLIENT_REQUEST
1336846632272: do not send ack for received final_leg_ack
1336846632272: leader upload new photo latency = 78
1336846632272: new client_upload_photo_ack reply with replyCounter 501002900
1336846632272: note down new reply by adding replyCounter=501002900 to HashMap processedReplies
1336846632273: = leader upload start 1336846632191 ~ stop 1336846632269
1336846632273: one more takeGoodSave: 3
1336846632274: adding take latency: 78
1336846632274: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=12 getBad=0 getTimedout=0 getPercent=100%
1336846632275: SUCCESS Client now knows saving photo on its leader succeeded
1336846632414: Received UDP payload: 446
1336846633359: Received UDP payload: 3370
1336846633364: mux: Inside mux Packet.CLIENT_REQUEST
1336846633458: Received UDP payload: 3734
1336846633466: forwarding disabled, not forwarding packets
1336846633466: mux: GOT CSM_Msg
1336846633469: Received UDP payload: 446
1336846633473: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846633473: mux: Inside Packet.SERVER_REPLY
1336846633475: Received UDP payload: 1006
1336846633495: forwarding disabled, not forwarding packets
1336846633495: mux: GOT CSM_Msg
1336846633496: Received UDP payload: 659
1336846633501: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846633501: mux: Inside Packet.SERVER_REPLY
1336846633515: Received UDP payload: 446
1336846633519: mux: Inside mux Packet.CLIENT_REQUEST
1336846634231: Received UDP payload: 3447
1336846634236: inside handleClientRequest. Originator leader of region 4
1336846634236: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846634236: mux: Inside mux Packet.CLIENT_REQUEST
1336846634237: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846634237: got new request, requestCounter = 5009029
1336846634238: Sending PROC_REQUEST 10:9 (4,0)->(4,0)
1336846634242: Dispatching Atom PROC_REQUEST 10:9 (4,0)->(4,0)
1336846634244: Received UDP payload: 446
1336846634246: Note down new request by adding requestCounter=5009029 to HashMap processedRequests
1336846634247: Make FirstLeg Ack regardless of new or already-processed requests
1336846634247: The leader sending a First Leg ack to originator client (which id = 5009)
1336846634247: inside sendPacket(Packet p)
1336846634248: mux: I got a CSM packet at a leader 
1336846634265: Sending UDP payload: 3811
1336846634268: inside handleDSMRequest. At requests's remote leader of region 4
1336846634268: removed replies before id 9 from sentReplies of size 0
1336846634272: Inside UPLOAD_PHOTO!!
1336846634287: my_gpinfo.isSuccess is now (should be true): true
1336846634288: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846634293: Received PROC_REQUEST 10:9 (4,0)->(4,0), replying PROC_REPLY 10:9 (4,0)->(4,0)
1336846634294: Dispatching Atom PROC_REPLY 10:9 (4,0)->(4,0)
1336846634296: Sending UDP payload: 446
1336846634313: mux: I got a CSM packet at a leader 
1336846634314: Sending UDP payload: 1006
1336846634315: DSM layer: Going to and from remote region took latency = 77
1336846634315: DSM layer: orig leader sent packet at 1336846634238 ~ received reply from remote leader at 1336846634315
1336846634315: Received PROC_REPLY 10:9 (4,0)->(4,0), handing to UserApp
1336846634315: inside handleDSMReply. Now back in originator leader of region 4
1336846634316: =======================
1336846634316: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846634316: inside sendReplies of replyCount = 500902900
1336846634316: leader client reply has replyCounter: 500902900
1336846634316: reply packet contains the success info for UPLOAD_PHOTO
1336846634317: === Finished one round of sending REPLY Packet =======
1336846634317: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846634317: Leader about to send REPLY packet, number: 500902900 type: 16 Leader in region: (4,0) to Client nodID: 5009
1336846634317: inside sendPacket(Packet p)
1336846634317: inside sendReplyRepeatingRunnable for replyCount = 500902900
1336846634318: Sending UDP payload: 659
1336846634321: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846634322: I'm a leader and I successfully saved my client's new photo
1336846634323: now showing in UI the new photo I just saved ... 
1336846634323: the photo length: 2783
1336846634357: end of server show photo aside %%%%%%%%%
1336846634358: Received UDP payload: 446
1336846634360: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500902900
1336846634360: Yay the last leg succeeded. Removing reply runnables ...
1336846634360: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500902900
1336846634360: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500902900
1336846634360: got new request, requestCounter = 5009030
1336846634360: inside handleClientRequest. Originator leader of region 4
1336846634360: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846634360: mux: Inside mux Packet.CLIENT_REQUEST
1336846634361: do not send ack for received final_leg_ack
1336846635183: Received UDP payload: 446
1336846635534: inside sendPacket(Packet p)
1336846635535: Sending UDP payload: 446
1336846636186: Received UDP payload: 3768
1336846636195: forwarding disabled, not forwarding packets
1336846636195: mux: GOT CSM_Msg
1336846636210: Received UDP payload: 1006
1336846636217: mux: GOT CSM_Msg
1336846636218: forwarding disabled, not forwarding packets
1336846636256: Received UDP payload: 446
1336846636664: Received UDP payload: 446
1336846637370: Received UDP payload: 446
1336846639312: Received UDP payload: 446
1336846640175: Received UDP payload: 446
1336846640535: inside sendPacket(Packet p)
1336846640552: Sending UDP payload: 446
1336846641257: Received UDP payload: 446
1336846641653: Received UDP payload: 446
1336846642372: Received UDP payload: 446
1336846644253: Received UDP payload: 446
1336846645556: Received UDP payload: 446
1336846645560: inside sendPacket(Packet p)
1336846645573: Sending UDP payload: 446
1336846646321: Received UDP payload: 446
1336846646725: Received UDP payload: 446
1336846647433: Received UDP payload: 446
1336846649312: Received UDP payload: 446
1336846650557: Received UDP payload: 446
1336846650561: inside sendPacket(Packet p)
1336846650571: Sending UDP payload: 446
1336846651257: Received UDP payload: 446
1336846651672: Received UDP payload: 446
1336846652387: Received UDP payload: 446
1336846652831: leader to cloud hearbeat...
1336846653115: Received UDP payload: 642
1336846653119: mux: Inside mux Packet.CLIENT_REQUEST
1336846653159: Received UDP payload: 1006
1336846653167: forwarding disabled, not forwarding packets
1336846653167: mux: GOT CSM_Msg
1336846653168: Received UDP payload: 446
1336846653176: mux: Inside Packet.SERVER_REPLY
1336846653177: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846653272: Received UDP payload: 3401
1336846653274: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846653274: mux: Inside Packet.SERVER_REPLY
1336846653285: Received UDP payload: 446
1336846653286: mux: Inside mux Packet.CLIENT_REQUEST
1336846654226: Received UDP payload: 1006
1336846654234: forwarding disabled, not forwarding packets
1336846654234: mux: GOT CSM_Msg
1336846654310: Received UDP payload: 3748
1336846654316: mux: GOT CSM_Msg
1336846654317: forwarding disabled, not forwarding packets
1336846654322: Received UDP payload: 446
1336846654612: Received UDP payload: 642
1336846654617: mux: Inside mux Packet.CLIENT_REQUEST
1336846654654: Received UDP payload: 1006
1336846654664: forwarding disabled, not forwarding packets
1336846654664: mux: GOT CSM_Msg
1336846654679: Received UDP payload: 446
1336846654684: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846654684: mux: Inside Packet.SERVER_REPLY
1336846654726: Received UDP payload: 3748
1336846654728: forwarding disabled, not forwarding packets
1336846654728: mux: GOT CSM_Msg
1336846654767: Received UDP payload: 3401
1336846654768: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846654768: mux: Inside Packet.SERVER_REPLY
1336846654781: Received UDP payload: 446
1336846654783: mux: Inside mux Packet.CLIENT_REQUEST
1336846655562: inside sendPacket(Packet p)
1336846655565: Received UDP payload: 446
1336846655566: Sending UDP payload: 446
1336846656301: Received UDP payload: 446
1336846656673: Received UDP payload: 446
1336846657138: Received UDP payload: 1006
1336846657145: forwarding disabled, not forwarding packets
1336846657145: mux: GOT CSM_Msg
1336846657389: Received UDP payload: 446
1336846658547: Received UDP payload: 1006
1336846658555: forwarding disabled, not forwarding packets
1336846658555: mux: GOT CSM_Msg
1336846658633: Received UDP payload: 3748
1336846658640: forwarding disabled, not forwarding packets
1336846658640: mux: GOT CSM_Msg
1336846659272: Received UDP payload: 446
1336846660562: inside sendPacket(Packet p)
1336846660565: Sending UDP payload: 446
1336846660574: Received UDP payload: 446
1336846661349: Received UDP payload: 446
1336846661676: Received UDP payload: 446
1336846662409: Received UDP payload: 446
1336846664318: Received UDP payload: 446
1336846664565: Received UDP payload: 642
1336846664569: mux: Inside mux Packet.CLIENT_REQUEST
1336846664651: Received UDP payload: 1006
1336846664655: forwarding disabled, not forwarding packets
1336846664655: mux: GOT CSM_Msg
1336846664665: Received UDP payload: 446
1336846664667: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846664667: mux: Inside Packet.SERVER_REPLY
1336846664711: Received UDP payload: 3748
1336846664715: forwarding disabled, not forwarding packets
1336846664715: mux: GOT CSM_Msg
1336846664758: Received UDP payload: 3401
1336846664761: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846664761: mux: Inside Packet.SERVER_REPLY
1336846664786: Received UDP payload: 446
1336846664788: mux: Inside mux Packet.CLIENT_REQUEST
1336846665565: inside sendPacket(Packet p)
1336846665568: Sending UDP payload: 446
1336846665581: Received UDP payload: 446
1336846665756: Received UDP payload: 1006
1336846665762: forwarding disabled, not forwarding packets
1336846665762: mux: GOT CSM_Msg
1336846665847: Received UDP payload: 3748
1336846665854: forwarding disabled, not forwarding packets
1336846665854: mux: GOT CSM_Msg
1336846666328: Received UDP payload: 446
1336846666675: Received UDP payload: 446
1336846667428: Received UDP payload: 446
1336846669290: Received UDP payload: 446
1336846669871: Received UDP payload: 1006
1336846669878: mux: GOT CSM_Msg
1336846669879: forwarding disabled, not forwarding packets
1336846669948: Received UDP payload: 3748
1336846669955: forwarding disabled, not forwarding packets
1336846669955: mux: GOT CSM_Msg
1336846670567: inside sendPacket(Packet p)
1336846670570: Sending UDP payload: 446
1336846670582: Received UDP payload: 446
1336846671333: Received UDP payload: 446
1336846671684: Received UDP payload: 446
1336846672451: Received UDP payload: 446
1336846674315: Received UDP payload: 446
1336846675572: inside sendPacket(Packet p)
1336846675574: Sending UDP payload: 446
1336846675590: Received UDP payload: 446
1336846676318: Received UDP payload: 446
1336846676688: Received UDP payload: 446
1336846677455: Received UDP payload: 446
1336846677912: canPressButton = TRUE
1336846677913: areButtonsEnabled --> false
1336846677913: areButtonsEnabled --> false 
1336846677913: get picture disableButtonsR
1336846677951: one more getNum: 13
1336846677952: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846677952: change local requestCounter to 31
1336846677952: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=12 getBad=0 getTimedout=0 getPercent=92%
1336846677953: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010031 Client in region: 4 Client nodID: 5010
1336846678000: ----------------------------
1336846678000: I'm a leader, my requesting photos packet going to mux directly
1336846678000: inside sendRequestPacketRepeatingRunnable for requestCount = 5010031
1336846678000: mux: Inside mux Packet.CLIENT_REQUEST
1336846678001: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846678001: got new request, requestCounter = 5010031
1336846678001: inside handleClientRequest. Originator leader of region 4
1336846678001: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846678002: Dispatching Atom PROC_REQUEST 11:4 (4,0)->(0,0)
1336846678002: Sending PROC_REQUEST 11:4 (4,0)->(0,0)
1336846678002: Sending to region: 0
1336846678003: Make FirstLeg Ack regardless of new or already-processed requests
1336846678003: Note down new request by adding requestCounter=5010031 to HashMap processedRequests
1336846678003: mux: I got a CSM packet at a leader 
1336846678003: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846678005: Sending UDP payload: 1006
1336846678006: forwarding disabled, not forwarding packets
1336846678011: --- Finished one round of sending REQUEST Packet ---------
1336846678050: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846678105: Received UDP payload: 3748
1336846678107: DSM layer: Going to and from remote region took latency = 105
1336846678107: DSM layer: orig leader sent packet at 1336846678002 ~ received reply from remote leader at 1336846678107
1336846678107: Received PROC_REPLY 11:4 (0,0)->(4,0), handing to UserApp
1336846678107: inside handleDSMReply. Now back in originator leader of region 4
1336846678107: mux: GOT CSM_Msg
1336846678108: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846678108: leader client reply has replyCounter: 501003100
1336846678108: reply packet contains the newest photo/success info from the remote region
1336846678109: =======================
1336846678109: inside sendReplies of replyCount = 501003100
1336846678109: inside sendReplyRepeatingRunnable for replyCount = 501003100
1336846678110: === Finished one round of sending REPLY Packet =======
1336846678110: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846678110: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846678110: Leader about to send REPLY packet, number: 501003100 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846678111: Inside _enableButtons
1336846678111: areButtonsEnabled --> true
1336846678111: disabling progressdialog due to successful new photo get
1336846678111: send final leg ack regardless of new or already-processed reply
1336846678112: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010032 Client in region: (4,0) Client nodID: 5010
1336846678112: I'm a leader client, my final_leg packet going to mux directly
1336846678112: inside finalLegAck: change requestCounter to 32
1336846678112: inside handleClientRequest. Originator leader of region 4
1336846678112: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846678112: mux: Inside mux Packet.CLIENT_REQUEST
1336846678113: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501003100
1336846678113: Yay the last leg succeeded. Removing reply runnables ...
1336846678113: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501003100
1336846678113: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501003100
1336846678113: got new request, requestCounter = 5010032
1336846678115: do not send ack for received final_leg_ack
1336846678115: new client_show_remotephoto reply with replyCounter 501003100
1336846678116: = leader download start 1336846678000 ~ stop 1336846678110
1336846678116: leader download remote photo latency = 110
1336846678116: note down new reply by adding replyCounter=501003100 to HashMap processedReplies
1336846678117: one more getGood: 13
1336846678118: adding get latency: 110
1336846678118: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=13 getBad=0 getTimedout=0 getPercent=100%
1336846678120: Remote photo's length: 2720
1336846678120: Success! Client getting photo from remote region, showing photo...
1336846679290: Received UDP payload: 446
1336846680573: inside sendPacket(Packet p)
1336846680581: Sending UDP payload: 446
1336846680598: Received UDP payload: 446
1336846680679: Received UDP payload: 642
1336846680684: inside handleClientRequest. Originator leader of region 4
1336846680684: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846680684: mux: Inside mux Packet.CLIENT_REQUEST
1336846680685: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846680685: got new request, requestCounter = 5009031
1336846680687: Sending to region: 0
1336846680688: Sending PROC_REQUEST 11:5 (4,0)->(0,0)
1336846680691: Dispatching Atom PROC_REQUEST 11:5 (4,0)->(0,0)
1336846680693: Make FirstLeg Ack regardless of new or already-processed requests
1336846680693: Note down new request by adding requestCounter=5009031 to HashMap processedRequests
1336846680694: The leader sending a First Leg ack to originator client (which id = 5009)
1336846680694: inside sendPacket(Packet p)
1336846680695: mux: I got a CSM packet at a leader 
1336846680712: Sending UDP payload: 1006
1336846680713: forwarding disabled, not forwarding packets
1336846680716: Sending UDP payload: 446
1336846680816: Received UDP payload: 3748
1336846680825: mux: GOT CSM_Msg
1336846680826: Received PROC_REPLY 11:5 (0,0)->(4,0), handing to UserApp
1336846680827: DSM layer: Going to and from remote region took latency = 140
1336846680827: inside handleDSMReply. Now back in originator leader of region 4
1336846680828: DSM layer: orig leader sent packet at 1336846680687 ~ received reply from remote leader at 1336846680827
1336846680831: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846680831: leader client reply has replyCounter: 500903100
1336846680832: inside sendReplies of replyCount = 500903100
1336846680832: reply packet contains the newest photo/success info from the remote region
1336846680833: =======================
1336846680833: Leader about to send REPLY packet, number: 500903100 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846680833: inside sendReplyRepeatingRunnable for replyCount = 500903100
1336846680834: === Finished one round of sending REPLY Packet =======
1336846680834: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846680834: inside sendPacket(Packet p)
1336846680849: Sending UDP payload: 3401
1336846680906: Received UDP payload: 446
1336846680908: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500903100
1336846680908: Yay the last leg succeeded. Removing reply runnables ...
1336846680908: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500903100
1336846680908: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500903100
1336846680908: do not send ack for received final_leg_ack
1336846680908: got new request, requestCounter = 5009032
1336846680908: inside handleClientRequest. Originator leader of region 4
1336846680908: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846680908: mux: Inside mux Packet.CLIENT_REQUEST
1336846681313: Received UDP payload: 446
1336846681697: Received UDP payload: 446
1336846682461: Received UDP payload: 446
1336846684344: Received UDP payload: 446
1336846685583: inside sendPacket(Packet p)
1336846685592: Sending UDP payload: 446
1336846685753: Received UDP payload: 446
1336846686371: Received UDP payload: 446
1336846686717: Received UDP payload: 446
1336846687460: Received UDP payload: 446
1336846688522: Received UDP payload: 1006
1336846688529: mux: GOT CSM_Msg
1336846688530: forwarding disabled, not forwarding packets
1336846688561: Received UDP payload: 3776
1336846688569: forwarding disabled, not forwarding packets
1336846688569: mux: GOT CSM_Msg
1336846689363: Received UDP payload: 446
1336846689794: Received UDP payload: 642
1336846689798: mux: Inside mux Packet.CLIENT_REQUEST
1336846689838: Received UDP payload: 1006
1336846689850: forwarding disabled, not forwarding packets
1336846689850: mux: GOT CSM_Msg
1336846689856: Received UDP payload: 446
1336846689861: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846689861: mux: Inside Packet.SERVER_REPLY
1336846689897: Received UDP payload: 3776
1336846689899: forwarding disabled, not forwarding packets
1336846689899: mux: GOT CSM_Msg
1336846689940: Received UDP payload: 3429
1336846689942: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846689942: mux: Inside Packet.SERVER_REPLY
1336846689962: Received UDP payload: 446
1336846689963: mux: Inside mux Packet.CLIENT_REQUEST
1336846690590: inside sendPacket(Packet p)
1336846690594: Sending UDP payload: 446
1336846690623: Received UDP payload: 446
1336846691325: Received UDP payload: 446
1336846691695: Received UDP payload: 446
1336846691702: Received UDP payload: 642
1336846691707: mux: Inside mux Packet.CLIENT_REQUEST
1336846691754: Received UDP payload: 1006
1336846691756: forwarding disabled, not forwarding packets
1336846691756: mux: GOT CSM_Msg
1336846691770: Received UDP payload: 446
1336846691771: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846691771: mux: Inside Packet.SERVER_REPLY
1336846691806: Received UDP payload: 3776
1336846691808: forwarding disabled, not forwarding packets
1336846691808: mux: GOT CSM_Msg
1336846691868: Received UDP payload: 3429
1336846691870: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846691870: mux: Inside Packet.SERVER_REPLY
1336846691880: Received UDP payload: 446
1336846691881: mux: Inside mux Packet.CLIENT_REQUEST
1336846692475: Received UDP payload: 446
1336846694275: Received UDP payload: 1006
1336846694283: mux: GOT CSM_Msg
1336846694284: forwarding disabled, not forwarding packets
1336846694300: Received UDP payload: 446
1336846694362: Received UDP payload: 3776
1336846694364: forwarding disabled, not forwarding packets
1336846694364: mux: GOT CSM_Msg
1336846695596: inside sendPacket(Packet p)
1336846695598: Sending UDP payload: 446
1336846695620: Received UDP payload: 446
1336846696331: Received UDP payload: 446
1336846696702: Received UDP payload: 446
1336846697462: Received UDP payload: 1006
1336846697469: mux: GOT CSM_Msg
1336846697470: forwarding disabled, not forwarding packets
1336846697483: Received UDP payload: 446
1336846697568: Received UDP payload: 3776
1336846697574: mux: GOT CSM_Msg
1336846697575: forwarding disabled, not forwarding packets
1336846699309: Received UDP payload: 446
1336846700598: inside sendPacket(Packet p)
1336846700601: Sending UDP payload: 446
1336846700625: Received UDP payload: 446
1336846701344: Received UDP payload: 446
1336846701757: Received UDP payload: 446
1336846702488: Received UDP payload: 446
1336846702717: Received UDP payload: 642
1336846702722: mux: Inside mux Packet.CLIENT_REQUEST
1336846702760: Received UDP payload: 1006
1336846702766: forwarding disabled, not forwarding packets
1336846702766: mux: GOT CSM_Msg
1336846702769: Received UDP payload: 446
1336846702774: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846702774: mux: Inside Packet.SERVER_REPLY
1336846702836: Received UDP payload: 3776
1336846702839: forwarding disabled, not forwarding packets
1336846702839: mux: GOT CSM_Msg
1336846702882: Received UDP payload: 3429
1336846702887: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846702887: mux: Inside Packet.SERVER_REPLY
1336846702895: Received UDP payload: 446
1336846702897: mux: Inside mux Packet.CLIENT_REQUEST
1336846703070: Received UDP payload: 1006
1336846703073: forwarding disabled, not forwarding packets
1336846703073: mux: GOT CSM_Msg
1336846703126: Received UDP payload: 3776
1336846703128: mux: GOT CSM_Msg
1336846703129: forwarding disabled, not forwarding packets
1336846703787: Received UDP payload: 1006
1336846703794: forwarding disabled, not forwarding packets
1336846703794: mux: GOT CSM_Msg
1336846703868: Received UDP payload: 3776
1336846703874: mux: GOT CSM_Msg
1336846703875: forwarding disabled, not forwarding packets
1336846704309: Received UDP payload: 446
1336846705600: inside sendPacket(Packet p)
1336846705611: Sending UDP payload: 446
1336846705665: Received UDP payload: 446
1336846706350: Received UDP payload: 446
1336846706712: Received UDP payload: 446
1336846707486: Received UDP payload: 446
1336846708917: canPressButton = TRUE
1336846708918: areButtonsEnabled --> false
1336846708918: areButtonsEnabled --> false 
1336846708918: get picture disableButtonsR
1336846708944: one more getNum: 14
1336846708945: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846708945: change local requestCounter to 33
1336846708945: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=13 getBad=0 getTimedout=0 getPercent=92%
1336846708946: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010033 Client in region: 4 Client nodID: 5010
1336846708976: ----------------------------
1336846708977: I'm a leader, my requesting photos packet going to mux directly
1336846708977: inside handleClientRequest. Originator leader of region 4
1336846708977: inside sendRequestPacketRepeatingRunnable for requestCount = 5010033
1336846708977: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846708977: mux: Inside mux Packet.CLIENT_REQUEST
1336846708978: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846708978: Sending to region: 1
1336846708978: got new request, requestCounter = 5010033
1336846708979: Dispatching Atom PROC_REQUEST 11:4 (4,0)->(1,0)
1336846708979: Make FirstLeg Ack regardless of new or already-processed requests
1336846708979: Note down new request by adding requestCounter=5010033 to HashMap processedRequests
1336846708979: Sending PROC_REQUEST 11:4 (4,0)->(1,0)
1336846708979: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846708980: mux: I got a CSM packet at a leader 
1336846708981: Sending UDP payload: 1006
1336846708982: --- Finished one round of sending REQUEST Packet ---------
1336846708982: forwarding disabled, not forwarding packets
1336846709017: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846709082: Received UDP payload: 3776
1336846709084: DSM layer: Going to and from remote region took latency = 106
1336846709084: Received PROC_REPLY 11:4 (1,0)->(4,0), handing to UserApp
1336846709084: inside handleDSMReply. Now back in originator leader of region 4
1336846709084: mux: GOT CSM_Msg
1336846709085: DSM layer: orig leader sent packet at 1336846708978 ~ received reply from remote leader at 1336846709084
1336846709085: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846709085: leader client reply has replyCounter: 501003300
1336846709085: reply packet contains the newest photo/success info from the remote region
1336846709086: === Finished one round of sending REPLY Packet =======
1336846709086: =======================
1336846709086: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846709086: Leader about to send REPLY packet, number: 501003300 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846709086: inside sendReplies of replyCount = 501003300
1336846709086: inside sendReplyRepeatingRunnable for replyCount = 501003300
1336846709088: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846709088: Inside _enableButtons
1336846709088: areButtonsEnabled --> true
1336846709088: disabling progressdialog due to successful new photo get
1336846709088: send final leg ack regardless of new or already-processed reply
1336846709093: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010034 Client in region: (4,0) Client nodID: 5010
1336846709093: inside finalLegAck: change requestCounter to 34
1336846709094: I'm a leader client, my final_leg packet going to mux directly
1336846709094: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501003300
1336846709094: Yay the last leg succeeded. Removing reply runnables ...
1336846709094: got new request, requestCounter = 5010034
1336846709094: inside handleClientRequest. Originator leader of region 4
1336846709094: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846709094: mux: Inside mux Packet.CLIENT_REQUEST
1336846709095: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501003300
1336846709095: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501003300
1336846709095: do not send ack for received final_leg_ack
1336846709095: leader download remote photo latency = 111
1336846709095: new client_show_remotephoto reply with replyCounter 501003300
1336846709095: note down new reply by adding replyCounter=501003300 to HashMap processedReplies
1336846709096: = leader download start 1336846708977 ~ stop 1336846709088
1336846709099: one more getGood: 14
1336846709100: adding get latency: 111
1336846709100: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=14 getBad=0 getTimedout=0 getPercent=100%
1336846709101: Remote photo's length: 2748
1336846709101: Success! Client getting photo from remote region, showing photo...
1336846709308: Received UDP payload: 446
1336846710395: Received UDP payload: 642
1336846710401: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846710401: mux: Inside mux Packet.CLIENT_REQUEST
1336846710402: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846710402: got new request, requestCounter = 5009033
1336846710402: inside handleClientRequest. Originator leader of region 4
1336846710405: Sending to region: 1
1336846710417: Sending PROC_REQUEST 11:5 (4,0)->(1,0)
1336846710418: Dispatching Atom PROC_REQUEST 11:5 (4,0)->(1,0)
1336846710418: Note down new request by adding requestCounter=5009033 to HashMap processedRequests
1336846710419: Make FirstLeg Ack regardless of new or already-processed requests
1336846710420: The leader sending a First Leg ack to originator client (which id = 5009)
1336846710420: inside sendPacket(Packet p)
1336846710421: mux: I got a CSM packet at a leader 
1336846710424: Sending UDP payload: 1006
1336846710439: forwarding disabled, not forwarding packets
1336846710445: Sending UDP payload: 446
1336846710502: Received UDP payload: 3776
1336846710505: DSM layer: Going to and from remote region took latency = 89
1336846710505: DSM layer: orig leader sent packet at 1336846710416 ~ received reply from remote leader at 1336846710505
1336846710505: Received PROC_REPLY 11:5 (1,0)->(4,0), handing to UserApp
1336846710505: inside handleDSMReply. Now back in originator leader of region 4
1336846710505: mux: GOT CSM_Msg
1336846710506: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846710506: inside sendReplies of replyCount = 500903300
1336846710506: leader client reply has replyCounter: 500903300
1336846710506: reply packet contains the newest photo/success info from the remote region
1336846710507: === Finished one round of sending REPLY Packet =======
1336846710507: =======================
1336846710507: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846710507: Leader about to send REPLY packet, number: 500903300 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846710507: inside sendPacket(Packet p)
1336846710507: inside sendReplyRepeatingRunnable for replyCount = 500903300
1336846710508: Sending UDP payload: 3429
1336846710560: Received UDP payload: 446
1336846710561: mux: Inside mux Packet.CLIENT_REQUEST
1336846710562: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500903300
1336846710562: Yay the last leg succeeded. Removing reply runnables ...
1336846710562: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500903300
1336846710562: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500903300
1336846710562: do not send ack for received final_leg_ack
1336846710562: got new request, requestCounter = 5009034
1336846710562: inside handleClientRequest. Originator leader of region 4
1336846710562: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846710614: Sending UDP payload: 446
1336846710614: inside sendPacket(Packet p)
1336846710650: Received UDP payload: 446
1336846711353: Received UDP payload: 446
1336846711712: Received UDP payload: 446
1336846712494: Received UDP payload: 446
1336846714315: Received UDP payload: 446
1336846715615: inside sendPacket(Packet p)
1336846715618: Sending UDP payload: 446
1336846715702: Received UDP payload: 446
1336846716237: Received UDP payload: 1006
1336846716246: forwarding disabled, not forwarding packets
1336846716246: mux: GOT CSM_Msg
1336846716333: Received UDP payload: 3778
1336846716335: forwarding disabled, not forwarding packets
1336846716335: mux: GOT CSM_Msg
1336846716354: Received UDP payload: 446
1336846716713: Received UDP payload: 446
1336846717478: Received UDP payload: 642
1336846717483: mux: Inside mux Packet.CLIENT_REQUEST
1336846717500: Received UDP payload: 446
1336846717522: Received UDP payload: 1006
1336846717532: forwarding disabled, not forwarding packets
1336846717532: mux: GOT CSM_Msg
1336846717539: Received UDP payload: 446
1336846717541: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846717541: mux: Inside Packet.SERVER_REPLY
1336846717679: Received UDP payload: 3431
1336846717680: mux: Inside Packet.SERVER_REPLY
1336846717681: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846717705: Received UDP payload: 446
1336846717706: mux: Inside mux Packet.CLIENT_REQUEST
1336846718908: Received UDP payload: 642
1336846718913: mux: Inside mux Packet.CLIENT_REQUEST
1336846719021: Received UDP payload: 1006
1336846719027: forwarding disabled, not forwarding packets
1336846719027: mux: GOT CSM_Msg
1336846719031: Received UDP payload: 446
1336846719035: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846719035: mux: Inside Packet.SERVER_REPLY
1336846719099: Received UDP payload: 3778
1336846719101: forwarding disabled, not forwarding packets
1336846719101: mux: GOT CSM_Msg
1336846719151: Received UDP payload: 3431
1336846719152: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846719152: mux: Inside Packet.SERVER_REPLY
1336846719163: Received UDP payload: 446
1336846719164: mux: Inside mux Packet.CLIENT_REQUEST
1336846719320: Received UDP payload: 446
1336846720274: Received UDP payload: 1006
1336846720283: forwarding disabled, not forwarding packets
1336846720283: mux: GOT CSM_Msg
1336846720365: Received UDP payload: 3778
1336846720372: forwarding disabled, not forwarding packets
1336846720372: mux: GOT CSM_Msg
1336846720616: inside sendPacket(Packet p)
1336846720619: Sending UDP payload: 446
1336846720666: Received UDP payload: 446
1336846721072: Received UDP payload: 1006
1336846721076: forwarding disabled, not forwarding packets
1336846721076: mux: GOT CSM_Msg
1336846721149: Received UDP payload: 3778
1336846721156: forwarding disabled, not forwarding packets
1336846721156: mux: GOT CSM_Msg
1336846721358: Received UDP payload: 446
1336846721725: Received UDP payload: 446
1336846722518: Received UDP payload: 446
1336846723686: Received UDP payload: 1006
1336846723694: forwarding disabled, not forwarding packets
1336846723694: mux: GOT CSM_Msg
1336846723826: Received UDP payload: 3778
1336846723833: forwarding disabled, not forwarding packets
1336846723833: mux: GOT CSM_Msg
1336846724344: Received UDP payload: 446
1336846725616: inside sendPacket(Packet p)
1336846725626: Sending UDP payload: 446
1336846725678: Received UDP payload: 446
1336846726359: Received UDP payload: 446
1336846726761: Received UDP payload: 446
1336846727558: Received UDP payload: 446
1336846728289: Received UDP payload: 1006
1336846728296: forwarding disabled, not forwarding packets
1336846728296: mux: GOT CSM_Msg
1336846728336: Received UDP payload: 3778
1336846728344: forwarding disabled, not forwarding packets
1336846728344: mux: GOT CSM_Msg
1336846729317: Received UDP payload: 446
1336846729773: Received UDP payload: 642
1336846729777: mux: Inside mux Packet.CLIENT_REQUEST
1336846729830: Received UDP payload: 1006
1336846729836: forwarding disabled, not forwarding packets
1336846729836: mux: GOT CSM_Msg
1336846729842: Received UDP payload: 446
1336846729845: mux: Inside Packet.SERVER_REPLY
1336846729846: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846729898: Received UDP payload: 3778
1336846729900: forwarding disabled, not forwarding packets
1336846729900: mux: GOT CSM_Msg
1336846729947: Received UDP payload: 3431
1336846729948: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846729948: mux: Inside Packet.SERVER_REPLY
1336846729962: Received UDP payload: 446
1336846729964: mux: Inside mux Packet.CLIENT_REQUEST
1336846730627: inside sendPacket(Packet p)
1336846730630: Sending UDP payload: 446
1336846730653: Received UDP payload: 446
1336846730823: Received UDP payload: 1006
1336846730831: mux: GOT CSM_Msg
1336846730832: forwarding disabled, not forwarding packets
1336846730915: Received UDP payload: 3778
1336846730921: mux: GOT CSM_Msg
1336846730922: forwarding disabled, not forwarding packets
1336846731361: Received UDP payload: 446
1336846731755: Received UDP payload: 446
1336846732521: Received UDP payload: 446
1336846733474: areButtonsEnabled --> false
1336846733474: areButtonsEnabled --> false 
1336846733474: canPressButton = TRUE
1336846733474: get picture disableButtonsR
1336846733501: one more getNum: 15
1336846733502: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846733502: change local requestCounter to 35
1336846733502: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=14 getBad=0 getTimedout=0 getPercent=93%
1336846733503: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010035 Client in region: 4 Client nodID: 5010
1336846733533: ----------------------------
1336846733533: inside sendRequestPacketRepeatingRunnable for requestCount = 5010035
1336846733534: I'm a leader, my requesting photos packet going to mux directly
1336846733534: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846733534: got new request, requestCounter = 5010035
1336846733534: inside handleClientRequest. Originator leader of region 4
1336846733534: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846733534: mux: Inside mux Packet.CLIENT_REQUEST
1336846733535: Sending PROC_REQUEST 11:4 (4,0)->(2,0)
1336846733535: Sending to region: 2
1336846733536: Dispatching Atom PROC_REQUEST 11:4 (4,0)->(2,0)
1336846733536: Make FirstLeg Ack regardless of new or already-processed requests
1336846733536: Note down new request by adding requestCounter=5010035 to HashMap processedRequests
1336846733536: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846733537: mux: I got a CSM packet at a leader 
1336846733539: Sending UDP payload: 1006
1336846733540: --- Finished one round of sending REQUEST Packet ---------
1336846733540: forwarding disabled, not forwarding packets
1336846733580: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846733704: Received UDP payload: 3778
1336846733706: Received PROC_REPLY 11:4 (2,0)->(4,0), handing to UserApp
1336846733706: mux: GOT CSM_Msg
1336846733707: DSM layer: Going to and from remote region took latency = 172
1336846733707: DSM layer: orig leader sent packet at 1336846733535 ~ received reply from remote leader at 1336846733707
1336846733707: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846733707: inside handleDSMReply. Now back in originator leader of region 4
1336846733708: =======================
1336846733708: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846733708: Leader about to send REPLY packet, number: 501003500 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846733708: inside sendReplies of replyCount = 501003500
1336846733708: inside sendReplyRepeatingRunnable for replyCount = 501003500
1336846733708: leader client reply has replyCounter: 501003500
1336846733708: reply packet contains the newest photo/success info from the remote region
1336846733709: === Finished one round of sending REPLY Packet =======
1336846733710: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846733710: disabling progressdialog due to successful new photo get
1336846733711: Inside _enableButtons
1336846733711: areButtonsEnabled --> true
1336846733711: inside finalLegAck: change requestCounter to 36
1336846733711: send final leg ack regardless of new or already-processed reply
1336846733712: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010036 Client in region: (4,0) Client nodID: 5010
1336846733712: I'm a leader client, my final_leg packet going to mux directly
1336846733712: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501003500
1336846733712: got new request, requestCounter = 5010036
1336846733712: inside handleClientRequest. Originator leader of region 4
1336846733712: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846733712: mux: Inside mux Packet.CLIENT_REQUEST
1336846733713: Yay the last leg succeeded. Removing reply runnables ...
1336846733713: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501003500
1336846733713: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501003500
1336846733713: do not send ack for received final_leg_ack
1336846733717: leader download remote photo latency = 176
1336846733717: new client_show_remotephoto reply with replyCounter 501003500
1336846733717: note down new reply by adding replyCounter=501003500 to HashMap processedReplies
1336846733718: = leader download start 1336846733534 ~ stop 1336846733710
1336846733720: one more getGood: 15
1336846733720: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=15 getBad=0 getTimedout=0 getPercent=100%
1336846733721: Success! Client getting photo from remote region, showing photo...
1336846733721: adding get latency: 176
1336846733723: Remote photo's length: 2750
1336846734332: Received UDP payload: 446
1336846734882: Received UDP payload: 642
1336846734887: inside handleClientRequest. Originator leader of region 4
1336846734887: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846734887: mux: Inside mux Packet.CLIENT_REQUEST
1336846734888: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846734888: got new request, requestCounter = 5009035
1336846734902: Sending to region: 2
1336846734905: Sending PROC_REQUEST 11:5 (4,0)->(2,0)
1336846734906: Dispatching Atom PROC_REQUEST 11:5 (4,0)->(2,0)
1336846734907: Make FirstLeg Ack regardless of new or already-processed requests
1336846734907: Note down new request by adding requestCounter=5009035 to HashMap processedRequests
1336846734907: The leader sending a First Leg ack to originator client (which id = 5009)
1336846734908: inside sendPacket(Packet p)
1336846734909: mux: I got a CSM packet at a leader 
1336846734923: Sending UDP payload: 1006
1336846734925: forwarding disabled, not forwarding packets
1336846734930: Sending UDP payload: 446
1336846734994: Received UDP payload: 3778
1336846734996: mux: GOT CSM_Msg
1336846734997: DSM layer: Going to and from remote region took latency = 94
1336846734997: DSM layer: orig leader sent packet at 1336846734903 ~ received reply from remote leader at 1336846734997
1336846734997: Received PROC_REPLY 11:5 (2,0)->(4,0), handing to UserApp
1336846734997: inside handleDSMReply. Now back in originator leader of region 4
1336846734998: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846734998: inside sendReplies of replyCount = 500903500
1336846734998: leader client reply has replyCounter: 500903500
1336846734998: reply packet contains the newest photo/success info from the remote region
1336846735007: =======================
1336846735007: Leader about to send REPLY packet, number: 500903500 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846735007: inside sendReplyRepeatingRunnable for replyCount = 500903500
1336846735008: === Finished one round of sending REPLY Packet =======
1336846735008: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846735008: inside sendPacket(Packet p)
1336846735009: Sending UDP payload: 3431
1336846735060: Received UDP payload: 446
1336846735061: inside handleClientRequest. Originator leader of region 4
1336846735061: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846735061: mux: Inside mux Packet.CLIENT_REQUEST
1336846735062: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500903500
1336846735062: Yay the last leg succeeded. Removing reply runnables ...
1336846735062: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500903500
1336846735062: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500903500
1336846735062: do not send ack for received final_leg_ack
1336846735062: got new request, requestCounter = 5009036
1336846735634: inside sendPacket(Packet p)
1336846735637: Sending UDP payload: 446
1336846735710: Received UDP payload: 446
1336846736372: Received UDP payload: 446
1336846736736: Received UDP payload: 446
1336846737525: Received UDP payload: 446
1336846739331: Received UDP payload: 446
1336846740639: inside sendPacket(Packet p)
1336846740652: Sending UDP payload: 446
1336846740671: Received UDP payload: 446
1336846741386: Received UDP payload: 446
1336846742082: Received UDP payload: 446
1336846742528: Received UDP payload: 446
1336846744344: Received UDP payload: 446
1336846745654: inside sendPacket(Packet p)
1336846745657: Sending UDP payload: 446
1336846745682: Received UDP payload: 446
1336846746117: Received UDP payload: 642
1336846746122: mux: Inside mux Packet.CLIENT_REQUEST
1336846746160: Received UDP payload: 1006
1336846746171: forwarding disabled, not forwarding packets
1336846746171: mux: GOT CSM_Msg
1336846746172: Received UDP payload: 446
1336846746189: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846746189: mux: Inside Packet.SERVER_REPLY
1336846746290: Received UDP payload: 3734
1336846746293: forwarding disabled, not forwarding packets
1336846746293: mux: GOT CSM_Msg
1336846746348: Received UDP payload: 3387
1336846746351: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846746351: mux: Inside Packet.SERVER_REPLY
1336846746363: Received UDP payload: 446
1336846746365: mux: Inside mux Packet.CLIENT_REQUEST
1336846746438: Received UDP payload: 446
1336846747092: Received UDP payload: 446
1336846747530: Received UDP payload: 1006
1336846747539: mux: GOT CSM_Msg
1336846747540: forwarding disabled, not forwarding packets
1336846747550: Received UDP payload: 446
1336846747609: Received UDP payload: 3734
1336846747617: forwarding disabled, not forwarding packets
1336846747617: mux: GOT CSM_Msg
1336846749377: Received UDP payload: 446
1336846750242: Received UDP payload: 1006
1336846750244: forwarding disabled, not forwarding packets
1336846750244: mux: GOT CSM_Msg
1336846750332: Received UDP payload: 3734
1336846750336: forwarding disabled, not forwarding packets
1336846750336: mux: GOT CSM_Msg
1336846750655: inside sendPacket(Packet p)
1336846750656: Sending UDP payload: 446
1336846750686: Received UDP payload: 446
1336846751395: Received UDP payload: 446
1336846751829: Received UDP payload: 642
1336846751833: mux: Inside mux Packet.CLIENT_REQUEST
1336846751884: Received UDP payload: 1006
1336846751893: forwarding disabled, not forwarding packets
1336846751893: mux: GOT CSM_Msg
1336846751894: Received UDP payload: 446
1336846751910: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846751910: mux: Inside Packet.SERVER_REPLY
1336846751939: Received UDP payload: 3734
1336846751946: forwarding disabled, not forwarding packets
1336846751946: mux: GOT CSM_Msg
1336846751999: Received UDP payload: 3387
1336846752000: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846752000: mux: Inside Packet.SERVER_REPLY
1336846752016: Received UDP payload: 446
1336846752019: mux: Inside mux Packet.CLIENT_REQUEST
1336846752086: Received UDP payload: 446
1336846752828: Received UDP payload: 446
1336846754361: Received UDP payload: 446
1336846755528: Received UDP payload: 1006
1336846755535: forwarding disabled, not forwarding packets
1336846755535: mux: GOT CSM_Msg
1336846755641: Received UDP payload: 3734
1336846755643: forwarding disabled, not forwarding packets
1336846755643: mux: GOT CSM_Msg
1336846755656: Sending UDP payload: 446
1336846755656: inside sendPacket(Packet p)
1336846755696: Received UDP payload: 446
1336846756531: Received UDP payload: 1006
1336846756534: forwarding disabled, not forwarding packets
1336846756534: mux: GOT CSM_Msg
1336846756574: Received UDP payload: 3734
1336846756577: forwarding disabled, not forwarding packets
1336846756577: mux: GOT CSM_Msg
1336846756786: Received UDP payload: 446
1336846757094: Received UDP payload: 446
1336846757871: Received UDP payload: 446
1336846759355: Received UDP payload: 446
1336846760656: inside sendPacket(Packet p)
1336846760671: Sending UDP payload: 446
1336846760690: Received UDP payload: 446
1336846761796: Received UDP payload: 446
1336846762090: Received UDP payload: 446
1336846762594: areButtonsEnabled --> false
1336846762594: areButtonsEnabled --> false 
1336846762594: canPressButton = TRUE
1336846762594: get picture disableButtonsR
1336846762620: one more getNum: 16
1336846762621: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846762621: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=15 getBad=0 getTimedout=0 getPercent=93%
1336846762622: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010037 Client in region: 4 Client nodID: 5010
1336846762622: change local requestCounter to 37
1336846762653: ----------------------------
1336846762654: I'm a leader, my requesting photos packet going to mux directly
1336846762654: inside handleClientRequest. Originator leader of region 4
1336846762654: inside sendRequestPacketRepeatingRunnable for requestCount = 5010037
1336846762654: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846762654: mux: Inside mux Packet.CLIENT_REQUEST
1336846762655: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846762655: Sending to region: 3
1336846762655: got new request, requestCounter = 5010037
1336846762656: Dispatching Atom PROC_REQUEST 11:4 (4,0)->(3,0)
1336846762656: Make FirstLeg Ack regardless of new or already-processed requests
1336846762656: Note down new request by adding requestCounter=5010037 to HashMap processedRequests
1336846762656: Sending PROC_REQUEST 11:4 (4,0)->(3,0)
1336846762656: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846762657: mux: I got a CSM packet at a leader 
1336846762659: Sending UDP payload: 1006
1336846762660: --- Finished one round of sending REQUEST Packet ---------
1336846762660: forwarding disabled, not forwarding packets
1336846762699: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846762769: Received UDP payload: 3734
1336846762771: DSM layer: Going to and from remote region took latency = 116
1336846762771: DSM layer: orig leader sent packet at 1336846762655 ~ received reply from remote leader at 1336846762771
1336846762771: Received PROC_REPLY 11:4 (3,0)->(4,0), handing to UserApp
1336846762771: inside handleDSMReply. Now back in originator leader of region 4
1336846762771: mux: GOT CSM_Msg
1336846762772: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846762772: inside sendReplies of replyCount = 501003700
1336846762772: leader client reply has replyCounter: 501003700
1336846762772: reply packet contains the newest photo/success info from the remote region
1336846762773: === Finished one round of sending REPLY Packet =======
1336846762773: =======================
1336846762773: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846762773: Leader about to send REPLY packet, number: 501003700 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846762773: inside sendReplyRepeatingRunnable for replyCount = 501003700
1336846762786: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846762786: Inside _enableButtons
1336846762786: disabling progressdialog due to successful new photo get
1336846762787: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010038 Client in region: (4,0) Client nodID: 5010
1336846762787: areButtonsEnabled --> true
1336846762787: inside finalLegAck: change requestCounter to 38
1336846762787: send final leg ack regardless of new or already-processed reply
1336846762788: I'm a leader client, my final_leg packet going to mux directly
1336846762788: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501003700
1336846762788: Yay the last leg succeeded. Removing reply runnables ...
1336846762788: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501003700
1336846762788: got new request, requestCounter = 5010038
1336846762788: inside handleClientRequest. Originator leader of region 4
1336846762788: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846762788: mux: Inside mux Packet.CLIENT_REQUEST
1336846762789: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501003700
1336846762789: do not send ack for received final_leg_ack
1336846762789: new client_show_remotephoto reply with replyCounter 501003700
1336846762793: note down new reply by adding replyCounter=501003700 to HashMap processedReplies
1336846762794: = leader download start 1336846762654 ~ stop 1336846762786
1336846762794: leader download remote photo latency = 132
1336846762795: one more getGood: 16
1336846762796: adding get latency: 132
1336846762796: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=16 getBad=0 getTimedout=0 getPercent=100%
1336846762797: Remote photo's length: 2706
1336846762797: Success! Client getting photo from remote region, showing photo...
1336846762842: Received UDP payload: 446
1336846763950: Received UDP payload: 642
1336846763954: mux: Inside mux Packet.CLIENT_REQUEST
1336846763955: inside handleClientRequest. Originator leader of region 4
1336846763955: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846763956: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846763956: got new request, requestCounter = 5009037
1336846763958: Sending to region: 3
1336846763960: Sending PROC_REQUEST 11:5 (4,0)->(3,0)
1336846763962: Dispatching Atom PROC_REQUEST 11:5 (4,0)->(3,0)
1336846763962: Make FirstLeg Ack regardless of new or already-processed requests
1336846763962: Note down new request by adding requestCounter=5009037 to HashMap processedRequests
1336846763963: The leader sending a First Leg ack to originator client (which id = 5009)
1336846763963: inside sendPacket(Packet p)
1336846763964: mux: I got a CSM packet at a leader 
1336846763981: Sending UDP payload: 1006
1336846763983: forwarding disabled, not forwarding packets
1336846763986: Sending UDP payload: 446
1336846764055: Received UDP payload: 3734
1336846764057: DSM layer: Going to and from remote region took latency = 99
1336846764057: DSM layer: orig leader sent packet at 1336846763958 ~ received reply from remote leader at 1336846764057
1336846764057: Received PROC_REPLY 11:5 (3,0)->(4,0), handing to UserApp
1336846764057: inside handleDSMReply. Now back in originator leader of region 4
1336846764057: mux: GOT CSM_Msg
1336846764058: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846764058: inside sendReplies of replyCount = 500903700
1336846764058: leader client reply has replyCounter: 500903700
1336846764058: reply packet contains the newest photo/success info from the remote region
1336846764059: === Finished one round of sending REPLY Packet =======
1336846764059: =======================
1336846764059: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846764059: Leader about to send REPLY packet, number: 500903700 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846764059: inside sendPacket(Packet p)
1336846764059: inside sendReplyRepeatingRunnable for replyCount = 500903700
1336846764061: Sending UDP payload: 3387
1336846764113: Received UDP payload: 446
1336846764114: got new request, requestCounter = 5009038
1336846764114: inside handleClientRequest. Originator leader of region 4
1336846764114: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846764114: mux: Inside mux Packet.CLIENT_REQUEST
1336846764115: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500903700
1336846764115: Yay the last leg succeeded. Removing reply runnables ...
1336846764115: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500903700
1336846764115: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500903700
1336846764115: do not send ack for received final_leg_ack
1336846764355: Received UDP payload: 446
1336846765673: inside sendPacket(Packet p)
1336846765682: Sending UDP payload: 446
1336846765812: Received UDP payload: 642
1336846765817: mux: Inside mux Packet.CLIENT_REQUEST
1336846765871: Received UDP payload: 1006
1336846765878: forwarding disabled, not forwarding packets
1336846765878: mux: GOT CSM_Msg
1336846765886: Received UDP payload: 446
1336846765891: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846765891: mux: Inside Packet.SERVER_REPLY
1336846765933: Received UDP payload: 3734
1336846765935: forwarding disabled, not forwarding packets
1336846765935: mux: GOT CSM_Msg
1336846765961: Received UDP payload: 446
1336846766004: Received UDP payload: 3387
1336846766006: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846766006: mux: Inside Packet.SERVER_REPLY
1336846766016: Received UDP payload: 446
1336846766018: mux: Inside mux Packet.CLIENT_REQUEST
1336846766801: Received UDP payload: 446
1336846767091: Received UDP payload: 446
1336846767833: Received UDP payload: 446
1336846769353: Received UDP payload: 446
1336846769520: Received UDP payload: 1006
1336846769528: forwarding disabled, not forwarding packets
1336846769528: mux: GOT CSM_Msg
1336846769611: Received UDP payload: 3734
1336846769618: forwarding disabled, not forwarding packets
1336846769618: mux: GOT CSM_Msg
1336846770684: inside sendPacket(Packet p)
1336846770693: Sending UDP payload: 446
1336846771016: Received UDP payload: 446
1336846771813: Received UDP payload: 446
1336846772094: Received UDP payload: 446
1336846772838: Received UDP payload: 446
1336846773246: leader to cloud hearbeat...
1336846774356: Received UDP payload: 446
1336846775695: inside sendPacket(Packet p)
1336846775697: Sending UDP payload: 446
1336846775986: Received UDP payload: 446
1336846776904: Received UDP payload: 446
1336846777108: Received UDP payload: 446
1336846777906: Received UDP payload: 446
1336846779381: Received UDP payload: 446
1336846780411: Received UDP payload: 642
1336846780415: mux: Inside mux Packet.CLIENT_REQUEST
1336846780452: Received UDP payload: 1006
1336846780461: mux: GOT CSM_Msg
1336846780461: removed replies before id 4 from sentReplies of size 0
1336846780462: inside handleDSMRequest. At requests's remote leader of region 4
1336846780463: INSIDE SERVER_GET_PHOTO!!!
1336846780468: Received PROC_REQUEST 11:4 (0,0)->(4,0), replying PROC_REPLY 11:4 (4,0)->(0,0)
1336846780481: Dispatching Atom PROC_REPLY 11:4 (4,0)->(0,0)
1336846780481: Received UDP payload: 446
1336846780481: mux: I got a CSM packet at a leader 
1336846780482: Sending UDP payload: 3811
1336846780483: forwarding disabled, not forwarding packets
1336846780489: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846780489: mux: Inside Packet.SERVER_REPLY
1336846780585: Received UDP payload: 3464
1336846780587: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846780587: mux: Inside Packet.SERVER_REPLY
1336846780606: Received UDP payload: 446
1336846780607: mux: Inside mux Packet.CLIENT_REQUEST
1336846780695: inside sendPacket(Packet p)
1336846780696: Sending UDP payload: 446
1336846780965: Received UDP payload: 446
1336846781842: Received UDP payload: 446
1336846782115: Received UDP payload: 446
1336846782405: Received UDP payload: 1006
1336846782413: mux: GOT CSM_Msg
1336846782413: removed replies before id 4 from sentReplies of size 0
1336846782414: inside handleDSMRequest. At requests's remote leader of region 4
1336846782416: INSIDE SERVER_GET_PHOTO!!!
1336846782433: Received PROC_REQUEST 11:4 (1,0)->(4,0), replying PROC_REPLY 11:4 (4,0)->(1,0)
1336846782434: Dispatching Atom PROC_REPLY 11:4 (4,0)->(1,0)
1336846782436: mux: I got a CSM packet at a leader 
1336846782449: Sending UDP payload: 3811
1336846782453: forwarding disabled, not forwarding packets
1336846782840: Received UDP payload: 446
1336846784353: Received UDP payload: 446
1336846784373: Received UDP payload: 1006
1336846784382: mux: GOT CSM_Msg
1336846784383: inside handleDSMRequest. At requests's remote leader of region 4
1336846784383: removed replies before id 5 from sentReplies of size 0
1336846784385: INSIDE SERVER_GET_PHOTO!!!
1336846784404: Received PROC_REQUEST 11:5 (0,0)->(4,0), replying PROC_REPLY 11:5 (4,0)->(0,0)
1336846784406: Dispatching Atom PROC_REPLY 11:5 (4,0)->(0,0)
1336846784407: mux: I got a CSM packet at a leader 
1336846784411: Sending UDP payload: 3811
1336846784422: forwarding disabled, not forwarding packets
1336846785695: inside sendPacket(Packet p)
1336846785698: Sending UDP payload: 446
1336846785971: Received UDP payload: 446
1336846786846: Received UDP payload: 446
1336846787120: Received UDP payload: 446
1336846787852: Received UDP payload: 446
1336846788501: Received UDP payload: 642
1336846788505: mux: Inside mux Packet.CLIENT_REQUEST
1336846788541: Received UDP payload: 1006
1336846788551: mux: GOT CSM_Msg
1336846788551: removed replies before id 5 from sentReplies of size 0
1336846788552: inside handleDSMRequest. At requests's remote leader of region 4
1336846788553: INSIDE SERVER_GET_PHOTO!!!
1336846788558: Received PROC_REQUEST 11:5 (1,0)->(4,0), replying PROC_REPLY 11:5 (4,0)->(1,0)
1336846788560: Received UDP payload: 446
1336846788569: Dispatching Atom PROC_REPLY 11:5 (4,0)->(1,0)
1336846788569: mux: I got a CSM packet at a leader 
1336846788569: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846788569: mux: Inside Packet.SERVER_REPLY
1336846788570: Sending UDP payload: 3811
1336846788572: forwarding disabled, not forwarding packets
1336846788682: Received UDP payload: 3464
1336846788684: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846788684: mux: Inside Packet.SERVER_REPLY
1336846788697: Received UDP payload: 446
1336846788698: mux: Inside mux Packet.CLIENT_REQUEST
1336846789360: Received UDP payload: 446
1336846790696: inside sendPacket(Packet p)
1336846790712: Sending UDP payload: 446
1336846790967: Received UDP payload: 446
1336846791607: Received UDP payload: 1006
1336846791614: mux: GOT CSM_Msg
1336846791615: removed replies before id 2 from sentReplies of size 0
1336846791616: inside handleDSMRequest. At requests's remote leader of region 4
1336846791617: INSIDE SERVER_GET_PHOTO!!!
1336846791632: Received PROC_REQUEST 11:2 (2,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(2,0)
1336846791634: Dispatching Atom PROC_REPLY 11:2 (4,0)->(2,0)
1336846791634: mux: I got a CSM packet at a leader 
1336846791638: Sending UDP payload: 3811
1336846791651: forwarding disabled, not forwarding packets
1336846791832: Received UDP payload: 446
1336846792119: Received UDP payload: 446
1336846792856: Received UDP payload: 446
1336846793385: Received UDP payload: 1006
1336846793417: mux: GOT CSM_Msg
1336846793418: inside handleDSMRequest. At requests's remote leader of region 4
1336846793418: removed replies before id 2 from sentReplies of size 0
1336846793420: INSIDE SERVER_GET_PHOTO!!!
1336846793442: Dispatching Atom PROC_REPLY 11:2 (4,0)->(3,0)
1336846793442: Received PROC_REQUEST 11:2 (3,0)->(4,0), replying PROC_REPLY 11:2 (4,0)->(3,0)
1336846793442: mux: I got a CSM packet at a leader 
1336846793443: Sending UDP payload: 3811
1336846793450: forwarding disabled, not forwarding packets
1336846794360: Received UDP payload: 446
1336846795715: inside sendPacket(Packet p)
1336846795734: Sending UDP payload: 446
1336846795980: Received UDP payload: 446
1336846796837: Received UDP payload: 446
1336846797133: Received UDP payload: 446
1336846797753: areButtonsEnabled --> false 
1336846797753: canPressButton = TRUE
1336846797754: areButtonsEnabled --> false
1336846797754: get picture disableButtonsR
1336846797780: one more getNum: 17
1336846797781: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336846797781: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=16 getBad=0 getTimedout=0 getPercent=94%
1336846797782: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010039 Client in region: 4 Client nodID: 5010
1336846797782: change local requestCounter to 39
1336846797812: ----------------------------
1336846797813: I'm a leader, my requesting photos packet going to mux directly
1336846797813: inside sendRequestPacketRepeatingRunnable for requestCount = 5010039
1336846797813: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846797813: mux: Inside mux Packet.CLIENT_REQUEST
1336846797814: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846797814: got new request, requestCounter = 5010039
1336846797814: inside handleClientRequest. Originator leader of region 4
1336846797815: Sending PROC_REQUEST 11:10 (4,0)->(4,0)
1336846797815: Sending to region: 4
1336846797816: Dispatching Atom PROC_REQUEST 11:10 (4,0)->(4,0)
1336846797816: Make FirstLeg Ack regardless of new or already-processed requests
1336846797816: Note down new request by adding requestCounter=5010039 to HashMap processedRequests
1336846797816: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846797817: mux: I got a CSM packet at a leader 
1336846797819: Sending UDP payload: 1006
1336846797819: removed replies before id 10 from sentReplies of size 0
1336846797820: INSIDE SERVER_GET_PHOTO!!!
1336846797820: inside handleDSMRequest. At requests's remote leader of region 4
1336846797821:  1 self to self atomRequest
1336846797821: dst_region == src_region = 4
1336846797822: Received PROC_REQUEST 11:10 (4,0)->(4,0), replying PROC_REPLY 11:10 (4,0)->(4,0)
1336846797823: --- Finished one round of sending REQUEST Packet ---------
1336846797823: Dispatching Atom PROC_REPLY 11:10 (4,0)->(4,0)
1336846797823: mux: I got a CSM packet at a leader 
1336846797835: Sending UDP payload: 3811
1336846797840: DSM layer: Going to and from remote region took latency = 25
1336846797840: DSM layer: orig leader sent packet at 1336846797815 ~ received reply from remote leader at 1336846797840
1336846797840: Received PROC_REPLY 11:10 (4,0)->(4,0), handing to UserApp
1336846797840: inside handleDSMReply. Now back in originator leader of region 4
1336846797841: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846797841: inside sendReplies of replyCount = 501003900
1336846797841: leader client reply has replyCounter: 501003900
1336846797841: reply packet contains the newest photo/success info from the remote region
1336846797842: === Finished one round of sending REPLY Packet =======
1336846797842: =======================
1336846797842: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846797842: Leader about to send REPLY packet, number: 501003900 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846797842: inside sendReplyRepeatingRunnable for replyCount = 501003900
1336846797873: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846797875: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846797876: Inside _enableButtons
1336846797876: areButtonsEnabled --> true
1336846797876: disabling progressdialog due to successful new photo get
1336846797876: send final leg ack regardless of new or already-processed reply
1336846797877: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010040 Client in region: (4,0) Client nodID: 5010
1336846797877: I'm a leader client, my final_leg packet going to mux directly
1336846797877: inside finalLegAck: change requestCounter to 40
1336846797878: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501003900
1336846797878: Yay the last leg succeeded. Removing reply runnables ...
1336846797878: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501003900
1336846797878: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501003900
1336846797878: do not send ack for received final_leg_ack
1336846797878: got new request, requestCounter = 5010040
1336846797878: inside handleClientRequest. Originator leader of region 4
1336846797878: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846797878: mux: Inside mux Packet.CLIENT_REQUEST
1336846797883: leader download remote photo latency = 62
1336846797883: new client_show_remotephoto reply with replyCounter 501003900
1336846797883: note down new reply by adding replyCounter=501003900 to HashMap processedReplies
1336846797884: = leader download start 1336846797813 ~ stop 1336846797875
1336846797885: one more getGood: 17
1336846797886: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=17 getBad=0 getTimedout=0 getPercent=100%
1336846797887: Success! Client getting photo from remote region, showing photo...
1336846797887: adding get latency: 62
1336846797888: Remote photo's length: 2783
1336846797926: Received UDP payload: 446
1336846798628: Received UDP payload: 642
1336846798630: mux: Inside mux Packet.CLIENT_REQUEST
1336846798694: Received UDP payload: 1006
1336846798704: mux: GOT CSM_Msg
1336846798705: inside handleDSMRequest. At requests's remote leader of region 4
1336846798705: removed replies before id 4 from sentReplies of size 0
1336846798707: INSIDE SERVER_GET_PHOTO!!!
1336846798714: Received PROC_REQUEST 11:4 (5,0)->(4,0), replying PROC_REPLY 11:4 (4,0)->(5,0)
1336846798715: Dispatching Atom PROC_REPLY 11:4 (4,0)->(5,0)
1336846798715: mux: I got a CSM packet at a leader 
1336846798730: Received UDP payload: 446
1336846798731: Sending UDP payload: 3811
1336846798745: forwarding disabled, not forwarding packets
1336846798745: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846798745: mux: Inside Packet.SERVER_REPLY
1336846798828: Received UDP payload: 3464
1336846798830: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846798830: mux: Inside Packet.SERVER_REPLY
1336846798840: Received UDP payload: 446
1336846798841: mux: Inside mux Packet.CLIENT_REQUEST
1336846799304: Received UDP payload: 642
1336846799305: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846799305: mux: Inside mux Packet.CLIENT_REQUEST
1336846799306: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846799306: Sending to region: 4
1336846799306: got new request, requestCounter = 5009039
1336846799306: inside handleClientRequest. Originator leader of region 4
1336846799307: Dispatching Atom PROC_REQUEST 11:11 (4,0)->(4,0)
1336846799307: Make FirstLeg Ack regardless of new or already-processed requests
1336846799307: Note down new request by adding requestCounter=5009039 to HashMap processedRequests
1336846799307: Sending PROC_REQUEST 11:11 (4,0)->(4,0)
1336846799307: The leader sending a First Leg ack to originator client (which id = 5009)
1336846799308: inside sendPacket(Packet p)
1336846799308: mux: I got a CSM packet at a leader 
1336846799309: Sending UDP payload: 1006
1336846799315: removed replies before id 11 from sentReplies of size 0
1336846799316: inside handleDSMRequest. At requests's remote leader of region 4
1336846799317: INSIDE SERVER_GET_PHOTO!!!
1336846799332: dst_region == src_region = 4
1336846799333:  1 self to self atomRequest
1336846799336: Received PROC_REQUEST 11:11 (4,0)->(4,0), replying PROC_REPLY 11:11 (4,0)->(4,0)
1336846799337: Dispatching Atom PROC_REPLY 11:11 (4,0)->(4,0)
1336846799340: Sending UDP payload: 446
1336846799351: mux: I got a CSM packet at a leader 
1336846799360: Received UDP payload: 446
1336846799365: Sending UDP payload: 3811
1336846799375: Received PROC_REPLY 11:11 (4,0)->(4,0), handing to UserApp
1336846799376: DSM layer: Going to and from remote region took latency = 70
1336846799376: inside handleDSMReply. Now back in originator leader of region 4
1336846799377: DSM layer: orig leader sent packet at 1336846799306 ~ received reply from remote leader at 1336846799376
1336846799389: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846799390: leader client reply has replyCounter: 500903900
1336846799390: reply packet contains the newest photo/success info from the remote region
1336846799391: =======================
1336846799391: inside sendReplies of replyCount = 500903900
1336846799392: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846799392: Leader about to send REPLY packet, number: 500903900 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846799392: inside sendReplyRepeatingRunnable for replyCount = 500903900
1336846799393: === Finished one round of sending REPLY Packet =======
1336846799393: inside sendPacket(Packet p)
1336846799397: Sending UDP payload: 3464
1336846799477: Received UDP payload: 446
1336846799481: mux: Inside mux Packet.CLIENT_REQUEST
1336846799482: inside handleClientRequest. Originator leader of region 4
1336846799482: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846799483: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500903900
1336846799483: Yay the last leg succeeded. Removing reply runnables ...
1336846799483: got new request, requestCounter = 5009040
1336846799485: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500903900
1336846799485: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500903900
1336846799486: do not send ack for received final_leg_ack
1336846800718: Received UDP payload: 1006
1336846800725: mux: GOT CSM_Msg
1336846800726: inside handleDSMRequest. At requests's remote leader of region 4
1336846800726: removed replies before id 5 from sentReplies of size 0
1336846800728: INSIDE SERVER_GET_PHOTO!!!
1336846800737: inside sendPacket(Packet p)
1336846800748: Received PROC_REQUEST 11:5 (5,0)->(4,0), replying PROC_REPLY 11:5 (4,0)->(5,0)
1336846800760: Dispatching Atom PROC_REPLY 11:5 (4,0)->(5,0)
1336846800771: Sending UDP payload: 446
1336846800782: mux: I got a CSM packet at a leader 
1336846800783: Sending UDP payload: 3811
1336846800785: forwarding disabled, not forwarding packets
1336846800984: Received UDP payload: 446
1336846801468: Received UDP payload: 1006
1336846801475: mux: GOT CSM_Msg
1336846801476: removed replies before id 5 from sentReplies of size 1
1336846801477: Received DUPLICATE PROC_REQUEST 11:5 (5,0)->(4,0), replying PROC_REPLY 11:5 (4,0)->(5,0)
1336846801491: Dispatching Atom PROC_REPLY 11:5 (4,0)->(5,0)
1336846801491: mux: I got a CSM packet at a leader 
1336846801510: Sending UDP payload: 3811
1336846801513: forwarding disabled, not forwarding packets
1336846801565: Received UDP payload: 1006
1336846801567: mux: GOT CSM_Msg
1336846801567: removed replies before id 5 from sentReplies of size 1
1336846801568: Dispatching Atom PROC_REPLY 11:5 (4,0)->(5,0)
1336846801568: Received DUPLICATE PROC_REQUEST 11:5 (5,0)->(4,0), replying PROC_REPLY 11:5 (4,0)->(5,0)
1336846801568: mux: I got a CSM packet at a leader 
1336846801570: Sending UDP payload: 3811
1336846801570: forwarding disabled, not forwarding packets
1336846801833: Received UDP payload: 446
1336846802116: Received UDP payload: 446
1336846802849: Received UDP payload: 446
1336846804428: Received UDP payload: 446
1336846805738: inside sendPacket(Packet p)
1336846805739: Sending UDP payload: 446
1336846805993: Received UDP payload: 446
1336846806882: Received UDP payload: 446
1336846807126: Received UDP payload: 446
1336846807852: Received UDP payload: 446
1336846809392: Received UDP payload: 446
1336846810739: inside sendPacket(Packet p)
1336846810742: Sending UDP payload: 446
1336846810922: Received UDP payload: 642
1336846810926: mux: Inside mux Packet.CLIENT_REQUEST
1336846810961: Received UDP payload: 1006
1336846810972: mux: GOT CSM_Msg
1336846810973: forwarding disabled, not forwarding packets
1336846810988: Received UDP payload: 446
1336846810989: mux: Inside Packet.SERVER_REPLY
1336846810990: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846811001: Received UDP payload: 446
1336846811057: Received UDP payload: 3768
1336846811059: forwarding disabled, not forwarding packets
1336846811059: mux: GOT CSM_Msg
1336846811109: Received UDP payload: 3421
1336846811112: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846811112: mux: Inside Packet.SERVER_REPLY
1336846811122: Received UDP payload: 446
1336846811125: mux: Inside mux Packet.CLIENT_REQUEST
1336846811835: Received UDP payload: 446
1336846812130: Received UDP payload: 446
1336846812148: Received UDP payload: 1006
1336846812157: forwarding disabled, not forwarding packets
1336846812157: mux: GOT CSM_Msg
1336846812227: Received UDP payload: 3768
1336846812234: forwarding disabled, not forwarding packets
1336846812234: mux: GOT CSM_Msg
1336846812845: Received UDP payload: 446
1336846814401: Received UDP payload: 446
1336846815739: inside sendPacket(Packet p)
1336846815740: Sending UDP payload: 446
1336846815995: Received UDP payload: 446
1336846816852: Received UDP payload: 446
1336846816965: Received UDP payload: 1006
1336846816973: forwarding disabled, not forwarding packets
1336846816973: mux: GOT CSM_Msg
1336846817056: Received UDP payload: 3768
1336846817058: forwarding disabled, not forwarding packets
1336846817058: mux: GOT CSM_Msg
1336846817136: Received UDP payload: 446
1336846817856: Received UDP payload: 446
1336846818161: Received UDP payload: 642
1336846818167: mux: Inside mux Packet.CLIENT_REQUEST
1336846818205: Received UDP payload: 1006
1336846818213: forwarding disabled, not forwarding packets
1336846818213: mux: GOT CSM_Msg
1336846818226: Received UDP payload: 446
1336846818227: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846818227: mux: Inside Packet.SERVER_REPLY
1336846818271: Received UDP payload: 3768
1336846818273: forwarding disabled, not forwarding packets
1336846818273: mux: GOT CSM_Msg
1336846818348: Received UDP payload: 3421
1336846818350: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846818350: mux: Inside Packet.SERVER_REPLY
1336846818365: Received UDP payload: 446
1336846818366: mux: Inside mux Packet.CLIENT_REQUEST
1336846819409: Received UDP payload: 446
1336846820741: inside sendPacket(Packet p)
1336846820752: Sending UDP payload: 446
1336846820992: Received UDP payload: 446
1336846821843: Received UDP payload: 446
1336846822151: Received UDP payload: 446
1336846822698: Received UDP payload: 1006
1336846822706: forwarding disabled, not forwarding packets
1336846822706: mux: GOT CSM_Msg
1336846822800: Received UDP payload: 3768
1336846822804: forwarding disabled, not forwarding packets
1336846822804: mux: GOT CSM_Msg
1336846822860: Received UDP payload: 446
1336846823722: Received UDP payload: 1006
1336846823729: forwarding disabled, not forwarding packets
1336846823729: mux: GOT CSM_Msg
1336846823790: Received UDP payload: 3768
1336846823797: forwarding disabled, not forwarding packets
1336846823797: mux: GOT CSM_Msg
1336846824411: Received UDP payload: 446
1336846825756: inside sendPacket(Packet p)
1336846825766: Sending UDP payload: 446
1336846825988: Received UDP payload: 446
1336846826874: Received UDP payload: 446
1336846827152: Received UDP payload: 446
1336846827881: Received UDP payload: 446
1336846829362: Received UDP payload: 642
1336846829364: mux: Inside mux Packet.CLIENT_REQUEST
1336846829407: Received UDP payload: 1006
1336846829414: forwarding disabled, not forwarding packets
1336846829414: mux: GOT CSM_Msg
1336846829419: Received UDP payload: 446
1336846829442: Received UDP payload: 446
1336846829446: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846829446: mux: Inside Packet.SERVER_REPLY
1336846829479: Received UDP payload: 3768
1336846829481: forwarding disabled, not forwarding packets
1336846829481: mux: GOT CSM_Msg
1336846829497: areButtonsEnabled --> false 
1336846829497: canPressButton = TRUE
1336846829497: get picture disableButtonsR
1336846829498: areButtonsEnabled --> false
1336846829525: Received UDP payload: 3421
1336846829526: mux: Inside Packet.SERVER_REPLY
1336846829527: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846829534: Received UDP payload: 446
1336846829535: mux: Inside mux Packet.CLIENT_REQUEST
1336846829559: one more getNum: 18
1336846829560: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336846829560: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=17 getBad=0 getTimedout=0 getPercent=94%
1336846829561: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010041 Client in region: 4 Client nodID: 5010
1336846829561: change local requestCounter to 41
1336846829616: ----------------------------
1336846829616: I'm a leader, my requesting photos packet going to mux directly
1336846829616: inside sendRequestPacketRepeatingRunnable for requestCount = 5010041
1336846829617: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846829617: got new request, requestCounter = 5010041
1336846829617: inside handleClientRequest. Originator leader of region 4
1336846829617: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846829617: mux: Inside mux Packet.CLIENT_REQUEST
1336846829618: Sending PROC_REQUEST 11:4 (4,0)->(5,0)
1336846829618: Sending to region: 5
1336846829619: Dispatching Atom PROC_REQUEST 11:4 (4,0)->(5,0)
1336846829619: Make FirstLeg Ack regardless of new or already-processed requests
1336846829619: Note down new request by adding requestCounter=5010041 to HashMap processedRequests
1336846829619: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846829620: mux: I got a CSM packet at a leader 
1336846829621: Sending UDP payload: 1006
1336846829621: forwarding disabled, not forwarding packets
1336846829622: --- Finished one round of sending REQUEST Packet ---------
1336846829653: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846829679: Received UDP payload: 3768
1336846829682: DSM layer: Going to and from remote region took latency = 64
1336846829682: DSM layer: orig leader sent packet at 1336846829618 ~ received reply from remote leader at 1336846829682
1336846829682: Received PROC_REPLY 11:4 (5,0)->(4,0), handing to UserApp
1336846829682: inside handleDSMReply. Now back in originator leader of region 4
1336846829682: mux: GOT CSM_Msg
1336846829683: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846829683: inside sendReplies of replyCount = 501004100
1336846829683: leader client reply has replyCounter: 501004100
1336846829683: reply packet contains the newest photo/success info from the remote region
1336846829685: =======================
1336846829686: === Finished one round of sending REPLY Packet =======
1336846829686: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846829686: Leader about to send REPLY packet, number: 501004100 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846829686: inside sendReplyRepeatingRunnable for replyCount = 501004100
1336846829694: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846829694: Inside _enableButtons
1336846829694: disabling progressdialog due to successful new photo get
1336846829695: areButtonsEnabled --> true
1336846829695: inside finalLegAck: change requestCounter to 42
1336846829695: send final leg ack regardless of new or already-processed reply
1336846829697: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010042 Client in region: (4,0) Client nodID: 5010
1336846829697: I'm a leader client, my final_leg packet going to mux directly
1336846829697: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846829697: mux: Inside mux Packet.CLIENT_REQUEST
1336846829698: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501004100
1336846829698: Yay the last leg succeeded. Removing reply runnables ...
1336846829698: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501004100
1336846829698: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501004100
1336846829698: do not send ack for received final_leg_ack
1336846829698: got new request, requestCounter = 5010042
1336846829698: inside handleClientRequest. Originator leader of region 4
1336846829698: new client_show_remotephoto reply with replyCounter 501004100
1336846829699: note down new reply by adding replyCounter=501004100 to HashMap processedReplies
1336846829702: = leader download start 1336846829617 ~ stop 1336846829694
1336846829702: leader download remote photo latency = 77
1336846829703: one more getGood: 18
1336846829704: adding get latency: 77
1336846829704: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846829705: Remote photo's length: 2740
1336846829705: Success! Client getting photo from remote region, showing photo...
1336846830488: Received UDP payload: 1006
1336846830509: mux: GOT CSM_Msg
1336846830510: forwarding disabled, not forwarding packets
1336846830548: Received UDP payload: 3768
1336846830558: forwarding disabled, not forwarding packets
1336846830558: mux: GOT CSM_Msg
1336846830682: Received UDP payload: 642
1336846830684: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846830684: mux: Inside mux Packet.CLIENT_REQUEST
1336846830685: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846830685: got new request, requestCounter = 5009041
1336846830685: inside handleClientRequest. Originator leader of region 4
1336846830686: Sending PROC_REQUEST 11:5 (4,0)->(5,0)
1336846830686: Sending to region: 5
1336846830687: Dispatching Atom PROC_REQUEST 11:5 (4,0)->(5,0)
1336846830687: Make FirstLeg Ack regardless of new or already-processed requests
1336846830687: Note down new request by adding requestCounter=5009041 to HashMap processedRequests
1336846830687: The leader sending a First Leg ack to originator client (which id = 5009)
1336846830688: inside sendPacket(Packet p)
1336846830688: mux: I got a CSM packet at a leader 
1336846830690: Sending UDP payload: 1006
1336846830697: forwarding disabled, not forwarding packets
1336846830699: Sending UDP payload: 446
1336846830753: Received UDP payload: 3768
1336846830757: Received PROC_REPLY 11:5 (5,0)->(4,0), handing to UserApp
1336846830757: inside handleDSMReply. Now back in originator leader of region 4
1336846830757: mux: GOT CSM_Msg
1336846830758: DSM layer: Going to and from remote region took latency = 71
1336846830758: DSM layer: orig leader sent packet at 1336846830686 ~ received reply from remote leader at 1336846830757
1336846830759: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846830759: leader client reply has replyCounter: 500904100
1336846830759: reply packet contains the newest photo/success info from the remote region
1336846830760: =======================
1336846830760: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846830760: Leader about to send REPLY packet, number: 500904100 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846830760: inside sendReplies of replyCount = 500904100
1336846830760: inside sendReplyRepeatingRunnable for replyCount = 500904100
1336846830761: === Finished one round of sending REPLY Packet =======
1336846830761: inside sendPacket(Packet p)
1336846830762: Sending UDP payload: 3421
1336846830768: inside sendPacket(Packet p)
1336846830770: Sending UDP payload: 446
1336846830853: Received UDP payload: 446
1336846830854: mux: Inside mux Packet.CLIENT_REQUEST
1336846830855: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500904100
1336846830855: Yay the last leg succeeded. Removing reply runnables ...
1336846830855: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500904100
1336846830855: got new request, requestCounter = 5009042
1336846830855: inside handleClientRequest. Originator leader of region 4
1336846830855: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846830856: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500904100
1336846830856: do not send ack for received final_leg_ack
1336846830987: Received UDP payload: 446
1336846831844: Received UDP payload: 446
1336846832154: Received UDP payload: 446
1336846832861: Received UDP payload: 446
1336846834427: Received UDP payload: 446
1336846835770: inside sendPacket(Packet p)
1336846835783: Sending UDP payload: 446
1336846836024: Received UDP payload: 446
1336846836857: Received UDP payload: 446
1336846837171: Received UDP payload: 446
1336846837863: Received UDP payload: 446
1336846839448: Received UDP payload: 446
1336846840786: inside sendPacket(Packet p)
1336846840802: Sending UDP payload: 446
1336846840995: Received UDP payload: 446
1336846841864: Received UDP payload: 446
1336846842156: Received UDP payload: 446
1336846842873: Received UDP payload: 446
1336846844452: Received UDP payload: 446
1336846845805: inside sendPacket(Packet p)
1336846845818: Sending UDP payload: 446
1336846846009: Received UDP payload: 446
1336846846871: Received UDP payload: 446
1336846847183: Received UDP payload: 446
1336846847863: Received UDP payload: 446
1336846849470: Received UDP payload: 446
1336846850820: inside sendPacket(Packet p)
1336846850823: Sending UDP payload: 446
1336846851020: Received UDP payload: 446
1336846851884: Received UDP payload: 446
1336846852168: Received UDP payload: 446
1336846852863: Received UDP payload: 446
1336846854443: Received UDP payload: 446
1336846855822: inside sendPacket(Packet p)
1336846855825: Sending UDP payload: 446
1336846855970: Received UDP payload: 3762
1336846855976: mux: GOT CSM_Msg
1336846855977: forwarding disabled, not forwarding packets
1336846855980: Received UDP payload: 1006
1336846856000: forwarding disabled, not forwarding packets
1336846856000: mux: GOT CSM_Msg
1336846856024: Received UDP payload: 446
1336846856887: Received UDP payload: 446
1336846857170: Received UDP payload: 446
1336846857875: Received UDP payload: 446
1336846858333: Received UDP payload: 3380
1336846858337: mux: Inside mux Packet.CLIENT_REQUEST
1336846858400: Received UDP payload: 3744
1336846858407: forwarding disabled, not forwarding packets
1336846858407: mux: GOT CSM_Msg
1336846858416: Received UDP payload: 446
1336846858420: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846858420: mux: Inside Packet.SERVER_REPLY
1336846858426: Received UDP payload: 1006
1336846858432: mux: GOT CSM_Msg
1336846858433: forwarding disabled, not forwarding packets
1336846858757: Received UDP payload: 659
1336846858762: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846858762: mux: Inside Packet.SERVER_REPLY
1336846858775: Received UDP payload: 446
1336846858778: mux: Inside mux Packet.CLIENT_REQUEST
1336846859383: Received UDP payload: 3420
1336846859387: mux: Inside mux Packet.CLIENT_REQUEST
1336846859440: Received UDP payload: 3784
1336846859446: forwarding disabled, not forwarding packets
1336846859446: mux: GOT CSM_Msg
1336846859456: Received UDP payload: 446
1336846859461: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846859461: mux: Inside Packet.SERVER_REPLY
1336846859463: Received UDP payload: 446
1336846859472: Received UDP payload: 1006
1336846859478: mux: GOT CSM_Msg
1336846859479: forwarding disabled, not forwarding packets
1336846859498: Received UDP payload: 659
1336846859499: mux: Inside Packet.SERVER_REPLY
1336846859500: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846859511: Received UDP payload: 446
1336846859512: mux: Inside mux Packet.CLIENT_REQUEST
1336846860823: inside sendPacket(Packet p)
1336846860825: Sending UDP payload: 446
1336846861032: Received UDP payload: 446
1336846861888: Received UDP payload: 446
1336846862470: Received UDP payload: 446
1336846862877: Received UDP payload: 446
1336846864449: Received UDP payload: 446
1336846865346: Received UDP payload: 3803
1336846865354: forwarding disabled, not forwarding packets
1336846865354: mux: GOT CSM_Msg
1336846865370: Received UDP payload: 1006
1336846865376: mux: GOT CSM_Msg
1336846865377: forwarding disabled, not forwarding packets
1336846865823: inside sendPacket(Packet p)
1336846865824: Sending UDP payload: 446
1336846866026: Received UDP payload: 446
1336846866936: Received UDP payload: 446
1336846867478: Received UDP payload: 446
1336846867881: Received UDP payload: 446
1336846869453: Received UDP payload: 446
1336846869548: Received UDP payload: 3734
1336846869558: mux: GOT CSM_Msg
1336846869559: forwarding disabled, not forwarding packets
1336846869571: Received UDP payload: 1006
1336846869591: forwarding disabled, not forwarding packets
1336846869591: mux: GOT CSM_Msg
1336846870824: inside sendPacket(Packet p)
1336846870826: Sending UDP payload: 446
1336846871031: Received UDP payload: 446
1336846871935: Received UDP payload: 446
1336846872472: Received UDP payload: 446
1336846873227: Received UDP payload: 446
1336846874458: Received UDP payload: 446
1336846875825: inside sendPacket(Packet p)
1336846875827: Sending UDP payload: 446
1336846876048: Received UDP payload: 446
1336846876355: Received UDP payload: 1006
1336846876357: forwarding disabled, not forwarding packets
1336846876357: mux: GOT CSM_Msg
1336846876440: Received UDP payload: 3370
1336846876441: mux: Inside mux Packet.CLIENT_REQUEST
1336846876504: Received UDP payload: 3734
1336846876506: forwarding disabled, not forwarding packets
1336846876506: mux: GOT CSM_Msg
1336846876512: Received UDP payload: 446
1336846876514: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846876514: mux: Inside Packet.SERVER_REPLY
1336846876522: Received UDP payload: 1006
1336846876524: mux: GOT CSM_Msg
1336846876525: forwarding disabled, not forwarding packets
1336846876676: Received UDP payload: 659
1336846876678: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846876678: mux: Inside Packet.SERVER_REPLY
1336846876690: Received UDP payload: 446
1336846876692: mux: Inside mux Packet.CLIENT_REQUEST
1336846877202: Received UDP payload: 446
1336846877473: Received UDP payload: 446
1336846878203: Received UDP payload: 446
1336846879466: Received UDP payload: 446
1336846879660: Received UDP payload: 3766
1336846879662: mux: GOT CSM_Msg
1336846879663: forwarding disabled, not forwarding packets
1336846879670: Received UDP payload: 1006
1336846879672: forwarding disabled, not forwarding packets
1336846879672: mux: GOT CSM_Msg
1336846880083: canPressButton = TRUE
1336846880084: areButtonsEnabled --> false
1336846880085: disabling buttons ...
1336846880085: took picture disableButtonsR
1336846880086: areButtonsEnabled --> false
1336846880119: one more takeNum: 4
1336846880121: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846880122: Clicked take picture button ..
1336846880825: inside sendPacket(Packet p)
1336846880826: Sending UDP payload: 446
1336846881079: Received UDP payload: 446
1336846881479: inside HandlePictureStorage onPictureTaken()
1336846881480: one more takeCamGood: 4
1336846881480: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846881968: Picture successfully taken, ORIG BYTE LENGTH = 2357481
1336846882160: Our new height x width: 306 x 408
1336846882160: Show photo from handle my camera take
1336846882161: ** Client making NEWly TAKEN photo PACKET to send to leader **
1336846882161: change local requestCounter to 43
1336846882176: BYTE SIZE AFTER COMPRESSION: 2779
1336846882177: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5010043 Client in region: 4 Client nodID: 5010
1336846882204: Received UDP payload: 446
1336846882216: ----------------------------
1336846882217: I'm a leader, my requesting photos packet going to mux directly
1336846882217: inside sendRequestPacketRepeatingRunnable for requestCount = 5010043
1336846882217: mux: Inside mux Packet.CLIENT_REQUEST
1336846882218: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846882218: Sending PROC_REQUEST 10:12 (4,0)->(4,0)
1336846882218: got new request, requestCounter = 5010043
1336846882218: inside handleClientRequest. Originator leader of region 4
1336846882218: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846882219: Dispatching Atom PROC_REQUEST 10:12 (4,0)->(4,0)
1336846882219: Make FirstLeg Ack regardless of new or already-processed requests
1336846882219: Note down new request by adding requestCounter=5010043 to HashMap processedRequests
1336846882219: mux: I got a CSM packet at a leader 
1336846882219: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846882222: Sending UDP payload: 3807
1336846882224: inside handleDSMRequest. At requests's remote leader of region 4
1336846882224: removed replies before id 12 from sentReplies of size 0
1336846882225: Inside UPLOAD_PHOTO!!
1336846882227: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846882227: my_gpinfo.isSuccess is now (should be true): true
1336846882229: --- Finished one round of sending REQUEST Packet ---------
1336846882229: Received PROC_REQUEST 10:12 (4,0)->(4,0), replying PROC_REPLY 10:12 (4,0)->(4,0)
1336846882235: Dispatching Atom PROC_REPLY 10:12 (4,0)->(4,0)
1336846882236: mux: I got a CSM packet at a leader 
1336846882237: Sending UDP payload: 1006
1336846882242: DSM layer: Going to and from remote region took latency = 24
1336846882242: Received PROC_REPLY 10:12 (4,0)->(4,0), handing to UserApp
1336846882242: inside handleDSMReply. Now back in originator leader of region 4
1336846882243: DSM layer: orig leader sent packet at 1336846882218 ~ received reply from remote leader at 1336846882242
1336846882244: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846882244: leader client reply has replyCounter: 501004300
1336846882245: === Finished one round of sending REPLY Packet =======
1336846882245: =======================
1336846882245: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846882245: Leader about to send REPLY packet, number: 501004300 type: 16 Leader in region: (4,0) to Client nodID: 5010
1336846882245: inside sendReplies of replyCount = 501004300
1336846882245: inside sendReplyRepeatingRunnable for replyCount = 501004300
1336846882245: reply packet contains the success info for UPLOAD_PHOTO
1336846882258: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846882260: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846882261: I'm a leader and I successfully saved my client's new photo
1336846882261: now showing in UI the new photo I just saved ... 
1336846882262: the photo length: 2779
1336846882297: end of server show photo aside %%%%%%%%%
1336846882299: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1336846882299: Inside _enableButtons
1336846882299: disabling progressdialog due to successful new photo upload
1336846882300: areButtonsEnabled --> true
1336846882300: inside finalLegAck: change requestCounter to 44
1336846882300: send final leg ack regardless of new or already-processed reply
1336846882301: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010044 Client in region: (4,0) Client nodID: 5010
1336846882301: I'm a leader client, my final_leg packet going to mux directly
1336846882301: inside handleClientRequest. Originator leader of region 4
1336846882301: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846882301: mux: Inside mux Packet.CLIENT_REQUEST
1336846882302: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501004300
1336846882302: Yay the last leg succeeded. Removing reply runnables ...
1336846882302: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501004300
1336846882302: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501004300
1336846882302: do not send ack for received final_leg_ack
1336846882302: got new request, requestCounter = 5010044
1336846882303: = leader upload start 1336846882217 ~ stop 1336846882299
1336846882303: leader upload new photo latency = 82
1336846882303: new client_upload_photo_ack reply with replyCounter 501004300
1336846882303: note down new reply by adding replyCounter=501004300 to HashMap processedReplies
1336846882304: one more takeGoodSave: 4
1336846882305: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=18 getBad=0 getTimedout=0 getPercent=100%
1336846882306: SUCCESS Client now knows saving photo on its leader succeeded
1336846882306: adding take latency: 82
1336846882475: Received UDP payload: 446
1336846883214: Received UDP payload: 446
1336846884908: Received UDP payload: 3417
1336846884913: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846884913: mux: Inside mux Packet.CLIENT_REQUEST
1336846884914: got new request, requestCounter = 5009043
1336846884914: inside handleClientRequest. Originator leader of region 4
1336846884915: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1336846884924: Sending PROC_REQUEST 10:13 (4,0)->(4,0)
1336846884926: Dispatching Atom PROC_REQUEST 10:13 (4,0)->(4,0)
1336846884926: Note down new request by adding requestCounter=5009043 to HashMap processedRequests
1336846884927: Make FirstLeg Ack regardless of new or already-processed requests
1336846884927: The leader sending a First Leg ack to originator client (which id = 5009)
1336846884927: inside sendPacket(Packet p)
1336846884928: mux: I got a CSM packet at a leader 
1336846884941: Sending UDP payload: 3781
1336846884944: removed replies before id 13 from sentReplies of size 0
1336846884945: inside handleDSMRequest. At requests's remote leader of region 4
1336846884947: Inside UPLOAD_PHOTO!!
1336846884961: my_gpinfo.isSuccess is now (should be true): true
1336846884962: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1336846884965: Received PROC_REQUEST 10:13 (4,0)->(4,0), replying PROC_REPLY 10:13 (4,0)->(4,0)
1336846884978: Dispatching Atom PROC_REPLY 10:13 (4,0)->(4,0)
1336846884982: Sending UDP payload: 446
1336846884983: mux: I got a CSM packet at a leader 
1336846884985: Received PROC_REPLY 10:13 (4,0)->(4,0), handing to UserApp
1336846884985: Sending UDP payload: 1006
1336846884985: inside handleDSMReply. Now back in originator leader of region 4
1336846884986: DSM layer: Going to and from remote region took latency = 70
1336846884986: DSM layer: orig leader sent packet at 1336846884915 ~ received reply from remote leader at 1336846884985
1336846884986: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846884986: leader client reply has replyCounter: 500904300
1336846884987: === Finished one round of sending REPLY Packet =======
1336846884987: =======================
1336846884987: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846884987: Leader about to send REPLY packet, number: 500904300 type: 16 Leader in region: (4,0) to Client nodID: 5009
1336846884987: inside sendPacket(Packet p)
1336846884987: inside sendReplies of replyCount = 500904300
1336846884987: inside sendReplyRepeatingRunnable for replyCount = 500904300
1336846884987: reply packet contains the success info for UPLOAD_PHOTO
1336846884988: Sending UDP payload: 659
1336846884995: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1336846884997: I'm a leader and I successfully saved my client's new photo
1336846884997: now showing in UI the new photo I just saved ... 
1336846884997: the photo length: 2753
1336846885033: end of server show photo aside %%%%%%%%%
1336846885095: Received UDP payload: 446
1336846885096: got new request, requestCounter = 5009044
1336846885096: inside handleClientRequest. Originator leader of region 4
1336846885096: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846885096: mux: Inside mux Packet.CLIENT_REQUEST
1336846885097: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500904300
1336846885097: Yay the last leg succeeded. Removing reply runnables ...
1336846885097: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500904300
1336846885097: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500904300
1336846885097: do not send ack for received final_leg_ack
1336846885825: inside sendPacket(Packet p)
1336846885828: Sending UDP payload: 446
1336846886434: Received UDP payload: 446
1336846887270: Received UDP payload: 446
1336846887478: Received UDP payload: 446
1336846888233: Received UDP payload: 446
1336846889473: Received UDP payload: 446
1336846890827: inside sendPacket(Packet p)
1336846890830: Sending UDP payload: 446
1336846891437: Received UDP payload: 446
1336846892237: Received UDP payload: 446
1336846892483: Received UDP payload: 446
1336846893235: Received UDP payload: 446
1336846893675: leader to cloud hearbeat...
1336846894464: Received UDP payload: 446
1336846895372: Received UDP payload: 642
1336846895376: mux: Inside mux Packet.CLIENT_REQUEST
1336846895419: Received UDP payload: 1006
1336846895426: forwarding disabled, not forwarding packets
1336846895426: mux: GOT CSM_Msg
1336846895447: Received UDP payload: 446
1336846895448: mux: Inside Packet.SERVER_REPLY
1336846895449: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846895490: Received UDP payload: 3803
1336846895492: forwarding disabled, not forwarding packets
1336846895492: mux: GOT CSM_Msg
1336846895543: Received UDP payload: 3456
1336846895544: mux: Inside Packet.SERVER_REPLY
1336846895545: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846895566: Received UDP payload: 446
1336846895567: mux: Inside mux Packet.CLIENT_REQUEST
1336846895828: inside sendPacket(Packet p)
1336846895829: Sending UDP payload: 446
1336846896429: Received UDP payload: 446
1336846896650: Received UDP payload: 1006
1336846896657: forwarding disabled, not forwarding packets
1336846896657: mux: GOT CSM_Msg
1336846896692: Received UDP payload: 3803
1336846896700: mux: GOT CSM_Msg
1336846896701: forwarding disabled, not forwarding packets
1336846897294: Received UDP payload: 446
1336846897508: Received UDP payload: 446
1336846897755: Received UDP payload: 642
1336846897761: mux: Inside mux Packet.CLIENT_REQUEST
1336846897810: Received UDP payload: 1006
1336846897817: mux: GOT CSM_Msg
1336846897818: forwarding disabled, not forwarding packets
1336846897819: Received UDP payload: 446
1336846897831: mux: Inside Packet.SERVER_REPLY
1336846897832: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846897871: Received UDP payload: 3803
1336846897873: forwarding disabled, not forwarding packets
1336846897873: mux: GOT CSM_Msg
1336846897932: Received UDP payload: 3456
1336846897934: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846897934: mux: Inside Packet.SERVER_REPLY
1336846897943: Received UDP payload: 446
1336846897945: mux: Inside mux Packet.CLIENT_REQUEST
1336846898232: Received UDP payload: 446
1336846898720: Received UDP payload: 1006
1336846898727: forwarding disabled, not forwarding packets
1336846898727: mux: GOT CSM_Msg
1336846898823: Received UDP payload: 3803
1336846898829: mux: GOT CSM_Msg
1336846898830: forwarding disabled, not forwarding packets
1336846899468: Received UDP payload: 446
1336846900828: inside sendPacket(Packet p)
1336846900842: Sending UDP payload: 446
1336846901450: Received UDP payload: 446
1336846902260: Received UDP payload: 446
1336846902478: Received UDP payload: 446
1336846903236: Received UDP payload: 446
1336846903872: Received UDP payload: 1006
1336846903879: mux: GOT CSM_Msg
1336846903880: forwarding disabled, not forwarding packets
1336846903971: Received UDP payload: 3803
1336846903977: forwarding disabled, not forwarding packets
1336846903977: mux: GOT CSM_Msg
1336846904473: Received UDP payload: 446
1336846905845: inside sendPacket(Packet p)
1336846905861: Sending UDP payload: 446
1336846906430: Received UDP payload: 446
1336846907271: Received UDP payload: 446
1336846907488: Received UDP payload: 446
1336846908245: Received UDP payload: 446
1336846909105: Received UDP payload: 1006
1336846909114: forwarding disabled, not forwarding packets
1336846909114: mux: GOT CSM_Msg
1336846909185: Received UDP payload: 3803
1336846909187: forwarding disabled, not forwarding packets
1336846909187: mux: GOT CSM_Msg
1336846909472: Received UDP payload: 446
1336846910659: Received UDP payload: 642
1336846910665: mux: Inside mux Packet.CLIENT_REQUEST
1336846910720: Received UDP payload: 1006
1336846910722: forwarding disabled, not forwarding packets
1336846910722: mux: GOT CSM_Msg
1336846910725: Received UDP payload: 446
1336846910727: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846910727: mux: Inside Packet.SERVER_REPLY
1336846910804: Received UDP payload: 3803
1336846910806: forwarding disabled, not forwarding packets
1336846910806: mux: GOT CSM_Msg
1336846910860: Received UDP payload: 3456
1336846910861: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846910861: mux: Inside Packet.SERVER_REPLY
1336846910864: inside sendPacket(Packet p)
1336846910865: Sending UDP payload: 446
1336846910877: Received UDP payload: 446
1336846910878: mux: Inside mux Packet.CLIENT_REQUEST
1336846911431: Received UDP payload: 446
1336846911655: Received UDP payload: 1006
1336846911664: mux: GOT CSM_Msg
1336846911665: forwarding disabled, not forwarding packets
1336846911744: Received UDP payload: 3803
1336846911746: forwarding disabled, not forwarding packets
1336846911746: mux: GOT CSM_Msg
1336846912295: Received UDP payload: 446
1336846912485: Received UDP payload: 446
1336846913248: Received UDP payload: 446
1336846914250: areButtonsEnabled --> false 
1336846914250: canPressButton = TRUE
1336846914250: get picture disableButtonsR
1336846914251: areButtonsEnabled --> false
1336846914278: one more getNum: 19
1336846914279: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1336846914279: change local requestCounter to 45
1336846914279: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=18 getBad=0 getTimedout=0 getPercent=94%
1336846914281: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010045 Client in region: 4 Client nodID: 5010
1336846914311: ----------------------------
1336846914312: I'm a leader, my requesting photos packet going to mux directly
1336846914312: inside sendRequestPacketRepeatingRunnable for requestCount = 5010045
1336846914312: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846914312: mux: Inside mux Packet.CLIENT_REQUEST
1336846914313: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846914313: Sending to region: 0
1336846914313: got new request, requestCounter = 5010045
1336846914313: inside handleClientRequest. Originator leader of region 4
1336846914314: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(0,0)
1336846914314: Note down new request by adding requestCounter=5010045 to HashMap processedRequests
1336846914314: Sending PROC_REQUEST 11:6 (4,0)->(0,0)
1336846914315: Make FirstLeg Ack regardless of new or already-processed requests
1336846914315: mux: I got a CSM packet at a leader 
1336846914315: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846914316: Sending UDP payload: 1006
1336846914317: forwarding disabled, not forwarding packets
1336846914318: --- Finished one round of sending REQUEST Packet ---------
1336846914355: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846914423: Received UDP payload: 3803
1336846914424: mux: GOT CSM_Msg
1336846914425: DSM layer: Going to and from remote region took latency = 111
1336846914425: DSM layer: orig leader sent packet at 1336846914314 ~ received reply from remote leader at 1336846914425
1336846914425: Received PROC_REPLY 11:6 (0,0)->(4,0), handing to UserApp
1336846914425: inside handleDSMReply. Now back in originator leader of region 4
1336846914426: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846914426: inside sendReplies of replyCount = 501004500
1336846914426: leader client reply has replyCounter: 501004500
1336846914426: reply packet contains the newest photo/success info from the remote region
1336846914427: === Finished one round of sending REPLY Packet =======
1336846914427: =======================
1336846914427: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846914427: Leader about to send REPLY packet, number: 501004500 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846914427: inside sendReplyRepeatingRunnable for replyCount = 501004500
1336846914430: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846914431: Inside _enableButtons
1336846914431: areButtonsEnabled --> true
1336846914431: disabling progressdialog due to successful new photo get
1336846914431: send final leg ack regardless of new or already-processed reply
1336846914432: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010046 Client in region: (4,0) Client nodID: 5010
1336846914432: I'm a leader client, my final_leg packet going to mux directly
1336846914432: inside finalLegAck: change requestCounter to 46
1336846914432: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846914432: mux: Inside mux Packet.CLIENT_REQUEST
1336846914433: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501004500
1336846914433: Yay the last leg succeeded. Removing reply runnables ...
1336846914433: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501004500
1336846914433: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501004500
1336846914433: do not send ack for received final_leg_ack
1336846914433: got new request, requestCounter = 5010046
1336846914433: inside handleClientRequest. Originator leader of region 4
1336846914433: new client_show_remotephoto reply with replyCounter 501004500
1336846914434: = leader download start 1336846914312 ~ stop 1336846914430
1336846914434: leader download remote photo latency = 118
1336846914434: note down new reply by adding replyCounter=501004500 to HashMap processedReplies
1336846914435: one more getGood: 19
1336846914436: Success! Client getting photo from remote region, showing photo...
1336846914436: adding get latency: 118
1336846914436: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=19 getGood=19 getBad=0 getTimedout=0 getPercent=100%
1336846914437: Remote photo's length: 2775
1336846914487: Received UDP payload: 446
1336846915864: inside sendPacket(Packet p)
1336846915875: Sending UDP payload: 446
1336846915877: Received UDP payload: 642
1336846915885: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846915885: mux: Inside mux Packet.CLIENT_REQUEST
1336846915886: got new request, requestCounter = 5009045
1336846915886: inside handleClientRequest. Originator leader of region 4
1336846915887: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846915890: Sending to region: 0
1336846915891: Sending PROC_REQUEST 11:7 (4,0)->(0,0)
1336846915893: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(0,0)
1336846915893: Note down new request by adding requestCounter=5009045 to HashMap processedRequests
1336846915894: Make FirstLeg Ack regardless of new or already-processed requests
1336846915894: The leader sending a First Leg ack to originator client (which id = 5009)
1336846915894: inside sendPacket(Packet p)
1336846915895: mux: I got a CSM packet at a leader 
1336846915899: Sending UDP payload: 1006
1336846915921: forwarding disabled, not forwarding packets
1336846915925: Sending UDP payload: 446
1336846915992: Received UDP payload: 3803
1336846915994: Received PROC_REPLY 11:7 (0,0)->(4,0), handing to UserApp
1336846915994: mux: GOT CSM_Msg
1336846915995: DSM layer: Going to and from remote region took latency = 105
1336846915995: DSM layer: orig leader sent packet at 1336846915890 ~ received reply from remote leader at 1336846915995
1336846915995: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846915995: inside handleDSMReply. Now back in originator leader of region 4
1336846915996: =======================
1336846915996: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846915996: Leader about to send REPLY packet, number: 500904500 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846915996: inside sendReplies of replyCount = 500904500
1336846915996: inside sendReplyRepeatingRunnable for replyCount = 500904500
1336846915996: leader client reply has replyCounter: 500904500
1336846915996: reply packet contains the newest photo/success info from the remote region
1336846915997: === Finished one round of sending REPLY Packet =======
1336846915997: inside sendPacket(Packet p)
1336846915998: Sending UDP payload: 3456
1336846916064: Received UDP payload: 446
1336846916066: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500904500
1336846916066: Yay the last leg succeeded. Removing reply runnables ...
1336846916066: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500904500
1336846916066: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500904500
1336846916066: got new request, requestCounter = 5009046
1336846916066: inside handleClientRequest. Originator leader of region 4
1336846916066: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846916066: mux: Inside mux Packet.CLIENT_REQUEST
1336846916067: do not send ack for received final_leg_ack
1336846916455: Received UDP payload: 446
1336846917296: Received UDP payload: 446
1336846917501: Received UDP payload: 446
1336846918251: Received UDP payload: 446
1336846919477: Received UDP payload: 446
1336846920888: inside sendPacket(Packet p)
1336846920891: Sending UDP payload: 446
1336846921445: Received UDP payload: 446
1336846922316: Received UDP payload: 446
1336846922511: Received UDP payload: 446
1336846923211: Received UDP payload: 1006
1336846923218: forwarding disabled, not forwarding packets
1336846923218: mux: GOT CSM_Msg
1336846923251: Received UDP payload: 3744
1336846923261: forwarding disabled, not forwarding packets
1336846923261: mux: GOT CSM_Msg
1336846923262: Received UDP payload: 446
1336846924358: Received UDP payload: 642
1336846924362: mux: Inside mux Packet.CLIENT_REQUEST
1336846924416: Received UDP payload: 1006
1336846924422: forwarding disabled, not forwarding packets
1336846924422: mux: GOT CSM_Msg
1336846924433: Received UDP payload: 446
1336846924435: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846924435: mux: Inside Packet.SERVER_REPLY
1336846924486: Received UDP payload: 3744
1336846924488: forwarding disabled, not forwarding packets
1336846924488: mux: GOT CSM_Msg
1336846924490: Received UDP payload: 446
1336846924534: Received UDP payload: 3397
1336846924536: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846924536: mux: Inside Packet.SERVER_REPLY
1336846924545: Received UDP payload: 446
1336846924547: mux: Inside mux Packet.CLIENT_REQUEST
1336846925803: Received UDP payload: 642
1336846925807: mux: Inside mux Packet.CLIENT_REQUEST
1336846925854: Received UDP payload: 1006
1336846925862: forwarding disabled, not forwarding packets
1336846925862: mux: GOT CSM_Msg
1336846925863: Received UDP payload: 446
1336846925871: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846925871: mux: Inside Packet.SERVER_REPLY
1336846925889: inside sendPacket(Packet p)
1336846925890: Sending UDP payload: 446
1336846925953: Received UDP payload: 3744
1336846925955: forwarding disabled, not forwarding packets
1336846925955: mux: GOT CSM_Msg
1336846926013: Received UDP payload: 3397
1336846926014: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846926014: mux: Inside Packet.SERVER_REPLY
1336846926025: Received UDP payload: 446
1336846926026: mux: Inside mux Packet.CLIENT_REQUEST
1336846926456: Received UDP payload: 446
1336846927206: Received UDP payload: 1006
1336846927215: mux: GOT CSM_Msg
1336846927216: forwarding disabled, not forwarding packets
1336846927298: Received UDP payload: 3744
1336846927300: forwarding disabled, not forwarding packets
1336846927300: mux: GOT CSM_Msg
1336846927514: Received UDP payload: 446
1336846928268: Received UDP payload: 446
1336846929482: Received UDP payload: 446
1336846930892: inside sendPacket(Packet p)
1336846930902: Sending UDP payload: 446
1336846931462: Received UDP payload: 446
1336846932130: Received UDP payload: 1006
1336846932137: forwarding disabled, not forwarding packets
1336846932137: mux: GOT CSM_Msg
1336846932217: Received UDP payload: 3744
1336846932223: mux: GOT CSM_Msg
1336846932224: forwarding disabled, not forwarding packets
1336846932516: Received UDP payload: 446
1336846933282: Received UDP payload: 446
1336846934480: Received UDP payload: 446
1336846935151: Received UDP payload: 1006
1336846935157: mux: GOT CSM_Msg
1336846935158: forwarding disabled, not forwarding packets
1336846935240: Received UDP payload: 3744
1336846935246: forwarding disabled, not forwarding packets
1336846935246: mux: GOT CSM_Msg
1336846935904: inside sendPacket(Packet p)
1336846935907: Sending UDP payload: 446
1336846936462: Received UDP payload: 446
1336846937360: Received UDP payload: 446
1336846937524: Received UDP payload: 446
1336846937768: Received UDP payload: 642
1336846937774: mux: Inside mux Packet.CLIENT_REQUEST
1336846937825: Received UDP payload: 1006
1336846937833: Received UDP payload: 446
1336846937833: forwarding disabled, not forwarding packets
1336846937833: mux: GOT CSM_Msg
1336846937834: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846937834: mux: Inside Packet.SERVER_REPLY
1336846937900: Received UDP payload: 3744
1336846937902: forwarding disabled, not forwarding packets
1336846937902: mux: GOT CSM_Msg
1336846937948: Received UDP payload: 3397
1336846937950: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846937950: mux: Inside Packet.SERVER_REPLY
1336846937960: Received UDP payload: 446
1336846937961: mux: Inside mux Packet.CLIENT_REQUEST
1336846938272: Received UDP payload: 446
1336846939007: Received UDP payload: 1006
1336846939015: forwarding disabled, not forwarding packets
1336846939015: mux: GOT CSM_Msg
1336846939107: Received UDP payload: 3744
1336846939114: forwarding disabled, not forwarding packets
1336846939114: mux: GOT CSM_Msg
1336846939480: Received UDP payload: 446
1336846940909: inside sendPacket(Packet p)
1336846940912: Sending UDP payload: 446
1336846941467: Received UDP payload: 446
1336846941688: canPressButton = TRUE
1336846941689: areButtonsEnabled --> false 
1336846941690: areButtonsEnabled --> false
1336846941690: get picture disableButtonsR
1336846941734: one more getNum: 20
1336846941735: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1336846941735: change local requestCounter to 47
1336846941735: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=19 getBad=0 getTimedout=0 getPercent=95%
1336846941736: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010047 Client in region: 4 Client nodID: 5010
1336846941765: ----------------------------
1336846941766: I'm a leader, my requesting photos packet going to mux directly
1336846941766: inside sendRequestPacketRepeatingRunnable for requestCount = 5010047
1336846941766: mux: Inside mux Packet.CLIENT_REQUEST
1336846941767: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846941767: got new request, requestCounter = 5010047
1336846941767: inside handleClientRequest. Originator leader of region 4
1336846941767: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846941768: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(1,0)
1336846941768: Sending PROC_REQUEST 11:6 (4,0)->(1,0)
1336846941768: Sending to region: 1
1336846941769: Make FirstLeg Ack regardless of new or already-processed requests
1336846941769: Note down new request by adding requestCounter=5010047 to HashMap processedRequests
1336846941769: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846941775: mux: I got a CSM packet at a leader 
1336846941776: Sending UDP payload: 1006
1336846941776: forwarding disabled, not forwarding packets
1336846941777: --- Finished one round of sending REQUEST Packet ---------
1336846941817: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846941870: Received UDP payload: 3744
1336846941872: mux: GOT CSM_Msg
1336846941873: DSM layer: Going to and from remote region took latency = 105
1336846941873: DSM layer: orig leader sent packet at 1336846941768 ~ received reply from remote leader at 1336846941873
1336846941873: Received PROC_REPLY 11:6 (1,0)->(4,0), handing to UserApp
1336846941873: inside handleDSMReply. Now back in originator leader of region 4
1336846941874: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846941874: inside sendReplies of replyCount = 501004700
1336846941874: leader client reply has replyCounter: 501004700
1336846941874: reply packet contains the newest photo/success info from the remote region
1336846941875: =======================
1336846941875: Leader about to send REPLY packet, number: 501004700 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846941875: inside sendReplyRepeatingRunnable for replyCount = 501004700
1336846941876: === Finished one round of sending REPLY Packet =======
1336846941876: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846941877: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846941878: Inside _enableButtons
1336846941878: disabling progressdialog due to successful new photo get
1336846941879: areButtonsEnabled --> true
1336846941879: send final leg ack regardless of new or already-processed reply
1336846941880: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010048 Client in region: (4,0) Client nodID: 5010
1336846941880: inside finalLegAck: change requestCounter to 48
1336846941882: I'm a leader client, my final_leg packet going to mux directly
1336846941882: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501004700
1336846941882: Yay the last leg succeeded. Removing reply runnables ...
1336846941882: got new request, requestCounter = 5010048
1336846941882: inside handleClientRequest. Originator leader of region 4
1336846941882: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846941882: mux: Inside mux Packet.CLIENT_REQUEST
1336846941883: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501004700
1336846941883: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501004700
1336846941883: do not send ack for received final_leg_ack
1336846941883: leader download remote photo latency = 111
1336846941883: new client_show_remotephoto reply with replyCounter 501004700
1336846941883: note down new reply by adding replyCounter=501004700 to HashMap processedReplies
1336846941886: = leader download start 1336846941766 ~ stop 1336846941877
1336846941887: one more getGood: 20
1336846941887: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=20 getGood=20 getBad=0 getTimedout=0 getPercent=100%
1336846941888: Remote photo's length: 2716
1336846941888: Success! Client getting photo from remote region, showing photo...
1336846941888: adding get latency: 111
1336846942356: Received UDP payload: 446
1336846942519: Received UDP payload: 446
1336846942981: Received UDP payload: 642
1336846942987: mux: Inside mux Packet.CLIENT_REQUEST
1336846942988: inside handleClientRequest. Originator leader of region 4
1336846942988: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846942989: got new request, requestCounter = 5009047
1336846942990: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846942992: Sending to region: 1
1336846942993: Sending PROC_REQUEST 11:7 (4,0)->(1,0)
1336846942994: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(1,0)
1336846942995: Make FirstLeg Ack regardless of new or already-processed requests
1336846942995: Note down new request by adding requestCounter=5009047 to HashMap processedRequests
1336846942995: The leader sending a First Leg ack to originator client (which id = 5009)
1336846942996: inside sendPacket(Packet p)
1336846942996: mux: I got a CSM packet at a leader 
1336846943025: Sending UDP payload: 1006
1336846943028: forwarding disabled, not forwarding packets
1336846943032: Sending UDP payload: 446
1336846943110: Received UDP payload: 3744
1336846943112: Received PROC_REPLY 11:7 (1,0)->(4,0), handing to UserApp
1336846943112: inside handleDSMReply. Now back in originator leader of region 4
1336846943112: mux: GOT CSM_Msg
1336846943113: DSM layer: Going to and from remote region took latency = 120
1336846943113: DSM layer: orig leader sent packet at 1336846942992 ~ received reply from remote leader at 1336846943112
1336846943114: =======================
1336846943114: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846943114: inside sendReplies of replyCount = 500904700
1336846943114: inside sendReplyRepeatingRunnable for replyCount = 500904700
1336846943114: leader client reply has replyCounter: 500904700
1336846943114: reply packet contains the newest photo/success info from the remote region
1336846943115: === Finished one round of sending REPLY Packet =======
1336846943115: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846943115: Leader about to send REPLY packet, number: 500904700 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846943115: inside sendPacket(Packet p)
1336846943116: Sending UDP payload: 3397
1336846943180: Received UDP payload: 446
1336846943182: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500904700
1336846943182: Yay the last leg succeeded. Removing reply runnables ...
1336846943182: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500904700
1336846943182: got new request, requestCounter = 5009048
1336846943182: inside handleClientRequest. Originator leader of region 4
1336846943182: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846943182: mux: Inside mux Packet.CLIENT_REQUEST
1336846943183: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500904700
1336846943183: do not send ack for received final_leg_ack
1336846943270: Received UDP payload: 446
1336846944501: Received UDP payload: 446
1336846945910: inside sendPacket(Packet p)
1336846945923: Sending UDP payload: 446
1336846946490: Received UDP payload: 446
1336846947364: Received UDP payload: 446
1336846947536: Received UDP payload: 446
1336846948278: Received UDP payload: 446
1336846949499: Received UDP payload: 446
1336846950925: inside sendPacket(Packet p)
1336846950941: Sending UDP payload: 446
1336846951159: Received UDP payload: 642
1336846951163: mux: Inside mux Packet.CLIENT_REQUEST
1336846951205: Received UDP payload: 1006
1336846951214: forwarding disabled, not forwarding packets
1336846951214: mux: GOT CSM_Msg
1336846951218: Received UDP payload: 446
1336846951225: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846951225: mux: Inside Packet.SERVER_REPLY
1336846951298: Received UDP payload: 3791
1336846951300: mux: GOT CSM_Msg
1336846951301: forwarding disabled, not forwarding packets
1336846951357: Received UDP payload: 3444
1336846951359: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846951359: mux: Inside Packet.SERVER_REPLY
1336846951368: Received UDP payload: 446
1336846951370: mux: Inside mux Packet.CLIENT_REQUEST
1336846951495: Received UDP payload: 446
1336846952380: Received UDP payload: 446
1336846952456: Received UDP payload: 1006
1336846952464: mux: GOT CSM_Msg
1336846952465: forwarding disabled, not forwarding packets
1336846952528: Received UDP payload: 642
1336846952533: mux: Inside mux Packet.CLIENT_REQUEST
1336846952534: Received UDP payload: 446
1336846952549: Received UDP payload: 3791
1336846952557: forwarding disabled, not forwarding packets
1336846952557: mux: GOT CSM_Msg
1336846952591: Received UDP payload: 1006
1336846952593: forwarding disabled, not forwarding packets
1336846952593: mux: GOT CSM_Msg
1336846952598: Received UDP payload: 446
1336846952600: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846952600: mux: Inside Packet.SERVER_REPLY
1336846952643: Received UDP payload: 3791
1336846952646: forwarding disabled, not forwarding packets
1336846952646: mux: GOT CSM_Msg
1336846952701: Received UDP payload: 3444
1336846952702: mux: Inside Packet.SERVER_REPLY
1336846952703: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846952714: Received UDP payload: 446
1336846952716: mux: Inside mux Packet.CLIENT_REQUEST
1336846953277: Received UDP payload: 446
1336846953870: Received UDP payload: 1006
1336846953877: forwarding disabled, not forwarding packets
1336846953877: mux: GOT CSM_Msg
1336846953949: Received UDP payload: 3791
1336846953956: forwarding disabled, not forwarding packets
1336846953956: mux: GOT CSM_Msg
1336846954490: Received UDP payload: 446
1336846955944: inside sendPacket(Packet p)
1336846955946: Sending UDP payload: 446
1336846956496: Received UDP payload: 446
1336846957395: Received UDP payload: 446
1336846957528: Received UDP payload: 446
1336846958321: Received UDP payload: 446
1336846958605: Received UDP payload: 1006
1336846958614: forwarding disabled, not forwarding packets
1336846958614: mux: GOT CSM_Msg
1336846958701: Received UDP payload: 3791
1336846958703: forwarding disabled, not forwarding packets
1336846958703: mux: GOT CSM_Msg
1336846959547: Received UDP payload: 446
1336846960945: inside sendPacket(Packet p)
1336846960948: Sending UDP payload: 446
1336846961510: Received UDP payload: 446
1336846962244: Received UDP payload: 1006
1336846962253: forwarding disabled, not forwarding packets
1336846962253: mux: GOT CSM_Msg
1336846962283: Received UDP payload: 3791
1336846962291: forwarding disabled, not forwarding packets
1336846962291: mux: GOT CSM_Msg
1336846962402: Received UDP payload: 446
1336846962526: Received UDP payload: 446
1336846963286: Received UDP payload: 446
1336846964101: Received UDP payload: 642
1336846964105: mux: Inside mux Packet.CLIENT_REQUEST
1336846964154: Received UDP payload: 1006
1336846964161: mux: GOT CSM_Msg
1336846964162: forwarding disabled, not forwarding packets
1336846964171: Received UDP payload: 446
1336846964172: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846964172: mux: Inside Packet.SERVER_REPLY
1336846964218: Received UDP payload: 3791
1336846964220: mux: GOT CSM_Msg
1336846964221: forwarding disabled, not forwarding packets
1336846964273: Received UDP payload: 3444
1336846964274: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846964274: mux: Inside Packet.SERVER_REPLY
1336846964282: Received UDP payload: 446
1336846964284: mux: Inside mux Packet.CLIENT_REQUEST
1336846964579: Received UDP payload: 446
1336846965105: Received UDP payload: 1006
1336846965113: mux: GOT CSM_Msg
1336846965114: forwarding disabled, not forwarding packets
1336846965199: Received UDP payload: 3791
1336846965206: forwarding disabled, not forwarding packets
1336846965206: mux: GOT CSM_Msg
1336846965946: inside sendPacket(Packet p)
1336846965949: Sending UDP payload: 446
1336846966562: Received UDP payload: 446
1336846967403: Received UDP payload: 446
1336846967533: Received UDP payload: 446
1336846968282: Received UDP payload: 446
1336846968496: canPressButton = TRUE
1336846968497: areButtonsEnabled --> false 
1336846968497: get picture disableButtonsR
1336846968498: areButtonsEnabled --> false
1336846968533: one more getNum: 21
1336846968535: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1336846968535: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=20 getBad=0 getTimedout=0 getPercent=95%
1336846968536: change local requestCounter to 49
1336846968538: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010049 Client in region: 4 Client nodID: 5010
1336846968568: ----------------------------
1336846968568: I'm a leader, my requesting photos packet going to mux directly
1336846968568: inside sendRequestPacketRepeatingRunnable for requestCount = 5010049
1336846968569: --- Finished one round of sending REQUEST Packet ---------
1336846968569: inside handleClientRequest. Originator leader of region 4
1336846968569: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846968569: mux: Inside mux Packet.CLIENT_REQUEST
1336846968570: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846968570: got new request, requestCounter = 5010049
1336846968572: Sending to region: 2
1336846968573: Sending PROC_REQUEST 11:6 (4,0)->(2,0)
1336846968576: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(2,0)
1336846968576: Make FirstLeg Ack regardless of new or already-processed requests
1336846968576: Note down new request by adding requestCounter=5010049 to HashMap processedRequests
1336846968576: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846968577: mux: I got a CSM packet at a leader 
1336846968578: Sending UDP payload: 1006
1336846968581: forwarding disabled, not forwarding packets
1336846968609: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846968685: Received UDP payload: 3791
1336846968694: mux: GOT CSM_Msg
1336846968695: DSM layer: Going to and from remote region took latency = 123
1336846968695: DSM layer: orig leader sent packet at 1336846968572 ~ received reply from remote leader at 1336846968695
1336846968695: Received PROC_REPLY 11:6 (2,0)->(4,0), handing to UserApp
1336846968695: inside handleDSMReply. Now back in originator leader of region 4
1336846968696: =======================
1336846968696: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846968696: inside sendReplies of replyCount = 501004900
1336846968696: inside sendReplyRepeatingRunnable for replyCount = 501004900
1336846968696: leader client reply has replyCounter: 501004900
1336846968696: reply packet contains the newest photo/success info from the remote region
1336846968697: === Finished one round of sending REPLY Packet =======
1336846968697: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846968697: Leader about to send REPLY packet, number: 501004900 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846968701: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846968701: disabling progressdialog due to successful new photo get
1336846968702: Inside _enableButtons
1336846968702: areButtonsEnabled --> true
1336846968702: inside finalLegAck: change requestCounter to 50
1336846968702: send final leg ack regardless of new or already-processed reply
1336846968703: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010050 Client in region: (4,0) Client nodID: 5010
1336846968703: I'm a leader client, my final_leg packet going to mux directly
1336846968703: got new request, requestCounter = 5010050
1336846968703: inside handleClientRequest. Originator leader of region 4
1336846968703: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846968703: mux: Inside mux Packet.CLIENT_REQUEST
1336846968704: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501004900
1336846968704: Yay the last leg succeeded. Removing reply runnables ...
1336846968704: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501004900
1336846968704: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501004900
1336846968704: do not send ack for received final_leg_ack
1336846968704: new client_show_remotephoto reply with replyCounter 501004900
1336846968705: = leader download start 1336846968569 ~ stop 1336846968701
1336846968705: leader download remote photo latency = 132
1336846968705: note down new reply by adding replyCounter=501004900 to HashMap processedReplies
1336846968706: one more getGood: 21
1336846968707: adding get latency: 132
1336846968707: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=21 getGood=21 getBad=0 getTimedout=0 getPercent=100%
1336846968708: Remote photo's length: 2763
1336846968708: Success! Client getting photo from remote region, showing photo...
1336846969505: Received UDP payload: 446
1336846969792: Received UDP payload: 642
1336846969797: mux: Inside mux Packet.CLIENT_REQUEST
1336846969798: inside handleClientRequest. Originator leader of region 4
1336846969798: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846969799: got new request, requestCounter = 5009049
1336846969800: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846969811: Sending to region: 2
1336846969812: Sending PROC_REQUEST 11:7 (4,0)->(2,0)
1336846969813: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(2,0)
1336846969814: Make FirstLeg Ack regardless of new or already-processed requests
1336846969814: Note down new request by adding requestCounter=5009049 to HashMap processedRequests
1336846969814: The leader sending a First Leg ack to originator client (which id = 5009)
1336846969815: inside sendPacket(Packet p)
1336846969815: mux: I got a CSM packet at a leader 
1336846969826: Sending UDP payload: 1006
1336846969842: forwarding disabled, not forwarding packets
1336846969843: Sending UDP payload: 446
1336846969893: Received UDP payload: 3791
1336846969895: Received PROC_REPLY 11:7 (2,0)->(4,0), handing to UserApp
1336846969895: inside handleDSMReply. Now back in originator leader of region 4
1336846969895: mux: GOT CSM_Msg
1336846969896: DSM layer: Going to and from remote region took latency = 84
1336846969896: DSM layer: orig leader sent packet at 1336846969811 ~ received reply from remote leader at 1336846969895
1336846969896: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846969896: leader client reply has replyCounter: 500904900
1336846969897: =======================
1336846969897: inside sendReplies of replyCount = 500904900
1336846969897: reply packet contains the newest photo/success info from the remote region
1336846969898: === Finished one round of sending REPLY Packet =======
1336846969898: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336846969898: Leader about to send REPLY packet, number: 500904900 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336846969898: inside sendPacket(Packet p)
1336846969898: inside sendReplyRepeatingRunnable for replyCount = 500904900
1336846969899: Sending UDP payload: 3444
1336846969948: Received UDP payload: 446
1336846969949: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846969949: mux: Inside mux Packet.CLIENT_REQUEST
1336846969950: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500904900
1336846969950: Yay the last leg succeeded. Removing reply runnables ...
1336846969950: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500904900
1336846969950: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500904900
1336846969950: do not send ack for received final_leg_ack
1336846969950: got new request, requestCounter = 5009050
1336846969950: inside handleClientRequest. Originator leader of region 4
1336846970947: inside sendPacket(Packet p)
1336846970950: Sending UDP payload: 446
1336846971528: Received UDP payload: 446
1336846972407: Received UDP payload: 446
1336846972533: Received UDP payload: 446
1336846973288: Received UDP payload: 446
1336846974507: Received UDP payload: 446
1336846975772: Received UDP payload: 1006
1336846975779: forwarding disabled, not forwarding packets
1336846975779: mux: GOT CSM_Msg
1336846975826: Received UDP payload: 3734
1336846975832: forwarding disabled, not forwarding packets
1336846975832: mux: GOT CSM_Msg
1336846975947: inside sendPacket(Packet p)
1336846975949: Sending UDP payload: 446
1336846976530: Received UDP payload: 446
1336846977417: Received UDP payload: 446
1336846977533: Received UDP payload: 446
1336846978292: Received UDP payload: 446
1336846978529: Received UDP payload: 642
1336846978535: mux: Inside mux Packet.CLIENT_REQUEST
1336846978575: Received UDP payload: 1006
1336846978583: forwarding disabled, not forwarding packets
1336846978583: mux: GOT CSM_Msg
1336846978587: Received UDP payload: 446
1336846978588: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846978588: mux: Inside Packet.SERVER_REPLY
1336846978658: Received UDP payload: 3734
1336846978660: forwarding disabled, not forwarding packets
1336846978660: mux: GOT CSM_Msg
1336846978717: Received UDP payload: 3387
1336846978719: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846978719: mux: Inside Packet.SERVER_REPLY
1336846978730: Received UDP payload: 446
1336846978731: mux: Inside mux Packet.CLIENT_REQUEST
1336846979517: Received UDP payload: 446
1336846979954: Received UDP payload: 642
1336846979959: mux: Inside mux Packet.CLIENT_REQUEST
1336846979998: Received UDP payload: 1006
1336846980017: forwarding disabled, not forwarding packets
1336846980017: mux: GOT CSM_Msg
1336846980060: Received UDP payload: 1006
1336846980062: forwarding disabled, not forwarding packets
1336846980062: mux: GOT CSM_Msg
1336846980075: Received UDP payload: 3734
1336846980077: forwarding disabled, not forwarding packets
1336846980077: mux: GOT CSM_Msg
1336846980121: Received UDP payload: 3734
1336846980123: forwarding disabled, not forwarding packets
1336846980123: mux: GOT CSM_Msg
1336846980160: Received UDP payload: 3387
1336846980162: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846980162: mux: Inside Packet.SERVER_REPLY
1336846980174: Received UDP payload: 446
1336846980176: mux: Inside mux Packet.CLIENT_REQUEST
1336846980948: inside sendPacket(Packet p)
1336846980951: Sending UDP payload: 446
1336846981536: Received UDP payload: 446
1336846982428: Received UDP payload: 446
1336846982905: Received UDP payload: 446
1336846984543: Received UDP payload: 446
1336846985949: inside sendPacket(Packet p)
1336846985958: Sending UDP payload: 446
1336846986553: Received UDP payload: 446
1336846987456: Received UDP payload: 446
1336846988345: Received UDP payload: 446
1336846989537: Received UDP payload: 446
1336846990960: inside sendPacket(Packet p)
1336846990973: Sending UDP payload: 446
1336846991106: Received UDP payload: 1006
1336846991113: mux: GOT CSM_Msg
1336846991114: forwarding disabled, not forwarding packets
1336846991211: Received UDP payload: 3734
1336846991218: mux: GOT CSM_Msg
1336846991219: forwarding disabled, not forwarding packets
1336846991547: Received UDP payload: 446
1336846991879: Received UDP payload: 642
1336846991884: mux: Inside mux Packet.CLIENT_REQUEST
1336846991950: Received UDP payload: 1006
1336846991962: mux: GOT CSM_Msg
1336846991963: forwarding disabled, not forwarding packets
1336846991964: Received UDP payload: 446
1336846991967: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846991967: mux: Inside Packet.SERVER_REPLY
1336846992017: Received UDP payload: 3734
1336846992025: forwarding disabled, not forwarding packets
1336846992025: mux: GOT CSM_Msg
1336846992064: Received UDP payload: 3387
1336846992068: mux: Inside Packet.SERVER_REPLY
1336846992069: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336846992074: Received UDP payload: 446
1336846992075: mux: Inside mux Packet.CLIENT_REQUEST
1336846992457: Received UDP payload: 446
1336846992913: Received UDP payload: 446
1336846992953: Received UDP payload: 1006
1336846992966: forwarding disabled, not forwarding packets
1336846992966: mux: GOT CSM_Msg
1336846993040: Received UDP payload: 3734
1336846993041: mux: GOT CSM_Msg
1336846993042: forwarding disabled, not forwarding packets
1336846993365: Received UDP payload: 446
1336846994572: Received UDP payload: 446
1336846995975: inside sendPacket(Packet p)
1336846995978: Sending UDP payload: 446
1336846996566: Received UDP payload: 446
1336846997647: Received UDP payload: 446
1336846997916: Received UDP payload: 446
1336846998372: Received UDP payload: 446
1336846999407: canPressButton = TRUE
1336846999408: areButtonsEnabled --> false
1336846999408: areButtonsEnabled --> false 
1336846999408: get picture disableButtonsR
1336846999421: one more getNum: 22
1336846999422: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1336846999422: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=21 getBad=0 getTimedout=0 getPercent=95%
1336846999423: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010051 Client in region: 4 Client nodID: 5010
1336846999423: change local requestCounter to 51
1336846999455: ----------------------------
1336846999455: inside sendRequestPacketRepeatingRunnable for requestCount = 5010051
1336846999456: I'm a leader, my requesting photos packet going to mux directly
1336846999456: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336846999456: got new request, requestCounter = 5010051
1336846999456: inside handleClientRequest. Originator leader of region 4
1336846999456: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846999456: mux: Inside mux Packet.CLIENT_REQUEST
1336846999457: Sending PROC_REQUEST 11:6 (4,0)->(3,0)
1336846999457: Sending to region: 3
1336846999458: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(3,0)
1336846999458: Make FirstLeg Ack regardless of new or already-processed requests
1336846999458: Note down new request by adding requestCounter=5010051 to HashMap processedRequests
1336846999458: mux: I got a CSM packet at a leader 
1336846999458: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336846999460: Sending UDP payload: 1006
1336846999461: --- Finished one round of sending REQUEST Packet ---------
1336846999461: forwarding disabled, not forwarding packets
1336846999499: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336846999549: Received UDP payload: 3734
1336846999552: DSM layer: Going to and from remote region took latency = 95
1336846999552: DSM layer: orig leader sent packet at 1336846999457 ~ received reply from remote leader at 1336846999552
1336846999552: Received PROC_REPLY 11:6 (3,0)->(4,0), handing to UserApp
1336846999552: inside handleDSMReply. Now back in originator leader of region 4
1336846999552: mux: GOT CSM_Msg
1336846999553: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336846999553: inside sendReplies of replyCount = 501005100
1336846999553: leader client reply has replyCounter: 501005100
1336846999553: reply packet contains the newest photo/success info from the remote region
1336846999556: =======================
1336846999559: Leader about to send REPLY packet, number: 501005100 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336846999559: inside sendReplyRepeatingRunnable for replyCount = 501005100
1336846999560: === Finished one round of sending REPLY Packet =======
1336846999560: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336846999593: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336846999593: Inside _enableButtons
1336846999593: disabling progressdialog due to successful new photo get
1336846999594: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010052 Client in region: (4,0) Client nodID: 5010
1336846999594: areButtonsEnabled --> true
1336846999594: inside finalLegAck: change requestCounter to 52
1336846999594: send final leg ack regardless of new or already-processed reply
1336846999595: I'm a leader client, my final_leg packet going to mux directly
1336846999595: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501005100
1336846999595: Yay the last leg succeeded. Removing reply runnables ...
1336846999595: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501005100
1336846999595: got new request, requestCounter = 5010052
1336846999595: inside handleClientRequest. Originator leader of region 4
1336846999595: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336846999595: mux: Inside mux Packet.CLIENT_REQUEST
1336846999596: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501005100
1336846999596: do not send ack for received final_leg_ack
1336846999596: new client_show_remotephoto reply with replyCounter 501005100
1336846999597: = leader download start 1336846999456 ~ stop 1336846999593
1336846999597: leader download remote photo latency = 137
1336846999597: note down new reply by adding replyCounter=501005100 to HashMap processedReplies
1336846999598: one more getGood: 22
1336846999599: adding get latency: 137
1336846999599: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=22 getGood=22 getBad=0 getTimedout=0 getPercent=100%
1336846999600: Remote photo's length: 2706
1336846999600: Success! Client getting photo from remote region, showing photo...
1336847000753: Received UDP payload: 642
1336847000758: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847000758: mux: Inside mux Packet.CLIENT_REQUEST
1336847000759: inside handleClientRequest. Originator leader of region 4
1336847000760: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847000760: got new request, requestCounter = 5009051
1336847000762: Sending to region: 3
1336847000764: Sending PROC_REQUEST 11:7 (4,0)->(3,0)
1336847000765: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(3,0)
1336847000765: Make FirstLeg Ack regardless of new or already-processed requests
1336847000765: Note down new request by adding requestCounter=5009051 to HashMap processedRequests
1336847000766: The leader sending a First Leg ack to originator client (which id = 5009)
1336847000766: inside sendPacket(Packet p)
1336847000767: mux: I got a CSM packet at a leader 
1336847000791: Sending UDP payload: 1006
1336847000793: forwarding disabled, not forwarding packets
1336847000798: Sending UDP payload: 446
1336847000879: Received UDP payload: 3734
1336847000882: DSM layer: Going to and from remote region took latency = 119
1336847000882: Received PROC_REPLY 11:7 (3,0)->(4,0), handing to UserApp
1336847000882: inside handleDSMReply. Now back in originator leader of region 4
1336847000882: mux: GOT CSM_Msg
1336847000883: DSM layer: orig leader sent packet at 1336847000763 ~ received reply from remote leader at 1336847000882
1336847000883: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847000884: =======================
1336847000884: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336847000884: Leader about to send REPLY packet, number: 500905100 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336847000884: inside sendPacket(Packet p)
1336847000884: inside sendReplies of replyCount = 500905100
1336847000884: inside sendReplyRepeatingRunnable for replyCount = 500905100
1336847000884: leader client reply has replyCounter: 500905100
1336847000884: reply packet contains the newest photo/success info from the remote region
1336847000885: === Finished one round of sending REPLY Packet =======
1336847000886: Sending UDP payload: 3387
1336847000946: Received UDP payload: 446
1336847000947: got new request, requestCounter = 5009052
1336847000947: inside handleClientRequest. Originator leader of region 4
1336847000947: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847000947: mux: Inside mux Packet.CLIENT_REQUEST
1336847000948: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500905100
1336847000948: Yay the last leg succeeded. Removing reply runnables ...
1336847000948: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500905100
1336847000948: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500905100
1336847000948: do not send ack for received final_leg_ack
1336847000976: inside sendPacket(Packet p)
1336847000977: Sending UDP payload: 446
1336847001552: Received UDP payload: 446
1336847002653: Received UDP payload: 446
1336847002927: Received UDP payload: 446
1336847003373: Received UDP payload: 446
1336847004065: Received UDP payload: 1006
1336847004074: mux: GOT CSM_Msg
1336847004075: inside handleDSMRequest. At requests's remote leader of region 4
1336847004075: removed replies before id 6 from sentReplies of size 0
1336847004077: INSIDE SERVER_GET_PHOTO!!!
1336847004093: Received PROC_REQUEST 11:6 (1,0)->(4,0), replying PROC_REPLY 11:6 (4,0)->(1,0)
1336847004096: Dispatching Atom PROC_REPLY 11:6 (4,0)->(1,0)
1336847004096: mux: I got a CSM packet at a leader 
1336847004111: Sending UDP payload: 3781
1336847004114: forwarding disabled, not forwarding packets
1336847004540: Received UDP payload: 446
1336847005168: Received UDP payload: 642
1336847005174: mux: Inside mux Packet.CLIENT_REQUEST
1336847005225: Received UDP payload: 1006
1336847005233: mux: GOT CSM_Msg
1336847005233: removed replies before id 7 from sentReplies of size 0
1336847005234: inside handleDSMRequest. At requests's remote leader of region 4
1336847005236: INSIDE SERVER_GET_PHOTO!!!
1336847005244: Received PROC_REQUEST 11:7 (1,0)->(4,0), replying PROC_REPLY 11:7 (4,0)->(1,0)
1336847005246: Dispatching Atom PROC_REPLY 11:7 (4,0)->(1,0)
1336847005246: mux: I got a CSM packet at a leader 
1336847005249: Received UDP payload: 446
1336847005251: Sending UDP payload: 3781
1336847005261: forwarding disabled, not forwarding packets
1336847005262: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847005262: mux: Inside Packet.SERVER_REPLY
1336847005352: Received UDP payload: 3434
1336847005354: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847005354: mux: Inside Packet.SERVER_REPLY
1336847005365: Received UDP payload: 446
1336847005366: mux: Inside mux Packet.CLIENT_REQUEST
1336847005977: inside sendPacket(Packet p)
1336847005991: Sending UDP payload: 446
1336847006842: Received UDP payload: 446
1336847007658: Received UDP payload: 446
1336847007945: Received UDP payload: 446
1336847008024: Received UDP payload: 642
1336847008029: mux: Inside mux Packet.CLIENT_REQUEST
1336847008073: Received UDP payload: 1006
1336847008080: mux: GOT CSM_Msg
1336847008081: inside handleDSMRequest. At requests's remote leader of region 4
1336847008081: removed replies before id 6 from sentReplies of size 0
1336847008083: INSIDE SERVER_GET_PHOTO!!!
1336847008088: Received PROC_REQUEST 11:6 (0,0)->(4,0), replying PROC_REPLY 11:6 (4,0)->(0,0)
1336847008089: Dispatching Atom PROC_REPLY 11:6 (4,0)->(0,0)
1336847008100: Received UDP payload: 446
1336847008104: mux: I got a CSM packet at a leader 
1336847008104: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847008104: mux: Inside Packet.SERVER_REPLY
1336847008108: Sending UDP payload: 3781
1336847008111: forwarding disabled, not forwarding packets
1336847008195: Received UDP payload: 3434
1336847008198: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847008198: mux: Inside Packet.SERVER_REPLY
1336847008207: Received UDP payload: 446
1336847008209: mux: Inside mux Packet.CLIENT_REQUEST
1336847008375: Received UDP payload: 446
1336847009231: Received UDP payload: 1006
1336847009237: mux: GOT CSM_Msg
1336847009238: inside handleDSMRequest. At requests's remote leader of region 4
1336847009238: removed replies before id 7 from sentReplies of size 0
1336847009241: INSIDE SERVER_GET_PHOTO!!!
1336847009246: Received PROC_REQUEST 11:7 (0,0)->(4,0), replying PROC_REPLY 11:7 (4,0)->(0,0)
1336847009247: Dispatching Atom PROC_REPLY 11:7 (4,0)->(0,0)
1336847009248: mux: I got a CSM packet at a leader 
1336847009268: Sending UDP payload: 3781
1336847009280: forwarding disabled, not forwarding packets
1336847009538: Received UDP payload: 446
1336847010993: inside sendPacket(Packet p)
1336847011011: Sending UDP payload: 446
1336847011847: Received UDP payload: 446
1336847012656: Received UDP payload: 446
1336847012938: Received UDP payload: 446
1336847013373: Received UDP payload: 446
1336847014220: leader to cloud hearbeat...
1336847014400: Received UDP payload: 1006
1336847014407: mux: GOT CSM_Msg
1336847014408: inside handleDSMRequest. At requests's remote leader of region 4
1336847014408: removed replies before id 3 from sentReplies of size 0
1336847014411: INSIDE SERVER_GET_PHOTO!!!
1336847014430: Received PROC_REQUEST 11:3 (3,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(3,0)
1336847014431: Dispatching Atom PROC_REPLY 11:3 (4,0)->(3,0)
1336847014431: mux: I got a CSM packet at a leader 
1336847014435: Sending UDP payload: 3781
1336847014437: forwarding disabled, not forwarding packets
1336847014541: Received UDP payload: 446
1336847016013: inside sendPacket(Packet p)
1336847016021: Sending UDP payload: 446
1336847016286: Received UDP payload: 1006
1336847016294: mux: GOT CSM_Msg
1336847016295: inside handleDSMRequest. At requests's remote leader of region 4
1336847016295: removed replies before id 3 from sentReplies of size 0
1336847016297: INSIDE SERVER_GET_PHOTO!!!
1336847016301: Received PROC_REQUEST 11:3 (2,0)->(4,0), replying PROC_REPLY 11:3 (4,0)->(2,0)
1336847016302: Dispatching Atom PROC_REPLY 11:3 (4,0)->(2,0)
1336847016309: mux: I got a CSM packet at a leader 
1336847016313: Sending UDP payload: 3781
1336847016321: forwarding disabled, not forwarding packets
1336847016862: Received UDP payload: 446
1336847017673: Received UDP payload: 446
1336847017941: Received UDP payload: 446
1336847018418: Received UDP payload: 446
1336847019572: Received UDP payload: 446
1336847020496: Received UDP payload: 642
1336847020504: mux: Inside mux Packet.CLIENT_REQUEST
1336847020565: Received UDP payload: 1006
1336847020567: inside handleDSMRequest. At requests's remote leader of region 4
1336847020567: mux: GOT CSM_Msg
1336847020567: removed replies before id 6 from sentReplies of size 0
1336847020568: INSIDE SERVER_GET_PHOTO!!!
1336847020577: Received PROC_REQUEST 11:6 (5,0)->(4,0), replying PROC_REPLY 11:6 (4,0)->(5,0)
1336847020578: Dispatching Atom PROC_REPLY 11:6 (4,0)->(5,0)
1336847020578: mux: I got a CSM packet at a leader 
1336847020580: Received UDP payload: 446
1336847020580: Sending UDP payload: 3781
1336847020583: forwarding disabled, not forwarding packets
1336847020583: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847020583: mux: Inside Packet.SERVER_REPLY
1336847020665: Received UDP payload: 3434
1336847020666: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847020666: mux: Inside Packet.SERVER_REPLY
1336847020680: Received UDP payload: 446
1336847020682: mux: Inside mux Packet.CLIENT_REQUEST
1336847021023: inside sendPacket(Packet p)
1336847021024: Sending UDP payload: 446
1336847021724: canPressButton = TRUE
1336847021725: areButtonsEnabled --> false
1336847021725: areButtonsEnabled --> false 
1336847021725: get picture disableButtonsR
1336847021733: Received UDP payload: 1006
1336847021735: inside handleDSMRequest. At requests's remote leader of region 4
1336847021735: mux: GOT CSM_Msg
1336847021735: removed replies before id 7 from sentReplies of size 0
1336847021736: INSIDE SERVER_GET_PHOTO!!!
1336847021737: Received PROC_REQUEST 11:7 (5,0)->(4,0), replying PROC_REPLY 11:7 (4,0)->(5,0)
1336847021738: Dispatching Atom PROC_REPLY 11:7 (4,0)->(5,0)
1336847021738: mux: I got a CSM packet at a leader 
1336847021740: Sending UDP payload: 3781
1336847021741: forwarding disabled, not forwarding packets
1336847021752: one more getNum: 23
1336847021753: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=22 getBad=0 getTimedout=0 getPercent=95%
1336847021754: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1336847021754: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010053 Client in region: 4 Client nodID: 5010
1336847021754: change local requestCounter to 53
1336847021784: ----------------------------
1336847021784: inside sendRequestPacketRepeatingRunnable for requestCount = 5010053
1336847021785: I'm a leader, my requesting photos packet going to mux directly
1336847021785: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847021785: got new request, requestCounter = 5010053
1336847021785: inside handleClientRequest. Originator leader of region 4
1336847021785: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847021785: mux: Inside mux Packet.CLIENT_REQUEST
1336847021786: Sending PROC_REQUEST 11:14 (4,0)->(4,0)
1336847021786: Sending to region: 4
1336847021787: Dispatching Atom PROC_REQUEST 11:14 (4,0)->(4,0)
1336847021787: Note down new request by adding requestCounter=5010053 to HashMap processedRequests
1336847021788: Make FirstLeg Ack regardless of new or already-processed requests
1336847021788: mux: I got a CSM packet at a leader 
1336847021788: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336847021790: Sending UDP payload: 1006
1336847021791: inside handleDSMRequest. At requests's remote leader of region 4
1336847021791: removed replies before id 14 from sentReplies of size 0
1336847021792: INSIDE SERVER_GET_PHOTO!!!
1336847021793:  1 self to self atomRequest
1336847021793: dst_region == src_region = 4
1336847021794: Dispatching Atom PROC_REPLY 11:14 (4,0)->(4,0)
1336847021794: Received PROC_REQUEST 11:14 (4,0)->(4,0), replying PROC_REPLY 11:14 (4,0)->(4,0)
1336847021794: mux: I got a CSM packet at a leader 
1336847021795: Sending UDP payload: 3781
1336847021796: --- Finished one round of sending REQUEST Packet ---------
1336847021805: Received PROC_REPLY 11:14 (4,0)->(4,0), handing to UserApp
1336847021805: inside handleDSMReply. Now back in originator leader of region 4
1336847021806: DSM layer: Going to and from remote region took latency = 19
1336847021806: DSM layer: orig leader sent packet at 1336847021786 ~ received reply from remote leader at 1336847021805
1336847021807: =======================
1336847021807: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847021807: inside sendReplies of replyCount = 501005300
1336847021807: inside sendReplyRepeatingRunnable for replyCount = 501005300
1336847021807: leader client reply has replyCounter: 501005300
1336847021807: reply packet contains the newest photo/success info from the remote region
1336847021808: === Finished one round of sending REPLY Packet =======
1336847021808: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336847021808: Leader about to send REPLY packet, number: 501005300 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336847021841: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336847021867: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336847021867: disabling progressdialog due to successful new photo get
1336847021868: Inside _enableButtons
1336847021868: areButtonsEnabled --> true
1336847021868: send final leg ack regardless of new or already-processed reply
1336847021869: Received UDP payload: 446
1336847021870: inside finalLegAck: change requestCounter to 54
1336847021871: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010054 Client in region: (4,0) Client nodID: 5010
1336847021871: I'm a leader client, my final_leg packet going to mux directly
1336847021871: inside handleClientRequest. Originator leader of region 4
1336847021871: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847021871: mux: Inside mux Packet.CLIENT_REQUEST
1336847021872: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501005300
1336847021872: Yay the last leg succeeded. Removing reply runnables ...
1336847021872: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501005300
1336847021872: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501005300
1336847021872: do not send ack for received final_leg_ack
1336847021872: got new request, requestCounter = 5010054
1336847021872: new client_show_remotephoto reply with replyCounter 501005300
1336847021872: note down new reply by adding replyCounter=501005300 to HashMap processedReplies
1336847021873: = leader download start 1336847021785 ~ stop 1336847021867
1336847021873: leader download remote photo latency = 82
1336847021874: one more getGood: 23
1336847021874: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=23 getGood=23 getBad=0 getTimedout=0 getPercent=100%
1336847021875: Remote photo's length: 2753
1336847021875: Success! Client getting photo from remote region, showing photo...
1336847021875: adding get latency: 82
1336847022678: Received UDP payload: 446
1336847022908: Received UDP payload: 642
1336847022916: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847022916: mux: Inside mux Packet.CLIENT_REQUEST
1336847022917: got new request, requestCounter = 5009053
1336847022917: inside handleClientRequest. Originator leader of region 4
1336847022918: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847022920: Sending to region: 4
1336847022922: Sending PROC_REQUEST 11:15 (4,0)->(4,0)
1336847022924: Dispatching Atom PROC_REQUEST 11:15 (4,0)->(4,0)
1336847022924: Note down new request by adding requestCounter=5009053 to HashMap processedRequests
1336847022925: Make FirstLeg Ack regardless of new or already-processed requests
1336847022925: The leader sending a First Leg ack to originator client (which id = 5009)
1336847022925: inside sendPacket(Packet p)
1336847022926: mux: I got a CSM packet at a leader 
1336847022938: Received UDP payload: 446
1336847022951: Sending UDP payload: 1006
1336847022957: removed replies before id 15 from sentReplies of size 0
1336847022958: inside handleDSMRequest. At requests's remote leader of region 4
1336847022962: INSIDE SERVER_GET_PHOTO!!!
1336847022963:  1 self to self atomRequest
1336847022963: dst_region == src_region = 4
1336847022964: Dispatching Atom PROC_REPLY 11:15 (4,0)->(4,0)
1336847022964: Received PROC_REQUEST 11:15 (4,0)->(4,0), replying PROC_REPLY 11:15 (4,0)->(4,0)
1336847022965: Sending UDP payload: 446
1336847022966: mux: I got a CSM packet at a leader 
1336847022967: Sending UDP payload: 3781
1336847022975: DSM layer: Going to and from remote region took latency = 55
1336847022975: DSM layer: orig leader sent packet at 1336847022920 ~ received reply from remote leader at 1336847022975
1336847022975: Received PROC_REPLY 11:15 (4,0)->(4,0), handing to UserApp
1336847022975: inside handleDSMReply. Now back in originator leader of region 4
1336847022976: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847022976: leader client reply has replyCounter: 500905300
1336847022977: === Finished one round of sending REPLY Packet =======
1336847022977: =======================
1336847022977: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336847022977: Leader about to send REPLY packet, number: 500905300 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336847022977: inside sendPacket(Packet p)
1336847022977: inside sendReplies of replyCount = 500905300
1336847022977: inside sendReplyRepeatingRunnable for replyCount = 500905300
1336847022977: reply packet contains the newest photo/success info from the remote region
1336847022979: Sending UDP payload: 3434
1336847023086: Received UDP payload: 446
1336847023087: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847023087: mux: Inside mux Packet.CLIENT_REQUEST
1336847023088: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500905300
1336847023088: Yay the last leg succeeded. Removing reply runnables ...
1336847023088: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500905300
1336847023088: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500905300
1336847023088: do not send ack for received final_leg_ack
1336847023088: got new request, requestCounter = 5009054
1336847023088: inside handleClientRequest. Originator leader of region 4
1336847023382: Received UDP payload: 446
1336847024546: Received UDP payload: 446
1336847026022: inside sendPacket(Packet p)
1336847026031: Sending UDP payload: 446
1336847026888: Received UDP payload: 446
1336847027685: Received UDP payload: 446
1336847027945: Received UDP payload: 446
1336847028377: Received UDP payload: 446
1336847029556: Received UDP payload: 446
1336847031035: inside sendPacket(Packet p)
1336847031052: Sending UDP payload: 446
1336847031902: Received UDP payload: 446
1336847032699: Received UDP payload: 446
1336847032943: Received UDP payload: 446
1336847033388: Received UDP payload: 446
1336847034443: Received UDP payload: 642
1336847034447: mux: Inside mux Packet.CLIENT_REQUEST
1336847034481: Received UDP payload: 1006
1336847034488: forwarding disabled, not forwarding packets
1336847034488: mux: GOT CSM_Msg
1336847034500: Received UDP payload: 446
1336847034504: mux: Inside Packet.SERVER_REPLY
1336847034505: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847034562: Received UDP payload: 446
1336847034574: Received UDP payload: 3766
1336847034576: forwarding disabled, not forwarding packets
1336847034576: mux: GOT CSM_Msg
1336847034632: Received UDP payload: 3419
1336847034633: mux: Inside Packet.SERVER_REPLY
1336847034634: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847034644: Received UDP payload: 446
1336847034645: mux: Inside mux Packet.CLIENT_REQUEST
1336847035700: Received UDP payload: 1006
1336847035707: forwarding disabled, not forwarding packets
1336847035707: mux: GOT CSM_Msg
1336847035795: Received UDP payload: 3766
1336847035801: mux: GOT CSM_Msg
1336847035802: forwarding disabled, not forwarding packets
1336847036057: inside sendPacket(Packet p)
1336847036060: Sending UDP payload: 446
1336847036905: Received UDP payload: 642
1336847036909: mux: Inside mux Packet.CLIENT_REQUEST
1336847036920: Received UDP payload: 446
1336847036957: Received UDP payload: 1006
1336847036964: mux: GOT CSM_Msg
1336847036966: forwarding disabled, not forwarding packets
1336847036969: Received UDP payload: 446
1336847036973: mux: Inside Packet.SERVER_REPLY
1336847036974: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847037018: Received UDP payload: 3766
1336847037020: forwarding disabled, not forwarding packets
1336847037020: mux: GOT CSM_Msg
1336847037068: Received UDP payload: 3419
1336847037070: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847037070: mux: Inside Packet.SERVER_REPLY
1336847037081: Received UDP payload: 446
1336847037082: mux: Inside mux Packet.CLIENT_REQUEST
1336847037684: Received UDP payload: 446
1336847037946: Received UDP payload: 446
1336847038398: Received UDP payload: 446
1336847038600: Received UDP payload: 1006
1336847038608: forwarding disabled, not forwarding packets
1336847038608: mux: GOT CSM_Msg
1336847038690: Received UDP payload: 3766
1336847038697: forwarding disabled, not forwarding packets
1336847038697: mux: GOT CSM_Msg
1336847039563: Received UDP payload: 446
1336847041058: inside sendPacket(Packet p)
1336847041071: Sending UDP payload: 446
1336847041918: Received UDP payload: 446
1336847042728: Received UDP payload: 446
1336847042948: Received UDP payload: 446
1336847043405: Received UDP payload: 446
1336847044552: Received UDP payload: 1006
1336847044558: forwarding disabled, not forwarding packets
1336847044558: mux: GOT CSM_Msg
1336847044579: Received UDP payload: 446
1336847044702: Received UDP payload: 3766
1336847044708: mux: GOT CSM_Msg
1336847044709: forwarding disabled, not forwarding packets
1336847046074: inside sendPacket(Packet p)
1336847046082: Sending UDP payload: 446
1336847046925: Received UDP payload: 446
1336847047691: Received UDP payload: 446
1336847047843: Received UDP payload: 1006
1336847047853: forwarding disabled, not forwarding packets
1336847047853: mux: GOT CSM_Msg
1336847047939: Received UDP payload: 3766
1336847047946: forwarding disabled, not forwarding packets
1336847047946: mux: GOT CSM_Msg
1336847047977: Received UDP payload: 446
1336847048406: Received UDP payload: 446
1336847049590: Received UDP payload: 446
1336847051081: inside sendPacket(Packet p)
1336847051084: Sending UDP payload: 446
1336847051925: Received UDP payload: 446
1336847052722: Received UDP payload: 446
1336847052924: Received UDP payload: 642
1336847052934: mux: Inside mux Packet.CLIENT_REQUEST
1336847052956: Received UDP payload: 446
1336847052971: Received UDP payload: 1006
1336847052977: mux: GOT CSM_Msg
1336847052978: forwarding disabled, not forwarding packets
1336847053006: Received UDP payload: 446
1336847053007: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847053007: mux: Inside Packet.SERVER_REPLY
1336847053052: Received UDP payload: 3766
1336847053054: forwarding disabled, not forwarding packets
1336847053054: mux: GOT CSM_Msg
1336847053091: Received UDP payload: 3419
1336847053093: mux: Ignoring SERVER_REPLY since it's not for me  5010
1336847053093: mux: Inside Packet.SERVER_REPLY
1336847053104: Received UDP payload: 446
1336847053105: mux: Inside mux Packet.CLIENT_REQUEST
1336847053393: Received UDP payload: 446
1336847054331: Received UDP payload: 1006
1336847054338: forwarding disabled, not forwarding packets
1336847054338: mux: GOT CSM_Msg
1336847054386: Received UDP payload: 3766
1336847054395: mux: GOT CSM_Msg
1336847054396: forwarding disabled, not forwarding packets
1336847054576: Received UDP payload: 446
1336847056082: inside sendPacket(Packet p)
1336847056084: Sending UDP payload: 446
1336847056948: Received UDP payload: 446
1336847057716: Received UDP payload: 446
1336847057958: Received UDP payload: 446
1336847058408: Received UDP payload: 446
1336847059565: Received UDP payload: 446
1336847061082: inside sendPacket(Packet p)
1336847061085: Sending UDP payload: 446
1336847061928: Received UDP payload: 446
1336847062524: areButtonsEnabled --> false 
1336847062524: canPressButton = TRUE
1336847062524: get picture disableButtonsR
1336847062525: areButtonsEnabled --> false
1336847062538: one more getNum: 24
1336847062539: ** Client of state 2 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1336847062539: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=23 getBad=0 getTimedout=0 getPercent=95%
1336847062540: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5010055 Client in region: 4 Client nodID: 5010
1336847062540: change local requestCounter to 55
1336847062571: ----------------------------
1336847062572: I'm a leader, my requesting photos packet going to mux directly
1336847062572: inside sendRequestPacketRepeatingRunnable for requestCount = 5010055
1336847062572: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847062572: mux: Inside mux Packet.CLIENT_REQUEST
1336847062573: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847062573: Sending to region: 5
1336847062573: got new request, requestCounter = 5010055
1336847062573: inside handleClientRequest. Originator leader of region 4
1336847062574: Dispatching Atom PROC_REQUEST 11:6 (4,0)->(5,0)
1336847062574: Make FirstLeg Ack regardless of new or already-processed requests
1336847062574: Note down new request by adding requestCounter=5010055 to HashMap processedRequests
1336847062574: Sending PROC_REQUEST 11:6 (4,0)->(5,0)
1336847062574: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5010)
1336847062575: mux: I got a CSM packet at a leader 
1336847062578: Sending UDP payload: 1006
1336847062579: --- Finished one round of sending REQUEST Packet ---------
1336847062579: forwarding disabled, not forwarding packets
1336847062625: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1336847062690: Received UDP payload: 3766
1336847062692: Received PROC_REPLY 11:6 (5,0)->(4,0), handing to UserApp
1336847062692: mux: GOT CSM_Msg
1336847062693: DSM layer: Going to and from remote region took latency = 119
1336847062693: DSM layer: orig leader sent packet at 1336847062574 ~ received reply from remote leader at 1336847062693
1336847062693: Originator Region=4's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847062693: inside handleDSMReply. Now back in originator leader of region 4
1336847062694: =======================
1336847062694: Leader about to send REPLY packet, number: 501005500 type: 15 Leader in region: (4,0) to Client nodID: 5010
1336847062694: inside sendReplies of replyCount = 501005500
1336847062694: inside sendReplyRepeatingRunnable for replyCount = 501005500
1336847062694: leader client reply has replyCounter: 501005500
1336847062694: reply packet contains the newest photo/success info from the remote region
1336847062695: === Finished one round of sending REPLY Packet =======
1336847062695: I (the leader) was also the originator client (id = 5010) so I hand the packet to my mux directly, without UDP
1336847062696: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1336847062697: Inside _enableButtons
1336847062697: disabling progressdialog due to successful new photo get
1336847062698: areButtonsEnabled --> true
1336847062699: inside finalLegAck: change requestCounter to 56
1336847062699: send final leg ack regardless of new or already-processed reply
1336847062700: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5010056 Client in region: (4,0) Client nodID: 5010
1336847062700: I'm a leader client, my final_leg packet going to mux directly
1336847062700: new client_show_remotephoto reply with replyCounter 501005500
1336847062701: = leader download start 1336847062572 ~ stop 1336847062696
1336847062701: leader download remote photo latency = 124
1336847062701: note down new reply by adding replyCounter=501005500 to HashMap processedReplies
1336847062702: one more getGood: 24
1336847062703: Success! Client getting photo from remote region, showing photo...
1336847062703: adding get latency: 124
1336847062703: reg=4 id=5010 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=24 getGood=24 getBad=0 getTimedout=0 getPercent=100%
1336847062704: mux: Inside mux Packet.CLIENT_REQUEST
1336847062706: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847062721: Received UDP payload: 446
1336847062724: inside handleClientRequest. Originator leader of region 4
1336847062725: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501005500
1336847062725: Yay the last leg succeeded. Removing reply runnables ...
1336847062725: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501005500
1336847062725: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501005500
1336847062725: do not send ack for received final_leg_ack
1336847062725: got new request, requestCounter = 5010056
1336847062732: Remote photo's length: 2738
1336847062958: Received UDP payload: 446
1336847063418: Received UDP payload: 446
1336847064018: Received UDP payload: 642
1336847064029: mux: Inside mux Packet.CLIENT_REQUEST
1336847064030: inside handleClientRequest. Originator leader of region 4
1336847064030: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847064031: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1336847064031: got new request, requestCounter = 5009055
1336847064041: Sending to region: 5
1336847064043: Sending PROC_REQUEST 11:7 (4,0)->(5,0)
1336847064044: Dispatching Atom PROC_REQUEST 11:7 (4,0)->(5,0)
1336847064045: Make FirstLeg Ack regardless of new or already-processed requests
1336847064045: Note down new request by adding requestCounter=5009055 to HashMap processedRequests
1336847064045: The leader sending a First Leg ack to originator client (which id = 5009)
1336847064046: inside sendPacket(Packet p)
1336847064046: mux: I got a CSM packet at a leader 
1336847064063: Sending UDP payload: 1006
1336847064065: forwarding disabled, not forwarding packets
1336847064068: Sending UDP payload: 446
1336847064137: Received UDP payload: 3766
1336847064140: DSM layer: Going to and from remote region took latency = 98
1336847064140: DSM layer: orig leader sent packet at 1336847064042 ~ received reply from remote leader at 1336847064140
1336847064140: Received PROC_REPLY 11:7 (5,0)->(4,0), handing to UserApp
1336847064140: inside handleDSMReply. Now back in originator leader of region 4
1336847064140: mux: GOT CSM_Msg
1336847064141: Originator Region=4's Leader (for Client=5009) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1336847064141: inside sendReplies of replyCount = 500905500
1336847064141: leader client reply has replyCounter: 500905500
1336847064141: reply packet contains the newest photo/success info from the remote region
1336847064142: =======================
1336847064142: inside sendReplyRepeatingRunnable for replyCount = 500905500
1336847064143: === Finished one round of sending REPLY Packet =======
1336847064143: I (the leader) was not the originator client (which id = 5009) so I use UDP to send packet back to my nonleader
1336847064143: Leader about to send REPLY packet, number: 500905500 type: 15 Leader in region: (4,0) to Client nodID: 5009
1336847064143: inside sendPacket(Packet p)
1336847064144: Sending UDP payload: 3419
1336847064200: Received UDP payload: 446
1336847064201: got new request, requestCounter = 5009056
1336847064201: inside handleClientRequest. Originator leader of region 4
1336847064201: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1336847064201: mux: Inside mux Packet.CLIENT_REQUEST
1336847064202: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500905500
1336847064202: Yay the last leg succeeded. Removing reply runnables ...
1336847064202: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500905500
1336847064202: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500905500
1336847064202: do not send ack for received final_leg_ack
1336847064567: Received UDP payload: 446
1336847066085: inside sendPacket(Packet p)
1336847066095: Sending UDP payload: 446
1336847066930: Received UDP payload: 446
1336847067728: Received UDP payload: 446
1336847067975: Received UDP payload: 446
1336847068433: Received UDP payload: 446
1336847069568: Received UDP payload: 446
1336847071098: inside sendPacket(Packet p)
1336847071101: Sending UDP payload: 446
1336847072740: Received UDP payload: 446
1336847072977: Received UDP payload: 446
1336847073436: Received UDP payload: 446
1336847074570: Received UDP payload: 446
1336847076098: inside sendPacket(Packet p)
1336847076101: Sending UDP payload: 446
1336847077786: Received UDP payload: 446
1336847078015: Received UDP payload: 446
1336847079587: Received UDP payload: 446
1336847081100: inside sendPacket(Packet p)
1336847081112: Sending UDP payload: 446
1336847082771: Received UDP payload: 446
1336847082987: Received UDP payload: 446
1336847084612: Received UDP payload: 446
1336847086115: inside sendPacket(Packet p)
1336847086131: Sending UDP payload: 446
1336847087764: Received UDP payload: 446
1336847089593: Received UDP payload: 446
1336847091133: inside sendPacket(Packet p)
1336847091136: Sending UDP payload: 446
1336847092766: Received UDP payload: 446
1336847096135: inside sendPacket(Packet p)
1336847096138: Sending UDP payload: 446
1336847097762: Received UDP payload: 446
1336847101136: inside sendPacket(Packet p)
1336847101142: Sending UDP payload: 446
1336847102415: HI I'm in ONPAUSE()
1336847103596: inside onDestroy()
