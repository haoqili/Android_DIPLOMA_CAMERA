1335796341586: *** Opened log file for writing ***
1335796341587: Android build: SAMSUNG-SGH-I717
1335796341587: NET_NAME set to: eth0
1335796341587: starting Mux with id = -1
1335796341588: areButtonsEnabled --> true
1335796341589: *** Application started ***
1335796341590: HI I'm in ONRESUME()
1335796341593: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1335796341597: ************ GPS turned OFF *************
1335796341602: mux: Mux.java run() beginning -------------
1335796341611: mux: Mux.java's nodeId is5011
1335796341611: mux: starting vncDaemon ........
1335796341612: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1335796341624: VCoreDaemon.java onStart() ....
1335796341624: mux: vncDaemon started
1335796341625: ..... VCoreDaemon.java out of bounds
1335796341625: VCoreDaemon.java inside stateTransition ..........
1335796341625: region (-1, -1) out of bounds, dormant
1335796341625: removing leaderRequestRetryR because I'm doing a stateTransition
1335796341625: started, mId = 5011
1335796341626: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335796341791: Received UDP payload: 4732
1335796341807: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796341807: mux: Inside Packet.SERVER_REPLY
1335796342479: Received UDP payload: 4732
1335796342494: mux: Inside Packet.SERVER_REPLY
1335796342495: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796342541: Received UDP payload: 4732
1335796342543: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796342543: mux: Inside Packet.SERVER_REPLY
1335796342549: Received UDP payload: 446
1335796342551: mux: Inside mux Packet.CLIENT_REQUEST
1335796342649: Received UDP payload: 4732
1335796342652: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796342652: mux: Inside Packet.SERVER_REPLY
1335796342922: Received UDP payload: 446
1335796342994: Received UDP payload: 4732
1335796342996: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796342996: mux: Inside Packet.SERVER_REPLY
1335796343264: Received UDP payload: 4732
1335796343266: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796343266: mux: Inside Packet.SERVER_REPLY
1335796343634: Received UDP payload: 446
1335796343903: Received UDP payload: 4732
1335796343915: mux: Inside Packet.SERVER_REPLY
1335796343916: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796344212: Received UDP payload: 4732
1335796344223: mux: Inside Packet.SERVER_REPLY
1335796344224: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796344683: Received UDP payload: 4732
1335796344699: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796344699: mux: Inside Packet.SERVER_REPLY
1335796344711: Received UDP payload: 446
1335796344718: mux: Inside mux Packet.CLIENT_REQUEST
1335796345209: Received UDP payload: 446
1335796345215: Received UDP payload: 4732
1335796345220: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796345220: mux: Inside Packet.SERVER_REPLY
1335796345307: Received UDP payload: 4732
1335796345312: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796345312: mux: Inside Packet.SERVER_REPLY
1335796345338: Received UDP payload: 446
1335796345344: mux: Inside mux Packet.CLIENT_REQUEST
1335796345413: Received UDP payload: 4732
1335796345421: mux: Inside Packet.SERVER_REPLY
1335796345422: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796345787: Received UDP payload: 4732
1335796345794: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796345794: mux: Inside Packet.SERVER_REPLY
1335796346057: Received UDP payload: 4732
1335796346067: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796346067: mux: Inside Packet.SERVER_REPLY
1335796346086: Received UDP payload: 446
1335796346092: mux: Inside mux Packet.CLIENT_REQUEST
1335796346336: Received UDP payload: 4732
1335796346337: mux: Inside Packet.SERVER_REPLY
1335796346338: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796346638: Received UDP payload: 4732
1335796346641: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796346641: mux: Inside Packet.SERVER_REPLY
1335796346724: Received UDP payload: 625
1335796346731: mux: Inside mux Packet.CLIENT_REQUEST
1335796346794: Received UDP payload: 989
1335796346813: mux: GOT CSM_Msg
1335796346859: Received UDP payload: 4186
1335796346872: mux: GOT CSM_Msg
1335796346917: Received UDP payload: 3839
1335796346926: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796346926: mux: Inside Packet.SERVER_REPLY
1335796347003: Received UDP payload: 4732
1335796347013: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796347013: mux: Inside Packet.SERVER_REPLY
1335796347121: Received UDP payload: 625
1335796347127: mux: Inside mux Packet.CLIENT_REQUEST
1335796347134: Received UDP payload: 446
1335796347140: mux: Inside Packet.SERVER_REPLY
1335796347141: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796347192: Received UDP payload: 3839
1335796347200: mux: Inside Packet.SERVER_REPLY
1335796347201: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796347283: Received UDP payload: 4732
1335796347285: mux: Inside Packet.SERVER_REPLY
1335796347286: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796347334: Received UDP payload: 446
1335796347340: mux: Inside mux Packet.CLIENT_REQUEST
1335796347563: Received UDP payload: 4732
1335796347570: mux: Inside Packet.SERVER_REPLY
1335796347571: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796347825: Received UDP payload: 4732
1335796347831: mux: Inside Packet.SERVER_REPLY
1335796347838: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796347924: Received UDP payload: 446
1335796348146: Received UDP payload: 4732
1335796348151: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796348151: mux: Inside Packet.SERVER_REPLY
1335796348181: Received UDP payload: 446
1335796348183: mux: Inside mux Packet.CLIENT_REQUEST
1335796348449: Received UDP payload: 4732
1335796348451: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796348451: mux: Inside Packet.SERVER_REPLY
1335796348866: Received UDP payload: 446
1335796348962: Received UDP payload: 4732
1335796348964: mux: Inside Packet.SERVER_REPLY
1335796348965: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796349001: Received UDP payload: 446
1335796349004: mux: Inside mux Packet.CLIENT_REQUEST
1335796349074: VCoreDaemon.java inside stateTransition ..........
1335796349074: moving from region (-1,-1), to (2,0)
1335796349075: ..... VCoreDaemon.java targetState = JOINING (2,0)
1335796349075: removing leaderRequestRetryR because I'm doing a stateTransition
1335796349076: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335796349076: inside sendPacket(Packet p)
1335796349076: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335796349076: posting leaderRequestRetryR because I'm joining
1335796349076: sending LEADER_REQUEST
1335796349082: Sending UDP payload: 446
1335796349138: Received UDP payload: 446
1335796349142: mux: Inside mux Packet.CLIENT_REQUEST
1335796349377: inside sendPacket(Packet p)
1335796349377: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335796349377: sending LEADER_REQUEST
1335796349379: Sending UDP payload: 446
1335796349678: inside sendPacket(Packet p)
1335796349678: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335796349678: sending LEADER_REQUEST
1335796349679: Sending UDP payload: 446
1335796349763: Received UDP payload: 989
1335796349767: mux: GOT CSM_Msg
1335796349835: Received UDP payload: 4732
1335796349837: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796349837: mux: Inside Packet.SERVER_REPLY
1335796349979: inside sendPacket(Packet p)
1335796349979: sending LEADER_REQUEST
1335796349980: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335796349983: Sending UDP payload: 446
1335796350076: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335796350077: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335796350078: VCoreDaemon.java inside stateTransition ..........
1335796350079: ..... VCoreDaemon.java targetState = LEADER
1335796350079: removing leaderRequestRetryR because I'm doing a stateTransition
1335796350080: trying to take leadership (2,0) to the cloud
1335796350132: Received UDP payload: 446
1335796350143: mux: Inside mux Packet.CLIENT_REQUEST
1335796350184: Received UDP payload: 446
1335796350400: Received UDP payload: 4732
1335796350402: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796350402: mux: Inside Packet.SERVER_REPLY
1335796350421: Received UDP payload: 446
1335796350423: mux: Inside mux Packet.CLIENT_REQUEST
1335796350691: Received UDP payload: 4732
1335796350702: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796350702: mux: Inside Packet.SERVER_REPLY
1335796350899: Received UDP payload: 4538
1335796350940: mux: GOT CSM_Msg
1335796351034: Received UDP payload: 989
1335796351045: Received UDP payload: 4732
1335796351045: mux: GOT CSM_Msg
1335796351048: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796351048: mux: Inside Packet.SERVER_REPLY
1335796351332: cloud accepted leadership request, no csm data included.
1335796351343: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1335796351344: *** CSM Layer starting with cache disabled ***
1335796351344: *** CSM Layer starting with forwarding disabled ***
1335796351344: *** Starting CSM Layer ***
1335796351348: Received UDP payload: 4732
1335796351354: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796351354: mux: Inside Packet.SERVER_REPLY
1335796351361: DSMLayer starting
1335796351361: UserApp started.
1335796351371: UserApp for Camera Diploma initialized and waiting for requests.
1335796351557: inside sendPacket(Packet p)
1335796351572: Sending UDP payload: 22318
1335796351577: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335796351577: now fully up as LEADER (id=5011) of (2,0)
1335796351579: Received UDP payload: 4732
1335796351581: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796351581: mux: Inside Packet.SERVER_REPLY
1335796351628: inside sendPacket(Packet p)
1335796351629: Sending UDP payload: 446
1335796352229: Received UDP payload: 4732
1335796352242: mux: Inside Packet.SERVER_REPLY
1335796352243: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796352492: Received UDP payload: 4732
1335796352496: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796352496: mux: Inside Packet.SERVER_REPLY
1335796352519: Received UDP payload: 446
1335796352522: mux: Inside mux Packet.CLIENT_REQUEST
1335796352826: Received UDP payload: 4732
1335796352830: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796352830: mux: Inside Packet.SERVER_REPLY
1335796352857: Received UDP payload: 446
1335796352866: mux: Inside mux Packet.CLIENT_REQUEST
1335796352932: Received UDP payload: 446
1335796353099: Received UDP payload: 4732
1335796353103: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796353103: mux: Inside Packet.SERVER_REPLY
1335796353121: Received UDP payload: 446
1335796353125: mux: Inside mux Packet.CLIENT_REQUEST
1335796353704: Received UDP payload: 446
1335796353798: Received UDP payload: 4732
1335796353808: mux: Inside Packet.SERVER_REPLY
1335796353809: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796353893: Received UDP payload: 989
1335796353913: mux: GOT CSM_Msg
1335796353914: forwarding disabled, not forwarding packets
1335796353976: Received UDP payload: 6184
1335796353987: forwarding disabled, not forwarding packets
1335796353987: mux: GOT CSM_Msg
1335796354036: Received UDP payload: 4732
1335796354042: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796354042: mux: Inside Packet.SERVER_REPLY
1335796354059: Received UDP payload: 446
1335796354081: mux: Inside mux Packet.CLIENT_REQUEST
1335796354328: Received UDP payload: 4732
1335796354333: mux: Inside Packet.SERVER_REPLY
1335796354334: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796354407: Received UDP payload: 446
1335796354414: mux: Inside mux Packet.CLIENT_REQUEST
1335796354665: Received UDP payload: 446
1335796354673: mux: Inside mux Packet.CLIENT_REQUEST
1335796354937: Received UDP payload: 4732
1335796354947: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796354947: mux: Inside Packet.SERVER_REPLY
1335796355186: Received UDP payload: 446
1335796355276: Received UDP payload: 4732
1335796355284: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796355284: mux: Inside Packet.SERVER_REPLY
1335796356192: Received UDP payload: 4732
1335796356200: mux: Inside Packet.SERVER_REPLY
1335796356201: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796356232: Received UDP payload: 446
1335796356240: mux: Inside mux Packet.CLIENT_REQUEST
1335796356272: Received UDP payload: 4732
1335796356274: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796356274: mux: Inside Packet.SERVER_REPLY
1335796356362: Received UDP payload: 446
1335796356364: mux: Inside mux Packet.CLIENT_REQUEST
1335796356450: Received UDP payload: 4732
1335796356453: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796356453: mux: Inside Packet.SERVER_REPLY
1335796356461: Received UDP payload: 446
1335796356462: mux: Inside mux Packet.CLIENT_REQUEST
1335796356629: inside sendPacket(Packet p)
1335796356630: Sending UDP payload: 446
1335796356752: Received UDP payload: 4732
1335796356754: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796356754: mux: Inside Packet.SERVER_REPLY
1335796357058: Received UDP payload: 4732
1335796357066: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796357066: mux: Inside Packet.SERVER_REPLY
1335796357084: Received UDP payload: 446
1335796357092: mux: Inside mux Packet.CLIENT_REQUEST
1335796357373: Received UDP payload: 4732
1335796357376: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796357376: mux: Inside Packet.SERVER_REPLY
1335796357678: Received UDP payload: 5750
1335796357689: mux: GOT CSM_Msg
1335796357690: forwarding disabled, not forwarding packets
1335796357726: Received UDP payload: 989
1335796357735: forwarding disabled, not forwarding packets
1335796357735: mux: GOT CSM_Msg
1335796357741: Received UDP payload: 4732
1335796357745: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796357745: mux: Inside Packet.SERVER_REPLY
1335796357800: Received UDP payload: 642
1335796357802: mux: Inside Packet.SERVER_REPLY
1335796357803: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796357813: Received UDP payload: 446
1335796357815: mux: Inside mux Packet.CLIENT_REQUEST
1335796357942: Received UDP payload: 446
1335796358233: Received UDP payload: 4732
1335796358235: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796358235: mux: Inside Packet.SERVER_REPLY
1335796358544: Received UDP payload: 4732
1335796358546: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796358546: mux: Inside Packet.SERVER_REPLY
1335796358678: Received UDP payload: 446
1335796358769: canPressButton = TRUE
1335796358770: areButtonsEnabled --> false
1335796358770: areButtonsEnabled --> false 
1335796358770: get picture disableButtonsR
1335796358870: Received UDP payload: 4732
1335796358872: mux: Inside Packet.SERVER_REPLY
1335796358873: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796358882: Received UDP payload: 446
1335796358885: mux: Inside mux Packet.CLIENT_REQUEST
1335796358895: one more getNum: 1
1335796358896: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=0 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=-1% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1335796358897: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335796358897: change local requestCounter to 1
1335796358905: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5011001 Client in region: 2 Client nodID: 5011
1335796358938: ----------------------------
1335796358939: I'm a leader, my requesting photos packet going to mux directly
1335796358939: inside sendRequestPacketRepeatingRunnable for requestCount = 5011001
1335796358939: mux: Inside mux Packet.CLIENT_REQUEST
1335796358940: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796358940: got new request, requestCounter = 5011001
1335796358940: inside handleClientRequest. Originator leader of region 2
1335796358940: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796358942: Sending PROC_REQUEST 11:0 (2,0)->(0,0)
1335796358942: Sending to region: 0
1335796358943: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(0,0)
1335796358943: Make FirstLeg Ack regardless of new or already-processed requests
1335796358943: Note down new request by adding requestCounter=5011001 to HashMap processedRequests
1335796358943: mux: I got a CSM packet at a leader 
1335796358943: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5011)
1335796358946: Sending UDP payload: 989
1335796358947: --- Finished one round of sending REQUEST Packet ---------
1335796358951: forwarding disabled, not forwarding packets
1335796358980: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796359119: Received UDP payload: 6184
1335796359122: mux: GOT CSM_Msg
1335796359123: DSM layer: Going to and from remote region took latency = 181
1335796359123: DSM layer: orig leader sent packet at 1335796358942 ~ received reply from remote leader at 1335796359123
1335796359123: Received PROC_REPLY 11:0 (0,0)->(2,0), handing to UserApp
1335796359123: inside handleDSMReply. Now back in originator leader of region 2
1335796359124: Originator Region=2's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796359124: change leader replyCounter to: 1
1335796359125: inside sendReplies of replyCount = 501100001
1335796359125: reply packet contains the newest photo/success info from the remote region
1335796359126: === Finished one round of sending REPLY Packet =======
1335796359126: =======================
1335796359126: I (the leader) was also the originator client (id = 5011) so I hand the packet to my mux directly, without UDP
1335796359126: Leader about to send REPLY packet, number: 501100001 type: 15 Leader in region: (2,0) to Client nodID: 5011
1335796359126: inside sendReplyRepeatingRunnable for replyCount = 501100001
1335796359130: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796359130: disabling progressdialog due to successful new photo get
1335796359131: Inside _enableButtons
1335796359131: areButtonsEnabled --> true
1335796359131: inside finalLegAck: change requestCounter to 2
1335796359131: send final leg ack regardless of new or already-processed reply
1335796359132: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5011002 Client in region: (2,0) Client nodID: 5011
1335796359132: I'm a leader client, my final_leg packet going to mux directly
1335796359132: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100001
1335796359132: got new request, requestCounter = 5011002
1335796359132: inside handleClientRequest. Originator leader of region 2
1335796359132: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796359132: mux: Inside mux Packet.CLIENT_REQUEST
1335796359133: Yay the last leg succeeded. Removing reply runnables ...
1335796359133: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100001
1335796359133: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100001
1335796359133: do not send ack for received final_leg_ack
1335796359134: new client_show_remotephoto reply with replyCounter 501100001
1335796359134: note down new reply by adding replyCounter=501100001 to HashMap processedReplies
1335796359135: = leader download start 1335796358939 ~ stop 1335796359130
1335796359135: leader download remote photo latency = 191
1335796359137: one more getGood: 1
1335796359138: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=0 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=-1% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335796359138: successful reply for client get photo
1335796359139: Remote photo's length: 5173
1335796359139: Success! Client getting photo from remote region, showing photo...
1335796359199: Received UDP payload: 4732
1335796359201: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796359201: mux: Inside Packet.SERVER_REPLY
1335796359218: Received UDP payload: 446
1335796359219: mux: Inside mux Packet.CLIENT_REQUEST
1335796359500: Received UDP payload: 4732
1335796359502: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796359502: mux: Inside Packet.SERVER_REPLY
1335796359521: Received UDP payload: 446
1335796359523: mux: Inside mux Packet.CLIENT_REQUEST
1335796359742: Received UDP payload: 4732
1335796359744: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796359744: mux: Inside Packet.SERVER_REPLY
1335796360100: Received UDP payload: 4732
1335796360104: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796360104: mux: Inside Packet.SERVER_REPLY
1335796360204: Received UDP payload: 446
1335796360418: Received UDP payload: 4732
1335796360423: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796360423: mux: Inside Packet.SERVER_REPLY
1335796360445: Received UDP payload: 446
1335796360452: mux: Inside mux Packet.CLIENT_REQUEST
1335796360694: Received UDP payload: 4732
1335796360700: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796360700: mux: Inside Packet.SERVER_REPLY
1335796361060: Received UDP payload: 446
1335796361068: mux: Inside mux Packet.CLIENT_REQUEST
1335796361272: Received UDP payload: 4732
1335796361276: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796361276: mux: Inside Packet.SERVER_REPLY
1335796361299: Received UDP payload: 446
1335796361302: mux: Inside mux Packet.CLIENT_REQUEST
1335796361629: inside sendPacket(Packet p)
1335796361632: Sending UDP payload: 446
1335796361633: Received UDP payload: 4732
1335796361642: mux: Inside Packet.SERVER_REPLY
1335796361643: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796361655: Received UDP payload: 446
1335796361660: mux: Inside mux Packet.CLIENT_REQUEST
1335796361867: Received UDP payload: 4732
1335796361874: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796361874: mux: Inside Packet.SERVER_REPLY
1335796362175: Received UDP payload: 4732
1335796362182: mux: Inside Packet.SERVER_REPLY
1335796362183: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796362196: Received UDP payload: 446
1335796362202: mux: Inside mux Packet.CLIENT_REQUEST
1335796362470: Received UDP payload: 4732
1335796362476: mux: Inside Packet.SERVER_REPLY
1335796362477: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796362488: Received UDP payload: 446
1335796362494: mux: Inside mux Packet.CLIENT_REQUEST
1335796362782: Received UDP payload: 4732
1335796362786: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796362786: mux: Inside Packet.SERVER_REPLY
1335796362922: Received UDP payload: 446
1335796363390: Received UDP payload: 4732
1335796363398: mux: Inside Packet.SERVER_REPLY
1335796363399: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796363422: Received UDP payload: 446
1335796363427: mux: Inside mux Packet.CLIENT_REQUEST
1335796363678: Received UDP payload: 4732
1335796363681: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796363681: mux: Inside Packet.SERVER_REPLY
1335796363689: Received UDP payload: 446
1335796363986: Received UDP payload: 4732
1335796363989: mux: Inside Packet.SERVER_REPLY
1335796363990: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796364622: Received UDP payload: 4732
1335796364632: mux: Inside Packet.SERVER_REPLY
1335796364633: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796364876: Received UDP payload: 4732
1335796364883: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796364883: mux: Inside Packet.SERVER_REPLY
1335796365212: Received UDP payload: 4732
1335796365220: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796365220: mux: Inside Packet.SERVER_REPLY
1335796365355: Received UDP payload: 446
1335796365364: mux: Inside mux Packet.CLIENT_REQUEST
1335796365554: Received UDP payload: 4732
1335796365562: mux: Inside Packet.SERVER_REPLY
1335796365563: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796365580: Received UDP payload: 446
1335796365587: mux: Inside mux Packet.CLIENT_REQUEST
1335796365591: Received UDP payload: 446
1335796365596: mux: Inside mux Packet.CLIENT_REQUEST
1335796365607: Received UDP payload: 446
1335796365609: mux: Inside mux Packet.CLIENT_REQUEST
1335796365621: Received UDP payload: 446
1335796365623: mux: Inside mux Packet.CLIENT_REQUEST
1335796365685: Received UDP payload: 989
1335796365687: forwarding disabled, not forwarding packets
1335796365687: mux: GOT CSM_Msg
1335796365864: Received UDP payload: 4732
1335796365866: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796365866: mux: Inside Packet.SERVER_REPLY
1335796365905: Received UDP payload: 446
1335796365906: mux: Inside mux Packet.CLIENT_REQUEST
1335796366401: Received UDP payload: 625
1335796366411: mux: Inside mux Packet.CLIENT_REQUEST
1335796366463: Received UDP payload: 989
1335796366473: forwarding disabled, not forwarding packets
1335796366473: mux: GOT CSM_Msg
1335796366503: Received UDP payload: 446
1335796366511: mux: Inside Packet.SERVER_REPLY
1335796366512: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796366598: Received UDP payload: 4732
1335796366607: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796366607: mux: Inside Packet.SERVER_REPLY
1335796366621: Received UDP payload: 446
1335796366626: mux: Inside mux Packet.CLIENT_REQUEST
1335796366631: inside sendPacket(Packet p)
1335796366634: Sending UDP payload: 446
1335796366689: Received UDP payload: 6618
1335796366696: mux: Inside Packet.SERVER_REPLY
1335796366697: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796366702: Received UDP payload: 446
1335796366710: mux: Inside mux Packet.CLIENT_REQUEST
1335796367000: Received UDP payload: 446
1335796367001: mux: Inside mux Packet.CLIENT_REQUEST
1335796367110: Received UDP payload: 4732
1335796367112: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796367112: mux: Inside Packet.SERVER_REPLY
1335796367124: Received UDP payload: 446
1335796367126: mux: Inside mux Packet.CLIENT_REQUEST
1335796367239: Received UDP payload: 989
1335796367243: forwarding disabled, not forwarding packets
1335796367243: mux: GOT CSM_Msg
1335796367392: Received UDP payload: 4732
1335796367399: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796367399: mux: Inside Packet.SERVER_REPLY
1335796367595: Received UDP payload: 4732
1335796367603: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796367603: mux: Inside Packet.SERVER_REPLY
1335796367615: Received UDP payload: 446
1335796367621: mux: Inside mux Packet.CLIENT_REQUEST
1335796367944: Received UDP payload: 446
1335796368041: Received UDP payload: 625
1335796368045: mux: Inside mux Packet.CLIENT_REQUEST
1335796368113: Received UDP payload: 989
1335796368119: mux: GOT CSM_Msg
1335796368120: forwarding disabled, not forwarding packets
1335796368140: Received UDP payload: 446
1335796368144: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796368144: mux: Inside Packet.SERVER_REPLY
1335796368264: Received UDP payload: 4732
1335796368272: mux: Inside Packet.SERVER_REPLY
1335796368273: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796368545: Received UDP payload: 446
1335796368551: mux: Inside mux Packet.CLIENT_REQUEST
1335796368560: Received UDP payload: 5903
1335796368568: mux: Inside Packet.SERVER_REPLY
1335796368569: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796368665: Received UDP payload: 446
1335796368841: Received UDP payload: 5903
1335796368853: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796368853: mux: Inside Packet.SERVER_REPLY
1335796368915: Received UDP payload: 446
1335796368921: mux: Inside mux Packet.CLIENT_REQUEST
1335796369146: Received UDP payload: 4732
1335796369156: mux: Inside Packet.SERVER_REPLY
1335796369157: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796369166: Received UDP payload: 446
1335796369172: mux: Inside mux Packet.CLIENT_REQUEST
1335796369201: Received UDP payload: 5903
1335796369219: Received UDP payload: 463
1335796369225: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796369225: mux: Inside Packet.SERVER_REPLY
1335796369233: Received UDP payload: 446
1335796369236: mux: Inside mux Packet.CLIENT_REQUEST
1335796369244: Received UDP payload: 446
1335796369251: Received UDP payload: 446
1335796369422: Received UDP payload: 4732
1335796369425: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796369425: mux: Inside Packet.SERVER_REPLY
1335796369433: Received UDP payload: 625
1335796369435: mux: Inside mux Packet.CLIENT_REQUEST
1335796369447: Received UDP payload: 446
1335796369450: mux: Inside mux Packet.CLIENT_REQUEST
1335796369465: Received UDP payload: 989
1335796369468: forwarding disabled, not forwarding packets
1335796369468: mux: GOT CSM_Msg
1335796369473: Received UDP payload: 446
1335796369475: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796369475: mux: Inside Packet.SERVER_REPLY
1335796369561: Received UDP payload: 6965
1335796369564: forwarding disabled, not forwarding packets
1335796369564: mux: GOT CSM_Msg
1335796369949: Received UDP payload: 4732
1335796369952: mux: Inside Packet.SERVER_REPLY
1335796369953: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796370013: Received UDP payload: 4732
1335796370017: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796370017: mux: Inside Packet.SERVER_REPLY
1335796370039: Received UDP payload: 446
1335796370044: mux: Inside mux Packet.CLIENT_REQUEST
1335796370479: Received UDP payload: 446
1335796370901: Received UDP payload: 446
1335796370907: mux: Inside mux Packet.CLIENT_REQUEST
1335796371063: Received UDP payload: 4732
1335796371072: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796371072: mux: Inside Packet.SERVER_REPLY
1335796371249: Received UDP payload: 4732
1335796371256: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796371256: mux: Inside Packet.SERVER_REPLY
1335796371282: Received UDP payload: 446
1335796371288: mux: Inside mux Packet.CLIENT_REQUEST
1335796371520: Received UDP payload: 4732
1335796371522: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796371522: mux: Inside Packet.SERVER_REPLY
1335796371557: Received UDP payload: 446
1335796371559: mux: Inside mux Packet.CLIENT_REQUEST
1335796371631: inside sendPacket(Packet p)
1335796371633: Sending UDP payload: 446
1335796371733: Received UDP payload: 625
1335796371735: mux: Inside mux Packet.CLIENT_REQUEST
1335796371769: Received UDP payload: 446
1335796371772: heard LEADER_REQUEST from node 5006, responding LEADER_REPLY
1335796371804: Received UDP payload: 989
1335796371807: forwarding disabled, not forwarding packets
1335796371807: mux: GOT CSM_Msg
1335796371847: Received UDP payload: 446
1335796371849: mux: Inside Packet.SERVER_REPLY
1335796371850: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796371865: Received UDP payload: 4732
1335796371869: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796371869: mux: Inside Packet.SERVER_REPLY
1335796371878: Received UDP payload: 446
1335796371882: mux: Inside mux Packet.CLIENT_REQUEST
1335796371960: inside sendPacket(Packet p)
1335796371972: Sending UDP payload: 22435
1335796372059: Received UDP payload: 625
1335796372060: mux: Inside mux Packet.CLIENT_REQUEST
1335796372098: Received UDP payload: 446
1335796372100: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796372100: mux: Inside Packet.SERVER_REPLY
1335796372394: Received UDP payload: 446
1335796372396: heard LEADER_REQUEST from node 5006, responding LEADER_REPLY
1335796372399: Received UDP payload: 4732
1335796372401: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796372401: mux: Inside Packet.SERVER_REPLY
1335796372411: Received UDP payload: 446
1335796372413: mux: Inside mux Packet.CLIENT_REQUEST
1335796372488: Received UDP payload: 4732
1335796372492: mux: Inside Packet.SERVER_REPLY
1335796372493: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796372510: Received UDP payload: 446
1335796372513: mux: Inside mux Packet.CLIENT_REQUEST
1335796372528: Received UDP payload: 989
1335796372535: forwarding disabled, not forwarding packets
1335796372535: mux: GOT CSM_Msg
1335796372616: inside sendPacket(Packet p)
1335796372623: Received UDP payload: 989
1335796372629: forwarding disabled, not forwarding packets
1335796372629: mux: GOT CSM_Msg
1335796372639: Sending UDP payload: 22435
1335796372647: Received UDP payload: 6184
1335796372655: forwarding disabled, not forwarding packets
1335796372655: mux: GOT CSM_Msg
1335796372741: Received UDP payload: 446
1335796372744: heard LEADER_REQUEST from node 5006, responding LEADER_REPLY
1335796372854: Received UDP payload: 6184
1335796372875: forwarding disabled, not forwarding packets
1335796372875: mux: GOT CSM_Msg
1335796373000: Received UDP payload: 625
1335796373003: mux: Inside mux Packet.CLIENT_REQUEST
1335796373028: inside sendPacket(Packet p)
1335796373030: Sending UDP payload: 22435
1335796373332: Received UDP payload: 989
1335796373335: forwarding disabled, not forwarding packets
1335796373335: mux: GOT CSM_Msg
1335796373600: Received UDP payload: 625
1335796373605: mux: Inside mux Packet.CLIENT_REQUEST
1335796373829: Received UDP payload: 989
1335796373843: forwarding disabled, not forwarding packets
1335796373843: mux: GOT CSM_Msg
1335796373930: Received UDP payload: 989
1335796373946: forwarding disabled, not forwarding packets
1335796373946: mux: GOT CSM_Msg
1335796374005: Received UDP payload: 4732
1335796374007: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796374007: mux: Inside Packet.SERVER_REPLY
1335796374020: Received UDP payload: 989
1335796374024: mux: GOT CSM_Msg
1335796374025: forwarding disabled, not forwarding packets
1335796374146: Received UDP payload: 6184
1335796374149: mux: GOT CSM_Msg
1335796374150: forwarding disabled, not forwarding packets
1335796374554: Received UDP payload: 4732
1335796374563: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796374563: mux: Inside Packet.SERVER_REPLY
1335796374654: Received UDP payload: 446
1335796374661: mux: Inside mux Packet.CLIENT_REQUEST
1335796375156: Received UDP payload: 446
1335796375163: heard LEADER_REQUEST from node 5017, responding LEADER_REPLY
1335796375286: inside sendPacket(Packet p)
1335796375297: Sending UDP payload: 22435
1335796375680: Received UDP payload: 446
1335796375682: heard LEADER_REQUEST from node 5017, responding LEADER_REPLY
1335796375801: Received UDP payload: 446
1335796375805: inside sendPacket(Packet p)
1335796375820: Sending UDP payload: 22435
1335796375822: heard LEADER_REQUEST from node 5017, responding LEADER_REPLY
1335796375991: Received UDP payload: 625
1335796375996: mux: Inside mux Packet.CLIENT_REQUEST
1335796376011: inside sendPacket(Packet p)
1335796376014: Sending UDP payload: 22435
1335796376065: Received UDP payload: 446
1335796376068: heard LEADER_REQUEST from node 5017, responding LEADER_REPLY
1335796376228: inside sendPacket(Packet p)
1335796376282: Received UDP payload: 6184
1335796376284: Sending UDP payload: 22435
1335796376294: mux: GOT CSM_Msg
1335796376304: forwarding disabled, not forwarding packets
1335796376515: Received UDP payload: 625
1335796376517: mux: Inside mux Packet.CLIENT_REQUEST
1335796376633: inside sendPacket(Packet p)
1335796376637: Sending UDP payload: 446
1335796376814: Received UDP payload: 625
1335796376820: mux: Inside mux Packet.CLIENT_REQUEST
1335796376929: Received UDP payload: 4732
1335796376931: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796376931: mux: Inside Packet.SERVER_REPLY
1335796376955: Received UDP payload: 446
1335796376956: mux: Inside mux Packet.CLIENT_REQUEST
1335796377185: areButtonsEnabled --> false
1335796377185: canPressButton = TRUE
1335796377186: areButtonsEnabled --> false
1335796377186: disabling buttons ...
1335796377186: took picture disableButtonsR
1335796377212: one more takeNum: 1
1335796377213: Clicked take picture button ..
1335796377213: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335796377408: Received UDP payload: 6184
1335796377411: forwarding disabled, not forwarding packets
1335796377411: mux: GOT CSM_Msg
1335796377626: Received UDP payload: 6184
1335796377629: forwarding disabled, not forwarding packets
1335796377629: mux: GOT CSM_Msg
1335796377652: Received UDP payload: 989
1335796377654: forwarding disabled, not forwarding packets
1335796377654: mux: GOT CSM_Msg
1335796377791: Received UDP payload: 5837
1335796377792: mux: Inside Packet.SERVER_REPLY
1335796377793: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796377812: Received UDP payload: 989
1335796377815: forwarding disabled, not forwarding packets
1335796377815: mux: GOT CSM_Msg
1335796377823: Received UDP payload: 446
1335796377825: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796377825: mux: Inside Packet.SERVER_REPLY
1335796377830: Received UDP payload: 446
1335796377832: mux: Inside mux Packet.CLIENT_REQUEST
1335796377844: Received UDP payload: 446
1335796377846: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796377846: mux: Inside Packet.SERVER_REPLY
1335796377883: Received UDP payload: 989
1335796377886: forwarding disabled, not forwarding packets
1335796377886: mux: GOT CSM_Msg
1335796377945: Received UDP payload: 989
1335796377951: forwarding disabled, not forwarding packets
1335796377951: mux: GOT CSM_Msg
1335796377960: Received UDP payload: 989
1335796377971: forwarding disabled, not forwarding packets
1335796377971: mux: GOT CSM_Msg
1335796377976: Received UDP payload: 989
1335796377978: mux: GOT CSM_Msg
1335796377979: forwarding disabled, not forwarding packets
1335796377988: Received UDP payload: 989
1335796377991: forwarding disabled, not forwarding packets
1335796377991: mux: GOT CSM_Msg
1335796378061: Received UDP payload: 989
1335796378064: forwarding disabled, not forwarding packets
1335796378064: mux: GOT CSM_Msg
1335796378077: Received UDP payload: 989
1335796378082: Received UDP payload: 989
1335796378082: forwarding disabled, not forwarding packets
1335796378082: mux: GOT CSM_Msg
1335796378085: forwarding disabled, not forwarding packets
1335796378085: mux: GOT CSM_Msg
1335796378091: Received UDP payload: 989
1335796378094: forwarding disabled, not forwarding packets
1335796378094: mux: GOT CSM_Msg
1335796378220: Received UDP payload: 989
1335796378225: forwarding disabled, not forwarding packets
1335796378225: mux: GOT CSM_Msg
1335796378252: Received UDP payload: 4732
1335796378254: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796378254: mux: Inside Packet.SERVER_REPLY
1335796378284: Received UDP payload: 446
1335796378285: mux: Inside mux Packet.CLIENT_REQUEST
1335796378409: Received UDP payload: 4732
1335796378410: mux: Inside Packet.SERVER_REPLY
1335796378411: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796378420: Received UDP payload: 625
1335796378422: mux: Inside mux Packet.CLIENT_REQUEST
1335796378553: Received UDP payload: 446
1335796378557: Received UDP payload: 4732
1335796378558: mux: Inside mux Packet.CLIENT_REQUEST
1335796378572: mux: Inside Packet.SERVER_REPLY
1335796378573: Received UDP payload: 989
1335796378573: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796378577: mux: GOT CSM_Msg
1335796378578: forwarding disabled, not forwarding packets
1335796378593: Received UDP payload: 446
1335796378595: Received UDP payload: 642
1335796378595: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796378595: mux: Inside Packet.SERVER_REPLY
1335796378596: mux: Inside Packet.SERVER_REPLY
1335796378597: inside HandlePictureStorage onPictureTaken()
1335796378597: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796378598: one more takeCamGood: 1
1335796378599: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335796378602: Received UDP payload: 989
1335796378605: forwarding disabled, not forwarding packets
1335796378605: mux: GOT CSM_Msg
1335796378614: Received UDP payload: 446
1335796378616: mux: Inside mux Packet.CLIENT_REQUEST
1335796378686: Received UDP payload: 4732
1335796378688: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796378688: mux: Inside Packet.SERVER_REPLY
1335796378862: Picture successfully taken, ORIG BYTE LENGTH = 2449164
1335796378894: Received UDP payload: 4732
1335796378900: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796378900: mux: Inside Packet.SERVER_REPLY
1335796378957: Received UDP payload: 446
1335796378960: mux: Inside mux Packet.CLIENT_REQUEST
1335796378999: Received UDP payload: 4732
1335796379003: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796379003: mux: Inside Packet.SERVER_REPLY
1335796379007: Received UDP payload: 642
1335796379010: mux: Inside Packet.SERVER_REPLY
1335796379011: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796379021: Received UDP payload: 446
1335796379023: mux: Inside mux Packet.CLIENT_REQUEST
1335796379091: Received UDP payload: 446
1335796379093: mux: Inside mux Packet.CLIENT_REQUEST
1335796379122: Received UDP payload: 446
1335796379124: mux: Inside mux Packet.CLIENT_REQUEST
1335796379165: Our new height x width: 306 x 408
1335796379166: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335796379166: Show photo from handle my camera take
1335796379167: change local requestCounter to 3
1335796379196: BYTE SIZE AFTER COMPRESSION: 5029
1335796379205: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5011003 Client in region: 2 Client nodID: 5011
1335796379239: Received UDP payload: 4732
1335796379247: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796379247: mux: Inside Packet.SERVER_REPLY
1335796379254: ----------------------------
1335796379254: Received UDP payload: 642
1335796379255: I'm a leader, my requesting photos packet going to mux directly
1335796379255: inside sendRequestPacketRepeatingRunnable for requestCount = 5011003
1335796379256: --- Finished one round of sending REQUEST Packet ---------
1335796379256: got new request, requestCounter = 5011003
1335796379256: inside handleClientRequest. Originator leader of region 2
1335796379256: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796379256: mux: Inside mux Packet.CLIENT_REQUEST
1335796379257: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796379260: Sending PROC_REQUEST 10:0 (2,0)->(2,0)
1335796379262: Dispatching Atom PROC_REQUEST 10:0 (2,0)->(2,0)
1335796379262: Make FirstLeg Ack regardless of new or already-processed requests
1335796379262: Note down new request by adding requestCounter=5011003 to HashMap processedRequests
1335796379263: mux: I got a CSM packet at a leader 
1335796379263: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796379263: mux: Inside Packet.SERVER_REPLY
1335796379263: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5011)
1335796379283: Sending UDP payload: 6040
1335796379287: removed replies before id 0 from sentReplies of size 0
1335796379288: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796379288: inside handleDSMRequest. At requests's remote leader of region 2
1335796379291: Inside UPLOAD_PHOTO!!
1335796379295: my_gpinfo.isSuccess is now (should be true): true
1335796379296: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796379303: Received PROC_REQUEST 10:0 (2,0)->(2,0), replying PROC_REPLY 10:0 (2,0)->(2,0)
1335796379304: Dispatching Atom PROC_REPLY 10:0 (2,0)->(2,0)
1335796379305: mux: I got a CSM packet at a leader 
1335796379308: Sending UDP payload: 989
1335796379309: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796379310: DSM layer: Going to and from remote region took latency = 53
1335796379310: DSM layer: orig leader sent packet at 1335796379257 ~ received reply from remote leader at 1335796379310
1335796379310: Received PROC_REPLY 10:0 (2,0)->(2,0), handing to UserApp
1335796379310: inside handleDSMReply. Now back in originator leader of region 2
1335796379312: I'm a leader and I successfully saved my client's new photo
1335796379312: now showing in UI the new photo I just saved ... 
1335796379313: the photo length: 5029
1335796379367: Received UDP payload: 446
1335796379371: Originator Region=2's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796379371: change leader replyCounter to: 2
1335796379372: =======================
1335796379372: inside sendReplies of replyCount = 501100002
1335796379372: inside sendReplyRepeatingRunnable for replyCount = 501100002
1335796379372: reply packet contains the success info for UPLOAD_PHOTO
1335796379373: === Finished one round of sending REPLY Packet =======
1335796379373: I (the leader) was also the originator client (id = 5011) so I hand the packet to my mux directly, without UDP
1335796379373: Leader about to send REPLY packet, number: 501100002 type: 16 Leader in region: (2,0) to Client nodID: 5011
1335796379374: mux: Inside mux Packet.CLIENT_REQUEST
1335796379378: end of server show photo aside %%%%%%%%%
1335796379413: Received UDP payload: 989
1335796379422: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335796379422: forwarding disabled, not forwarding packets
1335796379422: mux: GOT CSM_Msg
1335796379423: disabling progressdialog due to successful new photo upload
1335796379424: Inside _enableButtons
1335796379424: areButtonsEnabled --> true
1335796379425: inside finalLegAck: change requestCounter to 4
1335796379425: send final leg ack regardless of new or already-processed reply
1335796379426: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5011004 Client in region: (2,0) Client nodID: 5011
1335796379426: I'm a leader client, my final_leg packet going to mux directly
1335796379426: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796379426: mux: Inside mux Packet.CLIENT_REQUEST
1335796379426: new client_upload_photo_ack reply with replyCounter 501100002
1335796379426: note down new reply by adding replyCounter=501100002 to HashMap processedReplies
1335796379427: = leader upload start 1335796379256 ~ stop 1335796379420
1335796379427: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100002
1335796379427: Yay the last leg succeeded. Removing reply runnables ...
1335796379427: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100002
1335796379427: got new request, requestCounter = 5011004
1335796379427: inside handleClientRequest. Originator leader of region 2
1335796379427: leader upload new photo latency = 164
1335796379428: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100002
1335796379428: do not send ack for received final_leg_ack
1335796379429: one more takeGoodSave: 1
1335796379430: SUCCESS Client now knows saving photo on its leader succeeded
1335796379430: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335796379569: Received UDP payload: 989
1335796379572: forwarding disabled, not forwarding packets
1335796379572: mux: GOT CSM_Msg
1335796379686: Received UDP payload: 989
1335796379689: mux: GOT CSM_Msg
1335796379690: forwarding disabled, not forwarding packets
1335796379710: Received UDP payload: 989
1335796379713: forwarding disabled, not forwarding packets
1335796379713: mux: GOT CSM_Msg
1335796379799: Received UDP payload: 989
1335796379802: forwarding disabled, not forwarding packets
1335796379802: mux: GOT CSM_Msg
1335796379821: Received UDP payload: 989
1335796379824: forwarding disabled, not forwarding packets
1335796379824: mux: GOT CSM_Msg
1335796379881: Received UDP payload: 989
1335796379884: forwarding disabled, not forwarding packets
1335796379884: mux: GOT CSM_Msg
1335796379895: Received UDP payload: 989
1335796379898: forwarding disabled, not forwarding packets
1335796379898: mux: GOT CSM_Msg
1335796379927: Received UDP payload: 989
1335796379955: mux: GOT CSM_Msg
1335796379956: forwarding disabled, not forwarding packets
1335796379993: Received UDP payload: 989
1335796379999: forwarding disabled, not forwarding packets
1335796379999: mux: GOT CSM_Msg
1335796380038: Received UDP payload: 989
1335796380049: mux: GOT CSM_Msg
1335796380050: forwarding disabled, not forwarding packets
1335796380095: Received UDP payload: 989
1335796380097: forwarding disabled, not forwarding packets
1335796380097: mux: GOT CSM_Msg
1335796380105: Received UDP payload: 989
1335796380108: forwarding disabled, not forwarding packets
1335796380108: mux: GOT CSM_Msg
1335796380117: Received UDP payload: 4732
1335796380119: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796380119: mux: Inside Packet.SERVER_REPLY
1335796380171: Received UDP payload: 446
1335796380173: mux: Inside mux Packet.CLIENT_REQUEST
1335796380195: Received UDP payload: 446
1335796380206: Received UDP payload: 989
1335796380209: forwarding disabled, not forwarding packets
1335796380209: mux: GOT CSM_Msg
1335796380212: Received UDP payload: 4732
1335796380214: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796380214: mux: Inside Packet.SERVER_REPLY
1335796380225: Received UDP payload: 989
1335796380229: forwarding disabled, not forwarding packets
1335796380229: mux: GOT CSM_Msg
1335796380311: Received UDP payload: 989
1335796380314: forwarding disabled, not forwarding packets
1335796380314: mux: GOT CSM_Msg
1335796380327: Received UDP payload: 4732
1335796380329: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796380329: mux: Inside Packet.SERVER_REPLY
1335796380340: Received UDP payload: 446
1335796380342: mux: Inside mux Packet.CLIENT_REQUEST
1335796380399: Received UDP payload: 989
1335796380401: forwarding disabled, not forwarding packets
1335796380401: mux: GOT CSM_Msg
1335796380408: Received UDP payload: 989
1335796380411: forwarding disabled, not forwarding packets
1335796380411: mux: GOT CSM_Msg
1335796380483: Received UDP payload: 625
1335796380485: mux: Inside mux Packet.CLIENT_REQUEST
1335796380508: Received UDP payload: 989
1335796380510: mux: GOT CSM_Msg
1335796380510: removed replies before id 7 from sentReplies of size 0
1335796380511: INSIDE SERVER_GET_PHOTO!!!
1335796380511: inside handleDSMRequest. At requests's remote leader of region 2
1335796380513: Received PROC_REQUEST 11:7 (3,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(3,0)
1335796380514: Dispatching Atom PROC_REPLY 11:7 (2,0)->(3,0)
1335796380514: mux: I got a CSM packet at a leader 
1335796380516: Sending UDP payload: 6040
1335796380519: Received UDP payload: 446
1335796380519: forwarding disabled, not forwarding packets
1335796380521: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796380521: mux: Inside Packet.SERVER_REPLY
1335796380523: Received UDP payload: 989
1335796380525: forwarding disabled, not forwarding packets
1335796380525: mux: GOT CSM_Msg
1335796380608: Received UDP payload: 989
1335796380610: forwarding disabled, not forwarding packets
1335796380610: mux: GOT CSM_Msg
1335796380615: Received UDP payload: 989
1335796380617: mux: GOT CSM_Msg
1335796380618: forwarding disabled, not forwarding packets
1335796380629: Received UDP payload: 6184
1335796380632: forwarding disabled, not forwarding packets
1335796380632: mux: GOT CSM_Msg
1335796380711: Received UDP payload: 989
1335796380714: forwarding disabled, not forwarding packets
1335796380714: mux: GOT CSM_Msg
1335796380732: Received UDP payload: 446
1335796380734: mux: Inside mux Packet.CLIENT_REQUEST
1335796380878: Received UDP payload: 6184
1335796380880: mux: GOT CSM_Msg
1335796380881: forwarding disabled, not forwarding packets
1335796381095: Received UDP payload: 6184
1335796381101: forwarding disabled, not forwarding packets
1335796381101: mux: GOT CSM_Msg
1335796381319: Received UDP payload: 989
1335796381329: mux: GOT CSM_Msg
1335796381330: removed replies before id 7 from sentReplies of size 1
1335796381332: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(3,0)
1335796381335: Dispatching Atom PROC_REPLY 11:7 (2,0)->(3,0)
1335796381336: mux: I got a CSM packet at a leader 
1335796381351: Sending UDP payload: 6040
1335796381361: Received UDP payload: 989
1335796381378: forwarding disabled, not forwarding packets
1335796381379: mux: GOT CSM_Msg
1335796381380: removed replies before id 7 from sentReplies of size 1
1335796381389: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(3,0)
1335796381391: Dispatching Atom PROC_REPLY 11:7 (2,0)->(3,0)
1335796381392: mux: I got a CSM packet at a leader 
1335796381397: Sending UDP payload: 6040
1335796381411: forwarding disabled, not forwarding packets
1335796381443: Received UDP payload: 6184
1335796381446: forwarding disabled, not forwarding packets
1335796381446: mux: GOT CSM_Msg
1335796381515: Received UDP payload: 989
1335796381518: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(3,0)
1335796381518: mux: GOT CSM_Msg
1335796381518: removed replies before id 7 from sentReplies of size 1
1335796381519: Dispatching Atom PROC_REPLY 11:7 (2,0)->(3,0)
1335796381519: mux: I got a CSM packet at a leader 
1335796381520: Sending UDP payload: 6040
1335796381521: forwarding disabled, not forwarding packets
1335796381633: inside sendPacket(Packet p)
1335796381635: Received UDP payload: 989
1335796381635: Sending UDP payload: 446
1335796381638: mux: GOT CSM_Msg
1335796381638: removed replies before id 7 from sentReplies of size 1
1335796381639: Dispatching Atom PROC_REPLY 11:7 (2,0)->(3,0)
1335796381639: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(3,0)
1335796381639: mux: I got a CSM packet at a leader 
1335796381640: Sending UDP payload: 6040
1335796381641: forwarding disabled, not forwarding packets
1335796381674: Received UDP payload: 6184
1335796381677: forwarding disabled, not forwarding packets
1335796381677: mux: GOT CSM_Msg
1335796381972: Received UDP payload: 5729
1335796381977: mux: Inside mux Packet.CLIENT_REQUEST
1335796382082: Received UDP payload: 6184
1335796382088: forwarding disabled, not forwarding packets
1335796382088: mux: GOT CSM_Msg
1335796382154: Received UDP payload: 989
1335796382159: mux: GOT CSM_Msg
1335796382160: removed replies before id 7 from sentReplies of size 1
1335796382161: Dispatching Atom PROC_REPLY 11:7 (2,0)->(3,0)
1335796382161: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(3,0)
1335796382162: mux: I got a CSM packet at a leader 
1335796382164: Sending UDP payload: 6040
1335796382173: forwarding disabled, not forwarding packets
1335796382182: Received UDP payload: 989
1335796382187: mux: GOT CSM_Msg
1335796382188: removed replies before id 7 from sentReplies of size 1
1335796382190: Dispatching Atom PROC_REPLY 11:7 (2,0)->(3,0)
1335796382190: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(3,0)
1335796382190: mux: I got a CSM packet at a leader 
1335796382193: Sending UDP payload: 6040
1335796382195: forwarding disabled, not forwarding packets
1335796382411: Received UDP payload: 5729
1335796382414: mux: Inside mux Packet.CLIENT_REQUEST
1335796382529: Received UDP payload: 446
1335796382531: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796382531: mux: Inside Packet.SERVER_REPLY
1335796382543: Received UDP payload: 989
1335796382555: mux: GOT CSM_Msg
1335796382556: removed replies before id 7 from sentReplies of size 1
1335796382559: Received DUPLICATE PROC_REQUEST 11:7 (3,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(3,0)
1335796382560: Dispatching Atom PROC_REPLY 11:7 (2,0)->(3,0)
1335796382561: mux: I got a CSM packet at a leader 
1335796382566: Sending UDP payload: 6040
1335796382574: forwarding disabled, not forwarding packets
1335796382794: Received UDP payload: 989
1335796382796: forwarding disabled, not forwarding packets
1335796382796: mux: GOT CSM_Msg
1335796382814: Received UDP payload: 642
1335796382816: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796382816: mux: Inside Packet.SERVER_REPLY
1335796382834: Received UDP payload: 446
1335796382836: mux: Inside mux Packet.CLIENT_REQUEST
1335796383114: Received UDP payload: 642
1335796383120: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796383120: mux: Inside Packet.SERVER_REPLY
1335796383131: Received UDP payload: 446
1335796383135: mux: Inside mux Packet.CLIENT_REQUEST
1335796383283: Received UDP payload: 6184
1335796383287: forwarding disabled, not forwarding packets
1335796383287: mux: GOT CSM_Msg
1335796383485: Received UDP payload: 6184
1335796383499: mux: GOT CSM_Msg
1335796383500: forwarding disabled, not forwarding packets
1335796383637: Received UDP payload: 4732
1335796383642: mux: Inside Packet.SERVER_REPLY
1335796383643: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796383701: Received UDP payload: 446
1335796383705: mux: Inside mux Packet.CLIENT_REQUEST
1335796383714: Received UDP payload: 4732
1335796383720: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796383720: mux: Inside Packet.SERVER_REPLY
1335796383783: Received UDP payload: 446
1335796383792: mux: Inside mux Packet.CLIENT_REQUEST
1335796383856: Received UDP payload: 6184
1335796383859: forwarding disabled, not forwarding packets
1335796383859: mux: GOT CSM_Msg
1335796383867: Received UDP payload: 446
1335796383963: Received UDP payload: 4732
1335796383966: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796383966: mux: Inside Packet.SERVER_REPLY
1335796384054: Received UDP payload: 4732
1335796384057: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796384057: mux: Inside Packet.SERVER_REPLY
1335796384276: Received UDP payload: 4732
1335796384280: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796384280: mux: Inside Packet.SERVER_REPLY
1335796384425: Received UDP payload: 6184
1335796384437: mux: GOT CSM_Msg
1335796384438: forwarding disabled, not forwarding packets
1335796384447: Received UDP payload: 446
1335796384719: Received UDP payload: 6184
1335796384724: mux: GOT CSM_Msg
1335796384725: forwarding disabled, not forwarding packets
1335796384843: Received UDP payload: 446
1335796384898: Received UDP payload: 6184
1335796384904: forwarding disabled, not forwarding packets
1335796384904: mux: GOT CSM_Msg
1335796384975: Received UDP payload: 6184
1335796384982: forwarding disabled, not forwarding packets
1335796384982: mux: GOT CSM_Msg
1335796385064: Received UDP payload: 446
1335796385145: Received UDP payload: 4732
1335796385156: mux: Inside Packet.SERVER_REPLY
1335796385157: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796385239: Received UDP payload: 6184
1335796385249: forwarding disabled, not forwarding packets
1335796385249: mux: GOT CSM_Msg
1335796385454: Received UDP payload: 6184
1335796385464: forwarding disabled, not forwarding packets
1335796385464: mux: GOT CSM_Msg
1335796385538: Received UDP payload: 446
1335796385553: Received UDP payload: 446
1335796385565: Received UDP payload: 4732
1335796385571: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796385571: mux: Inside Packet.SERVER_REPLY
1335796385582: Received UDP payload: 446
1335796385593: Received UDP payload: 446
1335796385834: Received UDP payload: 6184
1335796385843: forwarding disabled, not forwarding packets
1335796385843: mux: GOT CSM_Msg
1335796385955: Received UDP payload: 6184
1335796385966: forwarding disabled, not forwarding packets
1335796385966: mux: GOT CSM_Msg
1335796386094: Received UDP payload: 6184
1335796386104: forwarding disabled, not forwarding packets
1335796386104: mux: GOT CSM_Msg
1335796386184: Received UDP payload: 4732
1335796386186: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796386186: mux: Inside Packet.SERVER_REPLY
1335796386563: Received UDP payload: 4732
1335796386567: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796386567: mux: Inside Packet.SERVER_REPLY
1335796386633: inside sendPacket(Packet p)
1335796386644: Sending UDP payload: 446
1335796386760: Received UDP payload: 446
1335796386804: Received UDP payload: 4732
1335796386811: mux: Inside Packet.SERVER_REPLY
1335796386812: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796386863: Received UDP payload: 4732
1335796386870: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796386870: mux: Inside Packet.SERVER_REPLY
1335796386943: Received UDP payload: 4732
1335796386950: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796386950: mux: Inside Packet.SERVER_REPLY
1335796387027: Received UDP payload: 4732
1335796387034: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796387034: mux: Inside Packet.SERVER_REPLY
1335796387087: Received UDP payload: 446
1335796387089: mux: Inside mux Packet.CLIENT_REQUEST
1335796387116: Received UDP payload: 4732
1335796387118: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796387118: mux: Inside Packet.SERVER_REPLY
1335796387199: Received UDP payload: 4732
1335796387201: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796387201: mux: Inside Packet.SERVER_REPLY
1335796387344: Received UDP payload: 3670
1335796387346: inside handleClientRequest. Originator leader of region 2
1335796387346: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796387346: mux: Inside mux Packet.CLIENT_REQUEST
1335796387347: Dispatching Atom PROC_REQUEST 10:1 (2,0)->(2,0)
1335796387347: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796387347: Make FirstLeg Ack regardless of new or already-processed requests
1335796387347: Note down new request by adding requestCounter=5017111 to HashMap processedRequests
1335796387347: Sending PROC_REQUEST 10:1 (2,0)->(2,0)
1335796387347: got new request, requestCounter = 5017111
1335796387348: The leader sending a First Leg ack to originator client (which id = 5017)
1335796387348: inside sendPacket(Packet p)
1335796387348: mux: I got a CSM packet at a leader 
1335796387354: Sending UDP payload: 4034
1335796387355: inside handleDSMRequest. At requests's remote leader of region 2
1335796387355: removed replies before id 1 from sentReplies of size 0
1335796387357: Inside UPLOAD_PHOTO!!
1335796387360: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796387360: my_gpinfo.isSuccess is now (should be true): true
1335796387362: Received PROC_REQUEST 10:1 (2,0)->(2,0), replying PROC_REPLY 10:1 (2,0)->(2,0)
1335796387363: Dispatching Atom PROC_REPLY 10:1 (2,0)->(2,0)
1335796387364: Sending UDP payload: 446
1335796387366: mux: I got a CSM packet at a leader 
1335796387367: Sending UDP payload: 989
1335796387368: Received PROC_REPLY 10:1 (2,0)->(2,0), handing to UserApp
1335796387369: DSM layer: Going to and from remote region took latency = 22
1335796387369: DSM layer: orig leader sent packet at 1335796387347 ~ received reply from remote leader at 1335796387369
1335796387369: inside handleDSMReply. Now back in originator leader of region 2
1335796387370: =======================
1335796387370: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796387370: change leader replyCounter to: 3
1335796387370: inside sendReplies of replyCount = 501100003
1335796387370: reply packet contains the success info for UPLOAD_PHOTO
1335796387371: === Finished one round of sending REPLY Packet =======
1335796387371: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796387371: Leader about to send REPLY packet, number: 501100003 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796387371: inside sendPacket(Packet p)
1335796387371: inside sendReplyRepeatingRunnable for replyCount = 501100003
1335796387373: Sending UDP payload: 642
1335796387375: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796387378: I'm a leader and I successfully saved my client's new photo
1335796387379: now showing in UI the new photo I just saved ... 
1335796387379: the photo length: 3023
1335796387412: end of server show photo aside %%%%%%%%%
1335796387566: Received UDP payload: 4732
1335796387568: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796387568: mux: Inside Packet.SERVER_REPLY
1335796387571: Received UDP payload: 446
1335796387574: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100003
1335796387574: Yay the last leg succeeded. Removing reply runnables ...
1335796387574: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100003
1335796387574: got new request, requestCounter = 5017112
1335796387574: inside handleClientRequest. Originator leader of region 2
1335796387574: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796387574: mux: Inside mux Packet.CLIENT_REQUEST
1335796387575: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100003
1335796387575: do not send ack for received final_leg_ack
1335796387586: Received UDP payload: 446
1335796387677: Received UDP payload: 4732
1335796387683: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796387683: mux: Inside Packet.SERVER_REPLY
1335796387706: Received UDP payload: 446
1335796387710: mux: Inside mux Packet.CLIENT_REQUEST
1335796387773: Received UDP payload: 4732
1335796387778: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796387778: mux: Inside Packet.SERVER_REPLY
1335796387850: Received UDP payload: 4732
1335796387861: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796387861: mux: Inside Packet.SERVER_REPLY
1335796387916: Received UDP payload: 446
1335796387923: mux: Inside mux Packet.CLIENT_REQUEST
1335796387924: Received UDP payload: 4732
1335796387926: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796387926: mux: Inside Packet.SERVER_REPLY
1335796388008: Received UDP payload: 5737
1335796388010: forwarding disabled, not forwarding packets
1335796388010: mux: GOT CSM_Msg
1335796388067: Received UDP payload: 446
1335796388069: mux: Inside mux Packet.CLIENT_REQUEST
1335796388076: Received UDP payload: 989
1335796388080: forwarding disabled, not forwarding packets
1335796388080: mux: GOT CSM_Msg
1335796388229: Received UDP payload: 4732
1335796388230: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796388230: mux: Inside Packet.SERVER_REPLY
1335796388287: Received UDP payload: 446
1335796388288: mux: Inside mux Packet.CLIENT_REQUEST
1335796388311: Received UDP payload: 4732
1335796388313: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796388313: mux: Inside Packet.SERVER_REPLY
1335796388324: Received UDP payload: 446
1335796388326: mux: Inside mux Packet.CLIENT_REQUEST
1335796388391: Received UDP payload: 4732
1335796388393: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796388393: mux: Inside Packet.SERVER_REPLY
1335796388418: Received UDP payload: 446
1335796388420: mux: Inside mux Packet.CLIENT_REQUEST
1335796388665: Received UDP payload: 4732
1335796388673: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796388673: mux: Inside Packet.SERVER_REPLY
1335796388678: Received UDP payload: 989
1335796388701: mux: GOT CSM_Msg
1335796388702: removed replies before id 5 from sentReplies of size 0
1335796388703: inside handleDSMRequest. At requests's remote leader of region 2
1335796388705: INSIDE SERVER_GET_PHOTO!!!
1335796388710: Received PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796388711: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796388712: mux: I got a CSM packet at a leader 
1335796388723: Sending UDP payload: 4034
1335796388728: forwarding disabled, not forwarding packets
1335796388808: Received UDP payload: 4732
1335796388810: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796388810: mux: Inside Packet.SERVER_REPLY
1335796388846: Received UDP payload: 446
1335796388848: mux: Inside mux Packet.CLIENT_REQUEST
1335796388896: Received UDP payload: 4732
1335796388899: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796388899: mux: Inside Packet.SERVER_REPLY
1335796388961: Received UDP payload: 4732
1335796388963: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796388963: mux: Inside Packet.SERVER_REPLY
1335796388983: Received UDP payload: 989
1335796388987: mux: GOT CSM_Msg
1335796388987: removed replies before id 5 from sentReplies of size 1
1335796388988: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796388988: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796388989: mux: I got a CSM packet at a leader 
1335796388990: Sending UDP payload: 4034
1335796388991: forwarding disabled, not forwarding packets
1335796389008: Received UDP payload: 989
1335796389012: mux: GOT CSM_Msg
1335796389012: removed replies before id 5 from sentReplies of size 1
1335796389013: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796389013: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796389013: mux: I got a CSM packet at a leader 
1335796389015: Sending UDP payload: 4034
1335796389018: forwarding disabled, not forwarding packets
1335796389059: Received UDP payload: 625
1335796389061: mux: Inside mux Packet.CLIENT_REQUEST
1335796389085: Received UDP payload: 625
1335796389087: mux: Inside mux Packet.CLIENT_REQUEST
1335796389088: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796389088: got new request, requestCounter = 5006148
1335796389088: inside handleClientRequest. Originator leader of region 2
1335796389088: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796389089: Sending PROC_REQUEST 11:2 (2,0)->(2,0)
1335796389089: Sending to region: 2
1335796389090: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(2,0)
1335796389090: Make FirstLeg Ack regardless of new or already-processed requests
1335796389090: Note down new request by adding requestCounter=5006148 to HashMap processedRequests
1335796389090: The leader sending a First Leg ack to originator client (which id = 5006)
1335796389090: inside sendPacket(Packet p)
1335796389091: mux: I got a CSM packet at a leader 
1335796389093: Sending UDP payload: 989
1335796389095: inside handleDSMRequest. At requests's remote leader of region 2
1335796389095: removed replies before id 2 from sentReplies of size 0
1335796389096: INSIDE SERVER_GET_PHOTO!!!
1335796389097:  1 self to self atomRequest
1335796389097: dst_region == src_region = 2
1335796389108: Received PROC_REQUEST 11:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (2,0)->(2,0)
1335796389109: Dispatching Atom PROC_REPLY 11:2 (2,0)->(2,0)
1335796389111: Sending UDP payload: 446
1335796389111: mux: I got a CSM packet at a leader 
1335796389113: Sending UDP payload: 4034
1335796389114: DSM layer: Going to and from remote region took latency = 25
1335796389114: DSM layer: orig leader sent packet at 1335796389089 ~ received reply from remote leader at 1335796389114
1335796389114: Received PROC_REPLY 11:2 (2,0)->(2,0), handing to UserApp
1335796389114: inside handleDSMReply. Now back in originator leader of region 2
1335796389115: Originator Region=2's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796389116: =======================
1335796389116: change leader replyCounter to: 4
1335796389116: inside sendReplies of replyCount = 501100004
1335796389116: reply packet contains the newest photo/success info from the remote region
1335796389117: === Finished one round of sending REPLY Packet =======
1335796389117: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796389117: Leader about to send REPLY packet, number: 501100004 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796389117: inside sendPacket(Packet p)
1335796389117: inside sendReplyRepeatingRunnable for replyCount = 501100004
1335796389119: Received UDP payload: 989
1335796389127: Received UDP payload: 446
1335796389130: Sending UDP payload: 3687
1335796389131: forwarding disabled, not forwarding packets
1335796389131: mux: GOT CSM_Msg
1335796389131: mux: Inside Packet.SERVER_REPLY
1335796389132: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796389136: Received UDP payload: 4732
1335796389139: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796389139: mux: Inside Packet.SERVER_REPLY
1335796389186: Received UDP payload: 446
1335796389188: mux: Inside mux Packet.CLIENT_REQUEST
1335796389200: Received UDP payload: 989
1335796389203: mux: GOT CSM_Msg
1335796389203: removed replies before id 5 from sentReplies of size 1
1335796389204: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796389204: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796389205: mux: I got a CSM packet at a leader 
1335796389206: Sending UDP payload: 4034
1335796389207: forwarding disabled, not forwarding packets
1335796389214: Received UDP payload: 989
1335796389217: mux: GOT CSM_Msg
1335796389218: removed replies before id 5 from sentReplies of size 1
1335796389219: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796389219: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796389219: mux: I got a CSM packet at a leader 
1335796389225: Sending UDP payload: 4034
1335796389225: forwarding disabled, not forwarding packets
1335796389230: Received UDP payload: 989
1335796389233: mux: GOT CSM_Msg
1335796389234: removed replies before id 5 from sentReplies of size 1
1335796389235: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796389235: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796389235: mux: I got a CSM packet at a leader 
1335796389239: Sending UDP payload: 4034
1335796389247: forwarding disabled, not forwarding packets
1335796389323: Received UDP payload: 4732
1335796389326: mux: Inside Packet.SERVER_REPLY
1335796389327: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796389360: Received UDP payload: 989
1335796389364: mux: GOT CSM_Msg
1335796389364: removed replies before id 5 from sentReplies of size 1
1335796389365: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796389365: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796389365: mux: I got a CSM packet at a leader 
1335796389367: Sending UDP payload: 4034
1335796389369: forwarding disabled, not forwarding packets
1335796389377: Received UDP payload: 989
1335796389381: mux: GOT CSM_Msg
1335796389382: removed replies before id 5 from sentReplies of size 1
1335796389383: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796389383: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796389383: mux: I got a CSM packet at a leader 
1335796389386: Sending UDP payload: 4034
1335796389387: forwarding disabled, not forwarding packets
1335796389405: Received UDP payload: 989
1335796389412: mux: GOT CSM_Msg
1335796389413: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796389413: removed replies before id 5 from sentReplies of size 1
1335796389414: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796389414: mux: I got a CSM packet at a leader 
1335796389416: Sending UDP payload: 4034
1335796389417: =======================
1335796389417: forwarding disabled, not forwarding packets
1335796389417: inside sendReplyRepeatingRunnable for replyCount = 501100004
1335796389418: === Finished one round of sending REPLY Packet =======
1335796389418: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796389418: Leader about to send REPLY packet, number: 501100004 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796389418: inside sendPacket(Packet p)
1335796389422: Sending UDP payload: 3687
1335796389511: Received UDP payload: 4732
1335796389513: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796389513: mux: Inside Packet.SERVER_REPLY
1335796389528: Received UDP payload: 989
1335796389532: mux: GOT CSM_Msg
1335796389532: removed replies before id 5 from sentReplies of size 1
1335796389533: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796389533: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796389534: mux: I got a CSM packet at a leader 
1335796389536: Received UDP payload: 446
1335796389536: Sending UDP payload: 4034
1335796389536: forwarding disabled, not forwarding packets
1335796389539: mux: Inside mux Packet.CLIENT_REQUEST
1335796389573: Received UDP payload: 446
1335796389575: mux: Inside mux Packet.CLIENT_REQUEST
1335796389719: =======================
1335796389719: Leader about to send REPLY packet, number: 501100004 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796389719: inside sendReplyRepeatingRunnable for replyCount = 501100004
1335796389720: === Finished one round of sending REPLY Packet =======
1335796389720: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796389720: inside sendPacket(Packet p)
1335796389721: Sending UDP payload: 3687
1335796389874: Received UDP payload: 989
1335796389882: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796389882: mux: GOT CSM_Msg
1335796389882: removed replies before id 5 from sentReplies of size 1
1335796389883: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796389883: mux: I got a CSM packet at a leader 
1335796389896: Sending UDP payload: 4034
1335796389902: forwarding disabled, not forwarding packets
1335796389907: Received UDP payload: 989
1335796389910: mux: GOT CSM_Msg
1335796389910: removed replies before id 5 from sentReplies of size 1
1335796389911: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796389911: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796389912: mux: I got a CSM packet at a leader 
1335796389913: Sending UDP payload: 4034
1335796389914: forwarding disabled, not forwarding packets
1335796389918: Received UDP payload: 989
1335796389921: forwarding disabled, not forwarding packets
1335796389921: mux: GOT CSM_Msg
1335796389958: Received UDP payload: 989
1335796389961: forwarding disabled, not forwarding packets
1335796389961: mux: GOT CSM_Msg
1335796389992: Received UDP payload: 625
1335796389994: mux: Inside mux Packet.CLIENT_REQUEST
1335796389995: Make FirstLeg Ack regardless of new or already-processed requests
1335796389995: Note down new request by adding requestCounter=5006148 to HashMap processedRequests
1335796389995: discarding repeated requestCounter=5006148, but still send an ack back
1335796389995: inside handleClientRequest. Originator leader of region 2
1335796389995: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796389996: The leader sending a First Leg ack to originator client (which id = 5006)
1335796389996: inside sendPacket(Packet p)
1335796389997: Sending UDP payload: 446
1335796390008: Received UDP payload: 989
1335796390012: mux: GOT CSM_Msg
1335796390013: forwarding disabled, not forwarding packets
1335796390020: =======================
1335796390021: === Finished one round of sending REPLY Packet =======
1335796390021: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796390021: Leader about to send REPLY packet, number: 501100004 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796390021: inside sendPacket(Packet p)
1335796390021: inside sendReplyRepeatingRunnable for replyCount = 501100004
1335796390023: Sending UDP payload: 3687
1335796390118: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100004
1335796390118: inside sendReplyTimeoutR
1335796390292: Received UDP payload: 989
1335796390307: forwarding disabled, not forwarding packets
1335796390307: mux: GOT CSM_Msg
1335796390591: Received UDP payload: 989
1335796390607: forwarding disabled, not forwarding packets
1335796390607: mux: GOT CSM_Msg
1335796390619: Received UDP payload: 989
1335796390640: forwarding disabled, not forwarding packets
1335796390640: mux: GOT CSM_Msg
1335796390642: Received UDP payload: 989
1335796390662: forwarding disabled, not forwarding packets
1335796390662: mux: GOT CSM_Msg
1335796390838: Received UDP payload: 989
1335796390842: forwarding disabled, not forwarding packets
1335796390842: mux: GOT CSM_Msg
1335796391025: Received UDP payload: 989
1335796391030: forwarding disabled, not forwarding packets
1335796391030: mux: GOT CSM_Msg
1335796391187: Received UDP payload: 989
1335796391192: forwarding disabled, not forwarding packets
1335796391192: mux: GOT CSM_Msg
1335796391224: Received UDP payload: 989
1335796391230: forwarding disabled, not forwarding packets
1335796391230: mux: GOT CSM_Msg
1335796391511: Received UDP payload: 446
1335796391515: mux: Inside mux Packet.CLIENT_REQUEST
1335796391516: got new request, requestCounter = 5006149
1335796391516: inside handleClientRequest. Originator leader of region 2
1335796391516: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796391517: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100004
1335796391517: Yay the last leg succeeded. Removing reply runnables ...
1335796391518: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100004
1335796391518: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100004
1335796391519: do not send ack for received final_leg_ack
1335796391635: inside sendPacket(Packet p)
1335796391638: Sending UDP payload: 446
1335796391959: Received UDP payload: 642
1335796391966: mux: Inside Packet.SERVER_REPLY
1335796391967: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796392008: Received UDP payload: 4732
1335796392014: mux: Inside Packet.SERVER_REPLY
1335796392015: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796392031: Received UDP payload: 989
1335796392033: mux: GOT CSM_Msg
1335796392034: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796392034: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796392034: mux: I got a CSM packet at a leader 
1335796392034: removed replies before id 5 from sentReplies of size 1
1335796392036: Sending UDP payload: 4034
1335796392037: forwarding disabled, not forwarding packets
1335796392042: Received UDP payload: 446
1335796392043: mux: Inside mux Packet.CLIENT_REQUEST
1335796392057: Received UDP payload: 989
1335796392061: mux: GOT CSM_Msg
1335796392061: removed replies before id 5 from sentReplies of size 1
1335796392062: Dispatching Atom PROC_REPLY 11:5 (2,0)->(0,0)
1335796392062: Received DUPLICATE PROC_REQUEST 11:5 (0,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(0,0)
1335796392063: mux: I got a CSM packet at a leader 
1335796392064: Sending UDP payload: 4034
1335796392065: forwarding disabled, not forwarding packets
1335796392153: Received UDP payload: 642
1335796392154: mux: Inside Packet.SERVER_REPLY
1335796392155: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796392260: Received UDP payload: 989
1335796392263: forwarding disabled, not forwarding packets
1335796392263: mux: GOT CSM_Msg
1335796392417: Received UDP payload: 4732
1335796392419: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796392419: mux: Inside Packet.SERVER_REPLY
1335796392461: Received UDP payload: 446
1335796392463: mux: Inside mux Packet.CLIENT_REQUEST
1335796392667: Received UDP payload: 4732
1335796392670: mux: Inside Packet.SERVER_REPLY
1335796392671: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796392771: Received UDP payload: 4732
1335796392775: mux: Inside Packet.SERVER_REPLY
1335796392776: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796393904: Received UDP payload: 446
1335796393911: mux: Inside mux Packet.CLIENT_REQUEST
1335796395209: Received UDP payload: 446
1335796396637: inside sendPacket(Packet p)
1335796396640: Sending UDP payload: 446
1335796399131: Received UDP payload: 463
1335796399172: Received UDP payload: 446
1335796401577: Received UDP payload: 446
1335796401637: inside sendPacket(Packet p)
1335796401641: Sending UDP payload: 446
1335796401678: Received UDP payload: 625
1335796401684: mux: Inside mux Packet.CLIENT_REQUEST
1335796402080: Received UDP payload: 625
1335796402087: Received UDP payload: 625
1335796402087: mux: Inside mux Packet.CLIENT_REQUEST
1335796402095: mux: Inside mux Packet.CLIENT_REQUEST
1335796403650: canPressButton = TRUE
1335796403651: areButtonsEnabled --> false
1335796403651: areButtonsEnabled --> false
1335796403651: disabling buttons ...
1335796403651: took picture disableButtonsR
1335796403677: one more takeNum: 2
1335796403679: Clicked take picture button ..
1335796403679: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335796404664: Received UDP payload: 446
1335796404978: Received UDP payload: 446
1335796404981: inside HandlePictureStorage onPictureTaken()
1335796404981: one more takeCamGood: 2
1335796404982: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335796405246: Picture successfully taken, ORIG BYTE LENGTH = 2161964
1335796405405: Our new height x width: 306 x 408
1335796405405: Show photo from handle my camera take
1335796405406: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335796405406: change local requestCounter to 5
1335796405419: BYTE SIZE AFTER COMPRESSION: 4952
1335796405425: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5011005 Client in region: 2 Client nodID: 5011
1335796405455: ----------------------------
1335796405456: I'm a leader, my requesting photos packet going to mux directly
1335796405456: inside sendRequestPacketRepeatingRunnable for requestCount = 5011005
1335796405457: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796405457: got new request, requestCounter = 5011005
1335796405457: inside handleClientRequest. Originator leader of region 2
1335796405457: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796405457: mux: Inside mux Packet.CLIENT_REQUEST
1335796405458: Dispatching Atom PROC_REQUEST 10:3 (2,0)->(2,0)
1335796405458: Make FirstLeg Ack regardless of new or already-processed requests
1335796405458: Note down new request by adding requestCounter=5011005 to HashMap processedRequests
1335796405458: Sending PROC_REQUEST 10:3 (2,0)->(2,0)
1335796405459: mux: I got a CSM packet at a leader 
1335796405459: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5011)
1335796405467: --- Finished one round of sending REQUEST Packet ---------
1335796405467: Sending UDP payload: 5963
1335796405474: inside handleDSMRequest. At requests's remote leader of region 2
1335796405474: removed replies before id 3 from sentReplies of size 0
1335796405477: Inside UPLOAD_PHOTO!!
1335796405485: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796405485: my_gpinfo.isSuccess is now (should be true): true
1335796405493: Dispatching Atom PROC_REPLY 10:3 (2,0)->(2,0)
1335796405493: Received PROC_REQUEST 10:3 (2,0)->(2,0), replying PROC_REPLY 10:3 (2,0)->(2,0)
1335796405494: mux: I got a CSM packet at a leader 
1335796405495: Sending UDP payload: 989
1335796405499: DSM layer: Going to and from remote region took latency = 41
1335796405499: DSM layer: orig leader sent packet at 1335796405458 ~ received reply from remote leader at 1335796405499
1335796405499: Received PROC_REPLY 10:3 (2,0)->(2,0), handing to UserApp
1335796405499: inside handleDSMReply. Now back in originator leader of region 2
1335796405500: =======================
1335796405500: Originator Region=2's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796405500: change leader replyCounter to: 5
1335796405500: inside sendReplies of replyCount = 501100005
1335796405500: inside sendReplyRepeatingRunnable for replyCount = 501100005
1335796405500: reply packet contains the success info for UPLOAD_PHOTO
1335796405501: === Finished one round of sending REPLY Packet =======
1335796405501: I (the leader) was also the originator client (id = 5011) so I hand the packet to my mux directly, without UDP
1335796405501: Leader about to send REPLY packet, number: 501100005 type: 16 Leader in region: (2,0) to Client nodID: 5011
1335796405509: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796405511: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796405512: I'm a leader and I successfully saved my client's new photo
1335796405513: now showing in UI the new photo I just saved ... 
1335796405513: the photo length: 4952
1335796405549: end of server show photo aside %%%%%%%%%
1335796405551: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335796405551: Inside _enableButtons
1335796405551: disabling progressdialog due to successful new photo upload
1335796405552: areButtonsEnabled --> true
1335796405552: inside finalLegAck: change requestCounter to 6
1335796405552: send final leg ack regardless of new or already-processed reply
1335796405553: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5011006 Client in region: (2,0) Client nodID: 5011
1335796405553: I'm a leader client, my final_leg packet going to mux directly
1335796405554: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100005
1335796405554: Yay the last leg succeeded. Removing reply runnables ...
1335796405554: got new request, requestCounter = 5011006
1335796405554: inside handleClientRequest. Originator leader of region 2
1335796405554: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796405554: mux: Inside mux Packet.CLIENT_REQUEST
1335796405555: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100005
1335796405555: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100005
1335796405555: do not send ack for received final_leg_ack
1335796405555: new client_upload_photo_ack reply with replyCounter 501100005
1335796405555: note down new reply by adding replyCounter=501100005 to HashMap processedReplies
1335796405556: = leader upload start 1335796405457 ~ stop 1335796405551
1335796405556: leader upload new photo latency = 94
1335796405559: one more takeGoodSave: 2
1335796405560: SUCCESS Client now knows saving photo on its leader succeeded
1335796405560: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335796405683: Received UDP payload: 446
1335796406638: inside sendPacket(Packet p)
1335796406675: Sending UDP payload: 446
1335796407774: Received UDP payload: 4732
1335796407784: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796407784: mux: Inside Packet.SERVER_REPLY
1335796407868: Received UDP payload: 4732
1335796407873: mux: Inside Packet.SERVER_REPLY
1335796407874: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796408041: Received UDP payload: 4732
1335796408047: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796408047: mux: Inside Packet.SERVER_REPLY
1335796408267: Received UDP payload: 6463
1335796408276: forwarding disabled, not forwarding packets
1335796408276: mux: GOT CSM_Msg
1335796408287: Received UDP payload: 4732
1335796408291: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796408291: mux: Inside Packet.SERVER_REPLY
1335796408297: Received UDP payload: 446
1335796408300: mux: Inside mux Packet.CLIENT_REQUEST
1335796408360: Received UDP payload: 4732
1335796408363: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796408363: mux: Inside Packet.SERVER_REPLY
1335796408381: Received UDP payload: 446
1335796408384: mux: Inside mux Packet.CLIENT_REQUEST
1335796408730: Received UDP payload: 4732
1335796408738: mux: Inside Packet.SERVER_REPLY
1335796408739: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796409685: Received UDP payload: 989
1335796409695: forwarding disabled, not forwarding packets
1335796409695: mux: GOT CSM_Msg
1335796409860: Received UDP payload: 6463
1335796409870: forwarding disabled, not forwarding packets
1335796409870: mux: GOT CSM_Msg
1335796409875: Received UDP payload: 446
1335796409985: Received UDP payload: 6463
1335796409996: mux: GOT CSM_Msg
1335796409997: forwarding disabled, not forwarding packets
1335796410378: Received UDP payload: 6463
1335796410386: forwarding disabled, not forwarding packets
1335796410386: mux: GOT CSM_Msg
1335796411639: inside sendPacket(Packet p)
1335796411642: Sending UDP payload: 446
1335796412379: Received UDP payload: 446
1335796412670: Received UDP payload: 446
1335796412970: Received UDP payload: 446
1335796413221: Received UDP payload: 446
1335796413304: Received UDP payload: 446
1335796413816: Received UDP payload: 446
1335796415278: Received UDP payload: 6463
1335796415290: forwarding disabled, not forwarding packets
1335796415290: mux: GOT CSM_Msg
1335796415395: Received UDP payload: 6463
1335796415397: forwarding disabled, not forwarding packets
1335796415397: mux: GOT CSM_Msg
1335796416640: inside sendPacket(Packet p)
1335796416643: Sending UDP payload: 446
1335796417375: Received UDP payload: 446
1335796419998: Received UDP payload: 446
1335796420011: Received UDP payload: 446
1335796420267: Received UDP payload: 446
1335796420883: Received UDP payload: 446
1335796421112: canPressButton = TRUE
1335796421113: areButtonsEnabled --> false 
1335796421113: get picture disableButtonsR
1335796421114: areButtonsEnabled --> false
1335796421151: one more getNum: 2
1335796421153: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335796421153: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=0 getTimedout=0 getPercent=50%
1335796421154: change local requestCounter to 7
1335796421157: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5011007 Client in region: 2 Client nodID: 5011
1335796421197: ----------------------------
1335796421198: I'm a leader, my requesting photos packet going to mux directly
1335796421198: inside sendRequestPacketRepeatingRunnable for requestCount = 5011007
1335796421199: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796421199: got new request, requestCounter = 5011007
1335796421199: inside handleClientRequest. Originator leader of region 2
1335796421199: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796421199: mux: Inside mux Packet.CLIENT_REQUEST
1335796421202: Sending PROC_REQUEST 11:0 (2,0)->(3,0)
1335796421202: Sending to region: 3
1335796421203: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796421203: Make FirstLeg Ack regardless of new or already-processed requests
1335796421203: Note down new request by adding requestCounter=5011007 to HashMap processedRequests
1335796421203: mux: I got a CSM packet at a leader 
1335796421203: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5011)
1335796421206: Sending UDP payload: 989
1335796421207: --- Finished one round of sending REQUEST Packet ---------
1335796421211: forwarding disabled, not forwarding packets
1335796421247: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796421441: Received UDP payload: 6463
1335796421443: forwarding disabled, not forwarding packets
1335796421443: mux: GOT CSM_Msg
1335796421641: inside sendPacket(Packet p)
1335796421642: Sending UDP payload: 446
1335796421844: Received UDP payload: 989
1335796421848: forwarding disabled, not forwarding packets
1335796421848: mux: GOT CSM_Msg
1335796421992: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796421993: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796421993: mux: I got a CSM packet at a leader 
1335796421994: Sending UDP payload: 989
1335796421995: forwarding disabled, not forwarding packets
1335796422094: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422094: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422094: mux: I got a CSM packet at a leader 
1335796422095: Sending UDP payload: 989
1335796422096: forwarding disabled, not forwarding packets
1335796422195: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422195: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422196: mux: I got a CSM packet at a leader 
1335796422197: Sending UDP payload: 989
1335796422201: forwarding disabled, not forwarding packets
1335796422296: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422297: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422297: mux: I got a CSM packet at a leader 
1335796422301: Sending UDP payload: 989
1335796422302: forwarding disabled, not forwarding packets
1335796422367: Received UDP payload: 446
1335796422397: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422397: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422398: mux: I got a CSM packet at a leader 
1335796422399: Sending UDP payload: 989
1335796422407: forwarding disabled, not forwarding packets
1335796422498: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422499: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422499: mux: I got a CSM packet at a leader 
1335796422501: Sending UDP payload: 989
1335796422501: forwarding disabled, not forwarding packets
1335796422600: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422600: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422601: mux: I got a CSM packet at a leader 
1335796422602: Sending UDP payload: 989
1335796422603: forwarding disabled, not forwarding packets
1335796422701: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422702: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422702: mux: I got a CSM packet at a leader 
1335796422706: Sending UDP payload: 989
1335796422707: forwarding disabled, not forwarding packets
1335796422803: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422804: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422811: mux: I got a CSM packet at a leader 
1335796422817: Sending UDP payload: 989
1335796422819: forwarding disabled, not forwarding packets
1335796422905: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422905: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796422908: mux: I got a CSM packet at a leader 
1335796422910: Sending UDP payload: 989
1335796422910: forwarding disabled, not forwarding packets
1335796423006: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796423007: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796423007: mux: I got a CSM packet at a leader 
1335796423014: Sending UDP payload: 989
1335796423016: forwarding disabled, not forwarding packets
1335796423108: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796423108: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796423109: mux: I got a CSM packet at a leader 
1335796423111: Sending UDP payload: 989
1335796423112: forwarding disabled, not forwarding packets
1335796423209: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335796423210: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335796423213: mux: I got a CSM packet at a leader 
1335796423216: Sending UDP payload: 989
1335796423216: forwarding disabled, not forwarding packets
1335796423311: DSM Layer: Request timed out, send failure PROC_REPLY 11:0 (3,0)->(2,0)
1335796423311: Dispatching Atom PROC_REPLY 11:0 (3,0)->(2,0)
1335796423312: mux: I got a CSM packet at a leader 
1335796423314: Sending UDP payload: 989
1335796423316: DSM layer timed out, don't log dsm layer latency stuff.
1335796423316: Received PROC_REPLY 11:0 (3,0)->(2,0), handing to UserApp
1335796423316: inside handleDSMReply. Now back in originator leader of region 2
1335796423317: Originator Region=2's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796423317: change leader replyCounter to: 6
1335796423318: =======================
1335796423318: inside sendReplies of replyCount = 501100006
1335796423318: inside sendReplyRepeatingRunnable for replyCount = 501100006
1335796423318: reply packet contains the newest photo/success info from the remote region
1335796423319: === Finished one round of sending REPLY Packet =======
1335796423319: I (the leader) was also the originator client (id = 5011) so I hand the packet to my mux directly, without UDP
1335796423319: Leader about to send REPLY packet, number: 501100006 type: 15 Leader in region: (2,0) to Client nodID: 5011
1335796423334: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796423335: Inside _enableButtons
1335796423335: areButtonsEnabled --> true
1335796423335: disabling progressdialog due to successful new photo get
1335796423336: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5011008 Client in region: (2,0) Client nodID: 5011
1335796423336: inside finalLegAck: change requestCounter to 8
1335796423336: send final leg ack regardless of new or already-processed reply
1335796423337: I'm a leader client, my final_leg packet going to mux directly
1335796423337: new client_show_remotephoto reply with replyCounter 501100006
1335796423338: got new request, requestCounter = 5011008
1335796423338: inside handleClientRequest. Originator leader of region 2
1335796423338: leader download remote photo latency = 2136
1335796423338: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796423338: mux: Inside mux Packet.CLIENT_REQUEST
1335796423338: note down new reply by adding replyCounter=501100006 to HashMap processedReplies
1335796423339: = leader download start 1335796421198 ~ stop 1335796423334
1335796423339: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100006
1335796423339: Yay the last leg succeeded. Removing reply runnables ...
1335796423339: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100006
1335796423339: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100006
1335796423340: Can't get remote photo, because DSM Layer on originator leader timed out
1335796423340: do not send ack for received final_leg_ack
1335796423348: one more getBad: 1
1335796423349: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=1 getTimedout=0 getPercent=50%
1335796423350: getBad++
1335796423669: Received UDP payload: 446
1335796423700: Received UDP payload: 989
1335796423710: mux: GOT CSM_Msg
1335796423711: removed replies before id 6 from sentReplies of size 0
1335796423712: inside handleDSMRequest. At requests's remote leader of region 2
1335796423714: INSIDE SERVER_GET_PHOTO!!!
1335796423727: Received PROC_REQUEST 11:6 (0,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(0,0)
1335796423728: Dispatching Atom PROC_REPLY 11:6 (2,0)->(0,0)
1335796423729: mux: I got a CSM packet at a leader 
1335796423739: Sending UDP payload: 5963
1335796423741: forwarding disabled, not forwarding packets
1335796424980: Received UDP payload: 989
1335796424993: mux: GOT CSM_Msg
1335796424994: removed replies before id 6 from sentReplies of size 1
1335796424996: Received DUPLICATE PROC_REQUEST 11:6 (0,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(0,0)
1335796424997: Dispatching Atom PROC_REPLY 11:6 (2,0)->(0,0)
1335796424997: mux: I got a CSM packet at a leader 
1335796425020: Sending UDP payload: 5963
1335796425022: forwarding disabled, not forwarding packets
1335796425041: Received UDP payload: 989
1335796425045: Received DUPLICATE PROC_REQUEST 11:6 (0,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(0,0)
1335796425045: mux: GOT CSM_Msg
1335796425045: removed replies before id 6 from sentReplies of size 1
1335796425046: Dispatching Atom PROC_REPLY 11:6 (2,0)->(0,0)
1335796425046: mux: I got a CSM packet at a leader 
1335796425047: Sending UDP payload: 5963
1335796425048: forwarding disabled, not forwarding packets
1335796425086: Received UDP payload: 6530
1335796425088: mux: Inside mux Packet.CLIENT_REQUEST
1335796425554: Received UDP payload: 446
1335796425895: Received UDP payload: 446
1335796426276: Received UDP payload: 446
1335796426641: inside sendPacket(Packet p)
1335796426681: Sending UDP payload: 446
1335796426718: Received UDP payload: 989
1335796426732: mux: GOT CSM_Msg
1335796426733: removed replies before id 6 from sentReplies of size 1
1335796426744: Received DUPLICATE PROC_REQUEST 11:6 (0,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(0,0)
1335796426745: Dispatching Atom PROC_REPLY 11:6 (2,0)->(0,0)
1335796426745: mux: I got a CSM packet at a leader 
1335796426757: Received UDP payload: 989
1335796426766: Sending UDP payload: 5963
1335796426777: Received UDP payload: 989
1335796426778: forwarding disabled, not forwarding packets
1335796426778: mux: GOT CSM_Msg
1335796426779: removed replies before id 6 from sentReplies of size 1
1335796426781: Received DUPLICATE PROC_REQUEST 11:6 (0,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(0,0)
1335796426782: Dispatching Atom PROC_REPLY 11:6 (2,0)->(0,0)
1335796426782: mux: I got a CSM packet at a leader 
1335796426807: Sending UDP payload: 5963
1335796426810: forwarding disabled, not forwarding packets
1335796426813: mux: GOT CSM_Msg
1335796426814: removed replies before id 6 from sentReplies of size 1
1335796426823: Received DUPLICATE PROC_REQUEST 11:6 (0,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(0,0)
1335796426824: Dispatching Atom PROC_REPLY 11:6 (2,0)->(0,0)
1335796426825: mux: I got a CSM packet at a leader 
1335796426840: Sending UDP payload: 5963
1335796426842: forwarding disabled, not forwarding packets
1335796426912: Received UDP payload: 4732
1335796426918: mux: Inside Packet.SERVER_REPLY
1335796426919: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796426936: Received UDP payload: 989
1335796426953: mux: GOT CSM_Msg
1335796426954: removed replies before id 6 from sentReplies of size 1
1335796426955: Received DUPLICATE PROC_REQUEST 11:6 (0,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(0,0)
1335796426956: Dispatching Atom PROC_REPLY 11:6 (2,0)->(0,0)
1335796426957: mux: I got a CSM packet at a leader 
1335796426967: Sending UDP payload: 5963
1335796426990: forwarding disabled, not forwarding packets
1335796426991: Received UDP payload: 989
1335796427021: mux: GOT CSM_Msg
1335796427022: removed replies before id 6 from sentReplies of size 1
1335796427024: Received DUPLICATE PROC_REQUEST 11:6 (0,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(0,0)
1335796427031: Dispatching Atom PROC_REPLY 11:6 (2,0)->(0,0)
1335796427031: mux: I got a CSM packet at a leader 
1335796427035: Sending UDP payload: 5963
1335796427039: forwarding disabled, not forwarding packets
1335796427102: Received UDP payload: 989
1335796427115: mux: GOT CSM_Msg
1335796427115: removed replies before id 6 from sentReplies of size 1
1335796427116: Dispatching Atom PROC_REPLY 11:6 (2,0)->(0,0)
1335796427116: Received DUPLICATE PROC_REQUEST 11:6 (0,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(0,0)
1335796427116: mux: I got a CSM packet at a leader 
1335796427117: Sending UDP payload: 5963
1335796427118: forwarding disabled, not forwarding packets
1335796427125: Received UDP payload: 989
1335796427127: mux: GOT CSM_Msg
1335796427127: removed replies before id 6 from sentReplies of size 1
1335796427128: Dispatching Atom PROC_REPLY 11:6 (2,0)->(0,0)
1335796427128: Received DUPLICATE PROC_REQUEST 11:6 (0,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(0,0)
1335796427129: mux: I got a CSM packet at a leader 
1335796427130: Sending UDP payload: 5963
1335796427130: forwarding disabled, not forwarding packets
1335796427230: Received UDP payload: 4732
1335796427232: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796427232: mux: Inside Packet.SERVER_REPLY
1335796427244: Received UDP payload: 989
1335796427247: Received DUPLICATE PROC_REQUEST 11:6 (0,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(0,0)
1335796427247: mux: GOT CSM_Msg
1335796427247: removed replies before id 6 from sentReplies of size 1
1335796427248: Dispatching Atom PROC_REPLY 11:6 (2,0)->(0,0)
1335796427248: mux: I got a CSM packet at a leader 
1335796427249: Sending UDP payload: 5963
1335796427250: forwarding disabled, not forwarding packets
1335796427264: Received UDP payload: 989
1335796427268: mux: GOT CSM_Msg
1335796427269: forwarding disabled, not forwarding packets
1335796427366: Received UDP payload: 446
1335796427710: Received UDP payload: 6093
1335796427716: mux: GOT CSM_Msg
1335796427717: Received DUPLICATE PROC_REPLY 11:0 (3,0)->(2,0)
1335796427756: Received UDP payload: 4732
1335796427759: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796427759: mux: Inside Packet.SERVER_REPLY
1335796427903: Received UDP payload: 4732
1335796427905: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796427905: mux: Inside Packet.SERVER_REPLY
1335796427946: Received UDP payload: 6093
1335796427956: mux: GOT CSM_Msg
1335796427957: Received DUPLICATE PROC_REPLY 11:0 (3,0)->(2,0)
1335796428295: Received UDP payload: 4732
1335796428297: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796428297: mux: Inside Packet.SERVER_REPLY
1335796428441: Received UDP payload: 4732
1335796428443: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796428443: mux: Inside Packet.SERVER_REPLY
1335796429225: Received UDP payload: 3596
1335796429236: mux: Inside mux Packet.CLIENT_REQUEST
1335796429237: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796429248: inside handleClientRequest. Originator leader of region 2
1335796429250: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796429250: got new request, requestCounter = 5017113
1335796429251: Sending PROC_REQUEST 10:4 (2,0)->(2,0)
1335796429255: Dispatching Atom PROC_REQUEST 10:4 (2,0)->(2,0)
1335796429255: Make FirstLeg Ack regardless of new or already-processed requests
1335796429255: Note down new request by adding requestCounter=5017113 to HashMap processedRequests
1335796429256: The leader sending a First Leg ack to originator client (which id = 5017)
1335796429256: inside sendPacket(Packet p)
1335796429257: mux: I got a CSM packet at a leader 
1335796429264: Sending UDP payload: 3960
1335796429279: inside handleDSMRequest. At requests's remote leader of region 2
1335796429279: removed replies before id 4 from sentReplies of size 0
1335796429285: Inside UPLOAD_PHOTO!!
1335796429294: my_gpinfo.isSuccess is now (should be true): true
1335796429295: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796429310: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796429314: I'm a leader and I successfully saved my client's new photo
1335796429314: now showing in UI the new photo I just saved ... 
1335796429314: the photo length: 2949
1335796429354: Dispatching Atom PROC_REPLY 10:4 (2,0)->(2,0)
1335796429354: Received PROC_REQUEST 10:4 (2,0)->(2,0), replying PROC_REPLY 10:4 (2,0)->(2,0)
1335796429357: Sending UDP payload: 446
1335796429359: mux: I got a CSM packet at a leader 
1335796429362: Sending UDP payload: 989
1335796429367: end of server show photo aside %%%%%%%%%
1335796429368: Received PROC_REPLY 10:4 (2,0)->(2,0), handing to UserApp
1335796429368: inside handleDSMReply. Now back in originator leader of region 2
1335796429369: DSM layer: Going to and from remote region took latency = 118
1335796429369: DSM layer: orig leader sent packet at 1335796429250 ~ received reply from remote leader at 1335796429368
1335796429371: =======================
1335796429371: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796429371: change leader replyCounter to: 7
1335796429371: inside sendReplies of replyCount = 501100007
1335796429371: inside sendReplyRepeatingRunnable for replyCount = 501100007
1335796429371: reply packet contains the success info for UPLOAD_PHOTO
1335796429372: === Finished one round of sending REPLY Packet =======
1335796429372: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796429372: Leader about to send REPLY packet, number: 501100007 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796429372: inside sendPacket(Packet p)
1335796429373: Sending UDP payload: 642
1335796429397: Received UDP payload: 3596
1335796429401: inside handleClientRequest. Originator leader of region 2
1335796429401: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796429401: mux: Inside mux Packet.CLIENT_REQUEST
1335796429402: Make FirstLeg Ack regardless of new or already-processed requests
1335796429402: Note down new request by adding requestCounter=5017113 to HashMap processedRequests
1335796429402: The leader sending a First Leg ack to originator client (which id = 5017)
1335796429402: discarding repeated requestCounter=5017113, but still send an ack back
1335796429402: inside sendPacket(Packet p)
1335796429403: Sending UDP payload: 446
1335796429545: Received UDP payload: 3596
1335796429547: Make FirstLeg Ack regardless of new or already-processed requests
1335796429547: Note down new request by adding requestCounter=5017113 to HashMap processedRequests
1335796429547: The leader sending a First Leg ack to originator client (which id = 5017)
1335796429547: discarding repeated requestCounter=5017113, but still send an ack back
1335796429547: inside handleClientRequest. Originator leader of region 2
1335796429547: inside sendPacket(Packet p)
1335796429547: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796429547: mux: Inside mux Packet.CLIENT_REQUEST
1335796429548: Sending UDP payload: 446
1335796429672: =======================
1335796429672: Leader about to send REPLY packet, number: 501100007 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796429672: inside sendReplyRepeatingRunnable for replyCount = 501100007
1335796429673: === Finished one round of sending REPLY Packet =======
1335796429673: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796429673: inside sendPacket(Packet p)
1335796429674: Sending UDP payload: 642
1335796429955: Received UDP payload: 446
1335796429974: =======================
1335796429974: inside sendReplyRepeatingRunnable for replyCount = 501100007
1335796429975: Leader about to send REPLY packet, number: 501100007 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796429976: === Finished one round of sending REPLY Packet =======
1335796429976: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796429976: inside sendPacket(Packet p)
1335796429980: Sending UDP payload: 642
1335796430242: Received UDP payload: 4409
1335796430245: inside handleClientRequest. Originator leader of region 2
1335796430245: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796430245: mux: Inside mux Packet.CLIENT_REQUEST
1335796430246: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796430246: got new request, requestCounter = 5010077
1335796430247: Dispatching Atom PROC_REQUEST 10:5 (2,0)->(2,0)
1335796430247: Make FirstLeg Ack regardless of new or already-processed requests
1335796430247: Note down new request by adding requestCounter=5010077 to HashMap processedRequests
1335796430247: Sending PROC_REQUEST 10:5 (2,0)->(2,0)
1335796430248: The leader sending a First Leg ack to originator client (which id = 5010)
1335796430249: inside sendPacket(Packet p)
1335796430249: mux: I got a CSM packet at a leader 
1335796430252: Sending UDP payload: 4773
1335796430259: inside handleDSMRequest. At requests's remote leader of region 2
1335796430259: removed replies before id 5 from sentReplies of size 0
1335796430260: Inside UPLOAD_PHOTO!!
1335796430264: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796430264: my_gpinfo.isSuccess is now (should be true): true
1335796430277: =======================
1335796430277: inside sendReplyRepeatingRunnable for replyCount = 501100007
1335796430278: === Finished one round of sending REPLY Packet =======
1335796430278: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796430278: Leader about to send REPLY packet, number: 501100007 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796430278: inside sendPacket(Packet p)
1335796430280: Dispatching Atom PROC_REPLY 10:5 (2,0)->(2,0)
1335796430280: Received PROC_REQUEST 10:5 (2,0)->(2,0), replying PROC_REPLY 10:5 (2,0)->(2,0)
1335796430282: Sending UDP payload: 446
1335796430285: Sending UDP payload: 642
1335796430286: mux: I got a CSM packet at a leader 
1335796430294: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796430296: Sending UDP payload: 989
1335796430297: Received PROC_REPLY 10:5 (2,0)->(2,0), handing to UserApp
1335796430298: DSM layer: Going to and from remote region took latency = 52
1335796430298: DSM layer: orig leader sent packet at 1335796430246 ~ received reply from remote leader at 1335796430298
1335796430298: inside handleDSMReply. Now back in originator leader of region 2
1335796430302: Originator Region=2's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796430302: change leader replyCounter to: 8
1335796430302: inside sendReplies of replyCount = 501100008
1335796430302: reply packet contains the success info for UPLOAD_PHOTO
1335796430303: =======================
1335796430303: Leader about to send REPLY packet, number: 501100008 type: 16 Leader in region: (2,0) to Client nodID: 5010
1335796430303: inside sendReplyRepeatingRunnable for replyCount = 501100008
1335796430304: === Finished one round of sending REPLY Packet =======
1335796430304: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796430304: inside sendPacket(Packet p)
1335796430307: Sending UDP payload: 642
1335796430311: I'm a leader and I successfully saved my client's new photo
1335796430312: now showing in UI the new photo I just saved ... 
1335796430312: the photo length: 3762
1335796430372: end of server show photo aside %%%%%%%%%
1335796430373: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100007
1335796430373: inside sendReplyTimeoutR
1335796430549: Received UDP payload: 625
1335796430552: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796430552: mux: Inside mux Packet.CLIENT_REQUEST
1335796430553: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796430553: got new request, requestCounter = 5010078
1335796430553: inside handleClientRequest. Originator leader of region 2
1335796430554: Sending to region: 0
1335796430555: Sending PROC_REQUEST 11:1 (2,0)->(0,0)
1335796430556: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796430556: Make FirstLeg Ack regardless of new or already-processed requests
1335796430556: Note down new request by adding requestCounter=5010078 to HashMap processedRequests
1335796430556: The leader sending a First Leg ack to originator client (which id = 5010)
1335796430556: inside sendPacket(Packet p)
1335796430557: mux: I got a CSM packet at a leader 
1335796430560: Sending UDP payload: 989
1335796430568: forwarding disabled, not forwarding packets
1335796430570: Sending UDP payload: 446
1335796430606: =======================
1335796430606: inside sendReplyRepeatingRunnable for replyCount = 501100008
1335796430607: === Finished one round of sending REPLY Packet =======
1335796430607: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796430607: Leader about to send REPLY packet, number: 501100008 type: 16 Leader in region: (2,0) to Client nodID: 5010
1335796430607: inside sendPacket(Packet p)
1335796430609: Sending UDP payload: 642
1335796430793: Received UDP payload: 625
1335796430796: inside handleClientRequest. Originator leader of region 2
1335796430796: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796430796: mux: Inside mux Packet.CLIENT_REQUEST
1335796430797: Make FirstLeg Ack regardless of new or already-processed requests
1335796430797: Note down new request by adding requestCounter=5010078 to HashMap processedRequests
1335796430797: The leader sending a First Leg ack to originator client (which id = 5010)
1335796430797: discarding repeated requestCounter=5010078, but still send an ack back
1335796430797: inside sendPacket(Packet p)
1335796430799: Sending UDP payload: 446
1335796430803: Received UDP payload: 625
1335796430806: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796430806: mux: Inside mux Packet.CLIENT_REQUEST
1335796430807: Note down new request by adding requestCounter=5010078 to HashMap processedRequests
1335796430807: discarding repeated requestCounter=5010078, but still send an ack back
1335796430807: inside handleClientRequest. Originator leader of region 2
1335796430808: Make FirstLeg Ack regardless of new or already-processed requests
1335796430808: The leader sending a First Leg ack to originator client (which id = 5010)
1335796430809: inside sendPacket(Packet p)
1335796430811: Received UDP payload: 625
1335796430812: Sending UDP payload: 446
1335796430816: Note down new request by adding requestCounter=5010078 to HashMap processedRequests
1335796430816: discarding repeated requestCounter=5010078, but still send an ack back
1335796430816: inside handleClientRequest. Originator leader of region 2
1335796430816: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796430816: mux: Inside mux Packet.CLIENT_REQUEST
1335796430817: Make FirstLeg Ack regardless of new or already-processed requests
1335796430817: The leader sending a First Leg ack to originator client (which id = 5010)
1335796430817: inside sendPacket(Packet p)
1335796430826: Sending UDP payload: 446
1335796430840: Received UDP payload: 625
1335796430843: inside handleClientRequest. Originator leader of region 2
1335796430843: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796430843: mux: Inside mux Packet.CLIENT_REQUEST
1335796430844: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796430844: got new request, requestCounter = 5010079
1335796430845: Sending to region: 1
1335796430846: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796430846: Note down new request by adding requestCounter=5010079 to HashMap processedRequests
1335796430846: Sending PROC_REQUEST 11:0 (2,0)->(1,0)
1335796430847: Make FirstLeg Ack regardless of new or already-processed requests
1335796430847: The leader sending a First Leg ack to originator client (which id = 5010)
1335796430847: inside sendPacket(Packet p)
1335796430847: mux: I got a CSM packet at a leader 
1335796430850: Sending UDP payload: 989
1335796430858: forwarding disabled, not forwarding packets
1335796430860: Sending UDP payload: 446
1335796430908: =======================
1335796430908: inside sendReplyRepeatingRunnable for replyCount = 501100008
1335796430909: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796430909: Leader about to send REPLY packet, number: 501100008 type: 16 Leader in region: (2,0) to Client nodID: 5010
1335796430909: inside sendPacket(Packet p)
1335796430910: === Finished one round of sending REPLY Packet =======
1335796430911: Sending UDP payload: 642
1335796431211: =======================
1335796431212: inside sendReplyRepeatingRunnable for replyCount = 501100008
1335796431220: Leader about to send REPLY packet, number: 501100008 type: 16 Leader in region: (2,0) to Client nodID: 5010
1335796431222: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796431223: inside sendPacket(Packet p)
1335796431229: Sending UDP payload: 642
1335796431232: === Finished one round of sending REPLY Packet =======
1335796431274: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431275: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431278: mux: I got a CSM packet at a leader 
1335796431279: Sending UDP payload: 989
1335796431280: forwarding disabled, not forwarding packets
1335796431308: inside sendReplyTimeoutR
1335796431316: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100008
1335796431379: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431380: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431380: mux: I got a CSM packet at a leader 
1335796431381: Sending UDP payload: 989
1335796431382: forwarding disabled, not forwarding packets
1335796431481: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431481: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431487: mux: I got a CSM packet at a leader 
1335796431488: Sending UDP payload: 989
1335796431489: forwarding disabled, not forwarding packets
1335796431584: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796431585: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796431586: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431587: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431587: mux: I got a CSM packet at a leader 
1335796431591: Sending UDP payload: 989
1335796431592: forwarding disabled, not forwarding packets
1335796431593: mux: I got a CSM packet at a leader 
1335796431599: Sending UDP payload: 989
1335796431600: forwarding disabled, not forwarding packets
1335796431642: inside sendPacket(Packet p)
1335796431643: Sending UDP payload: 446
1335796431688: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796431688: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796431689: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431689: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431690: mux: I got a CSM packet at a leader 
1335796431691: Sending UDP payload: 989
1335796431692: forwarding disabled, not forwarding packets
1335796431692: mux: I got a CSM packet at a leader 
1335796431693: Sending UDP payload: 989
1335796431694: forwarding disabled, not forwarding packets
1335796431722: areButtonsEnabled --> false 
1335796431722: canPressButton = TRUE
1335796431723: areButtonsEnabled --> false
1335796431723: get picture disableButtonsR
1335796431751: one more getNum: 3
1335796431752: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335796431752: change local requestCounter to 9
1335796431752: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=1 getBad=1 getTimedout=0 getPercent=33%
1335796431756: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5011009 Client in region: 2 Client nodID: 5011
1335796431790: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796431790: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796431790: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431791: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431791: mux: I got a CSM packet at a leader 
1335796431792: Sending UDP payload: 989
1335796431793: forwarding disabled, not forwarding packets
1335796431793: mux: I got a CSM packet at a leader 
1335796431795: ----------------------------
1335796431795: Sending UDP payload: 989
1335796431795: forwarding disabled, not forwarding packets
1335796431797: --- Finished one round of sending REQUEST Packet ---------
1335796431797: I'm a leader, my requesting photos packet going to mux directly
1335796431797: inside sendRequestPacketRepeatingRunnable for requestCount = 5011009
1335796431798: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796431798: got new request, requestCounter = 5011009
1335796431798: inside handleClientRequest. Originator leader of region 2
1335796431798: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796431798: mux: Inside mux Packet.CLIENT_REQUEST
1335796431799: Sending to region: 1
1335796431805: Sending PROC_REQUEST 11:1 (2,0)->(1,0)
1335796431806: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796431806: Make FirstLeg Ack regardless of new or already-processed requests
1335796431806: Note down new request by adding requestCounter=5011009 to HashMap processedRequests
1335796431806: mux: I got a CSM packet at a leader 
1335796431806: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5011)
1335796431807: Sending UDP payload: 989
1335796431808: forwarding disabled, not forwarding packets
1335796431837: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796431891: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796431892: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796431892: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431892: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796431893: mux: I got a CSM packet at a leader 
1335796431894: Sending UDP payload: 989
1335796431895: forwarding disabled, not forwarding packets
1335796431895: mux: I got a CSM packet at a leader 
1335796431896: Sending UDP payload: 989
1335796431897: forwarding disabled, not forwarding packets
1335796431993: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796431994: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796431995: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432001: mux: I got a CSM packet at a leader 
1335796432003: Sending UDP payload: 989
1335796432008: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432010: forwarding disabled, not forwarding packets
1335796432011: mux: I got a CSM packet at a leader 
1335796432015: Sending UDP payload: 989
1335796432015: forwarding disabled, not forwarding packets
1335796432110: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432110: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432111: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432111: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432112: mux: I got a CSM packet at a leader 
1335796432114: Sending UDP payload: 989
1335796432114: forwarding disabled, not forwarding packets
1335796432115: mux: I got a CSM packet at a leader 
1335796432117: Sending UDP payload: 989
1335796432117: forwarding disabled, not forwarding packets
1335796432212: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432212: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432212: mux: I got a CSM packet at a leader 
1335796432215: Sending UDP payload: 989
1335796432216: forwarding disabled, not forwarding packets
1335796432217: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432223: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432224: mux: I got a CSM packet at a leader 
1335796432228: Sending UDP payload: 989
1335796432229: forwarding disabled, not forwarding packets
1335796432324: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432326: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432326: mux: I got a CSM packet at a leader 
1335796432331: Sending UDP payload: 989
1335796432332: forwarding disabled, not forwarding packets
1335796432334: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432337: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432338: mux: I got a CSM packet at a leader 
1335796432342: Sending UDP payload: 989
1335796432343: forwarding disabled, not forwarding packets
1335796432403: Received UDP payload: 446
1335796432427: Received UDP payload: 446
1335796432431: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100007
1335796432431: Yay the last leg succeeded. Removing reply runnables ...
1335796432431: got new request, requestCounter = 5017114
1335796432431: inside handleClientRequest. Originator leader of region 2
1335796432431: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796432431: mux: Inside mux Packet.CLIENT_REQUEST
1335796432432: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100007
1335796432432: do not send ack for received final_leg_ack
1335796432432: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100007
1335796432435: Received UDP payload: 446
1335796432438: mux: Inside mux Packet.CLIENT_REQUEST
1335796432439: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100007
1335796432439: Yay the last leg succeeded. Removing reply runnables ...
1335796432439: got new request, requestCounter = 5017115
1335796432439: inside handleClientRequest. Originator leader of region 2
1335796432439: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796432439: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100007
1335796432440: Received UDP payload: 446
1335796432440: do not send ack for received final_leg_ack
1335796432440: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100007
1335796432443: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432444: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432445: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432445: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432445: mux: I got a CSM packet at a leader 
1335796432448: Sending UDP payload: 989
1335796432448: forwarding disabled, not forwarding packets
1335796432449: mux: I got a CSM packet at a leader 
1335796432451: Sending UDP payload: 989
1335796432452: forwarding disabled, not forwarding packets
1335796432453: inside handleClientRequest. Originator leader of region 2
1335796432453: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796432453: mux: Inside mux Packet.CLIENT_REQUEST
1335796432457: got new request, requestCounter = 5017116
1335796432458: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100007
1335796432458: Yay the last leg succeeded. Removing reply runnables ...
1335796432458: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100007
1335796432459: do not send ack for received final_leg_ack
1335796432459: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100007
1335796432546: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432546: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432547: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432547: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796432547: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432547: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796432548: mux: I got a CSM packet at a leader 
1335796432549: Sending UDP payload: 989
1335796432550: forwarding disabled, not forwarding packets
1335796432550: mux: I got a CSM packet at a leader 
1335796432552: Sending UDP payload: 989
1335796432553: forwarding disabled, not forwarding packets
1335796432553: mux: I got a CSM packet at a leader 
1335796432554: Sending UDP payload: 989
1335796432555: forwarding disabled, not forwarding packets
1335796432648: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432649: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432649: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796432649: Retrying PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432649: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796432650: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(0,0)
1335796432650: mux: I got a CSM packet at a leader 
1335796432651: Sending UDP payload: 989
1335796432652: forwarding disabled, not forwarding packets
1335796432652: mux: I got a CSM packet at a leader 
1335796432653: Sending UDP payload: 989
1335796432654: forwarding disabled, not forwarding packets
1335796432654: mux: I got a CSM packet at a leader 
1335796432655: Sending UDP payload: 989
1335796432656: forwarding disabled, not forwarding packets
1335796432750: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432751: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432751: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796432751: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796432752: DSM Layer: Request timed out, send failure PROC_REPLY 11:1 (0,0)->(2,0)
1335796432752: Dispatching Atom PROC_REPLY 11:1 (0,0)->(2,0)
1335796432752: mux: I got a CSM packet at a leader 
1335796432754: Sending UDP payload: 989
1335796432754: forwarding disabled, not forwarding packets
1335796432754: mux: I got a CSM packet at a leader 
1335796432755: Sending UDP payload: 989
1335796432756: forwarding disabled, not forwarding packets
1335796432757: mux: I got a CSM packet at a leader 
1335796432758: Sending UDP payload: 989
1335796432759: Received PROC_REPLY 11:1 (0,0)->(2,0), handing to UserApp
1335796432760: DSM layer timed out, don't log dsm layer latency stuff.
1335796432760: Originator Region=2's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796432760: inside handleDSMReply. Now back in originator leader of region 2
1335796432761: =======================
1335796432761: change leader replyCounter to: 9
1335796432761: inside sendReplies of replyCount = 501100009
1335796432761: inside sendReplyRepeatingRunnable for replyCount = 501100009
1335796432761: reply packet contains the newest photo/success info from the remote region
1335796432762: === Finished one round of sending REPLY Packet =======
1335796432762: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796432762: Leader about to send REPLY packet, number: 501100009 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796432762: inside sendPacket(Packet p)
1335796432763: Sending UDP payload: 642
1335796432853: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432853: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335796432854: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796432854: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796432854: mux: I got a CSM packet at a leader 
1335796432856: Sending UDP payload: 989
1335796432856: forwarding disabled, not forwarding packets
1335796432857: mux: I got a CSM packet at a leader 
1335796432860: Sending UDP payload: 989
1335796432861: forwarding disabled, not forwarding packets
1335796432955: DSM Layer: Request timed out, send failure PROC_REPLY 11:0 (1,0)->(2,0)
1335796432955: Dispatching Atom PROC_REPLY 11:0 (1,0)->(2,0)
1335796432955: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796432956: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796432956: mux: I got a CSM packet at a leader 
1335796432957: Sending UDP payload: 989
1335796432958: Received PROC_REPLY 11:0 (1,0)->(2,0), handing to UserApp
1335796432959: DSM layer timed out, don't log dsm layer latency stuff.
1335796432959: Originator Region=2's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796432959: inside handleDSMReply. Now back in originator leader of region 2
1335796432960: =======================
1335796432960: Leader about to send REPLY packet, number: 501100010 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796432960: change leader replyCounter to: 10
1335796432960: inside sendReplies of replyCount = 501100010
1335796432960: inside sendReplyRepeatingRunnable for replyCount = 501100010
1335796432960: reply packet contains the newest photo/success info from the remote region
1335796432961: === Finished one round of sending REPLY Packet =======
1335796432961: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796432961: inside sendPacket(Packet p)
1335796432961: mux: I got a CSM packet at a leader 
1335796432963: Sending UDP payload: 989
1335796432963: forwarding disabled, not forwarding packets
1335796432965: Sending UDP payload: 642
1335796433056: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433057: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433057: mux: I got a CSM packet at a leader 
1335796433059: Sending UDP payload: 989
1335796433061: forwarding disabled, not forwarding packets
1335796433062: =======================
1335796433062: inside sendReplyRepeatingRunnable for replyCount = 501100009
1335796433063: Leader about to send REPLY packet, number: 501100009 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796433067: === Finished one round of sending REPLY Packet =======
1335796433067: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796433067: inside sendPacket(Packet p)
1335796433070: Sending UDP payload: 642
1335796433158: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433159: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433159: mux: I got a CSM packet at a leader 
1335796433161: Sending UDP payload: 989
1335796433163: forwarding disabled, not forwarding packets
1335796433260: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433261: =======================
1335796433261: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433261: inside sendReplyRepeatingRunnable for replyCount = 501100010
1335796433262: mux: I got a CSM packet at a leader 
1335796433265: Sending UDP payload: 989
1335796433266: Leader about to send REPLY packet, number: 501100010 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796433267: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796433267: inside sendPacket(Packet p)
1335796433268: === Finished one round of sending REPLY Packet =======
1335796433268: forwarding disabled, not forwarding packets
1335796433270: Sending UDP payload: 642
1335796433301: Received UDP payload: 625
1335796433304: mux: Inside mux Packet.CLIENT_REQUEST
1335796433314: Received UDP payload: 989
1335796433326: inside handleDSMRequest. At requests's remote leader of region 2
1335796433326: mux: GOT CSM_Msg
1335796433326: removed replies before id 8 from sentReplies of size 0
1335796433327: INSIDE SERVER_GET_PHOTO!!!
1335796433331: Received PROC_REQUEST 11:8 (3,0)->(2,0), replying PROC_REPLY 11:8 (2,0)->(3,0)
1335796433331: Received UDP payload: 446
1335796433332: Dispatching Atom PROC_REPLY 11:8 (2,0)->(3,0)
1335796433332: mux: I got a CSM packet at a leader 
1335796433339: Sending UDP payload: 4773
1335796433341: Received UDP payload: 446
1335796433344: forwarding disabled, not forwarding packets
1335796433345: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796433345: mux: Inside Packet.SERVER_REPLY
1335796433346: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796433346: mux: Inside Packet.SERVER_REPLY
1335796433362: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433362: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433362: mux: I got a CSM packet at a leader 
1335796433365: Received UDP payload: 625
1335796433365: Sending UDP payload: 989
1335796433365: forwarding disabled, not forwarding packets
1335796433367: =======================
1335796433367: inside sendReplyRepeatingRunnable for replyCount = 501100009
1335796433367: mux: Inside mux Packet.CLIENT_REQUEST
1335796433368: === Finished one round of sending REPLY Packet =======
1335796433368: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796433368: Leader about to send REPLY packet, number: 501100009 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796433368: inside sendPacket(Packet p)
1335796433373: Sending UDP payload: 642
1335796433384: Received UDP payload: 446
1335796433386: mux: Inside Packet.SERVER_REPLY
1335796433387: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796433463: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433463: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433464: mux: I got a CSM packet at a leader 
1335796433478: Sending UDP payload: 989
1335796433479: forwarding disabled, not forwarding packets
1335796433564: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433565: Received UDP payload: 625
1335796433567: =======================
1335796433567: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433567: mux: I got a CSM packet at a leader 
1335796433568: inside sendReplyRepeatingRunnable for replyCount = 501100010
1335796433569: Leader about to send REPLY packet, number: 501100010 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796433570: === Finished one round of sending REPLY Packet =======
1335796433570: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796433570: inside sendPacket(Packet p)
1335796433572: Sending UDP payload: 989
1335796433573: forwarding disabled, not forwarding packets
1335796433574: Sending UDP payload: 642
1335796433574: mux: Inside mux Packet.CLIENT_REQUEST
1335796433668: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433668: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433669: === Finished one round of sending REPLY Packet =======
1335796433669: =======================
1335796433669: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796433669: Leader about to send REPLY packet, number: 501100009 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796433669: inside sendPacket(Packet p)
1335796433669: inside sendReplyRepeatingRunnable for replyCount = 501100009
1335796433670: mux: I got a CSM packet at a leader 
1335796433671: Sending UDP payload: 989
1335796433672: forwarding disabled, not forwarding packets
1335796433673: Sending UDP payload: 642
1335796433722: Received UDP payload: 446
1335796433724: got new request, requestCounter = 5017117
1335796433724: inside handleClientRequest. Originator leader of region 2
1335796433724: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796433724: mux: Inside mux Packet.CLIENT_REQUEST
1335796433725: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100007
1335796433725: Yay the last leg succeeded. Removing reply runnables ...
1335796433725: do not send ack for received final_leg_ack
1335796433725: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100007
1335796433725: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100007
1335796433762: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100009
1335796433762: inside sendReplyTimeoutR
1335796433769: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433769: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433769: mux: I got a CSM packet at a leader 
1335796433771: Sending UDP payload: 989
1335796433771: forwarding disabled, not forwarding packets
1335796433870: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433870: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335796433871: === Finished one round of sending REPLY Packet =======
1335796433871: =======================
1335796433871: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796433871: Leader about to send REPLY packet, number: 501100010 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796433871: inside sendPacket(Packet p)
1335796433871: inside sendReplyRepeatingRunnable for replyCount = 501100010
1335796433871: mux: I got a CSM packet at a leader 
1335796433873: Sending UDP payload: 989
1335796433873: forwarding disabled, not forwarding packets
1335796433875: Sending UDP payload: 642
1335796433942: Received UDP payload: 4426
1335796433945: mux: Inside Packet.SERVER_REPLY
1335796433946: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796433962: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100010
1335796433962: inside sendReplyTimeoutR
1335796433971: DSM Layer: Request timed out, send failure PROC_REPLY 11:1 (1,0)->(2,0)
1335796433972: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335796433972: mux: I got a CSM packet at a leader 
1335796433974: Sending UDP payload: 989
1335796433975: Received PROC_REPLY 11:1 (1,0)->(2,0), handing to UserApp
1335796433976: DSM layer timed out, don't log dsm layer latency stuff.
1335796433976: inside handleDSMReply. Now back in originator leader of region 2
1335796433977: Originator Region=2's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796433977: change leader replyCounter to: 11
1335796433977: inside sendReplies of replyCount = 501100011
1335796433977: reply packet contains the newest photo/success info from the remote region
1335796433978: =======================
1335796433978: Leader about to send REPLY packet, number: 501100011 type: 15 Leader in region: (2,0) to Client nodID: 5011
1335796433978: inside sendReplyRepeatingRunnable for replyCount = 501100011
1335796433979: === Finished one round of sending REPLY Packet =======
1335796433979: I (the leader) was also the originator client (id = 5011) so I hand the packet to my mux directly, without UDP
1335796433980: Received UDP payload: 446
1335796433984: mux: Inside mux Packet.CLIENT_REQUEST
1335796434015: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796434016: disabling progressdialog due to successful new photo get
1335796434017: Inside _enableButtons
1335796434018: areButtonsEnabled --> true
1335796434019: inside finalLegAck: change requestCounter to 10
1335796434019: send final leg ack regardless of new or already-processed reply
1335796434023: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5011010 Client in region: (2,0) Client nodID: 5011
1335796434023: I'm a leader client, my final_leg packet going to mux directly
1335796434024: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796434024: mux: Inside mux Packet.CLIENT_REQUEST
1335796434025: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100011
1335796434025: got new request, requestCounter = 5011010
1335796434025: inside handleClientRequest. Originator leader of region 2
1335796434026: Yay the last leg succeeded. Removing reply runnables ...
1335796434026: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100011
1335796434026: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100011
1335796434027: do not send ack for received final_leg_ack
1335796434028: new client_show_remotephoto reply with replyCounter 501100011
1335796434028: note down new reply by adding replyCounter=501100011 to HashMap processedReplies
1335796434029: leader download remote photo latency = 2218
1335796434030: = leader download start 1335796431797 ~ stop 1335796434015
1335796434032: Can't get remote photo, because DSM Layer on originator leader timed out
1335796434038: one more getBad: 2
1335796434041: getBad++
1335796434041: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=1 getBad=2 getTimedout=0 getPercent=33%
1335796434068: Received UDP payload: 625
1335796434070: mux: Inside mux Packet.CLIENT_REQUEST
1335796434071: inside handleClientRequest. Originator leader of region 2
1335796434071: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796434072: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796434072: got new request, requestCounter = 5006150
1335796434074: Sending to region: 2
1335796434075: Sending PROC_REQUEST 11:6 (2,0)->(2,0)
1335796434076: Dispatching Atom PROC_REQUEST 11:6 (2,0)->(2,0)
1335796434076: Note down new request by adding requestCounter=5006150 to HashMap processedRequests
1335796434076: Received UDP payload: 625
1335796434077: Make FirstLeg Ack regardless of new or already-processed requests
1335796434081: The leader sending a First Leg ack to originator client (which id = 5006)
1335796434081: inside sendPacket(Packet p)
1335796434086: Received UDP payload: 625
1335796434087: mux: I got a CSM packet at a leader 
1335796434094: Sending UDP payload: 989
1335796434095: Received UDP payload: 625
1335796434096: inside handleDSMRequest. At requests's remote leader of region 2
1335796434096: removed replies before id 6 from sentReplies of size 0
1335796434097: INSIDE SERVER_GET_PHOTO!!!
1335796434105:  1 self to self atomRequest
1335796434105: dst_region == src_region = 2
1335796434108: Dispatching Atom PROC_REPLY 11:6 (2,0)->(2,0)
1335796434108: Received PROC_REQUEST 11:6 (2,0)->(2,0), replying PROC_REPLY 11:6 (2,0)->(2,0)
1335796434109: Note down new request by adding requestCounter=5006150 to HashMap processedRequests
1335796434109: discarding repeated requestCounter=5006150, but still send an ack back
1335796434109: inside handleClientRequest. Originator leader of region 2
1335796434109: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796434109: mux: Inside mux Packet.CLIENT_REQUEST
1335796434110: Make FirstLeg Ack regardless of new or already-processed requests
1335796434110: The leader sending a First Leg ack to originator client (which id = 5006)
1335796434110: inside sendPacket(Packet p)
1335796434111: Sending UDP payload: 446
1335796434113: mux: Inside mux Packet.CLIENT_REQUEST
1335796434114: Note down new request by adding requestCounter=5006150 to HashMap processedRequests
1335796434114: discarding repeated requestCounter=5006150, but still send an ack back
1335796434114: inside handleClientRequest. Originator leader of region 2
1335796434114: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796434115: Make FirstLeg Ack regardless of new or already-processed requests
1335796434115: The leader sending a First Leg ack to originator client (which id = 5006)
1335796434115: inside sendPacket(Packet p)
1335796434115: mux: Inside mux Packet.CLIENT_REQUEST
1335796434116: discarding repeated requestCounter=5006150, but still send an ack back
1335796434116: inside handleClientRequest. Originator leader of region 2
1335796434116: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796434117: Make FirstLeg Ack regardless of new or already-processed requests
1335796434117: Note down new request by adding requestCounter=5006150 to HashMap processedRequests
1335796434117: The leader sending a First Leg ack to originator client (which id = 5006)
1335796434118: inside sendPacket(Packet p)
1335796434119: mux: I got a CSM packet at a leader 
1335796434120: Sending UDP payload: 4773
1335796434122: DSM layer: Going to and from remote region took latency = 48
1335796434122: DSM layer: orig leader sent packet at 1335796434074 ~ received reply from remote leader at 1335796434122
1335796434122: Received PROC_REPLY 11:6 (2,0)->(2,0), handing to UserApp
1335796434122: inside handleDSMReply. Now back in originator leader of region 2
1335796434124: =======================
1335796434124: Originator Region=2's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796434124: change leader replyCounter to: 12
1335796434124: inside sendReplies of replyCount = 501100012
1335796434124: reply packet contains the newest photo/success info from the remote region
1335796434125: === Finished one round of sending REPLY Packet =======
1335796434125: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796434125: Leader about to send REPLY packet, number: 501100012 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796434125: inside sendPacket(Packet p)
1335796434125: inside sendReplyRepeatingRunnable for replyCount = 501100012
1335796434128: Sending UDP payload: 446
1335796434131: Sending UDP payload: 446
1335796434132: Sending UDP payload: 446
1335796434134: Sending UDP payload: 4426
1335796434425: =======================
1335796434426: === Finished one round of sending REPLY Packet =======
1335796434426: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796434426: Leader about to send REPLY packet, number: 501100012 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796434426: inside sendPacket(Packet p)
1335796434426: inside sendReplyRepeatingRunnable for replyCount = 501100012
1335796434427: Sending UDP payload: 4426
1335796434727: =======================
1335796434727: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796434727: Leader about to send REPLY packet, number: 501100012 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796434727: inside sendReplyRepeatingRunnable for replyCount = 501100012
1335796434728: === Finished one round of sending REPLY Packet =======
1335796434728: inside sendPacket(Packet p)
1335796434729: Sending UDP payload: 4426
1335796435028: =======================
1335796435029: Leader about to send REPLY packet, number: 501100012 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796435029: inside sendReplyRepeatingRunnable for replyCount = 501100012
1335796435030: === Finished one round of sending REPLY Packet =======
1335796435030: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796435030: inside sendPacket(Packet p)
1335796435033: Sending UDP payload: 4426
1335796435126: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100012
1335796435126: inside sendReplyTimeoutR
1335796435152: Received UDP payload: 4732
1335796435157: mux: Inside Packet.SERVER_REPLY
1335796435158: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796435214: Received UDP payload: 4732
1335796435216: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796435216: mux: Inside Packet.SERVER_REPLY
1335796435295: Received UDP payload: 4732
1335796435297: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796435297: mux: Inside Packet.SERVER_REPLY
1335796435362: Received UDP payload: 4732
1335796435364: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796435364: mux: Inside Packet.SERVER_REPLY
1335796435709: Received UDP payload: 4732
1335796435711: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796435711: mux: Inside Packet.SERVER_REPLY
1335796435793: Received UDP payload: 4732
1335796435799: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796435799: mux: Inside Packet.SERVER_REPLY
1335796435916: Received UDP payload: 4732
1335796435923: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796435923: mux: Inside Packet.SERVER_REPLY
1335796436001: Received UDP payload: 4732
1335796436006: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796436006: mux: Inside Packet.SERVER_REPLY
1335796436277: Received UDP payload: 4732
1335796436284: mux: Inside Packet.SERVER_REPLY
1335796436285: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796436343: Received UDP payload: 446
1335796436525: Received UDP payload: 4732
1335796436531: mux: Inside Packet.SERVER_REPLY
1335796436532: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796436597: Received UDP payload: 4732
1335796436602: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796436602: mux: Inside Packet.SERVER_REPLY
1335796436642: inside sendPacket(Packet p)
1335796436645: Sending UDP payload: 446
1335796436687: Received UDP payload: 4732
1335796436689: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796436689: mux: Inside Packet.SERVER_REPLY
1335796437018: Received UDP payload: 4732
1335796437020: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796437020: mux: Inside Packet.SERVER_REPLY
1335796437231: Received UDP payload: 4732
1335796437239: mux: Inside Packet.SERVER_REPLY
1335796437240: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796437320: Received UDP payload: 989
1335796437331: forwarding disabled, not forwarding packets
1335796437331: mux: GOT CSM_Msg
1335796437369: Received UDP payload: 446
1335796437514: Received UDP payload: 5737
1335796437522: forwarding disabled, not forwarding packets
1335796437522: mux: GOT CSM_Msg
1335796437764: Received UDP payload: 4732
1335796437774: mux: Inside Packet.SERVER_REPLY
1335796437775: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796437882: Received UDP payload: 4732
1335796437883: mux: Inside Packet.SERVER_REPLY
1335796437884: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796438371: Received UDP payload: 4732
1335796438372: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796438372: mux: Inside Packet.SERVER_REPLY
1335796438754: Received UDP payload: 4732
1335796438756: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796438756: mux: Inside Packet.SERVER_REPLY
1335796438822: Received UDP payload: 4732
1335796438824: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796438824: mux: Inside Packet.SERVER_REPLY
1335796439007: Received UDP payload: 4732
1335796439009: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796439009: mux: Inside Packet.SERVER_REPLY
1335796439150: Received UDP payload: 4732
1335796439152: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796439152: mux: Inside Packet.SERVER_REPLY
1335796439263: Received UDP payload: 4732
1335796439265: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796439265: mux: Inside Packet.SERVER_REPLY
1335796439401: Received UDP payload: 4732
1335796439403: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796439403: mux: Inside Packet.SERVER_REPLY
1335796439494: Received UDP payload: 446
1335796439804: Received UDP payload: 4732
1335796439810: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796439810: mux: Inside Packet.SERVER_REPLY
1335796441642: inside sendPacket(Packet p)
1335796441650: Sending UDP payload: 446
1335796442795: Received UDP payload: 4732
1335796442801: mux: Inside Packet.SERVER_REPLY
1335796442802: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796443691: Received UDP payload: 6430
1335796443698: mux: GOT CSM_Msg
1335796443699: forwarding disabled, not forwarding packets
1335796443850: Received UDP payload: 989
1335796443858: forwarding disabled, not forwarding packets
1335796443858: mux: GOT CSM_Msg
1335796443918: Received UDP payload: 4732
1335796443925: mux: Inside Packet.SERVER_REPLY
1335796443926: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796444028: Received UDP payload: 4732
1335796444035: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796444035: mux: Inside Packet.SERVER_REPLY
1335796444108: Received UDP payload: 4732
1335796444114: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796444114: mux: Inside Packet.SERVER_REPLY
1335796444177: Received UDP payload: 4732
1335796444185: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796444185: mux: Inside Packet.SERVER_REPLY
1335796444251: Received UDP payload: 4732
1335796444256: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796444256: mux: Inside Packet.SERVER_REPLY
1335796444279: Received UDP payload: 989
1335796444288: mux: GOT CSM_Msg
1335796444289: inside handleDSMRequest. At requests's remote leader of region 2
1335796444289: removed replies before id 7 from sentReplies of size 0
1335796444292: INSIDE SERVER_GET_PHOTO!!!
1335796444297: Received PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796444306: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796444307: mux: I got a CSM packet at a leader 
1335796444333: Received UDP payload: 4732
1335796444334: Sending UDP payload: 4773
1335796444352: forwarding disabled, not forwarding packets
1335796444353: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796444353: mux: Inside Packet.SERVER_REPLY
1335796444501: Received UDP payload: 989
1335796444507: mux: GOT CSM_Msg
1335796444507: removed replies before id 7 from sentReplies of size 1
1335796444508: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796444508: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796444509: mux: I got a CSM packet at a leader 
1335796444523: Sending UDP payload: 4773
1335796444528: forwarding disabled, not forwarding packets
1335796444946: Received UDP payload: 4732
1335796444953: mux: Inside Packet.SERVER_REPLY
1335796444954: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796445013: Received UDP payload: 989
1335796445030: mux: GOT CSM_Msg
1335796445031: removed replies before id 7 from sentReplies of size 1
1335796445033: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445034: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445034: mux: I got a CSM packet at a leader 
1335796445038: Sending UDP payload: 4773
1335796445057: Received UDP payload: 989
1335796445057: forwarding disabled, not forwarding packets
1335796445067: mux: GOT CSM_Msg
1335796445067: removed replies before id 7 from sentReplies of size 1
1335796445069: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445070: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445071: mux: I got a CSM packet at a leader 
1335796445093: Received UDP payload: 989
1335796445096: Sending UDP payload: 4773
1335796445108: forwarding disabled, not forwarding packets
1335796445109: mux: GOT CSM_Msg
1335796445109: removed replies before id 7 from sentReplies of size 1
1335796445111: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445112: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445127: mux: I got a CSM packet at a leader 
1335796445135: Sending UDP payload: 4773
1335796445147: forwarding disabled, not forwarding packets
1335796445180: Received UDP payload: 4732
1335796445185: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796445185: mux: Inside Packet.SERVER_REPLY
1335796445199: Received UDP payload: 989
1335796445208: mux: GOT CSM_Msg
1335796445209: removed replies before id 7 from sentReplies of size 1
1335796445210: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445211: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445212: mux: I got a CSM packet at a leader 
1335796445222: Sending UDP payload: 4773
1335796445224: forwarding disabled, not forwarding packets
1335796445225: Received UDP payload: 989
1335796445235: mux: GOT CSM_Msg
1335796445236: removed replies before id 7 from sentReplies of size 1
1335796445237: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445248: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445249: mux: I got a CSM packet at a leader 
1335796445252: Sending UDP payload: 4773
1335796445259: Received UDP payload: 989
1335796445260: forwarding disabled, not forwarding packets
1335796445267: mux: GOT CSM_Msg
1335796445268: removed replies before id 7 from sentReplies of size 1
1335796445270: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445278: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445279: mux: I got a CSM packet at a leader 
1335796445284: Sending UDP payload: 4773
1335796445290: forwarding disabled, not forwarding packets
1335796445321: Received UDP payload: 4732
1335796445327: mux: Inside Packet.SERVER_REPLY
1335796445328: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796445336: Received UDP payload: 989
1335796445343: mux: GOT CSM_Msg
1335796445344: removed replies before id 7 from sentReplies of size 1
1335796445346: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445347: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445347: mux: I got a CSM packet at a leader 
1335796445351: Sending UDP payload: 4773
1335796445353: forwarding disabled, not forwarding packets
1335796445361: Received UDP payload: 989
1335796445370: mux: GOT CSM_Msg
1335796445370: removed replies before id 7 from sentReplies of size 1
1335796445372: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445373: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445374: mux: I got a CSM packet at a leader 
1335796445377: Sending UDP payload: 4773
1335796445383: forwarding disabled, not forwarding packets
1335796445419: Received UDP payload: 989
1335796445426: mux: GOT CSM_Msg
1335796445427: removed replies before id 7 from sentReplies of size 1
1335796445429: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445432: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445433: mux: I got a CSM packet at a leader 
1335796445434: Sending UDP payload: 4773
1335796445434: forwarding disabled, not forwarding packets
1335796445500: Received UDP payload: 4732
1335796445503: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796445503: mux: Inside Packet.SERVER_REPLY
1335796445510: Received UDP payload: 989
1335796445514: mux: GOT CSM_Msg
1335796445514: removed replies before id 7 from sentReplies of size 1
1335796445515: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445515: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445515: mux: I got a CSM packet at a leader 
1335796445516: Sending UDP payload: 4773
1335796445517: forwarding disabled, not forwarding packets
1335796445523: Received UDP payload: 989
1335796445526: mux: GOT CSM_Msg
1335796445527: removed replies before id 7 from sentReplies of size 1
1335796445528: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445528: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445528: mux: I got a CSM packet at a leader 
1335796445530: Sending UDP payload: 4773
1335796445531: forwarding disabled, not forwarding packets
1335796445539: Received UDP payload: 989
1335796445542: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445542: mux: GOT CSM_Msg
1335796445542: removed replies before id 7 from sentReplies of size 1
1335796445543: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445543: mux: I got a CSM packet at a leader 
1335796445544: Sending UDP payload: 4773
1335796445545: forwarding disabled, not forwarding packets
1335796445668: Received UDP payload: 4732
1335796445670: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796445670: mux: Inside Packet.SERVER_REPLY
1335796445723: Received UDP payload: 989
1335796445725: mux: GOT CSM_Msg
1335796445726: removed replies before id 7 from sentReplies of size 1
1335796445727: Received DUPLICATE PROC_REQUEST 11:7 (0,0)->(2,0), replying PROC_REPLY 11:7 (2,0)->(0,0)
1335796445728: Dispatching Atom PROC_REPLY 11:7 (2,0)->(0,0)
1335796445729: mux: I got a CSM packet at a leader 
1335796445732: Sending UDP payload: 4773
1335796445733: forwarding disabled, not forwarding packets
1335796445998: canPressButton = TRUE
1335796445999: areButtonsEnabled --> false 
1335796446000: get picture disableButtonsR
1335796446001: areButtonsEnabled --> false
1335796446046: one more getNum: 4
1335796446047: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335796446047: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=1 getBad=2 getTimedout=0 getPercent=25%
1335796446048: change local requestCounter to 11
1335796446050: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5011011 Client in region: 2 Client nodID: 5011
1335796446084: ----------------------------
1335796446086: I'm a leader, my requesting photos packet going to mux directly
1335796446086: inside sendRequestPacketRepeatingRunnable for requestCount = 5011011
1335796446087: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796446087: mux: Inside mux Packet.CLIENT_REQUEST
1335796446088: --- Finished one round of sending REQUEST Packet ---------
1335796446088: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796446088: got new request, requestCounter = 5011011
1335796446088: inside handleClientRequest. Originator leader of region 2
1335796446096: Sending to region: 0
1335796446097: Sending PROC_REQUEST 11:2 (2,0)->(0,0)
1335796446098: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796446098: Note down new request by adding requestCounter=5011011 to HashMap processedRequests
1335796446099: Make FirstLeg Ack regardless of new or already-processed requests
1335796446099: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5011)
1335796446101: mux: I got a CSM packet at a leader 
1335796446104: Sending UDP payload: 989
1335796446105: forwarding disabled, not forwarding packets
1335796446107: Received UDP payload: 4732
1335796446112: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796446112: mux: Inside Packet.SERVER_REPLY
1335796446131: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796446180: Received UDP payload: 4732
1335796446182: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796446182: mux: Inside Packet.SERVER_REPLY
1335796446367: Received UDP payload: 446
1335796446588: Received UDP payload: 4732
1335796446595: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796446595: mux: Inside Packet.SERVER_REPLY
1335796446652: inside sendPacket(Packet p)
1335796446653: Sending UDP payload: 446
1335796446736: Received UDP payload: 625
1335796446738: mux: Inside mux Packet.CLIENT_REQUEST
1335796446794: Received UDP payload: 446
1335796446795: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796446795: mux: Inside Packet.SERVER_REPLY
1335796446863: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796446863: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796446864: mux: I got a CSM packet at a leader 
1335796446865: Sending UDP payload: 989
1335796446865: forwarding disabled, not forwarding packets
1335796446964: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796446964: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796446965: mux: I got a CSM packet at a leader 
1335796446966: Sending UDP payload: 989
1335796446966: forwarding disabled, not forwarding packets
1335796447065: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447065: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447066: mux: I got a CSM packet at a leader 
1335796447067: Sending UDP payload: 989
1335796447067: forwarding disabled, not forwarding packets
1335796447166: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447167: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447167: mux: I got a CSM packet at a leader 
1335796447168: Sending UDP payload: 989
1335796447169: forwarding disabled, not forwarding packets
1335796447267: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447268: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447268: mux: I got a CSM packet at a leader 
1335796447269: Sending UDP payload: 989
1335796447270: forwarding disabled, not forwarding packets
1335796447369: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447369: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447369: mux: I got a CSM packet at a leader 
1335796447370: Sending UDP payload: 989
1335796447371: forwarding disabled, not forwarding packets
1335796447470: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447470: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447471: mux: I got a CSM packet at a leader 
1335796447472: Sending UDP payload: 989
1335796447472: forwarding disabled, not forwarding packets
1335796447571: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447571: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447572: mux: I got a CSM packet at a leader 
1335796447573: Sending UDP payload: 989
1335796447573: forwarding disabled, not forwarding packets
1335796447671: Received UDP payload: 446
1335796447674: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447674: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447675: mux: I got a CSM packet at a leader 
1335796447676: Sending UDP payload: 989
1335796447676: forwarding disabled, not forwarding packets
1335796447705: Received UDP payload: 989
1335796447708: forwarding disabled, not forwarding packets
1335796447708: mux: GOT CSM_Msg
1335796447767: Received UDP payload: 989
1335796447771: forwarding disabled, not forwarding packets
1335796447771: mux: GOT CSM_Msg
1335796447775: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447776: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447776: mux: I got a CSM packet at a leader 
1335796447778: Sending UDP payload: 989
1335796447779: forwarding disabled, not forwarding packets
1335796447862: Received UDP payload: 989
1335796447869: mux: GOT CSM_Msg
1335796447870: forwarding disabled, not forwarding packets
1335796447877: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447877: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447877: mux: I got a CSM packet at a leader 
1335796447882: Sending UDP payload: 989
1335796447883: forwarding disabled, not forwarding packets
1335796447972: Received UDP payload: 989
1335796447974: forwarding disabled, not forwarding packets
1335796447974: mux: GOT CSM_Msg
1335796447978: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447978: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796447979: mux: I got a CSM packet at a leader 
1335796447980: Sending UDP payload: 989
1335796447981: forwarding disabled, not forwarding packets
1335796448057: Received UDP payload: 989
1335796448059: forwarding disabled, not forwarding packets
1335796448059: mux: GOT CSM_Msg
1335796448068: Received UDP payload: 4732
1335796448070: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796448070: mux: Inside Packet.SERVER_REPLY
1335796448079: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796448079: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796448080: mux: I got a CSM packet at a leader 
1335796448081: Sending UDP payload: 989
1335796448081: forwarding disabled, not forwarding packets
1335796448168: Received UDP payload: 989
1335796448170: forwarding disabled, not forwarding packets
1335796448170: mux: GOT CSM_Msg
1335796448180: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(0,0)
1335796448180: Retrying PROC_REQUEST 11:2 (2,0)->(0,0)
1335796448181: mux: I got a CSM packet at a leader 
1335796448182: Sending UDP payload: 989
1335796448182: forwarding disabled, not forwarding packets
1335796448186: Received UDP payload: 4732
1335796448188: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796448188: mux: Inside Packet.SERVER_REPLY
1335796448281: DSM Layer: Request timed out, send failure PROC_REPLY 11:2 (0,0)->(2,0)
1335796448281: Dispatching Atom PROC_REPLY 11:2 (0,0)->(2,0)
1335796448282: mux: I got a CSM packet at a leader 
1335796448283: Sending UDP payload: 989
1335796448284: DSM layer timed out, don't log dsm layer latency stuff.
1335796448284: Received PROC_REPLY 11:2 (0,0)->(2,0), handing to UserApp
1335796448284: inside handleDSMReply. Now back in originator leader of region 2
1335796448286: Originator Region=2's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796448286: change leader replyCounter to: 13
1335796448286: inside sendReplies of replyCount = 501100013
1335796448286: reply packet contains the newest photo/success info from the remote region
1335796448287: === Finished one round of sending REPLY Packet =======
1335796448287: =======================
1335796448287: I (the leader) was also the originator client (id = 5011) so I hand the packet to my mux directly, without UDP
1335796448287: Leader about to send REPLY packet, number: 501100013 type: 15 Leader in region: (2,0) to Client nodID: 5011
1335796448287: inside sendReplyRepeatingRunnable for replyCount = 501100013
1335796448289: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796448289: Inside _enableButtons
1335796448289: areButtonsEnabled --> true
1335796448289: disabling progressdialog due to successful new photo get
1335796448290: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5011012 Client in region: (2,0) Client nodID: 5011
1335796448290: I'm a leader client, my final_leg packet going to mux directly
1335796448290: inside finalLegAck: change requestCounter to 12
1335796448290: mux: Inside mux Packet.CLIENT_REQUEST
1335796448290: send final leg ack regardless of new or already-processed reply
1335796448291: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100013
1335796448291: Yay the last leg succeeded. Removing reply runnables ...
1335796448291: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100013
1335796448291: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100013
1335796448291: do not send ack for received final_leg_ack
1335796448291: got new request, requestCounter = 5011012
1335796448291: inside handleClientRequest. Originator leader of region 2
1335796448291: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796448292: = leader download start 1335796446087 ~ stop 1335796448289
1335796448292: leader download remote photo latency = 2202
1335796448292: new client_show_remotephoto reply with replyCounter 501100013
1335796448292: note down new reply by adding replyCounter=501100013 to HashMap processedReplies
1335796448295: Can't get remote photo, because DSM Layer on originator leader timed out
1335796448298: one more getBad: 3
1335796448299: getBad++
1335796448299: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=1 getBad=3 getTimedout=0 getPercent=25%
1335796448303: Received UDP payload: 4732
1335796448305: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796448305: mux: Inside Packet.SERVER_REPLY
1335796448364: Received UDP payload: 989
1335796448366: forwarding disabled, not forwarding packets
1335796448366: mux: GOT CSM_Msg
1335796448422: Received UDP payload: 4732
1335796448424: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796448424: mux: Inside Packet.SERVER_REPLY
1335796448460: Received UDP payload: 989
1335796448462: mux: GOT CSM_Msg
1335796448463: forwarding disabled, not forwarding packets
1335796448501: Received UDP payload: 4732
1335796448502: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796448502: mux: Inside Packet.SERVER_REPLY
1335796448510: Received UDP payload: 989
1335796448512: mux: GOT CSM_Msg
1335796448513: forwarding disabled, not forwarding packets
1335796448567: Received UDP payload: 989
1335796448569: forwarding disabled, not forwarding packets
1335796448569: mux: GOT CSM_Msg
1335796448628: Received UDP payload: 6430
1335796448636: forwarding disabled, not forwarding packets
1335796448636: mux: GOT CSM_Msg
1335796448678: Received UDP payload: 989
1335796448681: forwarding disabled, not forwarding packets
1335796448681: mux: GOT CSM_Msg
1335796448812: Received UDP payload: 4732
1335796448815: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796448815: mux: Inside Packet.SERVER_REPLY
1335796448879: Received UDP payload: 989
1335796448882: forwarding disabled, not forwarding packets
1335796448882: mux: GOT CSM_Msg
1335796449102: Received UDP payload: 4732
1335796449104: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449104: mux: Inside Packet.SERVER_REPLY
1335796449177: Received UDP payload: 642
1335796449179: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449179: mux: Inside Packet.SERVER_REPLY
1335796449206: Received UDP payload: 4732
1335796449209: mux: Inside Packet.SERVER_REPLY
1335796449210: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449296: Received UDP payload: 4732
1335796449303: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449303: mux: Inside Packet.SERVER_REPLY
1335796449367: Received UDP payload: 4732
1335796449373: mux: Inside Packet.SERVER_REPLY
1335796449374: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449493: Received UDP payload: 446
1335796449498: mux: Inside mux Packet.CLIENT_REQUEST
1335796449500: Received UDP payload: 4732
1335796449507: Received UDP payload: 642
1335796449507: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449507: mux: Inside Packet.SERVER_REPLY
1335796449517: mux: Inside Packet.SERVER_REPLY
1335796449518: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449569: Received UDP payload: 4732
1335796449574: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449574: mux: Inside Packet.SERVER_REPLY
1335796449613: Received UDP payload: 446
1335796449616: mux: Inside mux Packet.CLIENT_REQUEST
1335796449651: Received UDP payload: 4732
1335796449654: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449654: mux: Inside Packet.SERVER_REPLY
1335796449658: Received UDP payload: 446
1335796449737: Received UDP payload: 4732
1335796449741: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449741: mux: Inside Packet.SERVER_REPLY
1335796449852: Received UDP payload: 4732
1335796449858: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449858: mux: Inside Packet.SERVER_REPLY
1335796449947: Received UDP payload: 4732
1335796449950: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796449950: mux: Inside Packet.SERVER_REPLY
1335796450148: Received UDP payload: 4732
1335796450151: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796450151: mux: Inside Packet.SERVER_REPLY
1335796450284: Received UDP payload: 4732
1335796450286: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796450286: mux: Inside Packet.SERVER_REPLY
1335796450368: Received UDP payload: 4732
1335796450371: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796450371: mux: Inside Packet.SERVER_REPLY
1335796450431: Received UDP payload: 4732
1335796450434: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796450434: mux: Inside Packet.SERVER_REPLY
1335796450521: Received UDP payload: 4732
1335796450524: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796450524: mux: Inside Packet.SERVER_REPLY
1335796450623: Received UDP payload: 4732
1335796450630: mux: Inside Packet.SERVER_REPLY
1335796450631: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796450743: Received UDP payload: 4732
1335796450748: mux: Inside Packet.SERVER_REPLY
1335796450749: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796450875: Received UDP payload: 4732
1335796450881: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796450881: mux: Inside Packet.SERVER_REPLY
1335796450993: Received UDP payload: 4732
1335796450994: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796450994: mux: Inside Packet.SERVER_REPLY
1335796451084: Received UDP payload: 4732
1335796451091: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796451091: mux: Inside Packet.SERVER_REPLY
1335796451188: Received UDP payload: 4732
1335796451193: mux: Inside Packet.SERVER_REPLY
1335796451194: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796451260: Received UDP payload: 4732
1335796451269: mux: Inside Packet.SERVER_REPLY
1335796451270: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796451271: Received UDP payload: 446
1335796451330: Received UDP payload: 4732
1335796451338: mux: Inside Packet.SERVER_REPLY
1335796451339: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796451652: inside sendPacket(Packet p)
1335796451655: Sending UDP payload: 446
1335796451789: Received UDP payload: 4732
1335796451792: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796451792: mux: Inside Packet.SERVER_REPLY
1335796451916: Received UDP payload: 4732
1335796451923: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796451923: mux: Inside Packet.SERVER_REPLY
1335796452002: Received UDP payload: 4732
1335796452005: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452005: mux: Inside Packet.SERVER_REPLY
1335796452098: Received UDP payload: 4732
1335796452102: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452102: mux: Inside Packet.SERVER_REPLY
1335796452151: Received UDP payload: 4732
1335796452155: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452155: mux: Inside Packet.SERVER_REPLY
1335796452279: Received UDP payload: 4732
1335796452282: mux: Inside Packet.SERVER_REPLY
1335796452283: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452354: Received UDP payload: 4732
1335796452360: mux: Inside Packet.SERVER_REPLY
1335796452361: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452371: Received UDP payload: 446
1335796452487: Received UDP payload: 4732
1335796452490: mux: Inside Packet.SERVER_REPLY
1335796452491: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452543: Received UDP payload: 4732
1335796452547: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452547: mux: Inside Packet.SERVER_REPLY
1335796452607: Received UDP payload: 4732
1335796452611: mux: Inside Packet.SERVER_REPLY
1335796452612: Received UDP payload: 446
1335796452612: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452676: Received UDP payload: 4732
1335796452679: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452679: mux: Inside Packet.SERVER_REPLY
1335796452872: Received UDP payload: 4732
1335796452875: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452875: mux: Inside Packet.SERVER_REPLY
1335796452929: Received UDP payload: 4732
1335796452933: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452933: mux: Inside Packet.SERVER_REPLY
1335796452988: Received UDP payload: 4732
1335796452992: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796452992: mux: Inside Packet.SERVER_REPLY
1335796453066: Received UDP payload: 4732
1335796453070: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796453070: mux: Inside Packet.SERVER_REPLY
1335796453127: Received UDP payload: 4732
1335796453129: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796453129: mux: Inside Packet.SERVER_REPLY
1335796453207: Received UDP payload: 4732
1335796453209: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796453209: mux: Inside Packet.SERVER_REPLY
1335796453356: Received UDP payload: 4732
1335796453357: mux: Inside Packet.SERVER_REPLY
1335796453358: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796453440: Received UDP payload: 4732
1335796453442: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796453442: mux: Inside Packet.SERVER_REPLY
1335796453509: Received UDP payload: 4732
1335796453511: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796453511: mux: Inside Packet.SERVER_REPLY
1335796453570: Received UDP payload: 4732
1335796453573: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796453573: mux: Inside Packet.SERVER_REPLY
1335796453705: Received UDP payload: 446
1335796453779: Received UDP payload: 4732
1335796453785: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796453785: mux: Inside Packet.SERVER_REPLY
1335796453836: Received UDP payload: 4732
1335796453837: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796453837: mux: Inside Packet.SERVER_REPLY
1335796453927: Received UDP payload: 4732
1335796453929: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796453929: mux: Inside Packet.SERVER_REPLY
1335796453993: Received UDP payload: 4732
1335796453995: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796453995: mux: Inside Packet.SERVER_REPLY
1335796454055: Received UDP payload: 4732
1335796454057: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796454057: mux: Inside Packet.SERVER_REPLY
1335796454120: Received UDP payload: 4732
1335796454121: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796454121: mux: Inside Packet.SERVER_REPLY
1335796454134: Received UDP payload: 989
1335796454138: forwarding disabled, not forwarding packets
1335796454138: mux: GOT CSM_Msg
1335796454209: Received UDP payload: 4732
1335796454210: mux: Inside Packet.SERVER_REPLY
1335796454211: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796454300: Received UDP payload: 4732
1335796454302: mux: Inside Packet.SERVER_REPLY
1335796454303: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796454355: Received UDP payload: 4732
1335796454357: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796454357: mux: Inside Packet.SERVER_REPLY
1335796454368: Received UDP payload: 989
1335796454371: forwarding disabled, not forwarding packets
1335796454371: mux: GOT CSM_Msg
1335796454378: Received UDP payload: 989
1335796454381: forwarding disabled, not forwarding packets
1335796454381: mux: GOT CSM_Msg
1335796454451: Received UDP payload: 4732
1335796454457: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796454457: mux: Inside Packet.SERVER_REPLY
1335796454460: Received UDP payload: 989
1335796454464: forwarding disabled, not forwarding packets
1335796454464: mux: GOT CSM_Msg
1335796454470: Received UDP payload: 989
1335796454475: forwarding disabled, not forwarding packets
1335796454475: mux: GOT CSM_Msg
1335796454496: Received UDP payload: 989
1335796454501: forwarding disabled, not forwarding packets
1335796454501: mux: GOT CSM_Msg
1335796454570: Received UDP payload: 4732
1335796454572: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796454572: mux: Inside Packet.SERVER_REPLY
1335796454584: Received UDP payload: 989
1335796454586: mux: GOT CSM_Msg
1335796454587: forwarding disabled, not forwarding packets
1335796454600: Received UDP payload: 989
1335796454603: forwarding disabled, not forwarding packets
1335796454603: mux: GOT CSM_Msg
1335796454664: Received UDP payload: 4732
1335796454666: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796454666: mux: Inside Packet.SERVER_REPLY
1335796454674: Received UDP payload: 989
1335796454677: mux: GOT CSM_Msg
1335796454678: forwarding disabled, not forwarding packets
1335796454683: Received UDP payload: 989
1335796454686: forwarding disabled, not forwarding packets
1335796454686: mux: GOT CSM_Msg
1335796454702: Received UDP payload: 989
1335796454705: forwarding disabled, not forwarding packets
1335796454705: mux: GOT CSM_Msg
1335796454765: Received UDP payload: 4732
1335796454767: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796454767: mux: Inside Packet.SERVER_REPLY
1335796454768: Received UDP payload: 446
1335796454788: Received UDP payload: 446
1335796454807: Received UDP payload: 446
1335796454883: Received UDP payload: 3645
1335796454885: inside handleClientRequest. Originator leader of region 2
1335796454885: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796454885: mux: Inside mux Packet.CLIENT_REQUEST
1335796454886: Dispatching Atom PROC_REQUEST 10:7 (2,0)->(2,0)
1335796454886: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796454886: Sending PROC_REQUEST 10:7 (2,0)->(2,0)
1335796454886: got new request, requestCounter = 5017118
1335796454887: Make FirstLeg Ack regardless of new or already-processed requests
1335796454887: Note down new request by adding requestCounter=5017118 to HashMap processedRequests
1335796454887: The leader sending a First Leg ack to originator client (which id = 5017)
1335796454887: inside sendPacket(Packet p)
1335796454887: mux: I got a CSM packet at a leader 
1335796454902: Sending UDP payload: 4009
1335796454910: inside handleDSMRequest. At requests's remote leader of region 2
1335796454910: removed replies before id 7 from sentReplies of size 0
1335796454913: Inside UPLOAD_PHOTO!!
1335796454916: my_gpinfo.isSuccess is now (should be true): true
1335796454917: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796454921: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796454925: I'm a leader and I successfully saved my client's new photo
1335796454925: now showing in UI the new photo I just saved ... 
1335796454926: the photo length: 2998
1335796454985: Dispatching Atom PROC_REPLY 10:7 (2,0)->(2,0)
1335796454985: Received PROC_REQUEST 10:7 (2,0)->(2,0), replying PROC_REPLY 10:7 (2,0)->(2,0)
1335796454991: Sending UDP payload: 446
1335796454993: mux: I got a CSM packet at a leader 
1335796454996: Sending UDP payload: 989
1335796454998: Received PROC_REPLY 10:7 (2,0)->(2,0), handing to UserApp
1335796454999: DSM layer: Going to and from remote region took latency = 113
1335796454999: DSM layer: orig leader sent packet at 1335796454886 ~ received reply from remote leader at 1335796454999
1335796454999: inside handleDSMReply. Now back in originator leader of region 2
1335796455002: =======================
1335796455002: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796455002: change leader replyCounter to: 14
1335796455002: inside sendReplies of replyCount = 501100014
1335796455002: inside sendReplyRepeatingRunnable for replyCount = 501100014
1335796455002: reply packet contains the success info for UPLOAD_PHOTO
1335796455003: === Finished one round of sending REPLY Packet =======
1335796455003: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796455003: Leader about to send REPLY packet, number: 501100014 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796455003: inside sendPacket(Packet p)
1335796455004: Sending UDP payload: 642
1335796455015: end of server show photo aside %%%%%%%%%
1335796455304: =======================
1335796455304: inside sendReplyRepeatingRunnable for replyCount = 501100014
1335796455305: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796455305: Leader about to send REPLY packet, number: 501100014 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796455306: === Finished one round of sending REPLY Packet =======
1335796455306: inside sendPacket(Packet p)
1335796455309: Sending UDP payload: 642
1335796455387: Received UDP payload: 989
1335796455392: forwarding disabled, not forwarding packets
1335796455392: mux: GOT CSM_Msg
1335796455407: Received UDP payload: 989
1335796455409: forwarding disabled, not forwarding packets
1335796455409: mux: GOT CSM_Msg
1335796455418: Received UDP payload: 625
1335796455419: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796455419: mux: Inside mux Packet.CLIENT_REQUEST
1335796455420: Make FirstLeg Ack regardless of new or already-processed requests
1335796455420: Note down new request by adding requestCounter=5010079 to HashMap processedRequests
1335796455420: The leader sending a First Leg ack to originator client (which id = 5010)
1335796455420: discarding repeated requestCounter=5010079, but still send an ack back
1335796455420: inside handleClientRequest. Originator leader of region 2
1335796455420: inside sendPacket(Packet p)
1335796455421: Sending UDP payload: 446
1335796455440: Received UDP payload: 625
1335796455441: discarding repeated requestCounter=5010079, but still send an ack back
1335796455441: inside handleClientRequest. Originator leader of region 2
1335796455441: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796455441: mux: Inside mux Packet.CLIENT_REQUEST
1335796455442: Make FirstLeg Ack regardless of new or already-processed requests
1335796455442: Note down new request by adding requestCounter=5010079 to HashMap processedRequests
1335796455442: The leader sending a First Leg ack to originator client (which id = 5010)
1335796455442: inside sendPacket(Packet p)
1335796455443: Sending UDP payload: 446
1335796455451: Received UDP payload: 989
1335796455454: forwarding disabled, not forwarding packets
1335796455454: mux: GOT CSM_Msg
1335796455523: Received UDP payload: 989
1335796455525: forwarding disabled, not forwarding packets
1335796455525: mux: GOT CSM_Msg
1335796455540: Received UDP payload: 625
1335796455542: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796455542: got new request, requestCounter = 5010080
1335796455542: inside handleClientRequest. Originator leader of region 2
1335796455542: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796455542: mux: Inside mux Packet.CLIENT_REQUEST
1335796455543: Sending PROC_REQUEST 11:8 (2,0)->(2,0)
1335796455543: Sending to region: 2
1335796455544: Dispatching Atom PROC_REQUEST 11:8 (2,0)->(2,0)
1335796455544: Make FirstLeg Ack regardless of new or already-processed requests
1335796455544: Note down new request by adding requestCounter=5010080 to HashMap processedRequests
1335796455544: The leader sending a First Leg ack to originator client (which id = 5010)
1335796455544: inside sendPacket(Packet p)
1335796455544: mux: I got a CSM packet at a leader 
1335796455546: Sending UDP payload: 989
1335796455546: removed replies before id 8 from sentReplies of size 0
1335796455547: INSIDE SERVER_GET_PHOTO!!!
1335796455547: inside handleDSMRequest. At requests's remote leader of region 2
1335796455550:  1 self to self atomRequest
1335796455550: dst_region == src_region = 2
1335796455551: Dispatching Atom PROC_REPLY 11:8 (2,0)->(2,0)
1335796455551: Received PROC_REQUEST 11:8 (2,0)->(2,0), replying PROC_REPLY 11:8 (2,0)->(2,0)
1335796455552: Sending UDP payload: 446
1335796455558: mux: I got a CSM packet at a leader 
1335796455559: Received UDP payload: 625
1335796455560: Sending UDP payload: 4009
1335796455563: DSM layer: Going to and from remote region took latency = 20
1335796455563: DSM layer: orig leader sent packet at 1335796455543 ~ received reply from remote leader at 1335796455563
1335796455563: Received PROC_REPLY 11:8 (2,0)->(2,0), handing to UserApp
1335796455563: inside handleDSMReply. Now back in originator leader of region 2
1335796455564: =======================
1335796455564: Originator Region=2's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796455564: change leader replyCounter to: 15
1335796455564: inside sendReplies of replyCount = 501100015
1335796455564: inside sendReplyRepeatingRunnable for replyCount = 501100015
1335796455564: reply packet contains the newest photo/success info from the remote region
1335796455565: === Finished one round of sending REPLY Packet =======
1335796455565: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796455565: Leader about to send REPLY packet, number: 501100015 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796455565: Note down new request by adding requestCounter=5010080 to HashMap processedRequests
1335796455565: discarding repeated requestCounter=5010080, but still send an ack back
1335796455565: inside handleClientRequest. Originator leader of region 2
1335796455565: inside sendPacket(Packet p)
1335796455565: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796455565: mux: Inside mux Packet.CLIENT_REQUEST
1335796455566: Make FirstLeg Ack regardless of new or already-processed requests
1335796455566: The leader sending a First Leg ack to originator client (which id = 5010)
1335796455566: inside sendPacket(Packet p)
1335796455567: Sending UDP payload: 3662
1335796455577: Sending UDP payload: 446
1335796455600: Received UDP payload: 446
1335796455601: got new request, requestCounter = 5010081
1335796455601: inside handleClientRequest. Originator leader of region 2
1335796455601: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796455601: mux: Inside mux Packet.CLIENT_REQUEST
1335796455602: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100008
1335796455602: Yay the last leg succeeded. Removing reply runnables ...
1335796455602: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100008
1335796455602: do not send ack for received final_leg_ack
1335796455602: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100008
1335796455606: =======================
1335796455606: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796455606: Leader about to send REPLY packet, number: 501100014 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796455606: inside sendReplyRepeatingRunnable for replyCount = 501100014
1335796455607: === Finished one round of sending REPLY Packet =======
1335796455607: inside sendPacket(Packet p)
1335796455608: Sending UDP payload: 642
1335796455651: Received UDP payload: 446
1335796455652: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796455652: mux: Inside mux Packet.CLIENT_REQUEST
1335796455653: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100008
1335796455653: Yay the last leg succeeded. Removing reply runnables ...
1335796455653: do not send ack for received final_leg_ack
1335796455653: got new request, requestCounter = 5010083
1335796455653: inside handleClientRequest. Originator leader of region 2
1335796455653: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100008
1335796455653: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100008
1335796455749: Received UDP payload: 989
1335796455751: forwarding disabled, not forwarding packets
1335796455751: mux: GOT CSM_Msg
1335796455774: Received UDP payload: 989
1335796455776: forwarding disabled, not forwarding packets
1335796455776: mux: GOT CSM_Msg
1335796455849: Received UDP payload: 989
1335796455851: forwarding disabled, not forwarding packets
1335796455851: mux: GOT CSM_Msg
1335796455864: Received UDP payload: 446
1335796455866: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100014
1335796455866: Yay the last leg succeeded. Removing reply runnables ...
1335796455866: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100014
1335796455866: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100014
1335796455866: got new request, requestCounter = 5017119
1335796455866: inside handleClientRequest. Originator leader of region 2
1335796455866: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796455866: mux: Inside mux Packet.CLIENT_REQUEST
1335796455867: === Finished one round of sending REPLY Packet =======
1335796455867: =======================
1335796455867: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796455867: Leader about to send REPLY packet, number: 501100015 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796455867: do not send ack for received final_leg_ack
1335796455867: inside sendPacket(Packet p)
1335796455867: inside sendReplyRepeatingRunnable for replyCount = 501100015
1335796455868: Sending UDP payload: 3662
1335796455876: Received UDP payload: 989
1335796455878: mux: GOT CSM_Msg
1335796455879: forwarding disabled, not forwarding packets
1335796456123: Received UDP payload: 446
1335796456124: mux: Inside mux Packet.CLIENT_REQUEST
1335796456125: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100010
1335796456125: Yay the last leg succeeded. Removing reply runnables ...
1335796456125: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100010
1335796456125: got new request, requestCounter = 5010086
1335796456125: inside handleClientRequest. Originator leader of region 2
1335796456125: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796456125: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100010
1335796456126: do not send ack for received final_leg_ack
1335796456166: Received UDP payload: 446
1335796456168: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100009
1335796456168: Yay the last leg succeeded. Removing reply runnables ...
1335796456168: got new request, requestCounter = 5010089
1335796456168: inside handleClientRequest. Originator leader of region 2
1335796456168: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796456168: mux: Inside mux Packet.CLIENT_REQUEST
1335796456169: =======================
1335796456169: Leader about to send REPLY packet, number: 501100015 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796456169: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100009
1335796456169: do not send ack for received final_leg_ack
1335796456169: inside sendReplyRepeatingRunnable for replyCount = 501100015
1335796456169: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100009
1335796456170: === Finished one round of sending REPLY Packet =======
1335796456170: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796456170: inside sendPacket(Packet p)
1335796456171: Sending UDP payload: 3662
1335796456176: Received UDP payload: 446
1335796456178: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100010
1335796456178: got new request, requestCounter = 5010090
1335796456178: inside handleClientRequest. Originator leader of region 2
1335796456178: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796456178: mux: Inside mux Packet.CLIENT_REQUEST
1335796456179: Yay the last leg succeeded. Removing reply runnables ...
1335796456179: do not send ack for received final_leg_ack
1335796456179: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100010
1335796456179: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100010
1335796456183: Received UDP payload: 625
1335796456184: mux: Inside mux Packet.CLIENT_REQUEST
1335796456185: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796456185: got new request, requestCounter = 5010091
1335796456185: inside handleClientRequest. Originator leader of region 2
1335796456185: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796456186: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(2,0)
1335796456186: Sending PROC_REQUEST 11:9 (2,0)->(2,0)
1335796456186: Sending to region: 2
1335796456187: Make FirstLeg Ack regardless of new or already-processed requests
1335796456187: Note down new request by adding requestCounter=5010091 to HashMap processedRequests
1335796456187: The leader sending a First Leg ack to originator client (which id = 5010)
1335796456187: inside sendPacket(Packet p)
1335796456187: mux: I got a CSM packet at a leader 
1335796456189: Sending UDP payload: 989
1335796456190: INSIDE SERVER_GET_PHOTO!!!
1335796456190: inside handleDSMRequest. At requests's remote leader of region 2
1335796456190: removed replies before id 9 from sentReplies of size 0
1335796456192: Received UDP payload: 625
1335796456194:  1 self to self atomRequest
1335796456194: dst_region == src_region = 2
1335796456196: Dispatching Atom PROC_REPLY 11:9 (2,0)->(2,0)
1335796456196: Received PROC_REQUEST 11:9 (2,0)->(2,0), replying PROC_REPLY 11:9 (2,0)->(2,0)
1335796456197: Sending UDP payload: 446
1335796456205: Make FirstLeg Ack regardless of new or already-processed requests
1335796456205: Note down new request by adding requestCounter=5010091 to HashMap processedRequests
1335796456205: discarding repeated requestCounter=5010091, but still send an ack back
1335796456205: inside handleClientRequest. Originator leader of region 2
1335796456205: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796456205: mux: Inside mux Packet.CLIENT_REQUEST
1335796456206: The leader sending a First Leg ack to originator client (which id = 5010)
1335796456206: inside sendPacket(Packet p)
1335796456206: mux: I got a CSM packet at a leader 
1335796456207: Sending UDP payload: 4009
1335796456209: Received PROC_REPLY 11:9 (2,0)->(2,0), handing to UserApp
1335796456209: inside handleDSMReply. Now back in originator leader of region 2
1335796456210: DSM layer: Going to and from remote region took latency = 23
1335796456210: DSM layer: orig leader sent packet at 1335796456186 ~ received reply from remote leader at 1335796456209
1335796456211: =======================
1335796456211: Leader about to send REPLY packet, number: 501100016 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796456211: Originator Region=2's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796456211: change leader replyCounter to: 16
1335796456211: inside sendReplies of replyCount = 501100016
1335796456211: inside sendReplyRepeatingRunnable for replyCount = 501100016
1335796456211: reply packet contains the newest photo/success info from the remote region
1335796456212: === Finished one round of sending REPLY Packet =======
1335796456212: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796456212: inside sendPacket(Packet p)
1335796456213: Sending UDP payload: 446
1335796456220: Sending UDP payload: 3662
1335796456251: Received UDP payload: 625
1335796456254: Make FirstLeg Ack regardless of new or already-processed requests
1335796456254: Note down new request by adding requestCounter=5010091 to HashMap processedRequests
1335796456254: The leader sending a First Leg ack to originator client (which id = 5010)
1335796456254: discarding repeated requestCounter=5010091, but still send an ack back
1335796456254: inside handleClientRequest. Originator leader of region 2
1335796456254: inside sendPacket(Packet p)
1335796456254: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796456254: mux: Inside mux Packet.CLIENT_REQUEST
1335796456255: Sending UDP payload: 446
1335796456289: Received UDP payload: 625
1335796456291: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796456291: got new request, requestCounter = 5010092
1335796456291: inside handleClientRequest. Originator leader of region 2
1335796456291: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796456291: mux: Inside mux Packet.CLIENT_REQUEST
1335796456292: Sending to region: 3
1335796456293: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796456293: Make FirstLeg Ack regardless of new or already-processed requests
1335796456293: Note down new request by adding requestCounter=5010092 to HashMap processedRequests
1335796456293: Sending PROC_REQUEST 11:1 (2,0)->(3,0)
1335796456293: The leader sending a First Leg ack to originator client (which id = 5010)
1335796456293: inside sendPacket(Packet p)
1335796456294: mux: I got a CSM packet at a leader 
1335796456295: Received UDP payload: 625
1335796456296: Sending UDP payload: 989
1335796456298: forwarding disabled, not forwarding packets
1335796456299: Sending UDP payload: 446
1335796456300: Make FirstLeg Ack regardless of new or already-processed requests
1335796456300: Note down new request by adding requestCounter=5010092 to HashMap processedRequests
1335796456300: discarding repeated requestCounter=5010092, but still send an ack back
1335796456300: inside handleClientRequest. Originator leader of region 2
1335796456300: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796456300: mux: Inside mux Packet.CLIENT_REQUEST
1335796456301: The leader sending a First Leg ack to originator client (which id = 5010)
1335796456301: inside sendPacket(Packet p)
1335796456302: Sending UDP payload: 446
1335796456351: Received UDP payload: 625
1335796456353: Make FirstLeg Ack regardless of new or already-processed requests
1335796456353: Note down new request by adding requestCounter=5010092 to HashMap processedRequests
1335796456353: The leader sending a First Leg ack to originator client (which id = 5010)
1335796456353: discarding repeated requestCounter=5010092, but still send an ack back
1335796456353: inside handleClientRequest. Originator leader of region 2
1335796456353: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796456353: mux: Inside mux Packet.CLIENT_REQUEST
1335796456354: Sending UDP payload: 446
1335796456354: inside sendPacket(Packet p)
1335796456470: =======================
1335796456470: Leader about to send REPLY packet, number: 501100015 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796456470: inside sendReplyRepeatingRunnable for replyCount = 501100015
1335796456471: === Finished one round of sending REPLY Packet =======
1335796456471: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796456471: inside sendPacket(Packet p)
1335796456472: Sending UDP payload: 3662
1335796456512: =======================
1335796456513: === Finished one round of sending REPLY Packet =======
1335796456513: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796456513: Leader about to send REPLY packet, number: 501100016 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796456513: inside sendPacket(Packet p)
1335796456513: inside sendReplyRepeatingRunnable for replyCount = 501100016
1335796456515: Sending UDP payload: 3662
1335796456565: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100015
1335796456565: inside sendReplyTimeoutR
1335796456660: inside sendPacket(Packet p)
1335796456662: Sending UDP payload: 446
1335796456714: Received UDP payload: 446
1335796456716: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100016
1335796456716: Yay the last leg succeeded. Removing reply runnables ...
1335796456716: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100016
1335796456716: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100016
1335796456716: do not send ack for received final_leg_ack
1335796456716: got new request, requestCounter = 5010094
1335796456716: inside handleClientRequest. Originator leader of region 2
1335796456716: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796456716: mux: Inside mux Packet.CLIENT_REQUEST
1335796456802: Received UDP payload: 989
1335796456804: forwarding disabled, not forwarding packets
1335796456804: mux: GOT CSM_Msg
1335796456813: Received UDP payload: 446
1335796456815: mux: Inside mux Packet.CLIENT_REQUEST
1335796456816: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100015
1335796456816: got new request, requestCounter = 5010095
1335796456816: inside handleClientRequest. Originator leader of region 2
1335796456816: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796456817: Yay the last leg succeeded. Removing reply runnables ...
1335796456817: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100015
1335796456817: do not send ack for received final_leg_ack
1335796456817: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100015
1335796456909: Received UDP payload: 989
1335796456913: forwarding disabled, not forwarding packets
1335796456913: mux: GOT CSM_Msg
1335796456919: Received UDP payload: 446
1335796456929: Received UDP payload: 989
1335796456933: forwarding disabled, not forwarding packets
1335796456933: mux: GOT CSM_Msg
1335796456970: Received UDP payload: 989
1335796456974: forwarding disabled, not forwarding packets
1335796456974: mux: GOT CSM_Msg
1335796456978: Received UDP payload: 989
1335796456982: forwarding disabled, not forwarding packets
1335796456982: mux: GOT CSM_Msg
1335796457000: Received UDP payload: 989
1335796457004: mux: GOT CSM_Msg
1335796457005: inside handleDSMRequest. At requests's remote leader of region 2
1335796457005: removed replies before id 12 from sentReplies of size 0
1335796457006: INSIDE SERVER_GET_PHOTO!!!
1335796457010: Received PROC_REQUEST 11:12 (1,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(1,0)
1335796457011: Dispatching Atom PROC_REPLY 11:12 (2,0)->(1,0)
1335796457012: mux: I got a CSM packet at a leader 
1335796457014: Sending UDP payload: 4009
1335796457021: forwarding disabled, not forwarding packets
1335796457035: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457036: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457036: mux: I got a CSM packet at a leader 
1335796457038: Sending UDP payload: 989
1335796457040: forwarding disabled, not forwarding packets
1335796457091: Received UDP payload: 446
1335796457093: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796457093: mux: Inside Packet.SERVER_REPLY
1335796457110: Received UDP payload: 446
1335796457112: mux: Inside Packet.SERVER_REPLY
1335796457113: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796457135: Received UDP payload: 989
1335796457150: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457150: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457153: mux: GOT CSM_Msg
1335796457153: removed replies before id 12 from sentReplies of size 1
1335796457154: Dispatching Atom PROC_REPLY 11:12 (2,0)->(1,0)
1335796457154: Received DUPLICATE PROC_REQUEST 11:12 (1,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(1,0)
1335796457155: mux: I got a CSM packet at a leader 
1335796457157: Sending UDP payload: 4009
1335796457159: Received UDP payload: 446
1335796457159: forwarding disabled, not forwarding packets
1335796457162: mux: I got a CSM packet at a leader 
1335796457165: Sending UDP payload: 989
1335796457167: forwarding disabled, not forwarding packets
1335796457167: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796457167: mux: Inside Packet.SERVER_REPLY
1335796457193: Received UDP payload: 989
1335796457199: mux: GOT CSM_Msg
1335796457200: removed replies before id 12 from sentReplies of size 1
1335796457201: Dispatching Atom PROC_REPLY 11:12 (2,0)->(1,0)
1335796457201: Received DUPLICATE PROC_REQUEST 11:12 (1,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(1,0)
1335796457204: mux: I got a CSM packet at a leader 
1335796457212: Sending UDP payload: 4009
1335796457213: forwarding disabled, not forwarding packets
1335796457223: Received UDP payload: 446
1335796457225: mux: Inside Packet.SERVER_REPLY
1335796457226: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796457233: Received UDP payload: 989
1335796457251: mux: GOT CSM_Msg
1335796457253: removed replies before id 12 from sentReplies of size 1
1335796457256: Dispatching Atom PROC_REPLY 11:12 (2,0)->(1,0)
1335796457256: Received DUPLICATE PROC_REQUEST 11:12 (1,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(1,0)
1335796457261: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457261: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457261: mux: I got a CSM packet at a leader 
1335796457265: Sending UDP payload: 4009
1335796457267: forwarding disabled, not forwarding packets
1335796457268: mux: I got a CSM packet at a leader 
1335796457270: Sending UDP payload: 989
1335796457271: forwarding disabled, not forwarding packets
1335796457278: Received UDP payload: 989
1335796457282: mux: GOT CSM_Msg
1335796457282: removed replies before id 12 from sentReplies of size 1
1335796457283: Dispatching Atom PROC_REPLY 11:12 (2,0)->(1,0)
1335796457283: Received DUPLICATE PROC_REQUEST 11:12 (1,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(1,0)
1335796457287: mux: I got a CSM packet at a leader 
1335796457289: Sending UDP payload: 4009
1335796457290: forwarding disabled, not forwarding packets
1335796457310: Received UDP payload: 989
1335796457313: mux: GOT CSM_Msg
1335796457313: removed replies before id 12 from sentReplies of size 1
1335796457314: Dispatching Atom PROC_REPLY 11:12 (2,0)->(1,0)
1335796457314: Received DUPLICATE PROC_REQUEST 11:12 (1,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(1,0)
1335796457314: mux: I got a CSM packet at a leader 
1335796457316: Sending UDP payload: 4009
1335796457316: forwarding disabled, not forwarding packets
1335796457325: Received UDP payload: 989
1335796457328: mux: GOT CSM_Msg
1335796457329: Dispatching Atom PROC_REPLY 11:12 (2,0)->(1,0)
1335796457329: Received DUPLICATE PROC_REQUEST 11:12 (1,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(1,0)
1335796457329: mux: I got a CSM packet at a leader 
1335796457329: removed replies before id 12 from sentReplies of size 1
1335796457331: Sending UDP payload: 4009
1335796457331: forwarding disabled, not forwarding packets
1335796457340: Received UDP payload: 989
1335796457342: Received DUPLICATE PROC_REQUEST 11:12 (1,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(1,0)
1335796457342: mux: GOT CSM_Msg
1335796457342: removed replies before id 12 from sentReplies of size 1
1335796457343: Dispatching Atom PROC_REPLY 11:12 (2,0)->(1,0)
1335796457343: mux: I got a CSM packet at a leader 
1335796457344: Sending UDP payload: 4009
1335796457344: forwarding disabled, not forwarding packets
1335796457362: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457362: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457363: mux: I got a CSM packet at a leader 
1335796457364: Sending UDP payload: 989
1335796457364: forwarding disabled, not forwarding packets
1335796457366: Received UDP payload: 989
1335796457368: mux: GOT CSM_Msg
1335796457369: Dispatching Atom PROC_REPLY 11:12 (2,0)->(1,0)
1335796457369: Received DUPLICATE PROC_REQUEST 11:12 (1,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(1,0)
1335796457369: removed replies before id 12 from sentReplies of size 1
1335796457370: mux: I got a CSM packet at a leader 
1335796457371: Sending UDP payload: 4009
1335796457371: forwarding disabled, not forwarding packets
1335796457427: Received UDP payload: 989
1335796457430: mux: GOT CSM_Msg
1335796457430: removed replies before id 12 from sentReplies of size 1
1335796457431: Dispatching Atom PROC_REPLY 11:12 (2,0)->(1,0)
1335796457431: Received DUPLICATE PROC_REQUEST 11:12 (1,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(1,0)
1335796457431: mux: I got a CSM packet at a leader 
1335796457432: Sending UDP payload: 4009
1335796457433: forwarding disabled, not forwarding packets
1335796457448: Received UDP payload: 989
1335796457452: mux: GOT CSM_Msg
1335796457452: removed replies before id 12 from sentReplies of size 1
1335796457453: Dispatching Atom PROC_REPLY 11:12 (2,0)->(1,0)
1335796457453: Received DUPLICATE PROC_REQUEST 11:12 (1,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(1,0)
1335796457453: mux: I got a CSM packet at a leader 
1335796457455: Sending UDP payload: 4009
1335796457456: forwarding disabled, not forwarding packets
1335796457463: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457464: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457464: mux: I got a CSM packet at a leader 
1335796457466: Sending UDP payload: 989
1335796457468: forwarding disabled, not forwarding packets
1335796457565: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457565: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457568: mux: I got a CSM packet at a leader 
1335796457573: Sending UDP payload: 989
1335796457575: forwarding disabled, not forwarding packets
1335796457666: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457667: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457670: mux: I got a CSM packet at a leader 
1335796457672: Sending UDP payload: 989
1335796457673: forwarding disabled, not forwarding packets
1335796457716: Received UDP payload: 989
1335796457725: forwarding disabled, not forwarding packets
1335796457725: mux: GOT CSM_Msg
1335796457739: Received UDP payload: 642
1335796457742: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796457742: mux: Inside Packet.SERVER_REPLY
1335796457762: Received UDP payload: 642
1335796457764: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796457764: mux: Inside Packet.SERVER_REPLY
1335796457768: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457768: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457769: mux: I got a CSM packet at a leader 
1335796457770: Sending UDP payload: 989
1335796457771: forwarding disabled, not forwarding packets
1335796457782: Received UDP payload: 446
1335796457783: mux: Inside mux Packet.CLIENT_REQUEST
1335796457804: Received UDP payload: 642
1335796457806: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796457806: mux: Inside Packet.SERVER_REPLY
1335796457849: Received UDP payload: 446
1335796457851: mux: Inside mux Packet.CLIENT_REQUEST
1335796457869: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457870: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457870: mux: I got a CSM packet at a leader 
1335796457872: Sending UDP payload: 989
1335796457872: forwarding disabled, not forwarding packets
1335796457971: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457972: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796457973: mux: I got a CSM packet at a leader 
1335796457978: Sending UDP payload: 989
1335796457979: forwarding disabled, not forwarding packets
1335796458074: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796458075: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796458076: mux: I got a CSM packet at a leader 
1335796458080: Sending UDP payload: 989
1335796458083: forwarding disabled, not forwarding packets
1335796458177: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796458178: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796458178: mux: I got a CSM packet at a leader 
1335796458181: Sending UDP payload: 989
1335796458183: forwarding disabled, not forwarding packets
1335796458279: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796458280: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796458283: mux: I got a CSM packet at a leader 
1335796458287: Sending UDP payload: 989
1335796458291: forwarding disabled, not forwarding packets
1335796458381: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335796458381: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335796458382: mux: I got a CSM packet at a leader 
1335796458384: Sending UDP payload: 989
1335796458384: forwarding disabled, not forwarding packets
1335796458483: DSM Layer: Request timed out, send failure PROC_REPLY 11:1 (3,0)->(2,0)
1335796458484: Dispatching Atom PROC_REPLY 11:1 (3,0)->(2,0)
1335796458486: mux: I got a CSM packet at a leader 
1335796458490: Sending UDP payload: 989
1335796458492: Received PROC_REPLY 11:1 (3,0)->(2,0), handing to UserApp
1335796458493: DSM layer timed out, don't log dsm layer latency stuff.
1335796458493: inside handleDSMReply. Now back in originator leader of region 2
1335796458495: Originator Region=2's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796458496: change leader replyCounter to: 17
1335796458496: reply packet contains the newest photo/success info from the remote region
1335796458497: inside sendReplies of replyCount = 501100017
1335796458498: =======================
1335796458499: inside sendReplyRepeatingRunnable for replyCount = 501100017
1335796458501: Leader about to send REPLY packet, number: 501100017 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796458502: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796458502: inside sendPacket(Packet p)
1335796458503: === Finished one round of sending REPLY Packet =======
1335796458508: Sending UDP payload: 642
1335796458804: =======================
1335796458804: inside sendReplyRepeatingRunnable for replyCount = 501100017
1335796458805: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796458805: Leader about to send REPLY packet, number: 501100017 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796458806: === Finished one round of sending REPLY Packet =======
1335796458806: inside sendPacket(Packet p)
1335796458809: Sending UDP payload: 642
1335796459009: Received UDP payload: 6093
1335796459015: mux: GOT CSM_Msg
1335796459016: Received DUPLICATE PROC_REPLY 11:1 (3,0)->(2,0)
1335796459107: =======================
1335796459108: Leader about to send REPLY packet, number: 501100017 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796459108: inside sendReplyRepeatingRunnable for replyCount = 501100017
1335796459109: === Finished one round of sending REPLY Packet =======
1335796459109: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796459109: inside sendPacket(Packet p)
1335796459112: Sending UDP payload: 642
1335796459342: Received UDP payload: 625
1335796459346: mux: Inside mux Packet.CLIENT_REQUEST
1335796459411: =======================
1335796459411: inside sendReplyRepeatingRunnable for replyCount = 501100017
1335796459412: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796459412: Leader about to send REPLY packet, number: 501100017 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796459412: inside sendPacket(Packet p)
1335796459413: === Finished one round of sending REPLY Packet =======
1335796459416: Sending UDP payload: 642
1335796459505: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100017
1335796459505: inside sendReplyTimeoutR
1335796459639: Received UDP payload: 625
1335796459641: mux: Inside mux Packet.CLIENT_REQUEST
1335796459992: Received UDP payload: 625
1335796459995: mux: Inside mux Packet.CLIENT_REQUEST
1335796461338: Received UDP payload: 989
1335796461350: mux: GOT CSM_Msg
1335796461350: removed replies before id 13 from sentReplies of size 0
1335796461351: inside handleDSMRequest. At requests's remote leader of region 2
1335796461360: INSIDE SERVER_GET_PHOTO!!!
1335796461364: Received PROC_REQUEST 11:13 (1,0)->(2,0), replying PROC_REPLY 11:13 (2,0)->(1,0)
1335796461365: Dispatching Atom PROC_REPLY 11:13 (2,0)->(1,0)
1335796461365: mux: I got a CSM packet at a leader 
1335796461371: Received UDP payload: 989
1335796461399: Sending UDP payload: 4009
1335796461408: forwarding disabled, not forwarding packets
1335796461409: mux: GOT CSM_Msg
1335796461410: removed replies before id 13 from sentReplies of size 1
1335796461411: Received DUPLICATE PROC_REQUEST 11:13 (1,0)->(2,0), replying PROC_REPLY 11:13 (2,0)->(1,0)
1335796461412: Dispatching Atom PROC_REPLY 11:13 (2,0)->(1,0)
1335796461413: mux: I got a CSM packet at a leader 
1335796461424: Sending UDP payload: 4009
1335796461426: forwarding disabled, not forwarding packets
1335796461435: Received UDP payload: 989
1335796461437: mux: GOT CSM_Msg
1335796461438: Received DUPLICATE PROC_REQUEST 11:13 (1,0)->(2,0), replying PROC_REPLY 11:13 (2,0)->(1,0)
1335796461438: removed replies before id 13 from sentReplies of size 1
1335796461439: Dispatching Atom PROC_REPLY 11:13 (2,0)->(1,0)
1335796461439: mux: I got a CSM packet at a leader 
1335796461440: Sending UDP payload: 4009
1335796461440: forwarding disabled, not forwarding packets
1335796461453: Received UDP payload: 989
1335796461456: Received DUPLICATE PROC_REQUEST 11:13 (1,0)->(2,0), replying PROC_REPLY 11:13 (2,0)->(1,0)
1335796461456: mux: GOT CSM_Msg
1335796461456: removed replies before id 13 from sentReplies of size 1
1335796461457: Dispatching Atom PROC_REPLY 11:13 (2,0)->(1,0)
1335796461457: mux: I got a CSM packet at a leader 
1335796461458: Sending UDP payload: 4009
1335796461459: forwarding disabled, not forwarding packets
1335796461570: Received UDP payload: 989
1335796461572: Received DUPLICATE PROC_REQUEST 11:13 (1,0)->(2,0), replying PROC_REPLY 11:13 (2,0)->(1,0)
1335796461572: mux: GOT CSM_Msg
1335796461572: removed replies before id 13 from sentReplies of size 1
1335796461573: Dispatching Atom PROC_REPLY 11:13 (2,0)->(1,0)
1335796461573: mux: I got a CSM packet at a leader 
1335796461574: Sending UDP payload: 4009
1335796461578: forwarding disabled, not forwarding packets
1335796461638: Received UDP payload: 989
1335796461643: mux: GOT CSM_Msg
1335796461644: Received DUPLICATE PROC_REQUEST 11:13 (1,0)->(2,0), replying PROC_REPLY 11:13 (2,0)->(1,0)
1335796461644: removed replies before id 13 from sentReplies of size 1
1335796461645: Dispatching Atom PROC_REPLY 11:13 (2,0)->(1,0)
1335796461646: mux: I got a CSM packet at a leader 
1335796461648: Sending UDP payload: 4009
1335796461649: forwarding disabled, not forwarding packets
1335796461661: inside sendPacket(Packet p)
1335796461662: Sending UDP payload: 446
1335796461698: Received UDP payload: 989
1335796461700: mux: GOT CSM_Msg
1335796461701: removed replies before id 13 from sentReplies of size 1
1335796461702: Received DUPLICATE PROC_REQUEST 11:13 (1,0)->(2,0), replying PROC_REPLY 11:13 (2,0)->(1,0)
1335796461703: Dispatching Atom PROC_REPLY 11:13 (2,0)->(1,0)
1335796461703: mux: I got a CSM packet at a leader 
1335796461706: Sending UDP payload: 4009
1335796461707: forwarding disabled, not forwarding packets
1335796461756: Received UDP payload: 989
1335796461759: mux: GOT CSM_Msg
1335796461759: removed replies before id 13 from sentReplies of size 1
1335796461760: Received DUPLICATE PROC_REQUEST 11:13 (1,0)->(2,0), replying PROC_REPLY 11:13 (2,0)->(1,0)
1335796461761: Dispatching Atom PROC_REPLY 11:13 (2,0)->(1,0)
1335796461761: mux: I got a CSM packet at a leader 
1335796461767: Sending UDP payload: 4009
1335796461768: forwarding disabled, not forwarding packets
1335796461835: Received UDP payload: 989
1335796461837: mux: GOT CSM_Msg
1335796461837: removed replies before id 13 from sentReplies of size 1
1335796461847: Received DUPLICATE PROC_REQUEST 11:13 (1,0)->(2,0), replying PROC_REPLY 11:13 (2,0)->(1,0)
1335796461847: Received UDP payload: 989
1335796461848: Dispatching Atom PROC_REPLY 11:13 (2,0)->(1,0)
1335796461848: mux: I got a CSM packet at a leader 
1335796461850: Sending UDP payload: 4009
1335796461851: forwarding disabled, not forwarding packets
1335796461853: mux: GOT CSM_Msg
1335796461853: removed replies before id 13 from sentReplies of size 1
1335796461854: Dispatching Atom PROC_REPLY 11:13 (2,0)->(1,0)
1335796461854: Received DUPLICATE PROC_REQUEST 11:13 (1,0)->(2,0), replying PROC_REPLY 11:13 (2,0)->(1,0)
1335796461854: mux: I got a CSM packet at a leader 
1335796461855: Sending UDP payload: 4009
1335796461856: forwarding disabled, not forwarding packets
1335796461868: Received UDP payload: 989
1335796461871: forwarding disabled, not forwarding packets
1335796461871: mux: GOT CSM_Msg
1335796461884: Received UDP payload: 446
1335796461894: Received UDP payload: 446
1335796462380: Received UDP payload: 446
1335796462768: Received UDP payload: 446
1335796463063: Received UDP payload: 446
1335796463365: Received UDP payload: 446
1335796463660: Received UDP payload: 446
1335796464403: Received UDP payload: 446
1335796464574: Received UDP payload: 446
1335796464581: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796464581: mux: Inside Packet.SERVER_REPLY
1335796464596: Received UDP payload: 989
1335796464629: mux: GOT CSM_Msg
1335796464630: forwarding disabled, not forwarding packets
1335796464631: Received UDP payload: 642
1335796464642: Received UDP payload: 642
1335796464642: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796464642: mux: Inside Packet.SERVER_REPLY
1335796464643: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796464643: mux: Inside Packet.SERVER_REPLY
1335796464669: Received UDP payload: 446
1335796464671: mux: Inside mux Packet.CLIENT_REQUEST
1335796465270: Received UDP payload: 642
1335796465275: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796465275: mux: Inside Packet.SERVER_REPLY
1335796465321: Received UDP payload: 446
1335796465325: mux: Inside mux Packet.CLIENT_REQUEST
1335796466023: Received UDP payload: 446
1335796466029: heard LEADER_REQUEST from node 5022, responding LEADER_REPLY
1335796466163: inside sendPacket(Packet p)
1335796466176: Sending UDP payload: 40958
1335796466538: Received UDP payload: 642
1335796466540: mux: Ignoring SERVER_REPLY since it's not for me  5011
1335796466540: mux: Inside Packet.SERVER_REPLY
1335796466603: Received UDP payload: 446
1335796466624: Received UDP payload: 446
1335796466625: mux: Inside mux Packet.CLIENT_REQUEST
1335796466661: inside sendPacket(Packet p)
1335796466663: Sending UDP payload: 446
1335796466874: Received UDP payload: 6894
1335796466881: mux: GOT CSM_Msg
1335796466882: Received DUPLICATE PROC_REPLY 11:0 (1,0)->(2,0)
1335796466930: Received UDP payload: 446
1335796466934: heard LEADER_REQUEST from node 5022, responding LEADER_REPLY
1335796466943: Received UDP payload: 3671
1335796466947: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796466947: mux: Inside mux Packet.CLIENT_REQUEST
1335796466948: inside handleClientRequest. Originator leader of region 2
1335796466949: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796466949: got new request, requestCounter = 5017120
1335796466951: Dispatching Atom PROC_REQUEST 10:10 (2,0)->(2,0)
1335796466951: Sending PROC_REQUEST 10:10 (2,0)->(2,0)
1335796466952: Make FirstLeg Ack regardless of new or already-processed requests
1335796466952: Note down new request by adding requestCounter=5017120 to HashMap processedRequests
1335796466953: The leader sending a First Leg ack to originator client (which id = 5017)
1335796466955: inside sendPacket(Packet p)
1335796466956: mux: I got a CSM packet at a leader 
1335796466983: Sending UDP payload: 4035
1335796466985: inside handleDSMRequest. At requests's remote leader of region 2
1335796466985: removed replies before id 10 from sentReplies of size 0
1335796467011: Inside UPLOAD_PHOTO!!
1335796467022: my_gpinfo.isSuccess is now (should be true): true
1335796467023: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796467024: Received PROC_REQUEST 10:10 (2,0)->(2,0), replying PROC_REPLY 10:10 (2,0)->(2,0)
1335796467025: Dispatching Atom PROC_REPLY 10:10 (2,0)->(2,0)
1335796467025: Sending UDP payload: 446
1335796467030: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796467033: I'm a leader and I successfully saved my client's new photo
1335796467033: now showing in UI the new photo I just saved ... 
1335796467034: mux: I got a CSM packet at a leader 
1335796467034: the photo length: 3024
1335796467035: Sending UDP payload: 989
1335796467036: DSM layer: Going to and from remote region took latency = 87
1335796467036: Received PROC_REPLY 10:10 (2,0)->(2,0), handing to UserApp
1335796467036: inside handleDSMReply. Now back in originator leader of region 2
1335796467037: DSM layer: orig leader sent packet at 1335796466949 ~ received reply from remote leader at 1335796467036
1335796467038: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796467038: change leader replyCounter to: 18
1335796467038: inside sendReplies of replyCount = 501100018
1335796467038: reply packet contains the success info for UPLOAD_PHOTO
1335796467103: end of server show photo aside %%%%%%%%%
1335796467183: inside sendPacket(Packet p)
1335796467184: Sending UDP payload: 37680
1335796467188: =======================
1335796467188: inside sendReplyRepeatingRunnable for replyCount = 501100018
1335796467189: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796467189: Leader about to send REPLY packet, number: 501100018 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796467189: inside sendPacket(Packet p)
1335796467190: === Finished one round of sending REPLY Packet =======
1335796467190: Sending UDP payload: 642
1335796467275: Received UDP payload: 3671
1335796467276: inside handleClientRequest. Originator leader of region 2
1335796467276: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796467276: mux: Inside mux Packet.CLIENT_REQUEST
1335796467277: Make FirstLeg Ack regardless of new or already-processed requests
1335796467277: Note down new request by adding requestCounter=5017120 to HashMap processedRequests
1335796467277: The leader sending a First Leg ack to originator client (which id = 5017)
1335796467277: discarding repeated requestCounter=5017120, but still send an ack back
1335796467277: inside sendPacket(Packet p)
1335796467278: Sending UDP payload: 446
1335796467378: Received UDP payload: 446
1335796467490: =======================
1335796467490: Leader about to send REPLY packet, number: 501100018 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796467490: inside sendReplyRepeatingRunnable for replyCount = 501100018
1335796467491: === Finished one round of sending REPLY Packet =======
1335796467491: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796467491: inside sendPacket(Packet p)
1335796467492: Sending UDP payload: 642
1335796467607: Received UDP payload: 3671
1335796467609: discarding repeated requestCounter=5017120, but still send an ack back
1335796467609: inside handleClientRequest. Originator leader of region 2
1335796467609: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796467609: mux: Inside mux Packet.CLIENT_REQUEST
1335796467610: Make FirstLeg Ack regardless of new or already-processed requests
1335796467610: Note down new request by adding requestCounter=5017120 to HashMap processedRequests
1335796467610: The leader sending a First Leg ack to originator client (which id = 5017)
1335796467610: inside sendPacket(Packet p)
1335796467611: Sending UDP payload: 446
1335796467624: Received UDP payload: 446
1335796467779: Received UDP payload: 6894
1335796467782: mux: GOT CSM_Msg
1335796467783: Received DUPLICATE PROC_REPLY 11:0 (1,0)->(2,0)
1335796467792: =======================
1335796467792: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796467792: Leader about to send REPLY packet, number: 501100018 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796467792: inside sendReplyRepeatingRunnable for replyCount = 501100018
1335796467793: === Finished one round of sending REPLY Packet =======
1335796467793: inside sendPacket(Packet p)
1335796467794: Sending UDP payload: 642
1335796467877: Received UDP payload: 3671
1335796467880: Note down new request by adding requestCounter=5017120 to HashMap processedRequests
1335796467880: discarding repeated requestCounter=5017120, but still send an ack back
1335796467880: inside handleClientRequest. Originator leader of region 2
1335796467880: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796467880: mux: Inside mux Packet.CLIENT_REQUEST
1335796467881: Make FirstLeg Ack regardless of new or already-processed requests
1335796467881: The leader sending a First Leg ack to originator client (which id = 5017)
1335796467881: inside sendPacket(Packet p)
1335796467882: Sending UDP payload: 446
1335796467923: Received UDP payload: 6894
1335796467926: mux: GOT CSM_Msg
1335796467927: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335796468038: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100018
1335796468038: inside sendReplyTimeoutR
1335796469106: canPressButton = TRUE
1335796469107: areButtonsEnabled --> false 
1335796469108: areButtonsEnabled --> false
1335796469108: get picture disableButtonsR
1335796469146: one more getNum: 5
1335796469147: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=1 getBad=3 getTimedout=0 getPercent=20%
1335796469148: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335796469148: change local requestCounter to 13
1335796469150: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5011013 Client in region: 2 Client nodID: 5011
1335796469188: ----------------------------
1335796469190: inside sendRequestPacketRepeatingRunnable for requestCount = 5011013
1335796469191: I'm a leader, my requesting photos packet going to mux directly
1335796469191: mux: Inside mux Packet.CLIENT_REQUEST
1335796469192: got new request, requestCounter = 5011013
1335796469192: inside handleClientRequest. Originator leader of region 2
1335796469192: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796469193: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796469194: Sending to region: 1
1335796469195: Sending PROC_REQUEST 11:2 (2,0)->(1,0)
1335796469196: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796469197: Make FirstLeg Ack regardless of new or already-processed requests
1335796469197: Note down new request by adding requestCounter=5011013 to HashMap processedRequests
1335796469197: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5011)
1335796469198: mux: I got a CSM packet at a leader 
1335796469201: --- Finished one round of sending REQUEST Packet ---------
1335796469202: Sending UDP payload: 989
1335796469203: forwarding disabled, not forwarding packets
1335796469253: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796469905: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796469906: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796469906: mux: I got a CSM packet at a leader 
1335796469910: Sending UDP payload: 989
1335796469912: forwarding disabled, not forwarding packets
1335796469990: Received UDP payload: 625
1335796469991: mux: Inside mux Packet.CLIENT_REQUEST
1335796469992: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796469992: got new request, requestCounter = 5006151
1335796469992: inside handleClientRequest. Originator leader of region 2
1335796469992: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796469993: Sending to region: 1
1335796469994: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335796469994: Sending PROC_REQUEST 11:3 (2,0)->(1,0)
1335796469995: Make FirstLeg Ack regardless of new or already-processed requests
1335796469995: Note down new request by adding requestCounter=5006151 to HashMap processedRequests
1335796469995: The leader sending a First Leg ack to originator client (which id = 5006)
1335796469995: inside sendPacket(Packet p)
1335796469996: mux: I got a CSM packet at a leader 
1335796469997: Sending UDP payload: 989
1335796470002: forwarding disabled, not forwarding packets
1335796470004: Sending UDP payload: 446
1335796470008: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470010: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470011: mux: I got a CSM packet at a leader 
1335796470013: Sending UDP payload: 989
1335796470014: forwarding disabled, not forwarding packets
1335796470017: Received UDP payload: 625
1335796470020: mux: Inside mux Packet.CLIENT_REQUEST
1335796470021: Make FirstLeg Ack regardless of new or already-processed requests
1335796470021: Note down new request by adding requestCounter=5006151 to HashMap processedRequests
1335796470021: The leader sending a First Leg ack to originator client (which id = 5006)
1335796470021: discarding repeated requestCounter=5006151, but still send an ack back
1335796470021: inside handleClientRequest. Originator leader of region 2
1335796470021: inside sendPacket(Packet p)
1335796470021: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796470024: Sending UDP payload: 446
1335796470041: Received UDP payload: 5225
1335796470043: mux: GOT CSM_Msg
1335796470044: forwarding disabled, not forwarding packets
1335796470054: Received UDP payload: 989
1335796470057: forwarding disabled, not forwarding packets
1335796470057: mux: GOT CSM_Msg
1335796470111: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470112: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470112: mux: I got a CSM packet at a leader 
1335796470120: Sending UDP payload: 989
1335796470121: forwarding disabled, not forwarding packets
1335796470213: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470213: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470214: mux: I got a CSM packet at a leader 
1335796470215: Sending UDP payload: 989
1335796470216: forwarding disabled, not forwarding packets
1335796470314: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470314: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470319: mux: I got a CSM packet at a leader 
1335796470323: Sending UDP payload: 989
1335796470324: forwarding disabled, not forwarding packets
1335796470415: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470416: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470416: mux: I got a CSM packet at a leader 
1335796470417: Sending UDP payload: 989
1335796470419: forwarding disabled, not forwarding packets
1335796470517: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470517: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470518: mux: I got a CSM packet at a leader 
1335796470521: Sending UDP payload: 989
1335796470522: forwarding disabled, not forwarding packets
1335796470618: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470619: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470620: mux: I got a CSM packet at a leader 
1335796470622: Sending UDP payload: 989
1335796470624: forwarding disabled, not forwarding packets
1335796470720: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470721: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470721: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335796470722: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335796470723: mux: I got a CSM packet at a leader 
1335796470725: Sending UDP payload: 989
1335796470727: forwarding disabled, not forwarding packets
1335796470727: mux: I got a CSM packet at a leader 
1335796470730: Sending UDP payload: 989
1335796470731: forwarding disabled, not forwarding packets
1335796470823: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470824: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470824: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335796470825: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335796470826: mux: I got a CSM packet at a leader 
1335796470829: Sending UDP payload: 989
1335796470831: Received UDP payload: 446
1335796470834: forwarding disabled, not forwarding packets
1335796470834: mux: I got a CSM packet at a leader 
1335796470838: Sending UDP payload: 989
1335796470840: forwarding disabled, not forwarding packets
1335796470840: mux: Inside mux Packet.CLIENT_REQUEST
1335796470841: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100018
1335796470841: Yay the last leg succeeded. Removing reply runnables ...
1335796470841: got new request, requestCounter = 5017121
1335796470841: inside handleClientRequest. Originator leader of region 2
1335796470841: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796470842: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100018
1335796470842: do not send ack for received final_leg_ack
1335796470842: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100018
1335796470926: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470926: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796470927: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335796470927: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335796470927: mux: I got a CSM packet at a leader 
1335796470928: Sending UDP payload: 989
1335796470929: forwarding disabled, not forwarding packets
1335796470929: mux: I got a CSM packet at a leader 
1335796470930: Sending UDP payload: 989
1335796470931: forwarding disabled, not forwarding packets
1335796470979: Received UDP payload: 446
1335796470980: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796470980: mux: Inside mux Packet.CLIENT_REQUEST
1335796470981: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100018
1335796470981: Yay the last leg succeeded. Removing reply runnables ...
1335796470981: do not send ack for received final_leg_ack
1335796470981: got new request, requestCounter = 5017122
1335796470981: inside handleClientRequest. Originator leader of region 2
1335796470981: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100018
1335796470981: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100018
1335796471028: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796471028: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796471028: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471029: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471029: mux: I got a CSM packet at a leader 
1335796471031: Sending UDP payload: 989
1335796471032: forwarding disabled, not forwarding packets
1335796471033: mux: I got a CSM packet at a leader 
1335796471035: Sending UDP payload: 989
1335796471037: forwarding disabled, not forwarding packets
1335796471057: Received UDP payload: 446
1335796471060: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796471060: mux: Inside mux Packet.CLIENT_REQUEST
1335796471061: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100018
1335796471061: Yay the last leg succeeded. Removing reply runnables ...
1335796471061: do not send ack for received final_leg_ack
1335796471061: got new request, requestCounter = 5017123
1335796471061: inside handleClientRequest. Originator leader of region 2
1335796471061: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100018
1335796471061: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100018
1335796471107: Received UDP payload: 6894
1335796471110: mux: GOT CSM_Msg
1335796471111: Received DUPLICATE PROC_REPLY 11:0 (1,0)->(2,0)
1335796471130: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796471131: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796471131: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471131: mux: I got a CSM packet at a leader 
1335796471132: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471133: Sending UDP payload: 989
1335796471133: forwarding disabled, not forwarding packets
1335796471133: mux: I got a CSM packet at a leader 
1335796471135: Sending UDP payload: 989
1335796471135: forwarding disabled, not forwarding packets
1335796471233: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335796471233: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335796471233: mux: I got a CSM packet at a leader 
1335796471234: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471234: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471235: Sending UDP payload: 989
1335796471235: forwarding disabled, not forwarding packets
1335796471236: mux: I got a CSM packet at a leader 
1335796471237: Sending UDP payload: 989
1335796471238: forwarding disabled, not forwarding packets
1335796471335: DSM Layer: Request timed out, send failure PROC_REPLY 11:2 (1,0)->(2,0)
1335796471336: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335796471336: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471336: mux: I got a CSM packet at a leader 
1335796471337: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471337: Sending UDP payload: 989
1335796471338: Received PROC_REPLY 11:2 (1,0)->(2,0), handing to UserApp
1335796471338: inside handleDSMReply. Now back in originator leader of region 2
1335796471339: DSM layer timed out, don't log dsm layer latency stuff.
1335796471339: Originator Region=2's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796471340: change leader replyCounter to: 19
1335796471340: inside sendReplies of replyCount = 501100019
1335796471340: mux: I got a CSM packet at a leader 
1335796471340: reply packet contains the newest photo/success info from the remote region
1335796471342: Sending UDP payload: 989
1335796471343: forwarding disabled, not forwarding packets
1335796471344: =======================
1335796471344: inside sendReplyRepeatingRunnable for replyCount = 501100019
1335796471345: I (the leader) was also the originator client (id = 5011) so I hand the packet to my mux directly, without UDP
1335796471345: Leader about to send REPLY packet, number: 501100019 type: 15 Leader in region: (2,0) to Client nodID: 5011
1335796471346: === Finished one round of sending REPLY Packet =======
1335796471355: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796471355: Inside _enableButtons
1335796471355: disabling progressdialog due to successful new photo get
1335796471356: areButtonsEnabled --> true
1335796471356: inside finalLegAck: change requestCounter to 14
1335796471356: send final leg ack regardless of new or already-processed reply
1335796471357: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5011014 Client in region: (2,0) Client nodID: 5011
1335796471357: I'm a leader client, my final_leg packet going to mux directly
1335796471357: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796471357: mux: Inside mux Packet.CLIENT_REQUEST
1335796471358: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100019
1335796471358: Yay the last leg succeeded. Removing reply runnables ...
1335796471358: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100019
1335796471358: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100019
1335796471358: got new request, requestCounter = 5011014
1335796471358: inside handleClientRequest. Originator leader of region 2
1335796471359: do not send ack for received final_leg_ack
1335796471359: new client_show_remotephoto reply with replyCounter 501100019
1335796471359: note down new reply by adding replyCounter=501100019 to HashMap processedReplies
1335796471360: = leader download start 1335796469191 ~ stop 1335796471355
1335796471360: leader download remote photo latency = 2164
1335796471361: Can't get remote photo, because DSM Layer on originator leader timed out
1335796471369: one more getBad: 4
1335796471371: getBad++
1335796471371: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=1 getBad=4 getTimedout=0 getPercent=20%
1335796471438: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471439: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471440: mux: I got a CSM packet at a leader 
1335796471442: Sending UDP payload: 989
1335796471442: forwarding disabled, not forwarding packets
1335796471540: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471540: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335796471540: mux: I got a CSM packet at a leader 
1335796471542: Sending UDP payload: 989
1335796471542: forwarding disabled, not forwarding packets
1335796471578: leader to cloud hearbeat...
1335796472075: Received UDP payload: 6894
1335796472105: DSM Layer: Request timed out, send failure PROC_REPLY 11:3 (1,0)->(2,0)
1335796472107: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335796472108: mux: I got a CSM packet at a leader 
1335796472109: inside sendPacket(Packet p)
1335796472138: Sending UDP payload: 989
1335796472141: DSM layer timed out, don't log dsm layer latency stuff.
1335796472141: Received PROC_REPLY 11:3 (1,0)->(2,0), handing to UserApp
1335796472141: inside handleDSMReply. Now back in originator leader of region 2
1335796472147: Originator Region=2's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796472147: change leader replyCounter to: 20
1335796472148: inside sendReplies of replyCount = 501100020
1335796472148: reply packet contains the newest photo/success info from the remote region
1335796472149: =======================
1335796472149: Leader about to send REPLY packet, number: 501100020 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796472149: inside sendReplyRepeatingRunnable for replyCount = 501100020
1335796472150: === Finished one round of sending REPLY Packet =======
1335796472150: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796472150: inside sendPacket(Packet p)
1335796472152: Sending UDP payload: 446
1335796472153: mux: GOT CSM_Msg
1335796472155: Received DUPLICATE PROC_REPLY 11:0 (1,0)->(2,0)
1335796472159: Sending UDP payload: 642
1335796472266: Received UDP payload: 6894
1335796472269: mux: GOT CSM_Msg
1335796472270: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335796472372: Received UDP payload: 6894
1335796472375: mux: GOT CSM_Msg
1335796472376: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335796472450: =======================
1335796472451: Leader about to send REPLY packet, number: 501100020 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796472451: inside sendReplyRepeatingRunnable for replyCount = 501100020
1335796472452: === Finished one round of sending REPLY Packet =======
1335796472452: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796472452: inside sendPacket(Packet p)
1335796472454: Sending UDP payload: 642
1335796472498: Received UDP payload: 446
1335796472701: Received UDP payload: 6894
1335796472705: mux: GOT CSM_Msg
1335796472706: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335796472752: =======================
1335796472753: === Finished one round of sending REPLY Packet =======
1335796472753: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796472753: Leader about to send REPLY packet, number: 501100020 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796472753: inside sendPacket(Packet p)
1335796472753: inside sendReplyRepeatingRunnable for replyCount = 501100020
1335796472755: Sending UDP payload: 642
1335796473055: =======================
1335796473063: Leader about to send REPLY packet, number: 501100020 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796473063: inside sendReplyRepeatingRunnable for replyCount = 501100020
1335796473064: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796473064: inside sendPacket(Packet p)
1335796473067: Sending UDP payload: 642
1335796473069: === Finished one round of sending REPLY Packet =======
1335796473086: Received UDP payload: 625
1335796473091: mux: Inside mux Packet.CLIENT_REQUEST
1335796473099: Received UDP payload: 6894
1335796473106: mux: GOT CSM_Msg
1335796473107: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335796473151: inside sendReplyTimeoutR
1335796473152: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100020
1335796473199: Received UDP payload: 625
1335796473200: mux: Inside mux Packet.CLIENT_REQUEST
1335796473368: Received UDP payload: 625
1335796473370: mux: Inside mux Packet.CLIENT_REQUEST
1335796473453: Received UDP payload: 6894
1335796473455: mux: GOT CSM_Msg
1335796473456: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335796473554: Received UDP payload: 446
1335796473791: Received UDP payload: 446
1335796473795: inside handleClientRequest. Originator leader of region 2
1335796473795: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796473795: mux: Inside mux Packet.CLIENT_REQUEST
1335796473796: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100020
1335796473796: got new request, requestCounter = 5006152
1335796473797: Yay the last leg succeeded. Removing reply runnables ...
1335796473797: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100020
1335796473798: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100020
1335796473799: do not send ack for received final_leg_ack
1335796473807: Received UDP payload: 446
1335796473811: inside handleClientRequest. Originator leader of region 2
1335796473811: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796473811: mux: Inside mux Packet.CLIENT_REQUEST
1335796473812: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100020
1335796473812: Yay the last leg succeeded. Removing reply runnables ...
1335796473812: got new request, requestCounter = 5006153
1335796473813: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100020
1335796473814: do not send ack for received final_leg_ack
1335796473814: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100020
1335796474566: Received UDP payload: 446
1335796474633: Received UDP payload: 446
1335796475097: Received UDP payload: 989
1335796475103: mux: GOT CSM_Msg
1335796475104: forwarding disabled, not forwarding packets
1335796475433: Received UDP payload: 446
1335796475436: mux: Inside mux Packet.CLIENT_REQUEST
1335796475437: inside handleClientRequest. Originator leader of region 2
1335796475437: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796475438: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100017
1335796475438: Yay the last leg succeeded. Removing reply runnables ...
1335796475438: got new request, requestCounter = 5010096
1335796475439: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100017
1335796475439: do not send ack for received final_leg_ack
1335796475439: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100017
1335796475441: Received UDP payload: 446
1335796475447: mux: Inside mux Packet.CLIENT_REQUEST
1335796475448: inside handleClientRequest. Originator leader of region 2
1335796475448: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796475449: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100017
1335796475449: Yay the last leg succeeded. Removing reply runnables ...
1335796475449: got new request, requestCounter = 5010097
1335796475450: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100017
1335796475450: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100017
1335796475451: do not send ack for received final_leg_ack
1335796475482: Received UDP payload: 446
1335796475487: inside handleClientRequest. Originator leader of region 2
1335796475487: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796475487: mux: Inside mux Packet.CLIENT_REQUEST
1335796475488: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100017
1335796475488: Yay the last leg succeeded. Removing reply runnables ...
1335796475488: got new request, requestCounter = 5010098
1335796475489: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100017
1335796475489: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100017
1335796475490: do not send ack for received final_leg_ack
1335796475502: Received UDP payload: 625
1335796475507: inside handleClientRequest. Originator leader of region 2
1335796475507: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796475507: mux: Inside mux Packet.CLIENT_REQUEST
1335796475508: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796475508: got new request, requestCounter = 5010100
1335796475510: Sending to region: 0
1335796475512: Sending PROC_REQUEST 11:3 (2,0)->(0,0)
1335796475513: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(0,0)
1335796475513: Note down new request by adding requestCounter=5010100 to HashMap processedRequests
1335796475514: Make FirstLeg Ack regardless of new or already-processed requests
1335796475514: The leader sending a First Leg ack to originator client (which id = 5010)
1335796475515: inside sendPacket(Packet p)
1335796475515: mux: I got a CSM packet at a leader 
1335796475519: Sending UDP payload: 989
1335796475520: forwarding disabled, not forwarding packets
1335796475522: Sending UDP payload: 446
1335796475535: Received UDP payload: 625
1335796475538: Note down new request by adding requestCounter=5010100 to HashMap processedRequests
1335796475538: discarding repeated requestCounter=5010100, but still send an ack back
1335796475538: inside handleClientRequest. Originator leader of region 2
1335796475538: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796475538: mux: Inside mux Packet.CLIENT_REQUEST
1335796475539: Make FirstLeg Ack regardless of new or already-processed requests
1335796475539: The leader sending a First Leg ack to originator client (which id = 5010)
1335796475539: inside sendPacket(Packet p)
1335796475540: Sending UDP payload: 446
1335796475549: Received UDP payload: 625
1335796475551: discarding repeated requestCounter=5010100, but still send an ack back
1335796475551: inside handleClientRequest. Originator leader of region 2
1335796475551: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796475551: mux: Inside mux Packet.CLIENT_REQUEST
1335796475552: Make FirstLeg Ack regardless of new or already-processed requests
1335796475552: Note down new request by adding requestCounter=5010100 to HashMap processedRequests
1335796475552: The leader sending a First Leg ack to originator client (which id = 5010)
1335796475552: inside sendPacket(Packet p)
1335796475553: Sending UDP payload: 446
1335796475558: Received UDP payload: 625
1335796475559: inside handleClientRequest. Originator leader of region 2
1335796475559: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796475559: mux: Inside mux Packet.CLIENT_REQUEST
1335796475560: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796475560: got new request, requestCounter = 5010101
1335796475561: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796475561: Note down new request by adding requestCounter=5010101 to HashMap processedRequests
1335796475561: Sending PROC_REQUEST 11:4 (2,0)->(1,0)
1335796475561: Sending to region: 1
1335796475562: Make FirstLeg Ack regardless of new or already-processed requests
1335796475562: The leader sending a First Leg ack to originator client (which id = 5010)
1335796475562: inside sendPacket(Packet p)
1335796475562: mux: I got a CSM packet at a leader 
1335796475563: Sending UDP payload: 989
1335796475564: Received UDP payload: 4656
1335796475566: forwarding disabled, not forwarding packets
1335796475567: Sending UDP payload: 446
1335796475567: forwarding disabled, not forwarding packets
1335796475567: mux: GOT CSM_Msg
1335796475595: Received UDP payload: 625
1335796475597: Make FirstLeg Ack regardless of new or already-processed requests
1335796475597: Note down new request by adding requestCounter=5010101 to HashMap processedRequests
1335796475597: discarding repeated requestCounter=5010101, but still send an ack back
1335796475597: inside handleClientRequest. Originator leader of region 2
1335796475597: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796475597: mux: Inside mux Packet.CLIENT_REQUEST
1335796475598: The leader sending a First Leg ack to originator client (which id = 5010)
1335796475598: inside sendPacket(Packet p)
1335796475599: Sending UDP payload: 446
1335796475620: Received UDP payload: 625
1335796475621: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796475621: mux: Inside mux Packet.CLIENT_REQUEST
1335796475622: Make FirstLeg Ack regardless of new or already-processed requests
1335796475622: Note down new request by adding requestCounter=5010101 to HashMap processedRequests
1335796475622: The leader sending a First Leg ack to originator client (which id = 5010)
1335796475622: discarding repeated requestCounter=5010101, but still send an ack back
1335796475622: inside handleClientRequest. Originator leader of region 2
1335796475622: inside sendPacket(Packet p)
1335796475623: Sending UDP payload: 446
1335796475738: Received UDP payload: 5225
1335796475740: DSM layer: Going to and from remote region took latency = 179
1335796475740: Received PROC_REPLY 11:3 (0,0)->(2,0), handing to UserApp
1335796475740: inside handleDSMReply. Now back in originator leader of region 2
1335796475740: mux: GOT CSM_Msg
1335796475741: DSM layer: orig leader sent packet at 1335796475561 ~ received reply from remote leader at 1335796475740
1335796475741: Originator Region=2's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796475741: change leader replyCounter to: 21
1335796475741: inside sendReplies of replyCount = 501100021
1335796475741: reply packet contains the newest photo/success info from the remote region
1335796475742: === Finished one round of sending REPLY Packet =======
1335796475742: =======================
1335796475742: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796475742: Leader about to send REPLY packet, number: 501100021 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796475742: inside sendPacket(Packet p)
1335796475742: inside sendReplyRepeatingRunnable for replyCount = 501100021
1335796475743: Sending UDP payload: 4878
1335796475993: Received UDP payload: 446
1335796475995: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100021
1335796475995: Yay the last leg succeeded. Removing reply runnables ...
1335796475995: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100021
1335796475995: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100021
1335796475995: got new request, requestCounter = 5010102
1335796475995: inside handleClientRequest. Originator leader of region 2
1335796475995: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796475995: mux: Inside mux Packet.CLIENT_REQUEST
1335796475996: do not send ack for received final_leg_ack
1335796476345: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476346: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476347: mux: I got a CSM packet at a leader 
1335796476349: Sending UDP payload: 989
1335796476350: forwarding disabled, not forwarding packets
1335796476447: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476448: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476448: mux: I got a CSM packet at a leader 
1335796476450: Sending UDP payload: 989
1335796476457: forwarding disabled, not forwarding packets
1335796476549: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476549: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476550: mux: I got a CSM packet at a leader 
1335796476552: Sending UDP payload: 989
1335796476553: forwarding disabled, not forwarding packets
1335796476651: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476651: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476651: mux: I got a CSM packet at a leader 
1335796476653: Sending UDP payload: 989
1335796476653: forwarding disabled, not forwarding packets
1335796476752: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476752: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476752: mux: I got a CSM packet at a leader 
1335796476753: Sending UDP payload: 989
1335796476754: forwarding disabled, not forwarding packets
1335796476853: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476853: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476854: mux: I got a CSM packet at a leader 
1335796476855: Sending UDP payload: 989
1335796476855: forwarding disabled, not forwarding packets
1335796476957: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476958: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796476958: mux: I got a CSM packet at a leader 
1335796476959: Sending UDP payload: 989
1335796476960: forwarding disabled, not forwarding packets
1335796477059: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477059: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477059: mux: I got a CSM packet at a leader 
1335796477060: Sending UDP payload: 989
1335796477061: forwarding disabled, not forwarding packets
1335796477109: inside sendPacket(Packet p)
1335796477110: Sending UDP payload: 446
1335796477161: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477162: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477162: mux: I got a CSM packet at a leader 
1335796477163: Sending UDP payload: 989
1335796477164: forwarding disabled, not forwarding packets
1335796477262: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477263: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477263: mux: I got a CSM packet at a leader 
1335796477264: Sending UDP payload: 989
1335796477265: forwarding disabled, not forwarding packets
1335796477364: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477364: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477364: mux: I got a CSM packet at a leader 
1335796477365: Sending UDP payload: 989
1335796477366: forwarding disabled, not forwarding packets
1335796477394: Received UDP payload: 446
1335796477465: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477465: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477465: mux: I got a CSM packet at a leader 
1335796477466: Sending UDP payload: 989
1335796477467: forwarding disabled, not forwarding packets
1335796477566: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477566: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335796477567: mux: I got a CSM packet at a leader 
1335796477568: Sending UDP payload: 989
1335796477569: forwarding disabled, not forwarding packets
1335796477667: DSM Layer: Request timed out, send failure PROC_REPLY 11:4 (1,0)->(2,0)
1335796477667: Dispatching Atom PROC_REPLY 11:4 (1,0)->(2,0)
1335796477668: mux: I got a CSM packet at a leader 
1335796477669: Sending UDP payload: 989
1335796477670: DSM layer timed out, don't log dsm layer latency stuff.
1335796477670: Received PROC_REPLY 11:4 (1,0)->(2,0), handing to UserApp
1335796477670: inside handleDSMReply. Now back in originator leader of region 2
1335796477671: =======================
1335796477671: Originator Region=2's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796477671: change leader replyCounter to: 22
1335796477671: inside sendReplies of replyCount = 501100022
1335796477671: reply packet contains the newest photo/success info from the remote region
1335796477672: === Finished one round of sending REPLY Packet =======
1335796477672: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796477672: Leader about to send REPLY packet, number: 501100022 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796477672: inside sendPacket(Packet p)
1335796477672: inside sendReplyRepeatingRunnable for replyCount = 501100022
1335796477673: Sending UDP payload: 642
1335796477721: Received UDP payload: 446
1335796477795: Received UDP payload: 989
1335796477797: forwarding disabled, not forwarding packets
1335796477797: mux: GOT CSM_Msg
1335796477973: === Finished one round of sending REPLY Packet =======
1335796477973: =======================
1335796477973: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796477973: Leader about to send REPLY packet, number: 501100022 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796477973: inside sendPacket(Packet p)
1335796477973: inside sendReplyRepeatingRunnable for replyCount = 501100022
1335796477974: Sending UDP payload: 642
1335796478132: areButtonsEnabled --> false
1335796478132: areButtonsEnabled --> false 
1335796478132: canPressButton = TRUE
1335796478132: get picture disableButtonsR
1335796478158: one more getNum: 6
1335796478159: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=1 getBad=4 getTimedout=0 getPercent=16%
1335796478160: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335796478160: change local requestCounter to 15
1335796478162: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5011015 Client in region: 2 Client nodID: 5011
1335796478198: ----------------------------
1335796478199: I'm a leader, my requesting photos packet going to mux directly
1335796478199: inside sendRequestPacketRepeatingRunnable for requestCount = 5011015
1335796478199: mux: Inside mux Packet.CLIENT_REQUEST
1335796478200: Received UDP payload: 446
1335796478200: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796478202: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796478202: got new request, requestCounter = 5011015
1335796478202: inside handleClientRequest. Originator leader of region 2
1335796478203: Sending to region: 0
1335796478204: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(0,0)
1335796478204: Make FirstLeg Ack regardless of new or already-processed requests
1335796478204: Note down new request by adding requestCounter=5011015 to HashMap processedRequests
1335796478204: Sending PROC_REQUEST 11:4 (2,0)->(0,0)
1335796478204: inside handleClientRequest. Originator leader of region 2
1335796478204: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796478204: mux: Inside mux Packet.CLIENT_REQUEST
1335796478204: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5011)
1335796478205: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100022
1335796478205: Yay the last leg succeeded. Removing reply runnables ...
1335796478205: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100022
1335796478205: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100022
1335796478205: do not send ack for received final_leg_ack
1335796478205: got new request, requestCounter = 5010103
1335796478205: mux: I got a CSM packet at a leader 
1335796478206: Sending UDP payload: 989
1335796478207: --- Finished one round of sending REQUEST Packet ---------
1335796478214: forwarding disabled, not forwarding packets
1335796478246: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796478479: Received UDP payload: 5225
1335796478481: Received PROC_REPLY 11:4 (0,0)->(2,0), handing to UserApp
1335796478481: inside handleDSMReply. Now back in originator leader of region 2
1335796478481: mux: GOT CSM_Msg
1335796478482: DSM layer: Going to and from remote region took latency = 278
1335796478482: DSM layer: orig leader sent packet at 1335796478203 ~ received reply from remote leader at 1335796478481
1335796478482: Originator Region=2's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796478483: =======================
1335796478483: I (the leader) was also the originator client (id = 5011) so I hand the packet to my mux directly, without UDP
1335796478483: Leader about to send REPLY packet, number: 501100023 type: 15 Leader in region: (2,0) to Client nodID: 5011
1335796478483: change leader replyCounter to: 23
1335796478483: inside sendReplies of replyCount = 501100023
1335796478483: inside sendReplyRepeatingRunnable for replyCount = 501100023
1335796478483: reply packet contains the newest photo/success info from the remote region
1335796478484: === Finished one round of sending REPLY Packet =======
1335796478492: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796478492: Inside _enableButtons
1335796478492: disabling progressdialog due to successful new photo get
1335796478493: areButtonsEnabled --> true
1335796478493: inside finalLegAck: change requestCounter to 16
1335796478493: send final leg ack regardless of new or already-processed reply
1335796478494: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5011016 Client in region: (2,0) Client nodID: 5011
1335796478494: I'm a leader client, my final_leg packet going to mux directly
1335796478494: inside handleClientRequest. Originator leader of region 2
1335796478494: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796478494: mux: Inside mux Packet.CLIENT_REQUEST
1335796478495: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100023
1335796478495: Yay the last leg succeeded. Removing reply runnables ...
1335796478495: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100023
1335796478495: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100023
1335796478495: do not send ack for received final_leg_ack
1335796478495: got new request, requestCounter = 5011016
1335796478497: leader download remote photo latency = 293
1335796478497: new client_show_remotephoto reply with replyCounter 501100023
1335796478497: note down new reply by adding replyCounter=501100023 to HashMap processedReplies
1335796478498: = leader download start 1335796478199 ~ stop 1335796478492
1335796478502: one more getGood: 2
1335796478506: Success! Client getting photo from remote region, showing photo...
1335796478506: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=2 getBad=4 getTimedout=0 getPercent=33%
1335796478506: successful reply for client get photo
1335796478507: Remote photo's length: 4214
1335796478564: Received UDP payload: 3638
1335796478571: inside handleClientRequest. Originator leader of region 2
1335796478571: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796478571: mux: Inside mux Packet.CLIENT_REQUEST
1335796478572: Dispatching Atom PROC_REQUEST 10:11 (2,0)->(2,0)
1335796478572: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335796478572: Note down new request by adding requestCounter=5017124 to HashMap processedRequests
1335796478572: Sending PROC_REQUEST 10:11 (2,0)->(2,0)
1335796478572: got new request, requestCounter = 5017124
1335796478573: Make FirstLeg Ack regardless of new or already-processed requests
1335796478573: The leader sending a First Leg ack to originator client (which id = 5017)
1335796478574: inside sendPacket(Packet p)
1335796478574: mux: I got a CSM packet at a leader 
1335796478579: Sending UDP payload: 4002
1335796478588: inside handleDSMRequest. At requests's remote leader of region 2
1335796478588: removed replies before id 11 from sentReplies of size 0
1335796478590: Inside UPLOAD_PHOTO!!
1335796478593: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335796478593: my_gpinfo.isSuccess is now (should be true): true
1335796478598: Received PROC_REQUEST 10:11 (2,0)->(2,0), replying PROC_REPLY 10:11 (2,0)->(2,0)
1335796478600: Dispatching Atom PROC_REPLY 10:11 (2,0)->(2,0)
1335796478601: Sending UDP payload: 446
1335796478608: mux: I got a CSM packet at a leader 
1335796478610: Sending UDP payload: 989
1335796478611: DSM layer: Going to and from remote region took latency = 39
1335796478611: DSM layer: orig leader sent packet at 1335796478572 ~ received reply from remote leader at 1335796478611
1335796478611: Received PROC_REPLY 10:11 (2,0)->(2,0), handing to UserApp
1335796478611: inside handleDSMReply. Now back in originator leader of region 2
1335796478612: =======================
1335796478612: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796478612: change leader replyCounter to: 24
1335796478612: inside sendReplies of replyCount = 501100024
1335796478612: inside sendReplyRepeatingRunnable for replyCount = 501100024
1335796478612: reply packet contains the success info for UPLOAD_PHOTO
1335796478613: === Finished one round of sending REPLY Packet =======
1335796478613: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796478613: Leader about to send REPLY packet, number: 501100024 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796478613: inside sendPacket(Packet p)
1335796478617: Sending UDP payload: 642
1335796478650: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335796478653: I'm a leader and I successfully saved my client's new photo
1335796478653: now showing in UI the new photo I just saved ... 
1335796478653: the photo length: 2991
1335796478696: end of server show photo aside %%%%%%%%%
1335796478913: =======================
1335796478913: inside sendReplyRepeatingRunnable for replyCount = 501100024
1335796478914: === Finished one round of sending REPLY Packet =======
1335796478914: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796478914: Leader about to send REPLY packet, number: 501100024 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796478914: inside sendPacket(Packet p)
1335796478915: Sending UDP payload: 642
1335796479049: Received UDP payload: 3638
1335796479050: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796479050: mux: Inside mux Packet.CLIENT_REQUEST
1335796479051: Make FirstLeg Ack regardless of new or already-processed requests
1335796479051: Note down new request by adding requestCounter=5017124 to HashMap processedRequests
1335796479051: The leader sending a First Leg ack to originator client (which id = 5017)
1335796479051: discarding repeated requestCounter=5017124, but still send an ack back
1335796479051: inside handleClientRequest. Originator leader of region 2
1335796479051: inside sendPacket(Packet p)
1335796479052: Sending UDP payload: 446
1335796479214: =======================
1335796479214: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796479214: Leader about to send REPLY packet, number: 501100024 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796479214: inside sendReplyRepeatingRunnable for replyCount = 501100024
1335796479215: === Finished one round of sending REPLY Packet =======
1335796479215: inside sendPacket(Packet p)
1335796479216: Sending UDP payload: 642
1335796479438: Received UDP payload: 4656
1335796479444: forwarding disabled, not forwarding packets
1335796479444: mux: GOT CSM_Msg
1335796479515: =======================
1335796479516: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796479516: Leader about to send REPLY packet, number: 501100024 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335796479516: inside sendReplyRepeatingRunnable for replyCount = 501100024
1335796479517: Received UDP payload: 4656
1335796479520: === Finished one round of sending REPLY Packet =======
1335796479520: forwarding disabled, not forwarding packets
1335796479520: inside sendPacket(Packet p)
1335796479520: mux: GOT CSM_Msg
1335796479521: Sending UDP payload: 642
1335796479614: inside sendReplyTimeoutR
1335796479615: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100024
1335796479842: Received UDP payload: 4656
1335796479850: mux: GOT CSM_Msg
1335796479851: forwarding disabled, not forwarding packets
1335796480241: Received UDP payload: 446
1335796480242: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796480242: mux: Inside mux Packet.CLIENT_REQUEST
1335796480243: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100024
1335796480243: Yay the last leg succeeded. Removing reply runnables ...
1335796480243: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100024
1335796480243: do not send ack for received final_leg_ack
1335796480243: got new request, requestCounter = 5017125
1335796480243: inside handleClientRequest. Originator leader of region 2
1335796480243: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100024
1335796480248: Received UDP payload: 446
1335796480250: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100024
1335796480250: Yay the last leg succeeded. Removing reply runnables ...
1335796480250: got new request, requestCounter = 5017126
1335796480250: inside handleClientRequest. Originator leader of region 2
1335796480250: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796480250: mux: Inside mux Packet.CLIENT_REQUEST
1335796480251: do not send ack for received final_leg_ack
1335796480251: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100024
1335796480251: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100024
1335796480265: Received UDP payload: 446
1335796480267: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100024
1335796480267: Yay the last leg succeeded. Removing reply runnables ...
1335796480267: got new request, requestCounter = 5017127
1335796480267: inside handleClientRequest. Originator leader of region 2
1335796480267: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796480267: mux: Inside mux Packet.CLIENT_REQUEST
1335796480267: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100024
1335796480268: do not send ack for received final_leg_ack
1335796480268: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100024
1335796480464: Received UDP payload: 625
1335796480466: mux: Inside mux Packet.CLIENT_REQUEST
1335796480485: Received UDP payload: 625
1335796480490: mux: Inside mux Packet.CLIENT_REQUEST
1335796480620: Received UDP payload: 4656
1335796480623: mux: GOT CSM_Msg
1335796480624: forwarding disabled, not forwarding packets
1335796480757: Received UDP payload: 625
1335796480759: mux: Inside mux Packet.CLIENT_REQUEST
1335796480870: Received UDP payload: 4656
1335796480873: mux: GOT CSM_Msg
1335796480874: forwarding disabled, not forwarding packets
1335796481060: Received UDP payload: 4656
1335796481063: forwarding disabled, not forwarding packets
1335796481063: mux: GOT CSM_Msg
1335796481087: Received UDP payload: 625
1335796481091: mux: Inside mux Packet.CLIENT_REQUEST
1335796481331: Received UDP payload: 4656
1335796481338: mux: GOT CSM_Msg
1335796481339: forwarding disabled, not forwarding packets
1335796481396: Received UDP payload: 625
1335796481403: mux: Inside mux Packet.CLIENT_REQUEST
1335796481404: Received UDP payload: 4656
1335796481421: mux: GOT CSM_Msg
1335796481422: forwarding disabled, not forwarding packets
1335796481777: Received UDP payload: 4656
1335796481784: forwarding disabled, not forwarding packets
1335796481784: mux: GOT CSM_Msg
1335796481859: Received UDP payload: 446
1335796481931: Received UDP payload: 989
1335796481938: mux: GOT CSM_Msg
1335796481939: inside handleDSMRequest. At requests's remote leader of region 2
1335796481939: removed replies before id 9 from sentReplies of size 0
1335796481941: INSIDE SERVER_GET_PHOTO!!!
1335796481958: Received PROC_REQUEST 11:9 (3,0)->(2,0), replying PROC_REPLY 11:9 (2,0)->(3,0)
1335796481959: Dispatching Atom PROC_REPLY 11:9 (2,0)->(3,0)
1335796481960: mux: I got a CSM packet at a leader 
1335796481964: Sending UDP payload: 4002
1335796481967: forwarding disabled, not forwarding packets
1335796481978: Received UDP payload: 4656
1335796481985: forwarding disabled, not forwarding packets
1335796481985: mux: GOT CSM_Msg
1335796482072: Received UDP payload: 446
1335796482085: Received UDP payload: 446
1335796482095: Received UDP payload: 989
1335796482098: mux: GOT CSM_Msg
1335796482099: Received DUPLICATE PROC_REQUEST 11:9 (3,0)->(2,0), replying PROC_REPLY 11:9 (2,0)->(3,0)
1335796482099: removed replies before id 9 from sentReplies of size 1
1335796482100: Dispatching Atom PROC_REPLY 11:9 (2,0)->(3,0)
1335796482100: mux: I got a CSM packet at a leader 
1335796482105: Sending UDP payload: 4002
1335796482108: forwarding disabled, not forwarding packets
1335796482110: inside sendPacket(Packet p)
1335796482111: Sending UDP payload: 446
1335796482112: Received UDP payload: 446
1335796482114: Received UDP payload: 463
1335796482121: Received UDP payload: 446
1335796482141: Received UDP payload: 446
1335796482186: Received UDP payload: 446
1335796482201: Received UDP payload: 989
1335796482204: mux: GOT CSM_Msg
1335796482205: Received DUPLICATE PROC_REQUEST 11:9 (3,0)->(2,0), replying PROC_REPLY 11:9 (2,0)->(3,0)
1335796482205: removed replies before id 9 from sentReplies of size 1
1335796482206: Dispatching Atom PROC_REPLY 11:9 (2,0)->(3,0)
1335796482206: mux: I got a CSM packet at a leader 
1335796482208: Sending UDP payload: 4002
1335796482219: forwarding disabled, not forwarding packets
1335796482287: Received UDP payload: 625
1335796482289: mux: Inside mux Packet.CLIENT_REQUEST
1335796482290: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796482290: got new request, requestCounter = 5004091
1335796482290: inside handleClientRequest. Originator leader of region 2
1335796482290: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796482291: Sending PROC_REQUEST 11:2 (2,0)->(3,0)
1335796482291: Sending to region: 3
1335796482292: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796482292: Make FirstLeg Ack regardless of new or already-processed requests
1335796482292: Note down new request by adding requestCounter=5004091 to HashMap processedRequests
1335796482292: The leader sending a First Leg ack to originator client (which id = 5004)
1335796482293: inside sendPacket(Packet p)
1335796482293: mux: I got a CSM packet at a leader 
1335796482294: Sending UDP payload: 989
1335796482296: forwarding disabled, not forwarding packets
1335796482299: Received UDP payload: 625
1335796482299: Sending UDP payload: 446
1335796482306: Received UDP payload: 625
1335796482308: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796482308: mux: Inside mux Packet.CLIENT_REQUEST
1335796482309: Make FirstLeg Ack regardless of new or already-processed requests
1335796482309: Note down new request by adding requestCounter=5004091 to HashMap processedRequests
1335796482309: The leader sending a First Leg ack to originator client (which id = 5004)
1335796482309: discarding repeated requestCounter=5004091, but still send an ack back
1335796482309: inside handleClientRequest. Originator leader of region 2
1335796482309: inside sendPacket(Packet p)
1335796482310: Make FirstLeg Ack regardless of new or already-processed requests
1335796482310: Note down new request by adding requestCounter=5004091 to HashMap processedRequests
1335796482310: discarding repeated requestCounter=5004091, but still send an ack back
1335796482310: inside handleClientRequest. Originator leader of region 2
1335796482310: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796482310: mux: Inside mux Packet.CLIENT_REQUEST
1335796482311: The leader sending a First Leg ack to originator client (which id = 5004)
1335796482311: inside sendPacket(Packet p)
1335796482312: Sending UDP payload: 446
1335796482319: Received UDP payload: 989
1335796482323: Sending UDP payload: 446
1335796482328: mux: GOT CSM_Msg
1335796482328: removed replies before id 9 from sentReplies of size 1
1335796482329: Received DUPLICATE PROC_REQUEST 11:9 (3,0)->(2,0), replying PROC_REPLY 11:9 (2,0)->(3,0)
1335796482330: Dispatching Atom PROC_REPLY 11:9 (2,0)->(3,0)
1335796482330: mux: I got a CSM packet at a leader 
1335796482331: Sending UDP payload: 4002
1335796482332: forwarding disabled, not forwarding packets
1335796482393: Received UDP payload: 446
1335796482426: Received UDP payload: 989
1335796482430: mux: GOT CSM_Msg
1335796482430: removed replies before id 9 from sentReplies of size 1
1335796482431: Dispatching Atom PROC_REPLY 11:9 (2,0)->(3,0)
1335796482431: Received DUPLICATE PROC_REQUEST 11:9 (3,0)->(2,0), replying PROC_REPLY 11:9 (2,0)->(3,0)
1335796482431: mux: I got a CSM packet at a leader 
1335796482433: Sending UDP payload: 4002
1335796482434: forwarding disabled, not forwarding packets
1335796482620: Received UDP payload: 989
1335796482623: mux: GOT CSM_Msg
1335796482623: removed replies before id 9 from sentReplies of size 1
1335796482624: Dispatching Atom PROC_REPLY 11:9 (2,0)->(3,0)
1335796482624: Received DUPLICATE PROC_REQUEST 11:9 (3,0)->(2,0), replying PROC_REPLY 11:9 (2,0)->(3,0)
1335796482625: mux: I got a CSM packet at a leader 
1335796482626: Sending UDP payload: 4002
1335796482627: forwarding disabled, not forwarding packets
1335796482696: Received UDP payload: 446
1335796482862: Received UDP payload: 989
1335796482867: mux: GOT CSM_Msg
1335796482867: removed replies before id 9 from sentReplies of size 1
1335796482869: Received DUPLICATE PROC_REQUEST 11:9 (3,0)->(2,0), replying PROC_REPLY 11:9 (2,0)->(3,0)
1335796482870: Dispatching Atom PROC_REPLY 11:9 (2,0)->(3,0)
1335796482871: mux: I got a CSM packet at a leader 
1335796482876: Sending UDP payload: 4002
1335796482878: forwarding disabled, not forwarding packets
1335796482926: Received UDP payload: 989
1335796482933: mux: GOT CSM_Msg
1335796482933: removed replies before id 9 from sentReplies of size 1
1335796482934: Dispatching Atom PROC_REPLY 11:9 (2,0)->(3,0)
1335796482934: Received DUPLICATE PROC_REQUEST 11:9 (3,0)->(2,0), replying PROC_REPLY 11:9 (2,0)->(3,0)
1335796482934: mux: I got a CSM packet at a leader 
1335796482935: Sending UDP payload: 4002
1335796482936: forwarding disabled, not forwarding packets
1335796483030: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483030: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483034: mux: I got a CSM packet at a leader 
1335796483036: Sending UDP payload: 989
1335796483037: forwarding disabled, not forwarding packets
1335796483111: Received UDP payload: 989
1335796483115: forwarding disabled, not forwarding packets
1335796483115: mux: GOT CSM_Msg
1335796483126: Received UDP payload: 625
1335796483129: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796483129: mux: Inside mux Packet.CLIENT_REQUEST
1335796483130: Make FirstLeg Ack regardless of new or already-processed requests
1335796483130: Note down new request by adding requestCounter=5004091 to HashMap processedRequests
1335796483130: discarding repeated requestCounter=5004091, but still send an ack back
1335796483130: inside handleClientRequest. Originator leader of region 2
1335796483131: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483131: The leader sending a First Leg ack to originator client (which id = 5004)
1335796483131: inside sendPacket(Packet p)
1335796483132: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483133: mux: I got a CSM packet at a leader 
1335796483136: Sending UDP payload: 989
1335796483137: forwarding disabled, not forwarding packets
1335796483138: Sending UDP payload: 446
1335796483226: Received UDP payload: 989
1335796483230: mux: GOT CSM_Msg
1335796483230: removed replies before id 9 from sentReplies of size 1
1335796483231: Received DUPLICATE PROC_REQUEST 11:9 (3,0)->(2,0), replying PROC_REPLY 11:9 (2,0)->(3,0)
1335796483232: Dispatching Atom PROC_REPLY 11:9 (2,0)->(3,0)
1335796483233: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483233: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483234: mux: I got a CSM packet at a leader 
1335796483236: Sending UDP payload: 989
1335796483237: forwarding disabled, not forwarding packets
1335796483237: mux: I got a CSM packet at a leader 
1335796483240: Sending UDP payload: 4002
1335796483242: forwarding disabled, not forwarding packets
1335796483334: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483335: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483336: mux: I got a CSM packet at a leader 
1335796483338: Sending UDP payload: 989
1335796483339: forwarding disabled, not forwarding packets
1335796483359: Received UDP payload: 625
1335796483364: got new request, requestCounter = 5010104
1335796483364: inside handleClientRequest. Originator leader of region 2
1335796483364: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796483364: mux: Inside mux Packet.CLIENT_REQUEST
1335796483365: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796483366: Sending to region: 0
1335796483367: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(0,0)
1335796483367: Note down new request by adding requestCounter=5010104 to HashMap processedRequests
1335796483367: Sending PROC_REQUEST 11:5 (2,0)->(0,0)
1335796483368: Make FirstLeg Ack regardless of new or already-processed requests
1335796483369: The leader sending a First Leg ack to originator client (which id = 5010)
1335796483371: inside sendPacket(Packet p)
1335796483371: mux: I got a CSM packet at a leader 
1335796483373: Sending UDP payload: 989
1335796483376: forwarding disabled, not forwarding packets
1335796483378: Sending UDP payload: 446
1335796483437: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483438: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483438: mux: I got a CSM packet at a leader 
1335796483442: Sending UDP payload: 989
1335796483443: forwarding disabled, not forwarding packets
1335796483540: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483541: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483542: mux: I got a CSM packet at a leader 
1335796483546: Sending UDP payload: 989
1335796483547: forwarding disabled, not forwarding packets
1335796483643: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483644: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483646: mux: I got a CSM packet at a leader 
1335796483649: Sending UDP payload: 989
1335796483651: forwarding disabled, not forwarding packets
1335796483746: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483747: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483748: mux: I got a CSM packet at a leader 
1335796483752: Sending UDP payload: 989
1335796483753: forwarding disabled, not forwarding packets
1335796483849: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483850: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483851: mux: I got a CSM packet at a leader 
1335796483854: Sending UDP payload: 989
1335796483856: forwarding disabled, not forwarding packets
1335796483952: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483954: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796483955: mux: I got a CSM packet at a leader 
1335796483960: Sending UDP payload: 989
1335796483961: forwarding disabled, not forwarding packets
1335796484055: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796484056: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796484057: mux: I got a CSM packet at a leader 
1335796484059: Sending UDP payload: 989
1335796484060: forwarding disabled, not forwarding packets
1335796484157: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796484158: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796484159: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484159: Retrying PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484160: mux: I got a CSM packet at a leader 
1335796484162: Sending UDP payload: 989
1335796484163: forwarding disabled, not forwarding packets
1335796484164: mux: I got a CSM packet at a leader 
1335796484166: Sending UDP payload: 989
1335796484167: forwarding disabled, not forwarding packets
1335796484260: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796484261: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796484262: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484262: Retrying PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484263: mux: I got a CSM packet at a leader 
1335796484266: Sending UDP payload: 989
1335796484267: forwarding disabled, not forwarding packets
1335796484267: mux: I got a CSM packet at a leader 
1335796484270: Sending UDP payload: 989
1335796484274: forwarding disabled, not forwarding packets
1335796484364: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335796484364: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335796484365: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484365: Retrying PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484370: mux: I got a CSM packet at a leader 
1335796484372: Sending UDP payload: 989
1335796484374: forwarding disabled, not forwarding packets
1335796484374: mux: I got a CSM packet at a leader 
1335796484396: Sending UDP payload: 989
1335796484408: forwarding disabled, not forwarding packets
1335796484467: DSM Layer: Request timed out, send failure PROC_REPLY 11:2 (3,0)->(2,0)
1335796484467: Dispatching Atom PROC_REPLY 11:2 (3,0)->(2,0)
1335796484468: Retrying PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484469: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484469: mux: I got a CSM packet at a leader 
1335796484471: Sending UDP payload: 989
1335796484473: Received PROC_REPLY 11:2 (3,0)->(2,0), handing to UserApp
1335796484473: inside handleDSMReply. Now back in originator leader of region 2
1335796484474: DSM layer timed out, don't log dsm layer latency stuff.
1335796484475: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796484475: change leader replyCounter to: 25
1335796484475: inside sendReplies of replyCount = 501100025
1335796484475: reply packet contains the newest photo/success info from the remote region
1335796484476: =======================
1335796484476: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335796484476: Leader about to send REPLY packet, number: 501100025 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335796484476: inside sendReplyRepeatingRunnable for replyCount = 501100025
1335796484477: === Finished one round of sending REPLY Packet =======
1335796484477: inside sendPacket(Packet p)
1335796484477: mux: I got a CSM packet at a leader 
1335796484483: Sending UDP payload: 989
1335796484488: forwarding disabled, not forwarding packets
1335796484490: Sending UDP payload: 642
1335796484570: Retrying PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484571: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484571: mux: I got a CSM packet at a leader 
1335796484574: Sending UDP payload: 989
1335796484575: forwarding disabled, not forwarding packets
1335796484672: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484672: Retrying PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484673: mux: I got a CSM packet at a leader 
1335796484675: Sending UDP payload: 989
1335796484675: forwarding disabled, not forwarding packets
1335796484773: Retrying PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484774: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484774: mux: I got a CSM packet at a leader 
1335796484776: Sending UDP payload: 989
1335796484777: =======================
1335796484777: forwarding disabled, not forwarding packets
1335796484778: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335796484778: Leader about to send REPLY packet, number: 501100025 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335796484778: inside sendPacket(Packet p)
1335796484778: inside sendReplyRepeatingRunnable for replyCount = 501100025
1335796484779: === Finished one round of sending REPLY Packet =======
1335796484780: Sending UDP payload: 642
1335796484815: Received UDP payload: 989
1335796484818: forwarding disabled, not forwarding packets
1335796484818: mux: GOT CSM_Msg
1335796484868: Received UDP payload: 4395
1335796484871: mux: GOT CSM_Msg
1335796484872: forwarding disabled, not forwarding packets
1335796484875: Retrying PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484876: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484876: mux: I got a CSM packet at a leader 
1335796484878: Sending UDP payload: 989
1335796484879: forwarding disabled, not forwarding packets
1335796484977: Retrying PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484978: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(0,0)
1335796484978: mux: I got a CSM packet at a leader 
1335796484980: Sending UDP payload: 989
1335796484981: forwarding disabled, not forwarding packets
1335796485078: =======================
1335796485078: inside sendReplyRepeatingRunnable for replyCount = 501100025
1335796485079: === Finished one round of sending REPLY Packet =======
1335796485079: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335796485079: Leader about to send REPLY packet, number: 501100025 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335796485079: inside sendPacket(Packet p)
1335796485080: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(0,0)
1335796485080: Retrying PROC_REQUEST 11:5 (2,0)->(0,0)
1335796485082: Sending UDP payload: 642
1335796485082: mux: I got a CSM packet at a leader 
1335796485084: Sending UDP payload: 989
1335796485085: forwarding disabled, not forwarding packets
1335796485173: Received UDP payload: 4816
1335796485177: mux: GOT CSM_Msg
1335796485178: Received PROC_REPLY 11:5 (0,0)->(2,0), handing to UserApp
1335796485179: DSM layer: Going to and from remote region took latency = 1813
1335796485179: DSM layer: orig leader sent packet at 1335796483366 ~ received reply from remote leader at 1335796485179
1335796485179: inside handleDSMReply. Now back in originator leader of region 2
1335796485181: Originator Region=2's Leader (for Client=5010) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796485181: change leader replyCounter to: 26
1335796485182: =======================
1335796485182: inside sendReplies of replyCount = 501100026
1335796485182: inside sendReplyRepeatingRunnable for replyCount = 501100026
1335796485182: reply packet contains the newest photo/success info from the remote region
1335796485183: === Finished one round of sending REPLY Packet =======
1335796485183: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796485183: Leader about to send REPLY packet, number: 501100026 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796485183: inside sendPacket(Packet p)
1335796485185: Sending UDP payload: 4469
1335796485263: Received UDP payload: 4816
1335796485265: Received DUPLICATE PROC_REPLY 11:5 (0,0)->(2,0)
1335796485265: mux: GOT CSM_Msg
1335796485302: Received UDP payload: 446
1335796485303: mux: Inside mux Packet.CLIENT_REQUEST
1335796485304: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100025
1335796485304: Yay the last leg succeeded. Removing reply runnables ...
1335796485304: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100025
1335796485304: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100025
1335796485304: do not send ack for received final_leg_ack
1335796485304: got new request, requestCounter = 5004092
1335796485304: inside handleClientRequest. Originator leader of region 2
1335796485304: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796485370: Received UDP payload: 625
1335796485371: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796485371: mux: Inside mux Packet.CLIENT_REQUEST
1335796485372: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796485372: Sending to region: 0
1335796485372: got new request, requestCounter = 5017128
1335796485372: inside handleClientRequest. Originator leader of region 2
1335796485373: Dispatching Atom PROC_REQUEST 11:6 (2,0)->(0,0)
1335796485373: Make FirstLeg Ack regardless of new or already-processed requests
1335796485373: Note down new request by adding requestCounter=5017128 to HashMap processedRequests
1335796485373: Sending PROC_REQUEST 11:6 (2,0)->(0,0)
1335796485373: The leader sending a First Leg ack to originator client (which id = 5017)
1335796485373: inside sendPacket(Packet p)
1335796485374: mux: I got a CSM packet at a leader 
1335796485375: Sending UDP payload: 989
1335796485375: forwarding disabled, not forwarding packets
1335796485376: Sending UDP payload: 446
1335796485395: Received UDP payload: 625
1335796485396: inside handleClientRequest. Originator leader of region 2
1335796485396: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796485396: mux: Inside mux Packet.CLIENT_REQUEST
1335796485397: Make FirstLeg Ack regardless of new or already-processed requests
1335796485397: Note down new request by adding requestCounter=5017128 to HashMap processedRequests
1335796485397: The leader sending a First Leg ack to originator client (which id = 5017)
1335796485397: discarding repeated requestCounter=5017128, but still send an ack back
1335796485397: inside sendPacket(Packet p)
1335796485398: Sending UDP payload: 446
1335796485484: === Finished one round of sending REPLY Packet =======
1335796485484: =======================
1335796485484: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796485484: Leader about to send REPLY packet, number: 501100026 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796485484: inside sendPacket(Packet p)
1335796485484: inside sendReplyRepeatingRunnable for replyCount = 501100026
1335796485485: Sending UDP payload: 4469
1335796485555: Received UDP payload: 4816
1335796485557: Received DUPLICATE PROC_REPLY 11:5 (0,0)->(2,0)
1335796485557: mux: GOT CSM_Msg
1335796485594: Received UDP payload: 446
1335796485596: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100025
1335796485596: Yay the last leg succeeded. Removing reply runnables ...
1335796485596: got new request, requestCounter = 5004093
1335796485596: inside handleClientRequest. Originator leader of region 2
1335796485596: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796485596: mux: Inside mux Packet.CLIENT_REQUEST
1335796485596: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100025
1335796485597: do not send ack for received final_leg_ack
1335796485597: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100025
1335796485683: Received UDP payload: 4816
1335796485685: Received DUPLICATE PROC_REPLY 11:5 (0,0)->(2,0)
1335796485685: mux: GOT CSM_Msg
1335796485729: Received UDP payload: 446
1335796485730: mux: Inside mux Packet.CLIENT_REQUEST
1335796485731: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100025
1335796485731: Yay the last leg succeeded. Removing reply runnables ...
1335796485731: do not send ack for received final_leg_ack
1335796485731: got new request, requestCounter = 5004094
1335796485731: inside handleClientRequest. Originator leader of region 2
1335796485731: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796485731: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100025
1335796485731: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100025
1335796485785: === Finished one round of sending REPLY Packet =======
1335796485785: =======================
1335796485785: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796485785: Leader about to send REPLY packet, number: 501100026 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796485785: inside sendPacket(Packet p)
1335796485785: inside sendReplyRepeatingRunnable for replyCount = 501100026
1335796485786: Sending UDP payload: 4469
1335796485904: Received UDP payload: 4816
1335796485914: mux: GOT CSM_Msg
1335796485916: Received DUPLICATE PROC_REPLY 11:5 (0,0)->(2,0)
1335796485990: Received UDP payload: 4816
1335796485992: mux: GOT CSM_Msg
1335796485993: Received DUPLICATE PROC_REPLY 11:5 (0,0)->(2,0)
1335796486086: === Finished one round of sending REPLY Packet =======
1335796486086: =======================
1335796486086: I (the leader) was not the originator client (which id = 5010) so I use UDP to send packet back to my nonleader
1335796486086: Leader about to send REPLY packet, number: 501100026 type: 15 Leader in region: (2,0) to Client nodID: 5010
1335796486086: inside sendPacket(Packet p)
1335796486086: inside sendReplyRepeatingRunnable for replyCount = 501100026
1335796486087: Dispatching Atom PROC_REQUEST 11:6 (2,0)->(0,0)
1335796486087: Retrying PROC_REQUEST 11:6 (2,0)->(0,0)
1335796486088: Sending UDP payload: 4469
1335796486089: mux: I got a CSM packet at a leader 
1335796486091: Received UDP payload: 4816
1335796486091: Sending UDP payload: 989
1335796486093: Received DUPLICATE PROC_REPLY 11:5 (0,0)->(2,0)
1335796486093: forwarding disabled, not forwarding packets
1335796486093: mux: GOT CSM_Msg
1335796486183: inside sendReplyTimeoutR
1335796486184: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100026
1335796486187: Retrying PROC_REQUEST 11:6 (2,0)->(0,0)
1335796486188: Dispatching Atom PROC_REQUEST 11:6 (2,0)->(0,0)
1335796486188: mux: I got a CSM packet at a leader 
1335796486189: Sending UDP payload: 989
1335796486190: forwarding disabled, not forwarding packets
1335796486255: Received UDP payload: 4816
1335796486257: DSM layer: Going to and from remote region took latency = 885
1335796486257: DSM layer: orig leader sent packet at 1335796485372 ~ received reply from remote leader at 1335796486257
1335796486257: Received PROC_REPLY 11:6 (0,0)->(2,0), handing to UserApp
1335796486257: inside handleDSMReply. Now back in originator leader of region 2
1335796486257: mux: GOT CSM_Msg
1335796486258: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796486258: change leader replyCounter to: 27
1335796486258: inside sendReplies of replyCount = 501100027
1335796486258: reply packet contains the newest photo/success info from the remote region
1335796486259: === Finished one round of sending REPLY Packet =======
1335796486259: =======================
1335796486259: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796486259: Leader about to send REPLY packet, number: 501100027 type: 15 Leader in region: (2,0) to Client nodID: 5017
1335796486259: inside sendPacket(Packet p)
1335796486259: inside sendReplyRepeatingRunnable for replyCount = 501100027
1335796486260: Sending UDP payload: 4469
1335796486560: =======================
1335796486560: inside sendReplyRepeatingRunnable for replyCount = 501100027
1335796486561: === Finished one round of sending REPLY Packet =======
1335796486561: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796486561: Leader about to send REPLY packet, number: 501100027 type: 15 Leader in region: (2,0) to Client nodID: 5017
1335796486561: inside sendPacket(Packet p)
1335796486562: Sending UDP payload: 4469
1335796486578: Received UDP payload: 625
1335796486580: Make FirstLeg Ack regardless of new or already-processed requests
1335796486580: Note down new request by adding requestCounter=5017128 to HashMap processedRequests
1335796486580: The leader sending a First Leg ack to originator client (which id = 5017)
1335796486580: discarding repeated requestCounter=5017128, but still send an ack back
1335796486580: inside handleClientRequest. Originator leader of region 2
1335796486580: inside sendPacket(Packet p)
1335796486580: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796486580: mux: Inside mux Packet.CLIENT_REQUEST
1335796486581: Sending UDP payload: 446
1335796486861: =======================
1335796486861: inside sendReplyRepeatingRunnable for replyCount = 501100027
1335796486862: === Finished one round of sending REPLY Packet =======
1335796486862: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796486862: Leader about to send REPLY packet, number: 501100027 type: 15 Leader in region: (2,0) to Client nodID: 5017
1335796486862: inside sendPacket(Packet p)
1335796486863: Sending UDP payload: 4469
1335796487097: Received UDP payload: 4816
1335796487099: mux: GOT CSM_Msg
1335796487100: Received DUPLICATE PROC_REPLY 11:6 (0,0)->(2,0)
1335796487110: inside sendPacket(Packet p)
1335796487112: Sending UDP payload: 446
1335796487163: === Finished one round of sending REPLY Packet =======
1335796487163: =======================
1335796487163: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335796487163: Leader about to send REPLY packet, number: 501100027 type: 15 Leader in region: (2,0) to Client nodID: 5017
1335796487163: inside sendPacket(Packet p)
1335796487163: inside sendReplyRepeatingRunnable for replyCount = 501100027
1335796487165: Sending UDP payload: 4469
1335796487258: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100027
1335796487258: inside sendReplyTimeoutR
1335796487413: Received UDP payload: 446
1335796487614: Received UDP payload: 989
1335796487618: forwarding disabled, not forwarding packets
1335796487618: mux: GOT CSM_Msg
1335796487703: Received UDP payload: 4816
1335796487707: forwarding disabled, not forwarding packets
1335796487707: mux: GOT CSM_Msg
1335796487715: Received UDP payload: 446
1335796487833: Received UDP payload: 446
1335796487835: mux: Inside mux Packet.CLIENT_REQUEST
1335796487836: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100027
1335796487836: Yay the last leg succeeded. Removing reply runnables ...
1335796487836: got new request, requestCounter = 5017129
1335796487836: inside handleClientRequest. Originator leader of region 2
1335796487836: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796487837: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100027
1335796487837: do not send ack for received final_leg_ack
1335796487837: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100027
1335796487846: Received UDP payload: 446
1335796487849: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796487849: mux: Inside mux Packet.CLIENT_REQUEST
1335796487850: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100027
1335796487850: Yay the last leg succeeded. Removing reply runnables ...
1335796487850: got new request, requestCounter = 5017130
1335796487850: inside handleClientRequest. Originator leader of region 2
1335796487850: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100027
1335796487851: do not send ack for received final_leg_ack
1335796487851: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100027
1335796487852: Received UDP payload: 446
1335796487854: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100027
1335796487854: got new request, requestCounter = 5017131
1335796487854: inside handleClientRequest. Originator leader of region 2
1335796487854: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796487854: mux: Inside mux Packet.CLIENT_REQUEST
1335796487855: Yay the last leg succeeded. Removing reply runnables ...
1335796487855: do not send ack for received final_leg_ack
1335796487855: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100027
1335796487855: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501100027
1335796488235: Received UDP payload: 446
1335796488241: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796488241: mux: Inside mux Packet.CLIENT_REQUEST
1335796488242: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100026
1335796488242: got new request, requestCounter = 5010105
1335796488242: inside handleClientRequest. Originator leader of region 2
1335796488243: Yay the last leg succeeded. Removing reply runnables ...
1335796488243: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100026
1335796488243: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501100026
1335796488244: do not send ack for received final_leg_ack
1335796490962: areButtonsEnabled --> false
1335796490962: areButtonsEnabled --> false 
1335796490962: canPressButton = TRUE
1335796490962: get picture disableButtonsR
1335796490999: one more getNum: 7
1335796491000: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=2 getBad=4 getTimedout=0 getPercent=28%
1335796491001: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335796491001: change local requestCounter to 17
1335796491008: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5011017 Client in region: 2 Client nodID: 5011
1335796491048: ----------------------------
1335796491048: inside sendRequestPacketRepeatingRunnable for requestCount = 5011017
1335796491049: I'm a leader, my requesting photos packet going to mux directly
1335796491049: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796491049: got new request, requestCounter = 5011017
1335796491049: inside handleClientRequest. Originator leader of region 2
1335796491049: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796491049: mux: Inside mux Packet.CLIENT_REQUEST
1335796491050: Dispatching Atom PROC_REQUEST 11:7 (2,0)->(0,0)
1335796491050: Sending PROC_REQUEST 11:7 (2,0)->(0,0)
1335796491050: Sending to region: 0
1335796491051: Make FirstLeg Ack regardless of new or already-processed requests
1335796491051: Note down new request by adding requestCounter=5011017 to HashMap processedRequests
1335796491051: mux: I got a CSM packet at a leader 
1335796491051: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5011)
1335796491052: Sending UDP payload: 989
1335796491053: --- Finished one round of sending REQUEST Packet ---------
1335796491053: forwarding disabled, not forwarding packets
1335796491086: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335796491223: Received UDP payload: 4816
1335796491225: DSM layer: Going to and from remote region took latency = 175
1335796491225: DSM layer: orig leader sent packet at 1335796491050 ~ received reply from remote leader at 1335796491225
1335796491225: Received PROC_REPLY 11:7 (0,0)->(2,0), handing to UserApp
1335796491225: inside handleDSMReply. Now back in originator leader of region 2
1335796491225: mux: GOT CSM_Msg
1335796491226: Originator Region=2's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796491226: change leader replyCounter to: 28
1335796491226: inside sendReplies of replyCount = 501100028
1335796491226: reply packet contains the newest photo/success info from the remote region
1335796491231: === Finished one round of sending REPLY Packet =======
1335796491231: =======================
1335796491231: I (the leader) was also the originator client (id = 5011) so I hand the packet to my mux directly, without UDP
1335796491231: Leader about to send REPLY packet, number: 501100028 type: 15 Leader in region: (2,0) to Client nodID: 5011
1335796491231: inside sendReplyRepeatingRunnable for replyCount = 501100028
1335796491257: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335796491257: disabling progressdialog due to successful new photo get
1335796491258: Inside _enableButtons
1335796491259: areButtonsEnabled --> true
1335796491259: send final leg ack regardless of new or already-processed reply
1335796491260: inside finalLegAck: change requestCounter to 18
1335796491265: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5011018 Client in region: (2,0) Client nodID: 5011
1335796491266: I'm a leader client, my final_leg packet going to mux directly
1335796491266: inside handleClientRequest. Originator leader of region 2
1335796491266: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796491266: mux: Inside mux Packet.CLIENT_REQUEST
1335796491266: new client_show_remotephoto reply with replyCounter 501100028
1335796491267: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100028
1335796491267: Yay the last leg succeeded. Removing reply runnables ...
1335796491267: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100028
1335796491267: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100028
1335796491267: do not send ack for received final_leg_ack
1335796491267: got new request, requestCounter = 5011018
1335796491267: note down new reply by adding replyCounter=501100028 to HashMap processedReplies
1335796491268: = leader download start 1335796491049 ~ stop 1335796491257
1335796491268: leader download remote photo latency = 208
1335796491270: one more getGood: 3
1335796491271: reg=2 id=5011 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=3 getBad=4 getTimedout=0 getPercent=42%
1335796491272: Remote photo's length: 3805
1335796491272: Success! Client getting photo from remote region, showing photo...
1335796491272: successful reply for client get photo
1335796492110: inside sendPacket(Packet p)
1335796492113: Sending UDP payload: 446
1335796492443: Received UDP payload: 446
1335796492631: Received UDP payload: 446
1335796494337: Received UDP payload: 625
1335796494341: mux: Inside mux Packet.CLIENT_REQUEST
1335796494617: Received UDP payload: 625
1335796494621: mux: Inside mux Packet.CLIENT_REQUEST
1335796494921: Received UDP payload: 625
1335796494925: mux: Inside mux Packet.CLIENT_REQUEST
1335796495221: Received UDP payload: 625
1335796495226: mux: Inside mux Packet.CLIENT_REQUEST
1335796495422: Received UDP payload: 446
1335796496108: Received UDP payload: 446
1335796497112: inside sendPacket(Packet p)
1335796497114: Sending UDP payload: 446
1335796497385: Received UDP payload: 446
1335796497672: Received UDP payload: 446
1335796498152: Received UDP payload: 625
1335796498156: mux: Inside mux Packet.CLIENT_REQUEST
1335796498157: inside handleClientRequest. Originator leader of region 2
1335796498157: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796498158: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335796498158: got new request, requestCounter = 5006154
1335796498160: Sending to region: 2
1335796498162: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(2,0)
1335796498162: Sending PROC_REQUEST 11:12 (2,0)->(2,0)
1335796498163: Make FirstLeg Ack regardless of new or already-processed requests
1335796498163: Note down new request by adding requestCounter=5006154 to HashMap processedRequests
1335796498164: The leader sending a First Leg ack to originator client (which id = 5006)
1335796498164: inside sendPacket(Packet p)
1335796498165: mux: I got a CSM packet at a leader 
1335796498188: Sending UDP payload: 989
1335796498190: inside handleDSMRequest. At requests's remote leader of region 2
1335796498190: removed replies before id 12 from sentReplies of size 0
1335796498192: INSIDE SERVER_GET_PHOTO!!!
1335796498194: dst_region == src_region = 2
1335796498195:  1 self to self atomRequest
1335796498204: Received PROC_REQUEST 11:12 (2,0)->(2,0), replying PROC_REPLY 11:12 (2,0)->(2,0)
1335796498206: Dispatching Atom PROC_REPLY 11:12 (2,0)->(2,0)
1335796498208: Sending UDP payload: 446
1335796498216: mux: I got a CSM packet at a leader 
1335796498220: Sending UDP payload: 4002
1335796498222: DSM layer: Going to and from remote region took latency = 61
1335796498222: DSM layer: orig leader sent packet at 1335796498161 ~ received reply from remote leader at 1335796498222
1335796498222: Received PROC_REPLY 11:12 (2,0)->(2,0), handing to UserApp
1335796498222: inside handleDSMReply. Now back in originator leader of region 2
1335796498223: Originator Region=2's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335796498223: change leader replyCounter to: 29
1335796498223: inside sendReplies of replyCount = 501100029
1335796498223: reply packet contains the newest photo/success info from the remote region
1335796498224: === Finished one round of sending REPLY Packet =======
1335796498224: =======================
1335796498224: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335796498224: Leader about to send REPLY packet, number: 501100029 type: 15 Leader in region: (2,0) to Client nodID: 5006
1335796498224: inside sendPacket(Packet p)
1335796498224: inside sendReplyRepeatingRunnable for replyCount = 501100029
1335796498225: Sending UDP payload: 3655
1335796498478: Received UDP payload: 446
1335796498480: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501100029
1335796498480: Yay the last leg succeeded. Removing reply runnables ...
1335796498480: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501100029
1335796498480: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501100029
1335796498480: got new request, requestCounter = 5006155
1335796498480: inside handleClientRequest. Originator leader of region 2
1335796498480: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335796498480: mux: Inside mux Packet.CLIENT_REQUEST
1335796498481: do not send ack for received final_leg_ack
1335796499678: Received UDP payload: 446
1335796500007: Received UDP payload: 446
1335796500288: Received UDP payload: 446
1335796500314: Received UDP payload: 446
1335796500594: Received UDP payload: 446
1335796500605: Received UDP payload: 446
1335796501201: Received UDP payload: 446
1335796502112: inside sendPacket(Packet p)
1335796502114: Sending UDP payload: 446
1335796502386: Received UDP payload: 446
1335796507014: Received UDP payload: 446
1335796507112: inside sendPacket(Packet p)
1335796507120: Sending UDP payload: 446
1335796507396: Received UDP payload: 446
1335796507994: Received UDP payload: 446
1335796509787: Received UDP payload: 446
1335796512119: inside sendPacket(Packet p)
1335796512122: Sending UDP payload: 446
1335796512402: Received UDP payload: 446
1335796512623: Received UDP payload: 446
1335796514777: Received UDP payload: 446
1335796517119: inside sendPacket(Packet p)
1335796517122: Sending UDP payload: 446
1335796517391: Received UDP payload: 446
1335796517630: Received UDP payload: 446
1335796519782: Received UDP payload: 446
1335796522121: inside sendPacket(Packet p)
1335796522130: Sending UDP payload: 446
1335796522636: Received UDP payload: 446
1335796524785: Received UDP payload: 446
1335796526331: Received UDP payload: 989
1335796526340: mux: GOT CSM_Msg
1335796526341: forwarding disabled, not forwarding packets
1335796527132: inside sendPacket(Packet p)
1335796527136: Sending UDP payload: 446
1335796527405: Received UDP payload: 446
1335796527642: Received UDP payload: 446
1335796529782: Received UDP payload: 446
1335796532133: inside sendPacket(Packet p)
1335796532136: Sending UDP payload: 446
1335796532394: Received UDP payload: 446
1335796532673: Received UDP payload: 446
1335796534785: Received UDP payload: 446
1335796537134: inside sendPacket(Packet p)
1335796537137: Sending UDP payload: 446
1335796537409: Received UDP payload: 446
1335796537693: Received UDP payload: 446
1335796539800: Received UDP payload: 446
1335796542136: inside sendPacket(Packet p)
1335796542139: Sending UDP payload: 446
1335796542412: Received UDP payload: 446
1335796542677: Received UDP payload: 446
1335796544788: Received UDP payload: 446
1335796547137: inside sendPacket(Packet p)
1335796547146: Sending UDP payload: 446
1335796547415: Received UDP payload: 446
1335796547695: Received UDP payload: 446
1335796549788: Received UDP payload: 446
1335796552149: inside sendPacket(Packet p)
1335796552161: Sending UDP payload: 446
1335796552414: Received UDP payload: 446
1335796554803: Received UDP payload: 446
1335796557164: inside sendPacket(Packet p)
1335796557167: Sending UDP payload: 446
1335796557416: Received UDP payload: 446
1335796559817: Received UDP payload: 446
1335796562164: inside sendPacket(Packet p)
1335796562168: Sending UDP payload: 446
1335796562436: Received UDP payload: 446
1335796564821: Received UDP payload: 446
1335796567166: inside sendPacket(Packet p)
1335796567169: Sending UDP payload: 446
1335796567424: Received UDP payload: 446
1335796572166: inside sendPacket(Packet p)
1335796572167: Sending UDP payload: 446
1335796572420: Received UDP payload: 446
1335796574795: Received UDP payload: 446
1335796577167: inside sendPacket(Packet p)
1335796577181: Sending UDP payload: 446
1335796577422: Received UDP payload: 446
1335796579805: Received UDP payload: 446
1335796582182: inside sendPacket(Packet p)
1335796582191: Sending UDP payload: 446
1335796585489: HI I'm in ONPAUSE()
1335796587141: inside onDestroy()
