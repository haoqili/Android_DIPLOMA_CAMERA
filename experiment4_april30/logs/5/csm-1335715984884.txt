1335715984888: *** Opened log file for writing ***
1335715984889: Android build: SAMSUNG-SGH-I717
1335715984890: NET_NAME set to: eth0
1335715984892: starting Mux with id = -1
1335715984895: areButtonsEnabled --> true
1335715984897: *** Application started ***
1335715984898: HI I'm in ONRESUME()
1335715984902: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1335715984899: mux: Mux.java run() beginning -------------
1335715984912: mux: Mux.java's nodeId is5004
1335715984912: mux: starting vncDaemon ........
1335715984916: mux: vncDaemon started
1335715984914: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1335715984917: VCoreDaemon.java onStart() ....
1335715984918: started, mId = 5004
1335715984918: VCoreDaemon.java inside stateTransition ..........
1335715984918: removing leaderRequestRetryR because I'm doing a stateTransition
1335715984919: ..... VCoreDaemon.java out of bounds
1335715984919: region (-1, -1) out of bounds, dormant
1335715984919: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335715996916: Received UDP payload: 446
1335715997248: Received UDP payload: 446
1335715997512: Received UDP payload: 446
1335715997818: Received UDP payload: 446
1335715999102: Received UDP payload: 22318
1335715999106: ignoring leader_reply that's not for me
1335716000803: Received UDP payload: 446
1335716001206: Received UDP payload: 446
1335716001504: Received UDP payload: 446
1335716001812: Received UDP payload: 446
1335716002107: Received UDP payload: 446
1335716003105: Received UDP payload: 22318
1335716003107: ignoring leader_reply that's not for me
1335716004662: Received UDP payload: 446
1335716005185: Received UDP payload: 446
1335716005500: Received UDP payload: 446
1335716005785: Received UDP payload: 446
1335716005836: Received UDP payload: 446
1335716006115: Received UDP payload: 446
1335716007359: Received UDP payload: 22318
1335716007362: ignoring leader_reply that's not for me
1335716007373: Received UDP payload: 446
1335716009680: Received UDP payload: 446
1335716010813: Received UDP payload: 446
1335716011734: Received UDP payload: 4811
1335716011760: mux: GOT CSM_Msg
1335716011777: Received UDP payload: 989
1335716011803: mux: GOT CSM_Msg
1335716012104: Received UDP payload: 446
1335716014699: Received UDP payload: 446
1335716015816: Received UDP payload: 446
1335716017106: Received UDP payload: 446
1335716019720: Received UDP payload: 446
1335716020816: Received UDP payload: 446
1335716022105: Received UDP payload: 446
1335716024081: Received UDP payload: 989
1335716024087: mux: GOT CSM_Msg
1335716024145: Received UDP payload: 4811
1335716024149: mux: GOT CSM_Msg
1335716024725: Received UDP payload: 446
1335716025896: Received UDP payload: 446
1335716027106: Received UDP payload: 446
1335716029723: Received UDP payload: 446
1335716030854: Received UDP payload: 446
1335716032106: Received UDP payload: 446
1335716034722: Received UDP payload: 446
1335716035828: Received UDP payload: 446
1335716037108: Received UDP payload: 446
1335716039727: Received UDP payload: 446
1335716040830: Received UDP payload: 446
1335716041999: moving from region (-1,-1), to (2,0)
1335716041999: VCoreDaemon.java inside stateTransition ..........
1335716041999: removing leaderRequestRetryR because I'm doing a stateTransition
1335716041999: ..... VCoreDaemon.java targetState = JOINING
1335716041999: posting leaderRequestRetryR because I'm joining
1335716042000: sending LEADER_REQUEST
1335716042000: inside sendPacket(Packet p)
1335716042000: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335716042010: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335716042019: Sending UDP payload: 446
1335716042106: Received UDP payload: 446
1335716042301: sending LEADER_REQUEST
1335716042302: inside sendPacket(Packet p)
1335716042302: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335716042308: Sending UDP payload: 446
1335716042603: sending LEADER_REQUEST
1335716042603: inside sendPacket(Packet p)
1335716042603: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335716042606: Sending UDP payload: 446
1335716042904: sending LEADER_REQUEST
1335716042905: inside sendPacket(Packet p)
1335716042906: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335716042910: Sending UDP payload: 446
1335716043010: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335716043011: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335716043011: VCoreDaemon.java inside stateTransition ..........
1335716043011: removing leaderRequestRetryR because I'm doing a stateTransition
1335716043011: ..... VCoreDaemon.java targetState = LEADER
1335716043011: trying to take leadership to the cloud
1335716044307: cloud accepted leadership request, no csm data included.
1335716044321: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1335716044322: *** Starting CSM Layer ***
1335716044323: *** CSM Layer starting with cache disabled ***
1335716044323: *** CSM Layer starting with forwarding disabled ***
1335716044347: DSMLayer starting
1335716044350: UserApp started.
1335716044352: UserApp for Camera Diploma initialized and waiting for requests.
1335716044673: inside sendPacket(Packet p)
1335716044694: Sending UDP payload: 22933
1335716044700: now fully up as LEADER (id=5004) of (2,0)
1335716044704: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335716044732: Received UDP payload: 446
1335716044933: inside sendPacket(Packet p)
1335716044934: Sending UDP payload: 446
1335716045832: Received UDP payload: 446
1335716047109: Received UDP payload: 446
1335716047455: Received UDP payload: 989
1335716047461: mux: GOT CSM_Msg
1335716047462: removed replies before id 0 from sentReplies of size 0
1335716047462: inside handleDSMRequest. At requests's remote leader of region 2
1335716047464: INSIDE SERVER_GET_PHOTO!!!
1335716047464: I don't have any photos yet
1335716047465: Received PROC_REQUEST 11:0 (0,0)->(2,0), replying PROC_REPLY 11:0 (2,0)->(0,0)
1335716047466: Dispatching Atom PROC_REPLY 11:0 (2,0)->(0,0)
1335716047466: mux: I got a CSM packet at a leader 

1335716047468: Sending UDP payload: 989
1335716047482: forwarding disabled, not forwarding packets
1335716048844: canPressButton = TRUE
1335716048844: areButtonsEnabled --> false
1335716048844: disabling buttons ...
1335716048845: took picture disableButtonsR
1335716048845: areButtonsEnabled --> false
1335716048967: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335716048968: Clicked take picture button ..
1335716049725: Received UDP payload: 446
1335716049933: inside sendPacket(Packet p)
1335716049936: Sending UDP payload: 446
1335716050429: inside HandlePictureStorage onPictureTaken()
1335716050430: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335716050818: Picture successfully taken, ORIG BYTE LENGTH = 2455221
1335716051215: Our new height x width: 306 x 408
1335716051216: Show photo from handle my camera take
1335716051218: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335716051218: change local requestCounter to 1
1335716051262: BYTE SIZE AFTER COMPRESSION: 4944
1335716051278: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5004001 Client in region: 2 Client nodID: 5004
1335716050844: Received UDP payload: 446
1335716051362: ----------------------------
1335716051363: inside sendRequestPacketRepeatingRunnable for requestCount = 5004001
1335716051363: I'm a leader, my requesting photos packet going to mux directly
1335716051379: --- Finished one round of sending REQUEST Packet ---------
1335716051364: mux: Inside mux Packet.CLIENT_REQUEST
1335716051364: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716051407: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716051364: inside handleClientRequest. Originator leader of region 2
1335716051364: got new request, requestCounter = 5004001
1335716051364: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335716051365: Sending PROC_REQUEST 10:0 (2,0)->(2,0)
1335716051365: Dispatching Atom PROC_REQUEST 10:0 (2,0)->(2,0)
1335716051366: mux: I got a CSM packet at a leader 

1335716051444: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335716051447: I'm a leader and I successfully saved my client's new photo
1335716051448: now showing in UI the new photo I just saved ... 
1335716051448: the photo length: 4944
1335716051490: end of server show photo aside %%%%%%%%%
1335716051365: Note down new request by adding requestCounter=5004001 to HashMap processedRequests
1335716051366: Make FirstLeg Ack regardless of new or already-processed requests
1335716051366: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716051378: Sending UDP payload: 5955
1335716051382: removed replies before id 0 from sentReplies of size 0
1335716051383: inside handleDSMRequest. At requests's remote leader of region 2
1335716051386: Inside UPLOAD_PHOTO!!
1335716051414: my_gpinfo.isSuccess is now (should be true): true
1335716051414: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335716051416: Received PROC_REQUEST 10:0 (2,0)->(2,0), replying PROC_REPLY 10:0 (2,0)->(2,0)
1335716051416: Dispatching Atom PROC_REPLY 10:0 (2,0)->(2,0)
1335716051417: mux: I got a CSM packet at a leader 

1335716051497: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335716051497: disabling progressdialog due to successful new photo upload
1335716051498: Inside _enableButtons
1335716051498: areButtonsEnabled --> true
1335716051499: send final leg ack regardless of new or already-processed reply
1335716051499: inside finalLegAck: change requestCounter to 2
1335716051500: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004002 Client in region: (2,0) Client nodID: 5004
1335716051500: I'm a leader client, my final_leg packet going to mux directly
1335716051504: new client_upload_photo_ack reply with replyCounter 500400001
1335716051505: note down new reply by adding replyCounter=500400001 to HashMap processedReplies
1335716051506: leader upload new photo latency = 133
1335716051507: = leader upload start 1335716051364 ~ stop 1335716051497
1335716051510: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335716051511: SUCCESS Client now knows saving photo on its leader succeeded
1335716051418: Sending UDP payload: 989
1335716051422: Received PROC_REPLY 10:0 (2,0)->(2,0), handing to UserApp
1335716051423: inside handleDSMReply. Now back in originator leader of region 2
1335716051424: DSM layer: Going to and from remote region took latency = 59
1335716051424: DSM layer: orig leader sent packet at 1335716051364 ~ received reply from remote leader at 1335716051423
1335716051425: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716051425: change leader replyCounter to: 1
1335716051425: reply packet contains the success info for UPLOAD_PHOTO
1335716051426: inside sendReplies of replyCount = 500400001
1335716051426: =======================
1335716051426: inside sendReplyRepeatingRunnable for replyCount = 500400001
1335716051426: Leader about to send REPLY packet, number: 500400001 type: 16 Leader in region: (2,0) to Client nodID: 5004
1335716051427: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716051427: === Finished one round of sending REPLY Packet =======
1335716051501: mux: Inside mux Packet.CLIENT_REQUEST
1335716051501: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716051501: inside handleClientRequest. Originator leader of region 2
1335716051501: got new request, requestCounter = 5004002
1335716051501: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400001
1335716051501: Yay the last leg succeeded. Removing reply runnables ...
1335716051501: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400001
1335716051502: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400001
1335716051502: do not send ack for received final_leg_ack
1335716052108: Received UDP payload: 446
1335716052533: Received UDP payload: 989
1335716052563: mux: GOT CSM_Msg
1335716052564: removed replies before id 1 from sentReplies of size 0
1335716052565: inside handleDSMRequest. At requests's remote leader of region 2
1335716052593: INSIDE SERVER_GET_PHOTO!!!
1335716052610: Received PROC_REQUEST 11:1 (0,0)->(2,0), replying PROC_REPLY 11:1 (2,0)->(0,0)
1335716052610: Dispatching Atom PROC_REPLY 11:1 (2,0)->(0,0)
1335716052611: mux: I got a CSM packet at a leader 

1335716052617: Sending UDP payload: 5955
1335716052618: forwarding disabled, not forwarding packets
1335716052936: Received UDP payload: 3717
1335716052939: mux: GOT CSM_Msg
1335716052939: forwarding disabled, not forwarding packets
1335716052958: Received UDP payload: 989
1335716052962: mux: GOT CSM_Msg
1335716052962: forwarding disabled, not forwarding packets
1335716053724: Received UDP payload: 3717
1335716053751: mux: GOT CSM_Msg
1335716053751: forwarding disabled, not forwarding packets
1335716053766: Received UDP payload: 989
1335716053787: mux: GOT CSM_Msg
1335716053787: forwarding disabled, not forwarding packets
1335716053943: Received UDP payload: 463
1335716054736: Received UDP payload: 446
1335716054934: inside sendPacket(Packet p)
1335716054950: Sending UDP payload: 446
1335716055726: Received UDP payload: 463
1335716057112: Received UDP payload: 446
1335716057185: Received UDP payload: 989
1335716057192: mux: GOT CSM_Msg
1335716057192: forwarding disabled, not forwarding packets
1335716057253: Received UDP payload: 4811
1335716057262: mux: GOT CSM_Msg
1335716057263: forwarding disabled, not forwarding packets
1335716057682: Received UDP payload: 625
1335716057703: mux: Inside mux Packet.CLIENT_REQUEST
1335716057704: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716057704: inside handleClientRequest. Originator leader of region 2
1335716057705: got new request, requestCounter = 5002005
1335716057705: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716057708: Sending to region: 1
1335716057709: Sending PROC_REQUEST 11:0 (2,0)->(1,0)
1335716057730: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716057761: mux: I got a CSM packet at a leader 

1335716057743: Note down new request by adding requestCounter=5002005 to HashMap processedRequests
1335716057746: Make FirstLeg Ack regardless of new or already-processed requests
1335716057747: The leader sending a First Leg ack to originator client (which id = 5002)
1335716057747: inside sendPacket(Packet p)
1335716057762: Sending UDP payload: 989
1335716057763: forwarding disabled, not forwarding packets
1335716057765: Sending UDP payload: 446
1335716057832: Received UDP payload: 989
1335716057835: mux: GOT CSM_Msg
1335716057836: forwarding disabled, not forwarding packets
1335716057968: Received UDP payload: 446
1335716057970: heard LEADER_REQUEST from node 5001, responding LEADER_REPLY
1335716058080: inside sendPacket(Packet p)
1335716058082: Sending UDP payload: 33604
1335716058292: Received UDP payload: 446
1335716058294: heard LEADER_REQUEST from node 5001, responding LEADER_REPLY
1335716058423: inside sendPacket(Packet p)
1335716058425: Sending UDP payload: 33604
1335716058434: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058435: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058435: mux: I got a CSM packet at a leader 

1335716058437: Sending UDP payload: 989
1335716058438: forwarding disabled, not forwarding packets
1335716058546: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058546: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058549: mux: I got a CSM packet at a leader 

1335716058585: Sending UDP payload: 989
1335716058587: forwarding disabled, not forwarding packets
1335716058647: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058648: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058648: mux: I got a CSM packet at a leader 

1335716058648: Received UDP payload: 989
1335716058695: mux: GOT CSM_Msg
1335716058694: Sending UDP payload: 989
1335716058695: forwarding disabled, not forwarding packets
1335716058695: forwarding disabled, not forwarding packets
1335716058751: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058752: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058753: mux: I got a CSM packet at a leader 

1335716058754: Sending UDP payload: 989
1335716058754: forwarding disabled, not forwarding packets
1335716058769: Received UDP payload: 989
1335716058778: mux: GOT CSM_Msg
1335716058778: forwarding disabled, not forwarding packets
1335716058856: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058857: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058857: mux: I got a CSM packet at a leader 

1335716058859: Sending UDP payload: 989
1335716058860: forwarding disabled, not forwarding packets
1335716058861: Received UDP payload: 989
1335716058866: mux: GOT CSM_Msg
1335716058866: forwarding disabled, not forwarding packets
1335716058958: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058959: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716058959: mux: I got a CSM packet at a leader 

1335716058961: Sending UDP payload: 989
1335716058962: forwarding disabled, not forwarding packets
1335716058963: Received UDP payload: 989
1335716058968: mux: GOT CSM_Msg
1335716058968: forwarding disabled, not forwarding packets
1335716059060: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059061: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059063: mux: I got a CSM packet at a leader 

1335716059066: Sending UDP payload: 989
1335716059067: forwarding disabled, not forwarding packets
1335716059070: Received UDP payload: 989
1335716059077: mux: GOT CSM_Msg
1335716059077: forwarding disabled, not forwarding packets
1335716059141: Received UDP payload: 625
1335716059144: mux: Inside mux Packet.CLIENT_REQUEST
1335716059144: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716059144: inside handleClientRequest. Originator leader of region 2
1335716059144: got new request, requestCounter = 5001003
1335716059145: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716059147: Sending to region: 1
1335716059147: Sending PROC_REQUEST 11:1 (2,0)->(1,0)
1335716059148: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716059150: mux: I got a CSM packet at a leader 

1335716059148: Note down new request by adding requestCounter=5001003 to HashMap processedRequests
1335716059149: Make FirstLeg Ack regardless of new or already-processed requests
1335716059149: The leader sending a First Leg ack to originator client (which id = 5001)
1335716059149: inside sendPacket(Packet p)
1335716059155: Sending UDP payload: 989
1335716059156: forwarding disabled, not forwarding packets
1335716059158: Sending UDP payload: 446
1335716059162: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059163: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059163: mux: I got a CSM packet at a leader 

1335716059166: Sending UDP payload: 989
1335716059168: forwarding disabled, not forwarding packets
1335716059193: Received UDP payload: 989
1335716059198: mux: GOT CSM_Msg
1335716059198: forwarding disabled, not forwarding packets
1335716059264: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059264: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059266: mux: I got a CSM packet at a leader 

1335716059267: Received UDP payload: 989
1335716059267: Sending UDP payload: 989
1335716059268: forwarding disabled, not forwarding packets
1335716059272: mux: GOT CSM_Msg
1335716059272: forwarding disabled, not forwarding packets
1335716059366: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059367: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059369: mux: I got a CSM packet at a leader 

1335716059373: Sending UDP payload: 989
1335716059374: forwarding disabled, not forwarding packets
1335716059375: Received UDP payload: 989
1335716059385: mux: GOT CSM_Msg
1335716059386: forwarding disabled, not forwarding packets
1335716059468: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059469: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059470: mux: I got a CSM packet at a leader 

1335716059470: Received UDP payload: 989
1335716059477: Sending UDP payload: 989
1335716059477: forwarding disabled, not forwarding packets
1335716059479: mux: GOT CSM_Msg
1335716059479: forwarding disabled, not forwarding packets
1335716059523: canPressButton = TRUE
1335716059525: areButtonsEnabled --> false 
1335716059527: get picture disableButtonsR
1335716059527: areButtonsEnabled --> false
1335716059559: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1335716059559: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335716059560: change local requestCounter to 3
1335716059564: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004003 Client in region: 2 Client nodID: 5004
1335716059595: ----------------------------
1335716059596: inside sendRequestPacketRepeatingRunnable for requestCount = 5004003
1335716059596: I'm a leader, my requesting photos packet going to mux directly
1335716059597: --- Finished one round of sending REQUEST Packet ---------
1335716059571: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059572: Received UDP payload: 989
1335716059579: mux: GOT CSM_Msg
1335716059579: forwarding disabled, not forwarding packets
1335716059572: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059580: mux: I got a CSM packet at a leader 

1335716059584: Sending UDP payload: 989
1335716059585: forwarding disabled, not forwarding packets
1335716059597: mux: Inside mux Packet.CLIENT_REQUEST
1335716059597: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716059642: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716059598: inside handleClientRequest. Originator leader of region 2
1335716059598: got new request, requestCounter = 5004003
1335716059598: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716059599: Sending to region: 1
1335716059600: Sending PROC_REQUEST 11:2 (2,0)->(1,0)
1335716059605: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716059607: mux: I got a CSM packet at a leader 

1335716059606: Note down new request by adding requestCounter=5004003 to HashMap processedRequests
1335716059606: Make FirstLeg Ack regardless of new or already-processed requests
1335716059606: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716059611: Sending UDP payload: 989
1335716059612: forwarding disabled, not forwarding packets
1335716059675: Received UDP payload: 989
1335716059679: mux: GOT CSM_Msg
1335716059679: forwarding disabled, not forwarding packets
1335716059681: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059682: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059683: mux: I got a CSM packet at a leader 

1335716059684: Sending UDP payload: 989
1335716059685: forwarding disabled, not forwarding packets
1335716059777: Received UDP payload: 989
1335716059781: mux: GOT CSM_Msg
1335716059781: forwarding disabled, not forwarding packets
1335716059784: Retrying PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059785: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(1,0)
1335716059785: mux: I got a CSM packet at a leader 

1335716059787: Sending UDP payload: 989
1335716059788: forwarding disabled, not forwarding packets
1335716059878: Received UDP payload: 989
1335716059884: mux: GOT CSM_Msg
1335716059884: forwarding disabled, not forwarding packets
1335716059886: DSM Layer: Request timed out, send failure PROC_REPLY 11:0 (1,0)->(2,0)
1335716059887: Dispatching Atom PROC_REPLY 11:0 (1,0)->(2,0)
1335716059888: mux: I got a CSM packet at a leader 

1335716059888: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716059889: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716059897: mux: I got a CSM packet at a leader 

1335716059889: Sending UDP payload: 989
1335716059890: Received PROC_REPLY 11:0 (1,0)->(2,0), handing to UserApp
1335716059890: inside handleDSMReply. Now back in originator leader of region 2
1335716059891: DSM layer timed out, don't log dsm layer latency stuff.
1335716059892: Originator Region=2's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716059892: change leader replyCounter to: 2
1335716059892: reply packet contains the newest photo/success info from the remote region
1335716059893: inside sendReplies of replyCount = 500400002
1335716059893: =======================
1335716059895: inside sendReplyRepeatingRunnable for replyCount = 500400002
1335716059895: Leader about to send REPLY packet, number: 500400002 type: 15 Leader in region: (2,0) to Client nodID: 5002
1335716059895: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1335716059895: inside sendPacket(Packet p)
1335716059895: === Finished one round of sending REPLY Packet =======
1335716059900: Sending UDP payload: 989
1335716059902: forwarding disabled, not forwarding packets
1335716059907: Sending UDP payload: 642
1335716059934: inside sendPacket(Packet p)
1335716059935: Sending UDP payload: 446
1335716059948: Received UDP payload: 446
1335716059950: mux: Inside mux Packet.CLIENT_REQUEST
1335716059950: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716059950: inside handleClientRequest. Originator leader of region 2
1335716059950: got new request, requestCounter = 5002006
1335716059950: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400002
1335716059950: Yay the last leg succeeded. Removing reply runnables ...
1335716059950: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400002
1335716059951: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400002
1335716059951: do not send ack for received final_leg_ack
1335716059980: Received UDP payload: 989
1335716059990: mux: GOT CSM_Msg
1335716059990: forwarding disabled, not forwarding packets
1335716059992: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716059992: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716059996: mux: I got a CSM packet at a leader 

1335716060000: Sending UDP payload: 989
1335716060001: forwarding disabled, not forwarding packets
1335716060098: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060098: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060098: mux: I got a CSM packet at a leader 

1335716060100: Sending UDP payload: 989
1335716060100: forwarding disabled, not forwarding packets
1335716060199: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060199: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060200: mux: I got a CSM packet at a leader 

1335716060202: Sending UDP payload: 989
1335716060204: forwarding disabled, not forwarding packets
1335716060300: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060301: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060302: mux: I got a CSM packet at a leader 

1335716060307: Sending UDP payload: 989
1335716060308: forwarding disabled, not forwarding packets
1335716060403: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060404: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060404: mux: I got a CSM packet at a leader 

1335716060404: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060405: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060409: mux: I got a CSM packet at a leader 

1335716060408: Sending UDP payload: 989
1335716060409: forwarding disabled, not forwarding packets
1335716060415: Sending UDP payload: 989
1335716060416: forwarding disabled, not forwarding packets
1335716060506: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060506: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060508: mux: I got a CSM packet at a leader 

1335716060507: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060507: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060513: mux: I got a CSM packet at a leader 

1335716060510: Sending UDP payload: 989
1335716060512: forwarding disabled, not forwarding packets
1335716060518: Sending UDP payload: 989
1335716060520: forwarding disabled, not forwarding packets
1335716060565: Received UDP payload: 625
1335716060567: mux: Inside mux Packet.CLIENT_REQUEST
1335716060568: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716060568: inside handleClientRequest. Originator leader of region 2
1335716060568: got new request, requestCounter = 5002007
1335716060568: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716060569: Sending to region: 1
1335716060570: Sending PROC_REQUEST 11:3 (2,0)->(1,0)
1335716060571: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716060573: mux: I got a CSM packet at a leader 

1335716060572: Note down new request by adding requestCounter=5002007 to HashMap processedRequests
1335716060572: Make FirstLeg Ack regardless of new or already-processed requests
1335716060572: The leader sending a First Leg ack to originator client (which id = 5002)
1335716060572: inside sendPacket(Packet p)
1335716060575: Sending UDP payload: 989
1335716060577: forwarding disabled, not forwarding packets
1335716060579: Sending UDP payload: 446
1335716060609: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060609: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060610: mux: I got a CSM packet at a leader 

1335716060610: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060611: Sending UDP payload: 989
1335716060612: forwarding disabled, not forwarding packets
1335716060613: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060614: mux: I got a CSM packet at a leader 

1335716060616: Sending UDP payload: 989
1335716060616: forwarding disabled, not forwarding packets
1335716060715: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060716: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060717: mux: I got a CSM packet at a leader 

1335716060717: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060718: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060723: mux: I got a CSM packet at a leader 

1335716060723: Sending UDP payload: 989
1335716060723: forwarding disabled, not forwarding packets
1335716060725: Sending UDP payload: 989
1335716060726: forwarding disabled, not forwarding packets
1335716060820: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060821: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060824: mux: I got a CSM packet at a leader 

1335716060822: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060825: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060827: mux: I got a CSM packet at a leader 

1335716060826: Sending UDP payload: 989
1335716060827: forwarding disabled, not forwarding packets
1335716060828: Sending UDP payload: 989
1335716060832: forwarding disabled, not forwarding packets
1335716060931: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060932: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716060934: mux: I got a CSM packet at a leader 

1335716060933: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060935: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716060935: Sending UDP payload: 989
1335716060939: mux: I got a CSM packet at a leader 

1335716060938: forwarding disabled, not forwarding packets
1335716060946: Sending UDP payload: 989
1335716060948: forwarding disabled, not forwarding packets
1335716061037: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061038: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061039: mux: I got a CSM packet at a leader 

1335716061041: Sending UDP payload: 989
1335716061041: forwarding disabled, not forwarding packets
1335716061042: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716061043: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716061044: mux: I got a CSM packet at a leader 

1335716061046: Sending UDP payload: 989
1335716061047: forwarding disabled, not forwarding packets
1335716061144: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061145: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061147: mux: I got a CSM packet at a leader 

1335716061145: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716061146: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716061150: mux: I got a CSM packet at a leader 

1335716061148: Sending UDP payload: 989
1335716061150: forwarding disabled, not forwarding packets
1335716061153: Sending UDP payload: 989
1335716061154: forwarding disabled, not forwarding packets
1335716061247: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061247: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061249: mux: I got a CSM packet at a leader 

1335716061248: Retrying PROC_REQUEST 11:1 (2,0)->(1,0)
1335716061248: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(1,0)
1335716061253: mux: I got a CSM packet at a leader 

1335716061250: Sending UDP payload: 989
1335716061253: forwarding disabled, not forwarding packets
1335716061258: Sending UDP payload: 989
1335716061259: forwarding disabled, not forwarding packets
1335716061349: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061349: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061350: mux: I got a CSM packet at a leader 

1335716061350: DSM Layer: Request timed out, send failure PROC_REPLY 11:1 (1,0)->(2,0)
1335716061356: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716061366: mux: I got a CSM packet at a leader 

1335716061357: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061357: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061397: mux: I got a CSM packet at a leader 

1335716061364: Sending UDP payload: 989
1335716061365: forwarding disabled, not forwarding packets
1335716061372: Sending UDP payload: 989
1335716061375: Received PROC_REPLY 11:1 (1,0)->(2,0), handing to UserApp
1335716061376: inside handleDSMReply. Now back in originator leader of region 2
1335716061377: DSM layer timed out, don't log dsm layer latency stuff.
1335716061381: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716061382: change leader replyCounter to: 3
1335716061382: reply packet contains the newest photo/success info from the remote region
1335716061383: inside sendReplies of replyCount = 500400003
1335716061385: =======================
1335716061386: inside sendReplyRepeatingRunnable for replyCount = 500400003
1335716061386: Leader about to send REPLY packet, number: 500400003 type: 15 Leader in region: (2,0) to Client nodID: 5001
1335716061387: I (the leader) was not the originator client (which id = 5001) so I use UDP to send packet back to my nonleader
1335716061387: inside sendPacket(Packet p)
1335716061387: === Finished one round of sending REPLY Packet =======
1335716061405: Sending UDP payload: 989
1335716061406: forwarding disabled, not forwarding packets
1335716061408: Sending UDP payload: 642
1335716061458: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061458: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061461: mux: I got a CSM packet at a leader 

1335716061459: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061459: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061467: mux: I got a CSM packet at a leader 

1335716061464: Sending UDP payload: 989
1335716061467: forwarding disabled, not forwarding packets
1335716061471: Received UDP payload: 446
1335716061471: Sending UDP payload: 989
1335716061476: mux: Inside mux Packet.CLIENT_REQUEST
1335716061476: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716061474: forwarding disabled, not forwarding packets
1335716061477: inside handleClientRequest. Originator leader of region 2
1335716061477: got new request, requestCounter = 5001004
1335716061477: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400003
1335716061477: Yay the last leg succeeded. Removing reply runnables ...
1335716061478: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400003
1335716061478: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400003
1335716061478: do not send ack for received final_leg_ack
1335716061560: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061560: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061560: mux: I got a CSM packet at a leader 

1335716061561: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061561: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061571: mux: I got a CSM packet at a leader 

1335716061570: Sending UDP payload: 989
1335716061570: forwarding disabled, not forwarding packets
1335716061573: Sending UDP payload: 989
1335716061574: forwarding disabled, not forwarding packets
1335716061662: Retrying PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061663: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(1,0)
1335716061663: mux: I got a CSM packet at a leader 

1335716061663: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061663: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061670: mux: I got a CSM packet at a leader 

1335716061667: Sending UDP payload: 989
1335716061669: forwarding disabled, not forwarding packets
1335716061672: Sending UDP payload: 989
1335716061673: forwarding disabled, not forwarding packets
1335716061764: DSM Layer: Request timed out, send failure PROC_REPLY 11:2 (1,0)->(2,0)
1335716061765: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716061765: mux: I got a CSM packet at a leader 

1335716061781: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716061781: disabling progressdialog due to successful new photo get
1335716061782: Inside _enableButtons
1335716061783: areButtonsEnabled --> true
1335716061783: send final leg ack regardless of new or already-processed reply
1335716061784: inside finalLegAck: change requestCounter to 4
1335716061785: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004004 Client in region: (2,0) Client nodID: 5004
1335716061785: I'm a leader client, my final_leg packet going to mux directly
1335716061786: new client_show_remotephoto reply with replyCounter 500400004
1335716061786: note down new reply by adding replyCounter=500400004 to HashMap processedReplies
1335716061787: leader download remote photo latency = 2184
1335716061787: = leader download start 1335716059597 ~ stop 1335716061781
1335716061790: Can't get remote photo, because DSM Layer on originator leader timed out
1335716061803: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=1 getTimedout=0 getPercent=0%
1335716061805: getBad++
1335716061766: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061767: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061781: mux: I got a CSM packet at a leader 

1335716061768: Sending UDP payload: 989
1335716061771: Received PROC_REPLY 11:2 (1,0)->(2,0), handing to UserApp
1335716061772: inside handleDSMReply. Now back in originator leader of region 2
1335716061772: DSM layer timed out, don't log dsm layer latency stuff.
1335716061777: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716061777: change leader replyCounter to: 4
1335716061777: reply packet contains the newest photo/success info from the remote region
1335716061778: inside sendReplies of replyCount = 500400004
1335716061778: =======================
1335716061778: inside sendReplyRepeatingRunnable for replyCount = 500400004
1335716061779: Leader about to send REPLY packet, number: 500400004 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716061779: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716061779: === Finished one round of sending REPLY Packet =======
1335716061795: mux: Inside mux Packet.CLIENT_REQUEST
1335716061795: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716061789: Sending UDP payload: 989
1335716061791: forwarding disabled, not forwarding packets
1335716061795: inside handleClientRequest. Originator leader of region 2
1335716061796: got new request, requestCounter = 5004004
1335716061796: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400004
1335716061797: Yay the last leg succeeded. Removing reply runnables ...
1335716061797: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400004
1335716061798: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400004
1335716061798: do not send ack for received final_leg_ack
1335716061868: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061868: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061869: mux: I got a CSM packet at a leader 

1335716061870: Sending UDP payload: 989
1335716061872: forwarding disabled, not forwarding packets
1335716061969: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061970: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716061971: mux: I got a CSM packet at a leader 

1335716061973: Sending UDP payload: 989
1335716061975: forwarding disabled, not forwarding packets
1335716062071: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062071: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062071: mux: I got a CSM packet at a leader 

1335716062076: Sending UDP payload: 989
1335716062077: forwarding disabled, not forwarding packets
1335716062110: Received UDP payload: 446
1335716062169: Received UDP payload: 446
1335716062172: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062172: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062172: mux: I got a CSM packet at a leader 

1335716062175: Sending UDP payload: 989
1335716062175: forwarding disabled, not forwarding packets
1335716062273: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062273: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062274: mux: I got a CSM packet at a leader 

1335716062276: Sending UDP payload: 989
1335716062277: forwarding disabled, not forwarding packets
1335716062373: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062374: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062374: mux: I got a CSM packet at a leader 

1335716062378: Sending UDP payload: 989
1335716062379: forwarding disabled, not forwarding packets
1335716062416: Received UDP payload: 446
1335716062432: canPressButton = TRUE
1335716062433: areButtonsEnabled --> false 
1335716062435: get picture disableButtonsR
1335716062436: areButtonsEnabled --> false
1335716062463: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=0 getBad=1 getTimedout=0 getPercent=0%
1335716062464: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335716062464: change local requestCounter to 5
1335716062466: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004005 Client in region: 2 Client nodID: 5004
1335716062509: ----------------------------
1335716062510: inside sendRequestPacketRepeatingRunnable for requestCount = 5004005
1335716062511: I'm a leader, my requesting photos packet going to mux directly
1335716062512: --- Finished one round of sending REQUEST Packet ---------
1335716062475: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062476: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062477: mux: I got a CSM packet at a leader 

1335716062478: Sending UDP payload: 989
1335716062479: forwarding disabled, not forwarding packets
1335716062512: mux: Inside mux Packet.CLIENT_REQUEST
1335716062512: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716062557: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716062512: inside handleClientRequest. Originator leader of region 2
1335716062512: got new request, requestCounter = 5004005
1335716062512: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716062514: Sending to region: 1
1335716062515: Sending PROC_REQUEST 11:4 (2,0)->(1,0)
1335716062516: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335716062518: mux: I got a CSM packet at a leader 

1335716062516: Note down new request by adding requestCounter=5004005 to HashMap processedRequests
1335716062517: Make FirstLeg Ack regardless of new or already-processed requests
1335716062517: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716062532: Sending UDP payload: 989
1335716062534: forwarding disabled, not forwarding packets
1335716062578: Retrying PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062578: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(1,0)
1335716062579: mux: I got a CSM packet at a leader 

1335716062580: Sending UDP payload: 989
1335716062580: forwarding disabled, not forwarding packets
1335716062675: Received UDP payload: 446
1335716062679: DSM Layer: Request timed out, send failure PROC_REPLY 11:3 (1,0)->(2,0)
1335716062679: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716062680: mux: I got a CSM packet at a leader 

1335716062681: Sending UDP payload: 989
1335716062682: Received PROC_REPLY 11:3 (1,0)->(2,0), handing to UserApp
1335716062682: inside handleDSMReply. Now back in originator leader of region 2
1335716062682: DSM layer timed out, don't log dsm layer latency stuff.
1335716062683: Originator Region=2's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716062684: change leader replyCounter to: 5
1335716062684: reply packet contains the newest photo/success info from the remote region
1335716062684: inside sendReplies of replyCount = 500400005
1335716062684: =======================
1335716062685: inside sendReplyRepeatingRunnable for replyCount = 500400005
1335716062685: Leader about to send REPLY packet, number: 500400005 type: 15 Leader in region: (2,0) to Client nodID: 5002
1335716062685: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1335716062685: inside sendPacket(Packet p)
1335716062685: === Finished one round of sending REPLY Packet =======
1335716062689: Sending UDP payload: 642
1335716062760: Received UDP payload: 446
1335716062762: mux: Inside mux Packet.CLIENT_REQUEST
1335716062762: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716062762: inside handleClientRequest. Originator leader of region 2
1335716062762: got new request, requestCounter = 5002008
1335716062762: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400005
1335716062762: Yay the last leg succeeded. Removing reply runnables ...
1335716062762: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400005
1335716062762: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400005
1335716062762: do not send ack for received final_leg_ack
1335716062977: Received UDP payload: 446
1335716063276: Received UDP payload: 446
1335716063283: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063283: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063284: mux: I got a CSM packet at a leader 

1335716063286: Sending UDP payload: 989
1335716063286: forwarding disabled, not forwarding packets
1335716063385: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063386: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063387: mux: I got a CSM packet at a leader 

1335716063391: Sending UDP payload: 989
1335716063392: forwarding disabled, not forwarding packets
1335716063495: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063496: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063497: mux: I got a CSM packet at a leader 

1335716063501: Sending UDP payload: 989
1335716063502: forwarding disabled, not forwarding packets
1335716063577: Received UDP payload: 446
1335716063598: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063599: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063600: mux: I got a CSM packet at a leader 

1335716063611: Sending UDP payload: 989
1335716063613: forwarding disabled, not forwarding packets
1335716063700: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063701: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063702: mux: I got a CSM packet at a leader 

1335716063706: Sending UDP payload: 989
1335716063708: forwarding disabled, not forwarding packets
1335716063803: Retrying PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063803: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(1,0)
1335716063803: mux: I got a CSM packet at a leader 

1335716063805: Sending UDP payload: 989
1335716063806: forwarding disabled, not forwarding packets
1335716063837: Received UDP payload: 989
1335716063842: mux: GOT CSM_Msg
1335716063842: Received PROC_REPLY 11:4 (1,0)->(2,0), handing to UserApp
1335716063842: inside handleDSMReply. Now back in originator leader of region 2
1335716063843: DSM layer: Going to and from remote region took latency = 1328
1335716063843: DSM layer: orig leader sent packet at 1335716062514 ~ received reply from remote leader at 1335716063842
1335716063843: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716063843: change leader replyCounter to: 6
1335716063843: reply packet contains the newest photo/success info from the remote region
1335716063844: inside sendReplies of replyCount = 500400006
1335716063847: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716063848: disabling progressdialog due to successful new photo get
1335716063848: Inside _enableButtons
1335716063849: areButtonsEnabled --> true
1335716063849: send final leg ack regardless of new or already-processed reply
1335716063849: inside finalLegAck: change requestCounter to 6
1335716063850: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004006 Client in region: (2,0) Client nodID: 5004
1335716063850: I'm a leader client, my final_leg packet going to mux directly
1335716063853: new client_show_remotephoto reply with replyCounter 500400006
1335716063854: note down new reply by adding replyCounter=500400006 to HashMap processedReplies
1335716063856: leader download remote photo latency = 1335
1335716063856: = leader download start 1335716062512 ~ stop 1335716063847
1335716063858: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=1 getTimedout=0 getPercent=50%
1335716063858: successful reply for client get photo
1335716063859: PHOTO DATA is NULL, because region doesn't have a photo yet
1335716063844: =======================
1335716063844: inside sendReplyRepeatingRunnable for replyCount = 500400006
1335716063844: Leader about to send REPLY packet, number: 500400006 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716063845: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716063845: === Finished one round of sending REPLY Packet =======
1335716063850: mux: Inside mux Packet.CLIENT_REQUEST
1335716063850: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716063851: inside handleClientRequest. Originator leader of region 2
1335716063851: got new request, requestCounter = 5004006
1335716063851: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400006
1335716063851: Yay the last leg succeeded. Removing reply runnables ...
1335716063851: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400006
1335716063851: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400006
1335716063851: do not send ack for received final_leg_ack
1335716064179: Received UDP payload: 22957
1335716064183: ignoring leader_reply that's not for me
1335716064268: canPressButton = TRUE
1335716064269: areButtonsEnabled --> false 
1335716064269: get picture disableButtonsR
1335716064269: areButtonsEnabled --> false
1335716064299: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=1 getBad=1 getTimedout=0 getPercent=33%
1335716064300: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335716064300: change local requestCounter to 7
1335716064302: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004007 Client in region: 2 Client nodID: 5004
1335716064336: ----------------------------
1335716064337: inside sendRequestPacketRepeatingRunnable for requestCount = 5004007
1335716064338: I'm a leader, my requesting photos packet going to mux directly
1335716064349: --- Finished one round of sending REQUEST Packet ---------
1335716064338: mux: Inside mux Packet.CLIENT_REQUEST
1335716064338: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716064400: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716064338: inside handleClientRequest. Originator leader of region 2
1335716064339: got new request, requestCounter = 5004007
1335716064339: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716064339: Sending to region: 2
1335716064340: Sending PROC_REQUEST 11:1 (2,0)->(2,0)
1335716064340: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716064341: mux: I got a CSM packet at a leader 

1335716064340: Note down new request by adding requestCounter=5004007 to HashMap processedRequests
1335716064340: Make FirstLeg Ack regardless of new or already-processed requests
1335716064340: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716064345: Sending UDP payload: 989
1335716064346: removed replies before id 1 from sentReplies of size 3
1335716064347: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716064347: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716064348: mux: I got a CSM packet at a leader 

1335716064349: Sending UDP payload: 989
1335716064352: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716064740: Received UDP payload: 446
1335716064867: Received UDP payload: 989
1335716064876: mux: GOT CSM_Msg
1335716064877: forwarding disabled, not forwarding packets
1335716064903: Received UDP payload: 989
1335716064910: mux: GOT CSM_Msg
1335716064910: forwarding disabled, not forwarding packets
1335716064934: inside sendPacket(Packet p)
1335716064935: Sending UDP payload: 446
1335716065013: Received UDP payload: 625
1335716065015: mux: Inside mux Packet.CLIENT_REQUEST
1335716065015: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716065015: inside handleClientRequest. Originator leader of region 2
1335716065015: got new request, requestCounter = 5002009
1335716065015: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716065016: Sending to region: 4
1335716065016: Sending PROC_REQUEST 11:0 (2,0)->(4,0)
1335716065017: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716065017: mux: I got a CSM packet at a leader 

1335716065017: Note down new request by adding requestCounter=5002009 to HashMap processedRequests
1335716065017: Make FirstLeg Ack regardless of new or already-processed requests
1335716065017: The leader sending a First Leg ack to originator client (which id = 5002)
1335716065017: inside sendPacket(Packet p)
1335716065019: Sending UDP payload: 989
1335716065031: forwarding disabled, not forwarding packets
1335716065032: Sending UDP payload: 446
1335716065072: Received UDP payload: 446
1335716065110: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065110: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065111: mux: I got a CSM packet at a leader 

1335716065112: Sending UDP payload: 989
1335716065117: removed replies before id 1 from sentReplies of size 3
1335716065118: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716065119: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716065119: mux: I got a CSM packet at a leader 

1335716065120: Sending UDP payload: 989
1335716065125: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716065211: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065212: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065213: mux: I got a CSM packet at a leader 

1335716065214: Sending UDP payload: 989
1335716065215: removed replies before id 1 from sentReplies of size 3
1335716065215: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716065215: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716065216: mux: I got a CSM packet at a leader 

1335716065217: Sending UDP payload: 989
1335716065227: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716065318: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065318: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065319: mux: I got a CSM packet at a leader 

1335716065320: Sending UDP payload: 989
1335716065320: removed replies before id 1 from sentReplies of size 3
1335716065322: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716065323: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716065323: mux: I got a CSM packet at a leader 

1335716065328: Sending UDP payload: 989
1335716065329: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716065396: Received UDP payload: 446
1335716065420: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065420: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065421: mux: I got a CSM packet at a leader 

1335716065422: Sending UDP payload: 989
1335716065425: removed replies before id 1 from sentReplies of size 3
1335716065426: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716065426: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716065426: mux: I got a CSM packet at a leader 

1335716065429: Sending UDP payload: 989
1335716065435: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716065520: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065521: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065522: mux: I got a CSM packet at a leader 

1335716065525: Sending UDP payload: 989
1335716065526: removed replies before id 1 from sentReplies of size 3
1335716065528: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716065529: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716065529: mux: I got a CSM packet at a leader 

1335716065531: Sending UDP payload: 989
1335716065532: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716065622: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065622: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065622: mux: I got a CSM packet at a leader 

1335716065624: Sending UDP payload: 989
1335716065625: removed replies before id 1 from sentReplies of size 3
1335716065626: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716065626: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716065627: mux: I got a CSM packet at a leader 

1335716065629: Sending UDP payload: 989
1335716065630: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716065668: Received UDP payload: 446
1335716065723: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716065723: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716065725: mux: I got a CSM packet at a leader 

1335716065724: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065724: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065727: mux: I got a CSM packet at a leader 

1335716065726: Sending UDP payload: 989
1335716065727: forwarding disabled, not forwarding packets
1335716065728: Sending UDP payload: 989
1335716065729: removed replies before id 1 from sentReplies of size 3
1335716065729: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716065729: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716065730: mux: I got a CSM packet at a leader 

1335716065733: Sending UDP payload: 989
1335716065736: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716065825: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716065825: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716065826: mux: I got a CSM packet at a leader 

1335716065826: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065826: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065828: mux: I got a CSM packet at a leader 

1335716065828: Sending UDP payload: 989
1335716065828: forwarding disabled, not forwarding packets
1335716065829: Sending UDP payload: 989
1335716065830: removed replies before id 1 from sentReplies of size 3
1335716065830: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716065831: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716065831: mux: I got a CSM packet at a leader 

1335716065834: Sending UDP payload: 989
1335716065834: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716065927: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716065927: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716065928: mux: I got a CSM packet at a leader 

1335716065928: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065928: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716065930: mux: I got a CSM packet at a leader 

1335716065929: Sending UDP payload: 989
1335716065930: forwarding disabled, not forwarding packets
1335716065932: Sending UDP payload: 989
1335716065934: removed replies before id 1 from sentReplies of size 3
1335716065940: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716065942: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716065943: mux: I got a CSM packet at a leader 

1335716065945: Sending UDP payload: 989
1335716065947: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716065968: Received UDP payload: 446
1335716066019: Received UDP payload: 3717
1335716066027: mux: GOT CSM_Msg
1335716066028: forwarding disabled, not forwarding packets
1335716066031: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066031: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066033: mux: I got a CSM packet at a leader 

1335716066032: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716066032: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716066035: mux: I got a CSM packet at a leader 

1335716066034: Sending UDP payload: 989
1335716066035: forwarding disabled, not forwarding packets
1335716066036: Sending UDP payload: 989
1335716066037: removed replies before id 1 from sentReplies of size 3
1335716066042: Received UDP payload: 989
1335716066046: mux: GOT CSM_Msg
1335716066046: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716066046: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716066047: mux: I got a CSM packet at a leader 

1335716066046: forwarding disabled, not forwarding packets
1335716066048: Sending UDP payload: 989
1335716066048: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716066133: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066133: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066133: mux: I got a CSM packet at a leader 

1335716066134: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716066134: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716066136: mux: I got a CSM packet at a leader 

1335716066135: Sending UDP payload: 989
1335716066136: forwarding disabled, not forwarding packets
1335716066137: Sending UDP payload: 989
1335716066138: removed replies before id 1 from sentReplies of size 3
1335716066140: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716066143: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716066144: mux: I got a CSM packet at a leader 

1335716066146: Sending UDP payload: 989
1335716066147: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716066235: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066236: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066236: mux: I got a CSM packet at a leader 

1335716066236: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716066237: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716066238: mux: I got a CSM packet at a leader 

1335716066237: Sending UDP payload: 989
1335716066238: forwarding disabled, not forwarding packets
1335716066240: Sending UDP payload: 989
1335716066241: removed replies before id 1 from sentReplies of size 3
1335716066242: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716066243: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716066243: mux: I got a CSM packet at a leader 

1335716066248: Sending UDP payload: 989
1335716066249: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716066338: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066338: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066339: mux: I got a CSM packet at a leader 

1335716066339: Retrying PROC_REQUEST 11:1 (2,0)->(2,0)
1335716066339: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(2,0)
1335716066342: mux: I got a CSM packet at a leader 

1335716066341: Sending UDP payload: 989
1335716066342: forwarding disabled, not forwarding packets
1335716066344: Sending UDP payload: 989
1335716066345: removed replies before id 1 from sentReplies of size 3
1335716066346: Received DUPLICATE PROC_REQUEST 11:1 (2,0)->(2,0), replying PROC_REPLY 11:1 (1,0)->(2,0)
1335716066348: Dispatching Atom PROC_REPLY 11:1 (1,0)->(2,0)
1335716066350: mux: I got a CSM packet at a leader 

1335716066354: Sending UDP payload: 989
1335716066355: Received DUPLICATE PROC_REPLY 11:1 (1,0)->(2,0)
1335716066440: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066441: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066442: mux: I got a CSM packet at a leader 

1335716066442: DSM Layer: Request timed out, send failure PROC_REPLY 11:1 (2,0)->(2,0)
1335716066443: Sending UDP payload: 989
1335716066443: forwarding disabled, not forwarding packets
1335716066445: Dispatching Atom PROC_REPLY 11:1 (2,0)->(2,0)
1335716066445: mux: I got a CSM packet at a leader 

1335716066476: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716066477: disabling progressdialog due to successful new photo get
1335716066478: Inside _enableButtons
1335716066479: areButtonsEnabled --> true
1335716066480: send final leg ack regardless of new or already-processed reply
1335716066481: inside finalLegAck: change requestCounter to 8
1335716066482: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004008 Client in region: (2,0) Client nodID: 5004
1335716066482: I'm a leader client, my final_leg packet going to mux directly
1335716066485: new client_show_remotephoto reply with replyCounter 500400007
1335716066485: note down new reply by adding replyCounter=500400007 to HashMap processedReplies
1335716066486: leader download remote photo latency = 2138
1335716066486: = leader download start 1335716064338 ~ stop 1335716066476
1335716066487: Can't get remote photo, because DSM Layer on originator leader timed out
1335716066492: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=1 getBad=2 getTimedout=0 getPercent=33%
1335716066493: getBad++
1335716066449: Sending UDP payload: 989
1335716066453: Received PROC_REPLY 11:1 (2,0)->(2,0), handing to UserApp
1335716066453: inside handleDSMReply. Now back in originator leader of region 2
1335716066454: DSM layer timed out, don't log dsm layer latency stuff.
1335716066456: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716066457: change leader replyCounter to: 7
1335716066458: reply packet contains the newest photo/success info from the remote region
1335716066458: inside sendReplies of replyCount = 500400007
1335716066459: =======================
1335716066460: inside sendReplyRepeatingRunnable for replyCount = 500400007
1335716066461: Leader about to send REPLY packet, number: 500400007 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716066461: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716066461: === Finished one round of sending REPLY Packet =======
1335716066484: mux: Inside mux Packet.CLIENT_REQUEST
1335716066484: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716066484: inside handleClientRequest. Originator leader of region 2
1335716066485: got new request, requestCounter = 5004008
1335716066485: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400007
1335716066485: Yay the last leg succeeded. Removing reply runnables ...
1335716066486: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400007
1335716066486: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400007
1335716066487: do not send ack for received final_leg_ack
1335716066552: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066553: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066554: mux: I got a CSM packet at a leader 

1335716066557: Sending UDP payload: 989
1335716066563: forwarding disabled, not forwarding packets
1335716066654: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066655: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066656: mux: I got a CSM packet at a leader 

1335716066657: Sending UDP payload: 989
1335716066658: forwarding disabled, not forwarding packets
1335716066757: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066767: canPressButton = TRUE
1335716066768: areButtonsEnabled --> false
1335716066769: disabling buttons ...
1335716066769: took picture disableButtonsR
1335716066770: areButtonsEnabled --> false
1335716066807: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=3 getGood=1 getBad=2 getTimedout=0 getPercent=33%
1335716066807: Clicked take picture button ..
1335716066758: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066759: mux: I got a CSM packet at a leader 

1335716066760: Sending UDP payload: 989
1335716066761: forwarding disabled, not forwarding packets
1335716066871: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066873: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066873: mux: I got a CSM packet at a leader 

1335716066874: Sending UDP payload: 989
1335716066875: forwarding disabled, not forwarding packets
1335716066909: Received UDP payload: 463
1335716066974: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066974: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716066975: mux: I got a CSM packet at a leader 

1335716066976: Sending UDP payload: 989
1335716066977: forwarding disabled, not forwarding packets
1335716067075: Retrying PROC_REQUEST 11:0 (2,0)->(4,0)
1335716067075: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(4,0)
1335716067076: mux: I got a CSM packet at a leader 

1335716067077: Sending UDP payload: 989
1335716067079: forwarding disabled, not forwarding packets
1335716067112: Received UDP payload: 446
1335716067175: DSM Layer: Request timed out, send failure PROC_REPLY 11:0 (4,0)->(2,0)
1335716067176: Dispatching Atom PROC_REPLY 11:0 (4,0)->(2,0)
1335716067176: mux: I got a CSM packet at a leader 

1335716067184: Sending UDP payload: 989
1335716067188: Received PROC_REPLY 11:0 (4,0)->(2,0), handing to UserApp
1335716067188: inside handleDSMReply. Now back in originator leader of region 2
1335716067189: DSM layer timed out, don't log dsm layer latency stuff.
1335716067192: Originator Region=2's Leader (for Client=5002) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716067192: change leader replyCounter to: 8
1335716067193: reply packet contains the newest photo/success info from the remote region
1335716067194: inside sendReplies of replyCount = 500400008
1335716067194: =======================
1335716067195: inside sendReplyRepeatingRunnable for replyCount = 500400008
1335716067195: Leader about to send REPLY packet, number: 500400008 type: 15 Leader in region: (2,0) to Client nodID: 5002
1335716067195: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1335716067195: inside sendPacket(Packet p)
1335716067195: === Finished one round of sending REPLY Packet =======
1335716067198: Sending UDP payload: 642
1335716067457: Received UDP payload: 3717
1335716067460: mux: GOT CSM_Msg
1335716067461: forwarding disabled, not forwarding packets
1335716067467: Received UDP payload: 989
1335716067470: mux: GOT CSM_Msg
1335716067470: forwarding disabled, not forwarding packets
1335716067496: =======================
1335716067496: inside sendReplyRepeatingRunnable for replyCount = 500400008
1335716067496: Leader about to send REPLY packet, number: 500400008 type: 15 Leader in region: (2,0) to Client nodID: 5002
1335716067497: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1335716067497: inside sendPacket(Packet p)
1335716067497: === Finished one round of sending REPLY Packet =======
1335716067499: Sending UDP payload: 642
1335716067797: =======================
1335716067798: inside sendReplyRepeatingRunnable for replyCount = 500400008
1335716067798: Leader about to send REPLY packet, number: 500400008 type: 15 Leader in region: (2,0) to Client nodID: 5002
1335716067798: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1335716067798: inside sendPacket(Packet p)
1335716067798: === Finished one round of sending REPLY Packet =======
1335716067805: Sending UDP payload: 642
1335716067851: Received UDP payload: 463
1335716068145: inside HandlePictureStorage onPictureTaken()
1335716068146: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=3 getGood=1 getBad=2 getTimedout=0 getPercent=33%
1335716068636: Picture successfully taken, ORIG BYTE LENGTH = 2060301
1335716068887: Our new height x width: 306 x 408
1335716068897: Show photo from handle my camera take
1335716068898: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335716068899: change local requestCounter to 9
1335716068922: BYTE SIZE AFTER COMPRESSION: 3749
1335716068925: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5004009 Client in region: 2 Client nodID: 5004
1335716068131: =======================
1335716068131: inside sendReplyRepeatingRunnable for replyCount = 500400008
1335716068132: Leader about to send REPLY packet, number: 500400008 type: 15 Leader in region: (2,0) to Client nodID: 5002
1335716068132: I (the leader) was not the originator client (which id = 5002) so I use UDP to send packet back to my nonleader
1335716068132: inside sendPacket(Packet p)
1335716068132: === Finished one round of sending REPLY Packet =======
1335716068154: Sending UDP payload: 642
1335716068195: inside sendReplyTimeoutR
1335716068195: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400008
1335716068678: Received UDP payload: 446
1335716068968: ----------------------------
1335716068969: inside sendRequestPacketRepeatingRunnable for requestCount = 5004009
1335716068969: I'm a leader, my requesting photos packet going to mux directly
1335716068982: --- Finished one round of sending REQUEST Packet ---------
1335716068957: Received UDP payload: 446
1335716068962: Received UDP payload: 446
1335716068969: mux: Inside mux Packet.CLIENT_REQUEST
1335716068969: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716069029: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716068969: inside handleClientRequest. Originator leader of region 2
1335716068970: got new request, requestCounter = 5004009
1335716068970: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335716068970: Sending PROC_REQUEST 10:2 (2,0)->(2,0)
1335716068970: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716068971: mux: I got a CSM packet at a leader 

1335716068970: Note down new request by adding requestCounter=5004009 to HashMap processedRequests
1335716068970: Make FirstLeg Ack regardless of new or already-processed requests
1335716068971: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716068980: Sending UDP payload: 4760
1335716068990: removed replies before id 2 from sentReplies of size 2
1335716068991: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716068993: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716068993: mux: I got a CSM packet at a leader 

1335716068994: Sending UDP payload: 989
1335716069003: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716069262: Received UDP payload: 446
1335716069497: Received UDP payload: 446
1335716069562: Received UDP payload: 446
1335716069690: Received UDP payload: 446
1335716069692: heard LEADER_REQUEST from node 5002, responding LEADER_REPLY
1335716069713: Received UDP payload: 446
1335716069809: inside sendPacket(Packet p)
1335716069825: Sending UDP payload: 37695
1335716069829: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716069830: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716069830: mux: I got a CSM packet at a leader 

1335716069831: Sending UDP payload: 4760
1335716069833: removed replies before id 2 from sentReplies of size 2
1335716069835: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716069835: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716069835: mux: I got a CSM packet at a leader 

1335716069836: Sending UDP payload: 989
1335716069837: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716069922: Received UDP payload: 446
1335716069934: inside sendPacket(Packet p)
1335716069935: Sending UDP payload: 446
1335716069939: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716069939: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716069941: mux: I got a CSM packet at a leader 

1335716069943: Sending UDP payload: 4760
1335716069944: removed replies before id 2 from sentReplies of size 2
1335716069945: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716069945: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716069947: Received UDP payload: 446
1335716069955: mux: I got a CSM packet at a leader 

1335716069957: Sending UDP payload: 989
1335716069963: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716070040: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070041: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070041: mux: I got a CSM packet at a leader 

1335716070042: Sending UDP payload: 4760
1335716070043: removed replies before id 2 from sentReplies of size 2
1335716070052: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716070052: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716070052: mux: I got a CSM packet at a leader 

1335716070053: Sending UDP payload: 989
1335716070054: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716070142: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070142: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070142: mux: I got a CSM packet at a leader 

1335716070143: Sending UDP payload: 4760
1335716070144: removed replies before id 2 from sentReplies of size 2
1335716070145: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716070145: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716070145: mux: I got a CSM packet at a leader 

1335716070152: Sending UDP payload: 989
1335716070157: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716070180: Received UDP payload: 446
1335716070198: Received UDP payload: 446
1335716070242: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070243: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070243: mux: I got a CSM packet at a leader 

1335716070244: Sending UDP payload: 4760
1335716070245: removed replies before id 2 from sentReplies of size 2
1335716070245: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716070245: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716070246: mux: I got a CSM packet at a leader 

1335716070247: Sending UDP payload: 989
1335716070248: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716070343: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070344: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070344: mux: I got a CSM packet at a leader 

1335716070345: Sending UDP payload: 4760
1335716070346: removed replies before id 2 from sentReplies of size 2
1335716070346: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716070347: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716070347: mux: I got a CSM packet at a leader 

1335716070353: Sending UDP payload: 989
1335716070354: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716070444: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070445: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070445: mux: I got a CSM packet at a leader 

1335716070446: Sending UDP payload: 4760
1335716070447: removed replies before id 2 from sentReplies of size 2
1335716070447: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716070447: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716070448: mux: I got a CSM packet at a leader 

1335716070449: Sending UDP payload: 989
1335716070450: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716070461: Received UDP payload: 446
1335716070479: Received UDP payload: 446
1335716070546: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070546: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070546: mux: I got a CSM packet at a leader 

1335716070547: Sending UDP payload: 4760
1335716070548: removed replies before id 2 from sentReplies of size 2
1335716070548: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716070549: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716070549: mux: I got a CSM packet at a leader 

1335716070550: Sending UDP payload: 989
1335716070551: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716070575: Received UDP payload: 446
1335716070595: Received UDP payload: 446
1335716070647: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070647: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070647: mux: I got a CSM packet at a leader 

1335716070648: Sending UDP payload: 4760
1335716070649: removed replies before id 2 from sentReplies of size 2
1335716070649: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716070650: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716070650: mux: I got a CSM packet at a leader 

1335716070652: Sending UDP payload: 989
1335716070653: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716070748: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070748: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070748: mux: I got a CSM packet at a leader 

1335716070749: Sending UDP payload: 4760
1335716070750: removed replies before id 2 from sentReplies of size 2
1335716070751: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716070754: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716070754: mux: I got a CSM packet at a leader 

1335716070755: Sending UDP payload: 989
1335716070756: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716070849: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070849: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070849: mux: I got a CSM packet at a leader 

1335716070850: Sending UDP payload: 4760
1335716070852: removed replies before id 2 from sentReplies of size 2
1335716070853: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716070853: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716070853: mux: I got a CSM packet at a leader 

1335716070855: Sending UDP payload: 989
1335716070856: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716070897: Received UDP payload: 446
1335716070949: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070950: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716070950: mux: I got a CSM packet at a leader 

1335716070951: Sending UDP payload: 4760
1335716070953: removed replies before id 2 from sentReplies of size 2
1335716070953: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716070954: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716070954: mux: I got a CSM packet at a leader 

1335716070955: Sending UDP payload: 989
1335716070958: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716070975: Received UDP payload: 446
1335716071050: Retrying PROC_REQUEST 10:2 (2,0)->(2,0)
1335716071051: Dispatching Atom PROC_REQUEST 10:2 (2,0)->(2,0)
1335716071051: mux: I got a CSM packet at a leader 

1335716071052: Sending UDP payload: 4760
1335716071062: removed replies before id 2 from sentReplies of size 2
1335716071062: Received DUPLICATE PROC_REQUEST 10:2 (2,0)->(2,0), replying PROC_REPLY 11:2 (1,0)->(2,0)
1335716071063: Dispatching Atom PROC_REPLY 11:2 (1,0)->(2,0)
1335716071063: mux: I got a CSM packet at a leader 

1335716071064: Sending UDP payload: 989
1335716071065: Received DUPLICATE PROC_REPLY 11:2 (1,0)->(2,0)
1335716071148: Received UDP payload: 446
1335716071151: DSM Layer: Request timed out, send failure PROC_REPLY 10:2 (2,0)->(2,0)
1335716071152: Dispatching Atom PROC_REPLY 10:2 (2,0)->(2,0)
1335716071152: mux: I got a CSM packet at a leader 

1335716071172: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335716071173: disabling progressdialog due to successful new photo upload
1335716071173: Inside _enableButtons
1335716071174: areButtonsEnabled --> true
1335716071174: send final leg ack regardless of new or already-processed reply
1335716071175: inside finalLegAck: change requestCounter to 10
1335716071175: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004010 Client in region: (2,0) Client nodID: 5004
1335716071175: I'm a leader client, my final_leg packet going to mux directly
1335716071178: new client_upload_photo_ack reply with replyCounter 500400009
1335716071179: note down new reply by adding replyCounter=500400009 to HashMap processedReplies
1335716071179: leader upload new photo latency = 2203
1335716071184: = leader upload start 1335716068969 ~ stop 1335716071172
1335716071187: Can't save new photo on leader, because DSM Layer on originator leader timed out
1335716071192: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=3 getGood=1 getBad=2 getTimedout=0 getPercent=33%
1335716071193: takeBad++
1335716071153: Sending UDP payload: 4760
1335716071157: Received PROC_REPLY 10:2 (2,0)->(2,0), handing to UserApp
1335716071158: inside handleDSMReply. Now back in originator leader of region 2
1335716071158: DSM layer timed out, don't log dsm layer latency stuff.
1335716071160: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716071161: change leader replyCounter to: 9
1335716071164: reply packet contains the success info for UPLOAD_PHOTO
1335716071167: inside sendReplies of replyCount = 500400009
1335716071168: =======================
1335716071168: inside sendReplyRepeatingRunnable for replyCount = 500400009
1335716071168: Leader about to send REPLY packet, number: 500400009 type: 16 Leader in region: (2,0) to Client nodID: 5004
1335716071169: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716071169: === Finished one round of sending REPLY Packet =======
1335716071176: mux: Inside mux Packet.CLIENT_REQUEST
1335716071176: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716071176: inside handleClientRequest. Originator leader of region 2
1335716071177: got new request, requestCounter = 5004010
1335716071177: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400009
1335716071177: Yay the last leg succeeded. Removing reply runnables ...
1335716071177: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400009
1335716071178: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400009
1335716071178: do not send ack for received final_leg_ack
1335716071180: Received UDP payload: 446
1335716071276: Received UDP payload: 446
1335716071455: Received UDP payload: 446
1335716071480: Received UDP payload: 446
1335716071577: Received UDP payload: 446
1335716071763: Received UDP payload: 446
1335716071853: canPressButton = TRUE
1335716071854: areButtonsEnabled --> false 
1335716071854: get picture disableButtonsR
1335716071857: areButtonsEnabled --> false
1335716071887: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=4 getGood=1 getBad=2 getTimedout=0 getPercent=25%
1335716071889: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335716071889: change local requestCounter to 11
1335716071890: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004011 Client in region: 2 Client nodID: 5004
1335716071878: Received UDP payload: 446
1335716071924: ----------------------------
1335716071925: inside sendRequestPacketRepeatingRunnable for requestCount = 5004011
1335716071925: I'm a leader, my requesting photos packet going to mux directly
1335716071933: --- Finished one round of sending REQUEST Packet ---------
1335716071925: mux: Inside mux Packet.CLIENT_REQUEST
1335716071925: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716071988: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716071926: inside handleClientRequest. Originator leader of region 2
1335716071926: got new request, requestCounter = 5004011
1335716071926: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716071927: Sending to region: 3
1335716071927: Sending PROC_REQUEST 11:0 (2,0)->(3,0)
1335716071927: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716071928: mux: I got a CSM packet at a leader 

1335716071927: Note down new request by adding requestCounter=5004011 to HashMap processedRequests
1335716071928: Make FirstLeg Ack regardless of new or already-processed requests
1335716071928: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716071930: Sending UDP payload: 989
1335716071932: forwarding disabled, not forwarding packets
1335716072069: Received UDP payload: 446
1335716072406: Received UDP payload: 7559
1335716072433: ignoring leader_reply that's not for me
1335716072498: Received UDP payload: 7576
1335716072576: Received UDP payload: 7576
1335716072663: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716072663: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716072664: mux: I got a CSM packet at a leader 

1335716072666: Sending UDP payload: 989
1335716072668: forwarding disabled, not forwarding packets
1335716072765: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716072765: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716072766: mux: I got a CSM packet at a leader 

1335716072768: Sending UDP payload: 989
1335716072769: forwarding disabled, not forwarding packets
1335716072867: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716072867: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716072869: mux: I got a CSM packet at a leader 

1335716072874: Sending UDP payload: 989
1335716072877: forwarding disabled, not forwarding packets
1335716072951: Received UDP payload: 7027
1335716072956: ignoring leader_reply that's not for me
1335716072969: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716072970: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716072970: mux: I got a CSM packet at a leader 

1335716072972: Sending UDP payload: 989
1335716072972: forwarding disabled, not forwarding packets
1335716073072: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073072: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073073: mux: I got a CSM packet at a leader 

1335716073074: Sending UDP payload: 989
1335716073074: forwarding disabled, not forwarding packets
1335716073174: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073174: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073175: mux: I got a CSM packet at a leader 

1335716073179: Sending UDP payload: 989
1335716073180: forwarding disabled, not forwarding packets
1335716073276: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073277: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073278: mux: I got a CSM packet at a leader 

1335716073279: Sending UDP payload: 989
1335716073280: forwarding disabled, not forwarding packets
1335716073379: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073380: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073381: mux: I got a CSM packet at a leader 

1335716073384: Sending UDP payload: 989
1335716073386: forwarding disabled, not forwarding packets
1335716073488: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073489: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073491: mux: I got a CSM packet at a leader 

1335716073493: Sending UDP payload: 989
1335716073495: forwarding disabled, not forwarding packets
1335716073590: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073590: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073591: mux: I got a CSM packet at a leader 

1335716073593: Sending UDP payload: 989
1335716073595: forwarding disabled, not forwarding packets
1335716073691: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073692: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073692: mux: I got a CSM packet at a leader 

1335716073695: Sending UDP payload: 989
1335716073697: forwarding disabled, not forwarding packets
1335716073793: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073793: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073794: mux: I got a CSM packet at a leader 

1335716073796: Sending UDP payload: 989
1335716073797: forwarding disabled, not forwarding packets
1335716073828: Received UDP payload: 463
1335716073894: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073895: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073895: mux: I got a CSM packet at a leader 

1335716073897: Sending UDP payload: 989
1335716073898: forwarding disabled, not forwarding packets
1335716073996: Retrying PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073996: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(3,0)
1335716073998: mux: I got a CSM packet at a leader 

1335716073999: Sending UDP payload: 989
1335716074000: forwarding disabled, not forwarding packets
1335716074068: Received UDP payload: 446
1335716074071: heard LEADER_REQUEST from node 5003, responding LEADER_REPLY
1335716074172: inside sendPacket(Packet p)
1335716074172: DSM Layer: Request timed out, send failure PROC_REPLY 11:0 (3,0)->(2,0)
1335716074173: Sending UDP payload: 37731
1335716074175: Dispatching Atom PROC_REPLY 11:0 (3,0)->(2,0)
1335716074176: mux: I got a CSM packet at a leader 

1335716074195: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716074196: disabling progressdialog due to successful new photo get
1335716074196: Inside _enableButtons
1335716074196: areButtonsEnabled --> true
1335716074196: send final leg ack regardless of new or already-processed reply
1335716074197: inside finalLegAck: change requestCounter to 12
1335716074197: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004012 Client in region: (2,0) Client nodID: 5004
1335716074197: I'm a leader client, my final_leg packet going to mux directly
1335716074198: new client_show_remotephoto reply with replyCounter 500400010
1335716074198: note down new reply by adding replyCounter=500400010 to HashMap processedReplies
1335716074198: leader download remote photo latency = 2270
1335716074199: = leader download start 1335716071925 ~ stop 1335716074195
1335716074200: Can't get remote photo, because DSM Layer on originator leader timed out
1335716074206: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=4 getGood=1 getBad=3 getTimedout=0 getPercent=25%
1335716074206: getBad++
1335716074178: Sending UDP payload: 989
1335716074180: Received PROC_REPLY 11:0 (3,0)->(2,0), handing to UserApp
1335716074181: inside handleDSMReply. Now back in originator leader of region 2
1335716074183: DSM layer timed out, don't log dsm layer latency stuff.
1335716074186: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716074187: change leader replyCounter to: 10
1335716074187: reply packet contains the newest photo/success info from the remote region
1335716074187: inside sendReplies of replyCount = 500400010
1335716074188: =======================
1335716074188: inside sendReplyRepeatingRunnable for replyCount = 500400010
1335716074189: Leader about to send REPLY packet, number: 500400010 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716074189: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716074190: === Finished one round of sending REPLY Packet =======
1335716074198: mux: Inside mux Packet.CLIENT_REQUEST
1335716074198: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716074199: inside handleClientRequest. Originator leader of region 2
1335716074199: got new request, requestCounter = 5004012
1335716074199: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400010
1335716074200: Yay the last leg succeeded. Removing reply runnables ...
1335716074200: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400010
1335716074201: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400010
1335716074201: do not send ack for received final_leg_ack
1335716074407: Received UDP payload: 446
1335716074409: heard LEADER_REQUEST from node 5003, responding LEADER_REPLY
1335716074510: inside sendPacket(Packet p)
1335716074512: Sending UDP payload: 37731
1335716074810: Received UDP payload: 446
1335716074890: Received UDP payload: 446
1335716074936: inside sendPacket(Packet p)
1335716074939: Sending UDP payload: 446
1335716074976: Received UDP payload: 446
1335716075190: canPressButton = TRUE
1335716075192: areButtonsEnabled --> false 
1335716075192: get picture disableButtonsR
1335716075193: areButtonsEnabled --> false
1335716075219: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=5 getGood=1 getBad=3 getTimedout=0 getPercent=20%
1335716075220: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335716075220: change local requestCounter to 13
1335716075220: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004013 Client in region: 2 Client nodID: 5004
1335716075279: ----------------------------
1335716075280: inside sendRequestPacketRepeatingRunnable for requestCount = 5004013
1335716075280: I'm a leader, my requesting photos packet going to mux directly
1335716075298: --- Finished one round of sending REQUEST Packet ---------
1335716075271: Received UDP payload: 446
1335716075286: mux: Inside mux Packet.CLIENT_REQUEST
1335716075287: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716075348: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716075287: inside handleClientRequest. Originator leader of region 2
1335716075287: got new request, requestCounter = 5004013
1335716075287: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716075288: Sending to region: 2
1335716075288: Sending PROC_REQUEST 11:3 (2,0)->(2,0)
1335716075288: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716075289: mux: I got a CSM packet at a leader 

1335716075288: Note down new request by adding requestCounter=5004013 to HashMap processedRequests
1335716075288: Make FirstLeg Ack regardless of new or already-processed requests
1335716075289: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716075294: Sending UDP payload: 989
1335716075295: removed replies before id 3 from sentReplies of size 1
1335716075296: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716075296: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716075296: mux: I got a CSM packet at a leader 

1335716075298: Sending UDP payload: 989
1335716075302: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716075561: Received UDP payload: 446
1335716075861: Received UDP payload: 446
1335716076022: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076022: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076023: mux: I got a CSM packet at a leader 

1335716076025: Sending UDP payload: 989
1335716076026: removed replies before id 3 from sentReplies of size 1
1335716076027: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716076027: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716076027: mux: I got a CSM packet at a leader 

1335716076029: Sending UDP payload: 989
1335716076031: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716076123: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076124: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076124: mux: I got a CSM packet at a leader 

1335716076125: Sending UDP payload: 989
1335716076126: removed replies before id 3 from sentReplies of size 1
1335716076127: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716076127: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716076128: mux: I got a CSM packet at a leader 

1335716076129: Sending UDP payload: 989
1335716076130: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716076225: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076225: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076225: mux: I got a CSM packet at a leader 

1335716076227: Sending UDP payload: 989
1335716076227: removed replies before id 3 from sentReplies of size 1
1335716076228: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716076228: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716076229: mux: I got a CSM packet at a leader 

1335716076231: Sending UDP payload: 989
1335716076232: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716076326: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076326: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076326: mux: I got a CSM packet at a leader 

1335716076327: Sending UDP payload: 989
1335716076328: removed replies before id 3 from sentReplies of size 1
1335716076329: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716076329: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716076330: mux: I got a CSM packet at a leader 

1335716076332: Sending UDP payload: 989
1335716076333: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716076393: Received UDP payload: 989
1335716076397: mux: GOT CSM_Msg
1335716076398: forwarding disabled, not forwarding packets
1335716076427: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076427: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076427: mux: I got a CSM packet at a leader 

1335716076432: Sending UDP payload: 989
1335716076434: removed replies before id 3 from sentReplies of size 1
1335716076437: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716076438: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716076440: mux: I got a CSM packet at a leader 

1335716076444: Sending UDP payload: 989
1335716076446: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716076528: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076528: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076529: mux: I got a CSM packet at a leader 

1335716076532: Sending UDP payload: 989
1335716076534: removed replies before id 3 from sentReplies of size 1
1335716076537: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716076538: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716076539: mux: I got a CSM packet at a leader 

1335716076543: Sending UDP payload: 989
1335716076545: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716076630: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076630: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076630: mux: I got a CSM packet at a leader 

1335716076632: Sending UDP payload: 989
1335716076632: removed replies before id 3 from sentReplies of size 1
1335716076633: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716076633: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716076634: mux: I got a CSM packet at a leader 

1335716076636: Sending UDP payload: 989
1335716076638: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716076731: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076731: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076731: mux: I got a CSM packet at a leader 

1335716076733: Sending UDP payload: 989
1335716076735: removed replies before id 3 from sentReplies of size 1
1335716076736: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716076736: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716076737: mux: I got a CSM packet at a leader 

1335716076742: Sending UDP payload: 989
1335716076745: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716076832: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076832: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076832: mux: I got a CSM packet at a leader 

1335716076834: Sending UDP payload: 989
1335716076835: removed replies before id 3 from sentReplies of size 1
1335716076836: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716076838: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716076839: mux: I got a CSM packet at a leader 

1335716076843: Sending UDP payload: 989
1335716076845: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716076936: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076936: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716076938: mux: I got a CSM packet at a leader 

1335716076941: Sending UDP payload: 989
1335716076952: removed replies before id 3 from sentReplies of size 1
1335716076954: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716076955: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716076956: mux: I got a CSM packet at a leader 

1335716076960: Sending UDP payload: 989
1335716076967: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716077039: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716077039: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716077044: mux: I got a CSM packet at a leader 

1335716077045: Sending UDP payload: 989
1335716077045: removed replies before id 3 from sentReplies of size 1
1335716077046: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716077046: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716077047: mux: I got a CSM packet at a leader 

1335716077048: Sending UDP payload: 989
1335716077048: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716077113: Received UDP payload: 446
1335716077140: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716077140: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716077140: mux: I got a CSM packet at a leader 

1335716077142: Sending UDP payload: 989
1335716077149: removed replies before id 3 from sentReplies of size 1
1335716077149: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716077150: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716077150: mux: I got a CSM packet at a leader 

1335716077153: Sending UDP payload: 989
1335716077159: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716077166: Received UDP payload: 989
1335716077170: mux: GOT CSM_Msg
1335716077170: forwarding disabled, not forwarding packets
1335716077241: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716077241: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716077241: mux: I got a CSM packet at a leader 

1335716077243: Sending UDP payload: 989
1335716077243: removed replies before id 3 from sentReplies of size 1
1335716077244: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716077244: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716077245: mux: I got a CSM packet at a leader 

1335716077247: Sending UDP payload: 989
1335716077248: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716077263: Received UDP payload: 989
1335716077271: mux: GOT CSM_Msg
1335716077271: forwarding disabled, not forwarding packets
1335716077342: Retrying PROC_REQUEST 11:3 (2,0)->(2,0)
1335716077342: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(2,0)
1335716077343: mux: I got a CSM packet at a leader 

1335716077344: Sending UDP payload: 989
1335716077345: removed replies before id 3 from sentReplies of size 1
1335716077345: Received DUPLICATE PROC_REQUEST 11:3 (2,0)->(2,0), replying PROC_REPLY 11:3 (1,0)->(2,0)
1335716077346: Dispatching Atom PROC_REPLY 11:3 (1,0)->(2,0)
1335716077346: mux: I got a CSM packet at a leader 

1335716077349: Sending UDP payload: 989
1335716077349: Received DUPLICATE PROC_REPLY 11:3 (1,0)->(2,0)
1335716077381: Received UDP payload: 989
1335716077394: mux: GOT CSM_Msg
1335716077394: forwarding disabled, not forwarding packets
1335716077443: DSM Layer: Request timed out, send failure PROC_REPLY 11:3 (2,0)->(2,0)
1335716077444: Dispatching Atom PROC_REPLY 11:3 (2,0)->(2,0)
1335716077444: mux: I got a CSM packet at a leader 

1335716077459: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716077460: disabling progressdialog due to successful new photo get
1335716077460: Inside _enableButtons
1335716077460: areButtonsEnabled --> true
1335716077461: send final leg ack regardless of new or already-processed reply
1335716077461: inside finalLegAck: change requestCounter to 14
1335716077463: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004014 Client in region: (2,0) Client nodID: 5004
1335716077463: I'm a leader client, my final_leg packet going to mux directly
1335716077464: new client_show_remotephoto reply with replyCounter 500400011
1335716077464: note down new reply by adding replyCounter=500400011 to HashMap processedReplies
1335716077465: leader download remote photo latency = 2173
1335716077469: = leader download start 1335716075286 ~ stop 1335716077459
1335716077470: Can't get remote photo, because DSM Layer on originator leader timed out
1335716077476: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=5 getGood=1 getBad=4 getTimedout=0 getPercent=20%
1335716077476: getBad++
1335716077445: Sending UDP payload: 989
1335716077446: Received PROC_REPLY 11:3 (2,0)->(2,0), handing to UserApp
1335716077446: inside handleDSMReply. Now back in originator leader of region 2
1335716077446: DSM layer timed out, don't log dsm layer latency stuff.
1335716077447: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716077448: change leader replyCounter to: 11
1335716077448: reply packet contains the newest photo/success info from the remote region
1335716077449: inside sendReplies of replyCount = 500400011
1335716077450: =======================
1335716077450: inside sendReplyRepeatingRunnable for replyCount = 500400011
1335716077450: Leader about to send REPLY packet, number: 500400011 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716077450: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716077451: === Finished one round of sending REPLY Packet =======
1335716077464: mux: Inside mux Packet.CLIENT_REQUEST
1335716077468: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716077466: Received UDP payload: 989
1335716077468: inside handleClientRequest. Originator leader of region 2
1335716077468: got new request, requestCounter = 5004014
1335716077468: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400011
1335716077469: Yay the last leg succeeded. Removing reply runnables ...
1335716077469: mux: GOT CSM_Msg
1335716077469: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400011
1335716077469: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400011
1335716077469: do not send ack for received final_leg_ack
1335716077469: forwarding disabled, not forwarding packets
1335716077560: Received UDP payload: 989
1335716077563: mux: GOT CSM_Msg
1335716077564: forwarding disabled, not forwarding packets
1335716077664: Received UDP payload: 989
1335716077667: mux: GOT CSM_Msg
1335716077667: forwarding disabled, not forwarding packets
1335716077767: Received UDP payload: 989
1335716077770: mux: GOT CSM_Msg
1335716077770: forwarding disabled, not forwarding packets
1335716077869: Received UDP payload: 989
1335716077873: mux: GOT CSM_Msg
1335716077873: forwarding disabled, not forwarding packets
1335716077971: Received UDP payload: 989
1335716077987: mux: GOT CSM_Msg
1335716077987: forwarding disabled, not forwarding packets
1335716078081: Received UDP payload: 989
1335716078086: mux: GOT CSM_Msg
1335716078087: forwarding disabled, not forwarding packets
1335716078172: Received UDP payload: 989
1335716078179: mux: GOT CSM_Msg
1335716078180: forwarding disabled, not forwarding packets
1335716078274: Received UDP payload: 989
1335716078279: mux: GOT CSM_Msg
1335716078279: forwarding disabled, not forwarding packets
1335716078378: Received UDP payload: 989
1335716078389: mux: GOT CSM_Msg
1335716078389: forwarding disabled, not forwarding packets
1335716078480: Received UDP payload: 989
1335716078493: mux: GOT CSM_Msg
1335716078495: forwarding disabled, not forwarding packets
1335716078581: Received UDP payload: 989
1335716078589: mux: GOT CSM_Msg
1335716078589: forwarding disabled, not forwarding packets
1335716079742: Received UDP payload: 446
1335716079937: inside sendPacket(Packet p)
1335716079940: Sending UDP payload: 446
1335716082112: Received UDP payload: 446
1335716084744: Received UDP payload: 446
1335716084938: inside sendPacket(Packet p)
1335716084941: Sending UDP payload: 446
1335716087114: Received UDP payload: 446
1335716089745: Received UDP payload: 446
1335716089938: inside sendPacket(Packet p)
1335716089940: Sending UDP payload: 446
1335716092111: Received UDP payload: 446
1335716094742: Received UDP payload: 446
1335716094939: inside sendPacket(Packet p)
1335716094939: Sending UDP payload: 446
1335716096762: Received UDP payload: 4016
1335716096777: mux: GOT CSM_Msg
1335716096777: forwarding disabled, not forwarding packets
1335716096790: Received UDP payload: 989
1335716096827: mux: GOT CSM_Msg
1335716096827: forwarding disabled, not forwarding packets
1335716097115: Received UDP payload: 446
1335716097540: Received UDP payload: 4016
1335716097547: mux: GOT CSM_Msg
1335716097547: forwarding disabled, not forwarding packets
1335716097581: Received UDP payload: 989
1335716097587: mux: GOT CSM_Msg
1335716097587: forwarding disabled, not forwarding packets
1335716097648: Received UDP payload: 4016
1335716097655: mux: GOT CSM_Msg
1335716097656: forwarding disabled, not forwarding packets
1335716097657: Received UDP payload: 989
1335716097677: mux: GOT CSM_Msg
1335716097678: forwarding disabled, not forwarding packets
1335716097750: Received UDP payload: 4016
1335716097768: mux: GOT CSM_Msg
1335716097769: forwarding disabled, not forwarding packets
1335716097770: Received UDP payload: 989
1335716097793: mux: GOT CSM_Msg
1335716097793: forwarding disabled, not forwarding packets
1335716097846: Received UDP payload: 4016
1335716097859: mux: GOT CSM_Msg
1335716097860: forwarding disabled, not forwarding packets
1335716097861: Received UDP payload: 989
1335716097877: mux: GOT CSM_Msg
1335716097877: forwarding disabled, not forwarding packets
1335716097960: Received UDP payload: 4016
1335716097962: mux: GOT CSM_Msg
1335716097962: forwarding disabled, not forwarding packets
1335716097969: Received UDP payload: 989
1335716097974: mux: GOT CSM_Msg
1335716097974: forwarding disabled, not forwarding packets
1335716098049: Received UDP payload: 4016
1335716098052: mux: GOT CSM_Msg
1335716098052: forwarding disabled, not forwarding packets
1335716098062: Received UDP payload: 989
1335716098065: mux: GOT CSM_Msg
1335716098065: forwarding disabled, not forwarding packets
1335716098153: Received UDP payload: 4016
1335716098156: mux: GOT CSM_Msg
1335716098156: forwarding disabled, not forwarding packets
1335716098163: Received UDP payload: 989
1335716098168: mux: GOT CSM_Msg
1335716098168: forwarding disabled, not forwarding packets
1335716098255: Received UDP payload: 4016
1335716098258: mux: GOT CSM_Msg
1335716098258: forwarding disabled, not forwarding packets
1335716098266: Received UDP payload: 989
1335716098270: mux: GOT CSM_Msg
1335716098270: forwarding disabled, not forwarding packets
1335716098364: Received UDP payload: 4016
1335716098366: mux: GOT CSM_Msg
1335716098367: forwarding disabled, not forwarding packets
1335716098373: Received UDP payload: 989
1335716098378: mux: GOT CSM_Msg
1335716098378: forwarding disabled, not forwarding packets
1335716098472: Received UDP payload: 4016
1335716098476: mux: GOT CSM_Msg
1335716098476: forwarding disabled, not forwarding packets
1335716098483: Received UDP payload: 989
1335716098512: mux: GOT CSM_Msg
1335716098512: forwarding disabled, not forwarding packets
1335716098556: Received UDP payload: 4016
1335716098561: mux: GOT CSM_Msg
1335716098562: forwarding disabled, not forwarding packets
1335716098572: Received UDP payload: 989
1335716098588: mux: GOT CSM_Msg
1335716098588: forwarding disabled, not forwarding packets
1335716098666: Received UDP payload: 4016
1335716098673: mux: GOT CSM_Msg
1335716098673: forwarding disabled, not forwarding packets
1335716098683: Received UDP payload: 989
1335716098693: mux: GOT CSM_Msg
1335716098693: forwarding disabled, not forwarding packets
1335716098763: Received UDP payload: 4016
1335716098768: mux: GOT CSM_Msg
1335716098768: forwarding disabled, not forwarding packets
1335716098772: Received UDP payload: 989
1335716098781: mux: GOT CSM_Msg
1335716098781: forwarding disabled, not forwarding packets
1335716098865: Received UDP payload: 4016
1335716098872: mux: GOT CSM_Msg
1335716098872: forwarding disabled, not forwarding packets
1335716099744: Received UDP payload: 446
1335716099939: inside sendPacket(Packet p)
1335716099942: Sending UDP payload: 446
1335716100926: Received UDP payload: 5049
1335716100934: mux: GOT CSM_Msg
1335716100935: forwarding disabled, not forwarding packets
1335716100961: Received UDP payload: 989
1335716100967: mux: GOT CSM_Msg
1335716100967: forwarding disabled, not forwarding packets
1335716102133: Received UDP payload: 446
1335716104745: Received UDP payload: 446
1335716104940: inside sendPacket(Packet p)
1335716104943: Sending UDP payload: 446
1335716107075: Received UDP payload: 5546
1335716107077: mux: GOT CSM_Msg
1335716107077: forwarding disabled, not forwarding packets
1335716107086: Received UDP payload: 989
1335716107089: mux: GOT CSM_Msg
1335716107089: forwarding disabled, not forwarding packets
1335716107116: Received UDP payload: 446
1335716109744: Received UDP payload: 446
1335716109941: inside sendPacket(Packet p)
1335716109944: Sending UDP payload: 446
1335716111405: Received UDP payload: 5712
1335716111409: mux: GOT CSM_Msg
1335716111409: forwarding disabled, not forwarding packets
1335716111423: Received UDP payload: 989
1335716111427: mux: GOT CSM_Msg
1335716111427: forwarding disabled, not forwarding packets
1335716112115: Received UDP payload: 446
1335716114707: Received UDP payload: 5204
1335716114719: mux: GOT CSM_Msg
1335716114719: forwarding disabled, not forwarding packets
1335716114733: Received UDP payload: 989
1335716114769: mux: GOT CSM_Msg
1335716114769: forwarding disabled, not forwarding packets
1335716114771: Received UDP payload: 446
1335716114942: inside sendPacket(Packet p)
1335716114943: Sending UDP payload: 446
1335716117116: Received UDP payload: 446
1335716118617: Received UDP payload: 5440
1335716118645: mux: GOT CSM_Msg
1335716118646: forwarding disabled, not forwarding packets
1335716118670: Received UDP payload: 989
1335716118689: mux: GOT CSM_Msg
1335716118689: forwarding disabled, not forwarding packets
1335716119763: Received UDP payload: 446
1335716119944: inside sendPacket(Packet p)
1335716119953: Sending UDP payload: 446
1335716122116: Received UDP payload: 446
1335716124288: Received UDP payload: 4209
1335716124291: mux: GOT CSM_Msg
1335716124291: forwarding disabled, not forwarding packets
1335716124302: Received UDP payload: 989
1335716124304: mux: GOT CSM_Msg
1335716124304: forwarding disabled, not forwarding packets
1335716124764: Received UDP payload: 446
1335716124944: inside sendPacket(Packet p)
1335716124946: Sending UDP payload: 446
1335716127118: Received UDP payload: 446
1335716129764: Received UDP payload: 446
1335716129945: inside sendPacket(Packet p)
1335716129948: Sending UDP payload: 446
1335716132117: Received UDP payload: 446
1335716132469: Received UDP payload: 4862
1335716132472: mux: Inside mux Packet.CLIENT_REQUEST
1335716132584: Received UDP payload: 5226
1335716132587: mux: GOT CSM_Msg
1335716132587: forwarding disabled, not forwarding packets
1335716132594: Received UDP payload: 446
1335716132601: mux: Inside Packet.SERVER_REPLY
1335716132602: mux: Ignoring SERVER_REPLY since it's not for me  5004
1335716132608: Received UDP payload: 989
1335716132640: mux: GOT CSM_Msg
1335716132641: forwarding disabled, not forwarding packets
1335716132680: Received UDP payload: 642
1335716132682: mux: Inside Packet.SERVER_REPLY
1335716132682: mux: Ignoring SERVER_REPLY since it's not for me  5004
1335716132702: Received UDP payload: 446
1335716132703: mux: Inside mux Packet.CLIENT_REQUEST
1335716132743: canPressButton = TRUE
1335716132744: areButtonsEnabled --> false 
1335716132744: get picture disableButtonsR
1335716132744: areButtonsEnabled --> false
1335716132769: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=6 getGood=1 getBad=4 getTimedout=0 getPercent=16%
1335716132770: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335716132770: change local requestCounter to 15
1335716132772: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004015 Client in region: 2 Client nodID: 5004
1335716132813: ----------------------------
1335716132813: inside sendRequestPacketRepeatingRunnable for requestCount = 5004015
1335716132814: I'm a leader, my requesting photos packet going to mux directly
1335716132820: --- Finished one round of sending REQUEST Packet ---------
1335716132815: mux: Inside mux Packet.CLIENT_REQUEST
1335716132815: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716132884: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716132815: inside handleClientRequest. Originator leader of region 2
1335716132815: got new request, requestCounter = 5004015
1335716132815: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716132816: Sending to region: 0
1335716132816: Sending PROC_REQUEST 11:0 (2,0)->(0,0)
1335716132816: Dispatching Atom PROC_REQUEST 11:0 (2,0)->(0,0)
1335716132817: mux: I got a CSM packet at a leader 

1335716132817: Note down new request by adding requestCounter=5004015 to HashMap processedRequests
1335716132817: Make FirstLeg Ack regardless of new or already-processed requests
1335716132817: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716132818: Sending UDP payload: 989
1335716132820: forwarding disabled, not forwarding packets
1335716132846: Received UDP payload: 989
1335716132852: mux: GOT CSM_Msg
1335716132893: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716132894: disabling progressdialog due to successful new photo get
1335716132894: Inside _enableButtons
1335716132894: areButtonsEnabled --> true
1335716132895: send final leg ack regardless of new or already-processed reply
1335716132895: inside finalLegAck: change requestCounter to 16
1335716132895: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004016 Client in region: (2,0) Client nodID: 5004
1335716132896: I'm a leader client, my final_leg packet going to mux directly
1335716132899: new client_show_remotephoto reply with replyCounter 500400012
1335716132900: note down new reply by adding replyCounter=500400012 to HashMap processedReplies
1335716132900: leader download remote photo latency = 79
1335716132900: = leader download start 1335716132814 ~ stop 1335716132893
1335716132905: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=6 getGood=2 getBad=4 getTimedout=0 getPercent=33%
1335716132905: successful reply for client get photo
1335716132905: PHOTO DATA is NULL, because region doesn't have a photo yet
1335716132852: Received PROC_REPLY 11:0 (0,0)->(2,0), handing to UserApp
1335716132852: inside handleDSMReply. Now back in originator leader of region 2
1335716132852: DSM layer: Going to and from remote region took latency = 36
1335716132852: DSM layer: orig leader sent packet at 1335716132816 ~ received reply from remote leader at 1335716132852
1335716132856: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716132856: change leader replyCounter to: 12
1335716132856: reply packet contains the newest photo/success info from the remote region
1335716132856: inside sendReplies of replyCount = 500400012
1335716132856: =======================
1335716132856: inside sendReplyRepeatingRunnable for replyCount = 500400012
1335716132857: Leader about to send REPLY packet, number: 500400012 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716132857: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716132857: === Finished one round of sending REPLY Packet =======
1335716132898: mux: Inside mux Packet.CLIENT_REQUEST
1335716132898: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716132898: inside handleClientRequest. Originator leader of region 2
1335716132898: got new request, requestCounter = 5004016
1335716132898: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400012
1335716132898: Yay the last leg succeeded. Removing reply runnables ...
1335716132898: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400012
1335716132898: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400012
1335716132898: do not send ack for received final_leg_ack
1335716133284: canPressButton = TRUE
1335716133284: areButtonsEnabled --> false 
1335716133284: get picture disableButtonsR
1335716133286: areButtonsEnabled --> false
1335716133308: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=7 getGood=2 getBad=4 getTimedout=0 getPercent=28%
1335716133309: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335716133309: change local requestCounter to 17
1335716133310: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004017 Client in region: 2 Client nodID: 5004
1335716133378: ----------------------------
1335716133378: inside sendRequestPacketRepeatingRunnable for requestCount = 5004017
1335716133379: I'm a leader, my requesting photos packet going to mux directly
1335716133384: --- Finished one round of sending REQUEST Packet ---------
1335716133379: mux: Inside mux Packet.CLIENT_REQUEST
1335716133379: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716133419: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716133379: inside handleClientRequest. Originator leader of region 2
1335716133380: got new request, requestCounter = 5004017
1335716133380: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716133380: Sending to region: 3
1335716133381: Sending PROC_REQUEST 11:1 (2,0)->(3,0)
1335716133381: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716133382: mux: I got a CSM packet at a leader 

1335716133381: Note down new request by adding requestCounter=5004017 to HashMap processedRequests
1335716133381: Make FirstLeg Ack regardless of new or already-processed requests
1335716133382: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716133384: Sending UDP payload: 989
1335716133385: forwarding disabled, not forwarding packets
1335716134096: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134097: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134100: mux: I got a CSM packet at a leader 

1335716134106: Sending UDP payload: 989
1335716134106: forwarding disabled, not forwarding packets
1335716134201: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134201: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134202: mux: I got a CSM packet at a leader 

1335716134203: Sending UDP payload: 989
1335716134203: forwarding disabled, not forwarding packets
1335716134302: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134303: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134303: mux: I got a CSM packet at a leader 

1335716134304: Sending UDP payload: 989
1335716134305: forwarding disabled, not forwarding packets
1335716134404: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134404: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134405: mux: I got a CSM packet at a leader 

1335716134407: Sending UDP payload: 989
1335716134407: forwarding disabled, not forwarding packets
1335716134505: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134506: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134507: mux: I got a CSM packet at a leader 

1335716134508: Sending UDP payload: 989
1335716134510: forwarding disabled, not forwarding packets
1335716134607: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134608: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134608: mux: I got a CSM packet at a leader 

1335716134610: Sending UDP payload: 989
1335716134612: forwarding disabled, not forwarding packets
1335716134709: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134710: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134711: mux: I got a CSM packet at a leader 

1335716134713: Sending UDP payload: 989
1335716134715: forwarding disabled, not forwarding packets
1335716134766: Received UDP payload: 446
1335716134821: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134828: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134829: mux: I got a CSM packet at a leader 

1335716134834: Sending UDP payload: 989
1335716134837: forwarding disabled, not forwarding packets
1335716134929: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134930: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716134930: mux: I got a CSM packet at a leader 

1335716134931: Sending UDP payload: 989
1335716134932: forwarding disabled, not forwarding packets
1335716134946: inside sendPacket(Packet p)
1335716134947: Sending UDP payload: 446
1335716135031: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716135031: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716135031: mux: I got a CSM packet at a leader 

1335716135032: Sending UDP payload: 989
1335716135042: forwarding disabled, not forwarding packets
1335716135133: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716135134: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716135134: mux: I got a CSM packet at a leader 

1335716135136: Sending UDP payload: 989
1335716135142: forwarding disabled, not forwarding packets
1335716135234: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716135235: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716135235: mux: I got a CSM packet at a leader 

1335716135236: Sending UDP payload: 989
1335716135242: forwarding disabled, not forwarding packets
1335716135335: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716135336: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716135336: mux: I got a CSM packet at a leader 

1335716135337: Sending UDP payload: 989
1335716135338: forwarding disabled, not forwarding packets
1335716135437: Retrying PROC_REQUEST 11:1 (2,0)->(3,0)
1335716135437: Dispatching Atom PROC_REQUEST 11:1 (2,0)->(3,0)
1335716135437: mux: I got a CSM packet at a leader 

1335716135438: Sending UDP payload: 989
1335716135439: forwarding disabled, not forwarding packets
1335716135538: DSM Layer: Request timed out, send failure PROC_REPLY 11:1 (3,0)->(2,0)
1335716135538: Dispatching Atom PROC_REPLY 11:1 (3,0)->(2,0)
1335716135538: mux: I got a CSM packet at a leader 

1335716135563: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716135564: disabling progressdialog due to successful new photo get
1335716135565: Inside _enableButtons
1335716135566: areButtonsEnabled --> true
1335716135567: send final leg ack regardless of new or already-processed reply
1335716135568: inside finalLegAck: change requestCounter to 18
1335716135569: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004018 Client in region: (2,0) Client nodID: 5004
1335716135570: I'm a leader client, my final_leg packet going to mux directly
1335716135571: new client_show_remotephoto reply with replyCounter 500400013
1335716135573: note down new reply by adding replyCounter=500400013 to HashMap processedReplies
1335716135575: leader download remote photo latency = 2184
1335716135576: = leader download start 1335716133379 ~ stop 1335716135563
1335716135578: Can't get remote photo, because DSM Layer on originator leader timed out
1335716135582: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=7 getGood=2 getBad=5 getTimedout=0 getPercent=28%
1335716135582: getBad++
1335716135540: Sending UDP payload: 989
1335716135542: Received PROC_REPLY 11:1 (3,0)->(2,0), handing to UserApp
1335716135543: inside handleDSMReply. Now back in originator leader of region 2
1335716135543: DSM layer timed out, don't log dsm layer latency stuff.
1335716135544: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716135544: change leader replyCounter to: 13
1335716135544: reply packet contains the newest photo/success info from the remote region
1335716135544: inside sendReplies of replyCount = 500400013
1335716135545: =======================
1335716135545: inside sendReplyRepeatingRunnable for replyCount = 500400013
1335716135545: Leader about to send REPLY packet, number: 500400013 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716135545: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716135545: === Finished one round of sending REPLY Packet =======
1335716135571: mux: Inside mux Packet.CLIENT_REQUEST
1335716135571: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716135572: inside handleClientRequest. Originator leader of region 2
1335716135572: got new request, requestCounter = 5004018
1335716135572: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400013
1335716135572: Yay the last leg succeeded. Removing reply runnables ...
1335716135572: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400013
1335716135572: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400013
1335716135572: do not send ack for received final_leg_ack
1335716137115: Received UDP payload: 446
1335716139767: Received UDP payload: 446
1335716139946: inside sendPacket(Packet p)
1335716139949: Sending UDP payload: 446
1335716140647: canPressButton = TRUE
1335716140647: areButtonsEnabled --> false 
1335716140648: get picture disableButtonsR
1335716140648: areButtonsEnabled --> false
1335716140687: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=8 getGood=2 getBad=5 getTimedout=0 getPercent=25%
1335716140688: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335716140689: change local requestCounter to 19
1335716140691: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004019 Client in region: 2 Client nodID: 5004
1335716140724: ----------------------------
1335716140724: inside sendRequestPacketRepeatingRunnable for requestCount = 5004019
1335716140725: I'm a leader, my requesting photos packet going to mux directly
1335716140754: --- Finished one round of sending REQUEST Packet ---------
1335716140725: mux: Inside mux Packet.CLIENT_REQUEST
1335716140725: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716140812: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716140725: inside handleClientRequest. Originator leader of region 2
1335716140725: got new request, requestCounter = 5004019
1335716140725: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716140726: Sending to region: 2
1335716140727: Sending PROC_REQUEST 11:4 (2,0)->(2,0)
1335716140727: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(2,0)
1335716140728: mux: I got a CSM packet at a leader 

1335716140727: Note down new request by adding requestCounter=5004019 to HashMap processedRequests
1335716140727: Make FirstLeg Ack regardless of new or already-processed requests
1335716140727: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716140730: Sending UDP payload: 989
1335716140750: removed replies before id 4 from sentReplies of size 0
1335716140750: inside handleDSMRequest. At requests's remote leader of region 2
1335716140752: INSIDE SERVER_GET_PHOTO!!!
1335716140757: dst_region == src_region = 2
1335716140757:  1 self to self atomRequest
1335716140780: Received PROC_REQUEST 11:4 (2,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(2,0)
1335716140781: Dispatching Atom PROC_REPLY 11:4 (2,0)->(2,0)
1335716140782: mux: I got a CSM packet at a leader 

1335716140817: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716140817: disabling progressdialog due to successful new photo get
1335716140826: Inside _enableButtons
1335716140827: areButtonsEnabled --> true
1335716140828: send final leg ack regardless of new or already-processed reply
1335716140828: inside finalLegAck: change requestCounter to 20
1335716140828: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004020 Client in region: (2,0) Client nodID: 5004
1335716140829: I'm a leader client, my final_leg packet going to mux directly
1335716140859: new client_show_remotephoto reply with replyCounter 500400014
1335716140859: note down new reply by adding replyCounter=500400014 to HashMap processedReplies
1335716140860: leader download remote photo latency = 92
1335716140860: = leader download start 1335716140725 ~ stop 1335716140817
1335716140866: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=8 getGood=3 getBad=5 getTimedout=0 getPercent=37%
1335716140867: successful reply for client get photo
1335716140867: Success! Client getting photo from remote region, showing photo...
1335716140867: Remote photo's length: 4944
1335716140785: Sending UDP payload: 5955
1335716140797: Received PROC_REPLY 11:4 (2,0)->(2,0), handing to UserApp
1335716140798: inside handleDSMReply. Now back in originator leader of region 2
1335716140798: DSM layer: Going to and from remote region took latency = 72
1335716140798: DSM layer: orig leader sent packet at 1335716140726 ~ received reply from remote leader at 1335716140798
1335716140800: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716140801: change leader replyCounter to: 14
1335716140801: reply packet contains the newest photo/success info from the remote region
1335716140802: inside sendReplies of replyCount = 500400014
1335716140802: =======================
1335716140802: inside sendReplyRepeatingRunnable for replyCount = 500400014
1335716140803: Leader about to send REPLY packet, number: 500400014 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716140803: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716140803: === Finished one round of sending REPLY Packet =======
1335716140829: mux: Inside mux Packet.CLIENT_REQUEST
1335716140829: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716140829: inside handleClientRequest. Originator leader of region 2
1335716140829: got new request, requestCounter = 5004020
1335716140829: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400014
1335716140830: Yay the last leg succeeded. Removing reply runnables ...
1335716140830: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400014
1335716140856: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400014
1335716140856: do not send ack for received final_leg_ack
1335716142119: Received UDP payload: 446
1335716142346: canPressButton = TRUE
1335716142348: areButtonsEnabled --> false 
1335716142348: get picture disableButtonsR
1335716142349: areButtonsEnabled --> false
1335716142385: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=9 getGood=3 getBad=5 getTimedout=0 getPercent=33%
1335716142385: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335716142386: change local requestCounter to 21
1335716142387: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004021 Client in region: 2 Client nodID: 5004
1335716142412: ----------------------------
1335716142413: inside sendRequestPacketRepeatingRunnable for requestCount = 5004021
1335716142414: I'm a leader, my requesting photos packet going to mux directly
1335716142422: --- Finished one round of sending REQUEST Packet ---------
1335716142414: mux: Inside mux Packet.CLIENT_REQUEST
1335716142414: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716142443: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716142414: inside handleClientRequest. Originator leader of region 2
1335716142414: got new request, requestCounter = 5004021
1335716142414: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716142415: Sending to region: 3
1335716142416: Sending PROC_REQUEST 11:2 (2,0)->(3,0)
1335716142416: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716142417: mux: I got a CSM packet at a leader 

1335716142416: Note down new request by adding requestCounter=5004021 to HashMap processedRequests
1335716142416: Make FirstLeg Ack regardless of new or already-processed requests
1335716142416: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716142419: Sending UDP payload: 989
1335716142421: forwarding disabled, not forwarding packets
1335716143122: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143122: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143123: mux: I got a CSM packet at a leader 

1335716143124: Sending UDP payload: 989
1335716143124: forwarding disabled, not forwarding packets
1335716143223: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143223: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143224: mux: I got a CSM packet at a leader 

1335716143225: Sending UDP payload: 989
1335716143225: forwarding disabled, not forwarding packets
1335716143324: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143324: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143325: mux: I got a CSM packet at a leader 

1335716143326: Sending UDP payload: 989
1335716143326: forwarding disabled, not forwarding packets
1335716143425: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143426: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143426: mux: I got a CSM packet at a leader 

1335716143427: Sending UDP payload: 989
1335716143428: forwarding disabled, not forwarding packets
1335716143526: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143527: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143527: mux: I got a CSM packet at a leader 

1335716143529: Sending UDP payload: 989
1335716143529: forwarding disabled, not forwarding packets
1335716143628: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143628: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143628: mux: I got a CSM packet at a leader 

1335716143629: Sending UDP payload: 989
1335716143630: forwarding disabled, not forwarding packets
1335716143729: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143729: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143729: mux: I got a CSM packet at a leader 

1335716143730: Sending UDP payload: 989
1335716143731: forwarding disabled, not forwarding packets
1335716143830: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143830: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143830: mux: I got a CSM packet at a leader 

1335716143831: Sending UDP payload: 989
1335716143832: forwarding disabled, not forwarding packets
1335716143931: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143931: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716143931: mux: I got a CSM packet at a leader 

1335716143933: Sending UDP payload: 989
1335716143933: forwarding disabled, not forwarding packets
1335716144032: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716144033: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716144033: mux: I got a CSM packet at a leader 

1335716144035: Sending UDP payload: 989
1335716144042: forwarding disabled, not forwarding packets
1335716144134: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716144134: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716144135: mux: I got a CSM packet at a leader 

1335716144136: Sending UDP payload: 989
1335716144150: forwarding disabled, not forwarding packets
1335716144235: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716144236: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716144237: mux: I got a CSM packet at a leader 

1335716144239: Sending UDP payload: 989
1335716144242: forwarding disabled, not forwarding packets
1335716144337: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716144338: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716144338: mux: I got a CSM packet at a leader 

1335716144340: Sending UDP payload: 989
1335716144342: forwarding disabled, not forwarding packets
1335716144439: Retrying PROC_REQUEST 11:2 (2,0)->(3,0)
1335716144439: Dispatching Atom PROC_REQUEST 11:2 (2,0)->(3,0)
1335716144440: mux: I got a CSM packet at a leader 

1335716144442: Sending UDP payload: 989
1335716144443: forwarding disabled, not forwarding packets
1335716144541: DSM Layer: Request timed out, send failure PROC_REPLY 11:2 (3,0)->(2,0)
1335716144541: Dispatching Atom PROC_REPLY 11:2 (3,0)->(2,0)
1335716144541: mux: I got a CSM packet at a leader 

1335716144558: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716144559: disabling progressdialog due to successful new photo get
1335716144560: Inside _enableButtons
1335716144560: areButtonsEnabled --> true
1335716144562: send final leg ack regardless of new or already-processed reply
1335716144564: inside finalLegAck: change requestCounter to 22
1335716144565: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004022 Client in region: (2,0) Client nodID: 5004
1335716144566: I'm a leader client, my final_leg packet going to mux directly
1335716144569: new client_show_remotephoto reply with replyCounter 500400015
1335716144570: note down new reply by adding replyCounter=500400015 to HashMap processedReplies
1335716144571: leader download remote photo latency = 2144
1335716144573: = leader download start 1335716142414 ~ stop 1335716144558
1335716144575: Can't get remote photo, because DSM Layer on originator leader timed out
1335716144580: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=9 getGood=3 getBad=6 getTimedout=0 getPercent=33%
1335716144582: getBad++
1335716144543: Sending UDP payload: 989
1335716144549: Received PROC_REPLY 11:2 (3,0)->(2,0), handing to UserApp
1335716144549: inside handleDSMReply. Now back in originator leader of region 2
1335716144550: DSM layer timed out, don't log dsm layer latency stuff.
1335716144553: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716144554: change leader replyCounter to: 15
1335716144554: reply packet contains the newest photo/success info from the remote region
1335716144554: inside sendReplies of replyCount = 500400015
1335716144555: =======================
1335716144555: inside sendReplyRepeatingRunnable for replyCount = 500400015
1335716144555: Leader about to send REPLY packet, number: 500400015 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716144555: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716144556: === Finished one round of sending REPLY Packet =======
1335716144566: mux: Inside mux Packet.CLIENT_REQUEST
1335716144567: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716144567: inside handleClientRequest. Originator leader of region 2
1335716144567: got new request, requestCounter = 5004022
1335716144567: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400015
1335716144567: Yay the last leg succeeded. Removing reply runnables ...
1335716144568: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400015
1335716144568: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400015
1335716144569: do not send ack for received final_leg_ack
1335716144770: Received UDP payload: 446
1335716144948: inside sendPacket(Packet p)
1335716144949: Sending UDP payload: 446
1335716145104: canPressButton = TRUE
1335716145104: areButtonsEnabled --> false 
1335716145105: get picture disableButtonsR
1335716145108: areButtonsEnabled --> false
1335716145147: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=10 getGood=3 getBad=6 getTimedout=0 getPercent=30%
1335716145148: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335716145148: change local requestCounter to 23
1335716145149: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004023 Client in region: 2 Client nodID: 5004
1335716145172: ----------------------------
1335716145172: inside sendRequestPacketRepeatingRunnable for requestCount = 5004023
1335716145173: I'm a leader, my requesting photos packet going to mux directly
1335716145177: --- Finished one round of sending REQUEST Packet ---------
1335716145173: mux: Inside mux Packet.CLIENT_REQUEST
1335716145174: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716145193: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716145174: inside handleClientRequest. Originator leader of region 2
1335716145174: got new request, requestCounter = 5004023
1335716145174: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716145175: Sending to region: 1
1335716145175: Sending PROC_REQUEST 11:5 (2,0)->(1,0)
1335716145175: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(1,0)
1335716145176: mux: I got a CSM packet at a leader 

1335716145176: Note down new request by adding requestCounter=5004023 to HashMap processedRequests
1335716145176: Make FirstLeg Ack regardless of new or already-processed requests
1335716145176: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716145177: Sending UDP payload: 989
1335716145178: forwarding disabled, not forwarding packets
1335716145273: Received UDP payload: 5226
1335716145277: mux: GOT CSM_Msg
1335716145277: Received PROC_REPLY 11:5 (1,0)->(2,0), handing to UserApp
1335716145278: inside handleDSMReply. Now back in originator leader of region 2
1335716145278: DSM layer: Going to and from remote region took latency = 103
1335716145278: DSM layer: orig leader sent packet at 1335716145175 ~ received reply from remote leader at 1335716145278
1335716145279: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716145279: change leader replyCounter to: 16
1335716145279: reply packet contains the newest photo/success info from the remote region
1335716145279: inside sendReplies of replyCount = 500400016
1335716145280: =======================
1335716145280: inside sendReplyRepeatingRunnable for replyCount = 500400016
1335716145280: Leader about to send REPLY packet, number: 500400016 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716145283: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716145284: disabling progressdialog due to successful new photo get
1335716145285: Inside _enableButtons
1335716145287: areButtonsEnabled --> true
1335716145288: send final leg ack regardless of new or already-processed reply
1335716145288: inside finalLegAck: change requestCounter to 24
1335716145289: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004024 Client in region: (2,0) Client nodID: 5004
1335716145290: I'm a leader client, my final_leg packet going to mux directly
1335716145293: new client_show_remotephoto reply with replyCounter 500400016
1335716145294: note down new reply by adding replyCounter=500400016 to HashMap processedReplies
1335716145295: leader download remote photo latency = 110
1335716145296: = leader download start 1335716145173 ~ stop 1335716145283
1335716145298: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=10 getGood=4 getBad=6 getTimedout=0 getPercent=40%
1335716145298: successful reply for client get photo
1335716145299: Success! Client getting photo from remote region, showing photo...
1335716145299: Remote photo's length: 4215
1335716145280: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716145280: === Finished one round of sending REPLY Packet =======
1335716145290: mux: Inside mux Packet.CLIENT_REQUEST
1335716145290: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716145290: inside handleClientRequest. Originator leader of region 2
1335716145290: got new request, requestCounter = 5004024
1335716145291: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400016
1335716145291: Yay the last leg succeeded. Removing reply runnables ...
1335716145291: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400016
1335716145291: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400016
1335716145291: do not send ack for received final_leg_ack
1335716146512: canPressButton = TRUE
1335716146512: areButtonsEnabled --> false 
1335716146516: get picture disableButtonsR
1335716146516: areButtonsEnabled --> false
1335716146536: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=11 getGood=4 getBad=6 getTimedout=0 getPercent=36%
1335716146537: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335716146537: change local requestCounter to 25
1335716146538: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004025 Client in region: 2 Client nodID: 5004
1335716146560: ----------------------------
1335716146562: inside sendRequestPacketRepeatingRunnable for requestCount = 5004025
1335716146562: I'm a leader, my requesting photos packet going to mux directly
1335716146573: --- Finished one round of sending REQUEST Packet ---------
1335716146563: mux: Inside mux Packet.CLIENT_REQUEST
1335716146563: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716146594: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716146563: inside handleClientRequest. Originator leader of region 2
1335716146563: got new request, requestCounter = 5004025
1335716146563: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716146564: Sending to region: 1
1335716146565: Sending PROC_REQUEST 11:6 (2,0)->(1,0)
1335716146565: Dispatching Atom PROC_REQUEST 11:6 (2,0)->(1,0)
1335716146566: mux: I got a CSM packet at a leader 

1335716146565: Note down new request by adding requestCounter=5004025 to HashMap processedRequests
1335716146565: Make FirstLeg Ack regardless of new or already-processed requests
1335716146565: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716146570: Sending UDP payload: 989
1335716146572: forwarding disabled, not forwarding packets
1335716146691: Received UDP payload: 5226
1335716146698: mux: GOT CSM_Msg
1335716146711: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716146712: disabling progressdialog due to successful new photo get
1335716146713: Inside _enableButtons
1335716146715: areButtonsEnabled --> true
1335716146716: send final leg ack regardless of new or already-processed reply
1335716146716: inside finalLegAck: change requestCounter to 26
1335716146716: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004026 Client in region: (2,0) Client nodID: 5004
1335716146717: I'm a leader client, my final_leg packet going to mux directly
1335716146727: new client_show_remotephoto reply with replyCounter 500400017
1335716146727: note down new reply by adding replyCounter=500400017 to HashMap processedReplies
1335716146727: leader download remote photo latency = 148
1335716146728: = leader download start 1335716146563 ~ stop 1335716146711
1335716146729: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=11 getGood=5 getBad=6 getTimedout=0 getPercent=45%
1335716146729: successful reply for client get photo
1335716146730: Success! Client getting photo from remote region, showing photo...
1335716146730: Remote photo's length: 4215
1335716146698: Received PROC_REPLY 11:6 (1,0)->(2,0), handing to UserApp
1335716146698: inside handleDSMReply. Now back in originator leader of region 2
1335716146698: DSM layer: Going to and from remote region took latency = 134
1335716146698: DSM layer: orig leader sent packet at 1335716146564 ~ received reply from remote leader at 1335716146698
1335716146699: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716146700: change leader replyCounter to: 17
1335716146700: reply packet contains the newest photo/success info from the remote region
1335716146700: inside sendReplies of replyCount = 500400017
1335716146700: =======================
1335716146700: inside sendReplyRepeatingRunnable for replyCount = 500400017
1335716146700: Leader about to send REPLY packet, number: 500400017 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716146700: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716146700: === Finished one round of sending REPLY Packet =======
1335716146717: mux: Inside mux Packet.CLIENT_REQUEST
1335716146717: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716146717: inside handleClientRequest. Originator leader of region 2
1335716146718: got new request, requestCounter = 5004026
1335716146718: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400017
1335716146718: Yay the last leg succeeded. Removing reply runnables ...
1335716146718: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400017
1335716146718: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400017
1335716146718: do not send ack for received final_leg_ack
1335716147128: Received UDP payload: 446
1335716147209: canPressButton = TRUE
1335716147210: areButtonsEnabled --> false 
1335716147211: get picture disableButtonsR
1335716147212: areButtonsEnabled --> false
1335716147247: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=12 getGood=5 getBad=6 getTimedout=0 getPercent=41%
1335716147248: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335716147249: change local requestCounter to 27
1335716147251: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004027 Client in region: 2 Client nodID: 5004
1335716147271: ----------------------------
1335716147271: inside sendRequestPacketRepeatingRunnable for requestCount = 5004027
1335716147271: I'm a leader, my requesting photos packet going to mux directly
1335716147272: --- Finished one round of sending REQUEST Packet ---------
1335716147272: mux: Inside mux Packet.CLIENT_REQUEST
1335716147272: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716147304: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716147272: inside handleClientRequest. Originator leader of region 2
1335716147272: got new request, requestCounter = 5004027
1335716147273: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716147273: Sending to region: 2
1335716147275: Sending PROC_REQUEST 11:5 (2,0)->(2,0)
1335716147276: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(2,0)
1335716147276: mux: I got a CSM packet at a leader 

1335716147276: Note down new request by adding requestCounter=5004027 to HashMap processedRequests
1335716147276: Make FirstLeg Ack regardless of new or already-processed requests
1335716147276: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716147278: Sending UDP payload: 989
1335716147279: removed replies before id 5 from sentReplies of size 0
1335716147279: inside handleDSMRequest. At requests's remote leader of region 2
1335716147280: INSIDE SERVER_GET_PHOTO!!!
1335716147282: dst_region == src_region = 2
1335716147282:  1 self to self atomRequest
1335716147284: Received PROC_REQUEST 11:5 (2,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(2,0)
1335716147284: Dispatching Atom PROC_REPLY 11:5 (2,0)->(2,0)
1335716147285: mux: I got a CSM packet at a leader 

1335716147287: Sending UDP payload: 5955
1335716147288: Received PROC_REPLY 11:5 (2,0)->(2,0), handing to UserApp
1335716147289: inside handleDSMReply. Now back in originator leader of region 2
1335716147289: DSM layer: Going to and from remote region took latency = 14
1335716147289: DSM layer: orig leader sent packet at 1335716147275 ~ received reply from remote leader at 1335716147289
1335716147291: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716147291: change leader replyCounter to: 18
1335716147291: reply packet contains the newest photo/success info from the remote region
1335716147292: inside sendReplies of replyCount = 500400018
1335716147292: =======================
1335716147292: inside sendReplyRepeatingRunnable for replyCount = 500400018
1335716147309: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716147309: disabling progressdialog due to successful new photo get
1335716147309: Inside _enableButtons
1335716147310: areButtonsEnabled --> true
1335716147310: send final leg ack regardless of new or already-processed reply
1335716147310: inside finalLegAck: change requestCounter to 28
1335716147311: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004028 Client in region: (2,0) Client nodID: 5004
1335716147311: I'm a leader client, my final_leg packet going to mux directly
1335716147312: new client_show_remotephoto reply with replyCounter 500400018
1335716147313: note down new reply by adding replyCounter=500400018 to HashMap processedReplies
1335716147314: leader download remote photo latency = 37
1335716147315: = leader download start 1335716147272 ~ stop 1335716147309
1335716147318: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=12 getGood=6 getBad=6 getTimedout=0 getPercent=50%
1335716147319: successful reply for client get photo
1335716147320: Success! Client getting photo from remote region, showing photo...
1335716147320: Remote photo's length: 4944
1335716147292: Leader about to send REPLY packet, number: 500400018 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716147293: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716147293: === Finished one round of sending REPLY Packet =======
1335716147312: mux: Inside mux Packet.CLIENT_REQUEST
1335716147316: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716147316: inside handleClientRequest. Originator leader of region 2
1335716147316: got new request, requestCounter = 5004028
1335716147316: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400018
1335716147316: Yay the last leg succeeded. Removing reply runnables ...
1335716147316: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400018
1335716147317: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400018
1335716147317: do not send ack for received final_leg_ack
1335716148059: canPressButton = TRUE
1335716148060: areButtonsEnabled --> false 
1335716148060: get picture disableButtonsR
1335716148060: areButtonsEnabled --> false
1335716148086: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=13 getGood=6 getBad=6 getTimedout=0 getPercent=46%
1335716148087: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335716148087: change local requestCounter to 29
1335716148088: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5004029 Client in region: 2 Client nodID: 5004
1335716148111: ----------------------------
1335716148111: inside sendRequestPacketRepeatingRunnable for requestCount = 5004029
1335716148111: I'm a leader, my requesting photos packet going to mux directly
1335716148112: --- Finished one round of sending REQUEST Packet ---------
1335716148112: mux: Inside mux Packet.CLIENT_REQUEST
1335716148112: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716148134: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335716148112: inside handleClientRequest. Originator leader of region 2
1335716148112: got new request, requestCounter = 5004029
1335716148112: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335716148113: Sending to region: 3
1335716148114: Sending PROC_REQUEST 11:3 (2,0)->(3,0)
1335716148114: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716148114: mux: I got a CSM packet at a leader 

1335716148114: Note down new request by adding requestCounter=5004029 to HashMap processedRequests
1335716148114: Make FirstLeg Ack regardless of new or already-processed requests
1335716148114: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5004)
1335716148117: Sending UDP payload: 989
1335716148125: forwarding disabled, not forwarding packets
1335716148888: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716148888: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716148888: mux: I got a CSM packet at a leader 

1335716148889: Sending UDP payload: 989
1335716148896: forwarding disabled, not forwarding packets
1335716148989: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716148989: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716148990: mux: I got a CSM packet at a leader 

1335716148991: Sending UDP payload: 989
1335716148991: forwarding disabled, not forwarding packets
1335716149090: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149090: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149091: mux: I got a CSM packet at a leader 

1335716149092: Sending UDP payload: 989
1335716149092: forwarding disabled, not forwarding packets
1335716149191: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149192: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149192: mux: I got a CSM packet at a leader 

1335716149193: Sending UDP payload: 989
1335716149193: forwarding disabled, not forwarding packets
1335716149293: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149294: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149294: mux: I got a CSM packet at a leader 

1335716149296: Sending UDP payload: 989
1335716149302: forwarding disabled, not forwarding packets
1335716149395: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149395: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149395: mux: I got a CSM packet at a leader 

1335716149396: Sending UDP payload: 989
1335716149397: forwarding disabled, not forwarding packets
1335716149496: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149496: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149496: mux: I got a CSM packet at a leader 

1335716149497: Sending UDP payload: 989
1335716149498: forwarding disabled, not forwarding packets
1335716149597: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149597: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149597: mux: I got a CSM packet at a leader 

1335716149598: Sending UDP payload: 989
1335716149599: forwarding disabled, not forwarding packets
1335716149698: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149698: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149699: mux: I got a CSM packet at a leader 

1335716149700: Sending UDP payload: 989
1335716149701: forwarding disabled, not forwarding packets
1335716149769: Received UDP payload: 446
1335716149798: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149799: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149800: mux: I got a CSM packet at a leader 

1335716149801: Sending UDP payload: 989
1335716149803: forwarding disabled, not forwarding packets
1335716149900: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149900: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716149900: mux: I got a CSM packet at a leader 

1335716149902: Sending UDP payload: 989
1335716149902: forwarding disabled, not forwarding packets
1335716149949: inside sendPacket(Packet p)
1335716149951: Sending UDP payload: 446
1335716150001: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716150002: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716150003: mux: I got a CSM packet at a leader 

1335716150005: Sending UDP payload: 989
1335716150019: forwarding disabled, not forwarding packets
1335716150103: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716150104: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716150105: mux: I got a CSM packet at a leader 

1335716150107: Sending UDP payload: 989
1335716150114: forwarding disabled, not forwarding packets
1335716150207: Retrying PROC_REQUEST 11:3 (2,0)->(3,0)
1335716150207: Dispatching Atom PROC_REQUEST 11:3 (2,0)->(3,0)
1335716150208: mux: I got a CSM packet at a leader 

1335716150210: Sending UDP payload: 989
1335716150213: forwarding disabled, not forwarding packets
1335716150309: DSM Layer: Request timed out, send failure PROC_REPLY 11:3 (3,0)->(2,0)
1335716150310: Dispatching Atom PROC_REPLY 11:3 (3,0)->(2,0)
1335716150310: mux: I got a CSM packet at a leader 

1335716150327: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335716150328: disabling progressdialog due to successful new photo get
1335716150329: Inside _enableButtons
1335716150330: areButtonsEnabled --> true
1335716150332: send final leg ack regardless of new or already-processed reply
1335716150333: inside finalLegAck: change requestCounter to 30
1335716150334: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5004030 Client in region: (2,0) Client nodID: 5004
1335716150335: I'm a leader client, my final_leg packet going to mux directly
1335716150350: new client_show_remotephoto reply with replyCounter 500400019
1335716150351: note down new reply by adding replyCounter=500400019 to HashMap processedReplies
1335716150352: leader download remote photo latency = 2215
1335716150353: = leader download start 1335716148112 ~ stop 1335716150327
1335716150355: Can't get remote photo, because DSM Layer on originator leader timed out
1335716150366: reg=2 id=5004 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=1 takeTimedout=0 takePercent=50% getNum=13 getGood=6 getBad=7 getTimedout=0 getPercent=46%
1335716150367: getBad++
1335716150313: Sending UDP payload: 989
1335716150315: Received PROC_REPLY 11:3 (3,0)->(2,0), handing to UserApp
1335716150315: inside handleDSMReply. Now back in originator leader of region 2
1335716150316: DSM layer timed out, don't log dsm layer latency stuff.
1335716150318: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335716150319: change leader replyCounter to: 19
1335716150319: reply packet contains the newest photo/success info from the remote region
1335716150319: inside sendReplies of replyCount = 500400019
1335716150320: =======================
1335716150320: inside sendReplyRepeatingRunnable for replyCount = 500400019
1335716150320: Leader about to send REPLY packet, number: 500400019 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335716150321: I (the leader) was also the originator client (id = 5004) so I hand the packet to my mux directly, without UDP
1335716150323: === Finished one round of sending REPLY Packet =======
1335716150335: mux: Inside mux Packet.CLIENT_REQUEST
1335716150336: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335716150336: inside handleClientRequest. Originator leader of region 2
1335716150336: got new request, requestCounter = 5004030
1335716150343: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500400019
1335716150344: Yay the last leg succeeded. Removing reply runnables ...
1335716150346: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500400019
1335716150346: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500400019
1335716150348: do not send ack for received final_leg_ack
1335716152122: Received UDP payload: 446
1335716154769: Received UDP payload: 446
1335716154950: inside sendPacket(Packet p)
1335716154951: Sending UDP payload: 446
1335716157122: Received UDP payload: 446
1335716159772: Received UDP payload: 446
1335716159951: inside sendPacket(Packet p)
1335716159954: Sending UDP payload: 446
1335716162121: Received UDP payload: 446
1335716164697: leader to cloud hearbeat...
1335716164782: Received UDP payload: 446
1335716165107: inside sendPacket(Packet p)
1335716165124: Sending UDP payload: 446
1335716167124: Received UDP payload: 446
1335716169772: Received UDP payload: 446
1335716170127: inside sendPacket(Packet p)
1335716170128: Sending UDP payload: 446
1335716172122: Received UDP payload: 446
1335716174782: Received UDP payload: 446
1335716175128: inside sendPacket(Packet p)
1335716175129: Sending UDP payload: 446
1335716177124: Received UDP payload: 446
1335716179774: Received UDP payload: 446
1335716180129: inside sendPacket(Packet p)
1335716180130: Sending UDP payload: 446
1335716182126: Received UDP payload: 446
1335716184782: Received UDP payload: 446
1335716185130: inside sendPacket(Packet p)
1335716185131: Sending UDP payload: 446
1335716187126: Received UDP payload: 446
1335716189782: Received UDP payload: 446
1335716190130: inside sendPacket(Packet p)
1335716190131: Sending UDP payload: 446
1335716192124: Received UDP payload: 446
1335716194778: Received UDP payload: 446
1335716195131: inside sendPacket(Packet p)
1335716195132: Sending UDP payload: 446
1335716197126: Received UDP payload: 446
1335716199779: Received UDP payload: 446
1335716200131: inside sendPacket(Packet p)
1335716200133: Sending UDP payload: 446
1335716202126: Received UDP payload: 446
1335716204782: Received UDP payload: 446
1335716205132: inside sendPacket(Packet p)
1335716205133: Sending UDP payload: 446
1335716207126: Received UDP payload: 446
1335716209783: Received UDP payload: 446
1335716210132: inside sendPacket(Packet p)
1335716210134: Sending UDP payload: 446
1335716212127: Received UDP payload: 446
1335716214794: Received UDP payload: 446
1335716215133: inside sendPacket(Packet p)
1335716215134: Sending UDP payload: 446
1335716217129: Received UDP payload: 446
1335716219792: Received UDP payload: 446
1335716220133: inside sendPacket(Packet p)
1335716220134: Sending UDP payload: 446
1335716222126: Received UDP payload: 446
1335716224782: Received UDP payload: 446
1335716225133: inside sendPacket(Packet p)
1335716225134: Sending UDP payload: 446
1335716227129: Received UDP payload: 446
1335716229783: Received UDP payload: 446
1335716230133: inside sendPacket(Packet p)
1335716230135: Sending UDP payload: 446
1335716232129: Received UDP payload: 446
1335716234786: Received UDP payload: 446
1335716235133: inside sendPacket(Packet p)
1335716235134: Sending UDP payload: 446
1335716237128: Received UDP payload: 446
1335716239795: Received UDP payload: 446
1335716240134: inside sendPacket(Packet p)
1335716240136: Sending UDP payload: 446
1335716242133: Received UDP payload: 446
1335716244798: Received UDP payload: 446
1335716245135: inside sendPacket(Packet p)
1335716245138: Sending UDP payload: 446
1335716247133: Received UDP payload: 446
1335716249798: Received UDP payload: 446
1335716250137: inside sendPacket(Packet p)
1335716250139: Sending UDP payload: 446
1335716252132: Received UDP payload: 446
1335716254805: Received UDP payload: 446
1335716255137: inside sendPacket(Packet p)
1335716255139: Sending UDP payload: 446
1335716257134: Received UDP payload: 446
1335716259805: Received UDP payload: 446
1335716260137: inside sendPacket(Packet p)
1335716260138: Sending UDP payload: 446
1335716262133: Received UDP payload: 446
1335716264805: Received UDP payload: 446
1335716265138: inside sendPacket(Packet p)
1335716265139: Sending UDP payload: 446
1335716267137: Received UDP payload: 446
1335716267834: Received UDP payload: 989
1335716267858: mux: GOT CSM_Msg
1335716267858: forwarding disabled, not forwarding packets
1335716267875: Received UDP payload: 989
1335716267878: mux: GOT CSM_Msg
1335716267878: forwarding disabled, not forwarding packets
1335716269806: Received UDP payload: 446
1335716270138: inside sendPacket(Packet p)
1335716270139: Sending UDP payload: 446
1335716272137: Received UDP payload: 446
1335716274814: Received UDP payload: 446
1335716275139: inside sendPacket(Packet p)
1335716275140: Sending UDP payload: 446
1335716277138: Received UDP payload: 446
1335716279818: Received UDP payload: 446
1335716280140: inside sendPacket(Packet p)
1335716280141: Sending UDP payload: 446
1335716282134: Received UDP payload: 446
1335716284825: Received UDP payload: 446
1335716285106: leader to cloud hearbeat...
1335716285470: inside sendPacket(Packet p)
1335716285479: Sending UDP payload: 446
1335716287136: Received UDP payload: 446
1335716289826: Received UDP payload: 446
1335716290482: inside sendPacket(Packet p)
1335716290485: Sending UDP payload: 446
1335716292140: Received UDP payload: 446
1335716294840: Received UDP payload: 446
1335716295484: inside sendPacket(Packet p)
1335716295486: Sending UDP payload: 446
1335716297138: Received UDP payload: 446
1335716299857: Received UDP payload: 446
1335716300484: inside sendPacket(Packet p)
1335716300485: Sending UDP payload: 446
1335716302139: Received UDP payload: 446
1335716304876: Received UDP payload: 446
1335716305491: inside sendPacket(Packet p)
1335716305494: Sending UDP payload: 446
1335716307139: Received UDP payload: 446
1335716309884: Received UDP payload: 446
1335716310491: inside sendPacket(Packet p)
1335716310495: Sending UDP payload: 446
1335716312139: Received UDP payload: 446
1335716314887: Received UDP payload: 446
1335716315492: inside sendPacket(Packet p)
1335716315493: Sending UDP payload: 446
1335716317494: Received UDP payload: 446
1335716319909: Received UDP payload: 446
1335716320493: inside sendPacket(Packet p)
1335716320494: Sending UDP payload: 446
1335716322489: Received UDP payload: 446
1335716324900: Received UDP payload: 446
1335716325494: inside sendPacket(Packet p)
1335716325497: Sending UDP payload: 446
1335716327484: Received UDP payload: 446
1335716329910: Received UDP payload: 446
1335716330495: inside sendPacket(Packet p)
1335716330496: Sending UDP payload: 446
1335716332486: Received UDP payload: 446
1335716334932: Received UDP payload: 446
1335716335495: inside sendPacket(Packet p)
1335716335496: Sending UDP payload: 446
1335716337504: Received UDP payload: 446
1335716339941: Received UDP payload: 446
1335716340495: inside sendPacket(Packet p)
1335716340498: Sending UDP payload: 446
1335716342487: Received UDP payload: 446
1335716344956: Received UDP payload: 446
1335716345496: inside sendPacket(Packet p)
1335716345500: Sending UDP payload: 446
1335716347487: Received UDP payload: 446
1335716349977: Received UDP payload: 446
1335716350504: inside sendPacket(Packet p)
1335716350505: Sending UDP payload: 446
1335716352489: Received UDP payload: 446
1335716354985: Received UDP payload: 446
1335716355504: inside sendPacket(Packet p)
1335716355505: Sending UDP payload: 446
1335716357509: Received UDP payload: 446
1335716359990: Received UDP payload: 446
1335716360505: inside sendPacket(Packet p)
1335716360506: Sending UDP payload: 446
1335716362488: Received UDP payload: 446
1335716364987: Received UDP payload: 446
1335716365506: inside sendPacket(Packet p)
1335716365506: Sending UDP payload: 446
1335716369987: Received UDP payload: 446
1335716370506: inside sendPacket(Packet p)
1335716370508: Sending UDP payload: 446
1335716372489: Received UDP payload: 446
1335716374990: Received UDP payload: 446
1335716375507: inside sendPacket(Packet p)
1335716375510: Sending UDP payload: 446
1335716379999: Received UDP payload: 446
1335716380509: inside sendPacket(Packet p)
1335716380510: Sending UDP payload: 446
1335716382493: Received UDP payload: 446
1335716384995: Received UDP payload: 446
1335716385509: inside sendPacket(Packet p)
1335716385510: Sending UDP payload: 446
1335716387493: Received UDP payload: 446
1335716390024: Received UDP payload: 446
1335716390509: inside sendPacket(Packet p)
1335716390510: Sending UDP payload: 446
1335716392491: Received UDP payload: 446
1335716395009: Received UDP payload: 446
1335716395509: inside sendPacket(Packet p)
1335716395510: Sending UDP payload: 446
1335716397492: Received UDP payload: 446
1335716400009: Received UDP payload: 446
1335716400509: inside sendPacket(Packet p)
1335716400510: Sending UDP payload: 446
1335716402495: Received UDP payload: 446
1335716405011: Received UDP payload: 446
1335716405470: leader to cloud hearbeat...
1335716405847: inside sendPacket(Packet p)
1335716405871: Sending UDP payload: 446
1335716407494: Received UDP payload: 446
1335716410005: Received UDP payload: 446
1335716410873: inside sendPacket(Packet p)
1335716410876: Sending UDP payload: 446
1335716412499: Received UDP payload: 446
1335716415004: Received UDP payload: 446
1335716415874: inside sendPacket(Packet p)
1335716415878: Sending UDP payload: 446
1335716417495: Received UDP payload: 446
1335716420014: Received UDP payload: 446
1335716420875: inside sendPacket(Packet p)
1335716420887: Sending UDP payload: 446
1335716422495: Received UDP payload: 446
1335716425012: Received UDP payload: 446
1335716425877: inside sendPacket(Packet p)
1335716425880: Sending UDP payload: 446
1335716427500: Received UDP payload: 446
1335716430022: Received UDP payload: 446
1335716430878: inside sendPacket(Packet p)
1335716430879: Sending UDP payload: 446
1335716432498: Received UDP payload: 446
1335716435010: Received UDP payload: 446
1335716435878: inside sendPacket(Packet p)
1335716435882: Sending UDP payload: 446
1335716437972: Received UDP payload: 446
1335716440020: Received UDP payload: 446
1335716440879: inside sendPacket(Packet p)
1335716440883: Sending UDP payload: 446
1335716442977: Received UDP payload: 446
1335716445013: Received UDP payload: 446
1335716445881: inside sendPacket(Packet p)
1335716445883: Sending UDP payload: 446
1335716447989: Received UDP payload: 446
1335716450013: Received UDP payload: 446
1335716450881: inside sendPacket(Packet p)
1335716450883: Sending UDP payload: 446
1335716452989: Received UDP payload: 446
1335716455016: Received UDP payload: 446
1335716455882: inside sendPacket(Packet p)
1335716455885: Sending UDP payload: 446
1335716457988: Received UDP payload: 446
1335716460016: Received UDP payload: 446
1335716460883: inside sendPacket(Packet p)
1335716460887: Sending UDP payload: 446
1335716462983: Received UDP payload: 446
1335716465017: Received UDP payload: 446
1335716465884: inside sendPacket(Packet p)
1335716465885: Sending UDP payload: 446
1335716467984: Received UDP payload: 446
1335716470020: Received UDP payload: 446
1335716470884: inside sendPacket(Packet p)
1335716470888: Sending UDP payload: 446
1335716472984: Received UDP payload: 446
1335716475033: Received UDP payload: 446
1335716475886: inside sendPacket(Packet p)
1335716475889: Sending UDP payload: 446
1335716477987: Received UDP payload: 446
1335716480041: Received UDP payload: 446
1335716480886: inside sendPacket(Packet p)
1335716480895: Sending UDP payload: 446
1335716482996: Received UDP payload: 446
1335716485030: Received UDP payload: 446
1335716485887: inside sendPacket(Packet p)
1335716485890: Sending UDP payload: 446
1335716487990: Received UDP payload: 446
1335716490029: Received UDP payload: 446
1335716490887: inside sendPacket(Packet p)
1335716490890: Sending UDP payload: 446
1335716492989: Received UDP payload: 446
1335716495036: Received UDP payload: 446
1335716495888: inside sendPacket(Packet p)
1335716495891: Sending UDP payload: 446
1335716497994: Received UDP payload: 446
1335716500029: Received UDP payload: 446
1335716500890: inside sendPacket(Packet p)
1335716500893: Sending UDP payload: 446
1335716502996: Received UDP payload: 446
1335716505045: Received UDP payload: 446
1335716505890: inside sendPacket(Packet p)
1335716505893: Sending UDP payload: 446
1335716507998: Received UDP payload: 446
1335716510037: Received UDP payload: 446
1335716510891: inside sendPacket(Packet p)
1335716510894: Sending UDP payload: 446
1335716513000: Received UDP payload: 446
1335716515072: Received UDP payload: 446
1335716515891: inside sendPacket(Packet p)
1335716515895: Sending UDP payload: 446
1335716518004: Received UDP payload: 446
1335716520032: Received UDP payload: 446
1335716520892: inside sendPacket(Packet p)
1335716520894: Sending UDP payload: 446
1335716523016: Received UDP payload: 446
1335716525037: Received UDP payload: 446
1335716525847: leader to cloud hearbeat...
1335716526178: inside sendPacket(Packet p)
1335716526193: Sending UDP payload: 446
1335716528014: Received UDP payload: 446
1335716530033: Received UDP payload: 446
1335716531195: inside sendPacket(Packet p)
1335716531197: Sending UDP payload: 446
1335716533008: Received UDP payload: 446
1335716535034: Received UDP payload: 446
1335716536196: inside sendPacket(Packet p)
1335716536198: Sending UDP payload: 446
1335716538002: Received UDP payload: 446
1335716540037: Received UDP payload: 446
1335716541196: inside sendPacket(Packet p)
1335716541198: Sending UDP payload: 446
1335716543021: Received UDP payload: 446
1335716545037: Received UDP payload: 446
1335716546197: inside sendPacket(Packet p)
1335716546199: Sending UDP payload: 446
1335716548027: Received UDP payload: 446
1335716550036: Received UDP payload: 446
1335716551197: inside sendPacket(Packet p)
1335716551200: Sending UDP payload: 446
1335716553005: Received UDP payload: 446
1335716555041: Received UDP payload: 446
1335716556198: inside sendPacket(Packet p)
1335716556200: Sending UDP payload: 446
1335716558502: Received UDP payload: 446
1335716560040: Received UDP payload: 446
1335716561199: inside sendPacket(Packet p)
1335716561204: Sending UDP payload: 446
1335716563524: Received UDP payload: 446
1335716565050: Received UDP payload: 446
1335716566200: inside sendPacket(Packet p)
1335716566201: Sending UDP payload: 446
1335716568509: Received UDP payload: 446
1335716570046: Received UDP payload: 446
1335716571200: inside sendPacket(Packet p)
1335716571202: Sending UDP payload: 446
1335716573505: Received UDP payload: 446
1335716575043: Received UDP payload: 446
1335716576202: inside sendPacket(Packet p)
1335716576203: Sending UDP payload: 446
1335716578506: Received UDP payload: 446
1335716580058: Received UDP payload: 446
1335716581203: inside sendPacket(Packet p)
1335716581204: Sending UDP payload: 446
1335716583506: Received UDP payload: 446
1335716585048: Received UDP payload: 446
1335716586204: inside sendPacket(Packet p)
1335716586207: Sending UDP payload: 446
1335716588506: Received UDP payload: 446
1335716590049: Received UDP payload: 446
1335716591204: inside sendPacket(Packet p)
1335716591206: Sending UDP payload: 446
1335716593507: Received UDP payload: 446
1335716595059: Received UDP payload: 446
1335716596204: inside sendPacket(Packet p)
1335716596205: Sending UDP payload: 446
1335716598507: Received UDP payload: 446
1335716600064: Received UDP payload: 446
1335716601205: inside sendPacket(Packet p)
1335716601207: Sending UDP payload: 446
1335716603515: Received UDP payload: 446
1335716605053: Received UDP payload: 446
1335716606205: inside sendPacket(Packet p)
1335716606206: Sending UDP payload: 446
1335716608511: Received UDP payload: 446
1335716610051: Received UDP payload: 446
1335716611205: inside sendPacket(Packet p)
1335716611208: Sending UDP payload: 446
1335716613519: Received UDP payload: 446
1335716615061: Received UDP payload: 446
1335716616207: inside sendPacket(Packet p)
1335716616208: Sending UDP payload: 446
1335716618513: Received UDP payload: 446
1335716620053: Received UDP payload: 446
1335716621209: inside sendPacket(Packet p)
1335716621211: Sending UDP payload: 446
1335716623520: Received UDP payload: 446
1335716625065: Received UDP payload: 446
1335716626210: inside sendPacket(Packet p)
1335716626212: Sending UDP payload: 446
1335716628513: Received UDP payload: 446
1335716630067: Received UDP payload: 446
1335716631210: inside sendPacket(Packet p)
1335716631214: Sending UDP payload: 446
1335716633512: Received UDP payload: 446
1335716635055: Received UDP payload: 446
1335716636211: inside sendPacket(Packet p)
1335716636213: Sending UDP payload: 446
1335716638516: Received UDP payload: 446
1335716640054: Received UDP payload: 446
1335716641212: inside sendPacket(Packet p)
1335716641215: Sending UDP payload: 446
1335716643513: Received UDP payload: 446
1335716645060: Received UDP payload: 446
1335716646179: leader to cloud hearbeat...
1335716646694: inside sendPacket(Packet p)
1335716646700: Sending UDP payload: 446
1335716648515: Received UDP payload: 446
1335716650060: Received UDP payload: 446
1335716651703: inside sendPacket(Packet p)
1335716651706: Sending UDP payload: 446
1335716653514: Received UDP payload: 446
1335716655063: Received UDP payload: 446
1335716656704: inside sendPacket(Packet p)
1335716656708: Sending UDP payload: 446
1335716658517: Received UDP payload: 446
1335716660055: Received UDP payload: 446
1335716661705: inside sendPacket(Packet p)
1335716661707: Sending UDP payload: 446
1335716663516: Received UDP payload: 446
1335716665057: Received UDP payload: 446
1335716666705: inside sendPacket(Packet p)
1335716666708: Sending UDP payload: 446
1335716668515: Received UDP payload: 446
1335716670056: Received UDP payload: 446
1335716671706: inside sendPacket(Packet p)
1335716671710: Sending UDP payload: 446
1335716673516: Received UDP payload: 446
1335716675063: Received UDP payload: 446
1335716676708: inside sendPacket(Packet p)
1335716676709: Sending UDP payload: 446
1335716678695: HI I'm in ONPAUSE()
1335716679781: inside onDestroy()
