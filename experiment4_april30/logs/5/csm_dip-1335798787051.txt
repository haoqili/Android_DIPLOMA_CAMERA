1335798787055: *** Opened log file for writing ***
1335798787055: Android build: SAMSUNG-SGH-I717
1335798787056: NET_NAME set to: eth0
1335798787056: starting Mux with id = -1
1335798787057: areButtonsEnabled --> true
1335798787058: *** Application started ***
1335798787058: HI I'm in ONRESUME()
1335798787062: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1335798787065: ************ GPS turned OFF *************
1335798787074: mux: Mux.java run() beginning -------------
1335798787087: mux: Mux.java's nodeId is5001
1335798787088: mux: starting vncDaemon ........
1335798787091: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1335798787093: mux: vncDaemon started
1335798787098: VCoreDaemon.java onStart() ....
1335798787098: started, mId = 5001
1335798787099: VCoreDaemon.java inside stateTransition ..........
1335798787100: ..... VCoreDaemon.java out of bounds
1335798787100: removing leaderRequestRetryR because I'm doing a stateTransition
1335798787101: region (-1, -1) out of bounds, dormant
1335798787102: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335798787435: Received UDP payload: 446
1335798787439: mux: Inside mux Packet.CLIENT_REQUEST
1335798787469: Received UDP payload: 446
1335798787473: mux: Inside mux Packet.CLIENT_REQUEST
1335798787476: Received UDP payload: 446
1335798787480: mux: Inside mux Packet.CLIENT_REQUEST
1335798787509: Received UDP payload: 625
1335798787536: mux: Inside mux Packet.CLIENT_REQUEST
1335798787575: Received UDP payload: 625
1335798787577: mux: Inside mux Packet.CLIENT_REQUEST
1335798787599: Received UDP payload: 446
1335798787660: Received UDP payload: 446
1335798787823: Received UDP payload: 989
1335798787854: mux: GOT CSM_Msg
1335798787875: Received UDP payload: 989
1335798787891: mux: GOT CSM_Msg
1335798787969: Received UDP payload: 989
1335798787990: mux: GOT CSM_Msg
1335798788020: Received UDP payload: 446
1335798788023: mux: Inside Packet.SERVER_REPLY
1335798788024: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798788295: Received UDP payload: 989
1335798788300: mux: GOT CSM_Msg
1335798788334: Received UDP payload: 5105
1335798788337: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798788337: mux: Inside Packet.SERVER_REPLY
1335798788344: Received UDP payload: 446
1335798788346: mux: Inside Packet.SERVER_REPLY
1335798788347: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798788414: Received UDP payload: 989
1335798788419: mux: GOT CSM_Msg
1335798788692: Received UDP payload: 989
1335798788697: mux: GOT CSM_Msg
1335798788710: Received UDP payload: 989
1335798788715: mux: GOT CSM_Msg
1335798788722: Received UDP payload: 989
1335798788727: mux: GOT CSM_Msg
1335798788817: Received UDP payload: 989
1335798788822: mux: GOT CSM_Msg
1335798788878: Received UDP payload: 989
1335798788884: mux: GOT CSM_Msg
1335798788922: Received UDP payload: 625
1335798788927: mux: Inside mux Packet.CLIENT_REQUEST
1335798788990: Received UDP payload: 989
1335798788994: mux: GOT CSM_Msg
1335798789059: Received UDP payload: 5105
1335798789062: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798789062: mux: Inside Packet.SERVER_REPLY
1335798789087: Received UDP payload: 989
1335798789090: mux: GOT CSM_Msg
1335798789178: Received UDP payload: 989
1335798789185: mux: GOT CSM_Msg
1335798789280: VCoreDaemon.java inside stateTransition ..........
1335798789280: moving from region (-1,-1), to (1,0)
1335798789280: removing leaderRequestRetryR because I'm doing a stateTransition
1335798789281: ..... VCoreDaemon.java targetState = JOINING (1,0)
1335798789281: posting leaderRequestRetryR because I'm joining
1335798789282: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335798789282: inside sendPacket(Packet p)
1335798789282: sending LEADER_REQUEST
1335798789286: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335798789311: Sending UDP payload: 446
1335798789587: inside sendPacket(Packet p)
1335798789587: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335798789587: sending LEADER_REQUEST
1335798789590: Sending UDP payload: 446
1335798789892: inside sendPacket(Packet p)
1335798789892: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335798789892: sending LEADER_REQUEST
1335798789896: Sending UDP payload: 446
1335798790094: Received UDP payload: 5452
1335798790110: mux: GOT CSM_Msg
1335798790159: Received UDP payload: 5452
1335798790178: mux: GOT CSM_Msg
1335798790193: sending LEADER_REQUEST
1335798790194: inside sendPacket(Packet p)
1335798790194: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335798790195: Sending UDP payload: 446
1335798790242: Received UDP payload: 5452
1335798790246: mux: GOT CSM_Msg
1335798790282: VCoreDaemon.java inside stateTransition ..........
1335798790282: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335798790282: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335798790282: removing leaderRequestRetryR because I'm doing a stateTransition
1335798790283: ..... VCoreDaemon.java targetState = LEADER
1335798790283: trying to take leadership (1,0) to the cloud
1335798790334: Received UDP payload: 5452
1335798790338: mux: GOT CSM_Msg
1335798790432: Received UDP payload: 4419
1335798790435: mux: Inside mux Packet.CLIENT_REQUEST
1335798790498: Received UDP payload: 5452
1335798790501: mux: GOT CSM_Msg
1335798790793: Received UDP payload: 4419
1335798790799: mux: Inside mux Packet.CLIENT_REQUEST
1335798790808: Received UDP payload: 5105
1335798790812: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798790812: mux: Inside Packet.SERVER_REPLY
1335798790820: Received UDP payload: 446
1335798790876: Received UDP payload: 446
1335798790881: mux: Inside mux Packet.CLIENT_REQUEST
1335798791005: Received UDP payload: 4419
1335798791011: mux: Inside mux Packet.CLIENT_REQUEST
1335798791137: Received UDP payload: 446
1335798791143: mux: Inside Packet.SERVER_REPLY
1335798791144: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798791158: Received UDP payload: 642
1335798791169: mux: Inside Packet.SERVER_REPLY
1335798791170: Received UDP payload: 446
1335798791170: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798791191: Received UDP payload: 642
1335798791191: mux: Inside Packet.SERVER_REPLY
1335798791192: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798791202: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798791202: mux: Inside Packet.SERVER_REPLY
1335798791204: Received UDP payload: 446
1335798791212: mux: Inside mux Packet.CLIENT_REQUEST
1335798791238: Received UDP payload: 446
1335798791285: Received UDP payload: 446
1335798791288: mux: Inside mux Packet.CLIENT_REQUEST
1335798791629: Received UDP payload: 446
1335798791647: cloud accepted leadership request, no csm data included.
1335798791664: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1335798791670: *** Starting CSM Layer ***
1335798791671: *** CSM Layer starting with cache disabled ***
1335798791671: *** CSM Layer starting with forwarding disabled ***
1335798791740: DSMLayer starting
1335798791740: UserApp started.
1335798791741: UserApp for Camera Diploma initialized and waiting for requests.
1335798791862: Received UDP payload: 446
1335798791927: inside sendPacket(Packet p)
1335798791938: Sending UDP payload: 22318
1335798791943: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335798791943: now fully up as LEADER (id=5001) of (1,0)
1335798792102: inside sendPacket(Packet p)
1335798792103: Sending UDP payload: 446
1335798792155: Received UDP payload: 446
1335798792513: Received UDP payload: 446
1335798793571: Received UDP payload: 989
1335798793592: mux: GOT CSM_Msg
1335798793593: forwarding disabled, not forwarding packets
1335798793637: Received UDP payload: 446
1335798793808: Received UDP payload: 989
1335798793821: mux: GOT CSM_Msg
1335798793822: forwarding disabled, not forwarding packets
1335798794191: Received UDP payload: 5452
1335798794205: mux: GOT CSM_Msg
1335798794206: forwarding disabled, not forwarding packets
1335798794368: Received UDP payload: 5452
1335798794390: forwarding disabled, not forwarding packets
1335798794390: mux: GOT CSM_Msg
1335798794402: Received UDP payload: 446
1335798794408: mux: Inside Packet.SERVER_REPLY
1335798794409: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798794586: Received UDP payload: 5452
1335798794589: forwarding disabled, not forwarding packets
1335798794589: mux: GOT CSM_Msg
1335798795454: Received UDP payload: 46658
1335798795469: ignoring leader_reply that's not for me
1335798796019: Received UDP payload: 625
1335798796021: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798796021: got new request, requestCounter = 5006034
1335798796021: inside handleClientRequest. Originator leader of region 1
1335798796021: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798796021: mux: Inside mux Packet.CLIENT_REQUEST
1335798796023: Sending to region: 1
1335798796024: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(1,0)
1335798796024: Note down new request by adding requestCounter=5006034 to HashMap processedRequests
1335798796024: Sending PROC_REQUEST 11:0 (1,0)->(1,0)
1335798796026: Received UDP payload: 625
1335798796028: Make FirstLeg Ack regardless of new or already-processed requests
1335798796028: The leader sending a First Leg ack to originator client (which id = 5006)
1335798796028: inside sendPacket(Packet p)
1335798796029: mux: I got a CSM packet at a leader 
1335798796032: Sending UDP payload: 989
1335798796038: Received UDP payload: 625
1335798796038: inside handleDSMRequest. At requests's remote leader of region 1
1335798796038: removed replies before id 0 from sentReplies of size 0
1335798796039: I don't have any photos yet
1335798796039: INSIDE SERVER_GET_PHOTO!!!
1335798796040:  1 self to self atomRequest
1335798796040: dst_region == src_region = 1
1335798796041: Received PROC_REQUEST 11:0 (1,0)->(1,0), replying PROC_REPLY 11:0 (1,0)->(1,0)
1335798796042: Dispatching Atom PROC_REPLY 11:0 (1,0)->(1,0)
1335798796042: inside handleClientRequest. Originator leader of region 1
1335798796042: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798796042: mux: Inside mux Packet.CLIENT_REQUEST
1335798796043: Make FirstLeg Ack regardless of new or already-processed requests
1335798796043: Note down new request by adding requestCounter=5006034 to HashMap processedRequests
1335798796043: The leader sending a First Leg ack to originator client (which id = 5006)
1335798796043: discarding repeated requestCounter=5006034, but still send an ack back
1335798796043: inside sendPacket(Packet p)
1335798796044: Sending UDP payload: 446
1335798796051: mux: I got a CSM packet at a leader 
1335798796053: Sending UDP payload: 989
1335798796057: DSM layer: Going to and from remote region took latency = 34
1335798796057: DSM layer: orig leader sent packet at 1335798796023 ~ received reply from remote leader at 1335798796057
1335798796057: Received PROC_REPLY 11:0 (1,0)->(1,0), handing to UserApp
1335798796057: inside handleDSMReply. Now back in originator leader of region 1
1335798796058: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798796058: change leader replyCounter to: 1
1335798796058: inside sendReplies of replyCount = 500100001
1335798796058: reply packet contains the newest photo/success info from the remote region
1335798796065: =======================
1335798796065: inside sendReplyRepeatingRunnable for replyCount = 500100001
1335798796066: === Finished one round of sending REPLY Packet =======
1335798796066: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798796066: Leader about to send REPLY packet, number: 500100001 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798796066: inside sendPacket(Packet p)
1335798796068: Sending UDP payload: 446
1335798796069: mux: Inside mux Packet.CLIENT_REQUEST
1335798796070: Make FirstLeg Ack regardless of new or already-processed requests
1335798796070: Note down new request by adding requestCounter=5006034 to HashMap processedRequests
1335798796070: discarding repeated requestCounter=5006034, but still send an ack back
1335798796070: inside handleClientRequest. Originator leader of region 1
1335798796070: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798796071: The leader sending a First Leg ack to originator client (which id = 5006)
1335798796071: inside sendPacket(Packet p)
1335798796076: Sending UDP payload: 642
1335798796079: Sending UDP payload: 446
1335798796233: Received UDP payload: 446
1335798796270: canPressButton = TRUE
1335798796271: areButtonsEnabled --> false
1335798796271: areButtonsEnabled --> false
1335798796271: disabling buttons ...
1335798796271: took picture disableButtonsR
1335798796357: one more takeNum: 1
1335798796358: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335798796359: Clicked take picture button ..
1335798796369: =======================
1335798796369: Leader about to send REPLY packet, number: 500100001 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798796369: inside sendReplyRepeatingRunnable for replyCount = 500100001
1335798796370: === Finished one round of sending REPLY Packet =======
1335798796370: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798796370: inside sendPacket(Packet p)
1335798796372: Sending UDP payload: 642
1335798796670: =======================
1335798796670: inside sendReplyRepeatingRunnable for replyCount = 500100001
1335798796671: === Finished one round of sending REPLY Packet =======
1335798796671: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798796671: Leader about to send REPLY packet, number: 500100001 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798796671: inside sendPacket(Packet p)
1335798796672: Sending UDP payload: 642
1335798796972: =======================
1335798796972: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798796972: Leader about to send REPLY packet, number: 500100001 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798796972: inside sendPacket(Packet p)
1335798796972: inside sendReplyRepeatingRunnable for replyCount = 500100001
1335798796973: === Finished one round of sending REPLY Packet =======
1335798796975: Sending UDP payload: 642
1335798797067: inside sendReplyTimeoutR
1335798797068: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100001
1335798797102: inside sendPacket(Packet p)
1335798797104: Sending UDP payload: 446
1335798797665: inside HandlePictureStorage onPictureTaken()
1335798797665: one more takeCamGood: 1
1335798797666: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335798797667: Received UDP payload: 446
1335798797926: Picture successfully taken, ORIG BYTE LENGTH = 2733906
1335798798061: Received UDP payload: 446
1335798798112: Our new height x width: 306 x 408
1335798798113: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798798113: Show photo from handle my camera take
1335798798114: change local requestCounter to 1
1335798798130: BYTE SIZE AFTER COMPRESSION: 6015
1335798798137: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001001 Client in region: 1 Client nodID: 5001
1335798798166: ----------------------------
1335798798167: I'm a leader, my requesting photos packet going to mux directly
1335798798167: inside sendRequestPacketRepeatingRunnable for requestCount = 5001001
1335798798169: got new request, requestCounter = 5001001
1335798798169: inside handleClientRequest. Originator leader of region 1
1335798798169: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798798169: mux: Inside mux Packet.CLIENT_REQUEST
1335798798170: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798798170: Sending PROC_REQUEST 10:1 (1,0)->(1,0)
1335798798171: Dispatching Atom PROC_REQUEST 10:1 (1,0)->(1,0)
1335798798171: Make FirstLeg Ack regardless of new or already-processed requests
1335798798171: Note down new request by adding requestCounter=5001001 to HashMap processedRequests
1335798798171: mux: I got a CSM packet at a leader 
1335798798171: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798798173: Sending UDP payload: 7026
1335798798176: removed replies before id 1 from sentReplies of size 0
1335798798177: inside handleDSMRequest. At requests's remote leader of region 1
1335798798178: Inside UPLOAD_PHOTO!!
1335798798181: --- Finished one round of sending REQUEST Packet ---------
1335798798181: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798798181: my_gpinfo.isSuccess is now (should be true): true
1335798798197: Dispatching Atom PROC_REPLY 10:1 (1,0)->(1,0)
1335798798197: Received PROC_REQUEST 10:1 (1,0)->(1,0), replying PROC_REPLY 10:1 (1,0)->(1,0)
1335798798198: mux: I got a CSM packet at a leader 
1335798798200: Sending UDP payload: 989
1335798798205: Received PROC_REPLY 10:1 (1,0)->(1,0), handing to UserApp
1335798798205: inside handleDSMReply. Now back in originator leader of region 1
1335798798206: DSM layer: Going to and from remote region took latency = 35
1335798798206: DSM layer: orig leader sent packet at 1335798798170 ~ received reply from remote leader at 1335798798205
1335798798207: =======================
1335798798207: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798798207: change leader replyCounter to: 2
1335798798207: inside sendReplies of replyCount = 500100002
1335798798207: reply packet contains the success info for UPLOAD_PHOTO
1335798798208: === Finished one round of sending REPLY Packet =======
1335798798208: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798798208: Leader about to send REPLY packet, number: 500100002 type: 16 Leader in region: (1,0) to Client nodID: 5001
1335798798208: inside sendReplyRepeatingRunnable for replyCount = 500100002
1335798798217: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798798219: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798798220: I'm a leader and I successfully saved my client's new photo
1335798798220: now showing in UI the new photo I just saved ... 
1335798798220: the photo length: 6015
1335798798255: end of server show photo aside %%%%%%%%%
1335798798256: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798798257: disabling progressdialog due to successful new photo upload
1335798798258: Inside _enableButtons
1335798798258: areButtonsEnabled --> true
1335798798258: send final leg ack regardless of new or already-processed reply
1335798798259: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001002 Client in region: (1,0) Client nodID: 5001
1335798798259: I'm a leader client, my final_leg packet going to mux directly
1335798798259: inside finalLegAck: change requestCounter to 2
1335798798260: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100002
1335798798260: Yay the last leg succeeded. Removing reply runnables ...
1335798798260: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100002
1335798798260: got new request, requestCounter = 5001002
1335798798260: inside handleClientRequest. Originator leader of region 1
1335798798260: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798798260: mux: Inside mux Packet.CLIENT_REQUEST
1335798798261: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100002
1335798798261: do not send ack for received final_leg_ack
1335798798262: leader upload new photo latency = 87
1335798798262: new client_upload_photo_ack reply with replyCounter 500100002
1335798798262: note down new reply by adding replyCounter=500100002 to HashMap processedReplies
1335798798263: = leader upload start 1335798798169 ~ stop 1335798798256
1335798798264: one more takeGoodSave: 1
1335798798265: SUCCESS Client now knows saving photo on its leader succeeded
1335798798265: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335798799164: Received UDP payload: 446
1335798799506: Received UDP payload: 989
1335798799519: forwarding disabled, not forwarding packets
1335798799519: mux: GOT CSM_Msg
1335798799994: Received UDP payload: 446
1335798799999: mux: Inside mux Packet.CLIENT_REQUEST
1335798800000: inside handleClientRequest. Originator leader of region 1
1335798800000: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798800001: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100001
1335798800001: got new request, requestCounter = 5006035
1335798800002: Yay the last leg succeeded. Removing reply runnables ...
1335798800002: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100001
1335798800003: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100001
1335798800003: do not send ack for received final_leg_ack
1335798800012: Received UDP payload: 446
1335798800018: mux: Inside mux Packet.CLIENT_REQUEST
1335798800019: inside handleClientRequest. Originator leader of region 1
1335798800019: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798800020: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100001
1335798800020: Yay the last leg succeeded. Removing reply runnables ...
1335798800020: got new request, requestCounter = 5006036
1335798800021: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100001
1335798800022: do not send ack for received final_leg_ack
1335798800022: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100001
1335798800254: Received UDP payload: 989
1335798800261: forwarding disabled, not forwarding packets
1335798800261: mux: GOT CSM_Msg
1335798800342: Received UDP payload: 989
1335798800348: mux: GOT CSM_Msg
1335798800349: forwarding disabled, not forwarding packets
1335798800440: Received UDP payload: 989
1335798800446: mux: GOT CSM_Msg
1335798800447: forwarding disabled, not forwarding packets
1335798800472: Received UDP payload: 989
1335798800479: mux: GOT CSM_Msg
1335798800480: inside handleDSMRequest. At requests's remote leader of region 1
1335798800480: removed replies before id 9 from sentReplies of size 0
1335798800481: INSIDE SERVER_GET_PHOTO!!!
1335798800483:  1 self to self atomRequest
1335798800483: dst_region == src_region = 1
1335798800486: Received PROC_REQUEST 11:9 (1,0)->(1,0), replying PROC_REPLY 11:9 (1,0)->(1,0)
1335798800489: Dispatching Atom PROC_REPLY 11:9 (1,0)->(1,0)
1335798800489: mux: I got a CSM packet at a leader 
1335798800500: Sending UDP payload: 7026
1335798800507: Received DUPLICATE PROC_REPLY 11:9 (1,0)->(1,0)
1335798800526: Received UDP payload: 446
1335798800532: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798800532: mux: Inside Packet.SERVER_REPLY
1335798800555: Received UDP payload: 989
1335798800563: forwarding disabled, not forwarding packets
1335798800563: mux: GOT CSM_Msg
1335798800635: Received UDP payload: 5452
1335798800643: mux: GOT CSM_Msg
1335798800644: Received DUPLICATE PROC_REPLY 11:9 (1,0)->(1,0)
1335798800646: Received UDP payload: 446
1335798800649: mux: Inside Packet.SERVER_REPLY
1335798800650: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798800655: Received UDP payload: 989
1335798800678: forwarding disabled, not forwarding packets
1335798800678: mux: GOT CSM_Msg
1335798800679: Received UDP payload: 446
1335798800683: mux: Inside Packet.SERVER_REPLY
1335798800684: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798800692: Received UDP payload: 5995
1335798800701: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798800701: mux: Inside mux Packet.CLIENT_REQUEST
1335798800702: inside handleClientRequest. Originator leader of region 1
1335798800703: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798800703: got new request, requestCounter = 5006037
1335798800704: Sending PROC_REQUEST 10:2 (1,0)->(1,0)
1335798800706: Dispatching Atom PROC_REQUEST 10:2 (1,0)->(1,0)
1335798800707: Make FirstLeg Ack regardless of new or already-processed requests
1335798800707: Note down new request by adding requestCounter=5006037 to HashMap processedRequests
1335798800707: The leader sending a First Leg ack to originator client (which id = 5006)
1335798800707: inside sendPacket(Packet p)
1335798800708: mux: I got a CSM packet at a leader 
1335798800711: Sending UDP payload: 6359
1335798800715: Received UDP payload: 446
1335798800727: inside handleDSMRequest. At requests's remote leader of region 1
1335798800727: removed replies before id 2 from sentReplies of size 1
1335798800729: Inside UPLOAD_PHOTO!!
1335798800730: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798800730: my_gpinfo.isSuccess is now (should be true): true
1335798800732: Received PROC_REQUEST 10:2 (1,0)->(1,0), replying PROC_REPLY 10:2 (1,0)->(1,0)
1335798800733: Dispatching Atom PROC_REPLY 10:2 (1,0)->(1,0)
1335798800734: Sending UDP payload: 446
1335798800734: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798800734: mux: Inside Packet.SERVER_REPLY
1335798800735: mux: I got a CSM packet at a leader 
1335798800736: Sending UDP payload: 989
1335798800742: DSM layer: Going to and from remote region took latency = 39
1335798800742: DSM layer: orig leader sent packet at 1335798800703 ~ received reply from remote leader at 1335798800742
1335798800742: Received PROC_REPLY 10:2 (1,0)->(1,0), handing to UserApp
1335798800742: inside handleDSMReply. Now back in originator leader of region 1
1335798800743: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798800743: change leader replyCounter to: 3
1335798800743: inside sendReplies of replyCount = 500100003
1335798800743: reply packet contains the success info for UPLOAD_PHOTO
1335798800744: === Finished one round of sending REPLY Packet =======
1335798800744: =======================
1335798800744: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798800744: Leader about to send REPLY packet, number: 500100003 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335798800744: inside sendPacket(Packet p)
1335798800744: inside sendReplyRepeatingRunnable for replyCount = 500100003
1335798800746: Sending UDP payload: 642
1335798800748: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798800750: I'm a leader and I successfully saved my client's new photo
1335798800751: now showing in UI the new photo I just saved ... 
1335798800751: the photo length: 5348
1335798800786: end of server show photo aside %%%%%%%%%
1335798800834: Received UDP payload: 5452
1335798800837: Received DUPLICATE PROC_REPLY 11:0 (1,0)->(1,0)
1335798800837: mux: GOT CSM_Msg
1335798800852: Received UDP payload: 989
1335798800857: forwarding disabled, not forwarding packets
1335798800857: mux: GOT CSM_Msg
1335798800947: Received UDP payload: 989
1335798800950: forwarding disabled, not forwarding packets
1335798800950: mux: GOT CSM_Msg
1335798801042: Received UDP payload: 989
1335798801045: =======================
1335798801045: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798801045: Leader about to send REPLY packet, number: 500100003 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335798801045: inside sendReplyRepeatingRunnable for replyCount = 500100003
1335798801046: === Finished one round of sending REPLY Packet =======
1335798801046: inside sendPacket(Packet p)
1335798801047: Sending UDP payload: 642
1335798801048: forwarding disabled, not forwarding packets
1335798801048: mux: GOT CSM_Msg
1335798801145: Received UDP payload: 989
1335798801148: mux: GOT CSM_Msg
1335798801149: forwarding disabled, not forwarding packets
1335798801245: Received UDP payload: 989
1335798801248: forwarding disabled, not forwarding packets
1335798801248: mux: GOT CSM_Msg
1335798801292: Received UDP payload: 5105
1335798801294: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798801294: mux: Inside Packet.SERVER_REPLY
1335798801346: =======================
1335798801346: inside sendReplyRepeatingRunnable for replyCount = 500100003
1335798801347: Leader about to send REPLY packet, number: 500100003 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335798801348: === Finished one round of sending REPLY Packet =======
1335798801348: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798801348: inside sendPacket(Packet p)
1335798801350: Sending UDP payload: 642
1335798801370: Received UDP payload: 989
1335798801376: forwarding disabled, not forwarding packets
1335798801376: mux: GOT CSM_Msg
1335798801430: Received UDP payload: 446
1335798801431: mux: Inside mux Packet.CLIENT_REQUEST
1335798801432: got new request, requestCounter = 5006038
1335798801432: inside handleClientRequest. Originator leader of region 1
1335798801432: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798801433: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500017
1335798801435: Yay the last leg succeeded. Removing reply runnables ...
1335798801435: do not send ack for received final_leg_ack
1335798801435: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500017
1335798801435: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500017
1335798801456: Received UDP payload: 989
1335798801460: forwarding disabled, not forwarding packets
1335798801460: mux: GOT CSM_Msg
1335798801489: canPressButton = TRUE
1335798801490: areButtonsEnabled --> false
1335798801491: disabling buttons ...
1335798801492: areButtonsEnabled --> false
1335798801492: took picture disableButtonsR
1335798801534: one more takeNum: 2
1335798801534: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335798801535: Clicked take picture button ..
1335798801649: =======================
1335798801651: inside sendReplyRepeatingRunnable for replyCount = 500100003
1335798801659: Received UDP payload: 989
1335798801666: Leader about to send REPLY packet, number: 500100003 type: 16 Leader in region: (1,0) to Client nodID: 5006
1335798801667: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798801668: === Finished one round of sending REPLY Packet =======
1335798801668: inside sendPacket(Packet p)
1335798801681: Sending UDP payload: 642
1335798801682: forwarding disabled, not forwarding packets
1335798801682: mux: GOT CSM_Msg
1335798801745: inside sendReplyTimeoutR
1335798801746: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100003
1335798802102: inside sendPacket(Packet p)
1335798802104: Sending UDP payload: 446
1335798802641: Received UDP payload: 446
1335798802719: Received UDP payload: 5105
1335798802721: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798802721: mux: Inside Packet.SERVER_REPLY
1335798802828: Received UDP payload: 446
1335798802830: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500017
1335798802830: got new request, requestCounter = 5006039
1335798802830: inside handleClientRequest. Originator leader of region 1
1335798802830: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798802830: mux: Inside mux Packet.CLIENT_REQUEST
1335798802831: Yay the last leg succeeded. Removing reply runnables ...
1335798802831: do not send ack for received final_leg_ack
1335798802831: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500017
1335798802831: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500017
1335798802987: inside HandlePictureStorage onPictureTaken()
1335798802987: one more takeCamGood: 2
1335798802988: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335798803060: Received UDP payload: 446
1335798803065: Received UDP payload: 446
1335798803067: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100003
1335798803067: got new request, requestCounter = 5006041
1335798803067: inside handleClientRequest. Originator leader of region 1
1335798803067: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798803067: mux: Inside mux Packet.CLIENT_REQUEST
1335798803068: Yay the last leg succeeded. Removing reply runnables ...
1335798803068: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100003
1335798803068: do not send ack for received final_leg_ack
1335798803068: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100003
1335798803074: Received UDP payload: 446
1335798803080: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798803080: mux: Inside mux Packet.CLIENT_REQUEST
1335798803081: got new request, requestCounter = 5006042
1335798803081: inside handleClientRequest. Originator leader of region 1
1335798803082: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100003
1335798803082: Yay the last leg succeeded. Removing reply runnables ...
1335798803083: do not send ack for received final_leg_ack
1335798803083: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100003
1335798803083: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100003
1335798803089: Received UDP payload: 446
1335798803097: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798803097: mux: Inside mux Packet.CLIENT_REQUEST
1335798803098: inside handleClientRequest. Originator leader of region 1
1335798803099: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100003
1335798803099: got new request, requestCounter = 5006043
1335798803100: Yay the last leg succeeded. Removing reply runnables ...
1335798803100: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100003
1335798803101: do not send ack for received final_leg_ack
1335798803101: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100003
1335798803111: Received UDP payload: 989
1335798803121: mux: GOT CSM_Msg
1335798803124: Received DUPLICATE PROC_REPLY 10:1 (1,0)->(1,0)
1335798803207: Received UDP payload: 6359
1335798803218: mux: GOT CSM_Msg
1335798803219: removed replies before id 10 from sentReplies of size 0
1335798803220: inside handleDSMRequest. At requests's remote leader of region 1
1335798803222: Inside UPLOAD_PHOTO!!
1335798803226: my_gpinfo.isSuccess is now (should be true): true
1335798803227: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798803236: Received PROC_REQUEST 10:10 (1,0)->(1,0), replying PROC_REPLY 10:10 (1,0)->(1,0)
1335798803237: Dispatching Atom PROC_REPLY 10:10 (1,0)->(1,0)
1335798803239: mux: I got a CSM packet at a leader 
1335798803244: Sending UDP payload: 989
1335798803246: Received DUPLICATE PROC_REPLY 10:10 (1,0)->(1,0)
1335798803256: Picture successfully taken, ORIG BYTE LENGTH = 2886495
1335798803331: Received UDP payload: 642
1335798803338: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798803338: mux: Inside Packet.SERVER_REPLY
1335798803373: Received UDP payload: 446
1335798803382: Received UDP payload: 642
1335798803382: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798803382: mux: Inside mux Packet.CLIENT_REQUEST
1335798803383: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500018
1335798803383: got new request, requestCounter = 5006044
1335798803383: inside handleClientRequest. Originator leader of region 1
1335798803384: Yay the last leg succeeded. Removing reply runnables ...
1335798803385: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500018
1335798803385: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500018
1335798803386: do not send ack for received final_leg_ack
1335798803396: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798803396: mux: Inside Packet.SERVER_REPLY
1335798803398: Received UDP payload: 446
1335798803404: mux: Inside Packet.SERVER_REPLY
1335798803405: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798803492: Received UDP payload: 642
1335798803500: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798803500: mux: Inside Packet.SERVER_REPLY
1335798803618: Received UDP payload: 446
1335798803624: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798803624: mux: Inside mux Packet.CLIENT_REQUEST
1335798803625: got new request, requestCounter = 5006046
1335798803625: inside handleClientRequest. Originator leader of region 1
1335798803626: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500018
1335798803626: Yay the last leg succeeded. Removing reply runnables ...
1335798803627: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500018
1335798803627: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500018
1335798803628: do not send ack for received final_leg_ack
1335798803629: Received UDP payload: 446
1335798803634: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798803634: mux: Inside mux Packet.CLIENT_REQUEST
1335798803635: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500018
1335798803635: got new request, requestCounter = 5006047
1335798803635: inside handleClientRequest. Originator leader of region 1
1335798803636: Yay the last leg succeeded. Removing reply runnables ...
1335798803636: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500018
1335798803637: do not send ack for received final_leg_ack
1335798803637: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500018
1335798803715: Received UDP payload: 446
1335798803722: Our new height x width: 306 x 408
1335798803722: Show photo from handle my camera take
1335798803723: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798803723: change local requestCounter to 3
1335798803737: BYTE SIZE AFTER COMPRESSION: 6026
1335798803738: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001003 Client in region: 1 Client nodID: 5001
1335798803768: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798803769: I'm a leader and I successfully saved my client's new photo
1335798803769: now showing in UI the new photo I just saved ... 
1335798803770: the photo length: 5348
1335798803804: end of server show photo aside %%%%%%%%%
1335798803809: ----------------------------
1335798803810: --- Finished one round of sending REQUEST Packet ---------
1335798803810: I'm a leader, my requesting photos packet going to mux directly
1335798803810: inside sendRequestPacketRepeatingRunnable for requestCount = 5001003
1335798803810: mux: Inside mux Packet.CLIENT_REQUEST
1335798803811: got new request, requestCounter = 5001003
1335798803811: inside handleClientRequest. Originator leader of region 1
1335798803811: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798803812: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798803813: Sending PROC_REQUEST 10:3 (1,0)->(1,0)
1335798803815: Dispatching Atom PROC_REQUEST 10:3 (1,0)->(1,0)
1335798803815: Note down new request by adding requestCounter=5001003 to HashMap processedRequests
1335798803816: Make FirstLeg Ack regardless of new or already-processed requests
1335798803816: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798803824: mux: I got a CSM packet at a leader 
1335798803829: Sending UDP payload: 7037
1335798803831: removed replies before id 3 from sentReplies of size 1
1335798803832: inside handleDSMRequest. At requests's remote leader of region 1
1335798803834: Inside UPLOAD_PHOTO!!
1335798803837: my_gpinfo.isSuccess is now (should be true): true
1335798803838: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798803842: Received PROC_REQUEST 10:3 (1,0)->(1,0), replying PROC_REPLY 10:3 (1,0)->(1,0)
1335798803843: Dispatching Atom PROC_REPLY 10:3 (1,0)->(1,0)
1335798803844: mux: I got a CSM packet at a leader 
1335798803845: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798803847: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798803848: I'm a leader and I successfully saved my client's new photo
1335798803848: now showing in UI the new photo I just saved ... 
1335798803848: the photo length: 6026
1335798803887: Sending UDP payload: 989
1335798803888: Received PROC_REPLY 10:3 (1,0)->(1,0), handing to UserApp
1335798803888: inside handleDSMReply. Now back in originator leader of region 1
1335798803889: DSM layer: Going to and from remote region took latency = 76
1335798803889: DSM layer: orig leader sent packet at 1335798803812 ~ received reply from remote leader at 1335798803888
1335798803889: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798803890: =======================
1335798803890: change leader replyCounter to: 4
1335798803890: inside sendReplies of replyCount = 500100004
1335798803890: inside sendReplyRepeatingRunnable for replyCount = 500100004
1335798803890: reply packet contains the success info for UPLOAD_PHOTO
1335798803891: === Finished one round of sending REPLY Packet =======
1335798803891: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798803891: Leader about to send REPLY packet, number: 500100004 type: 16 Leader in region: (1,0) to Client nodID: 5001
1335798803896: end of server show photo aside %%%%%%%%%
1335798803924: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798803925: Inside _enableButtons
1335798803925: disabling progressdialog due to successful new photo upload
1335798803926: areButtonsEnabled --> true
1335798803926: send final leg ack regardless of new or already-processed reply
1335798803927: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001004 Client in region: (1,0) Client nodID: 5001
1335798803927: I'm a leader client, my final_leg packet going to mux directly
1335798803927: inside finalLegAck: change requestCounter to 4
1335798803928: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100004
1335798803928: Yay the last leg succeeded. Removing reply runnables ...
1335798803928: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100004
1335798803928: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100004
1335798803928: got new request, requestCounter = 5001004
1335798803928: inside handleClientRequest. Originator leader of region 1
1335798803928: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798803928: mux: Inside mux Packet.CLIENT_REQUEST
1335798803929: do not send ack for received final_leg_ack
1335798803929: leader upload new photo latency = 114
1335798803929: new client_upload_photo_ack reply with replyCounter 500100004
1335798803929: note down new reply by adding replyCounter=500100004 to HashMap processedReplies
1335798803930: = leader upload start 1335798803810 ~ stop 1335798803924
1335798803931: one more takeGoodSave: 2
1335798803932: SUCCESS Client now knows saving photo on its leader succeeded
1335798803932: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335798804009: Received UDP payload: 989
1335798804018: Received DUPLICATE PROC_REPLY 10:3 (1,0)->(1,0)
1335798804018: mux: GOT CSM_Msg
1335798805206: Received UDP payload: 625
1335798805216: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798805216: mux: Inside mux Packet.CLIENT_REQUEST
1335798805217: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798805217: got new request, requestCounter = 5006048
1335798805217: inside handleClientRequest. Originator leader of region 1
1335798805220: Sending to region: 1
1335798805221: Sending PROC_REQUEST 11:4 (1,0)->(1,0)
1335798805225: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(1,0)
1335798805225: Note down new request by adding requestCounter=5006048 to HashMap processedRequests
1335798805231: Received UDP payload: 625
1335798805235: Make FirstLeg Ack regardless of new or already-processed requests
1335798805236: The leader sending a First Leg ack to originator client (which id = 5006)
1335798805236: inside sendPacket(Packet p)
1335798805237: mux: I got a CSM packet at a leader 
1335798805249: Sending UDP payload: 989
1335798805249: removed replies before id 4 from sentReplies of size 1
1335798805250: inside handleDSMRequest. At requests's remote leader of region 1
1335798805251:  1 self to self atomRequest
1335798805251: INSIDE SERVER_GET_PHOTO!!!
1335798805251: dst_region == src_region = 1
1335798805252: Received PROC_REQUEST 11:4 (1,0)->(1,0), replying PROC_REPLY 11:4 (1,0)->(1,0)
1335798805253: Dispatching Atom PROC_REPLY 11:4 (1,0)->(1,0)
1335798805254: Sending UDP payload: 446
1335798805262: mux: I got a CSM packet at a leader 
1335798805263: Sending UDP payload: 7037
1335798805265: Received PROC_REPLY 11:4 (1,0)->(1,0), handing to UserApp
1335798805266: DSM layer: Going to and from remote region took latency = 46
1335798805266: DSM layer: orig leader sent packet at 1335798805220 ~ received reply from remote leader at 1335798805266
1335798805266: inside handleDSMReply. Now back in originator leader of region 1
1335798805267: =======================
1335798805267: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798805267: change leader replyCounter to: 5
1335798805267: inside sendReplies of replyCount = 500100005
1335798805267: inside sendReplyRepeatingRunnable for replyCount = 500100005
1335798805267: reply packet contains the newest photo/success info from the remote region
1335798805268: === Finished one round of sending REPLY Packet =======
1335798805268: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798805268: Leader about to send REPLY packet, number: 500100005 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798805268: discarding repeated requestCounter=5006048, but still send an ack back
1335798805268: inside handleClientRequest. Originator leader of region 1
1335798805268: inside sendPacket(Packet p)
1335798805268: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798805268: mux: Inside mux Packet.CLIENT_REQUEST
1335798805269: Make FirstLeg Ack regardless of new or already-processed requests
1335798805269: Note down new request by adding requestCounter=5006048 to HashMap processedRequests
1335798805269: The leader sending a First Leg ack to originator client (which id = 5006)
1335798805269: inside sendPacket(Packet p)
1335798805270: Sending UDP payload: 6690
1335798805282: Sending UDP payload: 446
1335798805396: Received UDP payload: 446
1335798805397: mux: Inside Packet.SERVER_REPLY
1335798805399: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798805559: Received UDP payload: 446
1335798805561: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798805561: mux: Inside Packet.SERVER_REPLY
1335798805568: =======================
1335798805568: inside sendReplyRepeatingRunnable for replyCount = 500100005
1335798805569: === Finished one round of sending REPLY Packet =======
1335798805569: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798805569: Leader about to send REPLY packet, number: 500100005 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798805569: inside sendPacket(Packet p)
1335798805570: Sending UDP payload: 6690
1335798805735: Received UDP payload: 446
1335798805736: inside handleClientRequest. Originator leader of region 1
1335798805736: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798805736: mux: Inside mux Packet.CLIENT_REQUEST
1335798805737: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100005
1335798805737: Yay the last leg succeeded. Removing reply runnables ...
1335798805737: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100005
1335798805737: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100005
1335798805737: do not send ack for received final_leg_ack
1335798805737: got new request, requestCounter = 5006049
1335798805831: Received UDP payload: 7037
1335798805838: mux: GOT CSM_Msg
1335798805839: Received DUPLICATE PROC_REPLY 11:4 (1,0)->(1,0)
1335798805941: Received UDP payload: 6690
1335798805945: mux: Inside Packet.SERVER_REPLY
1335798805946: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798806545: Received UDP payload: 4040
1335798806554: mux: Inside mux Packet.CLIENT_REQUEST
1335798806897: canPressButton = TRUE
1335798806898: areButtonsEnabled --> false
1335798806898: areButtonsEnabled --> false 
1335798806898: get picture disableButtonsR
1335798806923: one more getNum: 1
1335798806924: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335798806924: change local requestCounter to 5
1335798806924: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1335798806925: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001005 Client in region: 1 Client nodID: 5001
1335798806956: ----------------------------
1335798806957: --- Finished one round of sending REQUEST Packet ---------
1335798806957: I'm a leader, my requesting photos packet going to mux directly
1335798806957: inside sendRequestPacketRepeatingRunnable for requestCount = 5001005
1335798806959: got new request, requestCounter = 5001005
1335798806959: inside handleClientRequest. Originator leader of region 1
1335798806959: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798806959: mux: Inside mux Packet.CLIENT_REQUEST
1335798806960: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798806960: Sending to region: 0
1335798806961: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798806961: Make FirstLeg Ack regardless of new or already-processed requests
1335798806961: Note down new request by adding requestCounter=5001005 to HashMap processedRequests
1335798806961: Sending PROC_REQUEST 11:0 (1,0)->(0,0)
1335798806961: mux: I got a CSM packet at a leader 
1335798806961: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798806963: Sending UDP payload: 989
1335798806969: forwarding disabled, not forwarding packets
1335798806993: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798807102: inside sendPacket(Packet p)
1335798807104: Sending UDP payload: 446
1335798807215: Received UDP payload: 4529
1335798807219: forwarding disabled, not forwarding packets
1335798807219: mux: GOT CSM_Msg
1335798807234: Received UDP payload: 989
1335798807249: inside handleDSMRequest. At requests's remote leader of region 1
1335798807249: mux: GOT CSM_Msg
1335798807249: removed replies before id 11 from sentReplies of size 0
1335798807250: INSIDE SERVER_GET_PHOTO!!!
1335798807252: Received PROC_REQUEST 11:11 (2,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(2,0)
1335798807253: Dispatching Atom PROC_REPLY 11:11 (1,0)->(2,0)
1335798807253: mux: I got a CSM packet at a leader 
1335798807263: Sending UDP payload: 7037
1335798807268: Received UDP payload: 989
1335798807275: forwarding disabled, not forwarding packets
1335798807275: mux: GOT CSM_Msg
1335798807275: removed replies before id 11 from sentReplies of size 1
1335798807276: Dispatching Atom PROC_REPLY 11:11 (1,0)->(2,0)
1335798807276: Received DUPLICATE PROC_REQUEST 11:11 (2,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(2,0)
1335798807277: mux: I got a CSM packet at a leader 
1335798807278: Sending UDP payload: 7037
1335798807283: Received UDP payload: 989
1335798807284: forwarding disabled, not forwarding packets
1335798807288: Received UDP payload: 989
1335798807292: mux: GOT CSM_Msg
1335798807293: removed replies before id 11 from sentReplies of size 1
1335798807294: Dispatching Atom PROC_REPLY 11:11 (1,0)->(2,0)
1335798807294: Received DUPLICATE PROC_REQUEST 11:11 (2,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(2,0)
1335798807294: mux: I got a CSM packet at a leader 
1335798807302: Sending UDP payload: 7037
1335798807303: forwarding disabled, not forwarding packets
1335798807307: mux: GOT CSM_Msg
1335798807308: removed replies before id 11 from sentReplies of size 1
1335798807309: Dispatching Atom PROC_REPLY 11:11 (1,0)->(2,0)
1335798807309: Received DUPLICATE PROC_REQUEST 11:11 (2,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(2,0)
1335798807309: mux: I got a CSM packet at a leader 
1335798807311: Sending UDP payload: 7037
1335798807316: forwarding disabled, not forwarding packets
1335798807484: Received UDP payload: 4529
1335798807486: mux: GOT CSM_Msg
1335798807487: forwarding disabled, not forwarding packets
1335798807497: Received UDP payload: 989
1335798807501: mux: GOT CSM_Msg
1335798807501: removed replies before id 11 from sentReplies of size 1
1335798807502: Dispatching Atom PROC_REPLY 11:11 (1,0)->(2,0)
1335798807502: Received DUPLICATE PROC_REQUEST 11:11 (2,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(2,0)
1335798807503: mux: I got a CSM packet at a leader 
1335798807504: Sending UDP payload: 7037
1335798807508: forwarding disabled, not forwarding packets
1335798807512: Received UDP payload: 4040
1335798807514: mux: Inside mux Packet.CLIENT_REQUEST
1335798807679: Received UDP payload: 446
1335798807691: Received UDP payload: 446
1335798807693: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500019
1335798807693: got new request, requestCounter = 5006051
1335798807693: inside handleClientRequest. Originator leader of region 1
1335798807693: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798807693: mux: Inside mux Packet.CLIENT_REQUEST
1335798807694: Yay the last leg succeeded. Removing reply runnables ...
1335798807694: do not send ack for received final_leg_ack
1335798807694: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500019
1335798807694: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500019
1335798807759: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798807759: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798807760: mux: I got a CSM packet at a leader 
1335798807761: Sending UDP payload: 989
1335798807762: forwarding disabled, not forwarding packets
1335798807859: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798807860: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798807861: Received UDP payload: 989
1335798807864: mux: I got a CSM packet at a leader 
1335798807866: Sending UDP payload: 989
1335798807867: forwarding disabled, not forwarding packets
1335798807867: mux: GOT CSM_Msg
1335798807867: removed replies before id 11 from sentReplies of size 1
1335798807868: Received DUPLICATE PROC_REQUEST 11:11 (2,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(2,0)
1335798807869: Dispatching Atom PROC_REPLY 11:11 (1,0)->(2,0)
1335798807870: mux: I got a CSM packet at a leader 
1335798807872: Sending UDP payload: 7037
1335798807876: forwarding disabled, not forwarding packets
1335798807959: Received UDP payload: 989
1335798807961: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798807962: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798807966: mux: I got a CSM packet at a leader 
1335798807973: Received UDP payload: 989
1335798807975: Sending UDP payload: 989
1335798807975: forwarding disabled, not forwarding packets
1335798807975: mux: GOT CSM_Msg
1335798807976: Received DUPLICATE PROC_REQUEST 11:11 (2,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(2,0)
1335798807976: removed replies before id 11 from sentReplies of size 1
1335798807977: Dispatching Atom PROC_REPLY 11:11 (1,0)->(2,0)
1335798807977: mux: I got a CSM packet at a leader 
1335798807979: Sending UDP payload: 7037
1335798807982: forwarding disabled, not forwarding packets
1335798807984: Received DUPLICATE PROC_REQUEST 11:11 (2,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(2,0)
1335798807984: mux: GOT CSM_Msg
1335798807984: removed replies before id 11 from sentReplies of size 1
1335798807985: Dispatching Atom PROC_REPLY 11:11 (1,0)->(2,0)
1335798807985: mux: I got a CSM packet at a leader 
1335798807987: Sending UDP payload: 7037
1335798807988: forwarding disabled, not forwarding packets
1335798808064: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808065: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808066: mux: I got a CSM packet at a leader 
1335798808072: Sending UDP payload: 989
1335798808074: forwarding disabled, not forwarding packets
1335798808076: Received UDP payload: 4529
1335798808086: forwarding disabled, not forwarding packets
1335798808086: mux: GOT CSM_Msg
1335798808095: Received UDP payload: 989
1335798808105: mux: GOT CSM_Msg
1335798808106: removed replies before id 11 from sentReplies of size 1
1335798808108: Received DUPLICATE PROC_REQUEST 11:11 (2,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(2,0)
1335798808109: Dispatching Atom PROC_REPLY 11:11 (1,0)->(2,0)
1335798808109: mux: I got a CSM packet at a leader 
1335798808113: Sending UDP payload: 7037
1335798808114: forwarding disabled, not forwarding packets
1335798808167: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808168: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808168: mux: I got a CSM packet at a leader 
1335798808170: Sending UDP payload: 989
1335798808170: forwarding disabled, not forwarding packets
1335798808183: Received UDP payload: 4529
1335798808207: forwarding disabled, not forwarding packets
1335798808207: mux: GOT CSM_Msg
1335798808208: Received UDP payload: 989
1335798808212: mux: GOT CSM_Msg
1335798808212: removed replies before id 11 from sentReplies of size 1
1335798808213: Dispatching Atom PROC_REPLY 11:11 (1,0)->(2,0)
1335798808213: Received DUPLICATE PROC_REQUEST 11:11 (2,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(2,0)
1335798808214: mux: I got a CSM packet at a leader 
1335798808216: Sending UDP payload: 7037
1335798808217: forwarding disabled, not forwarding packets
1335798808270: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808271: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808272: mux: I got a CSM packet at a leader 
1335798808276: Sending UDP payload: 989
1335798808277: forwarding disabled, not forwarding packets
1335798808296: Received UDP payload: 989
1335798808300: mux: GOT CSM_Msg
1335798808300: removed replies before id 11 from sentReplies of size 1
1335798808301: Dispatching Atom PROC_REPLY 11:11 (1,0)->(2,0)
1335798808301: Received DUPLICATE PROC_REQUEST 11:11 (2,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(2,0)
1335798808301: mux: I got a CSM packet at a leader 
1335798808302: Sending UDP payload: 7037
1335798808303: forwarding disabled, not forwarding packets
1335798808380: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808381: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808381: mux: I got a CSM packet at a leader 
1335798808383: Sending UDP payload: 989
1335798808384: forwarding disabled, not forwarding packets
1335798808391: Received UDP payload: 989
1335798808398: forwarding disabled, not forwarding packets
1335798808398: mux: GOT CSM_Msg
1335798808482: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808482: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808483: mux: I got a CSM packet at a leader 
1335798808484: Sending UDP payload: 989
1335798808485: forwarding disabled, not forwarding packets
1335798808525: Received UDP payload: 446
1335798808580: Received UDP payload: 446
1335798808582: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798808582: mux: Inside Packet.SERVER_REPLY
1335798808583: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808584: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808584: mux: I got a CSM packet at a leader 
1335798808587: Sending UDP payload: 989
1335798808589: forwarding disabled, not forwarding packets
1335798808593: Received UDP payload: 989
1335798808602: forwarding disabled, not forwarding packets
1335798808602: mux: GOT CSM_Msg
1335798808604: Received UDP payload: 642
1335798808607: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798808607: mux: Inside Packet.SERVER_REPLY
1335798808633: Received UDP payload: 642
1335798808636: mux: Inside Packet.SERVER_REPLY
1335798808637: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798808647: Received UDP payload: 446
1335798808650: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798808650: mux: Inside Packet.SERVER_REPLY
1335798808685: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808685: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808685: mux: I got a CSM packet at a leader 
1335798808687: Sending UDP payload: 989
1335798808687: forwarding disabled, not forwarding packets
1335798808700: Received UDP payload: 446
1335798808702: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798808702: mux: Inside Packet.SERVER_REPLY
1335798808774: Received UDP payload: 446
1335798808776: mux: Inside mux Packet.CLIENT_REQUEST
1335798808786: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808786: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808786: mux: I got a CSM packet at a leader 
1335798808788: Sending UDP payload: 989
1335798808789: forwarding disabled, not forwarding packets
1335798808805: Received UDP payload: 446
1335798808808: mux: Inside mux Packet.CLIENT_REQUEST
1335798808887: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808888: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808888: mux: I got a CSM packet at a leader 
1335798808889: Sending UDP payload: 989
1335798808890: forwarding disabled, not forwarding packets
1335798808989: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808989: Retrying PROC_REQUEST 11:0 (1,0)->(0,0)
1335798808989: mux: I got a CSM packet at a leader 
1335798808990: Sending UDP payload: 989
1335798808991: forwarding disabled, not forwarding packets
1335798809090: DSM Layer: Request timed out, send failure PROC_REPLY 11:0 (0,0)->(1,0)
1335798809091: Dispatching Atom PROC_REPLY 11:0 (0,0)->(1,0)
1335798809092: mux: I got a CSM packet at a leader 
1335798809093: Sending UDP payload: 989
1335798809094: DSM layer timed out, don't log dsm layer latency stuff.
1335798809094: Received PROC_REPLY 11:0 (0,0)->(1,0), handing to UserApp
1335798809094: inside handleDSMReply. Now back in originator leader of region 1
1335798809097: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798809098: =======================
1335798809098: change leader replyCounter to: 6
1335798809098: inside sendReplies of replyCount = 500100006
1335798809098: reply packet contains the newest photo/success info from the remote region
1335798809099: inside sendReplyRepeatingRunnable for replyCount = 500100006
1335798809100: === Finished one round of sending REPLY Packet =======
1335798809100: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798809100: Leader about to send REPLY packet, number: 500100006 type: 15 Leader in region: (1,0) to Client nodID: 5001
1335798809113: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798809114: Inside _enableButtons
1335798809114: areButtonsEnabled --> true
1335798809114: disabling progressdialog due to successful new photo get
1335798809115: inside finalLegAck: change requestCounter to 6
1335798809115: send final leg ack regardless of new or already-processed reply
1335798809116: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001006 Client in region: (1,0) Client nodID: 5001
1335798809116: I'm a leader client, my final_leg packet going to mux directly
1335798809116: inside handleClientRequest. Originator leader of region 1
1335798809116: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798809116: mux: Inside mux Packet.CLIENT_REQUEST
1335798809117: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100006
1335798809117: Yay the last leg succeeded. Removing reply runnables ...
1335798809117: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100006
1335798809117: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100006
1335798809117: do not send ack for received final_leg_ack
1335798809117: got new request, requestCounter = 5001006
1335798809118: new client_show_remotephoto reply with replyCounter 500100006
1335798809118: note down new reply by adding replyCounter=500100006 to HashMap processedReplies
1335798809119: leader download remote photo latency = 2156
1335798809120: = leader download start 1335798806957 ~ stop 1335798809113
1335798809121: Can't get remote photo, because DSM Layer on originator leader timed out
1335798809128: one more getBad: 1
1335798809129: getBad++
1335798809129: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=1 getTimedout=0 getPercent=0%
1335798810766: Received UDP payload: 6690
1335798810774: mux: Inside Packet.SERVER_REPLY
1335798810775: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798810840: Received UDP payload: 446
1335798810847: mux: Inside mux Packet.CLIENT_REQUEST
1335798810848: got new request, requestCounter = 5006052
1335798810848: inside handleClientRequest. Originator leader of region 1
1335798810848: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798810849: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500019
1335798810849: Yay the last leg succeeded. Removing reply runnables ...
1335798810849: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500019
1335798810850: do not send ack for received final_leg_ack
1335798810850: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500019
1335798810922: Received UDP payload: 7037
1335798810927: forwarding disabled, not forwarding packets
1335798810927: mux: GOT CSM_Msg
1335798811185: Received UDP payload: 7037
1335798811190: forwarding disabled, not forwarding packets
1335798811190: mux: GOT CSM_Msg
1335798811409: Received UDP payload: 446
1335798811449: Received UDP payload: 7037
1335798811462: forwarding disabled, not forwarding packets
1335798811462: mux: GOT CSM_Msg
1335798811748: Received UDP payload: 5345
1335798811755: mux: Inside mux Packet.CLIENT_REQUEST
1335798812056: Received UDP payload: 7037
1335798812067: forwarding disabled, not forwarding packets
1335798812067: mux: GOT CSM_Msg
1335798812104: inside sendPacket(Packet p)
1335798812108: Sending UDP payload: 446
1335798812596: Received UDP payload: 7037
1335798812601: forwarding disabled, not forwarding packets
1335798812601: mux: GOT CSM_Msg
1335798812703: Received UDP payload: 446
1335798812717: Received UDP payload: 5709
1335798812739: mux: GOT CSM_Msg
1335798812740: forwarding disabled, not forwarding packets
1335798812761: Received UDP payload: 446
1335798812773: mux: Inside Packet.SERVER_REPLY
1335798812774: Received UDP payload: 989
1335798812774: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798812777: forwarding disabled, not forwarding packets
1335798812777: mux: GOT CSM_Msg
1335798813027: Received UDP payload: 642
1335798813029: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798813029: mux: Inside Packet.SERVER_REPLY
1335798813100: Received UDP payload: 446
1335798813101: mux: Inside mux Packet.CLIENT_REQUEST
1335798813106: Received UDP payload: 642
1335798813108: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798813108: mux: Inside Packet.SERVER_REPLY
1335798813148: Received UDP payload: 642
1335798813150: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798813150: mux: Inside Packet.SERVER_REPLY
1335798813158: Received UDP payload: 642
1335798813160: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798813160: mux: Inside Packet.SERVER_REPLY
1335798813169: Received UDP payload: 446
1335798813170: mux: Inside mux Packet.CLIENT_REQUEST
1335798813197: Received UDP payload: 446
1335798813199: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798813199: mux: Inside Packet.SERVER_REPLY
1335798813281: Received UDP payload: 989
1335798813284: forwarding disabled, not forwarding packets
1335798813284: mux: GOT CSM_Msg
1335798813996: Received UDP payload: 5783
1335798814004: mux: Inside mux Packet.CLIENT_REQUEST
1335798814133: Received UDP payload: 446
1335798814138: mux: Inside Packet.SERVER_REPLY
1335798814139: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798814142: Received UDP payload: 989
1335798814151: forwarding disabled, not forwarding packets
1335798814151: mux: GOT CSM_Msg
1335798814161: Received UDP payload: 642
1335798814176: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798814176: mux: Inside Packet.SERVER_REPLY
1335798814198: Received UDP payload: 446
1335798814204: mux: Inside mux Packet.CLIENT_REQUEST
1335798814638: Received UDP payload: 446
1335798814644: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798814644: mux: Inside Packet.SERVER_REPLY
1335798814658: Received UDP payload: 989
1335798814676: mux: GOT CSM_Msg
1335798814677: forwarding disabled, not forwarding packets
1335798814692: Received UDP payload: 642
1335798814704: mux: Inside Packet.SERVER_REPLY
1335798814705: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798814804: Received UDP payload: 446
1335798814806: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798814806: mux: Inside Packet.SERVER_REPLY
1335798814867: Received UDP payload: 625
1335798814868: inside handleClientRequest. Originator leader of region 1
1335798814868: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798814868: mux: Inside mux Packet.CLIENT_REQUEST
1335798814869: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798814869: Sending to region: 1
1335798814869: got new request, requestCounter = 5006053
1335798814870: Dispatching Atom PROC_REQUEST 11:5 (1,0)->(1,0)
1335798814870: Make FirstLeg Ack regardless of new or already-processed requests
1335798814870: Note down new request by adding requestCounter=5006053 to HashMap processedRequests
1335798814870: Sending PROC_REQUEST 11:5 (1,0)->(1,0)
1335798814870: The leader sending a First Leg ack to originator client (which id = 5006)
1335798814870: inside sendPacket(Packet p)
1335798814871: mux: I got a CSM packet at a leader 
1335798814872: Sending UDP payload: 989
1335798814873: inside handleDSMRequest. At requests's remote leader of region 1
1335798814873: removed replies before id 5 from sentReplies of size 1
1335798814874: INSIDE SERVER_GET_PHOTO!!!
1335798814875:  1 self to self atomRequest
1335798814875: dst_region == src_region = 1
1335798814876: Received PROC_REQUEST 11:5 (1,0)->(1,0), replying PROC_REPLY 11:5 (1,0)->(1,0)
1335798814877: Dispatching Atom PROC_REPLY 11:5 (1,0)->(1,0)
1335798814878: Sending UDP payload: 446
1335798814884: mux: I got a CSM packet at a leader 
1335798814888: Sending UDP payload: 7037
1335798814890: DSM layer: Going to and from remote region took latency = 21
1335798814890: DSM layer: orig leader sent packet at 1335798814869 ~ received reply from remote leader at 1335798814890
1335798814890: Received PROC_REPLY 11:5 (1,0)->(1,0), handing to UserApp
1335798814890: inside handleDSMReply. Now back in originator leader of region 1
1335798814892: =======================
1335798814892: Leader about to send REPLY packet, number: 500100007 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798814892: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798814892: change leader replyCounter to: 7
1335798814892: inside sendReplies of replyCount = 500100007
1335798814892: inside sendReplyRepeatingRunnable for replyCount = 500100007
1335798814892: reply packet contains the newest photo/success info from the remote region
1335798814893: === Finished one round of sending REPLY Packet =======
1335798814893: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798814893: inside sendPacket(Packet p)
1335798814894: Sending UDP payload: 6690
1335798815194: =======================
1335798815194: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798815194: Leader about to send REPLY packet, number: 500100007 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798815194: inside sendReplyRepeatingRunnable for replyCount = 500100007
1335798815195: === Finished one round of sending REPLY Packet =======
1335798815195: inside sendPacket(Packet p)
1335798815196: Sending UDP payload: 6690
1335798815238: Received UDP payload: 642
1335798815240: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798815240: mux: Inside Packet.SERVER_REPLY
1335798815450: Received UDP payload: 6290
1335798815457: mux: Inside mux Packet.CLIENT_REQUEST
1335798815459: Received UDP payload: 446
1335798815475: mux: Inside Packet.SERVER_REPLY
1335798815476: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798815492: Received UDP payload: 446
1335798815496: =======================
1335798815496: inside sendReplyRepeatingRunnable for replyCount = 500100007
1335798815497: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798815497: Leader about to send REPLY packet, number: 500100007 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798815498: === Finished one round of sending REPLY Packet =======
1335798815498: inside sendPacket(Packet p)
1335798815506: Sending UDP payload: 6690
1335798815511: mux: Inside mux Packet.CLIENT_REQUEST
1335798815652: Received UDP payload: 625
1335798815654: inside handleClientRequest. Originator leader of region 1
1335798815654: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798815654: mux: Inside mux Packet.CLIENT_REQUEST
1335798815655: Make FirstLeg Ack regardless of new or already-processed requests
1335798815655: Note down new request by adding requestCounter=5006053 to HashMap processedRequests
1335798815655: The leader sending a First Leg ack to originator client (which id = 5006)
1335798815655: discarding repeated requestCounter=5006053, but still send an ack back
1335798815655: inside sendPacket(Packet p)
1335798815656: Sending UDP payload: 446
1335798815682: Received UDP payload: 446
1335798815685: inside handleClientRequest. Originator leader of region 1
1335798815685: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798815685: mux: Inside mux Packet.CLIENT_REQUEST
1335798815686: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100007
1335798815686: Yay the last leg succeeded. Removing reply runnables ...
1335798815686: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100007
1335798815686: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100007
1335798815686: got new request, requestCounter = 5006054
1335798815687: do not send ack for received final_leg_ack
1335798815693: Received UDP payload: 446
1335798815696: mux: Inside mux Packet.CLIENT_REQUEST
1335798815697: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100007
1335798815697: Yay the last leg succeeded. Removing reply runnables ...
1335798815697: got new request, requestCounter = 5006055
1335798815697: inside handleClientRequest. Originator leader of region 1
1335798815697: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798815698: do not send ack for received final_leg_ack
1335798815698: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100007
1335798815698: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100007
1335798816089: Received UDP payload: 7037
1335798816094: forwarding disabled, not forwarding packets
1335798816094: mux: GOT CSM_Msg
1335798816173: Received UDP payload: 446
1335798816205: Received UDP payload: 446
1335798816273: Received UDP payload: 446
1335798816290: Received UDP payload: 989
1335798816300: mux: GOT CSM_Msg
1335798816301: removed replies before id 12 from sentReplies of size 0
1335798816302: inside handleDSMRequest. At requests's remote leader of region 1
1335798816306: INSIDE SERVER_GET_PHOTO!!!
1335798816309: dst_region == src_region = 1
1335798816310:  1 self to self atomRequest
1335798816312: Received UDP payload: 446
1335798816321: Received PROC_REQUEST 11:12 (1,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(1,0)
1335798816322: Dispatching Atom PROC_REPLY 11:12 (1,0)->(1,0)
1335798816323: mux: I got a CSM packet at a leader 
1335798816335: Sending UDP payload: 7037
1335798816343: Received DUPLICATE PROC_REPLY 11:12 (1,0)->(1,0)
1335798816344: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798816344: mux: Inside Packet.SERVER_REPLY
1335798816743: Received UDP payload: 989
1335798816755: mux: GOT CSM_Msg
1335798816756: forwarding disabled, not forwarding packets
1335798816845: Received UDP payload: 6690
1335798816851: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798816851: mux: Inside Packet.SERVER_REPLY
1335798816866: Received UDP payload: 446
1335798816872: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798816872: mux: Inside mux Packet.CLIENT_REQUEST
1335798816873: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500020
1335798816873: got new request, requestCounter = 5006056
1335798816873: inside handleClientRequest. Originator leader of region 1
1335798816874: Yay the last leg succeeded. Removing reply runnables ...
1335798816874: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500020
1335798816876: do not send ack for received final_leg_ack
1335798816876: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500020
1335798816980: Received UDP payload: 6690
1335798816987: mux: Inside Packet.SERVER_REPLY
1335798816988: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798817007: Received UDP payload: 446
1335798817017: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798817017: mux: Inside mux Packet.CLIENT_REQUEST
1335798817018: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500020
1335798817018: got new request, requestCounter = 5006057
1335798817018: inside handleClientRequest. Originator leader of region 1
1335798817019: Yay the last leg succeeded. Removing reply runnables ...
1335798817019: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500020
1335798817020: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500020
1335798817021: do not send ack for received final_leg_ack
1335798817103: Received UDP payload: 446
1335798817105: inside sendPacket(Packet p)
1335798817112: Sending UDP payload: 446
1335798817115: mux: Inside Packet.SERVER_REPLY
1335798817116: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798817117: Received UDP payload: 446
1335798817124: inside handleClientRequest. Originator leader of region 1
1335798817124: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798817124: mux: Inside mux Packet.CLIENT_REQUEST
1335798817125: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500020
1335798817125: got new request, requestCounter = 5006058
1335798817126: Yay the last leg succeeded. Removing reply runnables ...
1335798817127: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500020
1335798817127: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500020
1335798817128: do not send ack for received final_leg_ack
1335798817449: Received UDP payload: 6690
1335798817453: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798817453: mux: Inside Packet.SERVER_REPLY
1335798817460: canPressButton = TRUE
1335798817461: areButtonsEnabled --> false 
1335798817461: get picture disableButtonsR
1335798817462: areButtonsEnabled --> false
1335798817494: one more getNum: 2
1335798817498: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335798817498: change local requestCounter to 7
1335798817498: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=0 getBad=1 getTimedout=0 getPercent=0%
1335798817499: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001007 Client in region: 1 Client nodID: 5001
1335798817535: ----------------------------
1335798817536: I'm a leader, my requesting photos packet going to mux directly
1335798817536: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798817536: got new request, requestCounter = 5001007
1335798817536: inside handleClientRequest. Originator leader of region 1
1335798817536: inside sendRequestPacketRepeatingRunnable for requestCount = 5001007
1335798817536: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798817536: mux: Inside mux Packet.CLIENT_REQUEST
1335798817537: Sending to region: 3
1335798817538: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(3,0)
1335798817538: Make FirstLeg Ack regardless of new or already-processed requests
1335798817538: Note down new request by adding requestCounter=5001007 to HashMap processedRequests
1335798817538: Sending PROC_REQUEST 11:0 (1,0)->(3,0)
1335798817538: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798817539: mux: I got a CSM packet at a leader 
1335798817540: Sending UDP payload: 989
1335798817541: --- Finished one round of sending REQUEST Packet ---------
1335798817541: forwarding disabled, not forwarding packets
1335798817579: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798817638: Received UDP payload: 5881
1335798817640: mux: Inside mux Packet.CLIENT_REQUEST
1335798817654: Received UDP payload: 446
1335798817771: Received UDP payload: 446
1335798817772: inside handleClientRequest. Originator leader of region 1
1335798817772: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798817772: mux: Inside mux Packet.CLIENT_REQUEST
1335798817773: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500020
1335798817773: Yay the last leg succeeded. Removing reply runnables ...
1335798817773: do not send ack for received final_leg_ack
1335798817773: got new request, requestCounter = 5006059
1335798817773: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500020
1335798817773: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500020
1335798818140: Received UDP payload: 989
1335798818143: forwarding disabled, not forwarding packets
1335798818143: mux: GOT CSM_Msg
1335798818252: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(3,0)
1335798818252: Retrying PROC_REQUEST 11:0 (1,0)->(3,0)
1335798818253: mux: I got a CSM packet at a leader 
1335798818254: Sending UDP payload: 989
1335798818254: forwarding disabled, not forwarding packets
1335798818353: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(3,0)
1335798818353: Retrying PROC_REQUEST 11:0 (1,0)->(3,0)
1335798818354: mux: I got a CSM packet at a leader 
1335798818355: Sending UDP payload: 989
1335798818356: forwarding disabled, not forwarding packets
1335798818366: Received UDP payload: 5601
1335798818368: mux: GOT CSM_Msg
1335798818369: DSM layer: Going to and from remote region took latency = 832
1335798818369: DSM layer: orig leader sent packet at 1335798817537 ~ received reply from remote leader at 1335798818369
1335798818369: Received PROC_REPLY 11:0 (3,0)->(1,0), handing to UserApp
1335798818369: inside handleDSMReply. Now back in originator leader of region 1
1335798818370: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798818370: change leader replyCounter to: 8
1335798818370: inside sendReplies of replyCount = 500100008
1335798818370: reply packet contains the newest photo/success info from the remote region
1335798818371: =======================
1335798818371: inside sendReplyRepeatingRunnable for replyCount = 500100008
1335798818372: === Finished one round of sending REPLY Packet =======
1335798818372: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798818372: Leader about to send REPLY packet, number: 500100008 type: 15 Leader in region: (1,0) to Client nodID: 5001
1335798818382: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798818382: Inside _enableButtons
1335798818382: disabling progressdialog due to successful new photo get
1335798818383: areButtonsEnabled --> true
1335798818383: send final leg ack regardless of new or already-processed reply
1335798818384: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001008 Client in region: (1,0) Client nodID: 5001
1335798818384: I'm a leader client, my final_leg packet going to mux directly
1335798818384: inside finalLegAck: change requestCounter to 8
1335798818384: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798818384: mux: Inside mux Packet.CLIENT_REQUEST
1335798818385: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100008
1335798818385: Yay the last leg succeeded. Removing reply runnables ...
1335798818385: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100008
1335798818385: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100008
1335798818385: do not send ack for received final_leg_ack
1335798818385: got new request, requestCounter = 5001008
1335798818385: inside handleClientRequest. Originator leader of region 1
1335798818386: leader download remote photo latency = 846
1335798818386: new client_show_remotephoto reply with replyCounter 500100008
1335798818386: note down new reply by adding replyCounter=500100008 to HashMap processedReplies
1335798818387: = leader download start 1335798817536 ~ stop 1335798818382
1335798818389: one more getGood: 1
1335798818390: Remote photo's length: 4590
1335798818390: Success! Client getting photo from remote region, showing photo...
1335798818390: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=1 getTimedout=0 getPercent=50%
1335798818390: successful reply for client get photo
1335798818534: Received UDP payload: 5881
1335798818536: mux: Inside mux Packet.CLIENT_REQUEST
1335798818624: Received UDP payload: 5601
1335798818628: Received DUPLICATE PROC_REPLY 11:0 (3,0)->(1,0)
1335798818628: mux: GOT CSM_Msg
1335798818656: Received UDP payload: 446
1335798818721: Received UDP payload: 446
1335798818724: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798818724: mux: Inside Packet.SERVER_REPLY
1335798818736: Received UDP payload: 989
1335798818743: mux: GOT CSM_Msg
1335798818744: forwarding disabled, not forwarding packets
1335798818868: Received UDP payload: 625
1335798818870: mux: Inside mux Packet.CLIENT_REQUEST
1335798818927: Received UDP payload: 989
1335798818930: forwarding disabled, not forwarding packets
1335798818930: mux: GOT CSM_Msg
1335798818940: Received UDP payload: 446
1335798818942: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798818942: mux: Inside Packet.SERVER_REPLY
1335798819083: Received UDP payload: 642
1335798819084: mux: Inside Packet.SERVER_REPLY
1335798819085: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798819089: Received UDP payload: 446
1335798819091: mux: Inside mux Packet.CLIENT_REQUEST
1335798819340: Received UDP payload: 5254
1335798819344: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798819344: mux: Inside Packet.SERVER_REPLY
1335798819640: Received UDP payload: 5254
1335798819646: mux: Inside Packet.SERVER_REPLY
1335798819647: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798819654: Received UDP payload: 446
1335798819660: mux: Inside mux Packet.CLIENT_REQUEST
1335798820494: Received UDP payload: 625
1335798820504: mux: Inside mux Packet.CLIENT_REQUEST
1335798820543: Received UDP payload: 989
1335798820551: forwarding disabled, not forwarding packets
1335798820551: mux: GOT CSM_Msg
1335798820586: Received UDP payload: 446
1335798820587: mux: Inside Packet.SERVER_REPLY
1335798820588: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798820673: Received UDP payload: 5601
1335798820676: forwarding disabled, not forwarding packets
1335798820676: mux: GOT CSM_Msg
1335798820806: Received UDP payload: 625
1335798820808: mux: Inside mux Packet.CLIENT_REQUEST
1335798820866: Received UDP payload: 446
1335798820868: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798820868: mux: Inside Packet.SERVER_REPLY
1335798820964: Received UDP payload: 5254
1335798820966: mux: Inside Packet.SERVER_REPLY
1335798820967: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798821169: Received UDP payload: 446
1335798821579: Received UDP payload: 989
1335798821591: forwarding disabled, not forwarding packets
1335798821591: mux: GOT CSM_Msg
1335798822105: inside sendPacket(Packet p)
1335798822109: Sending UDP payload: 446
1335798822349: Received UDP payload: 989
1335798822363: forwarding disabled, not forwarding packets
1335798822363: mux: GOT CSM_Msg
1335798822448: Received UDP payload: 989
1335798822461: forwarding disabled, not forwarding packets
1335798822461: mux: GOT CSM_Msg
1335798822549: Received UDP payload: 989
1335798822560: forwarding disabled, not forwarding packets
1335798822560: mux: GOT CSM_Msg
1335798822654: Received UDP payload: 989
1335798822666: mux: GOT CSM_Msg
1335798822667: forwarding disabled, not forwarding packets
1335798822675: Received UDP payload: 446
1335798822759: Received UDP payload: 989
1335798822770: mux: GOT CSM_Msg
1335798822771: forwarding disabled, not forwarding packets
1335798822854: Received UDP payload: 989
1335798822868: forwarding disabled, not forwarding packets
1335798822868: mux: GOT CSM_Msg
1335798822976: Received UDP payload: 989
1335798822986: mux: GOT CSM_Msg
1335798822987: forwarding disabled, not forwarding packets
1335798823058: Received UDP payload: 989
1335798823069: mux: GOT CSM_Msg
1335798823070: forwarding disabled, not forwarding packets
1335798823162: Received UDP payload: 989
1335798823173: forwarding disabled, not forwarding packets
1335798823173: mux: GOT CSM_Msg
1335798823365: Received UDP payload: 989
1335798823375: mux: GOT CSM_Msg
1335798823376: forwarding disabled, not forwarding packets
1335798823468: Received UDP payload: 989
1335798823470: forwarding disabled, not forwarding packets
1335798823470: mux: GOT CSM_Msg
1335798823540: Received UDP payload: 6107
1335798823543: mux: Inside mux Packet.CLIENT_REQUEST
1335798823563: Received UDP payload: 989
1335798823569: mux: GOT CSM_Msg
1335798823570: forwarding disabled, not forwarding packets
1335798823583: Received UDP payload: 446
1335798823668: Received UDP payload: 989
1335798823672: forwarding disabled, not forwarding packets
1335798823672: mux: GOT CSM_Msg
1335798823843: Received UDP payload: 6107
1335798823846: mux: Inside mux Packet.CLIENT_REQUEST
1335798823962: Received UDP payload: 446
1335798823964: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798823964: mux: Inside Packet.SERVER_REPLY
1335798823977: Received UDP payload: 989
1335798823983: forwarding disabled, not forwarding packets
1335798823983: mux: GOT CSM_Msg
1335798823993: Received UDP payload: 642
1335798824003: mux: Inside Packet.SERVER_REPLY
1335798824004: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798824255: canPressButton = TRUE
1335798824256: areButtonsEnabled --> false
1335798824257: disabling buttons ...
1335798824258: areButtonsEnabled --> false
1335798824258: took picture disableButtonsR
1335798824299: one more takeNum: 3
1335798824301: Clicked take picture button ..
1335798824301: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=2 getGood=1 getBad=1 getTimedout=0 getPercent=50%
1335798824630: Received UDP payload: 989
1335798824643: mux: GOT CSM_Msg
1335798824644: forwarding disabled, not forwarding packets
1335798824941: Received UDP payload: 989
1335798824944: forwarding disabled, not forwarding packets
1335798824944: mux: GOT CSM_Msg
1335798825362: Received UDP payload: 989
1335798825365: forwarding disabled, not forwarding packets
1335798825365: mux: GOT CSM_Msg
1335798825474: Received UDP payload: 989
1335798825477: forwarding disabled, not forwarding packets
1335798825477: mux: GOT CSM_Msg
1335798825735: Received UDP payload: 989
1335798825739: mux: GOT CSM_Msg
1335798825740: forwarding disabled, not forwarding packets
1335798825754: Received UDP payload: 625
1335798825756: mux: Inside mux Packet.CLIENT_REQUEST
1335798825759: inside HandlePictureStorage onPictureTaken()
1335798825760: one more takeCamGood: 3
1335798825761: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=2 getGood=1 getBad=1 getTimedout=0 getPercent=50%
1335798825764: Received UDP payload: 989
1335798825769: forwarding disabled, not forwarding packets
1335798825769: mux: GOT CSM_Msg
1335798825818: Received UDP payload: 989
1335798825821: forwarding disabled, not forwarding packets
1335798825821: mux: GOT CSM_Msg
1335798825830: Received UDP payload: 446
1335798825833: mux: Inside Packet.SERVER_REPLY
1335798825834: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798825981: Received UDP payload: 5601
1335798825993: forwarding disabled, not forwarding packets
1335798825993: mux: GOT CSM_Msg
1335798825996: Received UDP payload: 989
1335798826016: forwarding disabled, not forwarding packets
1335798826016: mux: GOT CSM_Msg
1335798826025: Picture successfully taken, ORIG BYTE LENGTH = 3047869
1335798826083: Received UDP payload: 989
1335798826086: forwarding disabled, not forwarding packets
1335798826086: mux: GOT CSM_Msg
1335798826104: Received UDP payload: 989
1335798826107: forwarding disabled, not forwarding packets
1335798826107: mux: GOT CSM_Msg
1335798826180: Received UDP payload: 5254
1335798826182: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798826182: mux: Inside Packet.SERVER_REPLY
1335798826190: Received UDP payload: 989
1335798826194: forwarding disabled, not forwarding packets
1335798826194: mux: GOT CSM_Msg
1335798826236: Received UDP payload: 989
1335798826239: forwarding disabled, not forwarding packets
1335798826239: mux: GOT CSM_Msg
1335798826265: Our new height x width: 306 x 408
1335798826265: Show photo from handle my camera take
1335798826266: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798826266: change local requestCounter to 9
1335798826280: BYTE SIZE AFTER COMPRESSION: 5812
1335798826281: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001009 Client in region: 1 Client nodID: 5001
1335798826304: Received UDP payload: 989
1335798826308: forwarding disabled, not forwarding packets
1335798826308: mux: GOT CSM_Msg
1335798826313: Received UDP payload: 989
1335798826317: forwarding disabled, not forwarding packets
1335798826317: mux: GOT CSM_Msg
1335798826321: ----------------------------
1335798826322: inside sendRequestPacketRepeatingRunnable for requestCount = 5001009
1335798826323: I'm a leader, my requesting photos packet going to mux directly
1335798826323: mux: Inside mux Packet.CLIENT_REQUEST
1335798826324: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798826324: Sending PROC_REQUEST 10:6 (1,0)->(1,0)
1335798826324: got new request, requestCounter = 5001009
1335798826324: inside handleClientRequest. Originator leader of region 1
1335798826324: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798826325: Dispatching Atom PROC_REQUEST 10:6 (1,0)->(1,0)
1335798826325: Make FirstLeg Ack regardless of new or already-processed requests
1335798826325: Note down new request by adding requestCounter=5001009 to HashMap processedRequests
1335798826325: mux: I got a CSM packet at a leader 
1335798826325: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798826326: Sending UDP payload: 6823
1335798826330: inside handleDSMRequest. At requests's remote leader of region 1
1335798826330: removed replies before id 6 from sentReplies of size 1
1335798826331: Inside UPLOAD_PHOTO!!
1335798826332: my_gpinfo.isSuccess is now (should be true): true
1335798826333: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798826334: Dispatching Atom PROC_REPLY 10:6 (1,0)->(1,0)
1335798826334: Received PROC_REQUEST 10:6 (1,0)->(1,0), replying PROC_REPLY 10:6 (1,0)->(1,0)
1335798826334: mux: I got a CSM packet at a leader 
1335798826335: --- Finished one round of sending REQUEST Packet ---------
1335798826339: Received UDP payload: 989
1335798826340: Sending UDP payload: 989
1335798826348: DSM layer: Going to and from remote region took latency = 24
1335798826348: DSM layer: orig leader sent packet at 1335798826324 ~ received reply from remote leader at 1335798826348
1335798826348: Received PROC_REPLY 10:6 (1,0)->(1,0), handing to UserApp
1335798826348: inside handleDSMReply. Now back in originator leader of region 1
1335798826349: =======================
1335798826349: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798826349: change leader replyCounter to: 9
1335798826349: inside sendReplies of replyCount = 500100009
1335798826349: inside sendReplyRepeatingRunnable for replyCount = 500100009
1335798826349: reply packet contains the success info for UPLOAD_PHOTO
1335798826350: === Finished one round of sending REPLY Packet =======
1335798826350: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798826350: Leader about to send REPLY packet, number: 500100009 type: 16 Leader in region: (1,0) to Client nodID: 5001
1335798826350: forwarding disabled, not forwarding packets
1335798826350: mux: GOT CSM_Msg
1335798826363: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798826364: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798826366: I'm a leader and I successfully saved my client's new photo
1335798826366: now showing in UI the new photo I just saved ... 
1335798826366: the photo length: 5812
1335798826402: end of server show photo aside %%%%%%%%%
1335798826404: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798826404: Inside _enableButtons
1335798826404: disabling progressdialog due to successful new photo upload
1335798826405: areButtonsEnabled --> true
1335798826405: inside finalLegAck: change requestCounter to 10
1335798826405: send final leg ack regardless of new or already-processed reply
1335798826406: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001010 Client in region: (1,0) Client nodID: 5001
1335798826406: I'm a leader client, my final_leg packet going to mux directly
1335798826406: inside handleClientRequest. Originator leader of region 1
1335798826406: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798826406: mux: Inside mux Packet.CLIENT_REQUEST
1335798826407: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100009
1335798826407: Yay the last leg succeeded. Removing reply runnables ...
1335798826407: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100009
1335798826407: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100009
1335798826407: do not send ack for received final_leg_ack
1335798826407: got new request, requestCounter = 5001010
1335798826407: new client_upload_photo_ack reply with replyCounter 500100009
1335798826408: = leader upload start 1335798826323 ~ stop 1335798826404
1335798826408: leader upload new photo latency = 81
1335798826408: note down new reply by adding replyCounter=500100009 to HashMap processedReplies
1335798826409: one more takeGoodSave: 3
1335798826410: SUCCESS Client now knows saving photo on its leader succeeded
1335798826410: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=1 getTimedout=0 getPercent=50%
1335798826545: Received UDP payload: 5254
1335798826547: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798826547: mux: Inside Packet.SERVER_REPLY
1335798826557: Received UDP payload: 989
1335798826560: forwarding disabled, not forwarding packets
1335798826560: mux: GOT CSM_Msg
1335798826589: Received UDP payload: 446
1335798826591: mux: Inside mux Packet.CLIENT_REQUEST
1335798826603: Received UDP payload: 989
1335798826605: forwarding disabled, not forwarding packets
1335798826605: mux: GOT CSM_Msg
1335798826648: Received UDP payload: 625
1335798826650: mux: Inside mux Packet.CLIENT_REQUEST
1335798826688: Received UDP payload: 989
1335798826690: forwarding disabled, not forwarding packets
1335798826690: mux: GOT CSM_Msg
1335798826716: Received UDP payload: 989
1335798826719: forwarding disabled, not forwarding packets
1335798826719: mux: GOT CSM_Msg
1335798826723: Received UDP payload: 446
1335798826725: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798826725: mux: Inside Packet.SERVER_REPLY
1335798826796: Received UDP payload: 5601
1335798826799: forwarding disabled, not forwarding packets
1335798826799: mux: GOT CSM_Msg
1335798826881: Received UDP payload: 5254
1335798826883: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798826883: mux: Inside Packet.SERVER_REPLY
1335798826912: Received UDP payload: 989
1335798826915: forwarding disabled, not forwarding packets
1335798826915: mux: GOT CSM_Msg
1335798826944: Received UDP payload: 989
1335798826947: forwarding disabled, not forwarding packets
1335798826947: mux: GOT CSM_Msg
1335798827063: Received UDP payload: 5254
1335798827066: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798827066: mux: Inside Packet.SERVER_REPLY
1335798827091: Received UDP payload: 989
1335798827093: forwarding disabled, not forwarding packets
1335798827093: mux: GOT CSM_Msg
1335798827105: Received UDP payload: 446
1335798827107: mux: Inside mux Packet.CLIENT_REQUEST
1335798827110: inside sendPacket(Packet p)
1335798827113: Sending UDP payload: 446
1335798827250: Received UDP payload: 989
1335798827254: forwarding disabled, not forwarding packets
1335798827254: mux: GOT CSM_Msg
1335798827543: Received UDP payload: 989
1335798827547: forwarding disabled, not forwarding packets
1335798827547: mux: GOT CSM_Msg
1335798827561: Received UDP payload: 989
1335798827565: forwarding disabled, not forwarding packets
1335798827565: mux: GOT CSM_Msg
1335798827574: Received UDP payload: 989
1335798827578: mux: GOT CSM_Msg
1335798827579: forwarding disabled, not forwarding packets
1335798827679: Received UDP payload: 446
1335798827963: Received UDP payload: 446
1335798828039: Received UDP payload: 989
1335798828054: forwarding disabled, not forwarding packets
1335798828054: mux: GOT CSM_Msg
1335798828066: Received UDP payload: 989
1335798828088: mux: GOT CSM_Msg
1335798828090: Received DUPLICATE PROC_REPLY 11:2 (0,0)->(1,0)
1335798828298: Received UDP payload: 6403
1335798828301: mux: Inside mux Packet.CLIENT_REQUEST
1335798828581: Received UDP payload: 446
1335798828584: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798828584: mux: Inside Packet.SERVER_REPLY
1335798828590: Received UDP payload: 989
1335798828596: mux: GOT CSM_Msg
1335798828597: Received UDP payload: 642
1335798828597: forwarding disabled, not forwarding packets
1335798828606: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798828606: mux: Inside Packet.SERVER_REPLY
1335798828653: Received UDP payload: 642
1335798828658: Received UDP payload: 446
1335798828658: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798828658: mux: Inside Packet.SERVER_REPLY
1335798828662: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798828662: mux: Inside Packet.SERVER_REPLY
1335798828676: Received UDP payload: 446
1335798828679: mux: Inside mux Packet.CLIENT_REQUEST
1335798828687: Received UDP payload: 642
1335798828690: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798828690: mux: Inside Packet.SERVER_REPLY
1335798828694: Received UDP payload: 642
1335798828697: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798828697: mux: Inside Packet.SERVER_REPLY
1335798828726: Received UDP payload: 446
1335798828731: mux: Inside mux Packet.CLIENT_REQUEST
1335798828734: Received UDP payload: 446
1335798828748: mux: Inside mux Packet.CLIENT_REQUEST
1335798828779: Received UDP payload: 446
1335798828780: mux: Inside mux Packet.CLIENT_REQUEST
1335798828999: Received UDP payload: 446
1335798830682: Received UDP payload: 989
1335798830693: forwarding disabled, not forwarding packets
1335798830693: mux: GOT CSM_Msg
1335798830930: areButtonsEnabled --> false
1335798830930: areButtonsEnabled --> false 
1335798830930: canPressButton = TRUE
1335798830930: get picture disableButtonsR
1335798830949: one more getNum: 3
1335798830950: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335798830950: change local requestCounter to 11
1335798830950: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=1 getBad=1 getTimedout=0 getPercent=33%
1335798830951: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001011 Client in region: 1 Client nodID: 5001
1335798830986: ----------------------------
1335798830988: I'm a leader, my requesting photos packet going to mux directly
1335798830988: got new request, requestCounter = 5001011
1335798830988: inside handleClientRequest. Originator leader of region 1
1335798830988: inside sendRequestPacketRepeatingRunnable for requestCount = 5001011
1335798830988: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798830988: mux: Inside mux Packet.CLIENT_REQUEST
1335798830989: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798830989: Sending to region: 3
1335798830990: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(3,0)
1335798830990: Make FirstLeg Ack regardless of new or already-processed requests
1335798830990: Note down new request by adding requestCounter=5001011 to HashMap processedRequests
1335798830990: Sending PROC_REQUEST 11:1 (1,0)->(3,0)
1335798830991: mux: I got a CSM packet at a leader 
1335798830991: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798830993: --- Finished one round of sending REQUEST Packet ---------
1335798830993: Sending UDP payload: 989
1335798830993: forwarding disabled, not forwarding packets
1335798831031: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798831122: Received UDP payload: 5601
1335798831125: mux: GOT CSM_Msg
1335798831126: DSM layer: Going to and from remote region took latency = 137
1335798831126: DSM layer: orig leader sent packet at 1335798830989 ~ received reply from remote leader at 1335798831126
1335798831126: Received PROC_REPLY 11:1 (3,0)->(1,0), handing to UserApp
1335798831126: inside handleDSMReply. Now back in originator leader of region 1
1335798831127: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798831127: change leader replyCounter to: 10
1335798831127: inside sendReplies of replyCount = 500100010
1335798831127: reply packet contains the newest photo/success info from the remote region
1335798831128: === Finished one round of sending REPLY Packet =======
1335798831128: =======================
1335798831128: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798831128: Leader about to send REPLY packet, number: 500100010 type: 15 Leader in region: (1,0) to Client nodID: 5001
1335798831128: inside sendReplyRepeatingRunnable for replyCount = 500100010
1335798831130: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798831130: disabling progressdialog due to successful new photo get
1335798831131: Inside _enableButtons
1335798831131: areButtonsEnabled --> true
1335798831131: inside finalLegAck: change requestCounter to 12
1335798831131: send final leg ack regardless of new or already-processed reply
1335798831132: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001012 Client in region: (1,0) Client nodID: 5001
1335798831132: I'm a leader client, my final_leg packet going to mux directly
1335798831132: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100010
1335798831132: got new request, requestCounter = 5001012
1335798831132: inside handleClientRequest. Originator leader of region 1
1335798831132: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798831132: mux: Inside mux Packet.CLIENT_REQUEST
1335798831133: Yay the last leg succeeded. Removing reply runnables ...
1335798831133: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100010
1335798831133: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100010
1335798831133: do not send ack for received final_leg_ack
1335798831133: new client_show_remotephoto reply with replyCounter 500100010
1335798831136: = leader download start 1335798830988 ~ stop 1335798831130
1335798831136: leader download remote photo latency = 142
1335798831136: note down new reply by adding replyCounter=500100010 to HashMap processedReplies
1335798831137: one more getGood: 2
1335798831138: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=1 getTimedout=0 getPercent=66%
1335798831138: successful reply for client get photo
1335798831139: Remote photo's length: 4590
1335798831139: Success! Client getting photo from remote region, showing photo...
1335798831179: Received UDP payload: 446
1335798831478: Received UDP payload: 989
1335798831485: mux: GOT CSM_Msg
1335798831486: forwarding disabled, not forwarding packets
1335798831569: Received UDP payload: 6664
1335798831571: mux: Inside mux Packet.CLIENT_REQUEST
1335798831604: Received UDP payload: 989
1335798831608: forwarding disabled, not forwarding packets
1335798831608: mux: GOT CSM_Msg
1335798831665: Received UDP payload: 6767
1335798831669: forwarding disabled, not forwarding packets
1335798831669: mux: GOT CSM_Msg
1335798831714: Received UDP payload: 989
1335798831718: forwarding disabled, not forwarding packets
1335798831718: mux: GOT CSM_Msg
1335798831797: Received UDP payload: 989
1335798831800: forwarding disabled, not forwarding packets
1335798831800: mux: GOT CSM_Msg
1335798832012: Received UDP payload: 6767
1335798832017: forwarding disabled, not forwarding packets
1335798832017: mux: GOT CSM_Msg
1335798832038: Received UDP payload: 642
1335798832040: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798832040: mux: Inside Packet.SERVER_REPLY
1335798832064: Received UDP payload: 446
1335798832066: mux: Inside mux Packet.CLIENT_REQUEST
1335798832110: inside sendPacket(Packet p)
1335798832112: Sending UDP payload: 446
1335798832224: Received UDP payload: 446
1335798832238: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798832238: mux: Inside Packet.SERVER_REPLY
1335798832648: Received UDP payload: 446
1335798833434: Received UDP payload: 446
1335798833502: Received UDP payload: 446
1335798833720: Received UDP payload: 446
1335798834020: Received UDP payload: 446
1335798834326: Received UDP payload: 446
1335798836169: Received UDP payload: 446
1335798837111: inside sendPacket(Packet p)
1335798837118: Sending UDP payload: 446
1335798837177: Received UDP payload: 5701
1335798837178: mux: Inside mux Packet.CLIENT_REQUEST
1335798837649: Received UDP payload: 5701
1335798837652: mux: Inside mux Packet.CLIENT_REQUEST
1335798837656: Received UDP payload: 446
1335798837944: Received UDP payload: 989
1335798837954: mux: GOT CSM_Msg
1335798837955: removed replies before id 10 from sentReplies of size 0
1335798837957: inside handleDSMRequest. At requests's remote leader of region 1
1335798837958: INSIDE SERVER_GET_PHOTO!!!
1335798837974: Received PROC_REQUEST 11:10 (3,0)->(1,0), replying PROC_REPLY 11:10 (1,0)->(3,0)
1335798837976: Dispatching Atom PROC_REPLY 11:10 (1,0)->(3,0)
1335798837977: mux: I got a CSM packet at a leader 
1335798837998: Sending UDP payload: 6823
1335798838005: forwarding disabled, not forwarding packets
1335798838502: Received UDP payload: 446
1335798838694: Received UDP payload: 446
1335798839546: Received UDP payload: 625
1335798839554: mux: Inside mux Packet.CLIENT_REQUEST
1335798839555: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798839556: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798839556: got new request, requestCounter = 5006060
1335798839556: inside handleClientRequest. Originator leader of region 1
1335798839568: Sending to region: 0
1335798839570: Sending PROC_REQUEST 11:1 (1,0)->(0,0)
1335798839571: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798839572: Make FirstLeg Ack regardless of new or already-processed requests
1335798839572: Note down new request by adding requestCounter=5006060 to HashMap processedRequests
1335798839572: The leader sending a First Leg ack to originator client (which id = 5006)
1335798839573: inside sendPacket(Packet p)
1335798839574: mux: I got a CSM packet at a leader 
1335798839593: Sending UDP payload: 989
1335798839596: forwarding disabled, not forwarding packets
1335798839601: Sending UDP payload: 446
1335798839636: Received UDP payload: 989
1335798839645: mux: GOT CSM_Msg
1335798839646: forwarding disabled, not forwarding packets
1335798839704: Received UDP payload: 446
1335798839708: mux: Inside Packet.SERVER_REPLY
1335798839709: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798840279: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840280: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840280: mux: I got a CSM packet at a leader 
1335798840281: Sending UDP payload: 989
1335798840282: forwarding disabled, not forwarding packets
1335798840333: Received UDP payload: 989
1335798840336: forwarding disabled, not forwarding packets
1335798840336: mux: GOT CSM_Msg
1335798840381: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840381: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840381: mux: I got a CSM packet at a leader 
1335798840382: Sending UDP payload: 989
1335798840383: forwarding disabled, not forwarding packets
1335798840425: Received UDP payload: 989
1335798840428: forwarding disabled, not forwarding packets
1335798840428: mux: GOT CSM_Msg
1335798840482: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840482: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840483: mux: I got a CSM packet at a leader 
1335798840484: Sending UDP payload: 989
1335798840484: forwarding disabled, not forwarding packets
1335798840534: Received UDP payload: 6815
1335798840537: Received DUPLICATE PROC_REPLY 11:3 (0,0)->(1,0)
1335798840537: mux: GOT CSM_Msg
1335798840544: Received UDP payload: 989
1335798840547: forwarding disabled, not forwarding packets
1335798840547: mux: GOT CSM_Msg
1335798840583: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840584: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840584: mux: I got a CSM packet at a leader 
1335798840587: Sending UDP payload: 989
1335798840589: forwarding disabled, not forwarding packets
1335798840685: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840687: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840688: mux: I got a CSM packet at a leader 
1335798840690: Sending UDP payload: 989
1335798840692: Received UDP payload: 6468
1335798840695: forwarding disabled, not forwarding packets
1335798840695: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798840695: mux: Inside Packet.SERVER_REPLY
1335798840700: Received UDP payload: 446
1335798840703: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798840703: mux: Inside mux Packet.CLIENT_REQUEST
1335798840704: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500022
1335798840704: Yay the last leg succeeded. Removing reply runnables ...
1335798840704: got new request, requestCounter = 5006061
1335798840704: inside handleClientRequest. Originator leader of region 1
1335798840704: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500022
1335798840705: do not send ack for received final_leg_ack
1335798840705: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500022
1335798840773: Received UDP payload: 989
1335798840779: inside handleDSMRequest. At requests's remote leader of region 1
1335798840779: mux: GOT CSM_Msg
1335798840779: removed replies before id 13 from sentReplies of size 0
1335798840780: INSIDE SERVER_GET_PHOTO!!!
1335798840781: dst_region == src_region = 1
1335798840782:  1 self to self atomRequest
1335798840783: Received PROC_REQUEST 11:13 (1,0)->(1,0), replying PROC_REPLY 11:13 (1,0)->(1,0)
1335798840784: Dispatching Atom PROC_REPLY 11:13 (1,0)->(1,0)
1335798840785: mux: I got a CSM packet at a leader 
1335798840788: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840788: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840793: Sending UDP payload: 6823
1335798840800: Received DUPLICATE PROC_REPLY 11:13 (1,0)->(1,0)
1335798840801: mux: I got a CSM packet at a leader 
1335798840804: Sending UDP payload: 989
1335798840809: forwarding disabled, not forwarding packets
1335798840890: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840891: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840891: mux: I got a CSM packet at a leader 
1335798840894: Sending UDP payload: 989
1335798840895: forwarding disabled, not forwarding packets
1335798840933: Received UDP payload: 7037
1335798840938: mux: GOT CSM_Msg
1335798840939: Received DUPLICATE PROC_REPLY 11:13 (1,0)->(1,0)
1335798840992: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840993: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798840993: mux: I got a CSM packet at a leader 
1335798840996: Sending UDP payload: 989
1335798840999: forwarding disabled, not forwarding packets
1335798841094: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841095: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841095: mux: I got a CSM packet at a leader 
1335798841097: Sending UDP payload: 989
1335798841099: forwarding disabled, not forwarding packets
1335798841196: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841198: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841199: mux: I got a CSM packet at a leader 
1335798841203: Sending UDP payload: 989
1335798841209: forwarding disabled, not forwarding packets
1335798841239: Received UDP payload: 446
1335798841299: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841299: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841299: mux: I got a CSM packet at a leader 
1335798841301: Sending UDP payload: 989
1335798841301: forwarding disabled, not forwarding packets
1335798841400: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841400: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841400: mux: I got a CSM packet at a leader 
1335798841402: Sending UDP payload: 989
1335798841402: forwarding disabled, not forwarding packets
1335798841501: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841501: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841502: mux: I got a CSM packet at a leader 
1335798841503: Sending UDP payload: 989
1335798841503: forwarding disabled, not forwarding packets
1335798841602: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841602: Retrying PROC_REQUEST 11:1 (1,0)->(0,0)
1335798841603: mux: I got a CSM packet at a leader 
1335798841604: Sending UDP payload: 989
1335798841605: forwarding disabled, not forwarding packets
1335798841670: areButtonsEnabled --> false
1335798841670: canPressButton = TRUE
1335798841671: areButtonsEnabled --> false
1335798841671: disabling buttons ...
1335798841671: took picture disableButtonsR
1335798841697: one more takeNum: 4
1335798841698: Clicked take picture button ..
1335798841698: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=3 getGood=2 getBad=1 getTimedout=0 getPercent=66%
1335798841703: DSM Layer: Request timed out, send failure PROC_REPLY 11:1 (0,0)->(1,0)
1335798841703: Dispatching Atom PROC_REPLY 11:1 (0,0)->(1,0)
1335798841704: mux: I got a CSM packet at a leader 
1335798841705: Sending UDP payload: 989
1335798841706: DSM layer timed out, don't log dsm layer latency stuff.
1335798841706: Received PROC_REPLY 11:1 (0,0)->(1,0), handing to UserApp
1335798841706: inside handleDSMReply. Now back in originator leader of region 1
1335798841707: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798841707: change leader replyCounter to: 11
1335798841707: inside sendReplies of replyCount = 500100011
1335798841707: reply packet contains the newest photo/success info from the remote region
1335798841708: === Finished one round of sending REPLY Packet =======
1335798841708: =======================
1335798841708: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798841708: Leader about to send REPLY packet, number: 500100011 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798841708: inside sendPacket(Packet p)
1335798841708: inside sendReplyRepeatingRunnable for replyCount = 500100011
1335798841711: Sending UDP payload: 642
1335798841805: Received UDP payload: 6815
1335798841809: Received DUPLICATE PROC_REPLY 11:1 (0,0)->(1,0)
1335798841809: mux: GOT CSM_Msg
1335798842008: =======================
1335798842009: inside sendReplyRepeatingRunnable for replyCount = 500100011
1335798842010: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798842010: Leader about to send REPLY packet, number: 500100011 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798842011: === Finished one round of sending REPLY Packet =======
1335798842011: inside sendPacket(Packet p)
1335798842014: Sending UDP payload: 642
1335798842123: inside sendPacket(Packet p)
1335798842124: Sending UDP payload: 446
1335798842311: =======================
1335798842312: === Finished one round of sending REPLY Packet =======
1335798842312: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798842312: Leader about to send REPLY packet, number: 500100011 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798842312: inside sendPacket(Packet p)
1335798842312: inside sendReplyRepeatingRunnable for replyCount = 500100011
1335798842313: Sending UDP payload: 642
1335798842612: =======================
1335798842613: === Finished one round of sending REPLY Packet =======
1335798842613: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798842613: Leader about to send REPLY packet, number: 500100011 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798842613: inside sendPacket(Packet p)
1335798842613: inside sendReplyRepeatingRunnable for replyCount = 500100011
1335798842614: Sending UDP payload: 642
1335798842698: Received UDP payload: 989
1335798842700: forwarding disabled, not forwarding packets
1335798842700: mux: GOT CSM_Msg
1335798842710: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100011
1335798842710: inside sendReplyTimeoutR
1335798842717: Received UDP payload: 446
1335798842984: Received UDP payload: 6815
1335798842987: Received DUPLICATE PROC_REPLY 11:1 (0,0)->(1,0)
1335798842987: mux: GOT CSM_Msg
1335798843095: inside HandlePictureStorage onPictureTaken()
1335798843095: one more takeCamGood: 4
1335798843096: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=3 getGood=2 getBad=1 getTimedout=0 getPercent=66%
1335798843355: Picture successfully taken, ORIG BYTE LENGTH = 3003988
1335798843594: Our new height x width: 306 x 408
1335798843595: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798843595: Show photo from handle my camera take
1335798843595: change local requestCounter to 13
1335798843610: BYTE SIZE AFTER COMPRESSION: 6365
1335798843611: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001013 Client in region: 1 Client nodID: 5001
1335798843640: ----------------------------
1335798843641: I'm a leader, my requesting photos packet going to mux directly
1335798843641: inside sendRequestPacketRepeatingRunnable for requestCount = 5001013
1335798843642: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798843642: Sending PROC_REQUEST 10:7 (1,0)->(1,0)
1335798843642: got new request, requestCounter = 5001013
1335798843642: inside handleClientRequest. Originator leader of region 1
1335798843642: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798843642: mux: Inside mux Packet.CLIENT_REQUEST
1335798843643: Dispatching Atom PROC_REQUEST 10:7 (1,0)->(1,0)
1335798843643: Make FirstLeg Ack regardless of new or already-processed requests
1335798843643: Note down new request by adding requestCounter=5001013 to HashMap processedRequests
1335798843643: mux: I got a CSM packet at a leader 
1335798843643: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798843645: Sending UDP payload: 7376
1335798843646: removed replies before id 7 from sentReplies of size 1
1335798843647: Inside UPLOAD_PHOTO!!
1335798843647: inside handleDSMRequest. At requests's remote leader of region 1
1335798843649: my_gpinfo.isSuccess is now (should be true): true
1335798843650: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798843651: Received PROC_REQUEST 10:7 (1,0)->(1,0), replying PROC_REPLY 10:7 (1,0)->(1,0)
1335798843652: --- Finished one round of sending REQUEST Packet ---------
1335798843652: Dispatching Atom PROC_REPLY 10:7 (1,0)->(1,0)
1335798843652: mux: I got a CSM packet at a leader 
1335798843653: Received UDP payload: 6815
1335798843660: Sending UDP payload: 989
1335798843664: Received PROC_REPLY 10:7 (1,0)->(1,0), handing to UserApp
1335798843665: DSM layer: Going to and from remote region took latency = 23
1335798843665: inside handleDSMReply. Now back in originator leader of region 1
1335798843668: DSM layer: orig leader sent packet at 1335798843642 ~ received reply from remote leader at 1335798843665
1335798843668: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798843668: change leader replyCounter to: 12
1335798843668: reply packet contains the success info for UPLOAD_PHOTO
1335798843669: === Finished one round of sending REPLY Packet =======
1335798843669: =======================
1335798843669: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798843669: Leader about to send REPLY packet, number: 500100012 type: 16 Leader in region: (1,0) to Client nodID: 5001
1335798843669: inside sendReplies of replyCount = 500100012
1335798843669: inside sendReplyRepeatingRunnable for replyCount = 500100012
1335798843670: Received DUPLICATE PROC_REPLY 11:1 (0,0)->(1,0)
1335798843670: mux: GOT CSM_Msg
1335798843682: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798843683: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798843684: I'm a leader and I successfully saved my client's new photo
1335798843684: now showing in UI the new photo I just saved ... 
1335798843685: the photo length: 6365
1335798843719: end of server show photo aside %%%%%%%%%
1335798843720: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798843720: Inside _enableButtons
1335798843720: disabling progressdialog due to successful new photo upload
1335798843721: areButtonsEnabled --> true
1335798843721: inside finalLegAck: change requestCounter to 14
1335798843721: send final leg ack regardless of new or already-processed reply
1335798843722: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001014 Client in region: (1,0) Client nodID: 5001
1335798843722: I'm a leader client, my final_leg packet going to mux directly
1335798843722: inside handleClientRequest. Originator leader of region 1
1335798843722: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798843722: mux: Inside mux Packet.CLIENT_REQUEST
1335798843723: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100012
1335798843723: Yay the last leg succeeded. Removing reply runnables ...
1335798843723: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100012
1335798843723: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100012
1335798843723: do not send ack for received final_leg_ack
1335798843723: got new request, requestCounter = 5001014
1335798843723: new client_upload_photo_ack reply with replyCounter 500100012
1335798843724: = leader upload start 1335798843641 ~ stop 1335798843720
1335798843724: leader upload new photo latency = 79
1335798843724: note down new reply by adding replyCounter=500100012 to HashMap processedReplies
1335798843726: one more takeGoodSave: 4
1335798843726: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=1 getTimedout=0 getPercent=66%
1335798843727: SUCCESS Client now knows saving photo on its leader succeeded
1335798844233: Received UDP payload: 6815
1335798844236: Received DUPLICATE PROC_REPLY 11:1 (0,0)->(1,0)
1335798844236: mux: GOT CSM_Msg
1335798844311: Received UDP payload: 446
1335798844312: got new request, requestCounter = 5006063
1335798844312: inside handleClientRequest. Originator leader of region 1
1335798844312: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798844312: mux: Inside mux Packet.CLIENT_REQUEST
1335798844313: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100011
1335798844313: Yay the last leg succeeded. Removing reply runnables ...
1335798844313: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100011
1335798844313: do not send ack for received final_leg_ack
1335798844313: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100011
1335798844353: Received UDP payload: 625
1335798844354: mux: Inside mux Packet.CLIENT_REQUEST
1335798844380: Received UDP payload: 989
1335798844383: forwarding disabled, not forwarding packets
1335798844383: mux: GOT CSM_Msg
1335798844405: Received UDP payload: 625
1335798844407: mux: Inside mux Packet.CLIENT_REQUEST
1335798844419: Received UDP payload: 446
1335798844420: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798844420: mux: Inside Packet.SERVER_REPLY
1335798844425: Received UDP payload: 446
1335798844427: mux: Inside mux Packet.CLIENT_REQUEST
1335798844428: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100011
1335798844428: Yay the last leg succeeded. Removing reply runnables ...
1335798844428: do not send ack for received final_leg_ack
1335798844428: got new request, requestCounter = 5006064
1335798844428: inside handleClientRequest. Originator leader of region 1
1335798844428: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798844428: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100011
1335798844428: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100011
1335798844532: Received UDP payload: 6815
1335798844538: mux: GOT CSM_Msg
1335798844539: Received DUPLICATE PROC_REPLY 11:1 (0,0)->(1,0)
1335798844542: Received UDP payload: 446
1335798844545: inside handleClientRequest. Originator leader of region 1
1335798844545: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798844545: mux: Inside mux Packet.CLIENT_REQUEST
1335798844546: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100011
1335798844546: Yay the last leg succeeded. Removing reply runnables ...
1335798844546: got new request, requestCounter = 5006065
1335798844546: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100011
1335798844546: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100011
1335798844547: do not send ack for received final_leg_ack
1335798844552: Received UDP payload: 625
1335798844556: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798844556: got new request, requestCounter = 5006066
1335798844556: inside handleClientRequest. Originator leader of region 1
1335798844556: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798844556: mux: Inside mux Packet.CLIENT_REQUEST
1335798844558: Sending PROC_REQUEST 11:2 (1,0)->(0,0)
1335798844558: Sending to region: 0
1335798844559: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(0,0)
1335798844559: Make FirstLeg Ack regardless of new or already-processed requests
1335798844559: Note down new request by adding requestCounter=5006066 to HashMap processedRequests
1335798844560: The leader sending a First Leg ack to originator client (which id = 5006)
1335798844560: inside sendPacket(Packet p)
1335798844560: mux: I got a CSM packet at a leader 
1335798844562: Sending UDP payload: 989
1335798844563: forwarding disabled, not forwarding packets
1335798844571: Sending UDP payload: 446
1335798844734: Received UDP payload: 625
1335798844737: mux: Inside mux Packet.CLIENT_REQUEST
1335798844738: Make FirstLeg Ack regardless of new or already-processed requests
1335798844738: Note down new request by adding requestCounter=5006066 to HashMap processedRequests
1335798844738: discarding repeated requestCounter=5006066, but still send an ack back
1335798844738: inside handleClientRequest. Originator leader of region 1
1335798844738: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798844739: The leader sending a First Leg ack to originator client (which id = 5006)
1335798844739: inside sendPacket(Packet p)
1335798844741: Sending UDP payload: 446
1335798844985: Received UDP payload: 5946
1335798844990: Received PROC_REPLY 11:2 (0,0)->(1,0), handing to UserApp
1335798844990: mux: GOT CSM_Msg
1335798844991: DSM layer: Going to and from remote region took latency = 433
1335798844991: DSM layer: orig leader sent packet at 1335798844558 ~ received reply from remote leader at 1335798844991
1335798844991: inside handleDSMReply. Now back in originator leader of region 1
1335798844992: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798844992: change leader replyCounter to: 13
1335798844993: =======================
1335798844993: inside sendReplies of replyCount = 500100013
1335798844993: reply packet contains the newest photo/success info from the remote region
1335798844994: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798844994: Leader about to send REPLY packet, number: 500100013 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798844994: inside sendReplyRepeatingRunnable for replyCount = 500100013
1335798844995: === Finished one round of sending REPLY Packet =======
1335798844995: inside sendPacket(Packet p)
1335798844997: Sending UDP payload: 5599
1335798845052: Received UDP payload: 625
1335798845059: mux: Inside mux Packet.CLIENT_REQUEST
1335798845060: discarding repeated requestCounter=5006066, but still send an ack back
1335798845060: inside handleClientRequest. Originator leader of region 1
1335798845060: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798845061: Make FirstLeg Ack regardless of new or already-processed requests
1335798845061: Note down new request by adding requestCounter=5006066 to HashMap processedRequests
1335798845062: The leader sending a First Leg ack to originator client (which id = 5006)
1335798845062: inside sendPacket(Packet p)
1335798845067: Sending UDP payload: 446
1335798845136: Received UDP payload: 989
1335798845139: forwarding disabled, not forwarding packets
1335798845139: mux: GOT CSM_Msg
1335798845179: Received UDP payload: 989
1335798845182: forwarding disabled, not forwarding packets
1335798845182: mux: GOT CSM_Msg
1335798845229: Received UDP payload: 989
1335798845232: forwarding disabled, not forwarding packets
1335798845232: mux: GOT CSM_Msg
1335798845295: =======================
1335798845295: Leader about to send REPLY packet, number: 500100013 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798845295: inside sendReplyRepeatingRunnable for replyCount = 500100013
1335798845296: === Finished one round of sending REPLY Packet =======
1335798845296: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798845296: inside sendPacket(Packet p)
1335798845297: Sending UDP payload: 5599
1335798845324: Received UDP payload: 989
1335798845327: forwarding disabled, not forwarding packets
1335798845327: mux: GOT CSM_Msg
1335798845406: Received UDP payload: 989
1335798845409: forwarding disabled, not forwarding packets
1335798845409: mux: GOT CSM_Msg
1335798845545: Received UDP payload: 989
1335798845548: forwarding disabled, not forwarding packets
1335798845548: mux: GOT CSM_Msg
1335798845596: =======================
1335798845596: inside sendReplyRepeatingRunnable for replyCount = 500100013
1335798845597: === Finished one round of sending REPLY Packet =======
1335798845597: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798845597: Leader about to send REPLY packet, number: 500100013 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798845597: inside sendPacket(Packet p)
1335798845599: Sending UDP payload: 5599
1335798845622: Received UDP payload: 989
1335798845626: forwarding disabled, not forwarding packets
1335798845626: mux: GOT CSM_Msg
1335798845724: Received UDP payload: 989
1335798845733: forwarding disabled, not forwarding packets
1335798845733: mux: GOT CSM_Msg
1335798845824: Received UDP payload: 989
1335798845832: forwarding disabled, not forwarding packets
1335798845832: mux: GOT CSM_Msg
1335798845897: =======================
1335798845898: Leader about to send REPLY packet, number: 500100013 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798845898: inside sendReplyRepeatingRunnable for replyCount = 500100013
1335798845899: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798845899: inside sendPacket(Packet p)
1335798845902: === Finished one round of sending REPLY Packet =======
1335798845904: Sending UDP payload: 5599
1335798845995: inside sendReplyTimeoutR
1335798845996: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100013
1335798846106: Received UDP payload: 989
1335798846113: mux: GOT CSM_Msg
1335798846114: forwarding disabled, not forwarding packets
1335798846133: Received UDP payload: 989
1335798846144: mux: GOT CSM_Msg
1335798846145: forwarding disabled, not forwarding packets
1335798846306: Received UDP payload: 989
1335798846314: mux: GOT CSM_Msg
1335798846315: forwarding disabled, not forwarding packets
1335798846383: Received UDP payload: 989
1335798846394: mux: GOT CSM_Msg
1335798846395: forwarding disabled, not forwarding packets
1335798846414: Received UDP payload: 7028
1335798846422: forwarding disabled, not forwarding packets
1335798846422: mux: GOT CSM_Msg
1335798846516: Received UDP payload: 6681
1335798846517: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798846517: mux: Inside Packet.SERVER_REPLY
1335798846679: Received UDP payload: 6681
1335798846681: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798846681: mux: Inside Packet.SERVER_REPLY
1335798846773: areButtonsEnabled --> false
1335798846773: canPressButton = TRUE
1335798846774: areButtonsEnabled --> false
1335798846774: disabling buttons ...
1335798846774: took picture disableButtonsR
1335798846793: one more takeNum: 5
1335798846794: Clicked take picture button ..
1335798846794: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=4 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=3 getGood=2 getBad=1 getTimedout=0 getPercent=66%
1335798847123: inside sendPacket(Packet p)
1335798847124: Sending UDP payload: 446
1335798847179: Received UDP payload: 989
1335798847182: forwarding disabled, not forwarding packets
1335798847182: mux: GOT CSM_Msg
1335798847288: Received UDP payload: 5601
1335798847291: forwarding disabled, not forwarding packets
1335798847291: mux: GOT CSM_Msg
1335798847388: Received UDP payload: 6681
1335798847390: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798847390: mux: Inside Packet.SERVER_REPLY
1335798847862: Received UDP payload: 7028
1335798847864: forwarding disabled, not forwarding packets
1335798847864: mux: GOT CSM_Msg
1335798848081: Received UDP payload: 7028
1335798848083: forwarding disabled, not forwarding packets
1335798848083: mux: GOT CSM_Msg
1335798848211: inside HandlePictureStorage onPictureTaken()
1335798848212: one more takeCamGood: 5
1335798848212: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=3 getGood=2 getBad=1 getTimedout=0 getPercent=66%
1335798848470: Picture successfully taken, ORIG BYTE LENGTH = 3142730
1335798848529: Received UDP payload: 5648
1335798848530: mux: Inside mux Packet.CLIENT_REQUEST
1335798848654: Received UDP payload: 989
1335798848657: forwarding disabled, not forwarding packets
1335798848657: mux: GOT CSM_Msg
1335798848710: Our new height x width: 306 x 408
1335798848710: Show photo from handle my camera take
1335798848711: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798848711: change local requestCounter to 15
1335798848730: BYTE SIZE AFTER COMPRESSION: 6363
1335798848731: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001015 Client in region: 1 Client nodID: 5001
1335798848770: ----------------------------
1335798848771: inside sendRequestPacketRepeatingRunnable for requestCount = 5001015
1335798848772: I'm a leader, my requesting photos packet going to mux directly
1335798848772: mux: Inside mux Packet.CLIENT_REQUEST
1335798848773: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798848773: got new request, requestCounter = 5001015
1335798848773: inside handleClientRequest. Originator leader of region 1
1335798848773: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798848774: Dispatching Atom PROC_REQUEST 10:8 (1,0)->(1,0)
1335798848774: Make FirstLeg Ack regardless of new or already-processed requests
1335798848774: Note down new request by adding requestCounter=5001015 to HashMap processedRequests
1335798848774: Sending PROC_REQUEST 10:8 (1,0)->(1,0)
1335798848775: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798848776: mux: I got a CSM packet at a leader 
1335798848777: Sending UDP payload: 7374
1335798848780: inside handleDSMRequest. At requests's remote leader of region 1
1335798848780: removed replies before id 8 from sentReplies of size 1
1335798848781: Inside UPLOAD_PHOTO!!
1335798848783: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798848783: my_gpinfo.isSuccess is now (should be true): true
1335798848784: Received PROC_REQUEST 10:8 (1,0)->(1,0), replying PROC_REPLY 10:8 (1,0)->(1,0)
1335798848785: --- Finished one round of sending REQUEST Packet ---------
1335798848795: Dispatching Atom PROC_REPLY 10:8 (1,0)->(1,0)
1335798848795: mux: I got a CSM packet at a leader 
1335798848797: Sending UDP payload: 989
1335798848799: Received PROC_REPLY 10:8 (1,0)->(1,0), handing to UserApp
1335798848799: inside handleDSMReply. Now back in originator leader of region 1
1335798848800: DSM layer: Going to and from remote region took latency = 26
1335798848800: DSM layer: orig leader sent packet at 1335798848773 ~ received reply from remote leader at 1335798848799
1335798848801: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798848801: change leader replyCounter to: 14
1335798848801: inside sendReplies of replyCount = 500100014
1335798848801: reply packet contains the success info for UPLOAD_PHOTO
1335798848802: === Finished one round of sending REPLY Packet =======
1335798848802: =======================
1335798848802: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798848802: Leader about to send REPLY packet, number: 500100014 type: 16 Leader in region: (1,0) to Client nodID: 5001
1335798848802: inside sendReplyRepeatingRunnable for replyCount = 500100014
1335798848816: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798848818: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798848820: I'm a leader and I successfully saved my client's new photo
1335798848820: now showing in UI the new photo I just saved ... 
1335798848820: the photo length: 6363
1335798848862: Received UDP payload: 5648
1335798848864: mux: Inside mux Packet.CLIENT_REQUEST
1335798848868: end of server show photo aside %%%%%%%%%
1335798848870: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798848870: Inside _enableButtons
1335798848870: disabling progressdialog due to successful new photo upload
1335798848871: areButtonsEnabled --> true
1335798848871: inside finalLegAck: change requestCounter to 16
1335798848871: send final leg ack regardless of new or already-processed reply
1335798848872: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001016 Client in region: (1,0) Client nodID: 5001
1335798848872: I'm a leader client, my final_leg packet going to mux directly
1335798848873: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100014
1335798848873: Yay the last leg succeeded. Removing reply runnables ...
1335798848873: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100014
1335798848873: got new request, requestCounter = 5001016
1335798848873: inside handleClientRequest. Originator leader of region 1
1335798848873: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798848873: mux: Inside mux Packet.CLIENT_REQUEST
1335798848874: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100014
1335798848874: do not send ack for received final_leg_ack
1335798848874: new client_upload_photo_ack reply with replyCounter 500100014
1335798848875: leader upload new photo latency = 97
1335798848875: note down new reply by adding replyCounter=500100014 to HashMap processedReplies
1335798848876: = leader upload start 1335798848772 ~ stop 1335798848869
1335798848876: one more takeGoodSave: 5
1335798848877: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=1 getTimedout=0 getPercent=66%
1335798848878: SUCCESS Client now knows saving photo on its leader succeeded
1335798849587: Received UDP payload: 5124
1335798849590: mux: Inside mux Packet.CLIENT_REQUEST
1335798849935: Received UDP payload: 5648
1335798849940: mux: Inside mux Packet.CLIENT_REQUEST
1335798850144: Received UDP payload: 989
1335798850156: mux: GOT CSM_Msg
1335798850157: forwarding disabled, not forwarding packets
1335798850164: Received UDP payload: 446
1335798850344: Received UDP payload: 446
1335798850347: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798850347: mux: Inside Packet.SERVER_REPLY
1335798850360: Received UDP payload: 989
1335798850364: mux: GOT CSM_Msg
1335798850365: forwarding disabled, not forwarding packets
1335798850376: Received UDP payload: 642
1335798850381: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798850381: mux: Inside Packet.SERVER_REPLY
1335798850386: Received UDP payload: 642
1335798850389: mux: Inside Packet.SERVER_REPLY
1335798850390: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798850460: Received UDP payload: 446
1335798850463: mux: Inside mux Packet.CLIENT_REQUEST
1335798850485: Received UDP payload: 446
1335798850488: mux: Inside mux Packet.CLIENT_REQUEST
1335798850508: Received UDP payload: 446
1335798850510: mux: Inside mux Packet.CLIENT_REQUEST
1335798850536: Received UDP payload: 5488
1335798850541: forwarding disabled, not forwarding packets
1335798850541: mux: GOT CSM_Msg
1335798850562: Received UDP payload: 446
1335798850565: mux: Inside Packet.SERVER_REPLY
1335798850566: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798850571: Received UDP payload: 989
1335798850575: mux: GOT CSM_Msg
1335798850576: forwarding disabled, not forwarding packets
1335798850609: Received UDP payload: 642
1335798850612: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798850612: mux: Inside Packet.SERVER_REPLY
1335798850643: Received UDP payload: 446
1335798850646: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798850646: mux: Inside Packet.SERVER_REPLY
1335798850652: Received UDP payload: 446
1335798850655: mux: Inside mux Packet.CLIENT_REQUEST
1335798850683: Received UDP payload: 446
1335798850686: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798850686: mux: Inside Packet.SERVER_REPLY
1335798850691: Received UDP payload: 642
1335798850694: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798850694: mux: Inside Packet.SERVER_REPLY
1335798850788: Received UDP payload: 642
1335798850791: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798850791: mux: Inside Packet.SERVER_REPLY
1335798850795: Received UDP payload: 642
1335798850799: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798850799: mux: Inside Packet.SERVER_REPLY
1335798850812: Received UDP payload: 642
1335798850816: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798850816: mux: Inside Packet.SERVER_REPLY
1335798850891: Received UDP payload: 446
1335798850892: mux: Inside mux Packet.CLIENT_REQUEST
1335798850977: Received UDP payload: 989
1335798850983: mux: GOT CSM_Msg
1335798850984: forwarding disabled, not forwarding packets
1335798851176: Received UDP payload: 446
1335798851186: Received UDP payload: 989
1335798851193: mux: GOT CSM_Msg
1335798851194: forwarding disabled, not forwarding packets
1335798851207: Received UDP payload: 446
1335798851212: mux: Inside mux Packet.CLIENT_REQUEST
1335798851223: Received UDP payload: 446
1335798851230: mux: Inside mux Packet.CLIENT_REQUEST
1335798851303: Received UDP payload: 446
1335798851308: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798851308: mux: Inside Packet.SERVER_REPLY
1335798851342: Received UDP payload: 5488
1335798851351: mux: GOT CSM_Msg
1335798851352: Received DUPLICATE PROC_REPLY 11:4 (0,0)->(1,0)
1335798851379: Received UDP payload: 446
1335798851384: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798851384: mux: Inside Packet.SERVER_REPLY
1335798851417: Received UDP payload: 989
1335798851424: forwarding disabled, not forwarding packets
1335798851424: mux: GOT CSM_Msg
1335798851449: Received UDP payload: 989
1335798851452: forwarding disabled, not forwarding packets
1335798851452: mux: GOT CSM_Msg
1335798851511: Received UDP payload: 989
1335798851514: forwarding disabled, not forwarding packets
1335798851514: mux: GOT CSM_Msg
1335798851529: Received UDP payload: 5488
1335798851531: mux: GOT CSM_Msg
1335798851532: Received DUPLICATE PROC_REPLY 11:4 (0,0)->(1,0)
1335798851547: Received UDP payload: 989
1335798851550: forwarding disabled, not forwarding packets
1335798851550: mux: GOT CSM_Msg
1335798851624: Received UDP payload: 989
1335798851626: forwarding disabled, not forwarding packets
1335798851626: mux: GOT CSM_Msg
1335798851646: Received UDP payload: 989
1335798851648: forwarding disabled, not forwarding packets
1335798851648: mux: GOT CSM_Msg
1335798851680: Received UDP payload: 989
1335798851682: forwarding disabled, not forwarding packets
1335798851682: mux: GOT CSM_Msg
1335798851842: Received UDP payload: 5488
1335798851845: Received DUPLICATE PROC_REPLY 11:4 (0,0)->(1,0)
1335798851845: mux: GOT CSM_Msg
1335798851950: Received UDP payload: 989
1335798851952: forwarding disabled, not forwarding packets
1335798851952: mux: GOT CSM_Msg
1335798851979: Received UDP payload: 989
1335798851981: forwarding disabled, not forwarding packets
1335798851981: mux: GOT CSM_Msg
1335798851990: Received UDP payload: 989
1335798851992: forwarding disabled, not forwarding packets
1335798851992: mux: GOT CSM_Msg
1335798852018: Received UDP payload: 989
1335798852022: forwarding disabled, not forwarding packets
1335798852022: mux: GOT CSM_Msg
1335798852061: Received UDP payload: 5488
1335798852064: Received DUPLICATE PROC_REPLY 11:4 (0,0)->(1,0)
1335798852064: mux: GOT CSM_Msg
1335798852123: inside sendPacket(Packet p)
1335798852124: Sending UDP payload: 446
1335798852157: Received UDP payload: 5488
1335798852159: mux: GOT CSM_Msg
1335798852160: Received DUPLICATE PROC_REPLY 11:4 (0,0)->(1,0)
1335798852212: Received UDP payload: 989
1335798852214: forwarding disabled, not forwarding packets
1335798852214: mux: GOT CSM_Msg
1335798852250: Received UDP payload: 989
1335798852253: forwarding disabled, not forwarding packets
1335798852253: mux: GOT CSM_Msg
1335798852319: Received UDP payload: 989
1335798852321: mux: GOT CSM_Msg
1335798852322: Received DUPLICATE PROC_REPLY 11:4 (0,0)->(1,0)
1335798852333: Received UDP payload: 989
1335798852335: forwarding disabled, not forwarding packets
1335798852335: mux: GOT CSM_Msg
1335798852343: Received UDP payload: 642
1335798852344: mux: Inside Packet.SERVER_REPLY
1335798852345: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798852379: Received UDP payload: 642
1335798852380: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798852380: mux: Inside Packet.SERVER_REPLY
1335798852385: Received UDP payload: 446
1335798852386: inside handleClientRequest. Originator leader of region 1
1335798852386: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798852386: mux: Inside mux Packet.CLIENT_REQUEST
1335798852387: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500024
1335798852387: Yay the last leg succeeded. Removing reply runnables ...
1335798852387: do not send ack for received final_leg_ack
1335798852387: got new request, requestCounter = 5006067
1335798852387: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500024
1335798852387: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500024
1335798852396: Received UDP payload: 642
1335798852397: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798852397: mux: Inside Packet.SERVER_REPLY
1335798852413: Received UDP payload: 642
1335798852415: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798852415: mux: Inside Packet.SERVER_REPLY
1335798852423: Received UDP payload: 446
1335798852424: inside handleClientRequest. Originator leader of region 1
1335798852424: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798852424: mux: Inside mux Packet.CLIENT_REQUEST
1335798852425: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500024
1335798852425: Yay the last leg succeeded. Removing reply runnables ...
1335798852425: do not send ack for received final_leg_ack
1335798852425: got new request, requestCounter = 5006068
1335798852425: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500024
1335798852425: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500024
1335798852441: Received UDP payload: 446
1335798852472: Received UDP payload: 989
1335798852474: mux: GOT CSM_Msg
1335798852475: forwarding disabled, not forwarding packets
1335798852481: Received UDP payload: 446
1335798852482: mux: Inside mux Packet.CLIENT_REQUEST
1335798852483: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500024
1335798852483: Yay the last leg succeeded. Removing reply runnables ...
1335798852483: do not send ack for received final_leg_ack
1335798852483: got new request, requestCounter = 5006069
1335798852483: inside handleClientRequest. Originator leader of region 1
1335798852483: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798852483: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500024
1335798852483: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500024
1335798852511: Received UDP payload: 989
1335798852513: forwarding disabled, not forwarding packets
1335798852513: mux: GOT CSM_Msg
1335798852527: Received UDP payload: 5488
1335798852529: Received DUPLICATE PROC_REPLY 11:4 (0,0)->(1,0)
1335798852529: mux: GOT CSM_Msg
1335798852628: Received UDP payload: 989
1335798852630: mux: GOT CSM_Msg
1335798852631: forwarding disabled, not forwarding packets
1335798852651: Received UDP payload: 446
1335798852788: Received UDP payload: 989
1335798852792: forwarding disabled, not forwarding packets
1335798852792: mux: GOT CSM_Msg
1335798852926: Received UDP payload: 989
1335798852928: forwarding disabled, not forwarding packets
1335798852928: mux: GOT CSM_Msg
1335798853337: areButtonsEnabled --> false
1335798853337: areButtonsEnabled --> false 
1335798853337: canPressButton = TRUE
1335798853337: get picture disableButtonsR
1335798853355: one more getNum: 4
1335798853356: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335798853356: change local requestCounter to 17
1335798853356: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=2 getBad=1 getTimedout=0 getPercent=50%
1335798853357: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001017 Client in region: 1 Client nodID: 5001
1335798853398: ----------------------------
1335798853398: I'm a leader, my requesting photos packet going to mux directly
1335798853398: inside sendRequestPacketRepeatingRunnable for requestCount = 5001017
1335798853399: --- Finished one round of sending REQUEST Packet ---------
1335798853400: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798853400: got new request, requestCounter = 5001017
1335798853400: inside handleClientRequest. Originator leader of region 1
1335798853400: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798853400: mux: Inside mux Packet.CLIENT_REQUEST
1335798853401: Sending PROC_REQUEST 11:2 (1,0)->(3,0)
1335798853401: Sending to region: 3
1335798853402: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(3,0)
1335798853402: Note down new request by adding requestCounter=5001017 to HashMap processedRequests
1335798853403: Make FirstLeg Ack regardless of new or already-processed requests
1335798853403: mux: I got a CSM packet at a leader 
1335798853403: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798853404: Sending UDP payload: 989
1335798853410: forwarding disabled, not forwarding packets
1335798853444: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798853524: Received UDP payload: 5601
1335798853527: DSM layer: Going to and from remote region took latency = 126
1335798853527: DSM layer: orig leader sent packet at 1335798853401 ~ received reply from remote leader at 1335798853527
1335798853527: Received PROC_REPLY 11:2 (3,0)->(1,0), handing to UserApp
1335798853527: inside handleDSMReply. Now back in originator leader of region 1
1335798853527: mux: GOT CSM_Msg
1335798853528: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798853528: change leader replyCounter to: 15
1335798853528: inside sendReplies of replyCount = 500100015
1335798853528: reply packet contains the newest photo/success info from the remote region
1335798853530: =======================
1335798853530: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798853530: Leader about to send REPLY packet, number: 500100015 type: 15 Leader in region: (1,0) to Client nodID: 5001
1335798853530: inside sendReplyRepeatingRunnable for replyCount = 500100015
1335798853531: === Finished one round of sending REPLY Packet =======
1335798853535: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798853536: Inside _enableButtons
1335798853536: disabling progressdialog due to successful new photo get
1335798853537: areButtonsEnabled --> true
1335798853537: inside finalLegAck: change requestCounter to 18
1335798853537: send final leg ack regardless of new or already-processed reply
1335798853538: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001018 Client in region: (1,0) Client nodID: 5001
1335798853538: I'm a leader client, my final_leg packet going to mux directly
1335798853538: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798853538: mux: Inside mux Packet.CLIENT_REQUEST
1335798853539: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100015
1335798853539: Yay the last leg succeeded. Removing reply runnables ...
1335798853539: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100015
1335798853539: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100015
1335798853539: do not send ack for received final_leg_ack
1335798853539: got new request, requestCounter = 5001018
1335798853539: inside handleClientRequest. Originator leader of region 1
1335798853539: new client_show_remotephoto reply with replyCounter 500100015
1335798853540: = leader download start 1335798853399 ~ stop 1335798853535
1335798853540: leader download remote photo latency = 136
1335798853540: note down new reply by adding replyCounter=500100015 to HashMap processedReplies
1335798853541: one more getGood: 3
1335798853542: Success! Client getting photo from remote region, showing photo...
1335798853542: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=3 getBad=1 getTimedout=0 getPercent=75%
1335798853542: successful reply for client get photo
1335798853543: Remote photo's length: 4590
1335798854101: Received UDP payload: 5488
1335798854111: mux: GOT CSM_Msg
1335798854112: forwarding disabled, not forwarding packets
1335798854175: Received UDP payload: 5488
1335798854187: mux: GOT CSM_Msg
1335798854188: Received DUPLICATE PROC_REPLY 11:4 (0,0)->(1,0)
1335798854246: Received UDP payload: 5488
1335798854254: forwarding disabled, not forwarding packets
1335798854254: mux: GOT CSM_Msg
1335798854358: Received UDP payload: 5488
1335798854368: forwarding disabled, not forwarding packets
1335798854368: mux: GOT CSM_Msg
1335798854435: Received UDP payload: 5488
1335798854444: mux: GOT CSM_Msg
1335798854445: forwarding disabled, not forwarding packets
1335798855630: Received UDP payload: 446
1335798855669: Received UDP payload: 989
1335798855681: mux: GOT CSM_Msg
1335798855682: forwarding disabled, not forwarding packets
1335798856236: Received UDP payload: 989
1335798856244: forwarding disabled, not forwarding packets
1335798856244: mux: GOT CSM_Msg
1335798856354: Received UDP payload: 989
1335798856359: mux: GOT CSM_Msg
1335798856360: forwarding disabled, not forwarding packets
1335798856437: Received UDP payload: 989
1335798856443: forwarding disabled, not forwarding packets
1335798856443: mux: GOT CSM_Msg
1335798856550: Received UDP payload: 989
1335798856555: forwarding disabled, not forwarding packets
1335798856555: mux: GOT CSM_Msg
1335798856692: Received UDP payload: 6000
1335798856698: Received DUPLICATE PROC_REPLY 11:1 (2,0)->(1,0)
1335798856698: mux: GOT CSM_Msg
1335798856708: Received UDP payload: 989
1335798856713: forwarding disabled, not forwarding packets
1335798856713: mux: GOT CSM_Msg
1335798857123: inside sendPacket(Packet p)
1335798857138: Sending UDP payload: 446
1335798857277: Received UDP payload: 446
1335798858015: Received UDP payload: 989
1335798858025: forwarding disabled, not forwarding packets
1335798858025: mux: GOT CSM_Msg
1335798858230: Received UDP payload: 6715
1335798858238: forwarding disabled, not forwarding packets
1335798858238: mux: GOT CSM_Msg
1335798858254: Received UDP payload: 989
1335798858269: forwarding disabled, not forwarding packets
1335798858269: mux: GOT CSM_Msg
1335798858270: Received UDP payload: 446
1335798858366: areButtonsEnabled --> false
1335798858366: areButtonsEnabled --> false 
1335798858366: canPressButton = TRUE
1335798858366: get picture disableButtonsR
1335798858393: one more getNum: 5
1335798858394: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335798858394: change local requestCounter to 19
1335798858394: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=3 getBad=1 getTimedout=0 getPercent=60%
1335798858395: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001019 Client in region: 1 Client nodID: 5001
1335798858426: ----------------------------
1335798858427: I'm a leader, my requesting photos packet going to mux directly
1335798858427: inside sendRequestPacketRepeatingRunnable for requestCount = 5001019
1335798858428: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798858428: got new request, requestCounter = 5001019
1335798858428: inside handleClientRequest. Originator leader of region 1
1335798858428: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798858428: mux: Inside mux Packet.CLIENT_REQUEST
1335798858429: Sending PROC_REQUEST 11:0 (1,0)->(2,0)
1335798858429: Sending to region: 2
1335798858430: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798858430: Make FirstLeg Ack regardless of new or already-processed requests
1335798858430: Note down new request by adding requestCounter=5001019 to HashMap processedRequests
1335798858430: mux: I got a CSM packet at a leader 
1335798858430: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798858432: Sending UDP payload: 989
1335798858433: forwarding disabled, not forwarding packets
1335798858434: --- Finished one round of sending REQUEST Packet ---------
1335798858472: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798858651: Received UDP payload: 446
1335798858716: Received UDP payload: 446
1335798858858: Received UDP payload: 446
1335798859179: Retrying PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859180: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859180: mux: I got a CSM packet at a leader 
1335798859182: Sending UDP payload: 989
1335798859190: forwarding disabled, not forwarding packets
1335798859281: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859281: Retrying PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859281: mux: I got a CSM packet at a leader 
1335798859282: Sending UDP payload: 989
1335798859283: forwarding disabled, not forwarding packets
1335798859382: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859382: Retrying PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859382: mux: I got a CSM packet at a leader 
1335798859383: Sending UDP payload: 989
1335798859384: forwarding disabled, not forwarding packets
1335798859483: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859483: Retrying PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859483: mux: I got a CSM packet at a leader 
1335798859484: Sending UDP payload: 989
1335798859485: forwarding disabled, not forwarding packets
1335798859584: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859584: Retrying PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859584: mux: I got a CSM packet at a leader 
1335798859586: Sending UDP payload: 989
1335798859586: forwarding disabled, not forwarding packets
1335798859685: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859685: Retrying PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859686: mux: I got a CSM packet at a leader 
1335798859687: Sending UDP payload: 989
1335798859687: forwarding disabled, not forwarding packets
1335798859786: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859786: Retrying PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859787: mux: I got a CSM packet at a leader 
1335798859788: Sending UDP payload: 989
1335798859788: forwarding disabled, not forwarding packets
1335798859887: Retrying PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859888: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859888: mux: I got a CSM packet at a leader 
1335798859889: Sending UDP payload: 989
1335798859891: forwarding disabled, not forwarding packets
1335798859960: Received UDP payload: 446
1335798859989: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859989: Retrying PROC_REQUEST 11:0 (1,0)->(2,0)
1335798859990: mux: I got a CSM packet at a leader 
1335798859991: Sending UDP payload: 989
1335798859993: forwarding disabled, not forwarding packets
1335798860090: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798860090: Retrying PROC_REQUEST 11:0 (1,0)->(2,0)
1335798860091: mux: I got a CSM packet at a leader 
1335798860092: Sending UDP payload: 989
1335798860094: forwarding disabled, not forwarding packets
1335798860191: Retrying PROC_REQUEST 11:0 (1,0)->(2,0)
1335798860192: Dispatching Atom PROC_REQUEST 11:0 (1,0)->(2,0)
1335798860192: mux: I got a CSM packet at a leader 
1335798860194: Sending UDP payload: 989
1335798860195: forwarding disabled, not forwarding packets
1335798860230: Received UDP payload: 6000
1335798860233: DSM layer: Going to and from remote region took latency = 1804
1335798860233: Received PROC_REPLY 11:0 (2,0)->(1,0), handing to UserApp
1335798860233: inside handleDSMReply. Now back in originator leader of region 1
1335798860233: mux: GOT CSM_Msg
1335798860234: DSM layer: orig leader sent packet at 1335798858429 ~ received reply from remote leader at 1335798860233
1335798860234: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798860235: =======================
1335798860235: change leader replyCounter to: 16
1335798860235: inside sendReplies of replyCount = 500100016
1335798860235: inside sendReplyRepeatingRunnable for replyCount = 500100016
1335798860235: reply packet contains the newest photo/success info from the remote region
1335798860236: === Finished one round of sending REPLY Packet =======
1335798860236: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798860236: Leader about to send REPLY packet, number: 500100016 type: 15 Leader in region: (1,0) to Client nodID: 5001
1335798860237: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798860237: disabling progressdialog due to successful new photo get
1335798860238: Inside _enableButtons
1335798860238: areButtonsEnabled --> true
1335798860238: inside finalLegAck: change requestCounter to 20
1335798860238: send final leg ack regardless of new or already-processed reply
1335798860239: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001020 Client in region: (1,0) Client nodID: 5001
1335798860239: I'm a leader client, my final_leg packet going to mux directly
1335798860239: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798860239: mux: Inside mux Packet.CLIENT_REQUEST
1335798860240: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100016
1335798860240: Yay the last leg succeeded. Removing reply runnables ...
1335798860240: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100016
1335798860240: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100016
1335798860240: do not send ack for received final_leg_ack
1335798860240: got new request, requestCounter = 5001020
1335798860240: inside handleClientRequest. Originator leader of region 1
1335798860241: leader download remote photo latency = 1809
1335798860241: new client_show_remotephoto reply with replyCounter 500100016
1335798860241: note down new reply by adding replyCounter=500100016 to HashMap processedReplies
1335798860242: = leader download start 1335798858428 ~ stop 1335798860237
1335798860243: one more getGood: 4
1335798860244: Success! Client getting photo from remote region, showing photo...
1335798860244: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=1 getTimedout=0 getPercent=80%
1335798860244: successful reply for client get photo
1335798860245: Remote photo's length: 4989
1335798860654: Received UDP payload: 6000
1335798860656: mux: GOT CSM_Msg
1335798860657: Received DUPLICATE PROC_REPLY 11:0 (2,0)->(1,0)
1335798861687: Received UDP payload: 6000
1335798861696: mux: GOT CSM_Msg
1335798861698: Received DUPLICATE PROC_REPLY 11:0 (2,0)->(1,0)
1335798862139: inside sendPacket(Packet p)
1335798862144: Sending UDP payload: 446
1335798862873: Received UDP payload: 989
1335798862882: forwarding disabled, not forwarding packets
1335798862882: mux: GOT CSM_Msg
1335798863168: Received UDP payload: 446
1335798863441: Received UDP payload: 446
1335798863501: Received UDP payload: 446
1335798863606: Received UDP payload: 989
1335798863622: forwarding disabled, not forwarding packets
1335798863622: mux: GOT CSM_Msg
1335798863636: Received UDP payload: 446
1335798863771: Received UDP payload: 5760
1335798863773: forwarding disabled, not forwarding packets
1335798863773: mux: GOT CSM_Msg
1335798864151: Received UDP payload: 33689
1335798864683: Received UDP payload: 989
1335798864691: forwarding disabled, not forwarding packets
1335798864691: mux: GOT CSM_Msg
1335798864734: Received UDP payload: 625
1335798864740: mux: Inside mux Packet.CLIENT_REQUEST
1335798864741: inside handleClientRequest. Originator leader of region 1
1335798864741: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798864742: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798864742: got new request, requestCounter = 5006070
1335798864743: Sending to region: 2
1335798864746: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(2,0)
1335798864746: Sending PROC_REQUEST 11:1 (1,0)->(2,0)
1335798864747: Make FirstLeg Ack regardless of new or already-processed requests
1335798864747: Note down new request by adding requestCounter=5006070 to HashMap processedRequests
1335798864755: The leader sending a First Leg ack to originator client (which id = 5006)
1335798864755: inside sendPacket(Packet p)
1335798864756: mux: I got a CSM packet at a leader 
1335798864760: Sending UDP payload: 989
1335798864762: forwarding disabled, not forwarding packets
1335798864765: Sending UDP payload: 446
1335798864804: Received UDP payload: 989
1335798864807: forwarding disabled, not forwarding packets
1335798864807: mux: GOT CSM_Msg
1335798864834: Received UDP payload: 446
1335798864836: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798864836: mux: Inside Packet.SERVER_REPLY
1335798864862: Received UDP payload: 625
1335798864863: mux: Inside mux Packet.CLIENT_REQUEST
1335798864891: Received UDP payload: 625
1335798864892: mux: Inside mux Packet.CLIENT_REQUEST
1335798865000: Received UDP payload: 6000
1335798865002: mux: GOT CSM_Msg
1335798865003: Received DUPLICATE PROC_REPLY 11:2 (2,0)->(1,0)
1335798865048: Received UDP payload: 989
1335798865050: forwarding disabled, not forwarding packets
1335798865050: mux: GOT CSM_Msg
1335798865054: Received UDP payload: 989
1335798865057: forwarding disabled, not forwarding packets
1335798865057: mux: GOT CSM_Msg
1335798865302: canPressButton = TRUE
1335798865303: areButtonsEnabled --> false
1335798865304: disabling buttons ...
1335798865304: took picture disableButtonsR
1335798865305: areButtonsEnabled --> false
1335798865333: one more takeNum: 6
1335798865334: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=5 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=83% getNum=5 getGood=4 getBad=1 getTimedout=0 getPercent=80%
1335798865335: Clicked take picture button ..
1335798865372: Received UDP payload: 625
1335798865374: mux: Inside mux Packet.CLIENT_REQUEST
1335798865420: Received UDP payload: 989
1335798865423: forwarding disabled, not forwarding packets
1335798865423: mux: GOT CSM_Msg
1335798865452: Received UDP payload: 989
1335798865456: forwarding disabled, not forwarding packets
1335798865456: mux: GOT CSM_Msg
1335798865470: Received UDP payload: 989
1335798865477: forwarding disabled, not forwarding packets
1335798865477: mux: GOT CSM_Msg
1335798865487: Received UDP payload: 989
1335798865491: forwarding disabled, not forwarding packets
1335798865491: mux: GOT CSM_Msg
1335798865502: Received UDP payload: 989
1335798865508: forwarding disabled, not forwarding packets
1335798865508: mux: GOT CSM_Msg
1335798865516: Received UDP payload: 989
1335798865519: forwarding disabled, not forwarding packets
1335798865519: mux: GOT CSM_Msg
1335798865527: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(2,0)
1335798865527: Retrying PROC_REQUEST 11:1 (1,0)->(2,0)
1335798865532: mux: I got a CSM packet at a leader 
1335798865534: Sending UDP payload: 989
1335798865535: forwarding disabled, not forwarding packets
1335798865536: Received UDP payload: 989
1335798865540: forwarding disabled, not forwarding packets
1335798865540: mux: GOT CSM_Msg
1335798865629: Retrying PROC_REQUEST 11:1 (1,0)->(2,0)
1335798865630: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(2,0)
1335798865630: mux: I got a CSM packet at a leader 
1335798865631: Sending UDP payload: 989
1335798865632: forwarding disabled, not forwarding packets
1335798865730: Retrying PROC_REQUEST 11:1 (1,0)->(2,0)
1335798865731: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(2,0)
1335798865731: mux: I got a CSM packet at a leader 
1335798865732: Sending UDP payload: 989
1335798865733: forwarding disabled, not forwarding packets
1335798865805: Received UDP payload: 446
1335798865807: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500026
1335798865807: Yay the last leg succeeded. Removing reply runnables ...
1335798865807: got new request, requestCounter = 5006071
1335798865807: inside handleClientRequest. Originator leader of region 1
1335798865807: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798865807: mux: Inside mux Packet.CLIENT_REQUEST
1335798865807: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500026
1335798865808: do not send ack for received final_leg_ack
1335798865808: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500026
1335798865832: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(2,0)
1335798865832: Retrying PROC_REQUEST 11:1 (1,0)->(2,0)
1335798865835: mux: I got a CSM packet at a leader 
1335798865838: Sending UDP payload: 989
1335798865839: forwarding disabled, not forwarding packets
1335798865933: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(2,0)
1335798865933: Retrying PROC_REQUEST 11:1 (1,0)->(2,0)
1335798865934: mux: I got a CSM packet at a leader 
1335798865937: Sending UDP payload: 989
1335798865939: forwarding disabled, not forwarding packets
1335798866034: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(2,0)
1335798866034: Retrying PROC_REQUEST 11:1 (1,0)->(2,0)
1335798866035: mux: I got a CSM packet at a leader 
1335798866036: Sending UDP payload: 989
1335798866037: forwarding disabled, not forwarding packets
1335798866135: Retrying PROC_REQUEST 11:1 (1,0)->(2,0)
1335798866136: Dispatching Atom PROC_REQUEST 11:1 (1,0)->(2,0)
1335798866136: Received UDP payload: 6000
1335798866138: mux: I got a CSM packet at a leader 
1335798866140: Sending UDP payload: 989
1335798866140: forwarding disabled, not forwarding packets
1335798866141: Received PROC_REPLY 11:1 (2,0)->(1,0), handing to UserApp
1335798866141: inside handleDSMReply. Now back in originator leader of region 1
1335798866141: mux: GOT CSM_Msg
1335798866144: DSM layer: Going to and from remote region took latency = 1397
1335798866144: DSM layer: orig leader sent packet at 1335798864744 ~ received reply from remote leader at 1335798866141
1335798866148: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798866148: change leader replyCounter to: 17
1335798866148: reply packet contains the newest photo/success info from the remote region
1335798866149: =======================
1335798866149: inside sendReplies of replyCount = 500100017
1335798866150: Leader about to send REPLY packet, number: 500100017 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798866150: inside sendReplyRepeatingRunnable for replyCount = 500100017
1335798866151: === Finished one round of sending REPLY Packet =======
1335798866151: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798866151: inside sendPacket(Packet p)
1335798866160: Sending UDP payload: 5653
1335798866328: Received UDP payload: 625
1335798866330: mux: Inside mux Packet.CLIENT_REQUEST
1335798866451: =======================
1335798866451: inside sendReplyRepeatingRunnable for replyCount = 500100017
1335798866452: === Finished one round of sending REPLY Packet =======
1335798866452: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798866452: Leader about to send REPLY packet, number: 500100017 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798866452: inside sendPacket(Packet p)
1335798866453: Sending UDP payload: 5653
1335798866538: Received UDP payload: 625
1335798866539: mux: Inside mux Packet.CLIENT_REQUEST
1335798866695: inside HandlePictureStorage onPictureTaken()
1335798866695: one more takeCamGood: 6
1335798866696: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=83% getNum=5 getGood=4 getBad=1 getTimedout=0 getPercent=80%
1335798866741: Received UDP payload: 6000
1335798866744: Received DUPLICATE PROC_REPLY 11:1 (2,0)->(1,0)
1335798866744: mux: GOT CSM_Msg
1335798866749: Received UDP payload: 446
1335798866751: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100017
1335798866751: Yay the last leg succeeded. Removing reply runnables ...
1335798866751: got new request, requestCounter = 5006072
1335798866751: inside handleClientRequest. Originator leader of region 1
1335798866751: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798866751: mux: Inside mux Packet.CLIENT_REQUEST
1335798866752: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100017
1335798866752: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100017
1335798866752: do not send ack for received final_leg_ack
1335798866852: Received UDP payload: 625
1335798866853: mux: Inside mux Packet.CLIENT_REQUEST
1335798866957: Picture successfully taken, ORIG BYTE LENGTH = 3045900
1335798867129: Received UDP payload: 625
1335798867133: mux: Inside mux Packet.CLIENT_REQUEST
1335798867146: inside sendPacket(Packet p)
1335798867147: Sending UDP payload: 446
1335798867192: Received UDP payload: 446
1335798867227: Our new height x width: 306 x 408
1335798867228: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798867228: Show photo from handle my camera take
1335798867229: change local requestCounter to 21
1335798867254: BYTE SIZE AFTER COMPRESSION: 6340
1335798867255: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001021 Client in region: 1 Client nodID: 5001
1335798867303: ----------------------------
1335798867303: inside sendRequestPacketRepeatingRunnable for requestCount = 5001021
1335798867304: I'm a leader, my requesting photos packet going to mux directly
1335798867304: inside handleClientRequest. Originator leader of region 1
1335798867304: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798867304: mux: Inside mux Packet.CLIENT_REQUEST
1335798867305: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798867305: Sending PROC_REQUEST 10:9 (1,0)->(1,0)
1335798867305: got new request, requestCounter = 5001021
1335798867306: Dispatching Atom PROC_REQUEST 10:9 (1,0)->(1,0)
1335798867306: Make FirstLeg Ack regardless of new or already-processed requests
1335798867306: Note down new request by adding requestCounter=5001021 to HashMap processedRequests
1335798867306: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798867307: mux: I got a CSM packet at a leader 
1335798867308: Sending UDP payload: 7351
1335798867312: inside handleDSMRequest. At requests's remote leader of region 1
1335798867312: removed replies before id 9 from sentReplies of size 1
1335798867314: Inside UPLOAD_PHOTO!!
1335798867315: --- Finished one round of sending REQUEST Packet ---------
1335798867322: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798867322: my_gpinfo.isSuccess is now (should be true): true
1335798867324: Received PROC_REQUEST 10:9 (1,0)->(1,0), replying PROC_REPLY 10:9 (1,0)->(1,0)
1335798867329: Dispatching Atom PROC_REPLY 10:9 (1,0)->(1,0)
1335798867330: mux: I got a CSM packet at a leader 
1335798867332: Sending UDP payload: 989
1335798867336: DSM layer: Going to and from remote region took latency = 31
1335798867336: DSM layer: orig leader sent packet at 1335798867305 ~ received reply from remote leader at 1335798867336
1335798867336: Received PROC_REPLY 10:9 (1,0)->(1,0), handing to UserApp
1335798867336: inside handleDSMReply. Now back in originator leader of region 1
1335798867337: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798867337: change leader replyCounter to: 18
1335798867337: reply packet contains the success info for UPLOAD_PHOTO
1335798867338: =======================
1335798867338: Leader about to send REPLY packet, number: 500100018 type: 16 Leader in region: (1,0) to Client nodID: 5001
1335798867338: inside sendReplies of replyCount = 500100018
1335798867338: inside sendReplyRepeatingRunnable for replyCount = 500100018
1335798867339: === Finished one round of sending REPLY Packet =======
1335798867339: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798867353: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798867354: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798867356: I'm a leader and I successfully saved my client's new photo
1335798867356: now showing in UI the new photo I just saved ... 
1335798867357: the photo length: 6340
1335798867400: Received UDP payload: 5653
1335798867403: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798867403: mux: Inside Packet.SERVER_REPLY
1335798867413: end of server show photo aside %%%%%%%%%
1335798867416: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798867416: Inside _enableButtons
1335798867416: disabling progressdialog due to successful new photo upload
1335798867417: areButtonsEnabled --> true
1335798867417: inside finalLegAck: change requestCounter to 22
1335798867417: send final leg ack regardless of new or already-processed reply
1335798867418: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001022 Client in region: (1,0) Client nodID: 5001
1335798867418: I'm a leader client, my final_leg packet going to mux directly
1335798867418: mux: Inside mux Packet.CLIENT_REQUEST
1335798867419: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100018
1335798867419: Yay the last leg succeeded. Removing reply runnables ...
1335798867419: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100018
1335798867419: got new request, requestCounter = 5001022
1335798867419: inside handleClientRequest. Originator leader of region 1
1335798867419: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798867420: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100018
1335798867420: do not send ack for received final_leg_ack
1335798867420: new client_upload_photo_ack reply with replyCounter 500100018
1335798867421: note down new reply by adding replyCounter=500100018 to HashMap processedReplies
1335798867422: = leader upload start 1335798867304 ~ stop 1335798867416
1335798867422: leader upload new photo latency = 112
1335798867423: one more takeGoodSave: 6
1335798867424: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=1 getTimedout=0 getPercent=80%
1335798867425: SUCCESS Client now knows saving photo on its leader succeeded
1335798867503: Received UDP payload: 5653
1335798867507: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798867507: mux: Inside Packet.SERVER_REPLY
1335798867540: Received UDP payload: 446
1335798867542: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500500026
1335798867542: got new request, requestCounter = 5006073
1335798867542: inside handleClientRequest. Originator leader of region 1
1335798867542: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798867542: mux: Inside mux Packet.CLIENT_REQUEST
1335798867543: Yay the last leg succeeded. Removing reply runnables ...
1335798867543: do not send ack for received final_leg_ack
1335798867543: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500500026
1335798867543: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500500026
1335798867857: Received UDP payload: 5760
1335798867859: forwarding disabled, not forwarding packets
1335798867859: mux: GOT CSM_Msg
1335798867871: Received UDP payload: 989
1335798867873: inside handleDSMRequest. At requests's remote leader of region 1
1335798867873: mux: GOT CSM_Msg
1335798867873: removed replies before id 2 from sentReplies of size 0
1335798867874: INSIDE SERVER_GET_PHOTO!!!
1335798867876: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798867876: Received PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798867876: mux: I got a CSM packet at a leader 
1335798867880: Sending UDP payload: 7351
1335798867882: Received UDP payload: 446
1335798867882: forwarding disabled, not forwarding packets
1335798867884: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798867884: mux: Inside Packet.SERVER_REPLY
1335798867885: Received UDP payload: 446
1335798867887: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798867887: mux: Inside Packet.SERVER_REPLY
1335798867951: Received UDP payload: 989
1335798867953: forwarding disabled, not forwarding packets
1335798867953: mux: GOT CSM_Msg
1335798868330: Received UDP payload: 5760
1335798868338: forwarding disabled, not forwarding packets
1335798868338: mux: GOT CSM_Msg
1335798868347: Received UDP payload: 446
1335798868353: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798868353: mux: Inside Packet.SERVER_REPLY
1335798868493: Received UDP payload: 5760
1335798868496: mux: GOT CSM_Msg
1335798868497: forwarding disabled, not forwarding packets
1335798868608: Received UDP payload: 446
1335798868637: Received UDP payload: 5760
1335798868640: forwarding disabled, not forwarding packets
1335798868640: mux: GOT CSM_Msg
1335798868943: Received UDP payload: 5760
1335798868947: forwarding disabled, not forwarding packets
1335798868947: mux: GOT CSM_Msg
1335798869219: Received UDP payload: 5760
1335798869226: mux: GOT CSM_Msg
1335798869227: forwarding disabled, not forwarding packets
1335798869231: Received UDP payload: 989
1335798869238: mux: GOT CSM_Msg
1335798869239: removed replies before id 2 from sentReplies of size 1
1335798869241: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798869241: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798869242: mux: I got a CSM packet at a leader 
1335798869252: Sending UDP payload: 7351
1335798869257: forwarding disabled, not forwarding packets
1335798869267: Received UDP payload: 989
1335798869269: mux: GOT CSM_Msg
1335798869269: removed replies before id 2 from sentReplies of size 1
1335798869270: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798869270: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798869270: mux: I got a CSM packet at a leader 
1335798869271: Sending UDP payload: 7351
1335798869272: forwarding disabled, not forwarding packets
1335798869294: Received UDP payload: 989
1335798869296: mux: GOT CSM_Msg
1335798869297: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798869297: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798869297: mux: I got a CSM packet at a leader 
1335798869297: removed replies before id 2 from sentReplies of size 1
1335798869298: Sending UDP payload: 7351
1335798869300: forwarding disabled, not forwarding packets
1335798869411: Received UDP payload: 989
1335798869413: mux: GOT CSM_Msg
1335798869414: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798869414: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798869414: removed replies before id 2 from sentReplies of size 1
1335798869415: mux: I got a CSM packet at a leader 
1335798869416: Sending UDP payload: 7351
1335798869417: forwarding disabled, not forwarding packets
1335798869425: Received UDP payload: 989
1335798869427: mux: GOT CSM_Msg
1335798869427: removed replies before id 2 from sentReplies of size 1
1335798869428: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798869428: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798869429: mux: I got a CSM packet at a leader 
1335798869430: Sending UDP payload: 7351
1335798869431: forwarding disabled, not forwarding packets
1335798869760: Received UDP payload: 989
1335798869762: mux: GOT CSM_Msg
1335798869763: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798869763: removed replies before id 2 from sentReplies of size 1
1335798869764: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798869764: mux: I got a CSM packet at a leader 
1335798869766: Sending UDP payload: 7351
1335798869767: forwarding disabled, not forwarding packets
1335798870008: Received UDP payload: 989
1335798870014: mux: GOT CSM_Msg
1335798870015: removed replies before id 11 from sentReplies of size 0
1335798870016: inside handleDSMRequest. At requests's remote leader of region 1
1335798870018: INSIDE SERVER_GET_PHOTO!!!
1335798870024: Received PROC_REQUEST 11:11 (3,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(3,0)
1335798870033: Dispatching Atom PROC_REPLY 11:11 (1,0)->(3,0)
1335798870034: mux: I got a CSM packet at a leader 
1335798870037: Sending UDP payload: 7351
1335798870046: forwarding disabled, not forwarding packets
1335798870085: Received UDP payload: 989
1335798870093: mux: GOT CSM_Msg
1335798870093: removed replies before id 11 from sentReplies of size 1
1335798870094: Dispatching Atom PROC_REPLY 11:11 (1,0)->(3,0)
1335798870094: Received DUPLICATE PROC_REQUEST 11:11 (3,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(3,0)
1335798870094: mux: I got a CSM packet at a leader 
1335798870095: Sending UDP payload: 7351
1335798870096: forwarding disabled, not forwarding packets
1335798870183: Received UDP payload: 989
1335798870185: mux: GOT CSM_Msg
1335798870185: removed replies before id 11 from sentReplies of size 1
1335798870186: Dispatching Atom PROC_REPLY 11:11 (1,0)->(3,0)
1335798870186: Received DUPLICATE PROC_REQUEST 11:11 (3,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(3,0)
1335798870186: mux: I got a CSM packet at a leader 
1335798870187: Sending UDP payload: 7351
1335798870188: forwarding disabled, not forwarding packets
1335798870262: Received UDP payload: 989
1335798870264: mux: GOT CSM_Msg
1335798870264: removed replies before id 11 from sentReplies of size 1
1335798870265: Dispatching Atom PROC_REPLY 11:11 (1,0)->(3,0)
1335798870265: Received DUPLICATE PROC_REQUEST 11:11 (3,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(3,0)
1335798870266: mux: I got a CSM packet at a leader 
1335798870267: Sending UDP payload: 7351
1335798870267: forwarding disabled, not forwarding packets
1335798870357: Received UDP payload: 989
1335798870359: mux: GOT CSM_Msg
1335798870360: Dispatching Atom PROC_REPLY 11:11 (1,0)->(3,0)
1335798870360: Received DUPLICATE PROC_REQUEST 11:11 (3,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(3,0)
1335798870360: removed replies before id 11 from sentReplies of size 1
1335798870361: mux: I got a CSM packet at a leader 
1335798870362: Sending UDP payload: 7351
1335798870362: forwarding disabled, not forwarding packets
1335798870469: Received UDP payload: 989
1335798870471: mux: GOT CSM_Msg
1335798870471: removed replies before id 11 from sentReplies of size 1
1335798870472: Dispatching Atom PROC_REPLY 11:11 (1,0)->(3,0)
1335798870472: Received DUPLICATE PROC_REQUEST 11:11 (3,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(3,0)
1335798870472: mux: I got a CSM packet at a leader 
1335798870474: Sending UDP payload: 7351
1335798870474: forwarding disabled, not forwarding packets
1335798870574: Received UDP payload: 989
1335798870576: mux: GOT CSM_Msg
1335798870576: removed replies before id 11 from sentReplies of size 1
1335798870577: Dispatching Atom PROC_REPLY 11:11 (1,0)->(3,0)
1335798870577: Received DUPLICATE PROC_REQUEST 11:11 (3,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(3,0)
1335798870577: mux: I got a CSM packet at a leader 
1335798870578: Sending UDP payload: 7351
1335798870579: forwarding disabled, not forwarding packets
1335798870781: Received UDP payload: 989
1335798870788: mux: GOT CSM_Msg
1335798870789: removed replies before id 11 from sentReplies of size 1
1335798870790: Received DUPLICATE PROC_REQUEST 11:11 (3,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(3,0)
1335798870791: Dispatching Atom PROC_REPLY 11:11 (1,0)->(3,0)
1335798870792: mux: I got a CSM packet at a leader 
1335798870798: Sending UDP payload: 7351
1335798870806: forwarding disabled, not forwarding packets
1335798871088: Received UDP payload: 989
1335798871092: mux: GOT CSM_Msg
1335798871092: removed replies before id 11 from sentReplies of size 1
1335798871093: Received DUPLICATE PROC_REQUEST 11:11 (3,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(3,0)
1335798871094: Dispatching Atom PROC_REPLY 11:11 (1,0)->(3,0)
1335798871094: mux: I got a CSM packet at a leader 
1335798871096: Sending UDP payload: 7351
1335798871098: forwarding disabled, not forwarding packets
1335798871198: Received UDP payload: 989
1335798871202: mux: GOT CSM_Msg
1335798871202: removed replies before id 11 from sentReplies of size 1
1335798871203: Received DUPLICATE PROC_REQUEST 11:11 (3,0)->(1,0), replying PROC_REPLY 11:11 (1,0)->(3,0)
1335798871204: Dispatching Atom PROC_REPLY 11:11 (1,0)->(3,0)
1335798871204: mux: I got a CSM packet at a leader 
1335798871206: Sending UDP payload: 7351
1335798871209: forwarding disabled, not forwarding packets
1335798871252: Received UDP payload: 625
1335798871254: mux: Inside mux Packet.CLIENT_REQUEST
1335798871255: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798871255: got new request, requestCounter = 5006074
1335798871255: inside handleClientRequest. Originator leader of region 1
1335798871255: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798871257: Sending PROC_REQUEST 11:2 (1,0)->(2,0)
1335798871257: Sending to region: 2
1335798871258: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798871259: Make FirstLeg Ack regardless of new or already-processed requests
1335798871259: Note down new request by adding requestCounter=5006074 to HashMap processedRequests
1335798871259: The leader sending a First Leg ack to originator client (which id = 5006)
1335798871259: inside sendPacket(Packet p)
1335798871260: mux: I got a CSM packet at a leader 
1335798871262: Sending UDP payload: 989
1335798871265: forwarding disabled, not forwarding packets
1335798871267: Sending UDP payload: 446
1335798871288: Received UDP payload: 989
1335798871292: forwarding disabled, not forwarding packets
1335798871292: mux: GOT CSM_Msg
1335798871798: Received UDP payload: 4882
1335798871802: mux: Inside mux Packet.CLIENT_REQUEST
1335798872029: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872030: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872031: mux: I got a CSM packet at a leader 
1335798872035: Received UDP payload: 5246
1335798872038: Sending UDP payload: 989
1335798872046: forwarding disabled, not forwarding packets
1335798872047: forwarding disabled, not forwarding packets
1335798872047: mux: GOT CSM_Msg
1335798872106: Received UDP payload: 989
1335798872113: forwarding disabled, not forwarding packets
1335798872113: mux: GOT CSM_Msg
1335798872114: Received UDP payload: 446
1335798872118: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798872118: mux: Inside Packet.SERVER_REPLY
1335798872128: Received UDP payload: 989
1335798872132: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872133: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872134: mux: I got a CSM packet at a leader 
1335798872138: Sending UDP payload: 989
1335798872139: forwarding disabled, not forwarding packets
1335798872147: inside sendPacket(Packet p)
1335798872148: Sending UDP payload: 446
1335798872149: mux: GOT CSM_Msg
1335798872149: removed replies before id 2 from sentReplies of size 1
1335798872150: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798872150: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798872150: mux: I got a CSM packet at a leader 
1335798872152: Sending UDP payload: 7351
1335798872152: forwarding disabled, not forwarding packets
1335798872155: Received UDP payload: 989
1335798872187: Received UDP payload: 446
1335798872188: Received UDP payload: 989
1335798872194: mux: GOT CSM_Msg
1335798872194: removed replies before id 2 from sentReplies of size 1
1335798872195: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798872195: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798872195: mux: Inside Packet.SERVER_REPLY
1335798872196: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798872196: mux: GOT CSM_Msg
1335798872196: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798872196: removed replies before id 2 from sentReplies of size 1
1335798872197: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798872197: mux: I got a CSM packet at a leader 
1335798872198: Sending UDP payload: 7351
1335798872199: forwarding disabled, not forwarding packets
1335798872201: mux: I got a CSM packet at a leader 
1335798872202: Sending UDP payload: 7351
1335798872211: forwarding disabled, not forwarding packets
1335798872215: Received UDP payload: 989
1335798872218: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798872218: mux: GOT CSM_Msg
1335798872218: removed replies before id 2 from sentReplies of size 1
1335798872219: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798872219: mux: I got a CSM packet at a leader 
1335798872220: Sending UDP payload: 7351
1335798872225: forwarding disabled, not forwarding packets
1335798872233: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872234: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872234: mux: I got a CSM packet at a leader 
1335798872235: Sending UDP payload: 989
1335798872236: forwarding disabled, not forwarding packets
1335798872334: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872335: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872335: mux: I got a CSM packet at a leader 
1335798872336: Sending UDP payload: 989
1335798872337: forwarding disabled, not forwarding packets
1335798872436: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872436: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872437: mux: I got a CSM packet at a leader 
1335798872438: Sending UDP payload: 989
1335798872438: forwarding disabled, not forwarding packets
1335798872500: areButtonsEnabled --> false
1335798872500: areButtonsEnabled --> false 
1335798872500: canPressButton = TRUE
1335798872500: get picture disableButtonsR
1335798872515: one more getNum: 6
1335798872516: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335798872516: change local requestCounter to 23
1335798872516: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=4 getBad=1 getTimedout=0 getPercent=66%
1335798872517: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001023 Client in region: 1 Client nodID: 5001
1335798872537: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872538: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872538: mux: I got a CSM packet at a leader 
1335798872540: Sending UDP payload: 989
1335798872540: forwarding disabled, not forwarding packets
1335798872558: ----------------------------
1335798872559: inside sendRequestPacketRepeatingRunnable for requestCount = 5001023
1335798872560: --- Finished one round of sending REQUEST Packet ---------
1335798872560: I'm a leader, my requesting photos packet going to mux directly
1335798872561: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798872561: got new request, requestCounter = 5001023
1335798872561: inside handleClientRequest. Originator leader of region 1
1335798872561: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798872561: mux: Inside mux Packet.CLIENT_REQUEST
1335798872562: Sending to region: 2
1335798872563: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798872563: Make FirstLeg Ack regardless of new or already-processed requests
1335798872563: Note down new request by adding requestCounter=5001023 to HashMap processedRequests
1335798872563: Sending PROC_REQUEST 11:3 (1,0)->(2,0)
1335798872564: mux: I got a CSM packet at a leader 
1335798872564: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798872566: Sending UDP payload: 989
1335798872567: Received UDP payload: 989
1335798872570: forwarding disabled, not forwarding packets
1335798872570: forwarding disabled, not forwarding packets
1335798872570: mux: GOT CSM_Msg
1335798872608: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798872613: Received UDP payload: 642
1335798872614: mux: Inside Packet.SERVER_REPLY
1335798872615: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798872632: Received UDP payload: 446
1335798872633: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798872633: mux: Inside Packet.SERVER_REPLY
1335798872639: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872639: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872639: mux: I got a CSM packet at a leader 
1335798872640: Sending UDP payload: 989
1335798872641: forwarding disabled, not forwarding packets
1335798872693: Received UDP payload: 5246
1335798872696: forwarding disabled, not forwarding packets
1335798872696: mux: GOT CSM_Msg
1335798872708: Received UDP payload: 642
1335798872709: mux: Inside Packet.SERVER_REPLY
1335798872710: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798872740: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872740: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872741: mux: I got a CSM packet at a leader 
1335798872742: Sending UDP payload: 989
1335798872742: forwarding disabled, not forwarding packets
1335798872841: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872841: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872842: mux: I got a CSM packet at a leader 
1335798872845: Sending UDP payload: 989
1335798872846: forwarding disabled, not forwarding packets
1335798872922: Received UDP payload: 989
1335798872925: mux: GOT CSM_Msg
1335798872925: removed replies before id 2 from sentReplies of size 1
1335798872927: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798872928: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798872929: mux: I got a CSM packet at a leader 
1335798872939: Sending UDP payload: 7351
1335798872940: forwarding disabled, not forwarding packets
1335798872943: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872944: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798872945: mux: I got a CSM packet at a leader 
1335798872948: Sending UDP payload: 989
1335798872950: forwarding disabled, not forwarding packets
1335798873046: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798873046: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798873047: mux: I got a CSM packet at a leader 
1335798873048: Sending UDP payload: 989
1335798873048: forwarding disabled, not forwarding packets
1335798873129: Received UDP payload: 989
1335798873132: mux: GOT CSM_Msg
1335798873132: removed replies before id 2 from sentReplies of size 1
1335798873133: Received DUPLICATE PROC_REQUEST 11:2 (0,0)->(1,0), replying PROC_REPLY 11:2 (1,0)->(0,0)
1335798873134: Dispatching Atom PROC_REPLY 11:2 (1,0)->(0,0)
1335798873135: mux: I got a CSM packet at a leader 
1335798873138: Sending UDP payload: 7351
1335798873139: forwarding disabled, not forwarding packets
1335798873148: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798873149: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798873150: mux: I got a CSM packet at a leader 
1335798873154: Sending UDP payload: 989
1335798873155: forwarding disabled, not forwarding packets
1335798873172: Received UDP payload: 446
1335798873174: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798873174: mux: Inside Packet.SERVER_REPLY
1335798873183: Received UDP payload: 989
1335798873188: forwarding disabled, not forwarding packets
1335798873188: mux: GOT CSM_Msg
1335798873251: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798873251: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798873252: mux: I got a CSM packet at a leader 
1335798873256: Sending UDP payload: 989
1335798873256: forwarding disabled, not forwarding packets
1335798873267: Received UDP payload: 642
1335798873269: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798873269: mux: Inside Packet.SERVER_REPLY
1335798873301: Received UDP payload: 642
1335798873303: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798873303: mux: Inside Packet.SERVER_REPLY
1335798873353: Retrying PROC_REQUEST 11:2 (1,0)->(2,0)
1335798873354: Dispatching Atom PROC_REQUEST 11:2 (1,0)->(2,0)
1335798873355: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873355: mux: I got a CSM packet at a leader 
1335798873356: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873357: Sending UDP payload: 989
1335798873357: forwarding disabled, not forwarding packets
1335798873357: mux: I got a CSM packet at a leader 
1335798873358: Sending UDP payload: 989
1335798873360: forwarding disabled, not forwarding packets
1335798873458: DSM Layer: Request timed out, send failure PROC_REPLY 11:2 (2,0)->(1,0)
1335798873458: Dispatching Atom PROC_REPLY 11:2 (2,0)->(1,0)
1335798873459: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873459: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873459: mux: I got a CSM packet at a leader 
1335798873463: Sending UDP payload: 989
1335798873464: Received PROC_REPLY 11:2 (2,0)->(1,0), handing to UserApp
1335798873464: inside handleDSMReply. Now back in originator leader of region 1
1335798873465: DSM layer timed out, don't log dsm layer latency stuff.
1335798873466: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798873467: change leader replyCounter to: 19
1335798873467: reply packet contains the newest photo/success info from the remote region
1335798873468: =======================
1335798873468: inside sendReplies of replyCount = 500100019
1335798873469: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798873469: Leader about to send REPLY packet, number: 500100019 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798873469: inside sendPacket(Packet p)
1335798873469: inside sendReplyRepeatingRunnable for replyCount = 500100019
1335798873470: === Finished one round of sending REPLY Packet =======
1335798873470: mux: I got a CSM packet at a leader 
1335798873473: Sending UDP payload: 989
1335798873473: forwarding disabled, not forwarding packets
1335798873476: Sending UDP payload: 642
1335798873561: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873561: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873562: mux: I got a CSM packet at a leader 
1335798873564: Sending UDP payload: 989
1335798873565: forwarding disabled, not forwarding packets
1335798873647: Received UDP payload: 642
1335798873648: mux: Inside Packet.SERVER_REPLY
1335798873649: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798873662: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873663: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873663: mux: I got a CSM packet at a leader 
1335798873667: Sending UDP payload: 989
1335798873668: forwarding disabled, not forwarding packets
1335798873680: Received UDP payload: 989
1335798873682: mux: GOT CSM_Msg
1335798873683: forwarding disabled, not forwarding packets
1335798873694: Received UDP payload: 989
1335798873696: forwarding disabled, not forwarding packets
1335798873696: mux: GOT CSM_Msg
1335798873707: Received UDP payload: 989
1335798873710: forwarding disabled, not forwarding packets
1335798873710: mux: GOT CSM_Msg
1335798873712: Received UDP payload: 446
1335798873720: Received UDP payload: 6000
1335798873723: mux: GOT CSM_Msg
1335798873724: Received DUPLICATE PROC_REPLY 11:2 (2,0)->(1,0)
1335798873728: Received UDP payload: 642
1335798873730: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798873730: mux: Inside Packet.SERVER_REPLY
1335798873764: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873765: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873766: mux: I got a CSM packet at a leader 
1335798873767: Sending UDP payload: 989
1335798873768: forwarding disabled, not forwarding packets
1335798873771: =======================
1335798873771: inside sendReplyRepeatingRunnable for replyCount = 500100019
1335798873772: Leader about to send REPLY packet, number: 500100019 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798873773: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798873773: inside sendPacket(Packet p)
1335798873774: === Finished one round of sending REPLY Packet =======
1335798873775: Sending UDP payload: 642
1335798873867: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873868: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873869: mux: I got a CSM packet at a leader 
1335798873870: Sending UDP payload: 989
1335798873871: forwarding disabled, not forwarding packets
1335798873929: Received UDP payload: 6000
1335798873931: mux: GOT CSM_Msg
1335798873932: Received DUPLICATE PROC_REPLY 11:2 (2,0)->(1,0)
1335798873969: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873970: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798873970: mux: I got a CSM packet at a leader 
1335798873971: Sending UDP payload: 989
1335798873972: forwarding disabled, not forwarding packets
1335798874071: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874072: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874072: mux: I got a CSM packet at a leader 
1335798874073: Sending UDP payload: 989
1335798874074: =======================
1335798874074: forwarding disabled, not forwarding packets
1335798874074: inside sendReplyRepeatingRunnable for replyCount = 500100019
1335798874075: === Finished one round of sending REPLY Packet =======
1335798874075: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798874075: Leader about to send REPLY packet, number: 500100019 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798874075: inside sendPacket(Packet p)
1335798874077: Sending UDP payload: 642
1335798874176: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874177: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874177: mux: I got a CSM packet at a leader 
1335798874179: Sending UDP payload: 989
1335798874180: forwarding disabled, not forwarding packets
1335798874264: Received UDP payload: 446
1335798874269: got new request, requestCounter = 5006075
1335798874269: inside handleClientRequest. Originator leader of region 1
1335798874269: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798874269: mux: Inside mux Packet.CLIENT_REQUEST
1335798874270: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100019
1335798874270: Yay the last leg succeeded. Removing reply runnables ...
1335798874270: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100019
1335798874270: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100019
1335798874270: do not send ack for received final_leg_ack
1335798874279: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874282: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874284: mux: I got a CSM packet at a leader 
1335798874288: Sending UDP payload: 989
1335798874290: forwarding disabled, not forwarding packets
1335798874331: Received UDP payload: 6000
1335798874334: mux: GOT CSM_Msg
1335798874335: Received DUPLICATE PROC_REPLY 11:2 (2,0)->(1,0)
1335798874392: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874392: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874395: mux: I got a CSM packet at a leader 
1335798874397: Sending UDP payload: 989
1335798874398: forwarding disabled, not forwarding packets
1335798874422: Received UDP payload: 446
1335798874424: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798874424: mux: Inside mux Packet.CLIENT_REQUEST
1335798874425: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100019
1335798874425: Yay the last leg succeeded. Removing reply runnables ...
1335798874425: got new request, requestCounter = 5006076
1335798874425: inside handleClientRequest. Originator leader of region 1
1335798874425: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100019
1335798874426: do not send ack for received final_leg_ack
1335798874426: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100019
1335798874444: Received UDP payload: 446
1335798874446: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798874446: mux: Inside mux Packet.CLIENT_REQUEST
1335798874447: got new request, requestCounter = 5006077
1335798874447: inside handleClientRequest. Originator leader of region 1
1335798874448: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100019
1335798874448: Yay the last leg succeeded. Removing reply runnables ...
1335798874448: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100019
1335798874449: do not send ack for received final_leg_ack
1335798874449: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100019
1335798874493: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874494: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874494: mux: I got a CSM packet at a leader 
1335798874496: Sending UDP payload: 989
1335798874497: forwarding disabled, not forwarding packets
1335798874595: Retrying PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874596: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(2,0)
1335798874597: mux: I got a CSM packet at a leader 
1335798874599: Sending UDP payload: 989
1335798874600: forwarding disabled, not forwarding packets
1335798874698: DSM Layer: Request timed out, send failure PROC_REPLY 11:3 (2,0)->(1,0)
1335798874699: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798874700: mux: I got a CSM packet at a leader 
1335798874704: Sending UDP payload: 989
1335798874707: Received PROC_REPLY 11:3 (2,0)->(1,0), handing to UserApp
1335798874708: DSM layer timed out, don't log dsm layer latency stuff.
1335798874708: inside handleDSMReply. Now back in originator leader of region 1
1335798874710: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798874711: change leader replyCounter to: 20
1335798874711: inside sendReplies of replyCount = 500100020
1335798874711: reply packet contains the newest photo/success info from the remote region
1335798874712: =======================
1335798874712: inside sendReplyRepeatingRunnable for replyCount = 500100020
1335798874713: Leader about to send REPLY packet, number: 500100020 type: 15 Leader in region: (1,0) to Client nodID: 5001
1335798874714: === Finished one round of sending REPLY Packet =======
1335798874714: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798874723: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798874724: Inside _enableButtons
1335798874724: disabling progressdialog due to successful new photo get
1335798874727: areButtonsEnabled --> true
1335798874728: send final leg ack regardless of new or already-processed reply
1335798874729: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001024 Client in region: (1,0) Client nodID: 5001
1335798874729: inside finalLegAck: change requestCounter to 24
1335798874730: I'm a leader client, my final_leg packet going to mux directly
1335798874731: inside handleClientRequest. Originator leader of region 1
1335798874731: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798874731: mux: Inside mux Packet.CLIENT_REQUEST
1335798874732: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100020
1335798874732: Yay the last leg succeeded. Removing reply runnables ...
1335798874732: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100020
1335798874732: got new request, requestCounter = 5001024
1335798874733: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100020
1335798874733: do not send ack for received final_leg_ack
1335798874733: leader download remote photo latency = 2163
1335798874733: new client_show_remotephoto reply with replyCounter 500100020
1335798874733: note down new reply by adding replyCounter=500100020 to HashMap processedReplies
1335798874734: = leader download start 1335798872560 ~ stop 1335798874723
1335798874735: Can't get remote photo, because DSM Layer on originator leader timed out
1335798874738: one more getBad: 2
1335798874739: getBad++
1335798874739: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=4 getBad=2 getTimedout=0 getPercent=66%
1335798874857: Received UDP payload: 5246
1335798874859: forwarding disabled, not forwarding packets
1335798874859: mux: GOT CSM_Msg
1335798874947: Received UDP payload: 5246
1335798874949: forwarding disabled, not forwarding packets
1335798874949: mux: GOT CSM_Msg
1335798875043: Received UDP payload: 6000
1335798875046: Received DUPLICATE PROC_REPLY 11:2 (2,0)->(1,0)
1335798875046: mux: GOT CSM_Msg
1335798875141: Received UDP payload: 5246
1335798875144: mux: GOT CSM_Msg
1335798875145: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(1,0)
1335798875325: Received UDP payload: 989
1335798875329: forwarding disabled, not forwarding packets
1335798875329: mux: GOT CSM_Msg
1335798875338: Received UDP payload: 5246
1335798875342: mux: GOT CSM_Msg
1335798875343: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(1,0)
1335798875526: Received UDP payload: 5246
1335798875529: mux: GOT CSM_Msg
1335798875533: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(1,0)
1335798875795: Received UDP payload: 5246
1335798875804: mux: GOT CSM_Msg
1335798875805: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(1,0)
1335798876216: Received UDP payload: 989
1335798876224: forwarding disabled, not forwarding packets
1335798876224: mux: GOT CSM_Msg
1335798876318: Received UDP payload: 989
1335798876325: mux: GOT CSM_Msg
1335798876326: forwarding disabled, not forwarding packets
1335798876402: Received UDP payload: 989
1335798876409: forwarding disabled, not forwarding packets
1335798876409: mux: GOT CSM_Msg
1335798876505: Received UDP payload: 989
1335798876508: forwarding disabled, not forwarding packets
1335798876508: mux: GOT CSM_Msg
1335798876657: Received UDP payload: 989
1335798876664: forwarding disabled, not forwarding packets
1335798876664: mux: GOT CSM_Msg
1335798876711: Received UDP payload: 989
1335798876717: forwarding disabled, not forwarding packets
1335798876717: mux: GOT CSM_Msg
1335798876812: Received UDP payload: 989
1335798876816: forwarding disabled, not forwarding packets
1335798876816: mux: GOT CSM_Msg
1335798876910: Received UDP payload: 989
1335798876912: forwarding disabled, not forwarding packets
1335798876912: mux: GOT CSM_Msg
1335798877019: Received UDP payload: 989
1335798877021: forwarding disabled, not forwarding packets
1335798877021: mux: GOT CSM_Msg
1335798877112: Received UDP payload: 989
1335798877115: forwarding disabled, not forwarding packets
1335798877115: mux: GOT CSM_Msg
1335798877147: inside sendPacket(Packet p)
1335798877149: Sending UDP payload: 446
1335798877241: Received UDP payload: 989
1335798877244: forwarding disabled, not forwarding packets
1335798877244: mux: GOT CSM_Msg
1335798877328: Received UDP payload: 989
1335798877330: mux: GOT CSM_Msg
1335798877331: forwarding disabled, not forwarding packets
1335798877424: Received UDP payload: 989
1335798877427: forwarding disabled, not forwarding packets
1335798877427: mux: GOT CSM_Msg
1335798877518: Received UDP payload: 446
1335798877520: mux: Inside mux Packet.CLIENT_REQUEST
1335798877535: Received UDP payload: 446
1335798877537: mux: Inside mux Packet.CLIENT_REQUEST
1335798877805: Received UDP payload: 446
1335798877810: mux: Inside mux Packet.CLIENT_REQUEST
1335798877830: Received UDP payload: 446
1335798877832: mux: Inside mux Packet.CLIENT_REQUEST
1335798877839: Received UDP payload: 446
1335798877851: Received UDP payload: 446
1335798877884: Received UDP payload: 446
1335798877929: Received UDP payload: 446
1335798878101: Received UDP payload: 5246
1335798878104: forwarding disabled, not forwarding packets
1335798878104: mux: GOT CSM_Msg
1335798878232: Received UDP payload: 5246
1335798878234: forwarding disabled, not forwarding packets
1335798878234: mux: GOT CSM_Msg
1335798878404: Received UDP payload: 446
1335798878479: Received UDP payload: 5246
1335798878486: forwarding disabled, not forwarding packets
1335798878486: mux: GOT CSM_Msg
1335798878558: Received UDP payload: 5246
1335798878563: mux: GOT CSM_Msg
1335798878564: forwarding disabled, not forwarding packets
1335798878605: Received UDP payload: 446
1335798879261: Received UDP payload: 446
1335798879371: Received UDP payload: 7037
1335798879382: mux: GOT CSM_Msg
1335798879383: forwarding disabled, not forwarding packets
1335798879694: Received UDP payload: 7037
1335798879706: mux: GOT CSM_Msg
1335798879707: forwarding disabled, not forwarding packets
1335798880017: Received UDP payload: 5921
1335798880020: mux: Inside mux Packet.CLIENT_REQUEST
1335798880148: Received UDP payload: 6285
1335798880153: forwarding disabled, not forwarding packets
1335798880153: mux: GOT CSM_Msg
1335798880154: Received UDP payload: 446
1335798880157: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798880157: mux: Inside Packet.SERVER_REPLY
1335798880165: Received UDP payload: 989
1335798880170: forwarding disabled, not forwarding packets
1335798880170: mux: GOT CSM_Msg
1335798880180: Received UDP payload: 642
1335798880183: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798880183: mux: Inside Packet.SERVER_REPLY
1335798880202: Received UDP payload: 446
1335798880204: mux: Inside mux Packet.CLIENT_REQUEST
1335798880497: Received UDP payload: 625
1335798880501: mux: Inside mux Packet.CLIENT_REQUEST
1335798880502: got new request, requestCounter = 5006078
1335798880502: inside handleClientRequest. Originator leader of region 1
1335798880502: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798880503: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798880505: Sending to region: 3
1335798880506: Sending PROC_REQUEST 11:3 (1,0)->(3,0)
1335798880507: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1335798880508: Make FirstLeg Ack regardless of new or already-processed requests
1335798880508: Note down new request by adding requestCounter=5006078 to HashMap processedRequests
1335798880508: The leader sending a First Leg ack to originator client (which id = 5006)
1335798880509: inside sendPacket(Packet p)
1335798880509: mux: I got a CSM packet at a leader 
1335798880519: Sending UDP payload: 989
1335798880526: forwarding disabled, not forwarding packets
1335798880529: Sending UDP payload: 446
1335798880797: Received UDP payload: 625
1335798880799: Make FirstLeg Ack regardless of new or already-processed requests
1335798880799: Note down new request by adding requestCounter=5006078 to HashMap processedRequests
1335798880799: The leader sending a First Leg ack to originator client (which id = 5006)
1335798880799: discarding repeated requestCounter=5006078, but still send an ack back
1335798880799: inside handleClientRequest. Originator leader of region 1
1335798880799: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798880799: mux: Inside mux Packet.CLIENT_REQUEST
1335798880800: inside sendPacket(Packet p)
1335798880801: Sending UDP payload: 446
1335798881035: Received UDP payload: 989
1335798881038: forwarding disabled, not forwarding packets
1335798881038: mux: GOT CSM_Msg
1335798881051: Received UDP payload: 989
1335798881053: forwarding disabled, not forwarding packets
1335798881053: mux: GOT CSM_Msg
1335798881137: Received UDP payload: 989
1335798881143: mux: GOT CSM_Msg
1335798881144: forwarding disabled, not forwarding packets
1335798881187: Received UDP payload: 989
1335798881195: forwarding disabled, not forwarding packets
1335798881195: mux: GOT CSM_Msg
1335798881199: Received UDP payload: 642
1335798881216: mux: Inside Packet.SERVER_REPLY
1335798881217: Received UDP payload: 989
1335798881217: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798881224: forwarding disabled, not forwarding packets
1335798881224: mux: GOT CSM_Msg
1335798881232: Received UDP payload: 446
1335798881245: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881245: Retrying PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881246: mux: I got a CSM packet at a leader 
1335798881247: Sending UDP payload: 989
1335798881247: forwarding disabled, not forwarding packets
1335798881346: Retrying PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881347: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881347: mux: I got a CSM packet at a leader 
1335798881349: Sending UDP payload: 989
1335798881349: forwarding disabled, not forwarding packets
1335798881447: Retrying PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881448: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881448: mux: I got a CSM packet at a leader 
1335798881449: Sending UDP payload: 989
1335798881450: forwarding disabled, not forwarding packets
1335798881549: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881549: Retrying PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881549: mux: I got a CSM packet at a leader 
1335798881550: Sending UDP payload: 989
1335798881551: forwarding disabled, not forwarding packets
1335798881566: Received UDP payload: 446
1335798881650: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881650: Retrying PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881651: mux: I got a CSM packet at a leader 
1335798881652: Sending UDP payload: 989
1335798881652: forwarding disabled, not forwarding packets
1335798881672: Received UDP payload: 5246
1335798881674: forwarding disabled, not forwarding packets
1335798881674: mux: GOT CSM_Msg
1335798881709: Received UDP payload: 989
1335798881711: forwarding disabled, not forwarding packets
1335798881711: mux: GOT CSM_Msg
1335798881751: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881751: Retrying PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881752: mux: I got a CSM packet at a leader 
1335798881753: Sending UDP payload: 989
1335798881753: forwarding disabled, not forwarding packets
1335798881764: Received UDP payload: 642
1335798881766: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798881766: mux: Inside Packet.SERVER_REPLY
1335798881777: Received UDP payload: 5246
1335798881780: forwarding disabled, not forwarding packets
1335798881780: mux: GOT CSM_Msg
1335798881797: Received UDP payload: 989
1335798881800: forwarding disabled, not forwarding packets
1335798881800: mux: GOT CSM_Msg
1335798881827: Received UDP payload: 989
1335798881830: forwarding disabled, not forwarding packets
1335798881830: mux: GOT CSM_Msg
1335798881852: Retrying PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881853: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881853: mux: I got a CSM packet at a leader 
1335798881855: Sending UDP payload: 989
1335798881857: forwarding disabled, not forwarding packets
1335798881954: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881954: Retrying PROC_REQUEST 11:3 (1,0)->(3,0)
1335798881955: mux: I got a CSM packet at a leader 
1335798881956: Sending UDP payload: 989
1335798881956: forwarding disabled, not forwarding packets
1335798881959: Received UDP payload: 989
1335798881961: forwarding disabled, not forwarding packets
1335798881961: mux: GOT CSM_Msg
1335798882055: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1335798882055: Retrying PROC_REQUEST 11:3 (1,0)->(3,0)
1335798882056: mux: I got a CSM packet at a leader 
1335798882057: Sending UDP payload: 989
1335798882057: forwarding disabled, not forwarding packets
1335798882119: canPressButton = TRUE
1335798882120: areButtonsEnabled --> false
1335798882120: areButtonsEnabled --> false 
1335798882120: get picture disableButtonsR
1335798882139: one more getNum: 7
1335798882140: ** Client of state 2 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335798882140: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=4 getBad=2 getTimedout=0 getPercent=57%
1335798882141: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001025 Client in region: 1 Client nodID: 5001
1335798882141: change local requestCounter to 25
1335798882142: Received UDP payload: 989
1335798882144: forwarding disabled, not forwarding packets
1335798882144: mux: GOT CSM_Msg
1335798882148: inside sendPacket(Packet p)
1335798882149: Sending UDP payload: 446
1335798882150: Received UDP payload: 446
1335798882156: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(3,0)
1335798882156: Retrying PROC_REQUEST 11:3 (1,0)->(3,0)
1335798882156: mux: I got a CSM packet at a leader 
1335798882157: Sending UDP payload: 989
1335798882158: forwarding disabled, not forwarding packets
1335798882175: Received UDP payload: 989
1335798882178: forwarding disabled, not forwarding packets
1335798882178: mux: GOT CSM_Msg
1335798882183: ----------------------------
1335798882183: inside sendRequestPacketRepeatingRunnable for requestCount = 5001025
1335798882184: I'm a leader, my requesting photos packet going to mux directly
1335798882184: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798882184: got new request, requestCounter = 5001025
1335798882184: inside handleClientRequest. Originator leader of region 1
1335798882184: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798882184: mux: Inside mux Packet.CLIENT_REQUEST
1335798882185: Sending PROC_REQUEST 11:3 (1,0)->(0,0)
1335798882185: Sending to region: 0
1335798882186: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798882186: Make FirstLeg Ack regardless of new or already-processed requests
1335798882186: Note down new request by adding requestCounter=5001025 to HashMap processedRequests
1335798882186: mux: I got a CSM packet at a leader 
1335798882186: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798882188: Sending UDP payload: 989
1335798882189: Received UDP payload: 6285
1335798882191: Received PROC_REPLY 11:3 (3,0)->(1,0), handing to UserApp
1335798882191: forwarding disabled, not forwarding packets
1335798882191: mux: GOT CSM_Msg
1335798882192: DSM layer: Going to and from remote region took latency = 7
1335798882192: DSM layer: orig leader sent packet at 1335798882185 ~ received reply from remote leader at 1335798882192
1335798882192: Originator Region=1's Leader (for Client=5006) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798882192: inside handleDSMReply. Now back in originator leader of region 1
1335798882211: change leader replyCounter to: 21
1335798882211: inside sendReplies of replyCount = 500100021
1335798882211: reply packet contains the newest photo/success info from the remote region
1335798882212: === Finished one round of sending REPLY Packet =======
1335798882212: =======================
1335798882212: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798882212: Leader about to send REPLY packet, number: 500100021 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798882212: inside sendPacket(Packet p)
1335798882212: inside sendReplyRepeatingRunnable for replyCount = 500100021
1335798882213: Sending UDP payload: 5938
1335798882214: --- Finished one round of sending REQUEST Packet ---------
1335798882289: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798882513: === Finished one round of sending REPLY Packet =======
1335798882513: =======================
1335798882513: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798882513: Leader about to send REPLY packet, number: 500100021 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798882513: inside sendPacket(Packet p)
1335798882513: inside sendReplyRepeatingRunnable for replyCount = 500100021
1335798882515: Sending UDP payload: 5938
1335798882600: Received UDP payload: 6285
1335798882602: mux: GOT CSM_Msg
1335798882603: Received DUPLICATE PROC_REPLY 11:3 (3,0)->(1,0)
1335798882767: Received UDP payload: 625
1335798882770: mux: Inside mux Packet.CLIENT_REQUEST
1335798882813: =======================
1335798882814: === Finished one round of sending REPLY Packet =======
1335798882814: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798882814: Leader about to send REPLY packet, number: 500100021 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798882814: inside sendPacket(Packet p)
1335798882814: inside sendReplyRepeatingRunnable for replyCount = 500100021
1335798882816: Sending UDP payload: 5938
1335798882831: Received UDP payload: 989
1335798882835: forwarding disabled, not forwarding packets
1335798882835: mux: GOT CSM_Msg
1335798882872: Received UDP payload: 989
1335798882881: mux: GOT CSM_Msg
1335798882882: forwarding disabled, not forwarding packets
1335798882894: Received UDP payload: 446
1335798882897: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798882897: mux: Inside Packet.SERVER_REPLY
1335798882961: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798882961: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798882961: mux: I got a CSM packet at a leader 
1335798882963: Sending UDP payload: 989
1335798882964: forwarding disabled, not forwarding packets
1335798883062: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883062: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883063: mux: I got a CSM packet at a leader 
1335798883064: Sending UDP payload: 989
1335798883065: forwarding disabled, not forwarding packets
1335798883105: Received UDP payload: 642
1335798883107: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798883107: mux: Inside Packet.SERVER_REPLY
1335798883115: =======================
1335798883116: === Finished one round of sending REPLY Packet =======
1335798883116: I (the leader) was not the originator client (which id = 5006) so I use UDP to send packet back to my nonleader
1335798883116: Leader about to send REPLY packet, number: 500100021 type: 15 Leader in region: (1,0) to Client nodID: 5006
1335798883116: inside sendPacket(Packet p)
1335798883116: inside sendReplyRepeatingRunnable for replyCount = 500100021
1335798883118: Sending UDP payload: 5938
1335798883134: Received UDP payload: 446
1335798883162: Received UDP payload: 642
1335798883164: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883164: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798883164: mux: Inside Packet.SERVER_REPLY
1335798883168: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883168: mux: I got a CSM packet at a leader 
1335798883170: Sending UDP payload: 989
1335798883170: forwarding disabled, not forwarding packets
1335798883194: Received UDP payload: 446
1335798883196: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100021
1335798883196: Yay the last leg succeeded. Removing reply runnables ...
1335798883196: got new request, requestCounter = 5006079
1335798883196: inside handleClientRequest. Originator leader of region 1
1335798883196: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798883196: mux: Inside mux Packet.CLIENT_REQUEST
1335798883197: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100021
1335798883197: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100021
1335798883197: do not send ack for received final_leg_ack
1335798883232: Received UDP payload: 642
1335798883234: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798883234: mux: Inside Packet.SERVER_REPLY
1335798883269: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883270: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883270: mux: I got a CSM packet at a leader 
1335798883272: Sending UDP payload: 989
1335798883272: forwarding disabled, not forwarding packets
1335798883371: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883371: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883372: mux: I got a CSM packet at a leader 
1335798883374: Sending UDP payload: 989
1335798883375: forwarding disabled, not forwarding packets
1335798883473: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883474: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883474: mux: I got a CSM packet at a leader 
1335798883477: Sending UDP payload: 989
1335798883479: forwarding disabled, not forwarding packets
1335798883567: Received UDP payload: 446
1335798883575: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883575: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883575: mux: I got a CSM packet at a leader 
1335798883578: Sending UDP payload: 989
1335798883579: forwarding disabled, not forwarding packets
1335798883676: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883677: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883677: mux: I got a CSM packet at a leader 
1335798883680: Sending UDP payload: 989
1335798883681: forwarding disabled, not forwarding packets
1335798883712: Received UDP payload: 989
1335798883720: forwarding disabled, not forwarding packets
1335798883720: mux: GOT CSM_Msg
1335798883778: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883779: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883779: mux: I got a CSM packet at a leader 
1335798883782: Sending UDP payload: 989
1335798883783: forwarding disabled, not forwarding packets
1335798883804: Received UDP payload: 446
1335798883833: Received UDP payload: 989
1335798883837: forwarding disabled, not forwarding packets
1335798883837: mux: GOT CSM_Msg
1335798883849: Received UDP payload: 989
1335798883852: forwarding disabled, not forwarding packets
1335798883852: mux: GOT CSM_Msg
1335798883880: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883881: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883881: mux: I got a CSM packet at a leader 
1335798883882: Sending UDP payload: 989
1335798883882: forwarding disabled, not forwarding packets
1335798883944: Received UDP payload: 989
1335798883948: forwarding disabled, not forwarding packets
1335798883948: mux: GOT CSM_Msg
1335798883983: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883983: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798883983: mux: I got a CSM packet at a leader 
1335798883985: Sending UDP payload: 989
1335798883986: forwarding disabled, not forwarding packets
1335798883999: Received UDP payload: 989
1335798884005: forwarding disabled, not forwarding packets
1335798884005: mux: GOT CSM_Msg
1335798884084: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798884085: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798884085: mux: I got a CSM packet at a leader 
1335798884088: Sending UDP payload: 989
1335798884088: forwarding disabled, not forwarding packets
1335798884186: Retrying PROC_REQUEST 11:3 (1,0)->(0,0)
1335798884187: Dispatching Atom PROC_REQUEST 11:3 (1,0)->(0,0)
1335798884187: mux: I got a CSM packet at a leader 
1335798884188: Sending UDP payload: 989
1335798884188: forwarding disabled, not forwarding packets
1335798884199: Received UDP payload: 989
1335798884203: mux: GOT CSM_Msg
1335798884204: forwarding disabled, not forwarding packets
1335798884288: DSM Layer: Request timed out, send failure PROC_REPLY 11:3 (0,0)->(1,0)
1335798884289: Dispatching Atom PROC_REPLY 11:3 (0,0)->(1,0)
1335798884289: mux: I got a CSM packet at a leader 
1335798884292: Sending UDP payload: 989
1335798884293: Received PROC_REPLY 11:3 (0,0)->(1,0), handing to UserApp
1335798884294: DSM layer timed out, don't log dsm layer latency stuff.
1335798884294: Received UDP payload: 989
1335798884294: inside handleDSMReply. Now back in originator leader of region 1
1335798884301: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798884301: change leader replyCounter to: 22
1335798884302: inside sendReplies of replyCount = 500100022
1335798884302: reply packet contains the newest photo/success info from the remote region
1335798884303: === Finished one round of sending REPLY Packet =======
1335798884303: =======================
1335798884303: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798884303: Leader about to send REPLY packet, number: 500100022 type: 15 Leader in region: (1,0) to Client nodID: 5001
1335798884303: forwarding disabled, not forwarding packets
1335798884303: inside sendReplyRepeatingRunnable for replyCount = 500100022
1335798884303: mux: GOT CSM_Msg
1335798884310: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798884311: Inside _enableButtons
1335798884311: areButtonsEnabled --> true
1335798884311: disabling progressdialog due to successful new photo get
1335798884312: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001026 Client in region: (1,0) Client nodID: 5001
1335798884312: I'm a leader client, my final_leg packet going to mux directly
1335798884312: inside finalLegAck: change requestCounter to 26
1335798884312: send final leg ack regardless of new or already-processed reply
1335798884313: inside handleClientRequest. Originator leader of region 1
1335798884313: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798884313: mux: Inside mux Packet.CLIENT_REQUEST
1335798884313: new client_show_remotephoto reply with replyCounter 500100022
1335798884313: note down new reply by adding replyCounter=500100022 to HashMap processedReplies
1335798884314: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100022
1335798884314: Yay the last leg succeeded. Removing reply runnables ...
1335798884314: got new request, requestCounter = 5001026
1335798884315: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100022
1335798884315: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100022
1335798884315: do not send ack for received final_leg_ack
1335798884316: leader download remote photo latency = 2126
1335798884317: = leader download start 1335798882184 ~ stop 1335798884310
1335798884319: Can't get remote photo, because DSM Layer on originator leader timed out
1335798884324: one more getBad: 3
1335798884326: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=4 getBad=3 getTimedout=0 getPercent=57%
1335798884327: getBad++
1335798884394: Received UDP payload: 989
1335798884398: forwarding disabled, not forwarding packets
1335798884398: mux: GOT CSM_Msg
1335798884495: Received UDP payload: 989
1335798884497: forwarding disabled, not forwarding packets
1335798884497: mux: GOT CSM_Msg
1335798884596: Received UDP payload: 989
1335798884599: forwarding disabled, not forwarding packets
1335798884599: mux: GOT CSM_Msg
1335798884698: Received UDP payload: 989
1335798884709: forwarding disabled, not forwarding packets
1335798884709: mux: GOT CSM_Msg
1335798884804: Received UDP payload: 989
1335798884811: mux: GOT CSM_Msg
1335798884812: forwarding disabled, not forwarding packets
1335798884910: Received UDP payload: 989
1335798884912: forwarding disabled, not forwarding packets
1335798884912: mux: GOT CSM_Msg
1335798884916: Received UDP payload: 642
1335798884917: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798884917: mux: Inside Packet.SERVER_REPLY
1335798884939: Received UDP payload: 446
1335798884940: mux: Inside mux Packet.CLIENT_REQUEST
1335798885621: Received UDP payload: 5319
1335798885626: mux: Inside mux Packet.CLIENT_REQUEST
1335798885695: Received UDP payload: 7037
1335798885706: forwarding disabled, not forwarding packets
1335798885706: mux: GOT CSM_Msg
1335798885823: Received UDP payload: 625
1335798885828: inside handleClientRequest. Originator leader of region 1
1335798885828: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798885828: mux: Inside mux Packet.CLIENT_REQUEST
1335798885829: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798885829: got new request, requestCounter = 5006081
1335798885831: Sending to region: 3
1335798885832: Sending PROC_REQUEST 11:4 (1,0)->(3,0)
1335798885833: Dispatching Atom PROC_REQUEST 11:4 (1,0)->(3,0)
1335798885834: Make FirstLeg Ack regardless of new or already-processed requests
1335798885834: Note down new request by adding requestCounter=5006081 to HashMap processedRequests
1335798885835: The leader sending a First Leg ack to originator client (which id = 5006)
1335798885835: inside sendPacket(Packet p)
1335798885836: mux: I got a CSM packet at a leader 
1335798885847: Sending UDP payload: 989
1335798885848: forwarding disabled, not forwarding packets
1335798885850: Sending UDP payload: 446
1335798886094: Received UDP payload: 6715
1335798886106: mux: GOT CSM_Msg
1335798886107: Received PROC_REPLY 11:4 (3,0)->(1,0), handing to UserApp
1335798886108: DSM layer: Going to and from remote region took latency = 276
1335798886108: DSM layer: orig leader sent packet at 1335798885831 ~ received reply from remote leader at 1335798886107
1335798886108: inside handleDSMReply. Now back in originator leader of region 1
1335798886110: Originator Region=1's Leader (for Client=5005) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798886111: change leader replyCounter to: 23
1335798886111: inside sendReplies of replyCount = 500100023
1335798886111: reply packet contains the newest photo/success info from the remote region
1335798886112: =======================
1335798886112: inside sendReplyRepeatingRunnable for replyCount = 500100023
1335798886113: I (the leader) was not the originator client (which id = 5005) so I use UDP to send packet back to my nonleader
1335798886113: Leader about to send REPLY packet, number: 500100023 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335798886113: inside sendPacket(Packet p)
1335798886114: === Finished one round of sending REPLY Packet =======
1335798886125: Sending UDP payload: 6368
1335798886414: =======================
1335798886414: I (the leader) was not the originator client (which id = 5005) so I use UDP to send packet back to my nonleader
1335798886414: Leader about to send REPLY packet, number: 500100023 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335798886414: inside sendReplyRepeatingRunnable for replyCount = 500100023
1335798886415: === Finished one round of sending REPLY Packet =======
1335798886415: inside sendPacket(Packet p)
1335798886416: Sending UDP payload: 6368
1335798886426: Received UDP payload: 625
1335798886428: Make FirstLeg Ack regardless of new or already-processed requests
1335798886428: Note down new request by adding requestCounter=5006081 to HashMap processedRequests
1335798886428: The leader sending a First Leg ack to originator client (which id = 5006)
1335798886428: discarding repeated requestCounter=5006081, but still send an ack back
1335798886428: inside handleClientRequest. Originator leader of region 1
1335798886428: inside sendPacket(Packet p)
1335798886428: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798886428: mux: Inside mux Packet.CLIENT_REQUEST
1335798886429: Sending UDP payload: 446
1335798886715: =======================
1335798886715: I (the leader) was not the originator client (which id = 5005) so I use UDP to send packet back to my nonleader
1335798886715: Leader about to send REPLY packet, number: 500100023 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335798886715: inside sendPacket(Packet p)
1335798886715: inside sendReplyRepeatingRunnable for replyCount = 500100023
1335798886716: === Finished one round of sending REPLY Packet =======
1335798886717: Sending UDP payload: 6368
1335798886747: Received UDP payload: 625
1335798886751: mux: Inside mux Packet.CLIENT_REQUEST
1335798886752: inside handleClientRequest. Originator leader of region 1
1335798886752: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798886753: Make FirstLeg Ack regardless of new or already-processed requests
1335798886753: Note down new request by adding requestCounter=5006081 to HashMap processedRequests
1335798886753: discarding repeated requestCounter=5006081, but still send an ack back
1335798886754: The leader sending a First Leg ack to originator client (which id = 5006)
1335798886754: inside sendPacket(Packet p)
1335798886757: Sending UDP payload: 446
1335798887016: =======================
1335798887016: inside sendReplyRepeatingRunnable for replyCount = 500100023
1335798887017: === Finished one round of sending REPLY Packet =======
1335798887017: I (the leader) was not the originator client (which id = 5005) so I use UDP to send packet back to my nonleader
1335798887017: Leader about to send REPLY packet, number: 500100023 type: 15 Leader in region: (1,0) to Client nodID: 5005
1335798887017: inside sendPacket(Packet p)
1335798887019: Sending UDP payload: 6368
1335798887114: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100023
1335798887114: inside sendReplyTimeoutR
1335798887149: inside sendPacket(Packet p)
1335798887151: Sending UDP payload: 446
1335798887352: Received UDP payload: 7037
1335798887356: forwarding disabled, not forwarding packets
1335798887356: mux: GOT CSM_Msg
1335798887400: Received UDP payload: 989
1335798887402: forwarding disabled, not forwarding packets
1335798887402: mux: GOT CSM_Msg
1335798887592: areButtonsEnabled --> false
1335798887592: canPressButton = TRUE
1335798887592: disabling buttons ...
1335798887593: areButtonsEnabled --> false
1335798887593: took picture disableButtonsR
1335798887615: one more takeNum: 7
1335798887616: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=6 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=7 getGood=4 getBad=3 getTimedout=0 getPercent=57%
1335798887617: Clicked take picture button ..
1335798887768: Received UDP payload: 625
1335798887770: mux: Inside mux Packet.CLIENT_REQUEST
1335798887814: Received UDP payload: 989
1335798887816: forwarding disabled, not forwarding packets
1335798887816: mux: GOT CSM_Msg
1335798887829: Received UDP payload: 446
1335798887835: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798887835: mux: Inside Packet.SERVER_REPLY
1335798887924: Received UDP payload: 5415
1335798887927: forwarding disabled, not forwarding packets
1335798887927: mux: GOT CSM_Msg
1335798888024: Received UDP payload: 5068
1335798888026: mux: Inside Packet.SERVER_REPLY
1335798888027: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798888219: Received UDP payload: 625
1335798888220: mux: Inside mux Packet.CLIENT_REQUEST
1335798888231: Received UDP payload: 5068
1335798888234: mux: Inside Packet.SERVER_REPLY
1335798888235: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798888523: Received UDP payload: 625
1335798888526: mux: Inside mux Packet.CLIENT_REQUEST
1335798888543: Received UDP payload: 446
1335798888546: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798888546: mux: Inside Packet.SERVER_REPLY
1335798888603: Received UDP payload: 446
1335798888608: Received UDP payload: 446
1335798888610: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798888610: mux: Inside Packet.SERVER_REPLY
1335798888818: Received UDP payload: 5068
1335798888820: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798888820: mux: Inside Packet.SERVER_REPLY
1335798888840: Received UDP payload: 446
1335798888842: mux: Inside mux Packet.CLIENT_REQUEST
1335798888981: Received UDP payload: 989
1335798888981: inside HandlePictureStorage onPictureTaken()
1335798888981: one more takeCamGood: 7
1335798888982: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=7 getGood=4 getBad=3 getTimedout=0 getPercent=57%
1335798888985: forwarding disabled, not forwarding packets
1335798888985: mux: GOT CSM_Msg
1335798889185: Received UDP payload: 5246
1335798889187: forwarding disabled, not forwarding packets
1335798889187: mux: GOT CSM_Msg
1335798889240: Picture successfully taken, ORIG BYTE LENGTH = 2964510
1335798889444: Received UDP payload: 625
1335798889446: mux: Inside mux Packet.CLIENT_REQUEST
1335798889489: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798889489: Our new height x width: 306 x 408
1335798889489: Show photo from handle my camera take
1335798889490: change local requestCounter to 27
1335798889504: BYTE SIZE AFTER COMPRESSION: 6037
1335798889505: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001027 Client in region: 1 Client nodID: 5001
1335798889535: ----------------------------
1335798889536: I'm a leader, my requesting photos packet going to mux directly
1335798889536: inside handleClientRequest. Originator leader of region 1
1335798889536: inside sendRequestPacketRepeatingRunnable for requestCount = 5001027
1335798889536: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798889536: mux: Inside mux Packet.CLIENT_REQUEST
1335798889537: Dispatching Atom PROC_REQUEST 10:10 (1,0)->(1,0)
1335798889537: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798889537: Note down new request by adding requestCounter=5001027 to HashMap processedRequests
1335798889537: Sending PROC_REQUEST 10:10 (1,0)->(1,0)
1335798889537: got new request, requestCounter = 5001027
1335798889538: Make FirstLeg Ack regardless of new or already-processed requests
1335798889538: mux: I got a CSM packet at a leader 
1335798889538: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798889540: Sending UDP payload: 7048
1335798889542: inside handleDSMRequest. At requests's remote leader of region 1
1335798889542: removed replies before id 10 from sentReplies of size 1
1335798889543: Inside UPLOAD_PHOTO!!
1335798889544: my_gpinfo.isSuccess is now (should be true): true
1335798889545: --- Finished one round of sending REQUEST Packet ---------
1335798889545: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798889551: Dispatching Atom PROC_REPLY 10:10 (1,0)->(1,0)
1335798889551: Received PROC_REQUEST 10:10 (1,0)->(1,0), replying PROC_REPLY 10:10 (1,0)->(1,0)
1335798889551: mux: I got a CSM packet at a leader 
1335798889553: Sending UDP payload: 989
1335798889554: Received PROC_REPLY 10:10 (1,0)->(1,0), handing to UserApp
1335798889555: inside handleDSMReply. Now back in originator leader of region 1
1335798889565: DSM layer: Going to and from remote region took latency = 18
1335798889565: DSM layer: orig leader sent packet at 1335798889537 ~ received reply from remote leader at 1335798889555
1335798889565: Originator Region=1's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798889566: === Finished one round of sending REPLY Packet =======
1335798889566: =======================
1335798889566: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798889566: Leader about to send REPLY packet, number: 500100024 type: 16 Leader in region: (1,0) to Client nodID: 5001
1335798889566: change leader replyCounter to: 24
1335798889566: inside sendReplies of replyCount = 500100024
1335798889566: inside sendReplyRepeatingRunnable for replyCount = 500100024
1335798889566: reply packet contains the success info for UPLOAD_PHOTO
1335798889570: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798889571: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798889572: I'm a leader and I successfully saved my client's new photo
1335798889572: now showing in UI the new photo I just saved ... 
1335798889572: the photo length: 6037
1335798889615: end of server show photo aside %%%%%%%%%
1335798889617: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798889618: Inside _enableButtons
1335798889618: areButtonsEnabled --> true
1335798889618: disabling progressdialog due to successful new photo upload
1335798889618: inside finalLegAck: change requestCounter to 28
1335798889618: send final leg ack regardless of new or already-processed reply
1335798889619: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001028 Client in region: (1,0) Client nodID: 5001
1335798889619: I'm a leader client, my final_leg packet going to mux directly
1335798889619: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798889619: mux: Inside mux Packet.CLIENT_REQUEST
1335798889620: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100024
1335798889620: Yay the last leg succeeded. Removing reply runnables ...
1335798889620: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100024
1335798889620: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100024
1335798889620: do not send ack for received final_leg_ack
1335798889620: got new request, requestCounter = 5001028
1335798889620: inside handleClientRequest. Originator leader of region 1
1335798889621: leader upload new photo latency = 81
1335798889621: new client_upload_photo_ack reply with replyCounter 500100024
1335798889621: note down new reply by adding replyCounter=500100024 to HashMap processedReplies
1335798889622: = leader upload start 1335798889536 ~ stop 1335798889617
1335798889622: one more takeGoodSave: 7
1335798889623: SUCCESS Client now knows saving photo on its leader succeeded
1335798889623: reg=1 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=4 getBad=3 getTimedout=0 getPercent=57%
1335798889878: Received UDP payload: 5246
1335798889880: mux: GOT CSM_Msg
1335798889881: forwarding disabled, not forwarding packets
1335798890467: Received UDP payload: 625
1335798890470: mux: Inside mux Packet.CLIENT_REQUEST
1335798890527: Received UDP payload: 989
1335798890533: Received UDP payload: 446
1335798890533: forwarding disabled, not forwarding packets
1335798890533: mux: GOT CSM_Msg
1335798890536: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798890536: mux: Inside Packet.SERVER_REPLY
1335798890606: Received UDP payload: 5246
1335798890610: forwarding disabled, not forwarding packets
1335798890610: mux: GOT CSM_Msg
1335798891095: Received UDP payload: 5246
1335798891104: forwarding disabled, not forwarding packets
1335798891104: mux: GOT CSM_Msg
1335798891329: Received UDP payload: 989
1335798891336: forwarding disabled, not forwarding packets
1335798891336: mux: GOT CSM_Msg
1335798891424: Received UDP payload: 989
1335798891431: mux: GOT CSM_Msg
1335798891432: forwarding disabled, not forwarding packets
1335798891475: Received UDP payload: 989
1335798891481: mux: GOT CSM_Msg
1335798891482: forwarding disabled, not forwarding packets
1335798891662: Received UDP payload: 989
1335798891665: forwarding disabled, not forwarding packets
1335798891665: mux: GOT CSM_Msg
1335798891676: Received UDP payload: 989
1335798891679: forwarding disabled, not forwarding packets
1335798891679: mux: GOT CSM_Msg
1335798891776: Received UDP payload: 5415
1335798891778: forwarding disabled, not forwarding packets
1335798891778: mux: GOT CSM_Msg
1335798891807: Received UDP payload: 989
1335798891810: forwarding disabled, not forwarding packets
1335798891810: mux: GOT CSM_Msg
1335798891907: Received UDP payload: 989
1335798891910: forwarding disabled, not forwarding packets
1335798891910: mux: GOT CSM_Msg
1335798891944: Received UDP payload: 446
1335798892013: Received UDP payload: 989
1335798892016: forwarding disabled, not forwarding packets
1335798892016: mux: GOT CSM_Msg
1335798892101: Received UDP payload: 989
1335798892105: forwarding disabled, not forwarding packets
1335798892105: mux: GOT CSM_Msg
1335798892149: inside sendPacket(Packet p)
1335798892151: Sending UDP payload: 446
1335798892281: Received UDP payload: 989
1335798892289: mux: GOT CSM_Msg
1335798892290: forwarding disabled, not forwarding packets
1335798892350: Received UDP payload: 989
1335798892357: mux: GOT CSM_Msg
1335798892358: forwarding disabled, not forwarding packets
1335798892538: Received UDP payload: 989
1335798892544: mux: GOT CSM_Msg
1335798892545: forwarding disabled, not forwarding packets
1335798892687: Received UDP payload: 989
1335798892694: forwarding disabled, not forwarding packets
1335798892694: mux: GOT CSM_Msg
1335798892719: Received UDP payload: 642
1335798892727: mux: Inside Packet.SERVER_REPLY
1335798892728: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798892922: Received UDP payload: 642
1335798892924: mux: Inside Packet.SERVER_REPLY
1335798892925: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798892942: Received UDP payload: 625
1335798892944: mux: Inside mux Packet.CLIENT_REQUEST
1335798893197: Received UDP payload: 5683
1335798893202: mux: GOT CSM_Msg
1335798893203: forwarding disabled, not forwarding packets
1335798893233: Received UDP payload: 642
1335798893237: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798893237: mux: Inside Packet.SERVER_REPLY
1335798893255: Received UDP payload: 446
1335798893258: mux: Inside mux Packet.CLIENT_REQUEST
1335798893288: Received UDP payload: 446
1335798893290: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798893290: mux: Inside Packet.SERVER_REPLY
1335798893304: Received UDP payload: 989
1335798893312: mux: GOT CSM_Msg
1335798893313: forwarding disabled, not forwarding packets
1335798893330: Received UDP payload: 642
1335798893342: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798893342: mux: Inside Packet.SERVER_REPLY
1335798893353: Received UDP payload: 642
1335798893355: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798893355: mux: Inside Packet.SERVER_REPLY
1335798893366: Received UDP payload: 642
1335798893368: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798893368: mux: Inside Packet.SERVER_REPLY
1335798893373: Received UDP payload: 446
1335798893374: mux: Inside mux Packet.CLIENT_REQUEST
1335798893383: Received UDP payload: 446
1335798893385: mux: Inside mux Packet.CLIENT_REQUEST
1335798893399: Received UDP payload: 642
1335798893401: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798893401: mux: Inside Packet.SERVER_REPLY
1335798893419: Received UDP payload: 446
1335798893442: Received UDP payload: 446
1335798893444: mux: Inside mux Packet.CLIENT_REQUEST
1335798893448: Received UDP payload: 446
1335798893449: mux: Inside mux Packet.CLIENT_REQUEST
1335798893495: Received UDP payload: 5246
1335798893497: mux: GOT CSM_Msg
1335798893498: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(1,0)
1335798893606: Received UDP payload: 446
1335798893677: Received UDP payload: 5246
1335798893679: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(1,0)
1335798893679: mux: GOT CSM_Msg
1335798893909: Received UDP payload: 5246
1335798893913: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(1,0)
1335798893913: mux: GOT CSM_Msg
1335798894182: Received UDP payload: 5683
1335798894187: forwarding disabled, not forwarding packets
1335798894187: mux: GOT CSM_Msg
1335798894306: Received UDP payload: 5683
1335798894310: forwarding disabled, not forwarding packets
1335798894310: mux: GOT CSM_Msg
1335798895017: Received UDP payload: 5683
1335798895025: forwarding disabled, not forwarding packets
1335798895025: mux: GOT CSM_Msg
1335798895035: Received UDP payload: 625
1335798895039: mux: Inside mux Packet.CLIENT_REQUEST
1335798895095: Received UDP payload: 989
1335798895103: mux: GOT CSM_Msg
1335798895104: removed replies before id 12 from sentReplies of size 0
1335798895105: inside handleDSMRequest. At requests's remote leader of region 1
1335798895108: INSIDE SERVER_GET_PHOTO!!!
1335798895110: Dispatching Atom PROC_REPLY 11:12 (1,0)->(3,0)
1335798895110: Received PROC_REQUEST 11:12 (3,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(3,0)
1335798895110: mux: I got a CSM packet at a leader 
1335798895111: Sending UDP payload: 7048
1335798895112: forwarding disabled, not forwarding packets
1335798895137: Received UDP payload: 5683
1335798895139: forwarding disabled, not forwarding packets
1335798895139: mux: GOT CSM_Msg
1335798895312: Received UDP payload: 446
1335798895313: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798895313: mux: Inside Packet.SERVER_REPLY
1335798895329: Received UDP payload: 5683
1335798895332: forwarding disabled, not forwarding packets
1335798895332: mux: GOT CSM_Msg
1335798895343: Received UDP payload: 463
1335798895349: Received UDP payload: 446
1335798895370: Received UDP payload: 446
1335798895376: Received UDP payload: 446
1335798895842: Received UDP payload: 989
1335798895851: mux: GOT CSM_Msg
1335798895852: removed replies before id 12 from sentReplies of size 1
1335798895853: Received DUPLICATE PROC_REQUEST 11:12 (3,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(3,0)
1335798895854: Dispatching Atom PROC_REPLY 11:12 (1,0)->(3,0)
1335798895855: mux: I got a CSM packet at a leader 
1335798895866: Sending UDP payload: 7048
1335798895878: forwarding disabled, not forwarding packets
1335798896000: Received UDP payload: 989
1335798896003: mux: GOT CSM_Msg
1335798896004: removed replies before id 12 from sentReplies of size 1
1335798896005: Dispatching Atom PROC_REPLY 11:12 (1,0)->(3,0)
1335798896005: Received DUPLICATE PROC_REQUEST 11:12 (3,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(3,0)
1335798896006: mux: I got a CSM packet at a leader 
1335798896008: Sending UDP payload: 7048
1335798896010: forwarding disabled, not forwarding packets
1335798896041: Received UDP payload: 989
1335798896045: mux: GOT CSM_Msg
1335798896046: removed replies before id 12 from sentReplies of size 1
1335798896047: Dispatching Atom PROC_REPLY 11:12 (1,0)->(3,0)
1335798896047: Received DUPLICATE PROC_REQUEST 11:12 (3,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(3,0)
1335798896047: mux: I got a CSM packet at a leader 
1335798896049: Sending UDP payload: 7048
1335798896052: forwarding disabled, not forwarding packets
1335798896161: Received UDP payload: 989
1335798896164: mux: GOT CSM_Msg
1335798896165: removed replies before id 12 from sentReplies of size 1
1335798896166: Dispatching Atom PROC_REPLY 11:12 (1,0)->(3,0)
1335798896166: Received DUPLICATE PROC_REQUEST 11:12 (3,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(3,0)
1335798896167: mux: I got a CSM packet at a leader 
1335798896169: Sending UDP payload: 7048
1335798896171: forwarding disabled, not forwarding packets
1335798896253: Received UDP payload: 989
1335798896257: mux: GOT CSM_Msg
1335798896257: removed replies before id 12 from sentReplies of size 1
1335798896258: Received DUPLICATE PROC_REQUEST 11:12 (3,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(3,0)
1335798896259: Dispatching Atom PROC_REPLY 11:12 (1,0)->(3,0)
1335798896259: mux: I got a CSM packet at a leader 
1335798896261: Sending UDP payload: 7048
1335798896262: forwarding disabled, not forwarding packets
1335798896430: Received UDP payload: 446
1335798897064: Received UDP payload: 989
1335798897068: mux: GOT CSM_Msg
1335798897068: removed replies before id 12 from sentReplies of size 1
1335798897069: Dispatching Atom PROC_REPLY 11:12 (1,0)->(3,0)
1335798897069: Received DUPLICATE PROC_REQUEST 11:12 (3,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(3,0)
1335798897069: mux: I got a CSM packet at a leader 
1335798897071: Sending UDP payload: 7048
1335798897084: forwarding disabled, not forwarding packets
1335798897121: Received UDP payload: 989
1335798897128: Dispatching Atom PROC_REPLY 11:12 (1,0)->(3,0)
1335798897128: Received DUPLICATE PROC_REQUEST 11:12 (3,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(3,0)
1335798897128: mux: GOT CSM_Msg
1335798897128: removed replies before id 12 from sentReplies of size 1
1335798897129: mux: I got a CSM packet at a leader 
1335798897130: Sending UDP payload: 7048
1335798897132: forwarding disabled, not forwarding packets
1335798897149: inside sendPacket(Packet p)
1335798897150: Sending UDP payload: 446
1335798897160: Received UDP payload: 989
1335798897162: mux: GOT CSM_Msg
1335798897163: Dispatching Atom PROC_REPLY 11:12 (1,0)->(3,0)
1335798897163: Received DUPLICATE PROC_REQUEST 11:12 (3,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(3,0)
1335798897163: removed replies before id 12 from sentReplies of size 1
1335798897164: mux: I got a CSM packet at a leader 
1335798897165: Sending UDP payload: 7048
1335798897166: forwarding disabled, not forwarding packets
1335798897175: Received UDP payload: 989
1335798897178: mux: GOT CSM_Msg
1335798897178: removed replies before id 12 from sentReplies of size 1
1335798897179: Dispatching Atom PROC_REPLY 11:12 (1,0)->(3,0)
1335798897179: Received DUPLICATE PROC_REQUEST 11:12 (3,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(3,0)
1335798897179: mux: I got a CSM packet at a leader 
1335798897180: Sending UDP payload: 7048
1335798897195: Received UDP payload: 989
1335798897195: forwarding disabled, not forwarding packets
1335798897202: mux: GOT CSM_Msg
1335798897202: removed replies before id 12 from sentReplies of size 1
1335798897203: Dispatching Atom PROC_REPLY 11:12 (1,0)->(3,0)
1335798897203: Received DUPLICATE PROC_REQUEST 11:12 (3,0)->(1,0), replying PROC_REPLY 11:12 (1,0)->(3,0)
1335798897203: mux: I got a CSM packet at a leader 
1335798897204: Sending UDP payload: 7048
1335798897205: forwarding disabled, not forwarding packets
1335798897225: Received UDP payload: 989
1335798897227: forwarding disabled, not forwarding packets
1335798897227: mux: GOT CSM_Msg
1335798897260: Received UDP payload: 642
1335798897261: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798897261: mux: Inside Packet.SERVER_REPLY
1335798897268: Received UDP payload: 446
1335798897285: mux: Inside mux Packet.CLIENT_REQUEST
1335798897517: Received UDP payload: 446
1335798897561: Received UDP payload: 446
1335798899234: Received UDP payload: 989
1335798899242: forwarding disabled, not forwarding packets
1335798899242: mux: GOT CSM_Msg
1335798899355: Received UDP payload: 989
1335798899370: mux: GOT CSM_Msg
1335798899371: Received UDP payload: 446
1335798899371: forwarding disabled, not forwarding packets
1335798899376: Received UDP payload: 989
1335798899384: forwarding disabled, not forwarding packets
1335798899384: mux: GOT CSM_Msg
1335798899385: Received UDP payload: 989
1335798899392: mux: GOT CSM_Msg
1335798899393: forwarding disabled, not forwarding packets
1335798899394: Received UDP payload: 989
1335798899401: mux: GOT CSM_Msg
1335798899402: forwarding disabled, not forwarding packets
1335798899440: Received UDP payload: 989
1335798899447: mux: GOT CSM_Msg
1335798899448: forwarding disabled, not forwarding packets
1335798899617: Received UDP payload: 989
1335798899624: mux: GOT CSM_Msg
1335798899625: forwarding disabled, not forwarding packets
1335798899725: Received UDP payload: 989
1335798899732: forwarding disabled, not forwarding packets
1335798899732: mux: GOT CSM_Msg
1335798899827: Received UDP payload: 989
1335798899833: mux: GOT CSM_Msg
1335798899834: forwarding disabled, not forwarding packets
1335798899925: Received UDP payload: 989
1335798899931: mux: GOT CSM_Msg
1335798899932: forwarding disabled, not forwarding packets
1335798901216: Received UDP payload: 446
1335798901222: heard LEADER_REQUEST from node 5006, responding LEADER_REPLY
1335798901342: inside sendPacket(Packet p)
1335798901355: Sending UDP payload: 54683
1335798901560: moving from region (1,0), to (2,0)
1335798901561: ..... VCoreDaemon.java targetState = HANDING_OFF
1335798901561: HANDING OFF setting leaderRegion = (1,0)
1335798901561: Trying to hand off leadership
1335798901561: VCoreDaemon.java inside stateTransition ..........
1335798901561: change state to HANDING_OFF with parameter my previous/old region = (1,0) before helping to elect new leader in it. (btw, newRegion (2,0))
1335798901561: removing leaderRequestRetryR because I'm doing a stateTransition
1335798901562: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335798901562: broadcasting LEADER_ELECT to old (1,0)
1335798901562: inside sendPacket(Packet p)
1335798901563: Sending UDP payload: 463
1335798902016: Received UDP payload: 446
1335798902021: Received UDP payload: 446
1335798902150: inside sendPacket(Packet p)
1335798902152: Sending UDP payload: 446
1335798902552: Received UDP payload: 446
1335798902563: INSIDE ELECT CANDIDATE
1335798902564: CANDIDATE SIZE is 0
1335798902564: DSMLayer stopped
1335798902564: UserApp stopped.
1335798902575: serializing DSMLayer to JSON
1335798903755: Received UDP payload: 446
1335798904475: Received UDP payload: 989
1335798904477: mux: GOT CSM_Msg
1335798904564: Received UDP payload: 446
1335798904863: Received UDP payload: 625
1335798904864: mux: Inside mux Packet.CLIENT_REQUEST
1335798904903: Received UDP payload: 625
1335798904905: mux: Inside mux Packet.CLIENT_REQUEST
1335798905044: Received UDP payload: 446
1335798905048: Received UDP payload: 446
1335798905060: Received UDP payload: 446
1335798905184: Received UDP payload: 989
1335798905189: mux: GOT CSM_Msg
1335798905286: Received UDP payload: 989
1335798905291: mux: GOT CSM_Msg
1335798905419: Received UDP payload: 989
1335798905425: mux: GOT CSM_Msg
1335798905524: Received UDP payload: 5415
1335798905527: mux: GOT CSM_Msg
1335798905560: Received UDP payload: 989
1335798905563: mux: GOT CSM_Msg
1335798905629: Error releasing leadership. Retrying...
1335798905881: old region empty, uploaded state to cloud in 3296ms as json 111672 bytes
1335798905895: VCoreDaemon.java inside stateTransition ..........
1335798905896: ..... VCoreDaemon.java targetState = JOINING (2,0)
1335798905896: removing leaderRequestRetryR because I'm doing a stateTransition
1335798905897: posting leaderRequestRetryR because I'm joining
1335798905898: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335798905899: sending LEADER_REQUEST
1335798905900: inside sendPacket(Packet p)
1335798905902: Sending UDP payload: 446
1335798905903: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335798906205: sending LEADER_REQUEST
1335798906206: inside sendPacket(Packet p)
1335798906206: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335798906209: Sending UDP payload: 446
1335798906404: Received UDP payload: 7037
1335798906411: mux: GOT CSM_Msg
1335798906415: Received UDP payload: 989
1335798906439: mux: GOT CSM_Msg
1335798906507: inside sendPacket(Packet p)
1335798906507: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335798906507: sending LEADER_REQUEST
1335798906508: Sending UDP payload: 446
1335798906573: Received UDP payload: 989
1335798906575: mux: GOT CSM_Msg
1335798906611: Received UDP payload: 989
1335798906614: mux: GOT CSM_Msg
1335798906629: Received UDP payload: 989
1335798906631: mux: GOT CSM_Msg
1335798906669: Received UDP payload: 989
1335798906672: mux: GOT CSM_Msg
1335798906693: Received UDP payload: 989
1335798906696: mux: GOT CSM_Msg
1335798906730: Received UDP payload: 446
1335798906807: inside sendPacket(Packet p)
1335798906807: sending LEADER_REQUEST
1335798906808: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335798906809: Sending UDP payload: 446
1335798906897: VCoreDaemon.java inside stateTransition ..........
1335798906897: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335798906897: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335798906897: removing leaderRequestRetryR because I'm doing a stateTransition
1335798906898: ..... VCoreDaemon.java targetState = LEADER
1335798906898: trying to take leadership (2,0) to the cloud
1335798907517: Received UDP payload: 989
1335798907523: mux: GOT CSM_Msg
1335798907784: Received UDP payload: 989
1335798907795: mux: GOT CSM_Msg
1335798907848: cloud accepted leadership request, returned csm bytes size 84374
1335798907849: ..... VCoreDaemon.java targetState = LEADER and csm is not null --> csm.stop()
1335798907849: DSMLayer stopped
1335798907855: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1335798907856: *** CSM Layer starting with cache disabled ***
1335798907856: *** CSM Layer starting with forwarding disabled ***
1335798907856: *** Starting CSM Layer ***
1335798907863: Received UDP payload: 7037
1335798907873: mux: GOT CSM_Msg
1335798908099: Received UDP payload: 989
1335798908108: mux: GOT CSM_Msg
1335798908135: Received UDP payload: 989
1335798908138: mux: GOT CSM_Msg
1335798908323: Received UDP payload: 446
1335798908339: Received UDP payload: 446
1335798908457: Received UDP payload: 446
1335798908463: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798908463: mux: Inside Packet.SERVER_REPLY
1335798908468: Received UDP payload: 989
1335798908471: mux: GOT CSM_Msg
1335798908489: Received UDP payload: 642
1335798908491: mux: Inside Packet.SERVER_REPLY
1335798908492: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798908542: Received UDP payload: 642
1335798908544: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798908544: mux: Inside Packet.SERVER_REPLY
1335798908591: Received UDP payload: 446
1335798908617: Received UDP payload: 989
1335798908620: mux: GOT CSM_Msg
1335798908635: Received UDP payload: 446
1335798908694: Received UDP payload: 642
1335798908696: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798908696: mux: Inside Packet.SERVER_REPLY
1335798908728: Received UDP payload: 446
1335798908730: mux: Inside mux Packet.CLIENT_REQUEST
1335798908873: Received UDP payload: 446
1335798909167: Received UDP payload: 446
1335798909323: Received UDP payload: 989
1335798909326: mux: GOT CSM_Msg
1335798909473: Received UDP payload: 5773
1335798909476: mux: GOT CSM_Msg
1335798909576: Received UDP payload: 5773
1335798909578: mux: GOT CSM_Msg
1335798910010: DSMLayer starting
1335798910020: UserApp started.
1335798910021: loaded csm data from cloud
1335798910057: inside sendPacket(Packet p)
1335798910064: Sending UDP payload: 28697
1335798910068: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335798910068: inside sendPacket(Packet p)
1335798910068: now fully up as LEADER (id=5001) of (2,0)
1335798910069: Sending UDP payload: 446
1335798910069: heard LEADER_REQUEST from node 5007, responding LEADER_REPLY
1335798910103: inside sendPacket(Packet p)
1335798910104: Sending UDP payload: 28714
1335798910115: heard LEADER_REQUEST from node 5007, responding LEADER_REPLY
1335798910142: inside sendPacket(Packet p)
1335798910143: Sending UDP payload: 28714
1335798910155: heard LEADER_REQUEST from node 5007, responding LEADER_REPLY
1335798910156: Received UDP payload: 446
1335798910240: inside sendPacket(Packet p)
1335798910246: Sending UDP payload: 28714
1335798910248: heard LEADER_REQUEST from node 5008, responding LEADER_REPLY
1335798910280: inside sendPacket(Packet p)
1335798910281: Sending UDP payload: 28714
1335798910800: Received UDP payload: 5773
1335798910805: mux: GOT CSM_Msg
1335798910806: forwarding disabled, not forwarding packets
1335798912365: Received UDP payload: 5773
1335798912372: mux: GOT CSM_Msg
1335798912373: forwarding disabled, not forwarding packets
1335798912472: Received UDP payload: 5773
1335798912479: forwarding disabled, not forwarding packets
1335798912479: mux: GOT CSM_Msg
1335798912568: Received UDP payload: 5773
1335798912575: forwarding disabled, not forwarding packets
1335798912575: mux: GOT CSM_Msg
1335798912672: Received UDP payload: 5773
1335798912680: forwarding disabled, not forwarding packets
1335798912680: mux: GOT CSM_Msg
1335798912847: Received UDP payload: 5773
1335798912850: forwarding disabled, not forwarding packets
1335798912850: mux: GOT CSM_Msg
1335798913387: Received UDP payload: 5773
1335798913394: mux: GOT CSM_Msg
1335798913395: forwarding disabled, not forwarding packets
1335798913406: Received UDP payload: 989
1335798913414: mux: GOT CSM_Msg
1335798913414: removed replies before id 3 from sentReplies of size 2
1335798913417: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(2,0), replying PROC_REPLY 11:3 (2,0)->(1,0)
1335798913418: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798913418: mux: I got a CSM packet at a leader 
1335798913422: Sending UDP payload: 5246
1335798913439: forwarding disabled, not forwarding packets
1335798913469: Received UDP payload: 989
1335798913483: mux: GOT CSM_Msg
1335798913483: removed replies before id 3 from sentReplies of size 2
1335798913485: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(2,0), replying PROC_REPLY 11:3 (2,0)->(1,0)
1335798913487: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798913487: mux: I got a CSM packet at a leader 
1335798913491: Sending UDP payload: 5246
1335798913498: forwarding disabled, not forwarding packets
1335798913529: Received UDP payload: 5773
1335798913538: mux: GOT CSM_Msg
1335798913539: forwarding disabled, not forwarding packets
1335798913593: Received UDP payload: 989
1335798913601: forwarding disabled, not forwarding packets
1335798913601: mux: GOT CSM_Msg
1335798913651: Received UDP payload: 642
1335798913657: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798913657: mux: Inside Packet.SERVER_REPLY
1335798913814: Received UDP payload: 446
1335798913870: Received UDP payload: 989
1335798913880: forwarding disabled, not forwarding packets
1335798913880: mux: GOT CSM_Msg
1335798913898: Received UDP payload: 989
1335798913907: mux: GOT CSM_Msg
1335798913908: forwarding disabled, not forwarding packets
1335798913923: Received UDP payload: 989
1335798913929: forwarding disabled, not forwarding packets
1335798913929: mux: GOT CSM_Msg
1335798913939: Received UDP payload: 5773
1335798913941: forwarding disabled, not forwarding packets
1335798913941: mux: GOT CSM_Msg
1335798913993: Received UDP payload: 642
1335798913995: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798913995: mux: Inside Packet.SERVER_REPLY
1335798914002: Received UDP payload: 989
1335798914004: forwarding disabled, not forwarding packets
1335798914004: mux: GOT CSM_Msg
1335798914031: Received UDP payload: 989
1335798914033: forwarding disabled, not forwarding packets
1335798914033: mux: GOT CSM_Msg
1335798914043: Received UDP payload: 5773
1335798914045: forwarding disabled, not forwarding packets
1335798914045: mux: GOT CSM_Msg
1335798914052: Received UDP payload: 642
1335798914053: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798914053: mux: Inside Packet.SERVER_REPLY
1335798914088: Received UDP payload: 989
1335798914090: forwarding disabled, not forwarding packets
1335798914090: mux: GOT CSM_Msg
1335798914099: Received UDP payload: 989
1335798914101: forwarding disabled, not forwarding packets
1335798914101: mux: GOT CSM_Msg
1335798914106: Received UDP payload: 642
1335798914108: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798914108: mux: Inside Packet.SERVER_REPLY
1335798914144: Received UDP payload: 989
1335798914146: forwarding disabled, not forwarding packets
1335798914146: mux: GOT CSM_Msg
1335798914240: Received UDP payload: 989
1335798914242: forwarding disabled, not forwarding packets
1335798914242: mux: GOT CSM_Msg
1335798914515: Received UDP payload: 5773
1335798914519: forwarding disabled, not forwarding packets
1335798914519: mux: GOT CSM_Msg
1335798914657: Received UDP payload: 989
1335798914660: forwarding disabled, not forwarding packets
1335798914660: mux: GOT CSM_Msg
1335798914742: Received UDP payload: 989
1335798914744: forwarding disabled, not forwarding packets
1335798914744: mux: GOT CSM_Msg
1335798914758: Received UDP payload: 446
1335798914759: mux: Inside Packet.SERVER_REPLY
1335798914760: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798914892: Received UDP payload: 446
1335798914983: areButtonsEnabled --> false
1335798914983: canPressButton = TRUE
1335798914983: disabling buttons ...
1335798914983: took picture disableButtonsR
1335798914984: areButtonsEnabled --> false
1335798915006: one more takeNum: 8
1335798915008: Clicked take picture button ..
1335798915008: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=7 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=87% getNum=7 getGood=4 getBad=3 getTimedout=0 getPercent=57%
1335798915070: inside sendPacket(Packet p)
1335798915074: Received UDP payload: 5279
1335798915076: Sending UDP payload: 446
1335798915095: forwarding disabled, not forwarding packets
1335798915095: mux: GOT CSM_Msg
1335798915602: Received UDP payload: 446
1335798915603: heard LEADER_REQUEST from node 5008, responding LEADER_REPLY
1335798915612: Received UDP payload: 446
1335798915647: inside sendPacket(Packet p)
1335798915649: Received UDP payload: 446
1335798915658: heard LEADER_REQUEST from node 5008, responding LEADER_REPLY
1335798915712: Sending UDP payload: 28714
1335798915736: inside sendPacket(Packet p)
1335798915738: Sending UDP payload: 28714
1335798915743: heard LEADER_REQUEST from node 5008, responding LEADER_REPLY
1335798915762: inside sendPacket(Packet p)
1335798915764: Sending UDP payload: 28714
1335798915826: Received UDP payload: 989
1335798915829: forwarding disabled, not forwarding packets
1335798915829: mux: GOT CSM_Msg
1335798916050: Received UDP payload: 4932
1335798916052: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798916052: mux: Inside Packet.SERVER_REPLY
1335798916259: Received UDP payload: 4932
1335798916261: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798916261: mux: Inside Packet.SERVER_REPLY
1335798916276: inside HandlePictureStorage onPictureTaken()
1335798916276: one more takeCamGood: 8
1335798916277: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=7 takeBad=0 takeTimedout=0 takePercent=87% getNum=7 getGood=4 getBad=3 getTimedout=0 getPercent=57%
1335798916541: Picture successfully taken, ORIG BYTE LENGTH = 2435175
1335798916580: Received UDP payload: 4932
1335798916583: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798916583: mux: Inside Packet.SERVER_REPLY
1335798916591: Received UDP payload: 446
1335798916595: mux: Inside mux Packet.CLIENT_REQUEST
1335798916620: Received UDP payload: 446
1335798916658: Received UDP payload: 446
1335798916901: Our new height x width: 306 x 408
1335798916902: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798916902: Show photo from handle my camera take
1335798916903: change local requestCounter to 29
1335798916946: BYTE SIZE AFTER COMPRESSION: 5470
1335798916947: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001029 Client in region: 2 Client nodID: 5001
1335798917009: ----------------------------
1335798917010: I'm a leader, my requesting photos packet going to mux directly
1335798917010: inside sendRequestPacketRepeatingRunnable for requestCount = 5001029
1335798917011: inside handleClientRequest. Originator leader of region 2
1335798917011: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798917011: mux: Inside mux Packet.CLIENT_REQUEST
1335798917012: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798917012: Sending PROC_REQUEST 10:38 (2,0)->(2,0)
1335798917012: got new request, requestCounter = 5001029
1335798917013: Dispatching Atom PROC_REQUEST 10:38 (2,0)->(2,0)
1335798917013: Make FirstLeg Ack regardless of new or already-processed requests
1335798917013: Note down new request by adding requestCounter=5001029 to HashMap processedRequests
1335798917014: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798917015: mux: I got a CSM packet at a leader 
1335798917017: Sending UDP payload: 6481
1335798917019: --- Finished one round of sending REQUEST Packet ---------
1335798917022: removed replies before id 38 from sentReplies of size 0
1335798917023: inside handleDSMRequest. At requests's remote leader of region 2
1335798917024: Inside UPLOAD_PHOTO!!
1335798917033: my_gpinfo.isSuccess is now (should be true): true
1335798917034: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798917036: Dispatching Atom PROC_REPLY 10:38 (2,0)->(2,0)
1335798917036: Received PROC_REQUEST 10:38 (2,0)->(2,0), replying PROC_REPLY 10:38 (2,0)->(2,0)
1335798917038: mux: I got a CSM packet at a leader 
1335798917047: Sending UDP payload: 989
1335798917048: Received PROC_REPLY 10:38 (2,0)->(2,0), handing to UserApp
1335798917048: inside handleDSMReply. Now back in originator leader of region 2
1335798917049: DSM layer: Going to and from remote region took latency = 36
1335798917049: DSM layer: orig leader sent packet at 1335798917012 ~ received reply from remote leader at 1335798917048
1335798917050: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798917050: change leader replyCounter to: 1
1335798917050: reply packet contains the success info for UPLOAD_PHOTO
1335798917051: =======================
1335798917051: inside sendReplies of replyCount = 500100001
1335798917051: inside sendReplyRepeatingRunnable for replyCount = 500100001
1335798917052: === Finished one round of sending REPLY Packet =======
1335798917052: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798917052: Leader about to send REPLY packet, number: 500100001 type: 16 Leader in region: (2,0) to Client nodID: 5001
1335798917067: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798917069: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798917071: I'm a leader and I successfully saved my client's new photo
1335798917072: now showing in UI the new photo I just saved ... 
1335798917072: the photo length: 5470
1335798917132: end of server show photo aside %%%%%%%%%
1335798917134: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798917134: Inside _enableButtons
1335798917134: disabling progressdialog due to successful new photo upload
1335798917135: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001030 Client in region: (2,0) Client nodID: 5001
1335798917135: areButtonsEnabled --> true
1335798917135: inside finalLegAck: change requestCounter to 30
1335798917135: send final leg ack regardless of new or already-processed reply
1335798917136: I'm a leader client, my final_leg packet going to mux directly
1335798917136: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100001
1335798917136: Yay the last leg succeeded. Removing reply runnables ...
1335798917136: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100001
1335798917136: got new request, requestCounter = 5001030
1335798917136: inside handleClientRequest. Originator leader of region 2
1335798917136: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798917136: mux: Inside mux Packet.CLIENT_REQUEST
1335798917137: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100001
1335798917137: do not send ack for received final_leg_ack
1335798917137: new client_upload_photo_ack reply with replyCounter 500100001
1335798917137: note down new reply by adding replyCounter=500100001 to HashMap processedReplies
1335798917138: = leader upload start 1335798917011 ~ stop 1335798917134
1335798917138: leader upload new photo latency = 123
1335798917138: one more takeGoodSave: 8
1335798917139: SUCCESS Client now knows saving photo on its leader succeeded
1335798917139: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=8 takeCamGood=8 takeGoodSave=8 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=4 getBad=3 getTimedout=0 getPercent=57%
1335798917199: Received UDP payload: 446
1335798917201: mux: Inside mux Packet.CLIENT_REQUEST
1335798917579: Received UDP payload: 6656
1335798917581: mux: GOT CSM_Msg
1335798917582: forwarding disabled, not forwarding packets
1335798917589: Received UDP payload: 989
1335798917592: forwarding disabled, not forwarding packets
1335798917592: mux: GOT CSM_Msg
1335798917643: Received UDP payload: 463
1335798917658: Received UDP payload: 446
1335798917659: heard LEADER_REQUEST from node 5017, responding LEADER_REPLY
1335798917676: Received UDP payload: 446
1335798917687: inside sendPacket(Packet p)
1335798917699: Sending UDP payload: 29512
1335798917701: heard LEADER_REQUEST from node 5017, responding LEADER_REPLY
1335798917734: inside sendPacket(Packet p)
1335798917745: Sending UDP payload: 29512
1335798918103: Received UDP payload: 5340
1335798918105: inside handleClientRequest. Originator leader of region 2
1335798918105: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798918105: mux: Inside mux Packet.CLIENT_REQUEST
1335798918106: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798918106: Sending PROC_REQUEST 10:39 (2,0)->(2,0)
1335798918106: got new request, requestCounter = 5017122
1335798918107: Dispatching Atom PROC_REQUEST 10:39 (2,0)->(2,0)
1335798918107: Make FirstLeg Ack regardless of new or already-processed requests
1335798918107: Note down new request by adding requestCounter=5017122 to HashMap processedRequests
1335798918107: The leader sending a First Leg ack to originator client (which id = 5017)
1335798918107: inside sendPacket(Packet p)
1335798918116: mux: I got a CSM packet at a leader 
1335798918118: Sending UDP payload: 5704
1335798918120: inside handleDSMRequest. At requests's remote leader of region 2
1335798918120: removed replies before id 39 from sentReplies of size 0
1335798918122: Inside UPLOAD_PHOTO!!
1335798918124: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798918124: my_gpinfo.isSuccess is now (should be true): true
1335798918132: Dispatching Atom PROC_REPLY 10:39 (2,0)->(2,0)
1335798918132: Received PROC_REQUEST 10:39 (2,0)->(2,0), replying PROC_REPLY 10:39 (2,0)->(2,0)
1335798918133: Sending UDP payload: 446
1335798918134: mux: I got a CSM packet at a leader 
1335798918137: Sending UDP payload: 989
1335798918140: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798918142: I'm a leader and I successfully saved my client's new photo
1335798918143: now showing in UI the new photo I just saved ... 
1335798918143: the photo length: 4693
1335798918201: DSM layer: Going to and from remote region took latency = 95
1335798918201: DSM layer: orig leader sent packet at 1335798918106 ~ received reply from remote leader at 1335798918201
1335798918201: Received PROC_REPLY 10:39 (2,0)->(2,0), handing to UserApp
1335798918201: inside handleDSMReply. Now back in originator leader of region 2
1335798918202: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798918203: change leader replyCounter to: 2
1335798918203: inside sendReplies of replyCount = 500100002
1335798918203: reply packet contains the success info for UPLOAD_PHOTO
1335798918204: =======================
1335798918204: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798918204: Leader about to send REPLY packet, number: 500100002 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798918204: inside sendReplyRepeatingRunnable for replyCount = 500100002
1335798918205: inside sendPacket(Packet p)
1335798918206: === Finished one round of sending REPLY Packet =======
1335798918209: Sending UDP payload: 642
1335798918221: end of server show photo aside %%%%%%%%%
1335798918249: Received UDP payload: 6369
1335798918250: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798918250: mux: Inside mux Packet.CLIENT_REQUEST
1335798918251: Dispatching Atom PROC_REQUEST 10:40 (2,0)->(2,0)
1335798918251: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798918251: Sending PROC_REQUEST 10:40 (2,0)->(2,0)
1335798918251: got new request, requestCounter = 5007070
1335798918251: inside handleClientRequest. Originator leader of region 2
1335798918252: Make FirstLeg Ack regardless of new or already-processed requests
1335798918252: Note down new request by adding requestCounter=5007070 to HashMap processedRequests
1335798918252: The leader sending a First Leg ack to originator client (which id = 5007)
1335798918252: inside sendPacket(Packet p)
1335798918252: mux: I got a CSM packet at a leader 
1335798918254: Sending UDP payload: 6733
1335798918254: inside handleDSMRequest. At requests's remote leader of region 2
1335798918254: removed replies before id 40 from sentReplies of size 0
1335798918255: Inside UPLOAD_PHOTO!!
1335798918256: my_gpinfo.isSuccess is now (should be true): true
1335798918257: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798918258: Dispatching Atom PROC_REPLY 10:40 (2,0)->(2,0)
1335798918258: Received PROC_REQUEST 10:40 (2,0)->(2,0), replying PROC_REPLY 10:40 (2,0)->(2,0)
1335798918259: Sending UDP payload: 446
1335798918266: Received UDP payload: 5340
1335798918268: mux: I got a CSM packet at a leader 
1335798918269: Sending UDP payload: 989
1335798918271: DSM layer: Going to and from remote region took latency = 20
1335798918271: DSM layer: orig leader sent packet at 1335798918251 ~ received reply from remote leader at 1335798918271
1335798918271: Received PROC_REPLY 10:40 (2,0)->(2,0), handing to UserApp
1335798918271: inside handleDSMReply. Now back in originator leader of region 2
1335798918272: =======================
1335798918272: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335798918272: Leader about to send REPLY packet, number: 500100003 type: 16 Leader in region: (2,0) to Client nodID: 5007
1335798918272: Originator Region=2's Leader (for Client=5007) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798918272: change leader replyCounter to: 3
1335798918272: inside sendReplies of replyCount = 500100003
1335798918272: inside sendReplyRepeatingRunnable for replyCount = 500100003
1335798918272: reply packet contains the success info for UPLOAD_PHOTO
1335798918273: === Finished one round of sending REPLY Packet =======
1335798918273: Make FirstLeg Ack regardless of new or already-processed requests
1335798918273: Note down new request by adding requestCounter=5017122 to HashMap processedRequests
1335798918273: discarding repeated requestCounter=5017122, but still send an ack back
1335798918273: inside handleClientRequest. Originator leader of region 2
1335798918273: inside sendPacket(Packet p)
1335798918273: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798918273: mux: Inside mux Packet.CLIENT_REQUEST
1335798918274: The leader sending a First Leg ack to originator client (which id = 5017)
1335798918274: inside sendPacket(Packet p)
1335798918275: Sending UDP payload: 642
1335798918276: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798918277: I'm a leader and I successfully saved my client's new photo
1335798918277: now showing in UI the new photo I just saved ... 
1335798918277: the photo length: 5722
1335798918318: Sending UDP payload: 446
1335798918325: end of server show photo aside %%%%%%%%%
1335798918506: =======================
1335798918507: === Finished one round of sending REPLY Packet =======
1335798918507: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798918507: Leader about to send REPLY packet, number: 500100002 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798918507: inside sendPacket(Packet p)
1335798918507: inside sendReplyRepeatingRunnable for replyCount = 500100002
1335798918508: Sending UDP payload: 642
1335798918573: =======================
1335798918573: inside sendReplyRepeatingRunnable for replyCount = 500100003
1335798918574: === Finished one round of sending REPLY Packet =======
1335798918574: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335798918574: Leader about to send REPLY packet, number: 500100003 type: 16 Leader in region: (2,0) to Client nodID: 5007
1335798918574: inside sendPacket(Packet p)
1335798918575: Sending UDP payload: 642
1335798918773: canPressButton = TRUE
1335798918774: areButtonsEnabled --> false
1335798918774: areButtonsEnabled --> false
1335798918774: disabling buttons ...
1335798918774: took picture disableButtonsR
1335798918800: one more takeNum: 9
1335798918803: Clicked take picture button ..
1335798918803: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=9 takeCamGood=8 takeGoodSave=8 takeBad=0 takeTimedout=0 takePercent=88% getNum=7 getGood=4 getBad=3 getTimedout=0 getPercent=57%
1335798918808: =======================
1335798918808: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798918808: Leader about to send REPLY packet, number: 500100002 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798918808: inside sendReplyRepeatingRunnable for replyCount = 500100002
1335798918809: === Finished one round of sending REPLY Packet =======
1335798918809: inside sendPacket(Packet p)
1335798918810: Sending UDP payload: 642
1335798918835: Received UDP payload: 6369
1335798918837: discarding repeated requestCounter=5007070, but still send an ack back
1335798918837: inside handleClientRequest. Originator leader of region 2
1335798918837: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798918837: mux: Inside mux Packet.CLIENT_REQUEST
1335798918838: Make FirstLeg Ack regardless of new or already-processed requests
1335798918838: Note down new request by adding requestCounter=5007070 to HashMap processedRequests
1335798918838: The leader sending a First Leg ack to originator client (which id = 5007)
1335798918838: inside sendPacket(Packet p)
1335798918839: Sending UDP payload: 446
1335798918874: =======================
1335798918880: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335798918880: Leader about to send REPLY packet, number: 500100003 type: 16 Leader in region: (2,0) to Client nodID: 5007
1335798918880: inside sendReplyRepeatingRunnable for replyCount = 500100003
1335798918881: === Finished one round of sending REPLY Packet =======
1335798918881: inside sendPacket(Packet p)
1335798918882: Sending UDP payload: 642
1335798918954: Received UDP payload: 446
1335798919109: =======================
1335798919109: inside sendReplyRepeatingRunnable for replyCount = 500100002
1335798919110: === Finished one round of sending REPLY Packet =======
1335798919110: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798919110: Leader about to send REPLY packet, number: 500100002 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798919110: inside sendPacket(Packet p)
1335798919112: Sending UDP payload: 642
1335798919140: Received UDP payload: 6369
1335798919142: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798919142: mux: Inside mux Packet.CLIENT_REQUEST
1335798919143: Make FirstLeg Ack regardless of new or already-processed requests
1335798919143: Note down new request by adding requestCounter=5007070 to HashMap processedRequests
1335798919143: The leader sending a First Leg ack to originator client (which id = 5007)
1335798919143: discarding repeated requestCounter=5007070, but still send an ack back
1335798919143: inside handleClientRequest. Originator leader of region 2
1335798919143: inside sendPacket(Packet p)
1335798919148: Sending UDP payload: 446
1335798919182: =======================
1335798919182: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335798919182: Leader about to send REPLY packet, number: 500100003 type: 16 Leader in region: (2,0) to Client nodID: 5007
1335798919182: inside sendReplyRepeatingRunnable for replyCount = 500100003
1335798919183: === Finished one round of sending REPLY Packet =======
1335798919183: inside sendPacket(Packet p)
1335798919184: Sending UDP payload: 642
1335798919205: inside sendReplyTimeoutR
1335798919206: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100002
1335798919274: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100003
1335798919274: inside sendReplyTimeoutR
1335798919529: Received UDP payload: 5947
1335798919531: mux: Inside mux Packet.CLIENT_REQUEST
1335798919623: Received UDP payload: 6311
1335798919637: forwarding disabled, not forwarding packets
1335798919637: mux: GOT CSM_Msg
1335798919657: Received UDP payload: 446
1335798919659: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798919659: mux: Inside Packet.SERVER_REPLY
1335798919671: Received UDP payload: 989
1335798919674: forwarding disabled, not forwarding packets
1335798919674: mux: GOT CSM_Msg
1335798919683: Received UDP payload: 642
1335798919684: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798919684: mux: Inside Packet.SERVER_REPLY
1335798919724: Received UDP payload: 446
1335798919725: mux: Inside mux Packet.CLIENT_REQUEST
1335798920046: inside HandlePictureStorage onPictureTaken()
1335798920046: one more takeCamGood: 9
1335798920047: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=9 takeCamGood=9 takeGoodSave=8 takeBad=0 takeTimedout=0 takePercent=88% getNum=7 getGood=4 getBad=3 getTimedout=0 getPercent=57%
1335798920071: Sending UDP payload: 446
1335798920071: inside sendPacket(Packet p)
1335798920309: Picture successfully taken, ORIG BYTE LENGTH = 2290443
1335798920482: Our new height x width: 306 x 408
1335798920482: Show photo from handle my camera take
1335798920483: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798920483: change local requestCounter to 31
1335798920497: BYTE SIZE AFTER COMPRESSION: 4892
1335798920498: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001031 Client in region: 2 Client nodID: 5001
1335798920526: ----------------------------
1335798920526: I'm a leader, my requesting photos packet going to mux directly
1335798920526: inside sendRequestPacketRepeatingRunnable for requestCount = 5001031
1335798920527: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798920527: got new request, requestCounter = 5001031
1335798920527: inside handleClientRequest. Originator leader of region 2
1335798920527: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798920527: mux: Inside mux Packet.CLIENT_REQUEST
1335798920528: Dispatching Atom PROC_REQUEST 10:41 (2,0)->(2,0)
1335798920528: Make FirstLeg Ack regardless of new or already-processed requests
1335798920528: Note down new request by adding requestCounter=5001031 to HashMap processedRequests
1335798920528: Sending PROC_REQUEST 10:41 (2,0)->(2,0)
1335798920528: mux: I got a CSM packet at a leader 
1335798920528: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798920530: Sending UDP payload: 5903
1335798920531: removed replies before id 41 from sentReplies of size 0
1335798920532: Inside UPLOAD_PHOTO!!
1335798920532: inside handleDSMRequest. At requests's remote leader of region 2
1335798920534: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798920534: my_gpinfo.isSuccess is now (should be true): true
1335798920535: --- Finished one round of sending REQUEST Packet ---------
1335798920543: Dispatching Atom PROC_REPLY 10:41 (2,0)->(2,0)
1335798920543: Received PROC_REQUEST 10:41 (2,0)->(2,0), replying PROC_REPLY 10:41 (2,0)->(2,0)
1335798920544: mux: I got a CSM packet at a leader 
1335798920545: Sending UDP payload: 989
1335798920546: DSM layer: Going to and from remote region took latency = 19
1335798920546: DSM layer: orig leader sent packet at 1335798920527 ~ received reply from remote leader at 1335798920546
1335798920546: Received PROC_REPLY 10:41 (2,0)->(2,0), handing to UserApp
1335798920546: inside handleDSMReply. Now back in originator leader of region 2
1335798920547: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798920547: change leader replyCounter to: 4
1335798920547: inside sendReplies of replyCount = 500100004
1335798920547: reply packet contains the success info for UPLOAD_PHOTO
1335798920548: === Finished one round of sending REPLY Packet =======
1335798920548: =======================
1335798920548: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798920548: Leader about to send REPLY packet, number: 500100004 type: 16 Leader in region: (2,0) to Client nodID: 5001
1335798920548: inside sendReplyRepeatingRunnable for replyCount = 500100004
1335798920559: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798920560: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798920561: I'm a leader and I successfully saved my client's new photo
1335798920561: now showing in UI the new photo I just saved ... 
1335798920561: the photo length: 4892
1335798920611: end of server show photo aside %%%%%%%%%
1335798920615: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798920615: Inside _enableButtons
1335798920615: disabling progressdialog due to successful new photo upload
1335798920616: areButtonsEnabled --> true
1335798920616: inside finalLegAck: change requestCounter to 32
1335798920616: send final leg ack regardless of new or already-processed reply
1335798920617: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001032 Client in region: (2,0) Client nodID: 5001
1335798920617: I'm a leader client, my final_leg packet going to mux directly
1335798920617: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798920617: mux: Inside mux Packet.CLIENT_REQUEST
1335798920618: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100004
1335798920618: Yay the last leg succeeded. Removing reply runnables ...
1335798920618: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100004
1335798920618: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100004
1335798920618: do not send ack for received final_leg_ack
1335798920618: got new request, requestCounter = 5001032
1335798920618: inside handleClientRequest. Originator leader of region 2
1335798920619: cupa discarding repeated replyCounter=500100004, but still sent an ack back
1335798921064: Received UDP payload: 6446
1335798921066: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798921066: got new request, requestCounter = 5008092
1335798921066: inside handleClientRequest. Originator leader of region 2
1335798921066: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798921066: mux: Inside mux Packet.CLIENT_REQUEST
1335798921067: Dispatching Atom PROC_REQUEST 10:42 (2,0)->(2,0)
1335798921067: Make FirstLeg Ack regardless of new or already-processed requests
1335798921067: Note down new request by adding requestCounter=5008092 to HashMap processedRequests
1335798921067: Sending PROC_REQUEST 10:42 (2,0)->(2,0)
1335798921067: The leader sending a First Leg ack to originator client (which id = 5008)
1335798921067: inside sendPacket(Packet p)
1335798921067: mux: I got a CSM packet at a leader 
1335798921068: Sending UDP payload: 6810
1335798921069: removed replies before id 42 from sentReplies of size 0
1335798921070: Inside UPLOAD_PHOTO!!
1335798921070: inside handleDSMRequest. At requests's remote leader of region 2
1335798921072: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798921072: my_gpinfo.isSuccess is now (should be true): true
1335798921073: Dispatching Atom PROC_REPLY 10:42 (2,0)->(2,0)
1335798921073: Received PROC_REQUEST 10:42 (2,0)->(2,0), replying PROC_REPLY 10:42 (2,0)->(2,0)
1335798921074: Sending UDP payload: 446
1335798921076: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798921077: I'm a leader and I successfully saved my client's new photo
1335798921077: now showing in UI the new photo I just saved ... 
1335798921078: the photo length: 5799
1335798921108: Received UDP payload: 989
1335798921110: mux: I got a CSM packet at a leader 
1335798921111: Sending UDP payload: 989
1335798921112: DSM layer: Going to and from remote region took latency = 46
1335798921112: DSM layer: orig leader sent packet at 1335798921066 ~ received reply from remote leader at 1335798921112
1335798921112: Received PROC_REPLY 10:42 (2,0)->(2,0), handing to UserApp
1335798921112: inside handleDSMReply. Now back in originator leader of region 2
1335798921113: Originator Region=2's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798921113: change leader replyCounter to: 5
1335798921113: inside sendReplies of replyCount = 500100005
1335798921113: reply packet contains the success info for UPLOAD_PHOTO
1335798921114: =======================
1335798921114: inside sendReplyRepeatingRunnable for replyCount = 500100005
1335798921115: === Finished one round of sending REPLY Packet =======
1335798921115: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335798921115: Leader about to send REPLY packet, number: 500100005 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335798921115: inside sendPacket(Packet p)
1335798921115: mux: GOT CSM_Msg
1335798921116: INSIDE SERVER_GET_PHOTO!!!
1335798921116: inside handleDSMRequest. At requests's remote leader of region 2
1335798921116: removed replies before id 20 from sentReplies of size 0
1335798921118: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798921118: Received PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798921120: Sending UDP payload: 642
1335798921124: mux: I got a CSM packet at a leader 
1335798921126: Sending UDP payload: 6810
1335798921127: forwarding disabled, not forwarding packets
1335798921129: end of server show photo aside %%%%%%%%%
1335798921168: Received UDP payload: 989
1335798921170: mux: GOT CSM_Msg
1335798921170: removed replies before id 20 from sentReplies of size 1
1335798921171: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798921171: Received DUPLICATE PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798921171: mux: I got a CSM packet at a leader 
1335798921172: Sending UDP payload: 6810
1335798921173: forwarding disabled, not forwarding packets
1335798921233: Received UDP payload: 989
1335798921235: mux: GOT CSM_Msg
1335798921236: Received DUPLICATE PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798921236: removed replies before id 20 from sentReplies of size 1
1335798921237: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798921237: mux: I got a CSM packet at a leader 
1335798921239: Sending UDP payload: 6810
1335798921239: forwarding disabled, not forwarding packets
1335798921415: =======================
1335798921416: === Finished one round of sending REPLY Packet =======
1335798921416: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335798921416: Leader about to send REPLY packet, number: 500100005 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335798921416: inside sendPacket(Packet p)
1335798921416: inside sendReplyRepeatingRunnable for replyCount = 500100005
1335798921417: Sending UDP payload: 642
1335798921449: Received UDP payload: 989
1335798921452: mux: GOT CSM_Msg
1335798921452: removed replies before id 20 from sentReplies of size 1
1335798921453: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798921453: Received DUPLICATE PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798921453: mux: I got a CSM packet at a leader 
1335798921458: Sending UDP payload: 6810
1335798921459: forwarding disabled, not forwarding packets
1335798921504: Received UDP payload: 625
1335798921506: mux: Inside mux Packet.CLIENT_REQUEST
1335798921550: Received UDP payload: 989
1335798921553: forwarding disabled, not forwarding packets
1335798921553: mux: GOT CSM_Msg
1335798921560: Received UDP payload: 446
1335798921562: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798921562: mux: Inside Packet.SERVER_REPLY
1335798921569: Received UDP payload: 989
1335798921571: mux: GOT CSM_Msg
1335798921572: Received DUPLICATE PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798921572: removed replies before id 20 from sentReplies of size 1
1335798921573: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798921573: mux: I got a CSM packet at a leader 
1335798921574: Sending UDP payload: 6810
1335798921575: forwarding disabled, not forwarding packets
1335798921582: Received UDP payload: 446
1335798921584: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798921584: mux: Inside Packet.SERVER_REPLY
1335798921681: Received UDP payload: 989
1335798921683: mux: GOT CSM_Msg
1335798921684: Received DUPLICATE PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798921684: removed replies before id 20 from sentReplies of size 1
1335798921685: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798921685: mux: I got a CSM packet at a leader 
1335798921686: Sending UDP payload: 6810
1335798921688: forwarding disabled, not forwarding packets
1335798921716: =======================
1335798921716: inside sendReplyRepeatingRunnable for replyCount = 500100005
1335798921717: === Finished one round of sending REPLY Packet =======
1335798921717: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335798921717: Leader about to send REPLY packet, number: 500100005 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335798921717: inside sendPacket(Packet p)
1335798921720: Sending UDP payload: 642
1335798921750: Received UDP payload: 989
1335798921752: mux: GOT CSM_Msg
1335798921752: removed replies before id 20 from sentReplies of size 1
1335798921753: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798921753: Received DUPLICATE PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798921753: mux: I got a CSM packet at a leader 
1335798921754: Sending UDP payload: 6810
1335798921755: forwarding disabled, not forwarding packets
1335798921857: Received UDP payload: 989
1335798921859: mux: GOT CSM_Msg
1335798921860: Received DUPLICATE PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798921860: removed replies before id 20 from sentReplies of size 1
1335798921861: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798921861: mux: I got a CSM packet at a leader 
1335798921862: Sending UDP payload: 6810
1335798921862: forwarding disabled, not forwarding packets
1335798921962: Received UDP payload: 989
1335798921965: mux: GOT CSM_Msg
1335798921965: removed replies before id 20 from sentReplies of size 1
1335798921966: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798921966: Received DUPLICATE PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798921966: mux: I got a CSM packet at a leader 
1335798921972: Sending UDP payload: 6810
1335798921973: forwarding disabled, not forwarding packets
1335798922017: =======================
1335798922017: Leader about to send REPLY packet, number: 500100005 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335798922017: inside sendReplyRepeatingRunnable for replyCount = 500100005
1335798922018: === Finished one round of sending REPLY Packet =======
1335798922018: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335798922018: inside sendPacket(Packet p)
1335798922019: Sending UDP payload: 642
1335798922057: Received UDP payload: 989
1335798922060: mux: GOT CSM_Msg
1335798922060: removed replies before id 20 from sentReplies of size 1
1335798922061: Received DUPLICATE PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798922062: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798922062: mux: I got a CSM packet at a leader 
1335798922064: Sending UDP payload: 6810
1335798922065: forwarding disabled, not forwarding packets
1335798922116: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100005
1335798922116: inside sendReplyTimeoutR
1335798922152: Received UDP payload: 989
1335798922157: mux: GOT CSM_Msg
1335798922158: removed replies before id 20 from sentReplies of size 1
1335798922159: Received DUPLICATE PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798922160: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798922161: mux: I got a CSM packet at a leader 
1335798922164: Sending UDP payload: 6810
1335798922165: forwarding disabled, not forwarding packets
1335798922259: Received UDP payload: 989
1335798922262: mux: GOT CSM_Msg
1335798922265: forwarding disabled, not forwarding packets
1335798922271: Received UDP payload: 989
1335798922275: mux: GOT CSM_Msg
1335798922276: Received DUPLICATE PROC_REQUEST 11:20 (3,0)->(2,0), replying PROC_REPLY 11:20 (2,0)->(3,0)
1335798922276: removed replies before id 20 from sentReplies of size 1
1335798922277: Dispatching Atom PROC_REPLY 11:20 (2,0)->(3,0)
1335798922277: mux: I got a CSM packet at a leader 
1335798922279: Sending UDP payload: 6810
1335798922280: forwarding disabled, not forwarding packets
1335798922349: Received UDP payload: 989
1335798922352: forwarding disabled, not forwarding packets
1335798922352: mux: GOT CSM_Msg
1335798922457: Received UDP payload: 989
1335798922464: forwarding disabled, not forwarding packets
1335798922464: mux: GOT CSM_Msg
1335798922467: Received UDP payload: 989
1335798922479: mux: GOT CSM_Msg
1335798922480: forwarding disabled, not forwarding packets
1335798922573: Received UDP payload: 989
1335798922580: mux: GOT CSM_Msg
1335798922581: forwarding disabled, not forwarding packets
1335798922682: Received UDP payload: 989
1335798922689: forwarding disabled, not forwarding packets
1335798922689: mux: GOT CSM_Msg
1335798922797: Received UDP payload: 989
1335798922804: forwarding disabled, not forwarding packets
1335798922804: mux: GOT CSM_Msg
1335798922869: Received UDP payload: 989
1335798922880: mux: GOT CSM_Msg
1335798922881: forwarding disabled, not forwarding packets
1335798922963: Received UDP payload: 989
1335798922967: forwarding disabled, not forwarding packets
1335798922967: mux: GOT CSM_Msg
1335798923067: Received UDP payload: 989
1335798923070: forwarding disabled, not forwarding packets
1335798923070: mux: GOT CSM_Msg
1335798923173: Received UDP payload: 989
1335798923181: mux: GOT CSM_Msg
1335798923182: forwarding disabled, not forwarding packets
1335798923268: Received UDP payload: 989
1335798923276: mux: GOT CSM_Msg
1335798923277: forwarding disabled, not forwarding packets
1335798923314: Received UDP payload: 625
1335798923321: mux: Inside mux Packet.CLIENT_REQUEST
1335798923328: Received UDP payload: 446
1335798923342: mux: Inside Packet.SERVER_REPLY
1335798923343: Received UDP payload: 625
1335798923343: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798923350: mux: Inside mux Packet.CLIENT_REQUEST
1335798923351: Received UDP payload: 446
1335798923357: mux: Inside Packet.SERVER_REPLY
1335798923358: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798923366: Received UDP payload: 625
1335798923386: Received UDP payload: 989
1335798923386: mux: Inside mux Packet.CLIENT_REQUEST
1335798923389: forwarding disabled, not forwarding packets
1335798923389: mux: GOT CSM_Msg
1335798923571: Received UDP payload: 989
1335798923573: forwarding disabled, not forwarding packets
1335798923573: mux: GOT CSM_Msg
1335798923608: Received UDP payload: 446
1335798923670: Received UDP payload: 989
1335798923678: mux: GOT CSM_Msg
1335798923679: forwarding disabled, not forwarding packets
1335798923682: Received UDP payload: 642
1335798923687: mux: Inside Packet.SERVER_REPLY
1335798923688: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798923704: Received UDP payload: 446
1335798923710: mux: Inside mux Packet.CLIENT_REQUEST
1335798924094: Received UDP payload: 989
1335798924102: forwarding disabled, not forwarding packets
1335798924102: mux: GOT CSM_Msg
1335798924183: Received UDP payload: 989
1335798924190: mux: GOT CSM_Msg
1335798924191: forwarding disabled, not forwarding packets
1335798924991: Received UDP payload: 989
1335798924998: mux: GOT CSM_Msg
1335798924999: forwarding disabled, not forwarding packets
1335798925044: Received UDP payload: 989
1335798925052: forwarding disabled, not forwarding packets
1335798925052: mux: GOT CSM_Msg
1335798925071: inside sendPacket(Packet p)
1335798925074: Sending UDP payload: 446
1335798925163: Received UDP payload: 989
1335798925174: forwarding disabled, not forwarding packets
1335798925174: mux: GOT CSM_Msg
1335798925253: Received UDP payload: 989
1335798925260: forwarding disabled, not forwarding packets
1335798925260: mux: GOT CSM_Msg
1335798925326: Received UDP payload: 989
1335798925333: forwarding disabled, not forwarding packets
1335798925333: mux: GOT CSM_Msg
1335798925434: Received UDP payload: 989
1335798925441: forwarding disabled, not forwarding packets
1335798925441: mux: GOT CSM_Msg
1335798925504: Received UDP payload: 989
1335798925506: forwarding disabled, not forwarding packets
1335798925506: mux: GOT CSM_Msg
1335798925525: Received UDP payload: 989
1335798925527: forwarding disabled, not forwarding packets
1335798925527: mux: GOT CSM_Msg
1335798925536: Received UDP payload: 989
1335798925538: forwarding disabled, not forwarding packets
1335798925538: mux: GOT CSM_Msg
1335798925553: Received UDP payload: 989
1335798925555: forwarding disabled, not forwarding packets
1335798925555: mux: GOT CSM_Msg
1335798925641: Received UDP payload: 989
1335798925643: forwarding disabled, not forwarding packets
1335798925643: mux: GOT CSM_Msg
1335798925651: Received UDP payload: 642
1335798925653: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798925653: mux: Inside Packet.SERVER_REPLY
1335798925674: Received UDP payload: 446
1335798925676: mux: Inside mux Packet.CLIENT_REQUEST
1335798925938: Received UDP payload: 446
1335798925939: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798925939: mux: Inside mux Packet.CLIENT_REQUEST
1335798925940: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100003
1335798925940: Yay the last leg succeeded. Removing reply runnables ...
1335798925940: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100003
1335798925940: do not send ack for received final_leg_ack
1335798925940: got new request, requestCounter = 5007071
1335798925940: inside handleClientRequest. Originator leader of region 2
1335798925940: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100003
1335798925942: Received UDP payload: 446
1335798925944: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100003
1335798925944: Yay the last leg succeeded. Removing reply runnables ...
1335798925944: got new request, requestCounter = 5007072
1335798925944: inside handleClientRequest. Originator leader of region 2
1335798925944: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798925944: mux: Inside mux Packet.CLIENT_REQUEST
1335798925944: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100003
1335798925945: do not send ack for received final_leg_ack
1335798925945: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100003
1335798925962: Received UDP payload: 446
1335798925964: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100003
1335798925964: Yay the last leg succeeded. Removing reply runnables ...
1335798925964: do not send ack for received final_leg_ack
1335798925964: got new request, requestCounter = 5007073
1335798925964: inside handleClientRequest. Originator leader of region 2
1335798925964: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798925964: mux: Inside mux Packet.CLIENT_REQUEST
1335798925964: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100003
1335798925964: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100003
1335798926130: Received UDP payload: 625
1335798926131: mux: Inside mux Packet.CLIENT_REQUEST
1335798926132: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798926132: Sending to region: 1
1335798926132: got new request, requestCounter = 5007075
1335798926132: inside handleClientRequest. Originator leader of region 2
1335798926132: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798926133: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798926133: Make FirstLeg Ack regardless of new or already-processed requests
1335798926133: Note down new request by adding requestCounter=5007075 to HashMap processedRequests
1335798926133: Sending PROC_REQUEST 11:12 (2,0)->(1,0)
1335798926133: The leader sending a First Leg ack to originator client (which id = 5007)
1335798926134: inside sendPacket(Packet p)
1335798926134: mux: I got a CSM packet at a leader 
1335798926141: Received UDP payload: 625
1335798926148: Sending UDP payload: 989
1335798926149: forwarding disabled, not forwarding packets
1335798926150: Sending UDP payload: 446
1335798926155: Received UDP payload: 625
1335798926157: Make FirstLeg Ack regardless of new or already-processed requests
1335798926157: Note down new request by adding requestCounter=5007075 to HashMap processedRequests
1335798926157: The leader sending a First Leg ack to originator client (which id = 5007)
1335798926157: discarding repeated requestCounter=5007075, but still send an ack back
1335798926157: inside handleClientRequest. Originator leader of region 2
1335798926157: inside sendPacket(Packet p)
1335798926157: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798926157: mux: Inside mux Packet.CLIENT_REQUEST
1335798926158: Make FirstLeg Ack regardless of new or already-processed requests
1335798926158: Note down new request by adding requestCounter=5007075 to HashMap processedRequests
1335798926158: The leader sending a First Leg ack to originator client (which id = 5007)
1335798926158: discarding repeated requestCounter=5007075, but still send an ack back
1335798926158: inside handleClientRequest. Originator leader of region 2
1335798926158: inside sendPacket(Packet p)
1335798926158: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798926158: mux: Inside mux Packet.CLIENT_REQUEST
1335798926159: Sending UDP payload: 446
1335798926166: Sending UDP payload: 446
1335798926341: areButtonsEnabled --> false 
1335798926341: canPressButton = TRUE
1335798926342: areButtonsEnabled --> false
1335798926342: get picture disableButtonsR
1335798926389: one more getNum: 8
1335798926389: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=9 takeCamGood=9 takeGoodSave=8 takeBad=0 takeTimedout=0 takePercent=88% getNum=8 getGood=4 getBad=3 getTimedout=0 getPercent=50%
1335798926390: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335798926390: change local requestCounter to 33
1335798926391: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001033 Client in region: 2 Client nodID: 5001
1335798926422: ----------------------------
1335798926423: I'm a leader, my requesting photos packet going to mux directly
1335798926423: inside sendRequestPacketRepeatingRunnable for requestCount = 5001033
1335798926423: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798926423: mux: Inside mux Packet.CLIENT_REQUEST
1335798926424: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798926424: got new request, requestCounter = 5001033
1335798926424: inside handleClientRequest. Originator leader of region 2
1335798926425: Sending to region: 0
1335798926427: --- Finished one round of sending REQUEST Packet ---------
1335798926427: Sending PROC_REQUEST 11:9 (2,0)->(0,0)
1335798926428: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798926428: Make FirstLeg Ack regardless of new or already-processed requests
1335798926428: Note down new request by adding requestCounter=5001033 to HashMap processedRequests
1335798926428: mux: I got a CSM packet at a leader 
1335798926428: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798926430: Sending UDP payload: 989
1335798926431: forwarding disabled, not forwarding packets
1335798926477: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798926552: Received UDP payload: 625
1335798926554: Make FirstLeg Ack regardless of new or already-processed requests
1335798926554: Note down new request by adding requestCounter=5007075 to HashMap processedRequests
1335798926554: discarding repeated requestCounter=5007075, but still send an ack back
1335798926554: inside handleClientRequest. Originator leader of region 2
1335798926554: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798926554: mux: Inside mux Packet.CLIENT_REQUEST
1335798926555: The leader sending a First Leg ack to originator client (which id = 5007)
1335798926555: inside sendPacket(Packet p)
1335798926556: Sending UDP payload: 446
1335798926583: Received UDP payload: 446
1335798926585: got new request, requestCounter = 5008093
1335798926585: inside handleClientRequest. Originator leader of region 2
1335798926585: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798926585: mux: Inside mux Packet.CLIENT_REQUEST
1335798926586: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100005
1335798926586: Yay the last leg succeeded. Removing reply runnables ...
1335798926586: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100005
1335798926586: do not send ack for received final_leg_ack
1335798926586: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100005
1335798926594: Received UDP payload: 446
1335798926595: got new request, requestCounter = 5008094
1335798926595: inside handleClientRequest. Originator leader of region 2
1335798926595: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798926595: mux: Inside mux Packet.CLIENT_REQUEST
1335798926596: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100005
1335798926596: Yay the last leg succeeded. Removing reply runnables ...
1335798926596: do not send ack for received final_leg_ack
1335798926596: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100005
1335798926596: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100005
1335798926604: Received UDP payload: 446
1335798926606: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798926606: mux: Inside mux Packet.CLIENT_REQUEST
1335798926607: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100005
1335798926607: Yay the last leg succeeded. Removing reply runnables ...
1335798926607: got new request, requestCounter = 5008095
1335798926607: inside handleClientRequest. Originator leader of region 2
1335798926607: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100005
1335798926608: do not send ack for received final_leg_ack
1335798926608: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100005
1335798926625: Received UDP payload: 446
1335798926627: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100005
1335798926627: Yay the last leg succeeded. Removing reply runnables ...
1335798926627: got new request, requestCounter = 5008096
1335798926627: inside handleClientRequest. Originator leader of region 2
1335798926627: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798926627: mux: Inside mux Packet.CLIENT_REQUEST
1335798926628: do not send ack for received final_leg_ack
1335798926628: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100005
1335798926628: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100005
1335798926895: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798926896: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798926897: mux: I got a CSM packet at a leader 
1335798926902: Sending UDP payload: 989
1335798926903: forwarding disabled, not forwarding packets
1335798926998: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798926998: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798926998: mux: I got a CSM packet at a leader 
1335798927000: Sending UDP payload: 989
1335798927005: forwarding disabled, not forwarding packets
1335798927050: Received UDP payload: 446
1335798927064: Received UDP payload: 446
1335798927082: Received UDP payload: 446
1335798927091: Received UDP payload: 446
1335798927099: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927100: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927100: mux: I got a CSM packet at a leader 
1335798927102: Sending UDP payload: 989
1335798927103: forwarding disabled, not forwarding packets
1335798927202: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927202: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927203: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927204: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927204: mux: I got a CSM packet at a leader 
1335798927209: Sending UDP payload: 989
1335798927210: forwarding disabled, not forwarding packets
1335798927218: mux: I got a CSM packet at a leader 
1335798927221: Sending UDP payload: 989
1335798927222: forwarding disabled, not forwarding packets
1335798927305: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927306: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927307: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927307: mux: I got a CSM packet at a leader 
1335798927311: Sending UDP payload: 989
1335798927312: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927313: forwarding disabled, not forwarding packets
1335798927314: mux: I got a CSM packet at a leader 
1335798927323: Sending UDP payload: 989
1335798927324: forwarding disabled, not forwarding packets
1335798927414: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927414: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927415: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927415: mux: I got a CSM packet at a leader 
1335798927416: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927417: Sending UDP payload: 989
1335798927417: forwarding disabled, not forwarding packets
1335798927418: mux: I got a CSM packet at a leader 
1335798927419: Sending UDP payload: 989
1335798927419: forwarding disabled, not forwarding packets
1335798927517: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927517: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927518: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927518: mux: I got a CSM packet at a leader 
1335798927519: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927524: Sending UDP payload: 989
1335798927525: forwarding disabled, not forwarding packets
1335798927526: mux: I got a CSM packet at a leader 
1335798927527: Sending UDP payload: 989
1335798927529: forwarding disabled, not forwarding packets
1335798927618: Received UDP payload: 989
1335798927620: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927621: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927621: mux: I got a CSM packet at a leader 
1335798927622: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927623: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927631: Sending UDP payload: 989
1335798927633: forwarding disabled, not forwarding packets
1335798927633: mux: I got a CSM packet at a leader 
1335798927637: Sending UDP payload: 989
1335798927638: forwarding disabled, not forwarding packets
1335798927638: mux: GOT CSM_Msg
1335798927639: forwarding disabled, not forwarding packets
1335798927683: Received UDP payload: 446
1335798927724: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927725: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927725: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927726: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927727: mux: I got a CSM packet at a leader 
1335798927730: Sending UDP payload: 989
1335798927731: forwarding disabled, not forwarding packets
1335798927732: mux: I got a CSM packet at a leader 
1335798927735: Sending UDP payload: 989
1335798927737: forwarding disabled, not forwarding packets
1335798927793: Received UDP payload: 989
1335798927795: forwarding disabled, not forwarding packets
1335798927795: mux: GOT CSM_Msg
1335798927803: Received UDP payload: 446
1335798927822: Received UDP payload: 989
1335798927825: mux: GOT CSM_Msg
1335798927826: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927826: forwarding disabled, not forwarding packets
1335798927827: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927827: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927827: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927827: mux: I got a CSM packet at a leader 
1335798927830: Sending UDP payload: 989
1335798927831: forwarding disabled, not forwarding packets
1335798927833: mux: I got a CSM packet at a leader 
1335798927840: Sending UDP payload: 989
1335798927842: forwarding disabled, not forwarding packets
1335798927929: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927929: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798927930: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927931: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798927931: mux: I got a CSM packet at a leader 
1335798927934: Sending UDP payload: 989
1335798927935: forwarding disabled, not forwarding packets
1335798927936: mux: I got a CSM packet at a leader 
1335798927940: Sending UDP payload: 989
1335798927941: forwarding disabled, not forwarding packets
1335798928032: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798928033: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798928033: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798928034: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798928034: mux: I got a CSM packet at a leader 
1335798928037: Sending UDP payload: 989
1335798928038: forwarding disabled, not forwarding packets
1335798928039: mux: I got a CSM packet at a leader 
1335798928044: Sending UDP payload: 989
1335798928046: forwarding disabled, not forwarding packets
1335798928135: Retrying PROC_REQUEST 11:12 (2,0)->(1,0)
1335798928136: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(1,0)
1335798928138: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798928138: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798928138: mux: I got a CSM packet at a leader 
1335798928143: Sending UDP payload: 989
1335798928144: forwarding disabled, not forwarding packets
1335798928144: mux: I got a CSM packet at a leader 
1335798928151: Sending UDP payload: 989
1335798928152: forwarding disabled, not forwarding packets
1335798928185: Received UDP payload: 5918
1335798928188: forwarding disabled, not forwarding packets
1335798928188: mux: GOT CSM_Msg
1335798928240: DSM Layer: Request timed out, send failure PROC_REPLY 11:12 (1,0)->(2,0)
1335798928241: Dispatching Atom PROC_REPLY 11:12 (1,0)->(2,0)
1335798928241: mux: I got a CSM packet at a leader 
1335798928243: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798928243: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798928244: Sending UDP payload: 989
1335798928246: DSM layer timed out, don't log dsm layer latency stuff.
1335798928246: Received PROC_REPLY 11:12 (1,0)->(2,0), handing to UserApp
1335798928246: inside handleDSMReply. Now back in originator leader of region 2
1335798928249: Originator Region=2's Leader (for Client=5007) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798928250: change leader replyCounter to: 6
1335798928251: inside sendReplies of replyCount = 500100006
1335798928251: reply packet contains the newest photo/success info from the remote region
1335798928252: =======================
1335798928252: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335798928252: Leader about to send REPLY packet, number: 500100006 type: 15 Leader in region: (2,0) to Client nodID: 5007
1335798928252: inside sendPacket(Packet p)
1335798928252: inside sendReplyRepeatingRunnable for replyCount = 500100006
1335798928252: mux: I got a CSM packet at a leader 
1335798928253: === Finished one round of sending REPLY Packet =======
1335798928255: Sending UDP payload: 989
1335798928257: forwarding disabled, not forwarding packets
1335798928260: Sending UDP payload: 642
1335798928344: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798928344: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798928347: mux: I got a CSM packet at a leader 
1335798928350: Sending UDP payload: 989
1335798928351: forwarding disabled, not forwarding packets
1335798928445: Dispatching Atom PROC_REQUEST 11:9 (2,0)->(0,0)
1335798928445: Retrying PROC_REQUEST 11:9 (2,0)->(0,0)
1335798928446: mux: I got a CSM packet at a leader 
1335798928447: Sending UDP payload: 989
1335798928448: forwarding disabled, not forwarding packets
1335798928546: DSM Layer: Request timed out, send failure PROC_REPLY 11:9 (0,0)->(2,0)
1335798928547: Dispatching Atom PROC_REPLY 11:9 (0,0)->(2,0)
1335798928548: mux: I got a CSM packet at a leader 
1335798928549: Sending UDP payload: 989
1335798928550: Received PROC_REPLY 11:9 (0,0)->(2,0), handing to UserApp
1335798928550: inside handleDSMReply. Now back in originator leader of region 2
1335798928551: DSM layer timed out, don't log dsm layer latency stuff.
1335798928552: =======================
1335798928552: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798928552: change leader replyCounter to: 7
1335798928552: inside sendReplies of replyCount = 500100007
1335798928552: inside sendReplyRepeatingRunnable for replyCount = 500100007
1335798928552: reply packet contains the newest photo/success info from the remote region
1335798928553: === Finished one round of sending REPLY Packet =======
1335798928553: =======================
1335798928553: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798928553: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335798928553: Leader about to send REPLY packet, number: 500100006 type: 15 Leader in region: (2,0) to Client nodID: 5007
1335798928553: Leader about to send REPLY packet, number: 500100007 type: 15 Leader in region: (2,0) to Client nodID: 5001
1335798928553: inside sendReplyRepeatingRunnable for replyCount = 500100006
1335798928554: === Finished one round of sending REPLY Packet =======
1335798928554: inside sendPacket(Packet p)
1335798928556: Sending UDP payload: 642
1335798928571: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798928572: disabling progressdialog due to successful new photo get
1335798928573: Inside _enableButtons
1335798928576: areButtonsEnabled --> true
1335798928577: send final leg ack regardless of new or already-processed reply
1335798928580: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001034 Client in region: (2,0) Client nodID: 5001
1335798928580: I'm a leader client, my final_leg packet going to mux directly
1335798928580: inside finalLegAck: change requestCounter to 34
1335798928580: mux: Inside mux Packet.CLIENT_REQUEST
1335798928580: new client_show_remotephoto reply with replyCounter 500100007
1335798928581: = leader download start 1335798926423 ~ stop 1335798928571
1335798928581: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100007
1335798928581: Yay the last leg succeeded. Removing reply runnables ...
1335798928581: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100007
1335798928581: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100007
1335798928581: got new request, requestCounter = 5001034
1335798928581: inside handleClientRequest. Originator leader of region 2
1335798928581: leader download remote photo latency = 2148
1335798928581: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798928581: note down new reply by adding replyCounter=500100007 to HashMap processedReplies
1335798928582: Can't get remote photo, because DSM Layer on originator leader timed out
1335798928582: do not send ack for received final_leg_ack
1335798928586: one more getBad: 4
1335798928587: getBad++
1335798928587: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=9 takeCamGood=9 takeGoodSave=8 takeBad=0 takeTimedout=0 takePercent=88% getNum=8 getGood=4 getBad=4 getTimedout=0 getPercent=50%
1335798928650: Received UDP payload: 446
1335798928804: Received UDP payload: 5918
1335798928808: forwarding disabled, not forwarding packets
1335798928808: mux: GOT CSM_Msg
1335798928854: =======================
1335798928854: Leader about to send REPLY packet, number: 500100006 type: 15 Leader in region: (2,0) to Client nodID: 5007
1335798928854: inside sendReplyRepeatingRunnable for replyCount = 500100006
1335798928855: === Finished one round of sending REPLY Packet =======
1335798928855: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335798928855: inside sendPacket(Packet p)
1335798928856: Sending UDP payload: 642
1335798929129: Received UDP payload: 989
1335798929136: forwarding disabled, not forwarding packets
1335798929136: mux: GOT CSM_Msg
1335798929156: =======================
1335798929156: Leader about to send REPLY packet, number: 500100006 type: 15 Leader in region: (2,0) to Client nodID: 5007
1335798929156: inside sendReplyRepeatingRunnable for replyCount = 500100006
1335798929157: === Finished one round of sending REPLY Packet =======
1335798929157: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335798929157: inside sendPacket(Packet p)
1335798929160: Sending UDP payload: 642
1335798929161: Received UDP payload: 625
1335798929165: mux: Inside mux Packet.CLIENT_REQUEST
1335798929184: Received UDP payload: 989
1335798929194: mux: GOT CSM_Msg
1335798929195: Received UDP payload: 446
1335798929195: forwarding disabled, not forwarding packets
1335798929199: mux: Inside Packet.SERVER_REPLY
1335798929200: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798929251: inside sendReplyTimeoutR
1335798929252: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100006
1335798929564: Received UDP payload: 5964
1335798929568: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798929568: mux: Inside Packet.SERVER_REPLY
1335798929788: Received UDP payload: 446
1335798929793: inside handleClientRequest. Originator leader of region 2
1335798929793: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798929793: mux: Inside mux Packet.CLIENT_REQUEST
1335798929794: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100006
1335798929794: got new request, requestCounter = 5007076
1335798929795: Yay the last leg succeeded. Removing reply runnables ...
1335798929806: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100006
1335798929806: do not send ack for received final_leg_ack
1335798929806: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100006
1335798929809: Received UDP payload: 446
1335798929812: mux: Inside mux Packet.CLIENT_REQUEST
1335798929813: inside handleClientRequest. Originator leader of region 2
1335798929813: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798929814: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100006
1335798929814: Yay the last leg succeeded. Removing reply runnables ...
1335798929814: got new request, requestCounter = 5007078
1335798929815: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100006
1335798929816: do not send ack for received final_leg_ack
1335798929816: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100006
1335798930058: Received UDP payload: 989
1335798930062: forwarding disabled, not forwarding packets
1335798930062: mux: GOT CSM_Msg
1335798930072: inside sendPacket(Packet p)
1335798930074: Sending UDP payload: 446
1335798930222: Received UDP payload: 989
1335798930226: forwarding disabled, not forwarding packets
1335798930226: mux: GOT CSM_Msg
1335798930247: Received UDP payload: 989
1335798930253: forwarding disabled, not forwarding packets
1335798930253: mux: GOT CSM_Msg
1335798930258: Received UDP payload: 5918
1335798930262: forwarding disabled, not forwarding packets
1335798930262: mux: GOT CSM_Msg
1335798930346: Received UDP payload: 989
1335798930350: forwarding disabled, not forwarding packets
1335798930350: mux: GOT CSM_Msg
1335798930450: Received UDP payload: 989
1335798930457: forwarding disabled, not forwarding packets
1335798930457: mux: GOT CSM_Msg
1335798930570: Received UDP payload: 989
1335798930580: forwarding disabled, not forwarding packets
1335798930580: mux: GOT CSM_Msg
1335798930583: Received UDP payload: 5918
1335798930594: forwarding disabled, not forwarding packets
1335798930594: mux: GOT CSM_Msg
1335798930653: Received UDP payload: 989
1335798930661: mux: GOT CSM_Msg
1335798930662: forwarding disabled, not forwarding packets
1335798931053: Received UDP payload: 446
1335798931061: Received UDP payload: 989
1335798931068: mux: GOT CSM_Msg
1335798931069: forwarding disabled, not forwarding packets
1335798931155: Received UDP payload: 989
1335798931157: mux: GOT CSM_Msg
1335798931158: forwarding disabled, not forwarding packets
1335798931270: Received UDP payload: 989
1335798931273: forwarding disabled, not forwarding packets
1335798931273: mux: GOT CSM_Msg
1335798931566: Received UDP payload: 5918
1335798931590: forwarding disabled, not forwarding packets
1335798931590: mux: GOT CSM_Msg
1335798931661: Received UDP payload: 5918
1335798931667: forwarding disabled, not forwarding packets
1335798931667: mux: GOT CSM_Msg
1335798931803: Received UDP payload: 5918
1335798931806: forwarding disabled, not forwarding packets
1335798931806: mux: GOT CSM_Msg
1335798932072: areButtonsEnabled --> false
1335798932072: canPressButton = TRUE
1335798932072: disabling buttons ...
1335798932073: areButtonsEnabled --> false
1335798932073: took picture disableButtonsR
1335798932095: one more takeNum: 10
1335798932096: Clicked take picture button ..
1335798932096: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=10 takeCamGood=9 takeGoodSave=8 takeBad=0 takeTimedout=0 takePercent=80% getNum=8 getGood=4 getBad=4 getTimedout=0 getPercent=50%
1335798932215: Received UDP payload: 5918
1335798932218: forwarding disabled, not forwarding packets
1335798932218: mux: GOT CSM_Msg
1335798932310: Received UDP payload: 5918
1335798932312: forwarding disabled, not forwarding packets
1335798932312: mux: GOT CSM_Msg
1335798932687: Received UDP payload: 5918
1335798932689: mux: GOT CSM_Msg
1335798932690: Received DUPLICATE PROC_REPLY 11:12 (1,0)->(2,0)
1335798932936: Received UDP payload: 5918
1335798932938: Received DUPLICATE PROC_REPLY 11:12 (1,0)->(2,0)
1335798932938: mux: GOT CSM_Msg
1335798933459: inside HandlePictureStorage onPictureTaken()
1335798933460: one more takeCamGood: 10
1335798933460: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=10 takeCamGood=10 takeGoodSave=8 takeBad=0 takeTimedout=0 takePercent=80% getNum=8 getGood=4 getBad=4 getTimedout=0 getPercent=50%
1335798933627: Received UDP payload: 446
1335798933724: Picture successfully taken, ORIG BYTE LENGTH = 2533902
1335798933913: Our new height x width: 306 x 408
1335798933913: Show photo from handle my camera take
1335798933914: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798933914: change local requestCounter to 35
1335798933928: BYTE SIZE AFTER COMPRESSION: 5379
1335798933929: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001035 Client in region: 2 Client nodID: 5001
1335798933965: ----------------------------
1335798933966: I'm a leader, my requesting photos packet going to mux directly
1335798933966: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798933966: got new request, requestCounter = 5001035
1335798933966: inside handleClientRequest. Originator leader of region 2
1335798933966: inside sendRequestPacketRepeatingRunnable for requestCount = 5001035
1335798933966: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798933966: mux: Inside mux Packet.CLIENT_REQUEST
1335798933967: Sending PROC_REQUEST 10:43 (2,0)->(2,0)
1335798933968: Dispatching Atom PROC_REQUEST 10:43 (2,0)->(2,0)
1335798933968: Make FirstLeg Ack regardless of new or already-processed requests
1335798933968: Note down new request by adding requestCounter=5001035 to HashMap processedRequests
1335798933968: mux: I got a CSM packet at a leader 
1335798933968: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798933970: Sending UDP payload: 6390
1335798933972: removed replies before id 43 from sentReplies of size 0
1335798933973: Inside UPLOAD_PHOTO!!
1335798933973: inside handleDSMRequest. At requests's remote leader of region 2
1335798933976: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798933976: my_gpinfo.isSuccess is now (should be true): true
1335798933977: Received PROC_REQUEST 10:43 (2,0)->(2,0), replying PROC_REPLY 10:43 (2,0)->(2,0)
1335798933978: Dispatching Atom PROC_REPLY 10:43 (2,0)->(2,0)
1335798933978: mux: I got a CSM packet at a leader 
1335798933979: --- Finished one round of sending REQUEST Packet ---------
1335798933979: Sending UDP payload: 989
1335798933987: Received PROC_REPLY 10:43 (2,0)->(2,0), handing to UserApp
1335798933988: DSM layer: Going to and from remote region took latency = 20
1335798933988: DSM layer: orig leader sent packet at 1335798933967 ~ received reply from remote leader at 1335798933987
1335798933988: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798933988: inside handleDSMReply. Now back in originator leader of region 2
1335798933989: === Finished one round of sending REPLY Packet =======
1335798933989: =======================
1335798933989: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798933989: Leader about to send REPLY packet, number: 500100008 type: 16 Leader in region: (2,0) to Client nodID: 5001
1335798933989: change leader replyCounter to: 8
1335798933989: inside sendReplies of replyCount = 500100008
1335798933989: inside sendReplyRepeatingRunnable for replyCount = 500100008
1335798933989: reply packet contains the success info for UPLOAD_PHOTO
1335798934005: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798934006: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798934007: I'm a leader and I successfully saved my client's new photo
1335798934008: now showing in UI the new photo I just saved ... 
1335798934008: the photo length: 5379
1335798934045: end of server show photo aside %%%%%%%%%
1335798934046: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798934047: Inside _enableButtons
1335798934047: areButtonsEnabled --> true
1335798934047: disabling progressdialog due to successful new photo upload
1335798934047: inside finalLegAck: change requestCounter to 36
1335798934047: send final leg ack regardless of new or already-processed reply
1335798934048: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001036 Client in region: (2,0) Client nodID: 5001
1335798934048: I'm a leader client, my final_leg packet going to mux directly
1335798934048: got new request, requestCounter = 5001036
1335798934048: inside handleClientRequest. Originator leader of region 2
1335798934048: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798934048: mux: Inside mux Packet.CLIENT_REQUEST
1335798934049: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100008
1335798934049: Yay the last leg succeeded. Removing reply runnables ...
1335798934049: cupa discarding repeated replyCounter=500100008, but still sent an ack back
1335798934049: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100008
1335798934049: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100008
1335798934049: do not send ack for received final_leg_ack
1335798935072: inside sendPacket(Packet p)
1335798935076: Sending UDP payload: 446
1335798935329: Received UDP payload: 989
1335798935340: forwarding disabled, not forwarding packets
1335798935340: mux: GOT CSM_Msg
1335798935455: Received UDP payload: 989
1335798935462: forwarding disabled, not forwarding packets
1335798935462: mux: GOT CSM_Msg
1335798935514: Received UDP payload: 989
1335798935518: forwarding disabled, not forwarding packets
1335798935518: mux: GOT CSM_Msg
1335798935592: Received UDP payload: 989
1335798935596: forwarding disabled, not forwarding packets
1335798935596: mux: GOT CSM_Msg
1335798935631: Received UDP payload: 989
1335798935634: forwarding disabled, not forwarding packets
1335798935634: mux: GOT CSM_Msg
1335798935761: Received UDP payload: 6715
1335798935764: forwarding disabled, not forwarding packets
1335798935764: mux: GOT CSM_Msg
1335798936144: Received UDP payload: 6715
1335798936151: mux: GOT CSM_Msg
1335798936152: forwarding disabled, not forwarding packets
1335798936339: Received UDP payload: 989
1335798936343: forwarding disabled, not forwarding packets
1335798936343: mux: GOT CSM_Msg
1335798936395: Received UDP payload: 6715
1335798936399: mux: GOT CSM_Msg
1335798936400: forwarding disabled, not forwarding packets
1335798936562: Received UDP payload: 989
1335798936566: forwarding disabled, not forwarding packets
1335798936566: mux: GOT CSM_Msg
1335798936580: Received UDP payload: 625
1335798936583: mux: Inside mux Packet.CLIENT_REQUEST
1335798936692: Received UDP payload: 6715
1335798936696: forwarding disabled, not forwarding packets
1335798936696: mux: GOT CSM_Msg
1335798936866: Received UDP payload: 625
1335798936870: mux: Inside mux Packet.CLIENT_REQUEST
1335798936926: Received UDP payload: 446
1335798936977: Received UDP payload: 989
1335798936984: forwarding disabled, not forwarding packets
1335798936984: mux: GOT CSM_Msg
1335798937175: Received UDP payload: 625
1335798937180: mux: Inside mux Packet.CLIENT_REQUEST
1335798937406: Received UDP payload: 6715
1335798937413: mux: GOT CSM_Msg
1335798937414: forwarding disabled, not forwarding packets
1335798937424: Received UDP payload: 989
1335798937432: mux: GOT CSM_Msg
1335798937433: Received UDP payload: 446
1335798937433: forwarding disabled, not forwarding packets
1335798937437: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798937437: mux: Inside Packet.SERVER_REPLY
1335798937723: Received UDP payload: 989
1335798937730: mux: GOT CSM_Msg
1335798937730: removed replies before id 21 from sentReplies of size 0
1335798937731: inside handleDSMRequest. At requests's remote leader of region 2
1335798937732: INSIDE SERVER_GET_PHOTO!!!
1335798937737: Received PROC_REQUEST 11:21 (3,0)->(2,0), replying PROC_REPLY 11:21 (2,0)->(3,0)
1335798937739: Dispatching Atom PROC_REPLY 11:21 (2,0)->(3,0)
1335798937740: mux: I got a CSM packet at a leader 
1335798937749: Sending UDP payload: 6390
1335798937758: forwarding disabled, not forwarding packets
1335798937915: Received UDP payload: 989
1335798937919: forwarding disabled, not forwarding packets
1335798937919: mux: GOT CSM_Msg
1335798938010: Received UDP payload: 989
1335798938014: forwarding disabled, not forwarding packets
1335798938014: mux: GOT CSM_Msg
1335798938123: Received UDP payload: 989
1335798938127: forwarding disabled, not forwarding packets
1335798938127: mux: GOT CSM_Msg
1335798938149: Received UDP payload: 5918
1335798938154: forwarding disabled, not forwarding packets
1335798938154: mux: GOT CSM_Msg
1335798938211: Received UDP payload: 989
1335798938216: forwarding disabled, not forwarding packets
1335798938216: mux: GOT CSM_Msg
1335798938441: Received UDP payload: 989
1335798938449: forwarding disabled, not forwarding packets
1335798938449: mux: GOT CSM_Msg
1335798938473: Received UDP payload: 989
1335798938480: mux: GOT CSM_Msg
1335798938481: forwarding disabled, not forwarding packets
1335798938530: Received UDP payload: 989
1335798938532: forwarding disabled, not forwarding packets
1335798938532: mux: GOT CSM_Msg
1335798938547: Received UDP payload: 989
1335798938549: mux: GOT CSM_Msg
1335798938550: Dispatching Atom PROC_REPLY 11:21 (2,0)->(3,0)
1335798938550: Received DUPLICATE PROC_REQUEST 11:21 (3,0)->(2,0), replying PROC_REPLY 11:21 (2,0)->(3,0)
1335798938550: mux: I got a CSM packet at a leader 
1335798938550: removed replies before id 21 from sentReplies of size 1
1335798938551: Sending UDP payload: 6390
1335798938553: forwarding disabled, not forwarding packets
1335798938629: Received UDP payload: 446
1335798938722: Received UDP payload: 989
1335798938724: Received DUPLICATE PROC_REQUEST 11:21 (3,0)->(2,0), replying PROC_REPLY 11:21 (2,0)->(3,0)
1335798938724: mux: GOT CSM_Msg
1335798938724: removed replies before id 21 from sentReplies of size 1
1335798938725: Dispatching Atom PROC_REPLY 11:21 (2,0)->(3,0)
1335798938725: mux: I got a CSM packet at a leader 
1335798938726: Sending UDP payload: 6390
1335798938728: forwarding disabled, not forwarding packets
1335798938892: Received UDP payload: 989
1335798938894: forwarding disabled, not forwarding packets
1335798938894: mux: GOT CSM_Msg
1335798938909: Received UDP payload: 989
1335798938911: forwarding disabled, not forwarding packets
1335798938911: mux: GOT CSM_Msg
1335798938929: Received UDP payload: 989
1335798938931: forwarding disabled, not forwarding packets
1335798938931: mux: GOT CSM_Msg
1335798938993: Received UDP payload: 989
1335798938996: forwarding disabled, not forwarding packets
1335798938996: mux: GOT CSM_Msg
1335798938997: Received UDP payload: 446
1335798939023: Received UDP payload: 989
1335798939026: forwarding disabled, not forwarding packets
1335798939026: mux: GOT CSM_Msg
1335798939034: Received UDP payload: 989
1335798939036: forwarding disabled, not forwarding packets
1335798939036: mux: GOT CSM_Msg
1335798939054: Received UDP payload: 989
1335798939057: forwarding disabled, not forwarding packets
1335798939057: mux: GOT CSM_Msg
1335798939063: Received UDP payload: 989
1335798939065: forwarding disabled, not forwarding packets
1335798939065: mux: GOT CSM_Msg
1335798939094: Received UDP payload: 989
1335798939097: forwarding disabled, not forwarding packets
1335798939097: mux: GOT CSM_Msg
1335798939143: Received UDP payload: 989
1335798939146: forwarding disabled, not forwarding packets
1335798939146: mux: GOT CSM_Msg
1335798939170: Received UDP payload: 989
1335798939173: forwarding disabled, not forwarding packets
1335798939173: mux: GOT CSM_Msg
1335798939183: Received UDP payload: 989
1335798939186: mux: GOT CSM_Msg
1335798939187: forwarding disabled, not forwarding packets
1335798939205: Received UDP payload: 989
1335798939210: forwarding disabled, not forwarding packets
1335798939210: mux: GOT CSM_Msg
1335798939217: Received UDP payload: 989
1335798939219: forwarding disabled, not forwarding packets
1335798939219: mux: GOT CSM_Msg
1335798939248: Received UDP payload: 989
1335798939250: forwarding disabled, not forwarding packets
1335798939250: mux: GOT CSM_Msg
1335798939260: Received UDP payload: 989
1335798939262: forwarding disabled, not forwarding packets
1335798939262: mux: GOT CSM_Msg
1335798939287: Received UDP payload: 989
1335798939289: forwarding disabled, not forwarding packets
1335798939289: mux: GOT CSM_Msg
1335798939317: Received UDP payload: 989
1335798939319: mux: GOT CSM_Msg
1335798939320: forwarding disabled, not forwarding packets
1335798939776: Received UDP payload: 5918
1335798939780: forwarding disabled, not forwarding packets
1335798939780: mux: GOT CSM_Msg
1335798939796: Received UDP payload: 6311
1335798939801: forwarding disabled, not forwarding packets
1335798939801: mux: GOT CSM_Msg
1335798939901: Received UDP payload: 6311
1335798939906: forwarding disabled, not forwarding packets
1335798939906: mux: GOT CSM_Msg
1335798940044: Received UDP payload: 6311
1335798940048: forwarding disabled, not forwarding packets
1335798940048: mux: GOT CSM_Msg
1335798940074: inside sendPacket(Packet p)
1335798940075: Sending UDP payload: 446
1335798940293: Received UDP payload: 6311
1335798940300: forwarding disabled, not forwarding packets
1335798940300: mux: GOT CSM_Msg
1335798940306: Received UDP payload: 989
1335798940313: forwarding disabled, not forwarding packets
1335798940313: mux: GOT CSM_Msg
1335798940604: Received UDP payload: 989
1335798940612: forwarding disabled, not forwarding packets
1335798940612: mux: GOT CSM_Msg
1335798940613: Received UDP payload: 642
1335798940629: mux: Inside Packet.SERVER_REPLY
1335798940630: Received UDP payload: 642
1335798940630: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798940634: mux: Inside Packet.SERVER_REPLY
1335798940635: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798940644: Received UDP payload: 642
1335798940649: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798940649: mux: Inside Packet.SERVER_REPLY
1335798940655: Received UDP payload: 642
1335798940659: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798940659: mux: Inside Packet.SERVER_REPLY
1335798940663: Received UDP payload: 446
1335798940675: mux: Inside mux Packet.CLIENT_REQUEST
1335798940681: Received UDP payload: 625
1335798940686: inside handleClientRequest. Originator leader of region 2
1335798940686: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798940686: mux: Inside mux Packet.CLIENT_REQUEST
1335798940687: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798940687: got new request, requestCounter = 5007079
1335798940691: Sending to region: 3
1335798940693: Sending PROC_REQUEST 11:4 (2,0)->(3,0)
1335798940694: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(3,0)
1335798940694: Make FirstLeg Ack regardless of new or already-processed requests
1335798940694: Note down new request by adding requestCounter=5007079 to HashMap processedRequests
1335798940695: The leader sending a First Leg ack to originator client (which id = 5007)
1335798940696: inside sendPacket(Packet p)
1335798940696: mux: I got a CSM packet at a leader 
1335798940700: Received UDP payload: 625
1335798940713: Sending UDP payload: 989
1335798940718: Received UDP payload: 446
1335798940721: Received UDP payload: 446
1335798940727: forwarding disabled, not forwarding packets
1335798940728: Sending UDP payload: 446
1335798940728: mux: Inside mux Packet.CLIENT_REQUEST
1335798940729: Make FirstLeg Ack regardless of new or already-processed requests
1335798940729: Note down new request by adding requestCounter=5007079 to HashMap processedRequests
1335798940729: The leader sending a First Leg ack to originator client (which id = 5007)
1335798940729: discarding repeated requestCounter=5007079, but still send an ack back
1335798940729: inside handleClientRequest. Originator leader of region 2
1335798940729: inside sendPacket(Packet p)
1335798940729: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798940729: mux: Inside mux Packet.CLIENT_REQUEST
1335798940730: Sending UDP payload: 446
1335798940730: mux: Inside mux Packet.CLIENT_REQUEST
1335798940784: Received UDP payload: 625
1335798940785: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798940785: mux: Inside mux Packet.CLIENT_REQUEST
1335798940786: Make FirstLeg Ack regardless of new or already-processed requests
1335798940786: Note down new request by adding requestCounter=5007079 to HashMap processedRequests
1335798940786: The leader sending a First Leg ack to originator client (which id = 5007)
1335798940786: discarding repeated requestCounter=5007079, but still send an ack back
1335798940786: inside handleClientRequest. Originator leader of region 2
1335798940786: inside sendPacket(Packet p)
1335798940787: Sending UDP payload: 446
1335798941357: canPressButton = TRUE
1335798941358: areButtonsEnabled --> false 
1335798941359: get picture disableButtonsR
1335798941360: areButtonsEnabled --> false
1335798941405: one more getNum: 9
1335798941406: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335798941406: change local requestCounter to 37
1335798941406: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=10 takeCamGood=10 takeGoodSave=8 takeBad=0 takeTimedout=0 takePercent=80% getNum=9 getGood=4 getBad=4 getTimedout=0 getPercent=44%
1335798941407: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001037 Client in region: 2 Client nodID: 5001
1335798941431: Retrying PROC_REQUEST 11:4 (2,0)->(3,0)
1335798941432: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(3,0)
1335798941432: mux: I got a CSM packet at a leader 
1335798941433: Sending UDP payload: 989
1335798941434: forwarding disabled, not forwarding packets
1335798941444: ----------------------------
1335798941445: I'm a leader, my requesting photos packet going to mux directly
1335798941445: got new request, requestCounter = 5001037
1335798941445: inside handleClientRequest. Originator leader of region 2
1335798941445: inside sendRequestPacketRepeatingRunnable for requestCount = 5001037
1335798941445: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798941445: mux: Inside mux Packet.CLIENT_REQUEST
1335798941446: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798941446: Sending to region: 1
1335798941447: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798941447: Make FirstLeg Ack regardless of new or already-processed requests
1335798941447: Note down new request by adding requestCounter=5001037 to HashMap processedRequests
1335798941447: Sending PROC_REQUEST 11:13 (2,0)->(1,0)
1335798941447: mux: I got a CSM packet at a leader 
1335798941447: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798941449: --- Finished one round of sending REQUEST Packet ---------
1335798941449: Sending UDP payload: 989
1335798941449: forwarding disabled, not forwarding packets
1335798941485: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798941532: Retrying PROC_REQUEST 11:4 (2,0)->(3,0)
1335798941533: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(3,0)
1335798941537: mux: I got a CSM packet at a leader 
1335798941538: Sending UDP payload: 989
1335798941538: forwarding disabled, not forwarding packets
1335798941633: Retrying PROC_REQUEST 11:4 (2,0)->(3,0)
1335798941634: Dispatching Atom PROC_REQUEST 11:4 (2,0)->(3,0)
1335798941634: mux: I got a CSM packet at a leader 
1335798941635: Sending UDP payload: 989
1335798941636: forwarding disabled, not forwarding packets
1335798941697: Received UDP payload: 6311
1335798941699: mux: GOT CSM_Msg
1335798941700: DSM layer: Going to and from remote region took latency = 254
1335798941700: DSM layer: orig leader sent packet at 1335798941446 ~ received reply from remote leader at 1335798941700
1335798941700: Received PROC_REPLY 11:4 (3,0)->(2,0), handing to UserApp
1335798941700: inside handleDSMReply. Now back in originator leader of region 2
1335798941701: Originator Region=2's Leader (for Client=5007) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798941701: change leader replyCounter to: 9
1335798941701: inside sendReplies of replyCount = 500100009
1335798941701: reply packet contains the newest photo/success info from the remote region
1335798941702: === Finished one round of sending REPLY Packet =======
1335798941702: =======================
1335798941702: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335798941702: Leader about to send REPLY packet, number: 500100009 type: 15 Leader in region: (2,0) to Client nodID: 5007
1335798941702: inside sendPacket(Packet p)
1335798941702: inside sendReplyRepeatingRunnable for replyCount = 500100009
1335798941703: Sending UDP payload: 5964
1335798941842: Received UDP payload: 6311
1335798941847: mux: GOT CSM_Msg
1335798941848: Received DUPLICATE PROC_REPLY 11:4 (3,0)->(2,0)
1335798941856: Received UDP payload: 446
1335798941859: mux: Inside mux Packet.CLIENT_REQUEST
1335798941860: got new request, requestCounter = 5007080
1335798941860: inside handleClientRequest. Originator leader of region 2
1335798941860: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798941861: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100009
1335798941861: Yay the last leg succeeded. Removing reply runnables ...
1335798941862: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100009
1335798941862: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100009
1335798941862: do not send ack for received final_leg_ack
1335798942237: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942237: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942238: mux: I got a CSM packet at a leader 
1335798942240: Sending UDP payload: 989
1335798942246: forwarding disabled, not forwarding packets
1335798942338: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942339: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942339: mux: I got a CSM packet at a leader 
1335798942341: Sending UDP payload: 989
1335798942345: forwarding disabled, not forwarding packets
1335798942440: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942440: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942440: mux: I got a CSM packet at a leader 
1335798942442: Sending UDP payload: 989
1335798942443: forwarding disabled, not forwarding packets
1335798942541: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942541: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942542: mux: I got a CSM packet at a leader 
1335798942543: Sending UDP payload: 989
1335798942544: forwarding disabled, not forwarding packets
1335798942642: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942643: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942643: mux: I got a CSM packet at a leader 
1335798942645: Sending UDP payload: 989
1335798942647: forwarding disabled, not forwarding packets
1335798942714: Received UDP payload: 989
1335798942720: forwarding disabled, not forwarding packets
1335798942720: mux: GOT CSM_Msg
1335798942744: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942745: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942746: mux: I got a CSM packet at a leader 
1335798942748: Sending UDP payload: 989
1335798942750: forwarding disabled, not forwarding packets
1335798942847: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942847: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942847: mux: I got a CSM packet at a leader 
1335798942848: Sending UDP payload: 989
1335798942848: forwarding disabled, not forwarding packets
1335798942948: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942948: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798942948: mux: I got a CSM packet at a leader 
1335798942950: Sending UDP payload: 989
1335798942951: forwarding disabled, not forwarding packets
1335798943049: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798943049: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798943049: mux: I got a CSM packet at a leader 
1335798943051: Sending UDP payload: 989
1335798943051: forwarding disabled, not forwarding packets
1335798943150: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798943150: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798943150: mux: I got a CSM packet at a leader 
1335798943152: Sending UDP payload: 989
1335798943152: forwarding disabled, not forwarding packets
1335798943251: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798943252: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798943252: mux: I got a CSM packet at a leader 
1335798943253: Sending UDP payload: 989
1335798943254: forwarding disabled, not forwarding packets
1335798943295: Received UDP payload: 5944
1335798943297: mux: Inside mux Packet.CLIENT_REQUEST
1335798943320: Received UDP payload: 625
1335798943322: mux: Inside mux Packet.CLIENT_REQUEST
1335798943342: Received UDP payload: 625
1335798943343: mux: Inside mux Packet.CLIENT_REQUEST
1335798943353: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798943353: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798943353: mux: I got a CSM packet at a leader 
1335798943355: Sending UDP payload: 989
1335798943357: forwarding disabled, not forwarding packets
1335798943454: Dispatching Atom PROC_REQUEST 11:13 (2,0)->(1,0)
1335798943454: Retrying PROC_REQUEST 11:13 (2,0)->(1,0)
1335798943455: mux: I got a CSM packet at a leader 
1335798943457: Sending UDP payload: 989
1335798943459: forwarding disabled, not forwarding packets
1335798943487: Received UDP payload: 446
1335798943489: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798943489: mux: Inside Packet.SERVER_REPLY
1335798943549: Received UDP payload: 989
1335798943555: DSM Layer: Request timed out, send failure PROC_REPLY 11:13 (1,0)->(2,0)
1335798943556: Dispatching Atom PROC_REPLY 11:13 (1,0)->(2,0)
1335798943557: mux: I got a CSM packet at a leader 
1335798943559: Sending UDP payload: 989
1335798943560: Received PROC_REPLY 11:13 (1,0)->(2,0), handing to UserApp
1335798943561: DSM layer timed out, don't log dsm layer latency stuff.
1335798943561: inside handleDSMReply. Now back in originator leader of region 2
1335798943562: =======================
1335798943562: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798943562: change leader replyCounter to: 10
1335798943562: inside sendReplies of replyCount = 500100010
1335798943562: inside sendReplyRepeatingRunnable for replyCount = 500100010
1335798943562: reply packet contains the newest photo/success info from the remote region
1335798943563: === Finished one round of sending REPLY Packet =======
1335798943563: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798943563: Leader about to send REPLY packet, number: 500100010 type: 15 Leader in region: (2,0) to Client nodID: 5001
1335798943564: forwarding disabled, not forwarding packets
1335798943564: mux: GOT CSM_Msg
1335798943566: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798943567: Inside _enableButtons
1335798943567: areButtonsEnabled --> true
1335798943567: disabling progressdialog due to successful new photo get
1335798943568: inside finalLegAck: change requestCounter to 38
1335798943568: send final leg ack regardless of new or already-processed reply
1335798943569: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001038 Client in region: (2,0) Client nodID: 5001
1335798943569: I'm a leader client, my final_leg packet going to mux directly
1335798943569: mux: Inside mux Packet.CLIENT_REQUEST
1335798943570: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100010
1335798943570: Yay the last leg succeeded. Removing reply runnables ...
1335798943570: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100010
1335798943570: got new request, requestCounter = 5001038
1335798943570: inside handleClientRequest. Originator leader of region 2
1335798943570: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798943571: csn discarding repeated replyCounter=500100010, but still sent an ack back
1335798943571: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100010
1335798943571: do not send ack for received final_leg_ack
1335798943591: Received UDP payload: 989
1335798943594: mux: GOT CSM_Msg
1335798943595: forwarding disabled, not forwarding packets
1335798943607: Received UDP payload: 446
1335798943609: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798943609: mux: Inside Packet.SERVER_REPLY
1335798943642: Received UDP payload: 446
1335798943643: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798943643: mux: Inside Packet.SERVER_REPLY
1335798943846: Received UDP payload: 6308
1335798943848: mux: GOT CSM_Msg
1335798943849: forwarding disabled, not forwarding packets
1335798943973: Received UDP payload: 989
1335798943976: forwarding disabled, not forwarding packets
1335798943976: mux: GOT CSM_Msg
1335798944046: Received UDP payload: 446
1335798944055: Received UDP payload: 989
1335798944057: forwarding disabled, not forwarding packets
1335798944057: mux: GOT CSM_Msg
1335798944063: Received UDP payload: 642
1335798944065: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798944065: mux: Inside Packet.SERVER_REPLY
1335798944276: Received UDP payload: 642
1335798944279: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798944279: mux: Inside Packet.SERVER_REPLY
1335798944287: Received UDP payload: 989
1335798944292: forwarding disabled, not forwarding packets
1335798944292: mux: GOT CSM_Msg
1335798944357: Received UDP payload: 5961
1335798944360: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798944360: mux: Inside Packet.SERVER_REPLY
1335798944366: Received UDP payload: 989
1335798944371: forwarding disabled, not forwarding packets
1335798944371: mux: GOT CSM_Msg
1335798944385: Received UDP payload: 989
1335798944391: forwarding disabled, not forwarding packets
1335798944391: mux: GOT CSM_Msg
1335798944416: Received UDP payload: 642
1335798944419: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798944419: mux: Inside Packet.SERVER_REPLY
1335798944572: Received UDP payload: 989
1335798944576: forwarding disabled, not forwarding packets
1335798944576: mux: GOT CSM_Msg
1335798944630: Received UDP payload: 989
1335798944634: forwarding disabled, not forwarding packets
1335798944634: mux: GOT CSM_Msg
1335798944729: Received UDP payload: 989
1335798944733: forwarding disabled, not forwarding packets
1335798944733: mux: GOT CSM_Msg
1335798944799: Received UDP payload: 625
1335798944804: mux: Inside mux Packet.CLIENT_REQUEST
1335798944806: Received UDP payload: 625
1335798944810: mux: Inside mux Packet.CLIENT_REQUEST
1335798944815: Received UDP payload: 625
1335798944819: mux: Inside mux Packet.CLIENT_REQUEST
1335798944848: Received UDP payload: 989
1335798944861: forwarding disabled, not forwarding packets
1335798944861: mux: GOT CSM_Msg
1335798945075: inside sendPacket(Packet p)
1335798945076: Sending UDP payload: 446
1335798945120: Received UDP payload: 5918
1335798945123: forwarding disabled, not forwarding packets
1335798945123: mux: GOT CSM_Msg
1335798945231: Received UDP payload: 5918
1335798945233: mux: GOT CSM_Msg
1335798945234: forwarding disabled, not forwarding packets
1335798945475: Received UDP payload: 989
1335798945482: forwarding disabled, not forwarding packets
1335798945482: mux: GOT CSM_Msg
1335798945523: Received UDP payload: 5918
1335798945529: mux: GOT CSM_Msg
1335798945530: forwarding disabled, not forwarding packets
1335798945536: Received UDP payload: 989
1335798945544: forwarding disabled, not forwarding packets
1335798945544: mux: GOT CSM_Msg
1335798945847: Received UDP payload: 5918
1335798945849: forwarding disabled, not forwarding packets
1335798945849: mux: GOT CSM_Msg
1335798945850: Received UDP payload: 446
1335798946102: Received UDP payload: 989
1335798946104: inside handleDSMRequest. At requests's remote leader of region 2
1335798946104: mux: GOT CSM_Msg
1335798946104: removed replies before id 4 from sentReplies of size 1
1335798946105: INSIDE SERVER_GET_PHOTO!!!
1335798946106: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798946106: Received PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798946107: mux: I got a CSM packet at a leader 
1335798946118: Sending UDP payload: 6390
1335798946120: forwarding disabled, not forwarding packets
1335798946156: Received UDP payload: 989
1335798946158: mux: GOT CSM_Msg
1335798946158: removed replies before id 4 from sentReplies of size 2
1335798946159: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798946159: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798946159: mux: I got a CSM packet at a leader 
1335798946161: Sending UDP payload: 6390
1335798946161: forwarding disabled, not forwarding packets
1335798946196: Received UDP payload: 989
1335798946198: mux: GOT CSM_Msg
1335798946199: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798946199: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798946199: mux: I got a CSM packet at a leader 
1335798946199: removed replies before id 4 from sentReplies of size 2
1335798946200: Sending UDP payload: 6390
1335798946205: canPressButton = TRUE
1335798946205: forwarding disabled, not forwarding packets
1335798946206: areButtonsEnabled --> false
1335798946206: areButtonsEnabled --> false
1335798946206: disabling buttons ...
1335798946206: took picture disableButtonsR
1335798946231: one more takeNum: 11
1335798946232: Clicked take picture button ..
1335798946232: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=10 takeGoodSave=8 takeBad=0 takeTimedout=0 takePercent=72% getNum=9 getGood=4 getBad=4 getTimedout=0 getPercent=44%
1335798946256: Received UDP payload: 989
1335798946258: mux: GOT CSM_Msg
1335798946258: removed replies before id 4 from sentReplies of size 2
1335798946259: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798946259: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798946259: mux: I got a CSM packet at a leader 
1335798946260: Sending UDP payload: 6390
1335798946260: forwarding disabled, not forwarding packets
1335798946445: Received UDP payload: 989
1335798946448: mux: GOT CSM_Msg
1335798946448: removed replies before id 4 from sentReplies of size 2
1335798946449: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798946449: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798946449: mux: I got a CSM packet at a leader 
1335798946450: Sending UDP payload: 6390
1335798946451: forwarding disabled, not forwarding packets
1335798946490: Received UDP payload: 989
1335798946493: mux: GOT CSM_Msg
1335798946493: removed replies before id 4 from sentReplies of size 2
1335798946494: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798946494: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798946494: mux: I got a CSM packet at a leader 
1335798946496: Sending UDP payload: 6390
1335798946497: forwarding disabled, not forwarding packets
1335798946824: Received UDP payload: 989
1335798946827: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798946827: mux: GOT CSM_Msg
1335798946827: removed replies before id 4 from sentReplies of size 2
1335798946828: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798946828: mux: I got a CSM packet at a leader 
1335798946829: Sending UDP payload: 6390
1335798946829: forwarding disabled, not forwarding packets
1335798946861: Received UDP payload: 989
1335798946863: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798946863: mux: GOT CSM_Msg
1335798946863: removed replies before id 4 from sentReplies of size 2
1335798946864: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798946864: mux: I got a CSM packet at a leader 
1335798946865: Sending UDP payload: 6390
1335798946866: forwarding disabled, not forwarding packets
1335798946895: Received UDP payload: 989
1335798946897: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798946897: mux: GOT CSM_Msg
1335798946897: removed replies before id 4 from sentReplies of size 2
1335798946899: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798946900: mux: I got a CSM packet at a leader 
1335798946901: Sending UDP payload: 6390
1335798946902: forwarding disabled, not forwarding packets
1335798947065: Received UDP payload: 989
1335798947067: mux: GOT CSM_Msg
1335798947067: removed replies before id 4 from sentReplies of size 2
1335798947068: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798947068: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798947068: mux: I got a CSM packet at a leader 
1335798947070: Sending UDP payload: 6390
1335798947071: forwarding disabled, not forwarding packets
1335798947148: Received UDP payload: 989
1335798947151: mux: GOT CSM_Msg
1335798947151: removed replies before id 4 from sentReplies of size 2
1335798947152: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798947152: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798947152: mux: I got a CSM packet at a leader 
1335798947154: Sending UDP payload: 6390
1335798947155: forwarding disabled, not forwarding packets
1335798947298: Received UDP payload: 5918
1335798947300: Received DUPLICATE PROC_REPLY 11:13 (1,0)->(2,0)
1335798947300: mux: GOT CSM_Msg
1335798947495: inside HandlePictureStorage onPictureTaken()
1335798947495: one more takeCamGood: 11
1335798947496: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=8 takeBad=0 takeTimedout=0 takePercent=72% getNum=9 getGood=4 getBad=4 getTimedout=0 getPercent=44%
1335798947756: Picture successfully taken, ORIG BYTE LENGTH = 2138511
1335798947854: Received UDP payload: 5918
1335798947856: mux: GOT CSM_Msg
1335798947857: Received DUPLICATE PROC_REPLY 11:13 (1,0)->(2,0)
1335798947968: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798947968: Our new height x width: 306 x 408
1335798947968: Show photo from handle my camera take
1335798947968: change local requestCounter to 39
1335798947982: BYTE SIZE AFTER COMPRESSION: 4044
1335798947983: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001039 Client in region: 2 Client nodID: 5001
1335798948014: ----------------------------
1335798948015: I'm a leader, my requesting photos packet going to mux directly
1335798948015: inside sendRequestPacketRepeatingRunnable for requestCount = 5001039
1335798948015: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798948015: mux: Inside mux Packet.CLIENT_REQUEST
1335798948016: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798948016: Sending PROC_REQUEST 10:44 (2,0)->(2,0)
1335798948016: got new request, requestCounter = 5001039
1335798948016: inside handleClientRequest. Originator leader of region 2
1335798948017: Dispatching Atom PROC_REQUEST 10:44 (2,0)->(2,0)
1335798948017: Make FirstLeg Ack regardless of new or already-processed requests
1335798948017: Note down new request by adding requestCounter=5001039 to HashMap processedRequests
1335798948017: mux: I got a CSM packet at a leader 
1335798948017: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798948018: Sending UDP payload: 5055
1335798948019: removed replies before id 44 from sentReplies of size 0
1335798948020: Inside UPLOAD_PHOTO!!
1335798948020: inside handleDSMRequest. At requests's remote leader of region 2
1335798948021: my_gpinfo.isSuccess is now (should be true): true
1335798948022: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798948023: Dispatching Atom PROC_REPLY 10:44 (2,0)->(2,0)
1335798948023: Received PROC_REQUEST 10:44 (2,0)->(2,0), replying PROC_REPLY 10:44 (2,0)->(2,0)
1335798948024: mux: I got a CSM packet at a leader 
1335798948025: --- Finished one round of sending REQUEST Packet ---------
1335798948034: Sending UDP payload: 989
1335798948035: DSM layer: Going to and from remote region took latency = 19
1335798948035: DSM layer: orig leader sent packet at 1335798948016 ~ received reply from remote leader at 1335798948035
1335798948035: Received PROC_REPLY 10:44 (2,0)->(2,0), handing to UserApp
1335798948035: inside handleDSMReply. Now back in originator leader of region 2
1335798948036: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798948036: change leader replyCounter to: 11
1335798948036: inside sendReplies of replyCount = 500100011
1335798948036: reply packet contains the success info for UPLOAD_PHOTO
1335798948037: === Finished one round of sending REPLY Packet =======
1335798948037: =======================
1335798948037: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798948037: Leader about to send REPLY packet, number: 500100011 type: 16 Leader in region: (2,0) to Client nodID: 5001
1335798948037: inside sendReplyRepeatingRunnable for replyCount = 500100011
1335798948050: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798948051: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798948051: I'm a leader and I successfully saved my client's new photo
1335798948052: now showing in UI the new photo I just saved ... 
1335798948052: the photo length: 4044
1335798948092: end of server show photo aside %%%%%%%%%
1335798948094: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798948094: Inside _enableButtons
1335798948094: areButtonsEnabled --> true
1335798948094: disabling progressdialog due to successful new photo upload
1335798948095: inside finalLegAck: change requestCounter to 40
1335798948095: send final leg ack regardless of new or already-processed reply
1335798948096: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001040 Client in region: (2,0) Client nodID: 5001
1335798948096: I'm a leader client, my final_leg packet going to mux directly
1335798948096: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798948096: mux: Inside mux Packet.CLIENT_REQUEST
1335798948097: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100011
1335798948097: Yay the last leg succeeded. Removing reply runnables ...
1335798948097: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100011
1335798948097: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100011
1335798948097: do not send ack for received final_leg_ack
1335798948097: got new request, requestCounter = 5001040
1335798948097: inside handleClientRequest. Originator leader of region 2
1335798948098: new client_upload_photo_ack reply with replyCounter 500100011
1335798948098: note down new reply by adding replyCounter=500100011 to HashMap processedReplies
1335798948099: = leader upload start 1335798948015 ~ stop 1335798948094
1335798948099: leader upload new photo latency = 79
1335798948100: one more takeGoodSave: 9
1335798948101: SUCCESS Client now knows saving photo on its leader succeeded
1335798948101: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=9 takeBad=0 takeTimedout=0 takePercent=81% getNum=9 getGood=4 getBad=4 getTimedout=0 getPercent=44%
1335798948153: Received UDP payload: 5918
1335798948155: mux: GOT CSM_Msg
1335798948156: Received DUPLICATE PROC_REPLY 11:13 (1,0)->(2,0)
1335798948622: Received UDP payload: 5918
1335798948626: mux: GOT CSM_Msg
1335798948627: Received DUPLICATE PROC_REPLY 11:13 (1,0)->(2,0)
1335798948768: Received UDP payload: 446
1335798950076: inside sendPacket(Packet p)
1335798950079: Sending UDP payload: 446
1335798950315: Received UDP payload: 5554
1335798950320: inside handleClientRequest. Originator leader of region 2
1335798950320: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798950320: mux: Inside mux Packet.CLIENT_REQUEST
1335798950321: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798950321: got new request, requestCounter = 5008097
1335798950322: Sending PROC_REQUEST 10:45 (2,0)->(2,0)
1335798950323: Dispatching Atom PROC_REQUEST 10:45 (2,0)->(2,0)
1335798950324: Make FirstLeg Ack regardless of new or already-processed requests
1335798950324: Note down new request by adding requestCounter=5008097 to HashMap processedRequests
1335798950327: The leader sending a First Leg ack to originator client (which id = 5008)
1335798950328: inside sendPacket(Packet p)
1335798950328: mux: I got a CSM packet at a leader 
1335798950340: Sending UDP payload: 5918
1335798950348: removed replies before id 45 from sentReplies of size 0
1335798950349: inside handleDSMRequest. At requests's remote leader of region 2
1335798950351: Inside UPLOAD_PHOTO!!
1335798950364: my_gpinfo.isSuccess is now (should be true): true
1335798950365: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798950369: Dispatching Atom PROC_REPLY 10:45 (2,0)->(2,0)
1335798950369: Received PROC_REQUEST 10:45 (2,0)->(2,0), replying PROC_REPLY 10:45 (2,0)->(2,0)
1335798950370: Sending UDP payload: 446
1335798950375: mux: I got a CSM packet at a leader 
1335798950376: Sending UDP payload: 989
1335798950377: DSM layer: Going to and from remote region took latency = 56
1335798950377: Received PROC_REPLY 10:45 (2,0)->(2,0), handing to UserApp
1335798950377: inside handleDSMReply. Now back in originator leader of region 2
1335798950378: DSM layer: orig leader sent packet at 1335798950321 ~ received reply from remote leader at 1335798950377
1335798950378: Originator Region=2's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798950378: change leader replyCounter to: 12
1335798950378: inside sendReplies of replyCount = 500100012
1335798950378: reply packet contains the success info for UPLOAD_PHOTO
1335798950379: === Finished one round of sending REPLY Packet =======
1335798950379: =======================
1335798950379: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335798950379: Leader about to send REPLY packet, number: 500100012 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335798950379: inside sendPacket(Packet p)
1335798950379: inside sendReplyRepeatingRunnable for replyCount = 500100012
1335798950380: Sending UDP payload: 642
1335798950384: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798950385: I'm a leader and I successfully saved my client's new photo
1335798950386: now showing in UI the new photo I just saved ... 
1335798950386: the photo length: 4907
1335798950424: end of server show photo aside %%%%%%%%%
1335798950542: Received UDP payload: 5554
1335798950544: Make FirstLeg Ack regardless of new or already-processed requests
1335798950544: Note down new request by adding requestCounter=5008097 to HashMap processedRequests
1335798950544: The leader sending a First Leg ack to originator client (which id = 5008)
1335798950544: discarding repeated requestCounter=5008097, but still send an ack back
1335798950544: inside handleClientRequest. Originator leader of region 2
1335798950544: inside sendPacket(Packet p)
1335798950544: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798950544: mux: Inside mux Packet.CLIENT_REQUEST
1335798950545: Sending UDP payload: 446
1335798950648: Received UDP payload: 446
1335798950649: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798950649: mux: Inside mux Packet.CLIENT_REQUEST
1335798950650: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100012
1335798950650: Yay the last leg succeeded. Removing reply runnables ...
1335798950650: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100012
1335798950650: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100012
1335798950650: do not send ack for received final_leg_ack
1335798950650: got new request, requestCounter = 5008098
1335798950650: inside handleClientRequest. Originator leader of region 2
1335798950803: Received UDP payload: 5918
1335798950806: Received DUPLICATE PROC_REPLY 11:13 (1,0)->(2,0)
1335798950806: mux: GOT CSM_Msg
1335798950897: Received UDP payload: 5918
1335798950899: forwarding disabled, not forwarding packets
1335798950899: mux: GOT CSM_Msg
1335798950996: Received UDP payload: 5918
1335798951000: forwarding disabled, not forwarding packets
1335798951000: mux: GOT CSM_Msg
1335798951069: Received UDP payload: 5918
1335798951073: forwarding disabled, not forwarding packets
1335798951073: mux: GOT CSM_Msg
1335798951161: Received UDP payload: 5918
1335798951166: forwarding disabled, not forwarding packets
1335798951166: mux: GOT CSM_Msg
1335798951272: Received UDP payload: 5918
1335798951276: mux: GOT CSM_Msg
1335798951277: forwarding disabled, not forwarding packets
1335798951436: Received UDP payload: 5918
1335798951442: mux: GOT CSM_Msg
1335798951443: forwarding disabled, not forwarding packets
1335798951526: Received UDP payload: 5918
1335798951534: forwarding disabled, not forwarding packets
1335798951534: mux: GOT CSM_Msg
1335798951647: Received UDP payload: 5918
1335798951650: forwarding disabled, not forwarding packets
1335798951650: mux: GOT CSM_Msg
1335798951779: Received UDP payload: 446
1335798951931: Received UDP payload: 5918
1335798951935: forwarding disabled, not forwarding packets
1335798951935: mux: GOT CSM_Msg
1335798952126: Received UDP payload: 5918
1335798952129: forwarding disabled, not forwarding packets
1335798952129: mux: GOT CSM_Msg
1335798952135: Received UDP payload: 989
1335798952138: mux: GOT CSM_Msg
1335798952139: forwarding disabled, not forwarding packets
1335798952147: Received UDP payload: 446
1335798952151: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798952151: mux: Inside Packet.SERVER_REPLY
1335798952157: Received UDP payload: 446
1335798952161: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798952161: mux: Inside Packet.SERVER_REPLY
1335798952247: Received UDP payload: 446
1335798952248: mux: Inside Packet.SERVER_REPLY
1335798952249: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798952485: Received UDP payload: 5571
1335798952487: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798952487: mux: Inside Packet.SERVER_REPLY
1335798952762: Received UDP payload: 5454
1335798952769: mux: GOT CSM_Msg
1335798952770: forwarding disabled, not forwarding packets
1335798952780: Received UDP payload: 989
1335798952794: forwarding disabled, not forwarding packets
1335798952794: mux: GOT CSM_Msg
1335798952796: Received UDP payload: 446
1335798953001: Received UDP payload: 989
1335798953004: mux: GOT CSM_Msg
1335798953005: forwarding disabled, not forwarding packets
1335798953142: Received UDP payload: 5454
1335798953147: forwarding disabled, not forwarding packets
1335798953147: mux: GOT CSM_Msg
1335798953308: Received UDP payload: 446
1335798953310: mux: Inside mux Packet.CLIENT_REQUEST
1335798953316: Received UDP payload: 446
1335798953318: mux: Inside mux Packet.CLIENT_REQUEST
1335798953365: Received UDP payload: 446
1335798953367: mux: Inside mux Packet.CLIENT_REQUEST
1335798953372: Received UDP payload: 446
1335798953374: mux: Inside mux Packet.CLIENT_REQUEST
1335798953386: Received UDP payload: 625
1335798953388: mux: Inside mux Packet.CLIENT_REQUEST
1335798953393: Received UDP payload: 625
1335798953396: mux: Inside mux Packet.CLIENT_REQUEST
1335798953403: Received UDP payload: 625
1335798953405: mux: Inside mux Packet.CLIENT_REQUEST
1335798953414: Received UDP payload: 989
1335798953418: forwarding disabled, not forwarding packets
1335798953418: mux: GOT CSM_Msg
1335798953423: Received UDP payload: 625
1335798953426: mux: Inside mux Packet.CLIENT_REQUEST
1335798953499: Received UDP payload: 5454
1335798953503: forwarding disabled, not forwarding packets
1335798953503: mux: GOT CSM_Msg
1335798953614: Received UDP payload: 446
1335798953618: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798953618: mux: Inside Packet.SERVER_REPLY
1335798953670: Received UDP payload: 446
1335798954146: Received UDP payload: 446
1335798954150: mux: Inside mux Packet.CLIENT_REQUEST
1335798954164: Received UDP payload: 625
1335798954168: mux: Inside mux Packet.CLIENT_REQUEST
1335798954222: Received UDP payload: 989
1335798954224: forwarding disabled, not forwarding packets
1335798954224: mux: GOT CSM_Msg
1335798954232: Received UDP payload: 446
1335798954234: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798954234: mux: Inside Packet.SERVER_REPLY
1335798954312: Received UDP payload: 5454
1335798954314: forwarding disabled, not forwarding packets
1335798954314: mux: GOT CSM_Msg
1335798954519: Received UDP payload: 446
1335798954521: mux: Inside mux Packet.CLIENT_REQUEST
1335798954541: areButtonsEnabled --> false 
1335798954541: canPressButton = TRUE
1335798954541: get picture disableButtonsR
1335798954542: areButtonsEnabled --> false
1335798954556: Received UDP payload: 446
1335798954558: one more getNum: 10
1335798954559: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335798954559: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=9 takeBad=0 takeTimedout=0 takePercent=81% getNum=10 getGood=4 getBad=4 getTimedout=0 getPercent=40%
1335798954560: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001041 Client in region: 2 Client nodID: 5001
1335798954560: change local requestCounter to 41
1335798954592: ----------------------------
1335798954592: I'm a leader, my requesting photos packet going to mux directly
1335798954592: inside sendRequestPacketRepeatingRunnable for requestCount = 5001041
1335798954592: mux: Inside mux Packet.CLIENT_REQUEST
1335798954593: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798954593: got new request, requestCounter = 5001041
1335798954593: inside handleClientRequest. Originator leader of region 2
1335798954593: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798954594: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798954594: Note down new request by adding requestCounter=5001041 to HashMap processedRequests
1335798954594: Sending PROC_REQUEST 11:5 (2,0)->(3,0)
1335798954594: Sending to region: 3
1335798954595: Make FirstLeg Ack regardless of new or already-processed requests
1335798954595: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798954597: mux: I got a CSM packet at a leader 
1335798954598: Sending UDP payload: 989
1335798954599: --- Finished one round of sending REQUEST Packet ---------
1335798954599: forwarding disabled, not forwarding packets
1335798954639: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798954745: Received UDP payload: 989
1335798954747: forwarding disabled, not forwarding packets
1335798954747: mux: GOT CSM_Msg
1335798954995: Received UDP payload: 989
1335798954998: forwarding disabled, not forwarding packets
1335798954998: mux: GOT CSM_Msg
1335798955077: inside sendPacket(Packet p)
1335798955078: Sending UDP payload: 446
1335798955362: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955362: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955362: mux: I got a CSM packet at a leader 
1335798955364: Sending UDP payload: 989
1335798955366: forwarding disabled, not forwarding packets
1335798955463: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955463: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955464: mux: I got a CSM packet at a leader 
1335798955465: Sending UDP payload: 989
1335798955475: forwarding disabled, not forwarding packets
1335798955564: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955565: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955565: mux: I got a CSM packet at a leader 
1335798955567: Sending UDP payload: 989
1335798955568: forwarding disabled, not forwarding packets
1335798955599: Received UDP payload: 989
1335798955607: forwarding disabled, not forwarding packets
1335798955607: mux: GOT CSM_Msg
1335798955665: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955666: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955666: mux: I got a CSM packet at a leader 
1335798955667: Sending UDP payload: 989
1335798955667: forwarding disabled, not forwarding packets
1335798955766: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955766: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955767: mux: I got a CSM packet at a leader 
1335798955769: Sending UDP payload: 989
1335798955769: forwarding disabled, not forwarding packets
1335798955842: Received UDP payload: 989
1335798955844: forwarding disabled, not forwarding packets
1335798955844: mux: GOT CSM_Msg
1335798955867: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955867: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955868: mux: I got a CSM packet at a leader 
1335798955869: Sending UDP payload: 989
1335798955870: forwarding disabled, not forwarding packets
1335798955873: Received UDP payload: 989
1335798955875: forwarding disabled, not forwarding packets
1335798955875: mux: GOT CSM_Msg
1335798955891: Received UDP payload: 989
1335798955893: forwarding disabled, not forwarding packets
1335798955893: mux: GOT CSM_Msg
1335798955921: Received UDP payload: 989
1335798955923: forwarding disabled, not forwarding packets
1335798955923: mux: GOT CSM_Msg
1335798955961: Received UDP payload: 989
1335798955963: forwarding disabled, not forwarding packets
1335798955963: mux: GOT CSM_Msg
1335798955968: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955968: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798955969: mux: I got a CSM packet at a leader 
1335798955970: Sending UDP payload: 989
1335798955970: forwarding disabled, not forwarding packets
1335798956027: Received UDP payload: 989
1335798956029: forwarding disabled, not forwarding packets
1335798956029: mux: GOT CSM_Msg
1335798956069: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956069: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956070: Sending UDP payload: 989
1335798956070: mux: I got a CSM packet at a leader 
1335798956071: forwarding disabled, not forwarding packets
1335798956170: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956170: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956170: mux: I got a CSM packet at a leader 
1335798956171: Sending UDP payload: 989
1335798956172: forwarding disabled, not forwarding packets
1335798956271: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956271: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956271: mux: I got a CSM packet at a leader 
1335798956273: Sending UDP payload: 989
1335798956273: forwarding disabled, not forwarding packets
1335798956319: Received UDP payload: 989
1335798956322: mux: GOT CSM_Msg
1335798956323: forwarding disabled, not forwarding packets
1335798956372: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956372: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956373: mux: I got a CSM packet at a leader 
1335798956374: Sending UDP payload: 989
1335798956379: Received UDP payload: 989
1335798956379: forwarding disabled, not forwarding packets
1335798956381: forwarding disabled, not forwarding packets
1335798956381: mux: GOT CSM_Msg
1335798956473: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956473: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956473: mux: I got a CSM packet at a leader 
1335798956475: Sending UDP payload: 989
1335798956475: forwarding disabled, not forwarding packets
1335798956574: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956574: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956574: mux: I got a CSM packet at a leader 
1335798956576: Sending UDP payload: 989
1335798956576: forwarding disabled, not forwarding packets
1335798956675: Dispatching Atom PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956675: Retrying PROC_REQUEST 11:5 (2,0)->(3,0)
1335798956675: mux: I got a CSM packet at a leader 
1335798956676: Sending UDP payload: 989
1335798956683: forwarding disabled, not forwarding packets
1335798956776: DSM Layer: Request timed out, send failure PROC_REPLY 11:5 (3,0)->(2,0)
1335798956776: Dispatching Atom PROC_REPLY 11:5 (3,0)->(2,0)
1335798956776: mux: I got a CSM packet at a leader 
1335798956777: Sending UDP payload: 989
1335798956779: DSM layer timed out, don't log dsm layer latency stuff.
1335798956779: Received PROC_REPLY 11:5 (3,0)->(2,0), handing to UserApp
1335798956779: inside handleDSMReply. Now back in originator leader of region 2
1335798956780: =======================
1335798956780: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798956780: change leader replyCounter to: 13
1335798956780: inside sendReplies of replyCount = 500100013
1335798956780: reply packet contains the newest photo/success info from the remote region
1335798956781: === Finished one round of sending REPLY Packet =======
1335798956781: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798956781: Leader about to send REPLY packet, number: 500100013 type: 15 Leader in region: (2,0) to Client nodID: 5001
1335798956781: inside sendReplyRepeatingRunnable for replyCount = 500100013
1335798956782: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798956782: Inside _enableButtons
1335798956782: disabling progressdialog due to successful new photo get
1335798956783: areButtonsEnabled --> true
1335798956783: inside finalLegAck: change requestCounter to 42
1335798956783: send final leg ack regardless of new or already-processed reply
1335798956784: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001042 Client in region: (2,0) Client nodID: 5001
1335798956784: I'm a leader client, my final_leg packet going to mux directly
1335798956784: got new request, requestCounter = 5001042
1335798956784: inside handleClientRequest. Originator leader of region 2
1335798956784: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798956784: mux: Inside mux Packet.CLIENT_REQUEST
1335798956785: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100013
1335798956785: Yay the last leg succeeded. Removing reply runnables ...
1335798956785: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100013
1335798956785: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100013
1335798956785: do not send ack for received final_leg_ack
1335798956786: leader download remote photo latency = 2190
1335798956786: new client_show_remotephoto reply with replyCounter 500100013
1335798956786: note down new reply by adding replyCounter=500100013 to HashMap processedReplies
1335798956787: = leader download start 1335798954592 ~ stop 1335798956782
1335798956787: Can't get remote photo, because DSM Layer on originator leader timed out
1335798956790: one more getBad: 5
1335798956791: getBad++
1335798956791: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=11 takeCamGood=11 takeGoodSave=9 takeBad=0 takeTimedout=0 takePercent=81% getNum=10 getGood=4 getBad=5 getTimedout=0 getPercent=40%
1335798957018: Received UDP payload: 5454
1335798957021: forwarding disabled, not forwarding packets
1335798957021: mux: GOT CSM_Msg
1335798957619: Received UDP payload: 5454
1335798957629: forwarding disabled, not forwarding packets
1335798957629: mux: GOT CSM_Msg
1335798957820: Received UDP payload: 642
1335798957823: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798957823: mux: Inside Packet.SERVER_REPLY
1335798957971: Received UDP payload: 642
1335798957973: mux: Inside Packet.SERVER_REPLY
1335798957974: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798958000: Received UDP payload: 625
1335798958003: mux: Inside mux Packet.CLIENT_REQUEST
1335798958057: Received UDP payload: 5439
1335798958060: mux: GOT CSM_Msg
1335798958061: Received DUPLICATE PROC_REPLY 11:5 (3,0)->(2,0)
1335798958117: Received UDP payload: 5439
1335798958121: mux: GOT CSM_Msg
1335798958122: Received DUPLICATE PROC_REPLY 11:5 (3,0)->(2,0)
1335798958218: Received UDP payload: 989
1335798958222: mux: GOT CSM_Msg
1335798958223: inside handleDSMRequest. At requests's remote leader of region 2
1335798958223: removed replies before id 22 from sentReplies of size 0
1335798958224: INSIDE SERVER_GET_PHOTO!!!
1335798958229: Dispatching Atom PROC_REPLY 11:22 (2,0)->(3,0)
1335798958229: Received PROC_REQUEST 11:22 (3,0)->(2,0), replying PROC_REPLY 11:22 (2,0)->(3,0)
1335798958230: mux: I got a CSM packet at a leader 
1335798958232: Sending UDP payload: 5918
1335798958244: forwarding disabled, not forwarding packets
1335798958507: Received UDP payload: 446
1335798958510: inside handleClientRequest. Originator leader of region 2
1335798958510: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798958510: mux: Inside mux Packet.CLIENT_REQUEST
1335798958511: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100002
1335798958511: Yay the last leg succeeded. Removing reply runnables ...
1335798958511: got new request, requestCounter = 5017123
1335798958511: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100002
1335798958512: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100002
1335798958512: do not send ack for received final_leg_ack
1335798958518: Received UDP payload: 446
1335798958521: mux: Inside mux Packet.CLIENT_REQUEST
1335798958522: got new request, requestCounter = 5017124
1335798958522: inside handleClientRequest. Originator leader of region 2
1335798958522: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798958523: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100002
1335798958523: Yay the last leg succeeded. Removing reply runnables ...
1335798958523: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100002
1335798958523: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100002
1335798958524: do not send ack for received final_leg_ack
1335798958525: Received UDP payload: 446
1335798958529: inside handleClientRequest. Originator leader of region 2
1335798958529: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798958529: mux: Inside mux Packet.CLIENT_REQUEST
1335798958530: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100002
1335798958530: Yay the last leg succeeded. Removing reply runnables ...
1335798958530: got new request, requestCounter = 5017125
1335798958531: do not send ack for received final_leg_ack
1335798958531: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100002
1335798958531: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100002
1335798958532: Received UDP payload: 446
1335798958536: mux: Inside mux Packet.CLIENT_REQUEST
1335798958537: inside handleClientRequest. Originator leader of region 2
1335798958537: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798958538: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100002
1335798958538: got new request, requestCounter = 5017126
1335798958539: Yay the last leg succeeded. Removing reply runnables ...
1335798958539: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100002
1335798958540: do not send ack for received final_leg_ack
1335798958540: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100002
1335798958618: Received UDP payload: 446
1335798958779: Received UDP payload: 989
1335798958783: mux: GOT CSM_Msg
1335798958783: removed replies before id 22 from sentReplies of size 1
1335798958785: Received DUPLICATE PROC_REQUEST 11:22 (3,0)->(2,0), replying PROC_REPLY 11:22 (2,0)->(3,0)
1335798958786: Dispatching Atom PROC_REPLY 11:22 (2,0)->(3,0)
1335798958786: mux: I got a CSM packet at a leader 
1335798958790: Sending UDP payload: 5918
1335798958791: forwarding disabled, not forwarding packets
1335798958801: Received UDP payload: 4971
1335798958803: mux: Inside mux Packet.CLIENT_REQUEST
1335798958804: inside handleClientRequest. Originator leader of region 2
1335798958804: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798958805: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798958805: got new request, requestCounter = 5017127
1335798958806: Sending PROC_REQUEST 10:46 (2,0)->(2,0)
1335798958807: Dispatching Atom PROC_REQUEST 10:46 (2,0)->(2,0)
1335798958808: Make FirstLeg Ack regardless of new or already-processed requests
1335798958808: Note down new request by adding requestCounter=5017127 to HashMap processedRequests
1335798958808: The leader sending a First Leg ack to originator client (which id = 5017)
1335798958809: inside sendPacket(Packet p)
1335798958809: mux: I got a CSM packet at a leader 
1335798958813: Sending UDP payload: 5335
1335798958814: removed replies before id 46 from sentReplies of size 0
1335798958815: inside handleDSMRequest. At requests's remote leader of region 2
1335798958820: Inside UPLOAD_PHOTO!!
1335798958823: my_gpinfo.isSuccess is now (should be true): true
1335798958824: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798958828: Received PROC_REQUEST 10:46 (2,0)->(2,0), replying PROC_REPLY 10:46 (2,0)->(2,0)
1335798958829: Dispatching Atom PROC_REPLY 10:46 (2,0)->(2,0)
1335798958832: Sending UDP payload: 446
1335798958833: mux: I got a CSM packet at a leader 
1335798958837: Sending UDP payload: 989
1335798958839: Received PROC_REPLY 10:46 (2,0)->(2,0), handing to UserApp
1335798958840: DSM layer: Going to and from remote region took latency = 35
1335798958840: inside handleDSMReply. Now back in originator leader of region 2
1335798958841: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798958841: DSM layer: orig leader sent packet at 1335798958805 ~ received reply from remote leader at 1335798958840
1335798958843: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798958843: change leader replyCounter to: 14
1335798958844: inside sendReplies of replyCount = 500100014
1335798958844: reply packet contains the success info for UPLOAD_PHOTO
1335798958845: =======================
1335798958845: inside sendReplyRepeatingRunnable for replyCount = 500100014
1335798958846: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798958846: Leader about to send REPLY packet, number: 500100014 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798958847: I'm a leader and I successfully saved my client's new photo
1335798958847: inside sendPacket(Packet p)
1335798958848: === Finished one round of sending REPLY Packet =======
1335798958848: now showing in UI the new photo I just saved ... 
1335798958849: the photo length: 4324
1335798958933: Sending UDP payload: 642
1335798958950: end of server show photo aside %%%%%%%%%
1335798958964: Received UDP payload: 989
1335798958973: mux: GOT CSM_Msg
1335798958974: removed replies before id 22 from sentReplies of size 1
1335798958976: Received DUPLICATE PROC_REQUEST 11:22 (3,0)->(2,0), replying PROC_REPLY 11:22 (2,0)->(3,0)
1335798958977: Dispatching Atom PROC_REPLY 11:22 (2,0)->(3,0)
1335798958977: mux: I got a CSM packet at a leader 
1335798958981: Sending UDP payload: 5918
1335798958982: Received UDP payload: 989
1335798958991: forwarding disabled, not forwarding packets
1335798958992: mux: GOT CSM_Msg
1335798958992: removed replies before id 22 from sentReplies of size 1
1335798958994: Received DUPLICATE PROC_REQUEST 11:22 (3,0)->(2,0), replying PROC_REPLY 11:22 (2,0)->(3,0)
1335798958996: Dispatching Atom PROC_REPLY 11:22 (2,0)->(3,0)
1335798958996: mux: I got a CSM packet at a leader 
1335798959000: Sending UDP payload: 5918
1335798959002: forwarding disabled, not forwarding packets
1335798959093: Received UDP payload: 989
1335798959101: mux: GOT CSM_Msg
1335798959101: removed replies before id 22 from sentReplies of size 1
1335798959103: Received DUPLICATE PROC_REQUEST 11:22 (3,0)->(2,0), replying PROC_REPLY 11:22 (2,0)->(3,0)
1335798959104: Dispatching Atom PROC_REPLY 11:22 (2,0)->(3,0)
1335798959105: mux: I got a CSM packet at a leader 
1335798959109: Sending UDP payload: 5918
1335798959110: forwarding disabled, not forwarding packets
1335798959149: =======================
1335798959149: inside sendReplyRepeatingRunnable for replyCount = 500100014
1335798959150: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798959150: Leader about to send REPLY packet, number: 500100014 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798959151: === Finished one round of sending REPLY Packet =======
1335798959151: inside sendPacket(Packet p)
1335798959154: Sending UDP payload: 642
1335798959298: Received UDP payload: 989
1335798959305: mux: GOT CSM_Msg
1335798959305: removed replies before id 22 from sentReplies of size 1
1335798959307: Received DUPLICATE PROC_REQUEST 11:22 (3,0)->(2,0), replying PROC_REPLY 11:22 (2,0)->(3,0)
1335798959308: Dispatching Atom PROC_REPLY 11:22 (2,0)->(3,0)
1335798959308: mux: I got a CSM packet at a leader 
1335798959312: Sending UDP payload: 5918
1335798959314: forwarding disabled, not forwarding packets
1335798959361: Received UDP payload: 989
1335798959371: forwarding disabled, not forwarding packets
1335798959371: mux: GOT CSM_Msg
1335798959403: Received UDP payload: 989
1335798959412: mux: GOT CSM_Msg
1335798959412: removed replies before id 22 from sentReplies of size 1
1335798959414: Received DUPLICATE PROC_REQUEST 11:22 (3,0)->(2,0), replying PROC_REPLY 11:22 (2,0)->(3,0)
1335798959415: Dispatching Atom PROC_REPLY 11:22 (2,0)->(3,0)
1335798959416: mux: I got a CSM packet at a leader 
1335798959423: Sending UDP payload: 5918
1335798959425: forwarding disabled, not forwarding packets
1335798959452: =======================
1335798959452: inside sendReplyRepeatingRunnable for replyCount = 500100014
1335798959453: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798959453: Leader about to send REPLY packet, number: 500100014 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798959454: === Finished one round of sending REPLY Packet =======
1335798959454: inside sendPacket(Packet p)
1335798959458: Sending UDP payload: 642
1335798959497: Received UDP payload: 989
1335798959499: mux: GOT CSM_Msg
1335798959500: removed replies before id 22 from sentReplies of size 1
1335798959501: Received DUPLICATE PROC_REQUEST 11:22 (3,0)->(2,0), replying PROC_REPLY 11:22 (2,0)->(3,0)
1335798959502: Dispatching Atom PROC_REPLY 11:22 (2,0)->(3,0)
1335798959502: mux: I got a CSM packet at a leader 
1335798959505: Sending UDP payload: 5918
1335798959506: forwarding disabled, not forwarding packets
1335798959621: Received UDP payload: 989
1335798959623: mux: GOT CSM_Msg
1335798959624: removed replies before id 22 from sentReplies of size 1
1335798959627: Received DUPLICATE PROC_REQUEST 11:22 (3,0)->(2,0), replying PROC_REPLY 11:22 (2,0)->(3,0)
1335798959628: Dispatching Atom PROC_REPLY 11:22 (2,0)->(3,0)
1335798959629: mux: I got a CSM packet at a leader 
1335798959631: Sending UDP payload: 5918
1335798959633: forwarding disabled, not forwarding packets
1335798959661: Received UDP payload: 446
1335798959699: Received UDP payload: 989
1335798959703: mux: GOT CSM_Msg
1335798959703: removed replies before id 22 from sentReplies of size 1
1335798959704: Received DUPLICATE PROC_REQUEST 11:22 (3,0)->(2,0), replying PROC_REPLY 11:22 (2,0)->(3,0)
1335798959705: Dispatching Atom PROC_REPLY 11:22 (2,0)->(3,0)
1335798959706: mux: I got a CSM packet at a leader 
1335798959710: Sending UDP payload: 5918
1335798959711: forwarding disabled, not forwarding packets
1335798959754: =======================
1335798959755: === Finished one round of sending REPLY Packet =======
1335798959755: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798959755: Leader about to send REPLY packet, number: 500100014 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798959755: inside sendPacket(Packet p)
1335798959755: inside sendReplyRepeatingRunnable for replyCount = 500100014
1335798959758: Sending UDP payload: 642
1335798959844: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100014
1335798959844: inside sendReplyTimeoutR
1335798959911: Received UDP payload: 989
1335798959917: mux: GOT CSM_Msg
1335798959918: Received DUPLICATE PROC_REQUEST 11:22 (3,0)->(2,0), replying PROC_REPLY 11:22 (2,0)->(3,0)
1335798959918: removed replies before id 22 from sentReplies of size 1
1335798959919: Dispatching Atom PROC_REPLY 11:22 (2,0)->(3,0)
1335798959919: mux: I got a CSM packet at a leader 
1335798959921: Sending UDP payload: 5918
1335798959921: forwarding disabled, not forwarding packets
1335798960078: inside sendPacket(Packet p)
1335798960079: Sending UDP payload: 446
1335798960081: Received UDP payload: 446
1335798960084: mux: Inside mux Packet.CLIENT_REQUEST
1335798960620: Received UDP payload: 4971
1335798960623: Note down new request by adding requestCounter=5017127 to HashMap processedRequests
1335798960623: discarding repeated requestCounter=5017127, but still send an ack back
1335798960623: inside handleClientRequest. Originator leader of region 2
1335798960623: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798960623: mux: Inside mux Packet.CLIENT_REQUEST
1335798960624: Make FirstLeg Ack regardless of new or already-processed requests
1335798960624: The leader sending a First Leg ack to originator client (which id = 5017)
1335798960624: inside sendPacket(Packet p)
1335798960633: Sending UDP payload: 446
1335798960933: Received UDP payload: 5652
1335798960938: mux: Inside mux Packet.CLIENT_REQUEST
1335798960939: got new request, requestCounter = 5017128
1335798960939: inside handleClientRequest. Originator leader of region 2
1335798960939: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798960940: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798960941: Sending PROC_REQUEST 10:47 (2,0)->(2,0)
1335798960943: Dispatching Atom PROC_REQUEST 10:47 (2,0)->(2,0)
1335798960943: Make FirstLeg Ack regardless of new or already-processed requests
1335798960943: Note down new request by adding requestCounter=5017128 to HashMap processedRequests
1335798960944: The leader sending a First Leg ack to originator client (which id = 5017)
1335798960944: inside sendPacket(Packet p)
1335798960952: mux: I got a CSM packet at a leader 
1335798960958: Sending UDP payload: 6016
1335798960974: inside handleDSMRequest. At requests's remote leader of region 2
1335798960974: removed replies before id 47 from sentReplies of size 0
1335798960977: Inside UPLOAD_PHOTO!!
1335798960991: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798960991: my_gpinfo.isSuccess is now (should be true): true
1335798960992: Received PROC_REQUEST 10:47 (2,0)->(2,0), replying PROC_REPLY 10:47 (2,0)->(2,0)
1335798960993: Dispatching Atom PROC_REPLY 10:47 (2,0)->(2,0)
1335798960993: Sending UDP payload: 446
1335798960994: mux: I got a CSM packet at a leader 
1335798960995: Sending UDP payload: 989
1335798960996: DSM layer: Going to and from remote region took latency = 56
1335798960996: DSM layer: orig leader sent packet at 1335798960940 ~ received reply from remote leader at 1335798960996
1335798960996: Received PROC_REPLY 10:47 (2,0)->(2,0), handing to UserApp
1335798960996: inside handleDSMReply. Now back in originator leader of region 2
1335798960997: =======================
1335798960997: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798960997: change leader replyCounter to: 15
1335798960997: inside sendReplies of replyCount = 500100015
1335798960997: reply packet contains the success info for UPLOAD_PHOTO
1335798960998: === Finished one round of sending REPLY Packet =======
1335798960998: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798960998: Leader about to send REPLY packet, number: 500100015 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798960998: inside sendPacket(Packet p)
1335798960998: inside sendReplyRepeatingRunnable for replyCount = 500100015
1335798960999: Sending UDP payload: 642
1335798961004: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798961005: I'm a leader and I successfully saved my client's new photo
1335798961006: now showing in UI the new photo I just saved ... 
1335798961006: the photo length: 5005
1335798961047: end of server show photo aside %%%%%%%%%
1335798961298: =======================
1335798961298: inside sendReplyRepeatingRunnable for replyCount = 500100015
1335798961299: === Finished one round of sending REPLY Packet =======
1335798961299: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798961299: Leader about to send REPLY packet, number: 500100015 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798961299: inside sendPacket(Packet p)
1335798961300: Sending UDP payload: 642
1335798961303: Received UDP payload: 5652
1335798961305: Make FirstLeg Ack regardless of new or already-processed requests
1335798961305: Note down new request by adding requestCounter=5017128 to HashMap processedRequests
1335798961305: The leader sending a First Leg ack to originator client (which id = 5017)
1335798961305: discarding repeated requestCounter=5017128, but still send an ack back
1335798961305: inside handleClientRequest. Originator leader of region 2
1335798961305: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798961305: mux: Inside mux Packet.CLIENT_REQUEST
1335798961306: inside sendPacket(Packet p)
1335798961307: Sending UDP payload: 446
1335798961487: Received UDP payload: 5618
1335798961488: inside handleClientRequest. Originator leader of region 2
1335798961488: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798961488: mux: Inside mux Packet.CLIENT_REQUEST
1335798961489: Dispatching Atom PROC_REQUEST 10:48 (2,0)->(2,0)
1335798961489: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798961489: Make FirstLeg Ack regardless of new or already-processed requests
1335798961489: Note down new request by adding requestCounter=5017129 to HashMap processedRequests
1335798961489: Sending PROC_REQUEST 10:48 (2,0)->(2,0)
1335798961489: got new request, requestCounter = 5017129
1335798961490: The leader sending a First Leg ack to originator client (which id = 5017)
1335798961490: inside sendPacket(Packet p)
1335798961490: mux: I got a CSM packet at a leader 
1335798961491: Sending UDP payload: 5982
1335798961493: inside handleDSMRequest. At requests's remote leader of region 2
1335798961493: removed replies before id 48 from sentReplies of size 0
1335798961494: Inside UPLOAD_PHOTO!!
1335798961495: my_gpinfo.isSuccess is now (should be true): true
1335798961496: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798961497: Dispatching Atom PROC_REPLY 10:48 (2,0)->(2,0)
1335798961497: Received PROC_REQUEST 10:48 (2,0)->(2,0), replying PROC_REPLY 10:48 (2,0)->(2,0)
1335798961498: Sending UDP payload: 446
1335798961500: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798961501: I'm a leader and I successfully saved my client's new photo
1335798961501: now showing in UI the new photo I just saved ... 
1335798961501: the photo length: 4971
1335798961532: mux: I got a CSM packet at a leader 
1335798961533: Sending UDP payload: 989
1335798961534: DSM layer: Going to and from remote region took latency = 45
1335798961534: DSM layer: orig leader sent packet at 1335798961489 ~ received reply from remote leader at 1335798961534
1335798961534: Received PROC_REPLY 10:48 (2,0)->(2,0), handing to UserApp
1335798961534: inside handleDSMReply. Now back in originator leader of region 2
1335798961538: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798961538: change leader replyCounter to: 16
1335798961538: inside sendReplies of replyCount = 500100016
1335798961538: reply packet contains the success info for UPLOAD_PHOTO
1335798961539: === Finished one round of sending REPLY Packet =======
1335798961539: =======================
1335798961539: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798961539: Leader about to send REPLY packet, number: 500100016 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798961539: inside sendPacket(Packet p)
1335798961539: inside sendReplyRepeatingRunnable for replyCount = 500100016
1335798961542: Sending UDP payload: 642
1335798961552: end of server show photo aside %%%%%%%%%
1335798961599: =======================
1335798961599: inside sendReplyRepeatingRunnable for replyCount = 500100015
1335798961600: === Finished one round of sending REPLY Packet =======
1335798961600: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798961600: Leader about to send REPLY packet, number: 500100015 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798961600: inside sendPacket(Packet p)
1335798961602: Sending UDP payload: 642
1335798961696: Received UDP payload: 5618
1335798961698: discarding repeated requestCounter=5017129, but still send an ack back
1335798961698: inside handleClientRequest. Originator leader of region 2
1335798961698: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798961698: mux: Inside mux Packet.CLIENT_REQUEST
1335798961699: Make FirstLeg Ack regardless of new or already-processed requests
1335798961699: Note down new request by adding requestCounter=5017129 to HashMap processedRequests
1335798961699: The leader sending a First Leg ack to originator client (which id = 5017)
1335798961699: inside sendPacket(Packet p)
1335798961701: Sending UDP payload: 446
1335798961840: =======================
1335798961840: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798961840: Leader about to send REPLY packet, number: 500100016 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798961840: inside sendReplyRepeatingRunnable for replyCount = 500100016
1335798961841: === Finished one round of sending REPLY Packet =======
1335798961841: inside sendPacket(Packet p)
1335798961842: Sending UDP payload: 642
1335798961905: =======================
1335798961905: Leader about to send REPLY packet, number: 500100015 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798961905: inside sendReplyRepeatingRunnable for replyCount = 500100015
1335798961906: === Finished one round of sending REPLY Packet =======
1335798961906: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798961906: inside sendPacket(Packet p)
1335798961907: Sending UDP payload: 642
1335798961998: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100015
1335798961998: inside sendReplyTimeoutR
1335798962142: =======================
1335798962142: inside sendReplyRepeatingRunnable for replyCount = 500100016
1335798962143: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798962143: Leader about to send REPLY packet, number: 500100016 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798962143: inside sendPacket(Packet p)
1335798962146: === Finished one round of sending REPLY Packet =======
1335798962150: Sending UDP payload: 642
1335798962179: Received UDP payload: 5618
1335798962184: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798962184: mux: Inside mux Packet.CLIENT_REQUEST
1335798962185: discarding repeated requestCounter=5017129, but still send an ack back
1335798962185: inside handleClientRequest. Originator leader of region 2
1335798962186: Make FirstLeg Ack regardless of new or already-processed requests
1335798962186: Note down new request by adding requestCounter=5017129 to HashMap processedRequests
1335798962187: The leader sending a First Leg ack to originator client (which id = 5017)
1335798962187: inside sendPacket(Packet p)
1335798962189: Sending UDP payload: 446
1335798962191: Received UDP payload: 446
1335798962202: Received UDP payload: 446
1335798962203: Received UDP payload: 446
1335798962204: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798962204: mux: Inside mux Packet.CLIENT_REQUEST
1335798962205: got new request, requestCounter = 5017130
1335798962205: inside handleClientRequest. Originator leader of region 2
1335798962206: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100014
1335798962206: Yay the last leg succeeded. Removing reply runnables ...
1335798962206: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100014
1335798962206: do not send ack for received final_leg_ack
1335798962206: inside handleClientRequest. Originator leader of region 2
1335798962206: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798962206: mux: Inside mux Packet.CLIENT_REQUEST
1335798962206: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100014
1335798962207: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100014
1335798962207: Yay the last leg succeeded. Removing reply runnables ...
1335798962207: do not send ack for received final_leg_ack
1335798962207: got new request, requestCounter = 5017131
1335798962207: inside handleClientRequest. Originator leader of region 2
1335798962207: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798962207: mux: Inside mux Packet.CLIENT_REQUEST
1335798962207: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100014
1335798962207: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100014
1335798962208: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100014
1335798962208: Yay the last leg succeeded. Removing reply runnables ...
1335798962208: do not send ack for received final_leg_ack
1335798962208: got new request, requestCounter = 5017132
1335798962208: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100014
1335798962208: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100014
1335798962221: Received UDP payload: 446
1335798962222: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100014
1335798962222: Yay the last leg succeeded. Removing reply runnables ...
1335798962222: got new request, requestCounter = 5017133
1335798962222: inside handleClientRequest. Originator leader of region 2
1335798962222: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798962222: mux: Inside mux Packet.CLIENT_REQUEST
1335798962222: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100014
1335798962223: do not send ack for received final_leg_ack
1335798962223: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100014
1335798962234: Received UDP payload: 446
1335798962235: mux: Inside mux Packet.CLIENT_REQUEST
1335798962236: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100015
1335798962236: Yay the last leg succeeded. Removing reply runnables ...
1335798962236: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100015
1335798962236: do not send ack for received final_leg_ack
1335798962236: got new request, requestCounter = 5017134
1335798962236: inside handleClientRequest. Originator leader of region 2
1335798962236: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798962236: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100015
1335798962287: Received UDP payload: 446
1335798962288: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100015
1335798962288: got new request, requestCounter = 5017136
1335798962288: inside handleClientRequest. Originator leader of region 2
1335798962288: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798962288: mux: Inside mux Packet.CLIENT_REQUEST
1335798962289: Yay the last leg succeeded. Removing reply runnables ...
1335798962289: do not send ack for received final_leg_ack
1335798962289: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100015
1335798962289: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100015
1335798962338: Received UDP payload: 446
1335798962339: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100015
1335798962339: got new request, requestCounter = 5017137
1335798962339: inside handleClientRequest. Originator leader of region 2
1335798962339: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798962339: mux: Inside mux Packet.CLIENT_REQUEST
1335798962340: Yay the last leg succeeded. Removing reply runnables ...
1335798962340: do not send ack for received final_leg_ack
1335798962340: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100015
1335798962340: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100015
1335798962402: Received UDP payload: 989
1335798962404: forwarding disabled, not forwarding packets
1335798962404: mux: GOT CSM_Msg
1335798962446: =======================
1335798962446: inside sendReplyRepeatingRunnable for replyCount = 500100016
1335798962447: === Finished one round of sending REPLY Packet =======
1335798962447: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798962447: Leader about to send REPLY packet, number: 500100016 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798962447: inside sendPacket(Packet p)
1335798962448: Sending UDP payload: 642
1335798962541: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100016
1335798962541: inside sendReplyTimeoutR
1335798963120: Received UDP payload: 989
1335798963123: mux: GOT CSM_Msg
1335798963124: forwarding disabled, not forwarding packets
1335798963324: Received UDP payload: 989
1335798963328: forwarding disabled, not forwarding packets
1335798963328: mux: GOT CSM_Msg
1335798963417: Received UDP payload: 989
1335798963428: mux: GOT CSM_Msg
1335798963429: forwarding disabled, not forwarding packets
1335798963521: Received UDP payload: 989
1335798963529: forwarding disabled, not forwarding packets
1335798963529: mux: GOT CSM_Msg
1335798963613: Received UDP payload: 446
1335798963742: Received UDP payload: 989
1335798963750: forwarding disabled, not forwarding packets
1335798963750: mux: GOT CSM_Msg
1335798963830: Received UDP payload: 989
1335798963838: forwarding disabled, not forwarding packets
1335798963838: mux: GOT CSM_Msg
1335798963950: Received UDP payload: 989
1335798963956: forwarding disabled, not forwarding packets
1335798963956: mux: GOT CSM_Msg
1335798964054: Received UDP payload: 989
1335798964063: mux: GOT CSM_Msg
1335798964064: forwarding disabled, not forwarding packets
1335798964068: Received UDP payload: 5692
1335798964072: inside handleClientRequest. Originator leader of region 2
1335798964072: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798964072: mux: Inside mux Packet.CLIENT_REQUEST
1335798964073: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798964073: got new request, requestCounter = 5017138
1335798964074: Sending PROC_REQUEST 10:49 (2,0)->(2,0)
1335798964076: Dispatching Atom PROC_REQUEST 10:49 (2,0)->(2,0)
1335798964076: Note down new request by adding requestCounter=5017138 to HashMap processedRequests
1335798964077: Make FirstLeg Ack regardless of new or already-processed requests
1335798964077: The leader sending a First Leg ack to originator client (which id = 5017)
1335798964078: inside sendPacket(Packet p)
1335798964078: mux: I got a CSM packet at a leader 
1335798964082: Sending UDP payload: 6056
1335798964087: inside handleDSMRequest. At requests's remote leader of region 2
1335798964087: removed replies before id 49 from sentReplies of size 0
1335798964090: Inside UPLOAD_PHOTO!!
1335798964094: my_gpinfo.isSuccess is now (should be true): true
1335798964098: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798964101: Received PROC_REQUEST 10:49 (2,0)->(2,0), replying PROC_REPLY 10:49 (2,0)->(2,0)
1335798964102: Dispatching Atom PROC_REPLY 10:49 (2,0)->(2,0)
1335798964107: Sending UDP payload: 446
1335798964109: mux: I got a CSM packet at a leader 
1335798964113: Sending UDP payload: 989
1335798964115: Received PROC_REPLY 10:49 (2,0)->(2,0), handing to UserApp
1335798964116: DSM layer: Going to and from remote region took latency = 43
1335798964116: inside handleDSMReply. Now back in originator leader of region 2
1335798964117: DSM layer: orig leader sent packet at 1335798964073 ~ received reply from remote leader at 1335798964116
1335798964119: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798964119: change leader replyCounter to: 17
1335798964120: inside sendReplies of replyCount = 500100017
1335798964120: reply packet contains the success info for UPLOAD_PHOTO
1335798964121: =======================
1335798964121: inside sendReplyRepeatingRunnable for replyCount = 500100017
1335798964122: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798964122: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798964122: Leader about to send REPLY packet, number: 500100017 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798964126: I'm a leader and I successfully saved my client's new photo
1335798964126: inside sendPacket(Packet p)
1335798964127: now showing in UI the new photo I just saved ... 
1335798964128: === Finished one round of sending REPLY Packet =======
1335798964128: the photo length: 5045
1335798964172: Sending UDP payload: 642
1335798964176: end of server show photo aside %%%%%%%%%
1335798964243: Received UDP payload: 989
1335798964246: mux: GOT CSM_Msg
1335798964247: forwarding disabled, not forwarding packets
1335798964267: Received UDP payload: 989
1335798964270: mux: GOT CSM_Msg
1335798964271: forwarding disabled, not forwarding packets
1335798964356: Received UDP payload: 989
1335798964359: forwarding disabled, not forwarding packets
1335798964359: mux: GOT CSM_Msg
1335798964423: Received UDP payload: 446
1335798964425: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798964425: mux: Inside mux Packet.CLIENT_REQUEST
1335798964426: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100017
1335798964426: Yay the last leg succeeded. Removing reply runnables ...
1335798964426: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100017
1335798964426: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100017
1335798964426: do not send ack for received final_leg_ack
1335798964426: got new request, requestCounter = 5017139
1335798964426: inside handleClientRequest. Originator leader of region 2
1335798964440: Received UDP payload: 989
1335798964446: forwarding disabled, not forwarding packets
1335798964446: mux: GOT CSM_Msg
1335798964577: Received UDP payload: 446
1335798964682: Received UDP payload: 625
1335798964686: mux: Inside mux Packet.CLIENT_REQUEST
1335798964691: Received UDP payload: 625
1335798964698: mux: Inside mux Packet.CLIENT_REQUEST
1335798964730: Received UDP payload: 625
1335798964736: mux: Inside mux Packet.CLIENT_REQUEST
1335798964779: Received UDP payload: 625
1335798964780: Received UDP payload: 989
1335798964780: mux: Inside mux Packet.CLIENT_REQUEST
1335798964782: forwarding disabled, not forwarding packets
1335798964782: mux: GOT CSM_Msg
1335798964783: Received UDP payload: 446
1335798964784: Received UDP payload: 446
1335798964784: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798964784: mux: Inside Packet.SERVER_REPLY
1335798964791: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798964791: mux: Inside Packet.SERVER_REPLY
1335798964793: Received UDP payload: 446
1335798964794: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798964794: mux: Inside Packet.SERVER_REPLY
1335798965079: inside sendPacket(Packet p)
1335798965080: Sending UDP payload: 446
1335798965437: Received UDP payload: 989
1335798965441: mux: GOT CSM_Msg
1335798965442: forwarding disabled, not forwarding packets
1335798965597: Received UDP payload: 5439
1335798965603: mux: GOT CSM_Msg
1335798965604: forwarding disabled, not forwarding packets
1335798965612: Received UDP payload: 989
1335798965619: forwarding disabled, not forwarding packets
1335798965619: mux: GOT CSM_Msg
1335798965730: Received UDP payload: 5439
1335798965734: forwarding disabled, not forwarding packets
1335798965734: mux: GOT CSM_Msg
1335798965901: Received UDP payload: 446
1335798965903: mux: Inside mux Packet.CLIENT_REQUEST
1335798967237: Received UDP payload: 989
1335798967244: forwarding disabled, not forwarding packets
1335798967244: mux: GOT CSM_Msg
1335798967945: Received UDP payload: 989
1335798967952: forwarding disabled, not forwarding packets
1335798967952: mux: GOT CSM_Msg
1335798968130: Received UDP payload: 989
1335798968138: forwarding disabled, not forwarding packets
1335798968138: mux: GOT CSM_Msg
1335798968216: Received UDP payload: 5439
1335798968219: forwarding disabled, not forwarding packets
1335798968219: mux: GOT CSM_Msg
1335798968285: Received UDP payload: 5439
1335798968289: mux: GOT CSM_Msg
1335798968290: forwarding disabled, not forwarding packets
1335798968619: Received UDP payload: 446
1335798968942: Received UDP payload: 5275
1335798968949: inside handleClientRequest. Originator leader of region 2
1335798968949: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798968949: mux: Inside mux Packet.CLIENT_REQUEST
1335798968950: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798968950: got new request, requestCounter = 5017140
1335798968951: Sending PROC_REQUEST 10:50 (2,0)->(2,0)
1335798968952: Dispatching Atom PROC_REQUEST 10:50 (2,0)->(2,0)
1335798968953: Make FirstLeg Ack regardless of new or already-processed requests
1335798968953: Note down new request by adding requestCounter=5017140 to HashMap processedRequests
1335798968954: The leader sending a First Leg ack to originator client (which id = 5017)
1335798968954: inside sendPacket(Packet p)
1335798968955: mux: I got a CSM packet at a leader 
1335798968967: Sending UDP payload: 5639
1335798968979: removed replies before id 50 from sentReplies of size 0
1335798968980: inside handleDSMRequest. At requests's remote leader of region 2
1335798968983: Inside UPLOAD_PHOTO!!
1335798968993: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798968993: my_gpinfo.isSuccess is now (should be true): true
1335798968994: Received PROC_REQUEST 10:50 (2,0)->(2,0), replying PROC_REPLY 10:50 (2,0)->(2,0)
1335798968995: Dispatching Atom PROC_REPLY 10:50 (2,0)->(2,0)
1335798968995: Sending UDP payload: 446
1335798968998: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798968999: I'm a leader and I successfully saved my client's new photo
1335798968999: now showing in UI the new photo I just saved ... 
1335798969000: the photo length: 4628
1335798969036: mux: I got a CSM packet at a leader 
1335798969037: Received PROC_REPLY 10:50 (2,0)->(2,0), handing to UserApp
1335798969037: Sending UDP payload: 989
1335798969038: DSM layer: Going to and from remote region took latency = 87
1335798969038: DSM layer: orig leader sent packet at 1335798968951 ~ received reply from remote leader at 1335798969038
1335798969038: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798969038: inside handleDSMReply. Now back in originator leader of region 2
1335798969039: =======================
1335798969039: change leader replyCounter to: 18
1335798969039: inside sendReplies of replyCount = 500100018
1335798969039: inside sendReplyRepeatingRunnable for replyCount = 500100018
1335798969039: reply packet contains the success info for UPLOAD_PHOTO
1335798969040: === Finished one round of sending REPLY Packet =======
1335798969040: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798969040: Leader about to send REPLY packet, number: 500100018 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798969040: inside sendPacket(Packet p)
1335798969041: Sending UDP payload: 642
1335798969047: end of server show photo aside %%%%%%%%%
1335798969340: =======================
1335798969340: inside sendReplyRepeatingRunnable for replyCount = 500100018
1335798969341: === Finished one round of sending REPLY Packet =======
1335798969341: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798969341: Leader about to send REPLY packet, number: 500100018 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798969341: inside sendPacket(Packet p)
1335798969342: Sending UDP payload: 642
1335798969395: Received UDP payload: 446
1335798969397: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100018
1335798969397: Yay the last leg succeeded. Removing reply runnables ...
1335798969397: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100018
1335798969397: got new request, requestCounter = 5017141
1335798969397: inside handleClientRequest. Originator leader of region 2
1335798969397: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798969397: mux: Inside mux Packet.CLIENT_REQUEST
1335798969398: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100018
1335798969398: do not send ack for received final_leg_ack
1335798969789: Received UDP payload: 446
1335798969806: Received UDP payload: 446
1335798969808: inside handleClientRequest. Originator leader of region 2
1335798969808: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798969808: mux: Inside mux Packet.CLIENT_REQUEST
1335798969809: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100018
1335798969809: Yay the last leg succeeded. Removing reply runnables ...
1335798969809: got new request, requestCounter = 5017142
1335798969809: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100018
1335798969809: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100018
1335798969810: do not send ack for received final_leg_ack
1335798970079: inside sendPacket(Packet p)
1335798970081: Sending UDP payload: 446
1335798970819: Received UDP payload: 989
1335798970833: forwarding disabled, not forwarding packets
1335798970833: mux: GOT CSM_Msg
1335798971608: areButtonsEnabled --> false
1335798971608: canPressButton = TRUE
1335798971608: disabling buttons ...
1335798971609: areButtonsEnabled --> false
1335798971609: took picture disableButtonsR
1335798971627: one more takeNum: 12
1335798971630: Clicked take picture button ..
1335798971630: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=12 takeCamGood=11 takeGoodSave=9 takeBad=0 takeTimedout=0 takePercent=75% getNum=10 getGood=4 getBad=5 getTimedout=0 getPercent=40%
1335798971748: Received UDP payload: 989
1335798971759: mux: GOT CSM_Msg
1335798971760: forwarding disabled, not forwarding packets
1335798971832: Received UDP payload: 446
1335798971833: heard LEADER_REQUEST from node 5004, responding LEADER_REPLY
1335798971855: inside sendPacket(Packet p)
1335798971856: Sending UDP payload: 30040
1335798972814: Received UDP payload: 446
1335798972816: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798972816: mux: Inside Packet.SERVER_REPLY
1335798972830: Received UDP payload: 989
1335798972832: forwarding disabled, not forwarding packets
1335798972832: mux: GOT CSM_Msg
1335798972978: inside HandlePictureStorage onPictureTaken()
1335798972979: one more takeCamGood: 12
1335798972979: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=12 takeCamGood=12 takeGoodSave=9 takeBad=0 takeTimedout=0 takePercent=75% getNum=10 getGood=4 getBad=5 getTimedout=0 getPercent=40%
1335798972991: Received UDP payload: 642
1335798972992: Received UDP payload: 642
1335798972992: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798972992: mux: Inside Packet.SERVER_REPLY
1335798972994: Received UDP payload: 642
1335798972994: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798972994: mux: Inside Packet.SERVER_REPLY
1335798972995: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798972995: mux: Inside Packet.SERVER_REPLY
1335798973151: Received UDP payload: 446
1335798973153: mux: Inside mux Packet.CLIENT_REQUEST
1335798973240: Picture successfully taken, ORIG BYTE LENGTH = 2531753
1335798973270: Received UDP payload: 642
1335798973272: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798973272: mux: Inside Packet.SERVER_REPLY
1335798973289: Received UDP payload: 446
1335798973290: mux: Inside mux Packet.CLIENT_REQUEST
1335798973419: Our new height x width: 306 x 408
1335798973419: Show photo from handle my camera take
1335798973420: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798973420: change local requestCounter to 43
1335798973436: BYTE SIZE AFTER COMPRESSION: 5309
1335798973436: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001043 Client in region: 2 Client nodID: 5001
1335798973463: ----------------------------
1335798973464: I'm a leader, my requesting photos packet going to mux directly
1335798973464: inside sendRequestPacketRepeatingRunnable for requestCount = 5001043
1335798973465: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798973465: got new request, requestCounter = 5001043
1335798973465: inside handleClientRequest. Originator leader of region 2
1335798973465: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798973465: mux: Inside mux Packet.CLIENT_REQUEST
1335798973466: Dispatching Atom PROC_REQUEST 10:51 (2,0)->(2,0)
1335798973466: Make FirstLeg Ack regardless of new or already-processed requests
1335798973466: Note down new request by adding requestCounter=5001043 to HashMap processedRequests
1335798973466: Sending PROC_REQUEST 10:51 (2,0)->(2,0)
1335798973466: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798973467: mux: I got a CSM packet at a leader 
1335798973468: Sending UDP payload: 6320
1335798973470: inside handleDSMRequest. At requests's remote leader of region 2
1335798973470: removed replies before id 51 from sentReplies of size 0
1335798973471: Inside UPLOAD_PHOTO!!
1335798973473: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798973473: my_gpinfo.isSuccess is now (should be true): true
1335798973474: Received PROC_REQUEST 10:51 (2,0)->(2,0), replying PROC_REPLY 10:51 (2,0)->(2,0)
1335798973475: --- Finished one round of sending REQUEST Packet ---------
1335798973475: Dispatching Atom PROC_REPLY 10:51 (2,0)->(2,0)
1335798973481: mux: I got a CSM packet at a leader 
1335798973482: Sending UDP payload: 989
1335798973483: DSM layer: Going to and from remote region took latency = 17
1335798973483: DSM layer: orig leader sent packet at 1335798973466 ~ received reply from remote leader at 1335798973483
1335798973483: Received PROC_REPLY 10:51 (2,0)->(2,0), handing to UserApp
1335798973483: inside handleDSMReply. Now back in originator leader of region 2
1335798973484: =======================
1335798973484: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798973484: change leader replyCounter to: 19
1335798973484: inside sendReplies of replyCount = 500100019
1335798973484: reply packet contains the success info for UPLOAD_PHOTO
1335798973485: === Finished one round of sending REPLY Packet =======
1335798973485: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798973485: Leader about to send REPLY packet, number: 500100019 type: 16 Leader in region: (2,0) to Client nodID: 5001
1335798973485: inside sendReplyRepeatingRunnable for replyCount = 500100019
1335798973497: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798973498: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798973498: I'm a leader and I successfully saved my client's new photo
1335798973499: now showing in UI the new photo I just saved ... 
1335798973499: the photo length: 5309
1335798973541: Received UDP payload: 446
1335798973543: Received UDP payload: 6071
1335798973543: mux: Inside mux Packet.CLIENT_REQUEST
1335798973545: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798973545: got new request, requestCounter = 5008099
1335798973545: inside handleClientRequest. Originator leader of region 2
1335798973545: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798973545: mux: Inside mux Packet.CLIENT_REQUEST
1335798973546: Dispatching Atom PROC_REQUEST 10:52 (2,0)->(2,0)
1335798973546: Make FirstLeg Ack regardless of new or already-processed requests
1335798973546: Note down new request by adding requestCounter=5008099 to HashMap processedRequests
1335798973546: Sending PROC_REQUEST 10:52 (2,0)->(2,0)
1335798973546: The leader sending a First Leg ack to originator client (which id = 5008)
1335798973546: inside sendPacket(Packet p)
1335798973547: mux: I got a CSM packet at a leader 
1335798973548: Sending UDP payload: 6435
1335798973550: removed replies before id 52 from sentReplies of size 0
1335798973551: inside handleDSMRequest. At requests's remote leader of region 2
1335798973552: Inside UPLOAD_PHOTO!!
1335798973552: my_gpinfo.isSuccess is now (should be true): true
1335798973553: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798973554: Dispatching Atom PROC_REPLY 10:52 (2,0)->(2,0)
1335798973554: Received PROC_REQUEST 10:52 (2,0)->(2,0), replying PROC_REPLY 10:52 (2,0)->(2,0)
1335798973555: end of server show photo aside %%%%%%%%%
1335798973556: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798973557: Inside _enableButtons
1335798973557: areButtonsEnabled --> true
1335798973557: disabling progressdialog due to successful new photo upload
1335798973557: send final leg ack regardless of new or already-processed reply
1335798973558: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001044 Client in region: (2,0) Client nodID: 5001
1335798973558: I'm a leader client, my final_leg packet going to mux directly
1335798973558: inside finalLegAck: change requestCounter to 44
1335798973558: new client_upload_photo_ack reply with replyCounter 500100019
1335798973559: = leader upload start 1335798973465 ~ stop 1335798973556
1335798973559: leader upload new photo latency = 91
1335798973559: note down new reply by adding replyCounter=500100019 to HashMap processedReplies
1335798973560: one more takeGoodSave: 10
1335798973561: Sending UDP payload: 446
1335798973561: mux: I got a CSM packet at a leader 
1335798973562: Sending UDP payload: 989
1335798973563: DSM layer: Going to and from remote region took latency = 18
1335798973563: DSM layer: orig leader sent packet at 1335798973545 ~ received reply from remote leader at 1335798973563
1335798973563: Received PROC_REPLY 10:52 (2,0)->(2,0), handing to UserApp
1335798973563: inside handleDSMReply. Now back in originator leader of region 2
1335798973564: Originator Region=2's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798973564: change leader replyCounter to: 20
1335798973564: inside sendReplies of replyCount = 500100020
1335798973564: reply packet contains the success info for UPLOAD_PHOTO
1335798973565: === Finished one round of sending REPLY Packet =======
1335798973565: =======================
1335798973565: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335798973565: Leader about to send REPLY packet, number: 500100020 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335798973565: inside sendPacket(Packet p)
1335798973565: inside sendReplyRepeatingRunnable for replyCount = 500100020
1335798973566: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=12 takeCamGood=12 takeGoodSave=10 takeBad=0 takeTimedout=0 takePercent=83% getNum=10 getGood=4 getBad=5 getTimedout=0 getPercent=40%
1335798973567: SUCCESS Client now knows saving photo on its leader succeeded
1335798973569: inside handleClientRequest. Originator leader of region 2
1335798973569: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798973569: mux: Inside mux Packet.CLIENT_REQUEST
1335798973570: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100019
1335798973570: Yay the last leg succeeded. Removing reply runnables ...
1335798973570: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100019
1335798973570: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100019
1335798973570: do not send ack for received final_leg_ack
1335798973570: got new request, requestCounter = 5001044
1335798973571: Sending UDP payload: 642
1335798973599: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798973600: I'm a leader and I successfully saved my client's new photo
1335798973601: now showing in UI the new photo I just saved ... 
1335798973601: the photo length: 5424
1335798973637: Received UDP payload: 446
1335798973644: end of server show photo aside %%%%%%%%%
1335798973858: Received UDP payload: 6071
1335798973860: Note down new request by adding requestCounter=5008099 to HashMap processedRequests
1335798973860: discarding repeated requestCounter=5008099, but still send an ack back
1335798973860: inside handleClientRequest. Originator leader of region 2
1335798973860: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798973860: mux: Inside mux Packet.CLIENT_REQUEST
1335798973861: Make FirstLeg Ack regardless of new or already-processed requests
1335798973861: The leader sending a First Leg ack to originator client (which id = 5008)
1335798973861: inside sendPacket(Packet p)
1335798973862: Sending UDP payload: 446
1335798973866: === Finished one round of sending REPLY Packet =======
1335798973866: =======================
1335798973866: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335798973866: Leader about to send REPLY packet, number: 500100020 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335798973866: inside sendPacket(Packet p)
1335798973866: inside sendReplyRepeatingRunnable for replyCount = 500100020
1335798973868: Sending UDP payload: 642
1335798974166: =======================
1335798974166: inside sendReplyRepeatingRunnable for replyCount = 500100020
1335798974167: === Finished one round of sending REPLY Packet =======
1335798974167: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335798974167: Leader about to send REPLY packet, number: 500100020 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335798974167: inside sendPacket(Packet p)
1335798974169: Sending UDP payload: 642
1335798974286: Received UDP payload: 446
1335798974288: inside handleClientRequest. Originator leader of region 2
1335798974288: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798974288: mux: Inside mux Packet.CLIENT_REQUEST
1335798974289: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100020
1335798974289: Yay the last leg succeeded. Removing reply runnables ...
1335798974289: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100020
1335798974289: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100020
1335798974289: got new request, requestCounter = 5008100
1335798974290: do not send ack for received final_leg_ack
1335798974574: Received UDP payload: 625
1335798974580: mux: Inside mux Packet.CLIENT_REQUEST
1335798974627: Received UDP payload: 446
1335798974629: heard LEADER_REQUEST from node 5004, responding LEADER_REPLY
1335798974651: inside sendPacket(Packet p)
1335798974652: Sending UDP payload: 30836
1335798974705: Received UDP payload: 446
1335798974707: heard LEADER_REQUEST from node 5004, responding LEADER_REPLY
1335798974715: Received UDP payload: 446
1335798974726: inside sendPacket(Packet p)
1335798974727: Sending UDP payload: 30836
1335798974729: heard LEADER_REQUEST from node 5004, responding LEADER_REPLY
1335798974751: inside sendPacket(Packet p)
1335798974752: Sending UDP payload: 30836
1335798974769: Received UDP payload: 446
1335798974770: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100020
1335798974770: got new request, requestCounter = 5008101
1335798974770: inside handleClientRequest. Originator leader of region 2
1335798974770: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798974770: mux: Inside mux Packet.CLIENT_REQUEST
1335798974771: Yay the last leg succeeded. Removing reply runnables ...
1335798974771: do not send ack for received final_leg_ack
1335798974771: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100020
1335798974771: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100020
1335798974875: Received UDP payload: 625
1335798974877: mux: Inside mux Packet.CLIENT_REQUEST
1335798974963: Received UDP payload: 446
1335798975080: inside sendPacket(Packet p)
1335798975081: Sending UDP payload: 446
1335798975088: Received UDP payload: 446
1335798975090: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798975090: mux: Inside Packet.SERVER_REPLY
1335798975095: Received UDP payload: 446
1335798975096: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798975096: mux: Inside Packet.SERVER_REPLY
1335798975413: Received UDP payload: 989
1335798975421: mux: GOT CSM_Msg
1335798975421: removed replies before id 3 from sentReplies of size 2
1335798975422: inside handleDSMRequest. At requests's remote leader of region 2
1335798975424: INSIDE SERVER_GET_PHOTO!!!
1335798975428: Received PROC_REQUEST 11:3 (1,0)->(2,0), replying PROC_REPLY 11:3 (2,0)->(1,0)
1335798975429: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798975430: mux: I got a CSM packet at a leader 
1335798975446: Sending UDP payload: 6435
1335798975454: forwarding disabled, not forwarding packets
1335798975505: Received UDP payload: 989
1335798975507: mux: GOT CSM_Msg
1335798975508: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798975508: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(2,0), replying PROC_REPLY 11:3 (2,0)->(1,0)
1335798975508: removed replies before id 3 from sentReplies of size 3
1335798975509: mux: I got a CSM packet at a leader 
1335798975510: Sending UDP payload: 6435
1335798975510: forwarding disabled, not forwarding packets
1335798975717: Received UDP payload: 989
1335798975719: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(2,0), replying PROC_REPLY 11:3 (2,0)->(1,0)
1335798975719: mux: GOT CSM_Msg
1335798975719: removed replies before id 3 from sentReplies of size 3
1335798975720: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798975720: mux: I got a CSM packet at a leader 
1335798975721: Sending UDP payload: 6435
1335798975721: forwarding disabled, not forwarding packets
1335798975769: Received UDP payload: 989
1335798975771: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(2,0), replying PROC_REPLY 11:3 (2,0)->(1,0)
1335798975771: mux: GOT CSM_Msg
1335798975771: removed replies before id 3 from sentReplies of size 3
1335798975772: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798975772: mux: I got a CSM packet at a leader 
1335798975773: Sending UDP payload: 6435
1335798975773: forwarding disabled, not forwarding packets
1335798975848: Received UDP payload: 989
1335798975850: mux: GOT CSM_Msg
1335798975851: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798975851: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(2,0), replying PROC_REPLY 11:3 (2,0)->(1,0)
1335798975851: mux: I got a CSM packet at a leader 
1335798975851: removed replies before id 3 from sentReplies of size 3
1335798975852: Sending UDP payload: 6435
1335798975853: forwarding disabled, not forwarding packets
1335798975952: Received UDP payload: 989
1335798975954: mux: GOT CSM_Msg
1335798975954: removed replies before id 3 from sentReplies of size 3
1335798975955: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798975955: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(2,0), replying PROC_REPLY 11:3 (2,0)->(1,0)
1335798975955: mux: I got a CSM packet at a leader 
1335798975956: Sending UDP payload: 6435
1335798975957: forwarding disabled, not forwarding packets
1335798976041: Received UDP payload: 989
1335798976043: mux: GOT CSM_Msg
1335798976043: removed replies before id 3 from sentReplies of size 3
1335798976044: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798976044: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(2,0), replying PROC_REPLY 11:3 (2,0)->(1,0)
1335798976044: mux: I got a CSM packet at a leader 
1335798976045: Sending UDP payload: 6435
1335798976047: forwarding disabled, not forwarding packets
1335798976240: Received UDP payload: 989
1335798976247: mux: GOT CSM_Msg
1335798976248: removed replies before id 3 from sentReplies of size 3
1335798976249: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798976249: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(2,0), replying PROC_REPLY 11:3 (2,0)->(1,0)
1335798976249: mux: I got a CSM packet at a leader 
1335798976256: Sending UDP payload: 6435
1335798976257: forwarding disabled, not forwarding packets
1335798976533: Received UDP payload: 989
1335798976537: mux: GOT CSM_Msg
1335798976537: removed replies before id 3 from sentReplies of size 3
1335798976538: Received DUPLICATE PROC_REQUEST 11:3 (1,0)->(2,0), replying PROC_REPLY 11:3 (2,0)->(1,0)
1335798976539: Dispatching Atom PROC_REPLY 11:3 (2,0)->(1,0)
1335798976539: mux: I got a CSM packet at a leader 
1335798976541: Sending UDP payload: 6435
1335798976552: forwarding disabled, not forwarding packets
1335798976861: Received UDP payload: 989
1335798976864: mux: GOT CSM_Msg
1335798976865: forwarding disabled, not forwarding packets
1335798976875: Received UDP payload: 642
1335798976878: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798976878: mux: Inside Packet.SERVER_REPLY
1335798979344: Received UDP payload: 5792
1335798979350: inside handleClientRequest. Originator leader of region 2
1335798979350: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798979350: mux: Inside mux Packet.CLIENT_REQUEST
1335798979351: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798979351: got new request, requestCounter = 5017143
1335798979368: Sending PROC_REQUEST 10:53 (2,0)->(2,0)
1335798979369: Dispatching Atom PROC_REQUEST 10:53 (2,0)->(2,0)
1335798979370: Make FirstLeg Ack regardless of new or already-processed requests
1335798979370: Note down new request by adding requestCounter=5017143 to HashMap processedRequests
1335798979371: The leader sending a First Leg ack to originator client (which id = 5017)
1335798979371: inside sendPacket(Packet p)
1335798979372: mux: I got a CSM packet at a leader 
1335798979375: Sending UDP payload: 6156
1335798979380: removed replies before id 53 from sentReplies of size 0
1335798979381: inside handleDSMRequest. At requests's remote leader of region 2
1335798979383: Inside UPLOAD_PHOTO!!
1335798979398: my_gpinfo.isSuccess is now (should be true): true
1335798979399: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798979416: Dispatching Atom PROC_REPLY 10:53 (2,0)->(2,0)
1335798979416: Received PROC_REQUEST 10:53 (2,0)->(2,0), replying PROC_REPLY 10:53 (2,0)->(2,0)
1335798979417: Sending UDP payload: 446
1335798979417: mux: I got a CSM packet at a leader 
1335798979418: Sending UDP payload: 989
1335798979425: Received PROC_REPLY 10:53 (2,0)->(2,0), handing to UserApp
1335798979425: inside handleDSMReply. Now back in originator leader of region 2
1335798979426: DSM layer: Going to and from remote region took latency = 73
1335798979426: DSM layer: orig leader sent packet at 1335798979352 ~ received reply from remote leader at 1335798979425
1335798979426: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798979426: change leader replyCounter to: 21
1335798979427: === Finished one round of sending REPLY Packet =======
1335798979427: =======================
1335798979427: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798979427: Leader about to send REPLY packet, number: 500100021 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798979427: inside sendPacket(Packet p)
1335798979427: inside sendReplies of replyCount = 500100021
1335798979427: inside sendReplyRepeatingRunnable for replyCount = 500100021
1335798979427: reply packet contains the success info for UPLOAD_PHOTO
1335798979428: Sending UDP payload: 642
1335798979432: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798979433: I'm a leader and I successfully saved my client's new photo
1335798979433: now showing in UI the new photo I just saved ... 
1335798979433: the photo length: 5145
1335798979500: end of server show photo aside %%%%%%%%%
1335798979583: Received UDP payload: 989
1335798979586: mux: GOT CSM_Msg
1335798979586: removed replies before id 4 from sentReplies of size 2
1335798979587: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798979587: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798979587: mux: I got a CSM packet at a leader 
1335798979588: Sending UDP payload: 6390
1335798979590: forwarding disabled, not forwarding packets
1335798979721: Received UDP payload: 446
1335798979723: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100021
1335798979723: Yay the last leg succeeded. Removing reply runnables ...
1335798979723: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100021
1335798979723: got new request, requestCounter = 5017144
1335798979723: inside handleClientRequest. Originator leader of region 2
1335798979723: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798979723: mux: Inside mux Packet.CLIENT_REQUEST
1335798979724: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100021
1335798979724: do not send ack for received final_leg_ack
1335798979742: Received UDP payload: 446
1335798979782: Received UDP payload: 989
1335798979784: mux: GOT CSM_Msg
1335798979784: removed replies before id 4 from sentReplies of size 2
1335798979785: Dispatching Atom PROC_REPLY 11:4 (2,0)->(1,0)
1335798979785: Received DUPLICATE PROC_REQUEST 11:4 (1,0)->(2,0), replying PROC_REPLY 11:4 (2,0)->(1,0)
1335798979785: mux: I got a CSM packet at a leader 
1335798979786: Sending UDP payload: 6390
1335798979787: forwarding disabled, not forwarding packets
1335798980081: inside sendPacket(Packet p)
1335798980084: Sending UDP payload: 446
1335798981293: canPressButton = TRUE
1335798981294: areButtonsEnabled --> false
1335798981294: areButtonsEnabled --> false 
1335798981294: get picture disableButtonsR
1335798981312: one more getNum: 11
1335798981313: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335798981313: change local requestCounter to 45
1335798981313: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=12 takeCamGood=12 takeGoodSave=10 takeBad=0 takeTimedout=0 takePercent=83% getNum=11 getGood=4 getBad=5 getTimedout=0 getPercent=36%
1335798981314: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001045 Client in region: 2 Client nodID: 5001
1335798981346: ----------------------------
1335798981346: inside sendRequestPacketRepeatingRunnable for requestCount = 5001045
1335798981347: I'm a leader, my requesting photos packet going to mux directly
1335798981347: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798981347: got new request, requestCounter = 5001045
1335798981347: inside handleClientRequest. Originator leader of region 2
1335798981347: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798981347: mux: Inside mux Packet.CLIENT_REQUEST
1335798981348: Sending PROC_REQUEST 11:14 (2,0)->(1,0)
1335798981348: Sending to region: 1
1335798981349: Dispatching Atom PROC_REQUEST 11:14 (2,0)->(1,0)
1335798981349: Make FirstLeg Ack regardless of new or already-processed requests
1335798981349: Note down new request by adding requestCounter=5001045 to HashMap processedRequests
1335798981349: mux: I got a CSM packet at a leader 
1335798981349: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798981350: Sending UDP payload: 989
1335798981352: --- Finished one round of sending REQUEST Packet ---------
1335798981352: forwarding disabled, not forwarding packets
1335798981384: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798981403: Received UDP payload: 6043
1335798981405: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798981405: mux: Inside Packet.SERVER_REPLY
1335798981514: Received UDP payload: 5485
1335798981516: mux: GOT CSM_Msg
1335798981517: DSM layer: Going to and from remote region took latency = 169
1335798981517: DSM layer: orig leader sent packet at 1335798981348 ~ received reply from remote leader at 1335798981517
1335798981517: Received PROC_REPLY 11:14 (1,0)->(2,0), handing to UserApp
1335798981517: inside handleDSMReply. Now back in originator leader of region 2
1335798981518: =======================
1335798981518: Leader about to send REPLY packet, number: 500100022 type: 15 Leader in region: (2,0) to Client nodID: 5001
1335798981518: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798981518: change leader replyCounter to: 22
1335798981518: inside sendReplies of replyCount = 500100022
1335798981518: inside sendReplyRepeatingRunnable for replyCount = 500100022
1335798981518: reply packet contains the newest photo/success info from the remote region
1335798981519: === Finished one round of sending REPLY Packet =======
1335798981519: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798981520: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798981520: Inside _enableButtons
1335798981520: areButtonsEnabled --> true
1335798981520: disabling progressdialog due to successful new photo get
1335798981521: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001046 Client in region: (2,0) Client nodID: 5001
1335798981521: I'm a leader client, my final_leg packet going to mux directly
1335798981521: inside finalLegAck: change requestCounter to 46
1335798981521: send final leg ack regardless of new or already-processed reply
1335798981524: csn discarding repeated replyCounter=500100022, but still sent an ack back
1335798981525: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798981525: mux: Inside mux Packet.CLIENT_REQUEST
1335798981526: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100022
1335798981526: got new request, requestCounter = 5001046
1335798981526: inside handleClientRequest. Originator leader of region 2
1335798981527: Yay the last leg succeeded. Removing reply runnables ...
1335798981527: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100022
1335798981528: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100022
1335798981528: do not send ack for received final_leg_ack
1335798983679: Received UDP payload: 446
1335798983983: Received UDP payload: 989
1335798983991: forwarding disabled, not forwarding packets
1335798983991: mux: GOT CSM_Msg
1335798984017: Received UDP payload: 446
1335798984077: Received UDP payload: 446
1335798984424: Received UDP payload: 446
1335798985082: inside sendPacket(Packet p)
1335798985084: Sending UDP payload: 446
1335798985111: Received UDP payload: 446
1335798986160: areButtonsEnabled --> false 
1335798986160: canPressButton = TRUE
1335798986161: areButtonsEnabled --> false
1335798986161: get picture disableButtonsR
1335798986194: one more getNum: 12
1335798986196: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335798986196: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=12 takeCamGood=12 takeGoodSave=10 takeBad=0 takeTimedout=0 takePercent=83% getNum=12 getGood=4 getBad=5 getTimedout=0 getPercent=33%
1335798986197: change local requestCounter to 47
1335798986199: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001047 Client in region: 2 Client nodID: 5001
1335798986259: ----------------------------
1335798986259: inside sendRequestPacketRepeatingRunnable for requestCount = 5001047
1335798986260: I'm a leader, my requesting photos packet going to mux directly
1335798986260: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798986260: got new request, requestCounter = 5001047
1335798986260: inside handleClientRequest. Originator leader of region 2
1335798986260: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798986260: mux: Inside mux Packet.CLIENT_REQUEST
1335798986261: Dispatching Atom PROC_REQUEST 11:6 (2,0)->(3,0)
1335798986261: Sending PROC_REQUEST 11:6 (2,0)->(3,0)
1335798986261: Sending to region: 3
1335798986262: Make FirstLeg Ack regardless of new or already-processed requests
1335798986262: Note down new request by adding requestCounter=5001047 to HashMap processedRequests
1335798986262: mux: I got a CSM packet at a leader 
1335798986262: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798986263: Sending UDP payload: 989
1335798986264: --- Finished one round of sending REQUEST Packet ---------
1335798986264: forwarding disabled, not forwarding packets
1335798986296: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798986832: Received UDP payload: 6541
1335798986836: mux: GOT CSM_Msg
1335798986837: DSM layer: Going to and from remote region took latency = 576
1335798986837: Received PROC_REPLY 11:6 (3,0)->(2,0), handing to UserApp
1335798986837: inside handleDSMReply. Now back in originator leader of region 2
1335798986838: DSM layer: orig leader sent packet at 1335798986261 ~ received reply from remote leader at 1335798986837
1335798986839: =======================
1335798986839: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798986839: change leader replyCounter to: 23
1335798986839: inside sendReplies of replyCount = 500100023
1335798986839: inside sendReplyRepeatingRunnable for replyCount = 500100023
1335798986839: reply packet contains the newest photo/success info from the remote region
1335798986840: === Finished one round of sending REPLY Packet =======
1335798986840: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798986840: Leader about to send REPLY packet, number: 500100023 type: 15 Leader in region: (2,0) to Client nodID: 5001
1335798986841: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335798986842: Inside _enableButtons
1335798986842: disabling progressdialog due to successful new photo get
1335798986843: areButtonsEnabled --> true
1335798986843: inside finalLegAck: change requestCounter to 48
1335798986843: send final leg ack regardless of new or already-processed reply
1335798986847: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001048 Client in region: (2,0) Client nodID: 5001
1335798986848: I'm a leader client, my final_leg packet going to mux directly
1335798986848: inside handleClientRequest. Originator leader of region 2
1335798986848: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798986848: mux: Inside mux Packet.CLIENT_REQUEST
1335798986849: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100023
1335798986849: Yay the last leg succeeded. Removing reply runnables ...
1335798986849: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100023
1335798986849: got new request, requestCounter = 5001048
1335798986850: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100023
1335798986850: do not send ack for received final_leg_ack
1335798986851: new client_show_remotephoto reply with replyCounter 500100023
1335798986854: leader download remote photo latency = 581
1335798986854: note down new reply by adding replyCounter=500100023 to HashMap processedReplies
1335798986855: = leader download start 1335798986260 ~ stop 1335798986841
1335798986856: one more getGood: 5
1335798986858: Success! Client getting photo from remote region, showing photo...
1335798986858: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=12 takeCamGood=12 takeGoodSave=10 takeBad=0 takeTimedout=0 takePercent=83% getNum=12 getGood=5 getBad=5 getTimedout=0 getPercent=41%
1335798986858: successful reply for client get photo
1335798986862: Remote photo's length: 5530
1335798987580: Received UDP payload: 625
1335798987582: mux: Inside mux Packet.CLIENT_REQUEST
1335798987677: Received UDP payload: 446
1335798987679: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798987679: mux: Inside Packet.SERVER_REPLY
1335798987744: Received UDP payload: 5425
1335798987746: mux: Inside mux Packet.CLIENT_REQUEST
1335798987798: Received UDP payload: 446
1335798987800: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798987800: mux: Inside Packet.SERVER_REPLY
1335798987838: Received UDP payload: 625
1335798987840: mux: Inside mux Packet.CLIENT_REQUEST
1335798987867: Received UDP payload: 446
1335798987869: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798987869: mux: Inside Packet.SERVER_REPLY
1335798988328: Received UDP payload: 6330
1335798988333: inside handleClientRequest. Originator leader of region 2
1335798988333: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798988333: mux: Inside mux Packet.CLIENT_REQUEST
1335798988334: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798988334: got new request, requestCounter = 5008103
1335798988336: Sending PROC_REQUEST 10:54 (2,0)->(2,0)
1335798988338: Dispatching Atom PROC_REQUEST 10:54 (2,0)->(2,0)
1335798988338: Make FirstLeg Ack regardless of new or already-processed requests
1335798988338: Note down new request by adding requestCounter=5008103 to HashMap processedRequests
1335798988339: The leader sending a First Leg ack to originator client (which id = 5008)
1335798988339: inside sendPacket(Packet p)
1335798988340: mux: I got a CSM packet at a leader 
1335798988342: Received UDP payload: 989
1335798988353: Sending UDP payload: 6694
1335798988365: removed replies before id 54 from sentReplies of size 0
1335798988366: inside handleDSMRequest. At requests's remote leader of region 2
1335798988369: Inside UPLOAD_PHOTO!!
1335798988373: my_gpinfo.isSuccess is now (should be true): true
1335798988374: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798988385: Received PROC_REQUEST 10:54 (2,0)->(2,0), replying PROC_REPLY 10:54 (2,0)->(2,0)
1335798988387: Dispatching Atom PROC_REPLY 10:54 (2,0)->(2,0)
1335798988389: Sending UDP payload: 446
1335798988401: mux: GOT CSM_Msg
1335798988402: forwarding disabled, not forwarding packets
1335798988402: mux: I got a CSM packet at a leader 
1335798988406: Sending UDP payload: 989
1335798988412: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798988417: DSM layer: Going to and from remote region took latency = 83
1335798988417: Received PROC_REPLY 10:54 (2,0)->(2,0), handing to UserApp
1335798988417: inside handleDSMReply. Now back in originator leader of region 2
1335798988418: DSM layer: orig leader sent packet at 1335798988334 ~ received reply from remote leader at 1335798988417
1335798988418: Originator Region=2's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798988419: =======================
1335798988419: change leader replyCounter to: 24
1335798988419: inside sendReplies of replyCount = 500100024
1335798988419: inside sendReplyRepeatingRunnable for replyCount = 500100024
1335798988419: reply packet contains the success info for UPLOAD_PHOTO
1335798988420: === Finished one round of sending REPLY Packet =======
1335798988420: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335798988420: Leader about to send REPLY packet, number: 500100024 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335798988420: inside sendPacket(Packet p)
1335798988421: Sending UDP payload: 642
1335798988423: I'm a leader and I successfully saved my client's new photo
1335798988423: now showing in UI the new photo I just saved ... 
1335798988423: the photo length: 5683
1335798988464: end of server show photo aside %%%%%%%%%
1335798988720: =======================
1335798988721: === Finished one round of sending REPLY Packet =======
1335798988721: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335798988721: Leader about to send REPLY packet, number: 500100024 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335798988721: inside sendPacket(Packet p)
1335798988721: inside sendReplyRepeatingRunnable for replyCount = 500100024
1335798988722: Sending UDP payload: 642
1335798988819: Received UDP payload: 6330
1335798988820: discarding repeated requestCounter=5008103, but still send an ack back
1335798988820: inside handleClientRequest. Originator leader of region 2
1335798988820: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798988820: mux: Inside mux Packet.CLIENT_REQUEST
1335798988821: Make FirstLeg Ack regardless of new or already-processed requests
1335798988821: Note down new request by adding requestCounter=5008103 to HashMap processedRequests
1335798988821: The leader sending a First Leg ack to originator client (which id = 5008)
1335798988821: inside sendPacket(Packet p)
1335798988822: Sending UDP payload: 446
1335798988901: Received UDP payload: 989
1335798988903: forwarding disabled, not forwarding packets
1335798988903: mux: GOT CSM_Msg
1335798989022: =======================
1335798989022: inside sendReplyRepeatingRunnable for replyCount = 500100024
1335798989023: === Finished one round of sending REPLY Packet =======
1335798989023: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335798989023: Leader about to send REPLY packet, number: 500100024 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335798989023: inside sendPacket(Packet p)
1335798989025: Sending UDP payload: 642
1335798989051: Received UDP payload: 446
1335798989054: got new request, requestCounter = 5008104
1335798989054: inside handleClientRequest. Originator leader of region 2
1335798989054: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798989054: mux: Inside mux Packet.CLIENT_REQUEST
1335798989055: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100024
1335798989055: Yay the last leg succeeded. Removing reply runnables ...
1335798989055: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100024
1335798989056: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100024
1335798989056: do not send ack for received final_leg_ack
1335798989067: Received UDP payload: 989
1335798989071: forwarding disabled, not forwarding packets
1335798989071: mux: GOT CSM_Msg
1335798989081: Received UDP payload: 989
1335798989086: forwarding disabled, not forwarding packets
1335798989086: mux: GOT CSM_Msg
1335798989092: Received UDP payload: 989
1335798989097: forwarding disabled, not forwarding packets
1335798989097: mux: GOT CSM_Msg
1335798989113: Received UDP payload: 989
1335798989117: forwarding disabled, not forwarding packets
1335798989117: mux: GOT CSM_Msg
1335798989122: Received UDP payload: 989
1335798989128: forwarding disabled, not forwarding packets
1335798989128: mux: GOT CSM_Msg
1335798989168: Received UDP payload: 989
1335798989172: mux: GOT CSM_Msg
1335798989173: forwarding disabled, not forwarding packets
1335798989253: Received UDP payload: 989
1335798989259: mux: GOT CSM_Msg
1335798989260: forwarding disabled, not forwarding packets
1335798989453: Received UDP payload: 989
1335798989460: forwarding disabled, not forwarding packets
1335798989460: mux: GOT CSM_Msg
1335798989562: Received UDP payload: 989
1335798989571: forwarding disabled, not forwarding packets
1335798989571: mux: GOT CSM_Msg
1335798989671: Received UDP payload: 989
1335798989680: forwarding disabled, not forwarding packets
1335798989680: mux: GOT CSM_Msg
1335798989716: Received UDP payload: 446
1335798989720: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798989720: mux: Inside mux Packet.CLIENT_REQUEST
1335798989721: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100024
1335798989721: got new request, requestCounter = 5008105
1335798989721: inside handleClientRequest. Originator leader of region 2
1335798989722: Yay the last leg succeeded. Removing reply runnables ...
1335798989722: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100024
1335798989722: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100024
1335798989723: do not send ack for received final_leg_ack
1335798989781: Received UDP payload: 642
1335798989782: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798989782: mux: Inside Packet.SERVER_REPLY
1335798989799: Received UDP payload: 446
1335798989801: mux: Inside mux Packet.CLIENT_REQUEST
1335798990082: inside sendPacket(Packet p)
1335798990083: Sending UDP payload: 446
1335798990092: Received UDP payload: 5425
1335798990094: mux: Inside mux Packet.CLIENT_REQUEST
1335798990373: Received UDP payload: 446
1335798990447: Received UDP payload: 989
1335798990454: mux: GOT CSM_Msg
1335798990455: removed replies before id 5 from sentReplies of size 1
1335798990456: inside handleDSMRequest. At requests's remote leader of region 2
1335798990465: INSIDE SERVER_GET_PHOTO!!!
1335798990470: Received PROC_REQUEST 11:5 (1,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(1,0)
1335798990471: Dispatching Atom PROC_REPLY 11:5 (2,0)->(1,0)
1335798990472: mux: I got a CSM packet at a leader 
1335798990485: Sending UDP payload: 6694
1335798990490: forwarding disabled, not forwarding packets
1335798990569: Received UDP payload: 446
1335798990571: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798990571: mux: Inside Packet.SERVER_REPLY
1335798990591: Received UDP payload: 642
1335798990593: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798990593: mux: Inside Packet.SERVER_REPLY
1335798990598: Received UDP payload: 642
1335798990600: mux: Inside Packet.SERVER_REPLY
1335798990601: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798990638: Received UDP payload: 989
1335798990641: mux: GOT CSM_Msg
1335798990641: removed replies before id 5 from sentReplies of size 2
1335798990642: Received DUPLICATE PROC_REQUEST 11:5 (1,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(1,0)
1335798990643: Dispatching Atom PROC_REPLY 11:5 (2,0)->(1,0)
1335798990643: mux: I got a CSM packet at a leader 
1335798990645: Sending UDP payload: 6694
1335798990645: forwarding disabled, not forwarding packets
1335798990769: Received UDP payload: 989
1335798990772: mux: GOT CSM_Msg
1335798990773: Received DUPLICATE PROC_REQUEST 11:5 (1,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(1,0)
1335798990773: removed replies before id 5 from sentReplies of size 2
1335798990774: Dispatching Atom PROC_REPLY 11:5 (2,0)->(1,0)
1335798990774: mux: I got a CSM packet at a leader 
1335798990776: Sending UDP payload: 6694
1335798990777: forwarding disabled, not forwarding packets
1335798991706: Received UDP payload: 642
1335798991711: mux: Inside Packet.SERVER_REPLY
1335798991712: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798991743: Received UDP payload: 446
1335798991748: mux: Inside mux Packet.CLIENT_REQUEST
1335798991776: Received UDP payload: 989
1335798991782: mux: GOT CSM_Msg
1335798991784: removed replies before id 5 from sentReplies of size 2
1335798991786: Received DUPLICATE PROC_REQUEST 11:5 (1,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(1,0)
1335798991787: Dispatching Atom PROC_REPLY 11:5 (2,0)->(1,0)
1335798991788: mux: I got a CSM packet at a leader 
1335798991791: Sending UDP payload: 6694
1335798991802: Received UDP payload: 989
1335798991809: forwarding disabled, not forwarding packets
1335798991810: mux: GOT CSM_Msg
1335798991810: removed replies before id 5 from sentReplies of size 2
1335798991811: Received DUPLICATE PROC_REQUEST 11:5 (1,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(1,0)
1335798991812: Dispatching Atom PROC_REPLY 11:5 (2,0)->(1,0)
1335798991813: mux: I got a CSM packet at a leader 
1335798991827: Sending UDP payload: 6694
1335798991834: forwarding disabled, not forwarding packets
1335798992082: Received UDP payload: 989
1335798992085: mux: GOT CSM_Msg
1335798992085: removed replies before id 5 from sentReplies of size 2
1335798992086: Dispatching Atom PROC_REPLY 11:5 (2,0)->(1,0)
1335798992086: Received DUPLICATE PROC_REQUEST 11:5 (1,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(1,0)
1335798992086: mux: I got a CSM packet at a leader 
1335798992087: Sending UDP payload: 6694
1335798992098: Received UDP payload: 642
1335798992101: forwarding disabled, not forwarding packets
1335798992101: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798992101: mux: Inside Packet.SERVER_REPLY
1335798992112: Received UDP payload: 989
1335798992114: mux: GOT CSM_Msg
1335798992114: removed replies before id 5 from sentReplies of size 2
1335798992115: Dispatching Atom PROC_REPLY 11:5 (2,0)->(1,0)
1335798992115: Received DUPLICATE PROC_REQUEST 11:5 (1,0)->(2,0), replying PROC_REPLY 11:5 (2,0)->(1,0)
1335798992115: mux: I got a CSM packet at a leader 
1335798992116: Sending UDP payload: 6694
1335798992117: forwarding disabled, not forwarding packets
1335798992200: areButtonsEnabled --> false
1335798992200: canPressButton = TRUE
1335798992201: areButtonsEnabled --> false
1335798992201: disabling buttons ...
1335798992201: took picture disableButtonsR
1335798992230: one more takeNum: 13
1335798992231: Clicked take picture button ..
1335798992231: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=13 takeCamGood=12 takeGoodSave=10 takeBad=0 takeTimedout=0 takePercent=76% getNum=12 getGood=5 getBad=5 getTimedout=0 getPercent=41%
1335798992438: Received UDP payload: 5392
1335798992440: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798992440: got new request, requestCounter = 5017145
1335798992440: inside handleClientRequest. Originator leader of region 2
1335798992440: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798992440: mux: Inside mux Packet.CLIENT_REQUEST
1335798992441: Dispatching Atom PROC_REQUEST 10:55 (2,0)->(2,0)
1335798992441: Make FirstLeg Ack regardless of new or already-processed requests
1335798992441: Note down new request by adding requestCounter=5017145 to HashMap processedRequests
1335798992441: Sending PROC_REQUEST 10:55 (2,0)->(2,0)
1335798992441: The leader sending a First Leg ack to originator client (which id = 5017)
1335798992441: inside sendPacket(Packet p)
1335798992442: mux: I got a CSM packet at a leader 
1335798992443: Sending UDP payload: 5756
1335798992445: removed replies before id 55 from sentReplies of size 0
1335798992446: inside handleDSMRequest. At requests's remote leader of region 2
1335798992447: Inside UPLOAD_PHOTO!!
1335798992453: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798992453: my_gpinfo.isSuccess is now (should be true): true
1335798992454: Received PROC_REQUEST 10:55 (2,0)->(2,0), replying PROC_REPLY 10:55 (2,0)->(2,0)
1335798992455: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798992455: Dispatching Atom PROC_REPLY 10:55 (2,0)->(2,0)
1335798992456: I'm a leader and I successfully saved my client's new photo
1335798992456: Sending UDP payload: 446
1335798992457: mux: I got a CSM packet at a leader 
1335798992457: now showing in UI the new photo I just saved ... 
1335798992457: the photo length: 4745
1335798992502: Sending UDP payload: 989
1335798992503: end of server show photo aside %%%%%%%%%
1335798992504: DSM layer: Going to and from remote region took latency = 64
1335798992504: DSM layer: orig leader sent packet at 1335798992440 ~ received reply from remote leader at 1335798992504
1335798992504: Received PROC_REPLY 10:55 (2,0)->(2,0), handing to UserApp
1335798992504: inside handleDSMReply. Now back in originator leader of region 2
1335798992505: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798992505: change leader replyCounter to: 25
1335798992505: reply packet contains the success info for UPLOAD_PHOTO
1335798992510: inside sendReplies of replyCount = 500100025
1335798992511: =======================
1335798992511: inside sendReplyRepeatingRunnable for replyCount = 500100025
1335798992512: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798992512: Leader about to send REPLY packet, number: 500100025 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798992513: === Finished one round of sending REPLY Packet =======
1335798992513: inside sendPacket(Packet p)
1335798992519: Sending UDP payload: 642
1335798992722: Received UDP payload: 446
1335798992723: inside handleClientRequest. Originator leader of region 2
1335798992723: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798992723: mux: Inside mux Packet.CLIENT_REQUEST
1335798992724: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100025
1335798992724: Yay the last leg succeeded. Removing reply runnables ...
1335798992724: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100025
1335798992724: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100025
1335798992724: do not send ack for received final_leg_ack
1335798992724: got new request, requestCounter = 5017146
1335798993475: inside HandlePictureStorage onPictureTaken()
1335798993476: one more takeCamGood: 13
1335798993477: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=13 takeCamGood=13 takeGoodSave=10 takeBad=0 takeTimedout=0 takePercent=76% getNum=12 getGood=5 getBad=5 getTimedout=0 getPercent=41%
1335798993668: Received UDP payload: 989
1335798993670: inside handleDSMRequest. At requests's remote leader of region 2
1335798993670: mux: GOT CSM_Msg
1335798993670: removed replies before id 23 from sentReplies of size 0
1335798993671: INSIDE SERVER_GET_PHOTO!!!
1335798993672: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798993672: Received PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798993673: mux: I got a CSM packet at a leader 
1335798993674: Sending UDP payload: 5756
1335798993675: forwarding disabled, not forwarding packets
1335798993741: Picture successfully taken, ORIG BYTE LENGTH = 2367559
1335798993914: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798993914: Our new height x width: 306 x 408
1335798993914: Show photo from handle my camera take
1335798993915: change local requestCounter to 49
1335798993928: BYTE SIZE AFTER COMPRESSION: 4910
1335798993929: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001049 Client in region: 2 Client nodID: 5001
1335798993956: ----------------------------
1335798993956: I'm a leader, my requesting photos packet going to mux directly
1335798993956: inside sendRequestPacketRepeatingRunnable for requestCount = 5001049
1335798993957: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798993957: Sending PROC_REQUEST 10:56 (2,0)->(2,0)
1335798993957: got new request, requestCounter = 5001049
1335798993957: inside handleClientRequest. Originator leader of region 2
1335798993957: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798993957: mux: Inside mux Packet.CLIENT_REQUEST
1335798993958: Dispatching Atom PROC_REQUEST 10:56 (2,0)->(2,0)
1335798993958: Make FirstLeg Ack regardless of new or already-processed requests
1335798993958: Note down new request by adding requestCounter=5001049 to HashMap processedRequests
1335798993958: mux: I got a CSM packet at a leader 
1335798993958: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798993959: Sending UDP payload: 5921
1335798993961: inside handleDSMRequest. At requests's remote leader of region 2
1335798993961: removed replies before id 56 from sentReplies of size 0
1335798993962: Inside UPLOAD_PHOTO!!
1335798993963: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798993963: my_gpinfo.isSuccess is now (should be true): true
1335798993965: --- Finished one round of sending REQUEST Packet ---------
1335798993970: Received PROC_REQUEST 10:56 (2,0)->(2,0), replying PROC_REPLY 10:56 (2,0)->(2,0)
1335798993971: Dispatching Atom PROC_REPLY 10:56 (2,0)->(2,0)
1335798993971: mux: I got a CSM packet at a leader 
1335798993972: Sending UDP payload: 989
1335798993973: DSM layer: Going to and from remote region took latency = 16
1335798993973: Received PROC_REPLY 10:56 (2,0)->(2,0), handing to UserApp
1335798993973: inside handleDSMReply. Now back in originator leader of region 2
1335798993974: DSM layer: orig leader sent packet at 1335798993957 ~ received reply from remote leader at 1335798993973
1335798993974: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798993974: change leader replyCounter to: 26
1335798993974: reply packet contains the success info for UPLOAD_PHOTO
1335798993975: inside sendReplies of replyCount = 500100026
1335798993979: =======================
1335798993979: inside sendReplyRepeatingRunnable for replyCount = 500100026
1335798993980: === Finished one round of sending REPLY Packet =======
1335798993980: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798993980: Leader about to send REPLY packet, number: 500100026 type: 16 Leader in region: (2,0) to Client nodID: 5001
1335798993992: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798993993: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798993994: I'm a leader and I successfully saved my client's new photo
1335798993995: now showing in UI the new photo I just saved ... 
1335798993995: the photo length: 4910
1335798994032: end of server show photo aside %%%%%%%%%
1335798994033: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798994033: disabling progressdialog due to successful new photo upload
1335798994034: Inside _enableButtons
1335798994034: areButtonsEnabled --> true
1335798994034: inside finalLegAck: change requestCounter to 50
1335798994034: send final leg ack regardless of new or already-processed reply
1335798994035: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001050 Client in region: (2,0) Client nodID: 5001
1335798994035: I'm a leader client, my final_leg packet going to mux directly
1335798994035: inside handleClientRequest. Originator leader of region 2
1335798994035: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798994035: mux: Inside mux Packet.CLIENT_REQUEST
1335798994036: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100026
1335798994036: Yay the last leg succeeded. Removing reply runnables ...
1335798994036: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100026
1335798994036: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100026
1335798994036: do not send ack for received final_leg_ack
1335798994036: got new request, requestCounter = 5001050
1335798994036: new client_upload_photo_ack reply with replyCounter 500100026
1335798994037: = leader upload start 1335798993956 ~ stop 1335798994033
1335798994037: leader upload new photo latency = 77
1335798994037: note down new reply by adding replyCounter=500100026 to HashMap processedReplies
1335798994038: one more takeGoodSave: 11
1335798994039: SUCCESS Client now knows saving photo on its leader succeeded
1335798994039: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=13 takeCamGood=13 takeGoodSave=11 takeBad=0 takeTimedout=0 takePercent=84% getNum=12 getGood=5 getBad=5 getTimedout=0 getPercent=41%
1335798994122: Received UDP payload: 625
1335798994123: mux: Inside mux Packet.CLIENT_REQUEST
1335798994227: Received UDP payload: 989
1335798994229: forwarding disabled, not forwarding packets
1335798994229: mux: GOT CSM_Msg
1335798994249: Received UDP payload: 446
1335798994250: mux: Inside Packet.SERVER_REPLY
1335798994251: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798994343: Received UDP payload: 6541
1335798994345: forwarding disabled, not forwarding packets
1335798994345: mux: GOT CSM_Msg
1335798994515: Received UDP payload: 989
1335798994517: mux: GOT CSM_Msg
1335798994517: removed replies before id 23 from sentReplies of size 1
1335798994518: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798994518: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798994518: mux: I got a CSM packet at a leader 
1335798994519: Sending UDP payload: 5756
1335798994521: forwarding disabled, not forwarding packets
1335798994569: Received UDP payload: 446
1335798994595: Received UDP payload: 989
1335798994599: mux: GOT CSM_Msg
1335798994599: removed replies before id 23 from sentReplies of size 1
1335798994600: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798994601: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798994601: mux: I got a CSM packet at a leader 
1335798994602: Sending UDP payload: 5756
1335798994603: forwarding disabled, not forwarding packets
1335798994699: Received UDP payload: 989
1335798994702: mux: GOT CSM_Msg
1335798994702: removed replies before id 23 from sentReplies of size 1
1335798994703: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798994703: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798994703: mux: I got a CSM packet at a leader 
1335798994706: Sending UDP payload: 5756
1335798994707: forwarding disabled, not forwarding packets
1335798994780: Received UDP payload: 6194
1335798994781: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335798994781: mux: Inside Packet.SERVER_REPLY
1335798994813: Received UDP payload: 989
1335798994816: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798994816: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798994816: mux: GOT CSM_Msg
1335798994816: removed replies before id 23 from sentReplies of size 1
1335798994817: mux: I got a CSM packet at a leader 
1335798994818: Sending UDP payload: 5756
1335798994819: forwarding disabled, not forwarding packets
1335798994821: Received UDP payload: 446
1335798994822: mux: Inside mux Packet.CLIENT_REQUEST
1335798994904: Received UDP payload: 989
1335798994907: mux: GOT CSM_Msg
1335798994907: removed replies before id 23 from sentReplies of size 1
1335798994908: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798994908: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798994908: mux: I got a CSM packet at a leader 
1335798994909: Sending UDP payload: 5756
1335798994910: forwarding disabled, not forwarding packets
1335798995052: Received UDP payload: 989
1335798995054: mux: GOT CSM_Msg
1335798995054: removed replies before id 23 from sentReplies of size 1
1335798995055: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798995055: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798995056: mux: I got a CSM packet at a leader 
1335798995057: Sending UDP payload: 5756
1335798995058: forwarding disabled, not forwarding packets
1335798995073: Received UDP payload: 446
1335798995082: inside sendPacket(Packet p)
1335798995084: Sending UDP payload: 446
1335798995200: Received UDP payload: 989
1335798995203: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798995203: mux: GOT CSM_Msg
1335798995203: removed replies before id 23 from sentReplies of size 1
1335798995204: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798995204: mux: I got a CSM packet at a leader 
1335798995206: Sending UDP payload: 5756
1335798995206: forwarding disabled, not forwarding packets
1335798995314: Received UDP payload: 989
1335798995317: mux: GOT CSM_Msg
1335798995317: removed replies before id 23 from sentReplies of size 1
1335798995318: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798995318: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798995318: mux: I got a CSM packet at a leader 
1335798995320: Sending UDP payload: 5756
1335798995321: forwarding disabled, not forwarding packets
1335798995451: Received UDP payload: 989
1335798995456: mux: GOT CSM_Msg
1335798995456: removed replies before id 23 from sentReplies of size 1
1335798995458: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798995459: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798995459: mux: I got a CSM packet at a leader 
1335798995463: Sending UDP payload: 5756
1335798995475: forwarding disabled, not forwarding packets
1335798995517: Received UDP payload: 989
1335798995519: mux: GOT CSM_Msg
1335798995519: removed replies before id 23 from sentReplies of size 1
1335798995520: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798995520: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798995520: mux: I got a CSM packet at a leader 
1335798995521: Sending UDP payload: 5756
1335798995522: forwarding disabled, not forwarding packets
1335798995611: Received UDP payload: 989
1335798995614: mux: GOT CSM_Msg
1335798995614: removed replies before id 23 from sentReplies of size 1
1335798995615: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798995615: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798995615: mux: I got a CSM packet at a leader 
1335798995617: Sending UDP payload: 5756
1335798995617: forwarding disabled, not forwarding packets
1335798995707: Received UDP payload: 989
1335798995710: Received DUPLICATE PROC_REQUEST 11:23 (3,0)->(2,0), replying PROC_REPLY 11:23 (2,0)->(3,0)
1335798995710: mux: GOT CSM_Msg
1335798995710: removed replies before id 23 from sentReplies of size 1
1335798995711: Dispatching Atom PROC_REPLY 11:23 (2,0)->(3,0)
1335798995711: mux: I got a CSM packet at a leader 
1335798995712: Sending UDP payload: 5756
1335798995713: forwarding disabled, not forwarding packets
1335798995812: Received UDP payload: 989
1335798995815: mux: GOT CSM_Msg
1335798995816: forwarding disabled, not forwarding packets
1335798996789: canPressButton = TRUE
1335798996790: areButtonsEnabled --> false
1335798996791: disabling buttons ...
1335798996799: took picture disableButtonsR
1335798996800: areButtonsEnabled --> false
1335798996840: one more takeNum: 14
1335798996840: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=14 takeCamGood=13 takeGoodSave=11 takeBad=0 takeTimedout=0 takePercent=78% getNum=12 getGood=5 getBad=5 getTimedout=0 getPercent=41%
1335798996841: Clicked take picture button ..
1335798997791: Received UDP payload: 6680
1335798997793: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798997793: got new request, requestCounter = 5017147
1335798997793: inside handleClientRequest. Originator leader of region 2
1335798997793: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798997793: mux: Inside mux Packet.CLIENT_REQUEST
1335798997794: Dispatching Atom PROC_REQUEST 10:57 (2,0)->(2,0)
1335798997794: Make FirstLeg Ack regardless of new or already-processed requests
1335798997794: Note down new request by adding requestCounter=5017147 to HashMap processedRequests
1335798997794: Sending PROC_REQUEST 10:57 (2,0)->(2,0)
1335798997794: The leader sending a First Leg ack to originator client (which id = 5017)
1335798997794: inside sendPacket(Packet p)
1335798997794: mux: I got a CSM packet at a leader 
1335798997802: Sending UDP payload: 7044
1335798997804: removed replies before id 57 from sentReplies of size 0
1335798997805: inside handleDSMRequest. At requests's remote leader of region 2
1335798997807: Inside UPLOAD_PHOTO!!
1335798997808: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798997808: my_gpinfo.isSuccess is now (should be true): true
1335798997809: Received PROC_REQUEST 10:57 (2,0)->(2,0), replying PROC_REPLY 10:57 (2,0)->(2,0)
1335798997810: Dispatching Atom PROC_REPLY 10:57 (2,0)->(2,0)
1335798997810: Sending UDP payload: 446
1335798997824: mux: I got a CSM packet at a leader 
1335798997825: Sending UDP payload: 989
1335798997829: Received PROC_REPLY 10:57 (2,0)->(2,0), handing to UserApp
1335798997830: DSM layer: Going to and from remote region took latency = 37
1335798997830: DSM layer: orig leader sent packet at 1335798997793 ~ received reply from remote leader at 1335798997830
1335798997830: inside handleDSMReply. Now back in originator leader of region 2
1335798997831: =======================
1335798997831: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798997831: change leader replyCounter to: 27
1335798997831: inside sendReplies of replyCount = 500100027
1335798997831: inside sendReplyRepeatingRunnable for replyCount = 500100027
1335798997831: reply packet contains the success info for UPLOAD_PHOTO
1335798997832: === Finished one round of sending REPLY Packet =======
1335798997832: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798997832: Leader about to send REPLY packet, number: 500100027 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798997832: inside sendPacket(Packet p)
1335798997833: Sending UDP payload: 642
1335798997840: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798997842: I'm a leader and I successfully saved my client's new photo
1335798997842: now showing in UI the new photo I just saved ... 
1335798997843: the photo length: 6033
1335798997952: end of server show photo aside %%%%%%%%%
1335798998132: =======================
1335798998132: inside sendReplyRepeatingRunnable for replyCount = 500100027
1335798998133: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798998133: Leader about to send REPLY packet, number: 500100027 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798998134: === Finished one round of sending REPLY Packet =======
1335798998134: inside sendPacket(Packet p)
1335798998135: Sending UDP payload: 642
1335798998143: Received UDP payload: 6680
1335798998145: inside handleClientRequest. Originator leader of region 2
1335798998145: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798998145: mux: Inside mux Packet.CLIENT_REQUEST
1335798998146: Make FirstLeg Ack regardless of new or already-processed requests
1335798998146: Note down new request by adding requestCounter=5017147 to HashMap processedRequests
1335798998146: The leader sending a First Leg ack to originator client (which id = 5017)
1335798998146: discarding repeated requestCounter=5017147, but still send an ack back
1335798998146: inside sendPacket(Packet p)
1335798998147: Sending UDP payload: 446
1335798998336: inside HandlePictureStorage onPictureTaken()
1335798998337: one more takeCamGood: 14
1335798998339: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=14 takeCamGood=14 takeGoodSave=11 takeBad=0 takeTimedout=0 takePercent=78% getNum=12 getGood=5 getBad=5 getTimedout=0 getPercent=41%
1335798998434: =======================
1335798998434: inside sendReplyRepeatingRunnable for replyCount = 500100027
1335798998435: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335798998435: Leader about to send REPLY packet, number: 500100027 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335798998436: === Finished one round of sending REPLY Packet =======
1335798998436: inside sendPacket(Packet p)
1335798998437: Sending UDP payload: 642
1335798998565: Received UDP payload: 446
1335798998566: inside handleClientRequest. Originator leader of region 2
1335798998566: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798998566: mux: Inside mux Packet.CLIENT_REQUEST
1335798998567: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100027
1335798998567: Yay the last leg succeeded. Removing reply runnables ...
1335798998567: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100027
1335798998567: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100027
1335798998567: do not send ack for received final_leg_ack
1335798998567: got new request, requestCounter = 5017148
1335798998586: Received UDP payload: 446
1335798998587: mux: Inside mux Packet.CLIENT_REQUEST
1335798998588: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100027
1335798998588: Yay the last leg succeeded. Removing reply runnables ...
1335798998588: got new request, requestCounter = 5017149
1335798998588: inside handleClientRequest. Originator leader of region 2
1335798998588: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798998588: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100027
1335798998588: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100027
1335798998589: do not send ack for received final_leg_ack
1335798998598: Picture successfully taken, ORIG BYTE LENGTH = 2823117
1335798998665: Received UDP payload: 446
1335798998667: got new request, requestCounter = 5017150
1335798998667: inside handleClientRequest. Originator leader of region 2
1335798998667: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798998667: mux: Inside mux Packet.CLIENT_REQUEST
1335798998668: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100027
1335798998668: Yay the last leg succeeded. Removing reply runnables ...
1335798998668: do not send ack for received final_leg_ack
1335798998668: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100027
1335798998668: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100027
1335798998888: Our new height x width: 306 x 408
1335798998889: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335798998889: Show photo from handle my camera take
1335798998889: change local requestCounter to 51
1335798998909: BYTE SIZE AFTER COMPRESSION: 5852
1335798998910: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001051 Client in region: 2 Client nodID: 5001
1335798998943: Received UDP payload: 989
1335798998946: forwarding disabled, not forwarding packets
1335798998946: mux: GOT CSM_Msg
1335798998957: ----------------------------
1335798998958: I'm a leader, my requesting photos packet going to mux directly
1335798998958: inside sendRequestPacketRepeatingRunnable for requestCount = 5001051
1335798998959: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335798998959: got new request, requestCounter = 5001051
1335798998959: inside handleClientRequest. Originator leader of region 2
1335798998959: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798998959: mux: Inside mux Packet.CLIENT_REQUEST
1335798998960: Dispatching Atom PROC_REQUEST 10:58 (2,0)->(2,0)
1335798998960: Make FirstLeg Ack regardless of new or already-processed requests
1335798998960: Note down new request by adding requestCounter=5001051 to HashMap processedRequests
1335798998960: Sending PROC_REQUEST 10:58 (2,0)->(2,0)
1335798998960: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335798998961: mux: I got a CSM packet at a leader 
1335798998962: Sending UDP payload: 6863
1335798998965: inside handleDSMRequest. At requests's remote leader of region 2
1335798998965: removed replies before id 58 from sentReplies of size 0
1335798998966: Inside UPLOAD_PHOTO!!
1335798998967: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335798998967: my_gpinfo.isSuccess is now (should be true): true
1335798998969: --- Finished one round of sending REQUEST Packet ---------
1335798998969: Dispatching Atom PROC_REPLY 10:58 (2,0)->(2,0)
1335798998969: Received PROC_REQUEST 10:58 (2,0)->(2,0), replying PROC_REPLY 10:58 (2,0)->(2,0)
1335798998975: mux: I got a CSM packet at a leader 
1335798998976: Sending UDP payload: 989
1335798998980: Received PROC_REPLY 10:58 (2,0)->(2,0), handing to UserApp
1335798998981: DSM layer: Going to and from remote region took latency = 22
1335798998981: DSM layer: orig leader sent packet at 1335798998959 ~ received reply from remote leader at 1335798998981
1335798998981: inside handleDSMReply. Now back in originator leader of region 2
1335798998982: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335798998982: change leader replyCounter to: 28
1335798998982: inside sendReplies of replyCount = 500100028
1335798998982: reply packet contains the success info for UPLOAD_PHOTO
1335798998983: === Finished one round of sending REPLY Packet =======
1335798998983: =======================
1335798998983: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335798998983: Leader about to send REPLY packet, number: 500100028 type: 16 Leader in region: (2,0) to Client nodID: 5001
1335798998983: inside sendReplyRepeatingRunnable for replyCount = 500100028
1335798998996: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335798998997: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335798998998: I'm a leader and I successfully saved my client's new photo
1335798998999: now showing in UI the new photo I just saved ... 
1335798999000: the photo length: 5852
1335798999051: end of server show photo aside %%%%%%%%%
1335798999052: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335798999052: disabling progressdialog due to successful new photo upload
1335798999053: Inside _enableButtons
1335798999053: areButtonsEnabled --> true
1335798999053: send final leg ack regardless of new or already-processed reply
1335798999054: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001052 Client in region: (2,0) Client nodID: 5001
1335798999054: I'm a leader client, my final_leg packet going to mux directly
1335798999054: inside finalLegAck: change requestCounter to 52
1335798999054: mux: Inside mux Packet.CLIENT_REQUEST
1335798999055: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100028
1335798999055: Yay the last leg succeeded. Removing reply runnables ...
1335798999055: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100028
1335798999055: got new request, requestCounter = 5001052
1335798999055: inside handleClientRequest. Originator leader of region 2
1335798999055: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798999056: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100028
1335798999056: do not send ack for received final_leg_ack
1335798999056: new client_upload_photo_ack reply with replyCounter 500100028
1335798999056: note down new reply by adding replyCounter=500100028 to HashMap processedReplies
1335798999057: = leader upload start 1335798998959 ~ stop 1335798999052
1335798999057: leader upload new photo latency = 93
1335798999058: one more takeGoodSave: 12
1335798999059: SUCCESS Client now knows saving photo on its leader succeeded
1335798999059: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=14 takeCamGood=14 takeGoodSave=12 takeBad=0 takeTimedout=0 takePercent=85% getNum=12 getGood=5 getBad=5 getTimedout=0 getPercent=41%
1335798999561: Received UDP payload: 446
1335798999679: Received UDP payload: 625
1335798999682: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335798999682: mux: Inside mux Packet.CLIENT_REQUEST
1335798999683: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335798999683: got new request, requestCounter = 5004085
1335798999683: inside handleClientRequest. Originator leader of region 2
1335798999684: Sending to region: 0
1335798999685: Sending PROC_REQUEST 11:10 (2,0)->(0,0)
1335798999686: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335798999686: Make FirstLeg Ack regardless of new or already-processed requests
1335798999686: Note down new request by adding requestCounter=5004085 to HashMap processedRequests
1335798999687: The leader sending a First Leg ack to originator client (which id = 5004)
1335798999687: inside sendPacket(Packet p)
1335798999687: mux: I got a CSM packet at a leader 
1335798999689: Sending UDP payload: 989
1335798999696: forwarding disabled, not forwarding packets
1335798999697: Sending UDP payload: 446
1335799000013: Received UDP payload: 446
1335799000082: inside sendPacket(Packet p)
1335799000084: Sending UDP payload: 446
1335799000427: Received UDP payload: 989
1335799000434: forwarding disabled, not forwarding packets
1335799000434: mux: GOT CSM_Msg
1335799000478: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000479: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000480: mux: I got a CSM packet at a leader 
1335799000484: Sending UDP payload: 989
1335799000487: forwarding disabled, not forwarding packets
1335799000515: Received UDP payload: 446
1335799000579: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000580: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000580: mux: I got a CSM packet at a leader 
1335799000581: Sending UDP payload: 989
1335799000582: forwarding disabled, not forwarding packets
1335799000680: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000681: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000681: mux: I got a CSM packet at a leader 
1335799000682: Sending UDP payload: 989
1335799000683: forwarding disabled, not forwarding packets
1335799000781: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000782: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000782: mux: I got a CSM packet at a leader 
1335799000783: Sending UDP payload: 989
1335799000784: forwarding disabled, not forwarding packets
1335799000882: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000883: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000883: mux: I got a CSM packet at a leader 
1335799000884: Sending UDP payload: 989
1335799000885: forwarding disabled, not forwarding packets
1335799000933: Received UDP payload: 446
1335799000984: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000984: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799000985: mux: I got a CSM packet at a leader 
1335799000986: Sending UDP payload: 989
1335799000986: forwarding disabled, not forwarding packets
1335799001085: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001085: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001087: mux: I got a CSM packet at a leader 
1335799001089: Sending UDP payload: 989
1335799001090: forwarding disabled, not forwarding packets
1335799001186: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001187: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001187: mux: I got a CSM packet at a leader 
1335799001189: Sending UDP payload: 989
1335799001190: forwarding disabled, not forwarding packets
1335799001191: Received UDP payload: 446
1335799001288: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001289: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001290: mux: I got a CSM packet at a leader 
1335799001293: Sending UDP payload: 989
1335799001298: forwarding disabled, not forwarding packets
1335799001391: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001392: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001392: mux: I got a CSM packet at a leader 
1335799001396: Sending UDP payload: 989
1335799001397: forwarding disabled, not forwarding packets
1335799001435: Received UDP payload: 446
1335799001493: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001494: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001496: mux: I got a CSM packet at a leader 
1335799001499: Sending UDP payload: 989
1335799001501: forwarding disabled, not forwarding packets
1335799001596: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001596: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001597: mux: I got a CSM packet at a leader 
1335799001607: Sending UDP payload: 989
1335799001612: forwarding disabled, not forwarding packets
1335799001698: Retrying PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001699: Dispatching Atom PROC_REQUEST 11:10 (2,0)->(0,0)
1335799001700: mux: I got a CSM packet at a leader 
1335799001704: Sending UDP payload: 989
1335799001707: forwarding disabled, not forwarding packets
1335799001801: DSM Layer: Request timed out, send failure PROC_REPLY 11:10 (0,0)->(2,0)
1335799001802: Dispatching Atom PROC_REPLY 11:10 (0,0)->(2,0)
1335799001804: mux: I got a CSM packet at a leader 
1335799001810: Sending UDP payload: 989
1335799001816: Received PROC_REPLY 11:10 (0,0)->(2,0), handing to UserApp
1335799001817: inside handleDSMReply. Now back in originator leader of region 2
1335799001818: DSM layer timed out, don't log dsm layer latency stuff.
1335799001822: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799001823: change leader replyCounter to: 29
1335799001823: reply packet contains the newest photo/success info from the remote region
1335799001824: inside sendReplies of replyCount = 500100029
1335799001825: =======================
1335799001825: inside sendReplyRepeatingRunnable for replyCount = 500100029
1335799001826: Leader about to send REPLY packet, number: 500100029 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335799001827: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335799001827: inside sendPacket(Packet p)
1335799001828: === Finished one round of sending REPLY Packet =======
1335799001832: Sending UDP payload: 642
1335799001892: Received UDP payload: 446
1335799001898: mux: Inside mux Packet.CLIENT_REQUEST
1335799001899: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799001900: got new request, requestCounter = 5004086
1335799001900: inside handleClientRequest. Originator leader of region 2
1335799001901: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100029
1335799001901: Yay the last leg succeeded. Removing reply runnables ...
1335799001901: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100029
1335799001902: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100029
1335799001902: do not send ack for received final_leg_ack
1335799003591: Received UDP payload: 6561
1335799003598: mux: Inside mux Packet.CLIENT_REQUEST
1335799003599: inside handleClientRequest. Originator leader of region 2
1335799003599: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799003600: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335799003600: got new request, requestCounter = 5017151
1335799003601: Sending PROC_REQUEST 10:59 (2,0)->(2,0)
1335799003602: Dispatching Atom PROC_REQUEST 10:59 (2,0)->(2,0)
1335799003602: Note down new request by adding requestCounter=5017151 to HashMap processedRequests
1335799003603: Make FirstLeg Ack regardless of new or already-processed requests
1335799003603: The leader sending a First Leg ack to originator client (which id = 5017)
1335799003603: inside sendPacket(Packet p)
1335799003604: mux: I got a CSM packet at a leader 
1335799003619: Sending UDP payload: 6925
1335799003627: removed replies before id 59 from sentReplies of size 0
1335799003628: inside handleDSMRequest. At requests's remote leader of region 2
1335799003638: Inside UPLOAD_PHOTO!!
1335799003639: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335799003639: my_gpinfo.isSuccess is now (should be true): true
1335799003640: Dispatching Atom PROC_REPLY 10:59 (2,0)->(2,0)
1335799003640: Received PROC_REQUEST 10:59 (2,0)->(2,0), replying PROC_REPLY 10:59 (2,0)->(2,0)
1335799003641: Sending UDP payload: 446
1335799003646: mux: I got a CSM packet at a leader 
1335799003647: Received PROC_REPLY 10:59 (2,0)->(2,0), handing to UserApp
1335799003647: Sending UDP payload: 989
1335799003648: DSM layer: Going to and from remote region took latency = 48
1335799003648: DSM layer: orig leader sent packet at 1335799003600 ~ received reply from remote leader at 1335799003648
1335799003648: inside handleDSMReply. Now back in originator leader of region 2
1335799003649: =======================
1335799003649: Leader about to send REPLY packet, number: 500100030 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335799003649: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799003649: change leader replyCounter to: 30
1335799003649: inside sendReplies of replyCount = 500100030
1335799003649: inside sendReplyRepeatingRunnable for replyCount = 500100030
1335799003649: reply packet contains the success info for UPLOAD_PHOTO
1335799003650: === Finished one round of sending REPLY Packet =======
1335799003650: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335799003650: inside sendPacket(Packet p)
1335799003651: Sending UDP payload: 642
1335799003655: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335799003656: I'm a leader and I successfully saved my client's new photo
1335799003657: now showing in UI the new photo I just saved ... 
1335799003657: the photo length: 5914
1335799003699: Received UDP payload: 4859
1335799003701: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335799003701: got new request, requestCounter = 5007081
1335799003701: inside handleClientRequest. Originator leader of region 2
1335799003701: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799003701: mux: Inside mux Packet.CLIENT_REQUEST
1335799003702: Dispatching Atom PROC_REQUEST 10:60 (2,0)->(2,0)
1335799003702: Make FirstLeg Ack regardless of new or already-processed requests
1335799003702: Note down new request by adding requestCounter=5007081 to HashMap processedRequests
1335799003702: Sending PROC_REQUEST 10:60 (2,0)->(2,0)
1335799003702: The leader sending a First Leg ack to originator client (which id = 5007)
1335799003702: inside sendPacket(Packet p)
1335799003703: mux: I got a CSM packet at a leader 
1335799003704: Sending UDP payload: 5223
1335799003706: removed replies before id 60 from sentReplies of size 0
1335799003707: Inside UPLOAD_PHOTO!!
1335799003707: inside handleDSMRequest. At requests's remote leader of region 2
1335799003708: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335799003708: my_gpinfo.isSuccess is now (should be true): true
1335799003709: Received PROC_REQUEST 10:60 (2,0)->(2,0), replying PROC_REPLY 10:60 (2,0)->(2,0)
1335799003710: Dispatching Atom PROC_REPLY 10:60 (2,0)->(2,0)
1335799003710: Sending UDP payload: 446
1335799003712: end of server show photo aside %%%%%%%%%
1335799003715: mux: I got a CSM packet at a leader 
1335799003716: Sending UDP payload: 989
1335799003717: DSM layer: Going to and from remote region took latency = 15
1335799003717: DSM layer: orig leader sent packet at 1335799003702 ~ received reply from remote leader at 1335799003717
1335799003717: Received PROC_REPLY 10:60 (2,0)->(2,0), handing to UserApp
1335799003717: inside handleDSMReply. Now back in originator leader of region 2
1335799003718: =======================
1335799003718: Originator Region=2's Leader (for Client=5007) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799003718: change leader replyCounter to: 31
1335799003718: inside sendReplies of replyCount = 500100031
1335799003718: inside sendReplyRepeatingRunnable for replyCount = 500100031
1335799003718: reply packet contains the success info for UPLOAD_PHOTO
1335799003719: === Finished one round of sending REPLY Packet =======
1335799003719: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335799003719: Leader about to send REPLY packet, number: 500100031 type: 16 Leader in region: (2,0) to Client nodID: 5007
1335799003719: inside sendPacket(Packet p)
1335799003720: Sending UDP payload: 642
1335799003744: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335799003745: I'm a leader and I successfully saved my client's new photo
1335799003746: now showing in UI the new photo I just saved ... 
1335799003746: the photo length: 4212
1335799003782: end of server show photo aside %%%%%%%%%
1335799003950: =======================
1335799003950: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335799003950: Leader about to send REPLY packet, number: 500100030 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335799003950: inside sendPacket(Packet p)
1335799003950: inside sendReplyRepeatingRunnable for replyCount = 500100030
1335799003951: === Finished one round of sending REPLY Packet =======
1335799003951: Sending UDP payload: 642
1335799003994: Received UDP payload: 989
1335799003996: inside handleDSMRequest. At requests's remote leader of region 2
1335799003996: mux: GOT CSM_Msg
1335799003996: removed replies before id 24 from sentReplies of size 0
1335799003997: INSIDE SERVER_GET_PHOTO!!!
1335799003998: Dispatching Atom PROC_REPLY 11:24 (2,0)->(3,0)
1335799003998: Received PROC_REQUEST 11:24 (3,0)->(2,0), replying PROC_REPLY 11:24 (2,0)->(3,0)
1335799003999: mux: I got a CSM packet at a leader 
1335799004000: Received UDP payload: 4859
1335799004001: Sending UDP payload: 5223
1335799004001: forwarding disabled, not forwarding packets
1335799004003: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799004003: mux: Inside mux Packet.CLIENT_REQUEST
1335799004004: Make FirstLeg Ack regardless of new or already-processed requests
1335799004004: Note down new request by adding requestCounter=5007081 to HashMap processedRequests
1335799004004: The leader sending a First Leg ack to originator client (which id = 5007)
1335799004004: discarding repeated requestCounter=5007081, but still send an ack back
1335799004004: inside handleClientRequest. Originator leader of region 2
1335799004004: inside sendPacket(Packet p)
1335799004008: Sending UDP payload: 446
1335799004019: =======================
1335799004019: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335799004019: Leader about to send REPLY packet, number: 500100031 type: 16 Leader in region: (2,0) to Client nodID: 5007
1335799004019: inside sendPacket(Packet p)
1335799004019: inside sendReplyRepeatingRunnable for replyCount = 500100031
1335799004020: === Finished one round of sending REPLY Packet =======
1335799004021: Sending UDP payload: 642
1335799004119: Received UDP payload: 446
1335799004120: got new request, requestCounter = 5007082
1335799004120: inside handleClientRequest. Originator leader of region 2
1335799004120: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799004120: mux: Inside mux Packet.CLIENT_REQUEST
1335799004121: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100031
1335799004121: Yay the last leg succeeded. Removing reply runnables ...
1335799004121: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100031
1335799004121: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100031
1335799004121: do not send ack for received final_leg_ack
1335799004184: Received UDP payload: 446
1335799004186: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100031
1335799004186: Yay the last leg succeeded. Removing reply runnables ...
1335799004186: got new request, requestCounter = 5007083
1335799004186: inside handleClientRequest. Originator leader of region 2
1335799004186: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799004186: mux: Inside mux Packet.CLIENT_REQUEST
1335799004187: do not send ack for received final_leg_ack
1335799004187: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100031
1335799004187: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100031
1335799004251: =======================
1335799004251: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335799004251: Leader about to send REPLY packet, number: 500100030 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335799004251: inside sendReplyRepeatingRunnable for replyCount = 500100030
1335799004252: === Finished one round of sending REPLY Packet =======
1335799004252: inside sendPacket(Packet p)
1335799004253: Sending UDP payload: 642
1335799004418: Received UDP payload: 6027
1335799004420: mux: Inside mux Packet.CLIENT_REQUEST
1335799004433: Received UDP payload: 446
1335799004434: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799004434: mux: Inside mux Packet.CLIENT_REQUEST
1335799004435: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100030
1335799004435: Yay the last leg succeeded. Removing reply runnables ...
1335799004435: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100030
1335799004435: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100030
1335799004435: got new request, requestCounter = 5017152
1335799004435: inside handleClientRequest. Originator leader of region 2
1335799004436: do not send ack for received final_leg_ack
1335799004503: Received UDP payload: 446
1335799004504: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100030
1335799004504: got new request, requestCounter = 5017153
1335799004504: inside handleClientRequest. Originator leader of region 2
1335799004504: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799004504: mux: Inside mux Packet.CLIENT_REQUEST
1335799004505: Yay the last leg succeeded. Removing reply runnables ...
1335799004505: do not send ack for received final_leg_ack
1335799004505: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100030
1335799004505: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100030
1335799004536: Received UDP payload: 6391
1335799004539: forwarding disabled, not forwarding packets
1335799004539: mux: GOT CSM_Msg
1335799004558: Received UDP payload: 446
1335799004559: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799004559: mux: Inside Packet.SERVER_REPLY
1335799004592: Received UDP payload: 989
1335799004594: forwarding disabled, not forwarding packets
1335799004594: mux: GOT CSM_Msg
1335799004599: Received UDP payload: 642
1335799004601: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799004601: mux: Inside Packet.SERVER_REPLY
1335799004624: canPressButton = TRUE
1335799004625: areButtonsEnabled --> false
1335799004625: areButtonsEnabled --> false 
1335799004625: get picture disableButtonsR
1335799004640: one more getNum: 13
1335799004641: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335799004641: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=14 takeCamGood=14 takeGoodSave=12 takeBad=0 takeTimedout=0 takePercent=85% getNum=13 getGood=5 getBad=5 getTimedout=0 getPercent=38%
1335799004642: change local requestCounter to 53
1335799004643: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001053 Client in region: 2 Client nodID: 5001
1335799004673: ----------------------------
1335799004674: I'm a leader, my requesting photos packet going to mux directly
1335799004674: inside sendRequestPacketRepeatingRunnable for requestCount = 5001053
1335799004675: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335799004675: got new request, requestCounter = 5001053
1335799004675: inside handleClientRequest. Originator leader of region 2
1335799004675: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799004675: mux: Inside mux Packet.CLIENT_REQUEST
1335799004676: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799004676: Sending PROC_REQUEST 11:11 (2,0)->(0,0)
1335799004676: Sending to region: 0
1335799004677: Make FirstLeg Ack regardless of new or already-processed requests
1335799004677: Note down new request by adding requestCounter=5001053 to HashMap processedRequests
1335799004677: mux: I got a CSM packet at a leader 
1335799004677: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335799004678: Sending UDP payload: 989
1335799004681: --- Finished one round of sending REQUEST Packet ---------
1335799004681: forwarding disabled, not forwarding packets
1335799004710: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799004722: Received UDP payload: 989
1335799004726: mux: GOT CSM_Msg
1335799004726: removed replies before id 24 from sentReplies of size 1
1335799004727: Dispatching Atom PROC_REPLY 11:24 (2,0)->(3,0)
1335799004727: Received DUPLICATE PROC_REQUEST 11:24 (3,0)->(2,0), replying PROC_REPLY 11:24 (2,0)->(3,0)
1335799004727: mux: I got a CSM packet at a leader 
1335799004728: Sending UDP payload: 5223
1335799004730: forwarding disabled, not forwarding packets
1335799004825: Received UDP payload: 642
1335799004827: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799004827: mux: Inside Packet.SERVER_REPLY
1335799004982: Received UDP payload: 446
1335799005017: Received UDP payload: 446
1335799005083: inside sendPacket(Packet p)
1335799005084: Sending UDP payload: 446
1335799005121: Received UDP payload: 642
1335799005123: mux: Inside Packet.SERVER_REPLY
1335799005124: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799005432: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005432: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005433: mux: I got a CSM packet at a leader 
1335799005435: Sending UDP payload: 989
1335799005442: Received UDP payload: 642
1335799005442: forwarding disabled, not forwarding packets
1335799005446: mux: Inside Packet.SERVER_REPLY
1335799005447: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799005533: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005534: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005535: mux: I got a CSM packet at a leader 
1335799005537: Sending UDP payload: 989
1335799005538: forwarding disabled, not forwarding packets
1335799005636: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005637: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005638: mux: I got a CSM packet at a leader 
1335799005642: Sending UDP payload: 989
1335799005644: forwarding disabled, not forwarding packets
1335799005738: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005738: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005739: mux: I got a CSM packet at a leader 
1335799005741: Sending UDP payload: 989
1335799005742: forwarding disabled, not forwarding packets
1335799005756: Received UDP payload: 446
1335799005760: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799005760: mux: Inside Packet.SERVER_REPLY
1335799005839: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005840: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005840: mux: I got a CSM packet at a leader 
1335799005841: Sending UDP payload: 989
1335799005842: forwarding disabled, not forwarding packets
1335799005940: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005941: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799005941: mux: I got a CSM packet at a leader 
1335799005942: Sending UDP payload: 989
1335799005943: forwarding disabled, not forwarding packets
1335799006042: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006042: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006043: mux: I got a CSM packet at a leader 
1335799006044: Sending UDP payload: 989
1335799006045: forwarding disabled, not forwarding packets
1335799006143: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006143: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006144: mux: I got a CSM packet at a leader 
1335799006146: Sending UDP payload: 989
1335799006152: forwarding disabled, not forwarding packets
1335799006203: Received UDP payload: 6027
1335799006204: mux: Inside mux Packet.CLIENT_REQUEST
1335799006244: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006244: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006245: mux: I got a CSM packet at a leader 
1335799006246: Sending UDP payload: 989
1335799006246: forwarding disabled, not forwarding packets
1335799006345: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006345: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006346: mux: I got a CSM packet at a leader 
1335799006347: Sending UDP payload: 989
1335799006347: forwarding disabled, not forwarding packets
1335799006446: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006446: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006446: mux: I got a CSM packet at a leader 
1335799006447: Sending UDP payload: 989
1335799006448: forwarding disabled, not forwarding packets
1335799006547: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006547: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006547: mux: I got a CSM packet at a leader 
1335799006548: Sending UDP payload: 989
1335799006549: forwarding disabled, not forwarding packets
1335799006648: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006648: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006648: mux: I got a CSM packet at a leader 
1335799006649: Sending UDP payload: 989
1335799006649: forwarding disabled, not forwarding packets
1335799006726: Received UDP payload: 625
1335799006728: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335799006728: got new request, requestCounter = 5004087
1335799006728: inside handleClientRequest. Originator leader of region 2
1335799006728: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799006728: mux: Inside mux Packet.CLIENT_REQUEST
1335799006729: Dispatching Atom PROC_REQUEST 11:61 (2,0)->(2,0)
1335799006729: Sending PROC_REQUEST 11:61 (2,0)->(2,0)
1335799006729: Sending to region: 2
1335799006730: Make FirstLeg Ack regardless of new or already-processed requests
1335799006730: Note down new request by adding requestCounter=5004087 to HashMap processedRequests
1335799006730: The leader sending a First Leg ack to originator client (which id = 5004)
1335799006730: inside sendPacket(Packet p)
1335799006730: mux: I got a CSM packet at a leader 
1335799006732: Sending UDP payload: 989
1335799006733: INSIDE SERVER_GET_PHOTO!!!
1335799006733: inside handleDSMRequest. At requests's remote leader of region 2
1335799006733: removed replies before id 61 from sentReplies of size 0
1335799006734:  1 self to self atomRequest
1335799006734: dst_region == src_region = 2
1335799006735: Dispatching Atom PROC_REPLY 11:61 (2,0)->(2,0)
1335799006735: Received PROC_REQUEST 11:61 (2,0)->(2,0), replying PROC_REPLY 11:61 (2,0)->(2,0)
1335799006736: Sending UDP payload: 446
1335799006747: mux: I got a CSM packet at a leader 
1335799006748: Retrying PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006749: Dispatching Atom PROC_REQUEST 11:11 (2,0)->(0,0)
1335799006750: Sending UDP payload: 5223
1335799006752: DSM layer: Going to and from remote region took latency = 23
1335799006752: DSM layer: orig leader sent packet at 1335799006729 ~ received reply from remote leader at 1335799006752
1335799006752: Received PROC_REPLY 11:61 (2,0)->(2,0), handing to UserApp
1335799006752: inside handleDSMReply. Now back in originator leader of region 2
1335799006753: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799006754: =======================
1335799006754: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335799006754: Leader about to send REPLY packet, number: 500100032 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335799006754: change leader replyCounter to: 32
1335799006754: inside sendReplies of replyCount = 500100032
1335799006754: inside sendReplyRepeatingRunnable for replyCount = 500100032
1335799006754: reply packet contains the newest photo/success info from the remote region
1335799006755: === Finished one round of sending REPLY Packet =======
1335799006755: inside sendPacket(Packet p)
1335799006756: mux: I got a CSM packet at a leader 
1335799006757: Sending UDP payload: 989
1335799006758: forwarding disabled, not forwarding packets
1335799006759: Sending UDP payload: 4876
1335799006850: DSM Layer: Request timed out, send failure PROC_REPLY 11:11 (0,0)->(2,0)
1335799006850: Dispatching Atom PROC_REPLY 11:11 (0,0)->(2,0)
1335799006851: mux: I got a CSM packet at a leader 
1335799006852: Sending UDP payload: 989
1335799006853: DSM layer timed out, don't log dsm layer latency stuff.
1335799006853: Received PROC_REPLY 11:11 (0,0)->(2,0), handing to UserApp
1335799006853: inside handleDSMReply. Now back in originator leader of region 2
1335799006854: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799006854: change leader replyCounter to: 33
1335799006854: reply packet contains the newest photo/success info from the remote region
1335799006855: =======================
1335799006855: inside sendReplies of replyCount = 500100033
1335799006856: === Finished one round of sending REPLY Packet =======
1335799006856: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335799006856: Leader about to send REPLY packet, number: 500100033 type: 15 Leader in region: (2,0) to Client nodID: 5001
1335799006856: inside sendReplyRepeatingRunnable for replyCount = 500100033
1335799006857: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799006857: disabling progressdialog due to successful new photo get
1335799006858: Inside _enableButtons
1335799006858: areButtonsEnabled --> true
1335799006858: inside finalLegAck: change requestCounter to 54
1335799006858: send final leg ack regardless of new or already-processed reply
1335799006859: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001054 Client in region: (2,0) Client nodID: 5001
1335799006859: I'm a leader client, my final_leg packet going to mux directly
1335799006859: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799006859: mux: Inside mux Packet.CLIENT_REQUEST
1335799006860: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100033
1335799006860: Yay the last leg succeeded. Removing reply runnables ...
1335799006860: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100033
1335799006860: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100033
1335799006860: do not send ack for received final_leg_ack
1335799006860: got new request, requestCounter = 5001054
1335799006860: inside handleClientRequest. Originator leader of region 2
1335799006861: new client_show_remotephoto reply with replyCounter 500100033
1335799006862: = leader download start 1335799004674 ~ stop 1335799006857
1335799006862: leader download remote photo latency = 2183
1335799006862: note down new reply by adding replyCounter=500100033 to HashMap processedReplies
1335799006863: Can't get remote photo, because DSM Layer on originator leader timed out
1335799006867: one more getBad: 6
1335799006868: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=14 takeCamGood=14 takeGoodSave=12 takeBad=0 takeTimedout=0 takePercent=85% getNum=13 getGood=5 getBad=6 getTimedout=0 getPercent=38%
1335799006869: getBad++
1335799006956: Received UDP payload: 989
1335799006961: forwarding disabled, not forwarding packets
1335799006961: mux: GOT CSM_Msg
1335799007026: Received UDP payload: 4924
1335799007028: forwarding disabled, not forwarding packets
1335799007028: mux: GOT CSM_Msg
1335799007062: =======================
1335799007062: inside sendReplyRepeatingRunnable for replyCount = 500100032
1335799007063: === Finished one round of sending REPLY Packet =======
1335799007063: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335799007063: Leader about to send REPLY packet, number: 500100032 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335799007063: inside sendPacket(Packet p)
1335799007064: Sending UDP payload: 4876
1335799007135: Received UDP payload: 5354
1335799007137: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335799007137: got new request, requestCounter = 5008106
1335799007137: inside handleClientRequest. Originator leader of region 2
1335799007137: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799007137: mux: Inside mux Packet.CLIENT_REQUEST
1335799007138: Dispatching Atom PROC_REQUEST 10:62 (2,0)->(2,0)
1335799007138: Sending PROC_REQUEST 10:62 (2,0)->(2,0)
1335799007139: Make FirstLeg Ack regardless of new or already-processed requests
1335799007139: Note down new request by adding requestCounter=5008106 to HashMap processedRequests
1335799007139: The leader sending a First Leg ack to originator client (which id = 5008)
1335799007139: inside sendPacket(Packet p)
1335799007139: mux: I got a CSM packet at a leader 
1335799007140: Sending UDP payload: 5718
1335799007146: inside handleDSMRequest. At requests's remote leader of region 2
1335799007146: removed replies before id 62 from sentReplies of size 0
1335799007147: Inside UPLOAD_PHOTO!!
1335799007148: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335799007148: my_gpinfo.isSuccess is now (should be true): true
1335799007150: Dispatching Atom PROC_REPLY 10:62 (2,0)->(2,0)
1335799007150: Received PROC_REQUEST 10:62 (2,0)->(2,0), replying PROC_REPLY 10:62 (2,0)->(2,0)
1335799007151: Sending UDP payload: 446
1335799007153: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335799007154: I'm a leader and I successfully saved my client's new photo
1335799007154: now showing in UI the new photo I just saved ... 
1335799007155: the photo length: 4707
1335799007243: Received UDP payload: 446
1335799007245: mux: I got a CSM packet at a leader 
1335799007246: Sending UDP payload: 989
1335799007251: DSM layer: Going to and from remote region took latency = 113
1335799007251: DSM layer: orig leader sent packet at 1335799007138 ~ received reply from remote leader at 1335799007251
1335799007251: Received PROC_REPLY 10:62 (2,0)->(2,0), handing to UserApp
1335799007251: inside handleDSMReply. Now back in originator leader of region 2
1335799007252: Originator Region=2's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799007252: change leader replyCounter to: 34
1335799007252: inside sendReplies of replyCount = 500100034
1335799007252: reply packet contains the success info for UPLOAD_PHOTO
1335799007253: === Finished one round of sending REPLY Packet =======
1335799007253: =======================
1335799007253: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335799007253: Leader about to send REPLY packet, number: 500100034 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335799007253: inside sendPacket(Packet p)
1335799007253: inside sendReplyRepeatingRunnable for replyCount = 500100034
1335799007256: inside handleClientRequest. Originator leader of region 2
1335799007256: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799007256: mux: Inside mux Packet.CLIENT_REQUEST
1335799007257: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100032
1335799007257: Yay the last leg succeeded. Removing reply runnables ...
1335799007257: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100032
1335799007257: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100032
1335799007257: do not send ack for received final_leg_ack
1335799007257: got new request, requestCounter = 5004088
1335799007258: Sending UDP payload: 642
1335799007264: end of server show photo aside %%%%%%%%%
1335799007553: =======================
1335799007553: inside sendReplyRepeatingRunnable for replyCount = 500100034
1335799007554: === Finished one round of sending REPLY Packet =======
1335799007554: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335799007554: Leader about to send REPLY packet, number: 500100034 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335799007554: inside sendPacket(Packet p)
1335799007555: Sending UDP payload: 642
1335799007716: Received UDP payload: 5354
1335799007717: mux: Inside mux Packet.CLIENT_REQUEST
1335799007718: Make FirstLeg Ack regardless of new or already-processed requests
1335799007718: Note down new request by adding requestCounter=5008106 to HashMap processedRequests
1335799007718: The leader sending a First Leg ack to originator client (which id = 5008)
1335799007718: discarding repeated requestCounter=5008106, but still send an ack back
1335799007718: inside handleClientRequest. Originator leader of region 2
1335799007718: inside sendPacket(Packet p)
1335799007718: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799007719: Sending UDP payload: 446
1335799007737: Received UDP payload: 446
1335799007738: mux: Inside mux Packet.CLIENT_REQUEST
1335799007739: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100034
1335799007739: Yay the last leg succeeded. Removing reply runnables ...
1335799007739: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100034
1335799007739: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100034
1335799007739: got new request, requestCounter = 5008108
1335799007739: inside handleClientRequest. Originator leader of region 2
1335799007739: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799007740: do not send ack for received final_leg_ack
1335799007863: Received UDP payload: 6027
1335799007866: mux: Inside mux Packet.CLIENT_REQUEST
1335799007875: Received UDP payload: 446
1335799007879: mux: Inside mux Packet.CLIENT_REQUEST
1335799007885: Received UDP payload: 446
1335799007888: mux: Inside mux Packet.CLIENT_REQUEST
1335799008811: Received UDP payload: 625
1335799008816: mux: Inside mux Packet.CLIENT_REQUEST
1335799008823: Received UDP payload: 625
1335799008829: mux: Inside mux Packet.CLIENT_REQUEST
1335799008868: Received UDP payload: 625
1335799008869: mux: Inside mux Packet.CLIENT_REQUEST
1335799009208: Received UDP payload: 446
1335799009209: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799009209: mux: Inside Packet.SERVER_REPLY
1335799009305: Received UDP payload: 446
1335799009307: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799009307: mux: Inside Packet.SERVER_REPLY
1335799009427: Received UDP payload: 6147
1335799009431: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799009431: mux: Inside mux Packet.CLIENT_REQUEST
1335799009432: got new request, requestCounter = 5017154
1335799009432: inside handleClientRequest. Originator leader of region 2
1335799009433: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335799009434: Dispatching Atom PROC_REQUEST 10:63 (2,0)->(2,0)
1335799009434: Sending PROC_REQUEST 10:63 (2,0)->(2,0)
1335799009436: Make FirstLeg Ack regardless of new or already-processed requests
1335799009436: Note down new request by adding requestCounter=5017154 to HashMap processedRequests
1335799009437: The leader sending a First Leg ack to originator client (which id = 5017)
1335799009437: inside sendPacket(Packet p)
1335799009438: mux: I got a CSM packet at a leader 
1335799009441: Sending UDP payload: 6511
1335799009455: removed replies before id 63 from sentReplies of size 0
1335799009456: inside handleDSMRequest. At requests's remote leader of region 2
1335799009458: Inside UPLOAD_PHOTO!!
1335799009461: my_gpinfo.isSuccess is now (should be true): true
1335799009470: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335799009475: Received PROC_REQUEST 10:63 (2,0)->(2,0), replying PROC_REPLY 10:63 (2,0)->(2,0)
1335799009476: Dispatching Atom PROC_REPLY 10:63 (2,0)->(2,0)
1335799009478: Sending UDP payload: 446
1335799009489: mux: I got a CSM packet at a leader 
1335799009490: Received PROC_REPLY 10:63 (2,0)->(2,0), handing to UserApp
1335799009490: Sending UDP payload: 989
1335799009490: inside handleDSMReply. Now back in originator leader of region 2
1335799009491: DSM layer: Going to and from remote region took latency = 57
1335799009491: DSM layer: orig leader sent packet at 1335799009433 ~ received reply from remote leader at 1335799009490
1335799009491: Originator Region=2's Leader (for Client=5017) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799009491: change leader replyCounter to: 35
1335799009491: reply packet contains the success info for UPLOAD_PHOTO
1335799009492: === Finished one round of sending REPLY Packet =======
1335799009492: =======================
1335799009492: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335799009492: Leader about to send REPLY packet, number: 500100035 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335799009492: inside sendPacket(Packet p)
1335799009492: inside sendReplies of replyCount = 500100035
1335799009492: inside sendReplyRepeatingRunnable for replyCount = 500100035
1335799009493: Sending UDP payload: 642
1335799009496: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335799009497: I'm a leader and I successfully saved my client's new photo
1335799009498: now showing in UI the new photo I just saved ... 
1335799009498: the photo length: 5500
1335799009532: Received UDP payload: 446
1335799009534: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799009534: mux: Inside Packet.SERVER_REPLY
1335799009535: Received UDP payload: 446
1335799009536: mux: Inside Packet.SERVER_REPLY
1335799009537: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799009541: end of server show photo aside %%%%%%%%%
1335799009693: Received UDP payload: 4577
1335799009695: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799009695: mux: Inside Packet.SERVER_REPLY
1335799009748: Received UDP payload: 446
1335799009750: mux: Inside mux Packet.CLIENT_REQUEST
1335799009793: === Finished one round of sending REPLY Packet =======
1335799009793: =======================
1335799009793: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335799009793: Leader about to send REPLY packet, number: 500100035 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335799009793: inside sendPacket(Packet p)
1335799009793: inside sendReplyRepeatingRunnable for replyCount = 500100035
1335799009794: Sending UDP payload: 642
1335799009834: Received UDP payload: 6147
1335799009836: Make FirstLeg Ack regardless of new or already-processed requests
1335799009836: Note down new request by adding requestCounter=5017154 to HashMap processedRequests
1335799009836: discarding repeated requestCounter=5017154, but still send an ack back
1335799009836: inside handleClientRequest. Originator leader of region 2
1335799009836: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799009836: mux: Inside mux Packet.CLIENT_REQUEST
1335799009837: The leader sending a First Leg ack to originator client (which id = 5017)
1335799009837: inside sendPacket(Packet p)
1335799009838: Sending UDP payload: 446
1335799009937: Received UDP payload: 989
1335799009939: forwarding disabled, not forwarding packets
1335799009939: mux: GOT CSM_Msg
1335799010012: Received UDP payload: 446
1335799010055: Received UDP payload: 4924
1335799010058: forwarding disabled, not forwarding packets
1335799010058: mux: GOT CSM_Msg
1335799010083: inside sendPacket(Packet p)
1335799010084: Sending UDP payload: 446
1335799010093: =======================
1335799010094: === Finished one round of sending REPLY Packet =======
1335799010094: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335799010094: Leader about to send REPLY packet, number: 500100035 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335799010094: inside sendPacket(Packet p)
1335799010094: inside sendReplyRepeatingRunnable for replyCount = 500100035
1335799010095: Sending UDP payload: 642
1335799010175: Received UDP payload: 4577
1335799010177: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799010177: mux: Inside Packet.SERVER_REPLY
1335799010300: Received UDP payload: 625
1335799010301: inside handleClientRequest. Originator leader of region 2
1335799010301: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799010301: mux: Inside mux Packet.CLIENT_REQUEST
1335799010302: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335799010302: Sending to region: 0
1335799010302: got new request, requestCounter = 5007084
1335799010303: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799010303: Make FirstLeg Ack regardless of new or already-processed requests
1335799010303: Note down new request by adding requestCounter=5007084 to HashMap processedRequests
1335799010303: Sending PROC_REQUEST 11:12 (2,0)->(0,0)
1335799010303: The leader sending a First Leg ack to originator client (which id = 5007)
1335799010303: inside sendPacket(Packet p)
1335799010304: mux: I got a CSM packet at a leader 
1335799010305: Sending UDP payload: 989
1335799010306: forwarding disabled, not forwarding packets
1335799010307: Sending UDP payload: 446
1335799010310: Received UDP payload: 625
1335799010312: mux: Inside mux Packet.CLIENT_REQUEST
1335799010394: =======================
1335799010394: Leader about to send REPLY packet, number: 500100035 type: 16 Leader in region: (2,0) to Client nodID: 5017
1335799010394: inside sendReplyRepeatingRunnable for replyCount = 500100035
1335799010395: === Finished one round of sending REPLY Packet =======
1335799010395: I (the leader) was not the originator client (which id = 5017) so I use UDP to send packet back to my nonleader
1335799010395: inside sendPacket(Packet p)
1335799010396: Sending UDP payload: 642
1335799010493: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100035
1335799010493: inside sendReplyTimeoutR
1335799010640: Received UDP payload: 625
1335799010643: mux: Inside mux Packet.CLIENT_REQUEST
1335799010660: Received UDP payload: 625
1335799010662: Note down new request by adding requestCounter=5007084 to HashMap processedRequests
1335799010662: discarding repeated requestCounter=5007084, but still send an ack back
1335799010662: inside handleClientRequest. Originator leader of region 2
1335799010662: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799010662: mux: Inside mux Packet.CLIENT_REQUEST
1335799010663: Make FirstLeg Ack regardless of new or already-processed requests
1335799010663: The leader sending a First Leg ack to originator client (which id = 5007)
1335799010663: inside sendPacket(Packet p)
1335799010664: Sending UDP payload: 446
1335799010672: Received UDP payload: 446
1335799010674: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799010674: mux: Inside Packet.SERVER_REPLY
1335799010962: Received UDP payload: 6147
1335799010964: discarding repeated requestCounter=5017154, but still send an ack back
1335799010964: inside handleClientRequest. Originator leader of region 2
1335799010964: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799010964: mux: Inside mux Packet.CLIENT_REQUEST
1335799010965: Make FirstLeg Ack regardless of new or already-processed requests
1335799010965: Note down new request by adding requestCounter=5017154 to HashMap processedRequests
1335799010965: The leader sending a First Leg ack to originator client (which id = 5017)
1335799010965: inside sendPacket(Packet p)
1335799010966: Sending UDP payload: 446
1335799011072: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011073: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011073: mux: I got a CSM packet at a leader 
1335799011074: Sending UDP payload: 989
1335799011074: forwarding disabled, not forwarding packets
1335799011129: Received UDP payload: 6147
1335799011130: Note down new request by adding requestCounter=5017154 to HashMap processedRequests
1335799011130: discarding repeated requestCounter=5017154, but still send an ack back
1335799011130: inside handleClientRequest. Originator leader of region 2
1335799011130: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799011130: mux: Inside mux Packet.CLIENT_REQUEST
1335799011131: Make FirstLeg Ack regardless of new or already-processed requests
1335799011131: Sending UDP payload: 446
1335799011131: The leader sending a First Leg ack to originator client (which id = 5017)
1335799011131: inside sendPacket(Packet p)
1335799011134: Received UDP payload: 446
1335799011136: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100035
1335799011136: Yay the last leg succeeded. Removing reply runnables ...
1335799011136: got new request, requestCounter = 5017155
1335799011136: inside handleClientRequest. Originator leader of region 2
1335799011136: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799011136: mux: Inside mux Packet.CLIENT_REQUEST
1335799011136: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100035
1335799011137: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100035
1335799011137: do not send ack for received final_leg_ack
1335799011145: Received UDP payload: 446
1335799011146: mux: Inside mux Packet.CLIENT_REQUEST
1335799011147: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100035
1335799011147: Yay the last leg succeeded. Removing reply runnables ...
1335799011147: do not send ack for received final_leg_ack
1335799011147: got new request, requestCounter = 5017156
1335799011147: inside handleClientRequest. Originator leader of region 2
1335799011147: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799011147: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100035
1335799011147: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100035
1335799011168: Received UDP payload: 446
1335799011169: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100035
1335799011169: Yay the last leg succeeded. Removing reply runnables ...
1335799011169: got new request, requestCounter = 5017157
1335799011169: inside handleClientRequest. Originator leader of region 2
1335799011169: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799011169: mux: Inside mux Packet.CLIENT_REQUEST
1335799011170: do not send ack for received final_leg_ack
1335799011170: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100035
1335799011170: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100035
1335799011173: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011174: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011174: mux: I got a CSM packet at a leader 
1335799011175: Sending UDP payload: 989
1335799011175: forwarding disabled, not forwarding packets
1335799011184: Received UDP payload: 989
1335799011186: mux: GOT CSM_Msg
1335799011187: INSIDE SERVER_GET_PHOTO!!!
1335799011187: inside handleDSMRequest. At requests's remote leader of region 2
1335799011187: removed replies before id 25 from sentReplies of size 0
1335799011189: Dispatching Atom PROC_REPLY 11:25 (2,0)->(3,0)
1335799011189: Received PROC_REQUEST 11:25 (3,0)->(2,0), replying PROC_REPLY 11:25 (2,0)->(3,0)
1335799011189: mux: I got a CSM packet at a leader 
1335799011190: Sending UDP payload: 6511
1335799011191: forwarding disabled, not forwarding packets
1335799011204: Received UDP payload: 446
1335799011205: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100035
1335799011205: got new request, requestCounter = 5017158
1335799011205: inside handleClientRequest. Originator leader of region 2
1335799011205: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799011205: mux: Inside mux Packet.CLIENT_REQUEST
1335799011206: Yay the last leg succeeded. Removing reply runnables ...
1335799011206: do not send ack for received final_leg_ack
1335799011206: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100035
1335799011206: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100035
1335799011268: Received UDP payload: 989
1335799011270: mux: GOT CSM_Msg
1335799011270: removed replies before id 25 from sentReplies of size 1
1335799011271: Dispatching Atom PROC_REPLY 11:25 (2,0)->(3,0)
1335799011271: Received DUPLICATE PROC_REQUEST 11:25 (3,0)->(2,0), replying PROC_REPLY 11:25 (2,0)->(3,0)
1335799011271: mux: I got a CSM packet at a leader 
1335799011272: Sending UDP payload: 6511
1335799011273: forwarding disabled, not forwarding packets
1335799011274: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011275: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011275: mux: I got a CSM packet at a leader 
1335799011276: Sending UDP payload: 989
1335799011277: forwarding disabled, not forwarding packets
1335799011355: Received UDP payload: 989
1335799011357: mux: GOT CSM_Msg
1335799011357: removed replies before id 25 from sentReplies of size 1
1335799011358: Dispatching Atom PROC_REPLY 11:25 (2,0)->(3,0)
1335799011358: Received DUPLICATE PROC_REQUEST 11:25 (3,0)->(2,0), replying PROC_REPLY 11:25 (2,0)->(3,0)
1335799011358: mux: I got a CSM packet at a leader 
1335799011359: Sending UDP payload: 6511
1335799011368: forwarding disabled, not forwarding packets
1335799011377: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011377: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011378: mux: I got a CSM packet at a leader 
1335799011380: Sending UDP payload: 989
1335799011381: forwarding disabled, not forwarding packets
1335799011425: Received UDP payload: 446
1335799011427: mux: Inside mux Packet.CLIENT_REQUEST
1335799011456: Received UDP payload: 989
1335799011458: mux: GOT CSM_Msg
1335799011459: Dispatching Atom PROC_REPLY 11:25 (2,0)->(3,0)
1335799011459: Received DUPLICATE PROC_REQUEST 11:25 (3,0)->(2,0), replying PROC_REPLY 11:25 (2,0)->(3,0)
1335799011459: removed replies before id 25 from sentReplies of size 1
1335799011460: Sending UDP payload: 6511
1335799011460: mux: I got a CSM packet at a leader 
1335799011461: forwarding disabled, not forwarding packets
1335799011478: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011479: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011479: mux: I got a CSM packet at a leader 
1335799011482: Sending UDP payload: 989
1335799011482: forwarding disabled, not forwarding packets
1335799011484: Received UDP payload: 989
1335799011492: mux: GOT CSM_Msg
1335799011493: Received DUPLICATE PROC_REQUEST 11:25 (3,0)->(2,0), replying PROC_REPLY 11:25 (2,0)->(3,0)
1335799011493: removed replies before id 25 from sentReplies of size 1
1335799011494: Dispatching Atom PROC_REPLY 11:25 (2,0)->(3,0)
1335799011494: mux: I got a CSM packet at a leader 
1335799011495: Sending UDP payload: 6511
1335799011496: forwarding disabled, not forwarding packets
1335799011497: canPressButton = TRUE
1335799011498: areButtonsEnabled --> false
1335799011498: areButtonsEnabled --> false
1335799011498: disabling buttons ...
1335799011498: took picture disableButtonsR
1335799011511: one more takeNum: 15
1335799011512: Clicked take picture button ..
1335799011512: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=15 takeCamGood=14 takeGoodSave=12 takeBad=0 takeTimedout=0 takePercent=80% getNum=13 getGood=5 getBad=6 getTimedout=0 getPercent=38%
1335799011551: Received UDP payload: 989
1335799011554: Received DUPLICATE PROC_REQUEST 11:25 (3,0)->(2,0), replying PROC_REPLY 11:25 (2,0)->(3,0)
1335799011554: mux: GOT CSM_Msg
1335799011554: removed replies before id 25 from sentReplies of size 1
1335799011555: Dispatching Atom PROC_REPLY 11:25 (2,0)->(3,0)
1335799011555: mux: I got a CSM packet at a leader 
1335799011557: Sending UDP payload: 6511
1335799011557: forwarding disabled, not forwarding packets
1335799011580: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011580: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011582: mux: I got a CSM packet at a leader 
1335799011584: Sending UDP payload: 989
1335799011584: forwarding disabled, not forwarding packets
1335799011681: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011681: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011681: mux: I got a CSM packet at a leader 
1335799011682: Sending UDP payload: 989
1335799011683: forwarding disabled, not forwarding packets
1335799011688: Received UDP payload: 989
1335799011693: mux: GOT CSM_Msg
1335799011693: removed replies before id 25 from sentReplies of size 1
1335799011694: Dispatching Atom PROC_REPLY 11:25 (2,0)->(3,0)
1335799011694: Received DUPLICATE PROC_REQUEST 11:25 (3,0)->(2,0), replying PROC_REPLY 11:25 (2,0)->(3,0)
1335799011695: mux: I got a CSM packet at a leader 
1335799011696: Sending UDP payload: 6511
1335799011698: forwarding disabled, not forwarding packets
1335799011767: Received UDP payload: 989
1335799011769: mux: GOT CSM_Msg
1335799011769: removed replies before id 25 from sentReplies of size 1
1335799011770: Dispatching Atom PROC_REPLY 11:25 (2,0)->(3,0)
1335799011770: Received DUPLICATE PROC_REQUEST 11:25 (3,0)->(2,0), replying PROC_REPLY 11:25 (2,0)->(3,0)
1335799011770: mux: I got a CSM packet at a leader 
1335799011771: Sending UDP payload: 6511
1335799011772: forwarding disabled, not forwarding packets
1335799011783: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011783: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011784: mux: I got a CSM packet at a leader 
1335799011785: Sending UDP payload: 989
1335799011786: forwarding disabled, not forwarding packets
1335799011884: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011884: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011885: mux: I got a CSM packet at a leader 
1335799011886: Sending UDP payload: 989
1335799011886: forwarding disabled, not forwarding packets
1335799011948: Received UDP payload: 446
1335799011981: Received UDP payload: 446
1335799011982: mux: Inside mux Packet.CLIENT_REQUEST
1335799011985: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011985: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799011985: mux: I got a CSM packet at a leader 
1335799011986: Sending UDP payload: 989
1335799011986: forwarding disabled, not forwarding packets
1335799012086: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799012086: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799012086: mux: I got a CSM packet at a leader 
1335799012087: Sending UDP payload: 989
1335799012088: forwarding disabled, not forwarding packets
1335799012187: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799012187: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799012187: mux: I got a CSM packet at a leader 
1335799012190: Sending UDP payload: 989
1335799012192: forwarding disabled, not forwarding packets
1335799012264: Received UDP payload: 446
1335799012266: mux: Inside mux Packet.CLIENT_REQUEST
1335799012288: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799012288: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799012288: mux: I got a CSM packet at a leader 
1335799012291: Sending UDP payload: 989
1335799012292: forwarding disabled, not forwarding packets
1335799012389: Dispatching Atom PROC_REQUEST 11:12 (2,0)->(0,0)
1335799012389: Retrying PROC_REQUEST 11:12 (2,0)->(0,0)
1335799012389: mux: I got a CSM packet at a leader 
1335799012390: Sending UDP payload: 989
1335799012391: forwarding disabled, not forwarding packets
1335799012490: DSM Layer: Request timed out, send failure PROC_REPLY 11:12 (0,0)->(2,0)
1335799012490: Dispatching Atom PROC_REPLY 11:12 (0,0)->(2,0)
1335799012490: mux: I got a CSM packet at a leader 
1335799012491: Sending UDP payload: 989
1335799012492: DSM layer timed out, don't log dsm layer latency stuff.
1335799012492: Received PROC_REPLY 11:12 (0,0)->(2,0), handing to UserApp
1335799012492: inside handleDSMReply. Now back in originator leader of region 2
1335799012493: Originator Region=2's Leader (for Client=5007) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799012493: change leader replyCounter to: 36
1335799012493: inside sendReplies of replyCount = 500100036
1335799012493: reply packet contains the newest photo/success info from the remote region
1335799012503: === Finished one round of sending REPLY Packet =======
1335799012503: =======================
1335799012503: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335799012503: Leader about to send REPLY packet, number: 500100036 type: 15 Leader in region: (2,0) to Client nodID: 5007
1335799012503: inside sendPacket(Packet p)
1335799012503: inside sendReplyRepeatingRunnable for replyCount = 500100036
1335799012506: Sending UDP payload: 642
1335799012858: =======================
1335799012871: inside sendReplyRepeatingRunnable for replyCount = 500100036
1335799012872: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335799012872: Leader about to send REPLY packet, number: 500100036 type: 15 Leader in region: (2,0) to Client nodID: 5007
1335799012873: inside sendPacket(Packet p)
1335799012875: Sending UDP payload: 642
1335799012876: === Finished one round of sending REPLY Packet =======
1335799012894: inside HandlePictureStorage onPictureTaken()
1335799012895: one more takeCamGood: 15
1335799012897: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=15 takeCamGood=15 takeGoodSave=12 takeBad=0 takeTimedout=0 takePercent=80% getNum=13 getGood=5 getBad=6 getTimedout=0 getPercent=38%
1335799013157: Picture successfully taken, ORIG BYTE LENGTH = 2209936
1335799013231: === Finished one round of sending REPLY Packet =======
1335799013231: =======================
1335799013231: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335799013231: Leader about to send REPLY packet, number: 500100036 type: 15 Leader in region: (2,0) to Client nodID: 5007
1335799013231: inside sendPacket(Packet p)
1335799013231: inside sendReplyRepeatingRunnable for replyCount = 500100036
1335799013232: Sending UDP payload: 642
1335799013455: Received UDP payload: 446
1335799013456: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799013456: mux: Inside mux Packet.CLIENT_REQUEST
1335799013457: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100036
1335799013457: got new request, requestCounter = 5007086
1335799013457: inside handleClientRequest. Originator leader of region 2
1335799013458: Yay the last leg succeeded. Removing reply runnables ...
1335799013458: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100036
1335799013458: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100036
1335799013459: do not send ack for received final_leg_ack
1335799013466: Our new height x width: 306 x 408
1335799013467: Show photo from handle my camera take
1335799013469: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335799013469: change local requestCounter to 55
1335799013484: Received UDP payload: 446
1335799013488: Received UDP payload: 446
1335799013490: got new request, requestCounter = 5007087
1335799013490: inside handleClientRequest. Originator leader of region 2
1335799013490: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799013490: mux: Inside mux Packet.CLIENT_REQUEST
1335799013491: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100036
1335799013491: Yay the last leg succeeded. Removing reply runnables ...
1335799013491: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100036
1335799013492: do not send ack for received final_leg_ack
1335799013492: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100036
1335799013501: Received UDP payload: 989
1335799013503: forwarding disabled, not forwarding packets
1335799013503: mux: GOT CSM_Msg
1335799013523: BYTE SIZE AFTER COMPRESSION: 3925
1335799013525: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001055 Client in region: 2 Client nodID: 5001
1335799013587: ----------------------------
1335799013588: I'm a leader, my requesting photos packet going to mux directly
1335799013588: inside sendRequestPacketRepeatingRunnable for requestCount = 5001055
1335799013589: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799013589: mux: Inside mux Packet.CLIENT_REQUEST
1335799013590: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335799013590: got new request, requestCounter = 5001055
1335799013590: inside handleClientRequest. Originator leader of region 2
1335799013591: Sending PROC_REQUEST 10:64 (2,0)->(2,0)
1335799013592: Dispatching Atom PROC_REQUEST 10:64 (2,0)->(2,0)
1335799013592: Note down new request by adding requestCounter=5001055 to HashMap processedRequests
1335799013593: Make FirstLeg Ack regardless of new or already-processed requests
1335799013593: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335799013594: mux: I got a CSM packet at a leader 
1335799013595: --- Finished one round of sending REQUEST Packet ---------
1335799013597: Sending UDP payload: 4936
1335799013598: removed replies before id 64 from sentReplies of size 0
1335799013599: inside handleDSMRequest. At requests's remote leader of region 2
1335799013601: Inside UPLOAD_PHOTO!!
1335799013604: my_gpinfo.isSuccess is now (should be true): true
1335799013605: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335799013608: Received PROC_REQUEST 10:64 (2,0)->(2,0), replying PROC_REPLY 10:64 (2,0)->(2,0)
1335799013609: Dispatching Atom PROC_REPLY 10:64 (2,0)->(2,0)
1335799013611: mux: I got a CSM packet at a leader 
1335799013614: Sending UDP payload: 989
1335799013616: Received PROC_REPLY 10:64 (2,0)->(2,0), handing to UserApp
1335799013617: DSM layer: Going to and from remote region took latency = 26
1335799013617: inside handleDSMReply. Now back in originator leader of region 2
1335799013618: DSM layer: orig leader sent packet at 1335799013591 ~ received reply from remote leader at 1335799013617
1335799013620: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799013620: change leader replyCounter to: 37
1335799013621: inside sendReplies of replyCount = 500100037
1335799013621: reply packet contains the success info for UPLOAD_PHOTO
1335799013622: =======================
1335799013622: inside sendReplyRepeatingRunnable for replyCount = 500100037
1335799013623: === Finished one round of sending REPLY Packet =======
1335799013623: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335799013623: Leader about to send REPLY packet, number: 500100037 type: 16 Leader in region: (2,0) to Client nodID: 5001
1335799013631: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799013632: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335799013634: I'm a leader and I successfully saved my client's new photo
1335799013634: now showing in UI the new photo I just saved ... 
1335799013635: the photo length: 3925
1335799013674: end of server show photo aside %%%%%%%%%
1335799013675: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335799013676: Inside _enableButtons
1335799013676: areButtonsEnabled --> true
1335799013676: disabling progressdialog due to successful new photo upload
1335799013676: send final leg ack regardless of new or already-processed reply
1335799013677: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001056 Client in region: (2,0) Client nodID: 5001
1335799013677: I'm a leader client, my final_leg packet going to mux directly
1335799013677: inside finalLegAck: change requestCounter to 56
1335799013677: mux: Inside mux Packet.CLIENT_REQUEST
1335799013677: new client_upload_photo_ack reply with replyCounter 500100037
1335799013678: = leader upload start 1335799013589 ~ stop 1335799013675
1335799013678: inside handleClientRequest. Originator leader of region 2
1335799013678: leader upload new photo latency = 86
1335799013678: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799013678: note down new reply by adding replyCounter=500100037 to HashMap processedReplies
1335799013679: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100037
1335799013679: Yay the last leg succeeded. Removing reply runnables ...
1335799013679: got new request, requestCounter = 5001056
1335799013679: one more takeGoodSave: 13
1335799013680: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100037
1335799013680: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100037
1335799013680: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=15 takeCamGood=15 takeGoodSave=13 takeBad=0 takeTimedout=0 takePercent=86% getNum=13 getGood=5 getBad=6 getTimedout=0 getPercent=38%
1335799013681: SUCCESS Client now knows saving photo on its leader succeeded
1335799013681: do not send ack for received final_leg_ack
1335799014487: Received UDP payload: 989
1335799014490: forwarding disabled, not forwarding packets
1335799014490: mux: GOT CSM_Msg
1335799014548: Received UDP payload: 625
1335799014550: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335799014550: got new request, requestCounter = 5004089
1335799014550: inside handleClientRequest. Originator leader of region 2
1335799014550: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799014550: mux: Inside mux Packet.CLIENT_REQUEST
1335799014551: Sending to region: 2
1335799014552: Dispatching Atom PROC_REQUEST 11:65 (2,0)->(2,0)
1335799014552: Note down new request by adding requestCounter=5004089 to HashMap processedRequests
1335799014552: Sending PROC_REQUEST 11:65 (2,0)->(2,0)
1335799014553: Make FirstLeg Ack regardless of new or already-processed requests
1335799014553: The leader sending a First Leg ack to originator client (which id = 5004)
1335799014553: inside sendPacket(Packet p)
1335799014553: mux: I got a CSM packet at a leader 
1335799014555: Sending UDP payload: 989
1335799014556: inside handleDSMRequest. At requests's remote leader of region 2
1335799014556: removed replies before id 65 from sentReplies of size 0
1335799014557: INSIDE SERVER_GET_PHOTO!!!
1335799014559:  1 self to self atomRequest
1335799014559: dst_region == src_region = 2
1335799014560: Received PROC_REQUEST 11:65 (2,0)->(2,0), replying PROC_REPLY 11:65 (2,0)->(2,0)
1335799014561: Dispatching Atom PROC_REPLY 11:65 (2,0)->(2,0)
1335799014562: Sending UDP payload: 446
1335799014573: mux: I got a CSM packet at a leader 
1335799014577: Sending UDP payload: 4936
1335799014586: Received PROC_REPLY 11:65 (2,0)->(2,0), handing to UserApp
1335799014589: DSM layer: Going to and from remote region took latency = 35
1335799014589: inside handleDSMReply. Now back in originator leader of region 2
1335799014590: DSM layer: orig leader sent packet at 1335799014551 ~ received reply from remote leader at 1335799014586
1335799014592: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799014592: change leader replyCounter to: 38
1335799014593: inside sendReplies of replyCount = 500100038
1335799014593: reply packet contains the newest photo/success info from the remote region
1335799014594: =======================
1335799014594: inside sendReplyRepeatingRunnable for replyCount = 500100038
1335799014595: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335799014595: Leader about to send REPLY packet, number: 500100038 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335799014597: === Finished one round of sending REPLY Packet =======
1335799014597: inside sendPacket(Packet p)
1335799014598: Received UDP payload: 446
1335799014621: Sending UDP payload: 4589
1335799014804: Received UDP payload: 989
1335799014806: mux: GOT CSM_Msg
1335799014807: forwarding disabled, not forwarding packets
1335799014811: Received UDP payload: 446
1335799014813: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100038
1335799014813: Yay the last leg succeeded. Removing reply runnables ...
1335799014813: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100038
1335799014813: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100038
1335799014813: got new request, requestCounter = 5004090
1335799014813: inside handleClientRequest. Originator leader of region 2
1335799014813: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799014813: mux: Inside mux Packet.CLIENT_REQUEST
1335799014814: do not send ack for received final_leg_ack
1335799014825: Received UDP payload: 989
1335799014828: forwarding disabled, not forwarding packets
1335799014828: mux: GOT CSM_Msg
1335799014859: Received UDP payload: 989
1335799014861: mux: GOT CSM_Msg
1335799014862: forwarding disabled, not forwarding packets
1335799014884: Received UDP payload: 989
1335799014886: forwarding disabled, not forwarding packets
1335799014886: mux: GOT CSM_Msg
1335799014927: Received UDP payload: 989
1335799014929: forwarding disabled, not forwarding packets
1335799014929: mux: GOT CSM_Msg
1335799015045: Received UDP payload: 446
1335799015084: inside sendPacket(Packet p)
1335799015085: Sending UDP payload: 446
1335799015163: Received UDP payload: 4924
1335799015166: forwarding disabled, not forwarding packets
1335799015166: mux: GOT CSM_Msg
1335799015242: Received UDP payload: 4924
1335799015246: mux: GOT CSM_Msg
1335799015247: forwarding disabled, not forwarding packets
1335799015322: Received UDP payload: 4924
1335799015327: forwarding disabled, not forwarding packets
1335799015327: mux: GOT CSM_Msg
1335799015559: Received UDP payload: 446
1335799015579: Received UDP payload: 989
1335799015583: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015583: mux: GOT CSM_Msg
1335799015620: Received UDP payload: 989
1335799015624: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015624: mux: GOT CSM_Msg
1335799015638: Received UDP payload: 989
1335799015642: mux: GOT CSM_Msg
1335799015644: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015658: Received UDP payload: 989
1335799015661: mux: GOT CSM_Msg
1335799015662: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015676: Received UDP payload: 989
1335799015685: mux: GOT CSM_Msg
1335799015686: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015690: Received UDP payload: 989
1335799015706: mux: GOT CSM_Msg
1335799015707: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015720: Received UDP payload: 989
1335799015728: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015728: mux: GOT CSM_Msg
1335799015733: Received UDP payload: 989
1335799015736: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015736: mux: GOT CSM_Msg
1335799015744: Received UDP payload: 989
1335799015746: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015746: mux: GOT CSM_Msg
1335799015758: Received UDP payload: 989
1335799015760: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015760: mux: GOT CSM_Msg
1335799015770: Received UDP payload: 989
1335799015772: mux: GOT CSM_Msg
1335799015773: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015787: Received UDP payload: 989
1335799015789: mux: GOT CSM_Msg
1335799015790: Received DUPLICATE PROC_REPLY 11:11 (0,0)->(2,0)
1335799015942: Received UDP payload: 5784
1335799015944: forwarding disabled, not forwarding packets
1335799015944: mux: GOT CSM_Msg
1335799015969: Received UDP payload: 989
1335799015971: forwarding disabled, not forwarding packets
1335799015971: mux: GOT CSM_Msg
1335799015974: Received UDP payload: 446
1335799015992: Received UDP payload: 989
1335799015994: mux: GOT CSM_Msg
1335799015995: forwarding disabled, not forwarding packets
1335799016231: Received UDP payload: 5784
1335799016233: Received DUPLICATE PROC_REPLY 11:12 (0,0)->(2,0)
1335799016233: mux: GOT CSM_Msg
1335799016276: Received UDP payload: 625
1335799016279: got new request, requestCounter = 5004091
1335799016279: inside handleClientRequest. Originator leader of region 2
1335799016279: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799016279: mux: Inside mux Packet.CLIENT_REQUEST
1335799016280: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335799016281: Sending PROC_REQUEST 11:7 (2,0)->(3,0)
1335799016281: Sending to region: 3
1335799016282: Dispatching Atom PROC_REQUEST 11:7 (2,0)->(3,0)
1335799016282: Make FirstLeg Ack regardless of new or already-processed requests
1335799016282: Note down new request by adding requestCounter=5004091 to HashMap processedRequests
1335799016283: The leader sending a First Leg ack to originator client (which id = 5004)
1335799016283: inside sendPacket(Packet p)
1335799016283: mux: I got a CSM packet at a leader 
1335799016295: Sending UDP payload: 989
1335799016296: forwarding disabled, not forwarding packets
1335799016298: Sending UDP payload: 446
1335799016455: Received UDP payload: 6391
1335799016459: Received PROC_REPLY 11:7 (3,0)->(2,0), handing to UserApp
1335799016459: inside handleDSMReply. Now back in originator leader of region 2
1335799016459: mux: GOT CSM_Msg
1335799016460: DSM layer: Going to and from remote region took latency = 178
1335799016460: DSM layer: orig leader sent packet at 1335799016281 ~ received reply from remote leader at 1335799016459
1335799016461: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799016461: change leader replyCounter to: 39
1335799016461: reply packet contains the newest photo/success info from the remote region
1335799016462: inside sendReplies of replyCount = 500100039
1335799016465: =======================
1335799016465: Leader about to send REPLY packet, number: 500100039 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335799016465: inside sendReplyRepeatingRunnable for replyCount = 500100039
1335799016466: === Finished one round of sending REPLY Packet =======
1335799016466: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335799016466: inside sendPacket(Packet p)
1335799016473: Sending UDP payload: 6044
1335799016474: Received UDP payload: 989
1335799016480: forwarding disabled, not forwarding packets
1335799016480: mux: GOT CSM_Msg
1335799016767: =======================
1335799016768: === Finished one round of sending REPLY Packet =======
1335799016768: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335799016768: Leader about to send REPLY packet, number: 500100039 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335799016768: inside sendPacket(Packet p)
1335799016768: inside sendReplyRepeatingRunnable for replyCount = 500100039
1335799016770: Sending UDP payload: 6044
1335799017068: =======================
1335799017069: inside sendReplyRepeatingRunnable for replyCount = 500100039
1335799017070: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335799017070: Leader about to send REPLY packet, number: 500100039 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335799017071: inside sendPacket(Packet p)
1335799017074: Sending UDP payload: 6044
1335799017078: === Finished one round of sending REPLY Packet =======
1335799017247: Received UDP payload: 625
1335799017249: mux: Inside mux Packet.CLIENT_REQUEST
1335799017250: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335799017250: got new request, requestCounter = 5008109
1335799017250: inside handleClientRequest. Originator leader of region 2
1335799017250: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799017251: Sending to region: 1
1335799017252: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799017252: Note down new request by adding requestCounter=5008109 to HashMap processedRequests
1335799017252: Sending PROC_REQUEST 11:15 (2,0)->(1,0)
1335799017262: Make FirstLeg Ack regardless of new or already-processed requests
1335799017262: The leader sending a First Leg ack to originator client (which id = 5008)
1335799017262: inside sendPacket(Packet p)
1335799017263: mux: I got a CSM packet at a leader 
1335799017264: Sending UDP payload: 989
1335799017265: forwarding disabled, not forwarding packets
1335799017267: Sending UDP payload: 446
1335799017380: =======================
1335799017380: Leader about to send REPLY packet, number: 500100039 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335799017380: inside sendReplyRepeatingRunnable for replyCount = 500100039
1335799017381: === Finished one round of sending REPLY Packet =======
1335799017381: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335799017381: inside sendPacket(Packet p)
1335799017383: Sending UDP payload: 6044
1335799017473: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100039
1335799017473: inside sendReplyTimeoutR
1335799017961: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799017962: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799017963: mux: I got a CSM packet at a leader 
1335799017966: Sending UDP payload: 989
1335799017969: forwarding disabled, not forwarding packets
1335799018069: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018070: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018071: mux: I got a CSM packet at a leader 
1335799018074: Sending UDP payload: 989
1335799018076: forwarding disabled, not forwarding packets
1335799018146: canPressButton = TRUE
1335799018147: areButtonsEnabled --> false
1335799018147: areButtonsEnabled --> false 
1335799018147: get picture disableButtonsR
1335799018171: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018171: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018171: mux: I got a CSM packet at a leader 
1335799018172: Sending UDP payload: 989
1335799018175: forwarding disabled, not forwarding packets
1335799018176: one more getNum: 14
1335799018177: ** Client of state 2 in region 2 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335799018177: change local requestCounter to 57
1335799018177: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=15 takeCamGood=15 takeGoodSave=13 takeBad=0 takeTimedout=0 takePercent=86% getNum=14 getGood=5 getBad=6 getTimedout=0 getPercent=35%
1335799018179: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001057 Client in region: 2 Client nodID: 5001
1335799018209: ----------------------------
1335799018210: I'm a leader, my requesting photos packet going to mux directly
1335799018210: got new request, requestCounter = 5001057
1335799018210: inside handleClientRequest. Originator leader of region 2
1335799018210: inside sendRequestPacketRepeatingRunnable for requestCount = 5001057
1335799018210: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799018210: mux: Inside mux Packet.CLIENT_REQUEST
1335799018211: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335799018211: Sending to region: 3
1335799018212: Dispatching Atom PROC_REQUEST 11:8 (2,0)->(3,0)
1335799018212: Make FirstLeg Ack regardless of new or already-processed requests
1335799018212: Note down new request by adding requestCounter=5001057 to HashMap processedRequests
1335799018212: Sending PROC_REQUEST 11:8 (2,0)->(3,0)
1335799018212: mux: I got a CSM packet at a leader 
1335799018212: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5001)
1335799018214: Sending UDP payload: 989
1335799018215: --- Finished one round of sending REQUEST Packet ---------
1335799018215: forwarding disabled, not forwarding packets
1335799018255: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799018272: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018272: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018275: mux: I got a CSM packet at a leader 
1335799018276: Sending UDP payload: 989
1335799018278: forwarding disabled, not forwarding packets
1335799018373: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018373: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018373: mux: I got a CSM packet at a leader 
1335799018374: Sending UDP payload: 989
1335799018375: forwarding disabled, not forwarding packets
1335799018474: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018474: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018474: mux: I got a CSM packet at a leader 
1335799018475: Sending UDP payload: 989
1335799018476: forwarding disabled, not forwarding packets
1335799018576: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018577: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018577: mux: I got a CSM packet at a leader 
1335799018578: Sending UDP payload: 989
1335799018578: forwarding disabled, not forwarding packets
1335799018691: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018692: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018694: mux: I got a CSM packet at a leader 
1335799018696: Sending UDP payload: 989
1335799018706: forwarding disabled, not forwarding packets
1335799018792: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018792: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018793: mux: I got a CSM packet at a leader 
1335799018794: Sending UDP payload: 989
1335799018794: forwarding disabled, not forwarding packets
1335799018893: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018893: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018894: mux: I got a CSM packet at a leader 
1335799018895: Sending UDP payload: 989
1335799018895: forwarding disabled, not forwarding packets
1335799018994: Dispatching Atom PROC_REQUEST 11:8 (2,0)->(3,0)
1335799018994: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018994: Retrying PROC_REQUEST 11:8 (2,0)->(3,0)
1335799018995: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799018995: mux: I got a CSM packet at a leader 
1335799018996: Sending UDP payload: 989
1335799018996: forwarding disabled, not forwarding packets
1335799018997: mux: I got a CSM packet at a leader 
1335799018998: Sending UDP payload: 989
1335799019001: forwarding disabled, not forwarding packets
1335799019095: Retrying PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019096: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799019096: Dispatching Atom PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019096: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799019096: mux: I got a CSM packet at a leader 
1335799019097: Sending UDP payload: 989
1335799019098: forwarding disabled, not forwarding packets
1335799019098: mux: I got a CSM packet at a leader 
1335799019099: Sending UDP payload: 989
1335799019101: forwarding disabled, not forwarding packets
1335799019197: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799019197: Dispatching Atom PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019197: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799019197: Retrying PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019198: mux: I got a CSM packet at a leader 
1335799019201: Sending UDP payload: 989
1335799019202: forwarding disabled, not forwarding packets
1335799019203: mux: I got a CSM packet at a leader 
1335799019206: Sending UDP payload: 989
1335799019207: forwarding disabled, not forwarding packets
1335799019298: Dispatching Atom PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019298: Retrying PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019299: Dispatching Atom PROC_REQUEST 11:15 (2,0)->(1,0)
1335799019299: Retrying PROC_REQUEST 11:15 (2,0)->(1,0)
1335799019299: mux: I got a CSM packet at a leader 
1335799019300: Sending UDP payload: 989
1335799019301: forwarding disabled, not forwarding packets
1335799019301: mux: I got a CSM packet at a leader 
1335799019303: Sending UDP payload: 989
1335799019306: forwarding disabled, not forwarding packets
1335799019400: DSM Layer: Request timed out, send failure PROC_REPLY 11:15 (1,0)->(2,0)
1335799019400: Dispatching Atom PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019400: Retrying PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019401: Dispatching Atom PROC_REPLY 11:15 (1,0)->(2,0)
1335799019401: mux: I got a CSM packet at a leader 
1335799019402: Sending UDP payload: 989
1335799019403: forwarding disabled, not forwarding packets
1335799019404: mux: I got a CSM packet at a leader 
1335799019407: Sending UDP payload: 989
1335799019408: Received PROC_REPLY 11:15 (1,0)->(2,0), handing to UserApp
1335799019408: inside handleDSMReply. Now back in originator leader of region 2
1335799019409: DSM layer timed out, don't log dsm layer latency stuff.
1335799019409: Originator Region=2's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799019410: =======================
1335799019410: Leader about to send REPLY packet, number: 500100040 type: 15 Leader in region: (2,0) to Client nodID: 5008
1335799019410: change leader replyCounter to: 40
1335799019410: inside sendReplies of replyCount = 500100040
1335799019410: inside sendReplyRepeatingRunnable for replyCount = 500100040
1335799019410: reply packet contains the newest photo/success info from the remote region
1335799019411: === Finished one round of sending REPLY Packet =======
1335799019411: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335799019411: inside sendPacket(Packet p)
1335799019412: Sending UDP payload: 642
1335799019502: Dispatching Atom PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019502: Retrying PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019502: mux: I got a CSM packet at a leader 
1335799019503: Sending UDP payload: 989
1335799019507: forwarding disabled, not forwarding packets
1335799019553: Received UDP payload: 446
1335799019556: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100040
1335799019556: Yay the last leg succeeded. Removing reply runnables ...
1335799019556: got new request, requestCounter = 5008110
1335799019556: inside handleClientRequest. Originator leader of region 2
1335799019556: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799019556: mux: Inside mux Packet.CLIENT_REQUEST
1335799019557: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100040
1335799019557: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100040
1335799019557: do not send ack for received final_leg_ack
1335799019602: Retrying PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019603: Dispatching Atom PROC_REQUEST 11:8 (2,0)->(3,0)
1335799019603: mux: I got a CSM packet at a leader 
1335799019604: Sending UDP payload: 989
1335799019607: forwarding disabled, not forwarding packets
1335799019681: Received UDP payload: 6391
1335799019688: mux: GOT CSM_Msg
1335799019689: DSM layer: Going to and from remote region took latency = 1478
1335799019689: Received PROC_REPLY 11:8 (3,0)->(2,0), handing to UserApp
1335799019689: inside handleDSMReply. Now back in originator leader of region 2
1335799019690: DSM layer: orig leader sent packet at 1335799018211 ~ received reply from remote leader at 1335799019689
1335799019693: Originator Region=2's Leader (for Client=5001) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799019693: change leader replyCounter to: 41
1335799019694: inside sendReplies of replyCount = 500100041
1335799019694: reply packet contains the newest photo/success info from the remote region
1335799019695: === Finished one round of sending REPLY Packet =======
1335799019695: =======================
1335799019695: I (the leader) was also the originator client (id = 5001) so I hand the packet to my mux directly, without UDP
1335799019695: Leader about to send REPLY packet, number: 500100041 type: 15 Leader in region: (2,0) to Client nodID: 5001
1335799019695: inside sendReplyRepeatingRunnable for replyCount = 500100041
1335799019700: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799019701: Inside _enableButtons
1335799019701: areButtonsEnabled --> true
1335799019701: disabling progressdialog due to successful new photo get
1335799019702: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001058 Client in region: (2,0) Client nodID: 5001
1335799019702: I'm a leader client, my final_leg packet going to mux directly
1335799019702: inside finalLegAck: change requestCounter to 58
1335799019702: send final leg ack regardless of new or already-processed reply
1335799019703: inside handleClientRequest. Originator leader of region 2
1335799019703: leader download remote photo latency = 1490
1335799019703: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799019703: mux: Inside mux Packet.CLIENT_REQUEST
1335799019703: new client_show_remotephoto reply with replyCounter 500100041
1335799019703: note down new reply by adding replyCounter=500100041 to HashMap processedReplies
1335799019704: = leader download start 1335799018210 ~ stop 1335799019700
1335799019704: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100041
1335799019704: Yay the last leg succeeded. Removing reply runnables ...
1335799019704: got new request, requestCounter = 5001058
1335799019705: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100041
1335799019705: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100041
1335799019705: do not send ack for received final_leg_ack
1335799019708: one more getGood: 6
1335799019710: reg=2 id=5001 state=2 regionWidth=20.0 hyst=0.0 takeNum=15 takeCamGood=15 takeGoodSave=13 takeBad=0 takeTimedout=0 takePercent=86% getNum=14 getGood=6 getBad=6 getTimedout=0 getPercent=42%
1335799019710: successful reply for client get photo
1335799019711: Success! Client getting photo from remote region, showing photo...
1335799019712: Remote photo's length: 5380
1335799019789: Received UDP payload: 6391
1335799019791: mux: GOT CSM_Msg
1335799019792: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(2,0)
1335799020058: Received UDP payload: 6391
1335799020060: mux: GOT CSM_Msg
1335799020061: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(2,0)
1335799020084: inside sendPacket(Packet p)
1335799020085: Sending UDP payload: 446
1335799020155: Received UDP payload: 446
1335799021015: Received UDP payload: 5873
1335799021026: mux: GOT CSM_Msg
1335799021028: Received DUPLICATE PROC_REPLY 11:15 (1,0)->(2,0)
1335799021216: Received UDP payload: 5873
1335799021221: Received DUPLICATE PROC_REPLY 11:15 (1,0)->(2,0)
1335799021221: mux: GOT CSM_Msg
1335799022296: Received UDP payload: 6298
1335799022311: mux: GOT CSM_Msg
1335799022312: forwarding disabled, not forwarding packets
1335799022327: Received UDP payload: 989
1335799022361: forwarding disabled, not forwarding packets
1335799022361: mux: GOT CSM_Msg
1335799022616: Received UDP payload: 989
1335799022618: forwarding disabled, not forwarding packets
1335799022618: mux: GOT CSM_Msg
1335799022668: Received UDP payload: 5873
1335799022670: mux: GOT CSM_Msg
1335799022671: Received DUPLICATE PROC_REPLY 11:15 (1,0)->(2,0)
1335799022780: Received UDP payload: 5779
1335799022782: forwarding disabled, not forwarding packets
1335799022782: mux: GOT CSM_Msg
1335799022815: Received UDP payload: 989
1335799022817: forwarding disabled, not forwarding packets
1335799022817: mux: GOT CSM_Msg
1335799022993: Received UDP payload: 989
1335799023001: mux: GOT CSM_Msg
1335799023002: forwarding disabled, not forwarding packets
1335799023085: Received UDP payload: 989
1335799023087: forwarding disabled, not forwarding packets
1335799023087: mux: GOT CSM_Msg
1335799023137: Received UDP payload: 989
1335799023144: forwarding disabled, not forwarding packets
1335799023144: mux: GOT CSM_Msg
1335799023159: Received UDP payload: 989
1335799023166: forwarding disabled, not forwarding packets
1335799023166: mux: GOT CSM_Msg
1335799023701: Received UDP payload: 989
1335799023712: mux: GOT CSM_Msg
1335799023713: forwarding disabled, not forwarding packets
1335799023732: Received UDP payload: 625
1335799023737: mux: Inside mux Packet.CLIENT_REQUEST
1335799023738: got new request, requestCounter = 5004092
1335799023738: inside handleClientRequest. Originator leader of region 2
1335799023738: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799023739: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335799023740: Sending to region: 1
1335799023743: Sending PROC_REQUEST 11:16 (2,0)->(1,0)
1335799023744: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799023744: Note down new request by adding requestCounter=5004092 to HashMap processedRequests
1335799023745: Make FirstLeg Ack regardless of new or already-processed requests
1335799023745: The leader sending a First Leg ack to originator client (which id = 5004)
1335799023746: inside sendPacket(Packet p)
1335799023746: mux: I got a CSM packet at a leader 
1335799023749: Sending UDP payload: 989
1335799023765: Received UDP payload: 625
1335799023767: forwarding disabled, not forwarding packets
1335799023768: Sending UDP payload: 446
1335799023768: mux: Inside mux Packet.CLIENT_REQUEST
1335799023806: Received UDP payload: 625
1335799023807: mux: Inside mux Packet.CLIENT_REQUEST
1335799023813: Received UDP payload: 625
1335799023814: mux: Inside mux Packet.CLIENT_REQUEST
1335799024078: Received UDP payload: 5155
1335799024079: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335799024079: got new request, requestCounter = 5008111
1335799024079: inside handleClientRequest. Originator leader of region 2
1335799024079: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799024079: mux: Inside mux Packet.CLIENT_REQUEST
1335799024080: Dispatching Atom PROC_REQUEST 10:66 (2,0)->(2,0)
1335799024080: Make FirstLeg Ack regardless of new or already-processed requests
1335799024080: Note down new request by adding requestCounter=5008111 to HashMap processedRequests
1335799024080: Sending PROC_REQUEST 10:66 (2,0)->(2,0)
1335799024080: The leader sending a First Leg ack to originator client (which id = 5008)
1335799024080: inside sendPacket(Packet p)
1335799024081: mux: I got a CSM packet at a leader 
1335799024082: Sending UDP payload: 5519
1335799024083: inside handleDSMRequest. At requests's remote leader of region 2
1335799024083: removed replies before id 66 from sentReplies of size 0
1335799024084: Inside UPLOAD_PHOTO!!
1335799024085: my_gpinfo.isSuccess is now (should be true): true
1335799024086: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335799024087: Dispatching Atom PROC_REPLY 10:66 (2,0)->(2,0)
1335799024087: Received PROC_REQUEST 10:66 (2,0)->(2,0), replying PROC_REPLY 10:66 (2,0)->(2,0)
1335799024088: Sending UDP payload: 446
1335799024089: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335799024090: I'm a leader and I successfully saved my client's new photo
1335799024090: now showing in UI the new photo I just saved ... 
1335799024090: the photo length: 4508
1335799024128: mux: I got a CSM packet at a leader 
1335799024129: Sending UDP payload: 989
1335799024130: DSM layer: Going to and from remote region took latency = 51
1335799024130: DSM layer: orig leader sent packet at 1335799024079 ~ received reply from remote leader at 1335799024130
1335799024130: Received PROC_REPLY 10:66 (2,0)->(2,0), handing to UserApp
1335799024130: inside handleDSMReply. Now back in originator leader of region 2
1335799024131: Originator Region=2's Leader (for Client=5008) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799024131: change leader replyCounter to: 42
1335799024131: inside sendReplies of replyCount = 500100042
1335799024131: reply packet contains the success info for UPLOAD_PHOTO
1335799024132: =======================
1335799024132: I (the leader) was not the originator client (which id = 5008) so I use UDP to send packet back to my nonleader
1335799024132: Leader about to send REPLY packet, number: 500100042 type: 16 Leader in region: (2,0) to Client nodID: 5008
1335799024132: inside sendPacket(Packet p)
1335799024132: inside sendReplyRepeatingRunnable for replyCount = 500100042
1335799024133: === Finished one round of sending REPLY Packet =======
1335799024134: Sending UDP payload: 642
1335799024139: end of server show photo aside %%%%%%%%%
1335799024281: Received UDP payload: 446
1335799024283: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100042
1335799024283: Yay the last leg succeeded. Removing reply runnables ...
1335799024283: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100042
1335799024283: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100042
1335799024283: got new request, requestCounter = 5008112
1335799024283: inside handleClientRequest. Originator leader of region 2
1335799024283: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799024283: mux: Inside mux Packet.CLIENT_REQUEST
1335799024284: do not send ack for received final_leg_ack
1335799024437: Received UDP payload: 989
1335799024441: forwarding disabled, not forwarding packets
1335799024441: mux: GOT CSM_Msg
1335799024444: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024445: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024446: mux: I got a CSM packet at a leader 
1335799024447: Sending UDP payload: 989
1335799024448: forwarding disabled, not forwarding packets
1335799024542: Received UDP payload: 989
1335799024546: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024547: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024547: mux: I got a CSM packet at a leader 
1335799024550: Sending UDP payload: 989
1335799024551: forwarding disabled, not forwarding packets
1335799024551: mux: GOT CSM_Msg
1335799024552: forwarding disabled, not forwarding packets
1335799024634: Received UDP payload: 989
1335799024638: forwarding disabled, not forwarding packets
1335799024638: mux: GOT CSM_Msg
1335799024648: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024648: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024648: mux: I got a CSM packet at a leader 
1335799024650: Sending UDP payload: 989
1335799024652: forwarding disabled, not forwarding packets
1335799024740: Received UDP payload: 989
1335799024744: forwarding disabled, not forwarding packets
1335799024744: mux: GOT CSM_Msg
1335799024749: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024750: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024750: mux: I got a CSM packet at a leader 
1335799024752: Sending UDP payload: 989
1335799024753: forwarding disabled, not forwarding packets
1335799024851: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024851: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024852: mux: I got a CSM packet at a leader 
1335799024853: Sending UDP payload: 989
1335799024854: forwarding disabled, not forwarding packets
1335799024870: Received UDP payload: 989
1335799024874: forwarding disabled, not forwarding packets
1335799024874: mux: GOT CSM_Msg
1335799024952: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024953: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799024953: mux: I got a CSM packet at a leader 
1335799024955: Sending UDP payload: 989
1335799024957: forwarding disabled, not forwarding packets
1335799025041: Received UDP payload: 989
1335799025043: forwarding disabled, not forwarding packets
1335799025043: mux: GOT CSM_Msg
1335799025054: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025054: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025054: mux: I got a CSM packet at a leader 
1335799025055: Sending UDP payload: 989
1335799025056: forwarding disabled, not forwarding packets
1335799025084: inside sendPacket(Packet p)
1335799025085: Sending UDP payload: 446
1335799025139: Received UDP payload: 446
1335799025154: Received UDP payload: 989
1335799025157: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025157: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025157: forwarding disabled, not forwarding packets
1335799025157: mux: GOT CSM_Msg
1335799025157: mux: I got a CSM packet at a leader 
1335799025159: Sending UDP payload: 989
1335799025159: forwarding disabled, not forwarding packets
1335799025241: Received UDP payload: 989
1335799025244: forwarding disabled, not forwarding packets
1335799025244: mux: GOT CSM_Msg
1335799025258: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025258: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025258: mux: I got a CSM packet at a leader 
1335799025259: Sending UDP payload: 989
1335799025260: forwarding disabled, not forwarding packets
1335799025340: Received UDP payload: 989
1335799025343: forwarding disabled, not forwarding packets
1335799025343: mux: GOT CSM_Msg
1335799025359: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025359: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025359: mux: I got a CSM packet at a leader 
1335799025360: Sending UDP payload: 989
1335799025361: forwarding disabled, not forwarding packets
1335799025440: Received UDP payload: 989
1335799025443: forwarding disabled, not forwarding packets
1335799025443: mux: GOT CSM_Msg
1335799025460: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025460: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025460: mux: I got a CSM packet at a leader 
1335799025461: Sending UDP payload: 989
1335799025462: forwarding disabled, not forwarding packets
1335799025547: Received UDP payload: 989
1335799025549: forwarding disabled, not forwarding packets
1335799025549: mux: GOT CSM_Msg
1335799025561: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025561: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025562: mux: I got a CSM packet at a leader 
1335799025563: Sending UDP payload: 989
1335799025563: forwarding disabled, not forwarding packets
1335799025582: Received UDP payload: 4922
1335799025586: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799025586: mux: Inside mux Packet.CLIENT_REQUEST
1335799025587: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335799025587: got new request, requestCounter = 5007088
1335799025587: inside handleClientRequest. Originator leader of region 2
1335799025588: Sending PROC_REQUEST 10:67 (2,0)->(2,0)
1335799025589: Dispatching Atom PROC_REQUEST 10:67 (2,0)->(2,0)
1335799025589: Make FirstLeg Ack regardless of new or already-processed requests
1335799025589: Note down new request by adding requestCounter=5007088 to HashMap processedRequests
1335799025589: The leader sending a First Leg ack to originator client (which id = 5007)
1335799025590: inside sendPacket(Packet p)
1335799025590: mux: I got a CSM packet at a leader 
1335799025592: Sending UDP payload: 5286
1335799025598: removed replies before id 67 from sentReplies of size 0
1335799025599: inside handleDSMRequest. At requests's remote leader of region 2
1335799025601: Inside UPLOAD_PHOTO!!
1335799025608: my_gpinfo.isSuccess is now (should be true): true
1335799025609: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335799025614: Dispatching Atom PROC_REPLY 10:67 (2,0)->(2,0)
1335799025614: Received PROC_REQUEST 10:67 (2,0)->(2,0), replying PROC_REPLY 10:67 (2,0)->(2,0)
1335799025617: Sending UDP payload: 446
1335799025618: mux: I got a CSM packet at a leader 
1335799025620: Sending UDP payload: 989
1335799025622: Received PROC_REPLY 10:67 (2,0)->(2,0), handing to UserApp
1335799025624: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335799025627: inside handleDSMReply. Now back in originator leader of region 2
1335799025628: DSM layer: Going to and from remote region took latency = 40
1335799025628: DSM layer: orig leader sent packet at 1335799025587 ~ received reply from remote leader at 1335799025627
1335799025629: =======================
1335799025629: I'm a leader and I successfully saved my client's new photo
1335799025629: Originator Region=2's Leader (for Client=5007) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799025629: change leader replyCounter to: 43
1335799025629: inside sendReplies of replyCount = 500100043
1335799025629: inside sendReplyRepeatingRunnable for replyCount = 500100043
1335799025629: now showing in UI the new photo I just saved ... 
1335799025629: reply packet contains the success info for UPLOAD_PHOTO
1335799025629: the photo length: 4275
1335799025664: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335799025664: Leader about to send REPLY packet, number: 500100043 type: 16 Leader in region: (2,0) to Client nodID: 5007
1335799025664: inside sendPacket(Packet p)
1335799025665: === Finished one round of sending REPLY Packet =======
1335799025665: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025665: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025666: Received UDP payload: 989
1335799025669: Sending UDP payload: 642
1335799025669: mux: I got a CSM packet at a leader 
1335799025670: Sending UDP payload: 989
1335799025671: end of server show photo aside %%%%%%%%%
1335799025671: forwarding disabled, not forwarding packets
1335799025671: forwarding disabled, not forwarding packets
1335799025671: mux: GOT CSM_Msg
1335799025747: Received UDP payload: 989
1335799025749: forwarding disabled, not forwarding packets
1335799025749: mux: GOT CSM_Msg
1335799025766: Dispatching Atom PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025766: Retrying PROC_REQUEST 11:16 (2,0)->(1,0)
1335799025767: mux: I got a CSM packet at a leader 
1335799025768: Sending UDP payload: 989
1335799025768: forwarding disabled, not forwarding packets
1335799025805: Received UDP payload: 4922
1335799025806: mux: Inside mux Packet.CLIENT_REQUEST
1335799025807: Make FirstLeg Ack regardless of new or already-processed requests
1335799025807: Note down new request by adding requestCounter=5007088 to HashMap processedRequests
1335799025807: The leader sending a First Leg ack to originator client (which id = 5007)
1335799025807: discarding repeated requestCounter=5007088, but still send an ack back
1335799025807: inside handleClientRequest. Originator leader of region 2
1335799025807: inside sendPacket(Packet p)
1335799025807: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799025808: Sending UDP payload: 446
1335799025867: DSM Layer: Request timed out, send failure PROC_REPLY 11:16 (1,0)->(2,0)
1335799025868: Dispatching Atom PROC_REPLY 11:16 (1,0)->(2,0)
1335799025868: mux: I got a CSM packet at a leader 
1335799025869: Sending UDP payload: 989
1335799025870: DSM layer timed out, don't log dsm layer latency stuff.
1335799025870: Received PROC_REPLY 11:16 (1,0)->(2,0), handing to UserApp
1335799025870: inside handleDSMReply. Now back in originator leader of region 2
1335799025871: =======================
1335799025871: Leader about to send REPLY packet, number: 500100044 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335799025871: Originator Region=2's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335799025871: change leader replyCounter to: 44
1335799025871: inside sendReplies of replyCount = 500100044
1335799025871: inside sendReplyRepeatingRunnable for replyCount = 500100044
1335799025871: reply packet contains the newest photo/success info from the remote region
1335799025872: === Finished one round of sending REPLY Packet =======
1335799025872: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335799025872: inside sendPacket(Packet p)
1335799025873: Sending UDP payload: 642
1335799025964: =======================
1335799025964: inside sendReplyRepeatingRunnable for replyCount = 500100043
1335799025965: === Finished one round of sending REPLY Packet =======
1335799025965: I (the leader) was not the originator client (which id = 5007) so I use UDP to send packet back to my nonleader
1335799025965: Leader about to send REPLY packet, number: 500100043 type: 16 Leader in region: (2,0) to Client nodID: 5007
1335799025965: inside sendPacket(Packet p)
1335799025966: Sending UDP payload: 642
1335799025967: Received UDP payload: 4922
1335799025968: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799025968: mux: Inside mux Packet.CLIENT_REQUEST
1335799025969: Make FirstLeg Ack regardless of new or already-processed requests
1335799025969: Note down new request by adding requestCounter=5007088 to HashMap processedRequests
1335799025969: The leader sending a First Leg ack to originator client (which id = 5007)
1335799025969: discarding repeated requestCounter=5007088, but still send an ack back
1335799025969: inside handleClientRequest. Originator leader of region 2
1335799025969: inside sendPacket(Packet p)
1335799025970: Sending UDP payload: 446
1335799025976: Received UDP payload: 446
1335799025977: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799025977: mux: Inside mux Packet.CLIENT_REQUEST
1335799025978: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100043
1335799025978: Yay the last leg succeeded. Removing reply runnables ...
1335799025978: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100043
1335799025978: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100043
1335799025978: do not send ack for received final_leg_ack
1335799025978: got new request, requestCounter = 5007089
1335799025978: inside handleClientRequest. Originator leader of region 2
1335799026019: Received UDP payload: 446
1335799026101: Received UDP payload: 446
1335799026109: Received UDP payload: 446
1335799026172: =======================
1335799026173: inside sendReplyRepeatingRunnable for replyCount = 500100044
1335799026174: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335799026174: Leader about to send REPLY packet, number: 500100044 type: 15 Leader in region: (2,0) to Client nodID: 5004
1335799026174: inside sendPacket(Packet p)
1335799026175: === Finished one round of sending REPLY Packet =======
1335799026176: Sending UDP payload: 642
1335799026229: Received UDP payload: 446
1335799026232: mux: Inside mux Packet.CLIENT_REQUEST
1335799026233: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100044
1335799026233: got new request, requestCounter = 5004093
1335799026233: inside handleClientRequest. Originator leader of region 2
1335799026233: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799026234: Yay the last leg succeeded. Removing reply runnables ...
1335799026234: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 500100044
1335799026234: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 500100044
1335799026234: do not send ack for received final_leg_ack
1335799026300: Received UDP payload: 446
1335799026303: mux: Inside mux Packet.CLIENT_REQUEST
1335799026304: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100043
1335799026304: Yay the last leg succeeded. Removing reply runnables ...
1335799026304: got new request, requestCounter = 5007090
1335799026304: inside handleClientRequest. Originator leader of region 2
1335799026304: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799026305: do not send ack for received final_leg_ack
1335799026305: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100043
1335799026305: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100043
1335799026459: Received UDP payload: 446
1335799026465: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335799026465: mux: Inside mux Packet.CLIENT_REQUEST
1335799026466: got new request, requestCounter = 5004094
1335799026466: inside handleClientRequest. Originator leader of region 2
1335799026467: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 500100044
1335799026467: Yay the last leg succeeded. Removing reply runnables ...
1335799026467: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 500100044
1335799026468: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 500100044
1335799026469: do not send ack for received final_leg_ack
1335799026688: Received UDP payload: 5784
1335799026697: mux: GOT CSM_Msg
1335799026698: Received DUPLICATE PROC_REPLY 11:12 (0,0)->(2,0)
1335799026705: Received UDP payload: 989
1335799026727: mux: GOT CSM_Msg
1335799026728: forwarding disabled, not forwarding packets
1335799026729: Received UDP payload: 989
1335799026744: forwarding disabled, not forwarding packets
1335799026744: mux: GOT CSM_Msg
1335799026838: Received UDP payload: 5784
1335799026846: mux: GOT CSM_Msg
1335799026847: Received DUPLICATE PROC_REPLY 11:12 (0,0)->(2,0)
1335799026870: Received UDP payload: 989
1335799026878: forwarding disabled, not forwarding packets
1335799026878: mux: GOT CSM_Msg
1335799027158: Received UDP payload: 5784
1335799027167: mux: GOT CSM_Msg
1335799027168: Received DUPLICATE PROC_REPLY 11:12 (0,0)->(2,0)
1335799027535: Received UDP payload: 5784
1335799027539: mux: GOT CSM_Msg
1335799027540: Received DUPLICATE PROC_REPLY 11:12 (0,0)->(2,0)
1335799027589: Received UDP payload: 989
1335799027593: forwarding disabled, not forwarding packets
1335799027593: mux: GOT CSM_Msg
1335799027619: Received UDP payload: 989
1335799027623: forwarding disabled, not forwarding packets
1335799027623: mux: GOT CSM_Msg
1335799028590: Received UDP payload: 989
1335799028597: mux: GOT CSM_Msg
1335799028598: forwarding disabled, not forwarding packets
1335799028976: Received UDP payload: 6467
1335799028980: mux: Inside mux Packet.CLIENT_REQUEST
1335799029561: VCoreDaemon.java inside stateTransition ..........
1335799029561: change state to HANDING_OFF with parameter my previous/old region = (2,0) before helping to elect new leader in it. (btw, newRegion (0,0))
1335799029561: moving from region (2,0), to (0,0)
1335799029561: removing leaderRequestRetryR because I'm doing a stateTransition
1335799029562: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335799029562: ..... VCoreDaemon.java targetState = HANDING_OFF
1335799029562: HANDING OFF setting leaderRegion = (2,0)
1335799029562: Trying to hand off leadership
1335799029562: broadcasting LEADER_ELECT to old (2,0)
1335799029562: inside sendPacket(Packet p)
1335799029563: Sending UDP payload: 463
1335799029608: Received UDP payload: 446
1335799029610: inside LEADER_NOMINATE mState = 4 vnp.dstRegion = (2,0) leaderRegion = (2,0)
1335799029610: received LEADER_NOMINATE from 5008, saving as candidate
1335799029913: Received UDP payload: 446
1335799029919: inside LEADER_NOMINATE mState = 4 vnp.dstRegion = (2,0) leaderRegion = (2,0)
1335799029919: received LEADER_NOMINATE from 5007, saving as candidate
1335799030085: inside sendPacket(Packet p)
1335799030087: Sending UDP payload: 446
1335799030151: Received UDP payload: 446
1335799030564: INSIDE ELECT CANDIDATE
1335799030568: PICKING CANDIDATE
1335799030568: UserApp stopped.
1335799030569: DSMLayer stopped
1335799030607: inside sendPacket(Packet p)
1335799030607: sending LEADER_CONFIRM to node 5008
1335799030611: Sending UDP payload: 30886
1335799030795: Received UDP payload: 989
1335799030797: mux: GOT CSM_Msg
1335799031015: Received UDP payload: 625
1335799031017: mux: Inside mux Packet.CLIENT_REQUEST
1335799031106: Received UDP payload: 625
1335799031109: mux: Inside mux Packet.CLIENT_REQUEST
1335799031408: Received UDP payload: 625
1335799031410: mux: Inside mux Packet.CLIENT_REQUEST
1335799031615: DSMLayer stopped
1335799031636: serializing DSMLayer to JSON
1335799031660: Received UDP payload: 446
1335799031705: Received UDP payload: 989
1335799031708: mux: GOT CSM_Msg
1335799031747: Received UDP payload: 989
1335799031749: mux: GOT CSM_Msg
1335799031875: Received UDP payload: 989
1335799031877: mux: GOT CSM_Msg
1335799031914: Received UDP payload: 989
1335799031917: mux: GOT CSM_Msg
1335799031933: Received UDP payload: 989
1335799031936: mux: GOT CSM_Msg
1335799031946: Received UDP payload: 989
1335799031948: mux: GOT CSM_Msg
1335799031957: Received UDP payload: 989
1335799031959: mux: GOT CSM_Msg
1335799031968: Received UDP payload: 989
1335799031971: mux: GOT CSM_Msg
1335799031997: Received UDP payload: 989
1335799031999: mux: GOT CSM_Msg
1335799032010: Received UDP payload: 989
1335799032012: mux: GOT CSM_Msg
1335799032074: Received UDP payload: 989
1335799032076: mux: GOT CSM_Msg
1335799032114: Received UDP payload: 989
1335799032116: mux: GOT CSM_Msg
1335799032144: Received UDP payload: 989
1335799032146: mux: GOT CSM_Msg
1335799032265: Received UDP payload: 989
1335799032270: mux: GOT CSM_Msg
1335799032399: Received UDP payload: 989
1335799032401: mux: GOT CSM_Msg
1335799032502: Received UDP payload: 6298
1335799032504: mux: GOT CSM_Msg
1335799032896: Received UDP payload: 989
1335799032899: mux: GOT CSM_Msg
1335799032933: Received UDP payload: 989
1335799032936: mux: GOT CSM_Msg
1335799032946: Received UDP payload: 989
1335799032949: mux: GOT CSM_Msg
1335799033094: Received UDP payload: 6298
1335799033159: Received UDP payload: 989
1335799033159: mux: GOT CSM_Msg
1335799033162: Received UDP payload: 989
1335799033162: mux: GOT CSM_Msg
1335799033165: mux: GOT CSM_Msg
1335799033173: Received UDP payload: 989
1335799033177: mux: GOT CSM_Msg
1335799033294: Received UDP payload: 989
1335799033298: mux: GOT CSM_Msg
1335799033385: Received UDP payload: 989
1335799033388: mux: GOT CSM_Msg
1335799033493: Received UDP payload: 989
1335799033497: mux: GOT CSM_Msg
1335799033499: Received UDP payload: 6298
1335799033504: mux: GOT CSM_Msg
1335799033672: Received UDP payload: 6298
1335799033676: mux: GOT CSM_Msg
1335799033692: Received UDP payload: 989
1335799033696: mux: GOT CSM_Msg
1335799033990: Received UDP payload: 6298
1335799033993: mux: GOT CSM_Msg
1335799034003: Received UDP payload: 989
1335799034020: Received UDP payload: 989
1335799034020: mux: GOT CSM_Msg
1335799034022: Received UDP payload: 989
1335799034022: mux: GOT CSM_Msg
1335799034026: mux: GOT CSM_Msg
1335799034049: Received UDP payload: 989
1335799034053: mux: GOT CSM_Msg
1335799034201: Received UDP payload: 989
1335799034206: mux: GOT CSM_Msg
1335799034721: Received UDP payload: 5873
1335799034737: mux: GOT CSM_Msg
1335799034881: Received UDP payload: 5873
1335799034896: mux: GOT CSM_Msg
1335799035138: Received UDP payload: 446
1335799035307: Received UDP payload: 5873
1335799035314: mux: GOT CSM_Msg
1335799035402: no LEADER_CONFIRM_ACK, uploaded state to cloud in 2143ms, json 92707 bytes
1335799035415: VCoreDaemon.java inside stateTransition ..........
1335799035416: ..... VCoreDaemon.java targetState = JOINING (0,0)
1335799035416: removing leaderRequestRetryR because I'm doing a stateTransition
1335799035417: posting leaderRequestRetryR because I'm joining
1335799035418: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335799035418: removing leaderRequestRetryR because heard Packet.Heartbeat
1335799035419: VCoreDaemon.java inside stateTransition ..........
1335799035419: heard HEARTBEAT from 5005, now following
1335799035420: ..... VCoreDaemon.java targetState = NONLEADER
1335799035420: removing leaderRequestRetryR because I'm doing a stateTransition
1335799035421: DSMLayer stopped
1335799035422: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335799035422: now NONLEADER (id=5001) following LEADER (id=5005) in (0,0)
1335799035710: Received UDP payload: 446
1335799035939: Received UDP payload: 5873
1335799035941: mux: GOT CSM_Msg
1335799035964: Received UDP payload: 989
1335799035967: mux: GOT CSM_Msg
1335799036091: Received UDP payload: 5873
1335799036098: mux: GOT CSM_Msg
1335799036223: Received UDP payload: 5873
1335799036230: mux: GOT CSM_Msg
1335799036244: Received UDP payload: 989
1335799036251: mux: GOT CSM_Msg
1335799036555: Received UDP payload: 5873
1335799036559: mux: GOT CSM_Msg
1335799036674: Received UDP payload: 5873
1335799036679: mux: GOT CSM_Msg
1335799036701: Received UDP payload: 989
1335799036705: mux: GOT CSM_Msg
1335799036781: Received UDP payload: 6298
1335799036784: mux: GOT CSM_Msg
1335799036859: Received UDP payload: 989
1335799036867: mux: GOT CSM_Msg
1335799036877: Received UDP payload: 989
1335799036884: mux: GOT CSM_Msg
1335799036925: Received UDP payload: 989
1335799036932: mux: GOT CSM_Msg
1335799037018: Received UDP payload: 989
1335799037020: mux: GOT CSM_Msg
1335799037137: Received UDP payload: 6298
1335799037139: mux: GOT CSM_Msg
1335799037227: Received UDP payload: 6298
1335799037229: mux: GOT CSM_Msg
1335799037622: Received UDP payload: 6298
1335799037630: mux: GOT CSM_Msg
1335799037663: Received UDP payload: 989
1335799037673: mux: GOT CSM_Msg
1335799037682: Received UDP payload: 989
1335799037698: mux: GOT CSM_Msg
1335799037804: Received UDP payload: 446
1335799037806: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799037806: mux: Inside Packet.SERVER_REPLY
1335799038046: Received UDP payload: 5779
1335799038049: mux: GOT CSM_Msg
1335799038089: Received UDP payload: 625
1335799038091: mux: Inside mux Packet.CLIENT_REQUEST
1335799038091: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799038376: Received UDP payload: 625
1335799038380: mux: Inside mux Packet.CLIENT_REQUEST
1335799038380: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799039324: Received UDP payload: 4813
1335799039329: mux: Inside mux Packet.CLIENT_REQUEST
1335799039329: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799039434: Received UDP payload: 4813
1335799039436: mux: Inside mux Packet.CLIENT_REQUEST
1335799039436: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799039506: canPressButton = TRUE
1335799039507: areButtonsEnabled --> false
1335799039507: areButtonsEnabled --> false
1335799039507: disabling buttons ...
1335799039507: took picture disableButtonsR
1335799039533: one more takeNum: 16
1335799039536: Clicked take picture button ..
1335799039536: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=16 takeCamGood=15 takeGoodSave=13 takeBad=0 takeTimedout=0 takePercent=81% getNum=14 getGood=6 getBad=6 getTimedout=0 getPercent=42%
1335799039931: Received UDP payload: 4813
1335799039933: mux: Inside mux Packet.CLIENT_REQUEST
1335799039933: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799040597: Received UDP payload: 446
1335799040855: Received UDP payload: 4702
1335799040857: inside HandlePictureStorage onPictureTaken()
1335799040857: one more takeCamGood: 16
1335799040858: mux: Inside mux Packet.CLIENT_REQUEST
1335799040858: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799040858: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=16 takeCamGood=16 takeGoodSave=13 takeBad=0 takeTimedout=0 takePercent=81% getNum=14 getGood=6 getBad=6 getTimedout=0 getPercent=42%
1335799040886: Received UDP payload: 446
1335799041120: Picture successfully taken, ORIG BYTE LENGTH = 2531283
1335799041195: Received UDP payload: 4702
1335799041196: mux: Inside mux Packet.CLIENT_REQUEST
1335799041197: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799041203: Received UDP payload: 446
1335799041346: Our new height x width: 306 x 408
1335799041346: Show photo from handle my camera take
1335799041347: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335799041347: change local requestCounter to 59
1335799041361: BYTE SIZE AFTER COMPRESSION: 4596
1335799041362: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001059 Client in region: 0 Client nodID: 5001
1335799041389: ----------------------------
1335799041389: I'm a nonleader sending my requesting photos packet to my leader
1335799041389: inside sendPacket(Packet p)
1335799041389: inside sendRequestPacketRepeatingRunnable for requestCount = 5001059
1335799041390: Sending UDP payload: 5243
1335799041393: --- Finished one round of sending REQUEST Packet ---------
1335799041667: Received UDP payload: 446
1335799041693: ----------------------------
1335799041694: I'm a nonleader sending my requesting photos packet to my leader
1335799041694: inside sendPacket(Packet p)
1335799041694: inside sendRequestPacketRepeatingRunnable for requestCount = 5001059
1335799041695: Sending UDP payload: 5243
1335799041696: --- Finished one round of sending REQUEST Packet ---------
1335799041996: ----------------------------
1335799041996: inside sendRequestPacketRepeatingRunnable for requestCount = 5001059
1335799041997: I'm a nonleader sending my requesting photos packet to my leader
1335799041998: inside sendPacket(Packet p)
1335799041999: Sending UDP payload: 5243
1335799042000: --- Finished one round of sending REQUEST Packet ---------
1335799042301: ----------------------------
1335799042302: I'm a nonleader sending my requesting photos packet to my leader
1335799042302: inside sendRequestPacketRepeatingRunnable for requestCount = 5001059
1335799042303: inside sendPacket(Packet p)
1335799042308: Sending UDP payload: 5243
1335799042309: --- Finished one round of sending REQUEST Packet ---------
1335799042348: Received UDP payload: 4702
1335799042350: mux: Inside mux Packet.CLIENT_REQUEST
1335799042350: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799042362: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335799042600: Received UDP payload: 5314
1335799042602: mux: Inside mux Packet.CLIENT_REQUEST
1335799042602: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799042668: Received UDP payload: 5314
1335799042669: mux: Inside mux Packet.CLIENT_REQUEST
1335799042669: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799042677: Received UDP payload: 989
1335799042680: mux: GOT CSM_Msg
1335799042795: Received UDP payload: 5314
1335799042796: mux: Inside mux Packet.CLIENT_REQUEST
1335799042797: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799043370: Received UDP payload: 446
1335799043397: Received UDP payload: 989
1335799043404: mux: GOT CSM_Msg
1335799043482: Received UDP payload: 989
1335799043484: mux: GOT CSM_Msg
1335799043578: Received UDP payload: 446
1335799043637: Received UDP payload: 989
1335799043639: mux: GOT CSM_Msg
1335799043812: Received UDP payload: 446
1335799043891: Received UDP payload: 446
1335799044010: Received UDP payload: 989
1335799044012: mux: GOT CSM_Msg
1335799044018: Received UDP payload: 446
1335799044049: Received UDP payload: 989
1335799044053: mux: GOT CSM_Msg
1335799044121: Received UDP payload: 446
1335799044137: Received UDP payload: 446
1335799044141: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799044141: mux: Inside Packet.SERVER_REPLY
1335799044221: Received UDP payload: 989
1335799044223: mux: GOT CSM_Msg
1335799044298: Received UDP payload: 446
1335799044320: Received UDP payload: 989
1335799044322: mux: GOT CSM_Msg
1335799044412: Received UDP payload: 446
1335799044425: Received UDP payload: 989
1335799044428: mux: GOT CSM_Msg
1335799044516: Received UDP payload: 989
1335799044518: mux: GOT CSM_Msg
1335799044555: Received UDP payload: 446
1335799044596: Received UDP payload: 446
1335799044618: Received UDP payload: 989
1335799044620: mux: GOT CSM_Msg
1335799044698: Received UDP payload: 446
1335799044830: Received UDP payload: 989
1335799044842: mux: GOT CSM_Msg
1335799044857: Received UDP payload: 446
1335799044861: mux: Inside Packet.SERVER_REPLY
1335799044862: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799044907: Received UDP payload: 989
1335799044909: mux: GOT CSM_Msg
1335799044918: Received UDP payload: 989
1335799044920: mux: GOT CSM_Msg
1335799045141: Received UDP payload: 446
1335799045152: Received UDP payload: 446
1335799045534: one more takeTimedout: 1
1335799045536: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=16 takeCamGood=16 takeGoodSave=13 takeBad=0 takeTimedout=1 takePercent=81% getNum=14 getGood=6 getBad=6 getTimedout=0 getPercent=42%
1335799045537: inside buttonsEnableProgressUploadTimeoutR. Timed out saving the photo you took.
1335799045547: Inside _enableButtons
1335799045548: areButtonsEnabled --> true
1335799045553: Received UDP payload: 989
1335799045558: mux: GOT CSM_Msg
1335799045567: Received UDP payload: 989
1335799045571: mux: GOT CSM_Msg
1335799045619: Received UDP payload: 989
1335799045623: mux: GOT CSM_Msg
1335799045679: Received UDP payload: 6298
1335799045683: mux: GOT CSM_Msg
1335799045710: Received UDP payload: 989
1335799045714: mux: GOT CSM_Msg
1335799045849: Received UDP payload: 6298
1335799045853: mux: GOT CSM_Msg
1335799045916: Received UDP payload: 989
1335799045923: mux: GOT CSM_Msg
1335799045954: Received UDP payload: 989
1335799045959: mux: GOT CSM_Msg
1335799045977: Received UDP payload: 6298
1335799045979: mux: GOT CSM_Msg
1335799046091: Received UDP payload: 6298
1335799046094: mux: GOT CSM_Msg
1335799046223: Received UDP payload: 6298
1335799046227: mux: GOT CSM_Msg
1335799046391: Received UDP payload: 989
1335799046399: mux: GOT CSM_Msg
1335799046494: Received UDP payload: 989
1335799046497: mux: GOT CSM_Msg
1335799046578: Received UDP payload: 6298
1335799046584: mux: GOT CSM_Msg
1335799046612: Received UDP payload: 989
1335799046621: mux: GOT CSM_Msg
1335799046696: canPressButton = TRUE
1335799046698: areButtonsEnabled --> false 
1335799046698: get picture disableButtonsR
1335799046699: areButtonsEnabled --> false
1335799046723: one more getNum: 15
1335799046724: ** Client of state 3 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335799046724: change local requestCounter to 60
1335799046724: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=16 takeCamGood=16 takeGoodSave=13 takeBad=0 takeTimedout=1 takePercent=81% getNum=15 getGood=6 getBad=6 getTimedout=0 getPercent=40%
1335799046725: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001060 Client in region: 0 Client nodID: 5001
1335799046776: ----------------------------
1335799046776: I'm a nonleader sending my requesting photos packet to my leader
1335799046776: inside sendPacket(Packet p)
1335799046776: inside sendRequestPacketRepeatingRunnable for requestCount = 5001060
1335799046782: Sending UDP payload: 625
1335799046783: --- Finished one round of sending REQUEST Packet ---------
1335799046789: Received UDP payload: 989
1335799046791: mux: GOT CSM_Msg
1335799046802: Received UDP payload: 989
1335799046805: mux: GOT CSM_Msg
1335799047084: ----------------------------
1335799047084: inside sendRequestPacketRepeatingRunnable for requestCount = 5001060
1335799047085: --- Finished one round of sending REQUEST Packet ---------
1335799047085: I'm a nonleader sending my requesting photos packet to my leader
1335799047085: inside sendPacket(Packet p)
1335799047087: Sending UDP payload: 625
1335799047330: Received UDP payload: 5784
1335799047335: mux: GOT CSM_Msg
1335799047352: Received UDP payload: 989
1335799047356: mux: GOT CSM_Msg
1335799047392: ----------------------------
1335799047393: I'm a nonleader sending my requesting photos packet to my leader
1335799047393: inside sendPacket(Packet p)
1335799047393: inside sendRequestPacketRepeatingRunnable for requestCount = 5001060
1335799047394: Sending UDP payload: 625
1335799047396: --- Finished one round of sending REQUEST Packet ---------
1335799047418: Received UDP payload: 5784
1335799047422: mux: GOT CSM_Msg
1335799047479: Received UDP payload: 989
1335799047483: mux: GOT CSM_Msg
1335799047502: Received UDP payload: 989
1335799047506: mux: GOT CSM_Msg
1335799047510: Received UDP payload: 446
1335799047523: Received UDP payload: 989
1335799047527: mux: GOT CSM_Msg
1335799047574: Received UDP payload: 989
1335799047577: mux: GOT CSM_Msg
1335799047589: Received UDP payload: 989
1335799047594: mux: GOT CSM_Msg
1335799047599: Received UDP payload: 989
1335799047603: mux: GOT CSM_Msg
1335799047697: ----------------------------
1335799047697: I'm a nonleader sending my requesting photos packet to my leader
1335799047697: inside sendRequestPacketRepeatingRunnable for requestCount = 5001060
1335799047698: inside sendPacket(Packet p)
1335799047699: Sending UDP payload: 625
1335799047700: --- Finished one round of sending REQUEST Packet ---------
1335799047723: Received UDP payload: 5784
1335799047729: mux: GOT CSM_Msg
1335799047737: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335799047742: Received UDP payload: 989
1335799047748: mux: GOT CSM_Msg
1335799047830: Received UDP payload: 5784
1335799047836: mux: GOT CSM_Msg
1335799047862: Received UDP payload: 989
1335799047871: mux: GOT CSM_Msg
1335799047994: Received UDP payload: 5784
1335799047999: mux: GOT CSM_Msg
1335799048008: Received UDP payload: 989
1335799048013: mux: GOT CSM_Msg
1335799048083: Received UDP payload: 5784
1335799048088: mux: GOT CSM_Msg
1335799048103: Received UDP payload: 989
1335799048108: mux: GOT CSM_Msg
1335799048245: Received UDP payload: 5784
1335799048253: mux: GOT CSM_Msg
1335799048256: Received UDP payload: 989
1335799048271: Received UDP payload: 989
1335799048271: mux: GOT CSM_Msg
1335799048283: mux: GOT CSM_Msg
1335799048284: Received UDP payload: 6657
1335799048292: mux: GOT CSM_Msg
1335799048421: Received UDP payload: 5286
1335799048424: mux: GOT CSM_Msg
1335799048558: Received UDP payload: 625
1335799048560: mux: Inside mux Packet.CLIENT_REQUEST
1335799048560: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799048583: Received UDP payload: 5286
1335799048588: mux: GOT CSM_Msg
1335799048670: Received UDP payload: 5779
1335799048674: mux: GOT CSM_Msg
1335799048689: Received UDP payload: 989
1335799048701: mux: GOT CSM_Msg
1335799048702: Received UDP payload: 989
1335799048736: mux: GOT CSM_Msg
1335799048741: Received UDP payload: 989
1335799048743: mux: GOT CSM_Msg
1335799048829: Received UDP payload: 5779
1335799048831: mux: GOT CSM_Msg
1335799048880: Received UDP payload: 625
1335799048882: mux: Inside mux Packet.CLIENT_REQUEST
1335799048882: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799048961: Received UDP payload: 5779
1335799048963: mux: GOT CSM_Msg
1335799049010: Received UDP payload: 989
1335799049012: mux: GOT CSM_Msg
1335799049021: Received UDP payload: 989
1335799049023: mux: GOT CSM_Msg
1335799049080: Received UDP payload: 5784
1335799049082: mux: GOT CSM_Msg
1335799049114: Received UDP payload: 5779
1335799049116: mux: GOT CSM_Msg
1335799049213: Received UDP payload: 989
1335799049215: mux: GOT CSM_Msg
1335799049284: Received UDP payload: 5779
1335799049286: mux: GOT CSM_Msg
1335799049296: Received UDP payload: 989
1335799049299: mux: GOT CSM_Msg
1335799049369: Received UDP payload: 989
1335799049372: mux: GOT CSM_Msg
1335799049443: Received UDP payload: 5779
1335799049446: mux: GOT CSM_Msg
1335799049457: Received UDP payload: 989
1335799049460: mux: GOT CSM_Msg
1335799049517: Received UDP payload: 5779
1335799049519: mux: GOT CSM_Msg
1335799049604: Received UDP payload: 5779
1335799049607: mux: GOT CSM_Msg
1335799049612: Received UDP payload: 989
1335799049614: mux: GOT CSM_Msg
1335799049701: Received UDP payload: 989
1335799049704: mux: GOT CSM_Msg
1335799049714: Received UDP payload: 989
1335799049717: mux: GOT CSM_Msg
1335799049783: Received UDP payload: 5779
1335799049786: mux: GOT CSM_Msg
1335799049799: Received UDP payload: 989
1335799049801: mux: GOT CSM_Msg
1335799049870: Received UDP payload: 989
1335799049872: mux: GOT CSM_Msg
1335799049888: Received UDP payload: 642
1335799049890: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799049890: mux: Inside Packet.SERVER_REPLY
1335799049965: Received UDP payload: 989
1335799049968: mux: GOT CSM_Msg
1335799050231: Received UDP payload: 5075
1335799050237: mux: Inside mux Packet.CLIENT_REQUEST
1335799050238: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799050393: Received UDP payload: 625
1335799050395: mux: Inside mux Packet.CLIENT_REQUEST
1335799050395: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799050401: Received UDP payload: 446
1335799050403: mux: Inside mux Packet.CLIENT_REQUEST
1335799050403: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799051284: Received UDP payload: 5075
1335799051290: mux: Inside mux Packet.CLIENT_REQUEST
1335799051290: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799051343: Received UDP payload: 642
1335799051351: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799051351: mux: Inside Packet.SERVER_REPLY
1335799051439: Received UDP payload: 5873
1335799051441: mux: GOT CSM_Msg
1335799051451: Received UDP payload: 5784
1335799051453: mux: GOT CSM_Msg
1335799051519: Received UDP payload: 5873
1335799051521: mux: GOT CSM_Msg
1335799051527: Received UDP payload: 642
1335799051529: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799051529: mux: Inside Packet.SERVER_REPLY
1335799051632: Received UDP payload: 989
1335799051634: mux: GOT CSM_Msg
1335799051706: Received UDP payload: 5873
1335799051708: mux: GOT CSM_Msg
1335799051758: Received UDP payload: 989
1335799051760: mux: GOT CSM_Msg
1335799051793: Received UDP payload: 989
1335799051796: mux: GOT CSM_Msg
1335799051804: Received UDP payload: 989
1335799051806: mux: GOT CSM_Msg
1335799051817: Received UDP payload: 989
1335799051819: mux: GOT CSM_Msg
1335799051888: Received UDP payload: 989
1335799051890: mux: GOT CSM_Msg
1335799051900: Received UDP payload: 989
1335799051902: mux: GOT CSM_Msg
1335799051909: Received UDP payload: 989
1335799051911: mux: GOT CSM_Msg
1335799051986: Received UDP payload: 989
1335799051988: mux: GOT CSM_Msg
1335799051999: Received UDP payload: 989
1335799052001: mux: GOT CSM_Msg
1335799052008: Received UDP payload: 6657
1335799052011: mux: GOT CSM_Msg
1335799052029: Received UDP payload: 989
1335799052031: mux: GOT CSM_Msg
1335799052089: Received UDP payload: 989
1335799052091: mux: GOT CSM_Msg
1335799052092: Received UDP payload: 989
1335799052095: mux: GOT CSM_Msg
1335799052141: Received UDP payload: 989
1335799052143: mux: GOT CSM_Msg
1335799052174: Received UDP payload: 446
1335799052268: Received UDP payload: 989
1335799052270: mux: GOT CSM_Msg
1335799052467: Received UDP payload: 5287
1335799052474: mux: GOT CSM_Msg
1335799052549: Received UDP payload: 6657
1335799052562: mux: GOT CSM_Msg
1335799052590: Received UDP payload: 989
1335799052592: mux: GOT CSM_Msg
1335799052595: Received UDP payload: 446
1335799052700: Received UDP payload: 989
1335799052702: mux: GOT CSM_Msg
1335799052725: one more getTimedout: 1
1335799052726: inside buttonsEnableProgressTimeoutR. Perhaps no one is in that region. Try again later!
1335799052726: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=16 takeCamGood=16 takeGoodSave=13 takeBad=0 takeTimedout=1 takePercent=81% getNum=15 getGood=6 getBad=6 getTimedout=1 getPercent=40%
1335799052729: Inside _enableButtons
1335799052730: areButtonsEnabled --> true
1335799052816: Received UDP payload: 6657
1335799052818: mux: GOT CSM_Msg
1335799052971: Received UDP payload: 989
1335799052973: mux: GOT CSM_Msg
1335799053248: Received UDP payload: 4831
1335799053250: mux: GOT CSM_Msg
1335799053312: Received UDP payload: 6657
1335799053314: mux: GOT CSM_Msg
1335799053513: Received UDP payload: 4831
1335799053515: mux: GOT CSM_Msg
1335799053770: areButtonsEnabled --> false 
1335799053770: canPressButton = TRUE
1335799053771: areButtonsEnabled --> false
1335799053771: get picture disableButtonsR
1335799053799: one more getNum: 16
1335799053800: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=16 takeCamGood=16 takeGoodSave=13 takeBad=0 takeTimedout=1 takePercent=81% getNum=16 getGood=6 getBad=6 getTimedout=1 getPercent=37%
1335799053801: ** Client of state 3 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335799053802: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001061 Client in region: 0 Client nodID: 5001
1335799053802: change local requestCounter to 61
1335799053825: Received UDP payload: 6657
1335799053828: mux: GOT CSM_Msg
1335799053841: ----------------------------
1335799053842: I'm a nonleader sending my requesting photos packet to my leader
1335799053842: inside sendPacket(Packet p)
1335799053842: inside sendRequestPacketRepeatingRunnable for requestCount = 5001061
1335799053843: Sending UDP payload: 625
1335799053844: --- Finished one round of sending REQUEST Packet ---------
1335799054049: Received UDP payload: 989
1335799054052: mux: GOT CSM_Msg
1335799054144: ----------------------------
1335799054144: I'm a nonleader sending my requesting photos packet to my leader
1335799054144: inside sendRequestPacketRepeatingRunnable for requestCount = 5001061
1335799054145: inside sendPacket(Packet p)
1335799054149: Sending UDP payload: 625
1335799054150: --- Finished one round of sending REQUEST Packet ---------
1335799054244: Received UDP payload: 989
1335799054246: mux: GOT CSM_Msg
1335799054333: Received UDP payload: 989
1335799054335: mux: GOT CSM_Msg
1335799054450: ----------------------------
1335799054451: I'm a nonleader sending my requesting photos packet to my leader
1335799054451: inside sendPacket(Packet p)
1335799054451: inside sendRequestPacketRepeatingRunnable for requestCount = 5001061
1335799054454: --- Finished one round of sending REQUEST Packet ---------
1335799054454: Sending UDP payload: 625
1335799054504: Received UDP payload: 989
1335799054506: mux: GOT CSM_Msg
1335799054755: ----------------------------
1335799054756: --- Finished one round of sending REQUEST Packet ---------
1335799054756: I'm a nonleader sending my requesting photos packet to my leader
1335799054756: inside sendPacket(Packet p)
1335799054756: inside sendRequestPacketRepeatingRunnable for requestCount = 5001061
1335799054758: Sending UDP payload: 625
1335799054787: Received UDP payload: 989
1335799054789: mux: GOT CSM_Msg
1335799054815: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335799054966: Received UDP payload: 989
1335799054968: mux: GOT CSM_Msg
1335799054982: Received UDP payload: 989
1335799054985: mux: GOT CSM_Msg
1335799055138: Received UDP payload: 989
1335799055140: mux: GOT CSM_Msg
1335799055174: Received UDP payload: 4803
1335799055176: mux: Inside mux Packet.CLIENT_REQUEST
1335799055176: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799055184: Received UDP payload: 989
1335799055186: mux: GOT CSM_Msg
1335799055218: Received UDP payload: 989
1335799055220: mux: GOT CSM_Msg
1335799055333: Received UDP payload: 5167
1335799055335: mux: GOT CSM_Msg
1335799055343: Received UDP payload: 446
1335799055344: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799055344: mux: Inside Packet.SERVER_REPLY
1335799055370: Received UDP payload: 989
1335799055372: mux: GOT CSM_Msg
1335799055379: Received UDP payload: 642
1335799055380: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799055380: mux: Inside Packet.SERVER_REPLY
1335799055397: Received UDP payload: 446
1335799055406: Received UDP payload: 989
1335799055408: mux: GOT CSM_Msg
1335799055420: Received UDP payload: 989
1335799055422: mux: GOT CSM_Msg
1335799055432: Received UDP payload: 989
1335799055434: mux: GOT CSM_Msg
1335799055447: Received UDP payload: 642
1335799055448: mux: Inside Packet.SERVER_REPLY
1335799055449: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799055508: Received UDP payload: 989
1335799055510: mux: GOT CSM_Msg
1335799055623: Received UDP payload: 4803
1335799055624: mux: Inside mux Packet.CLIENT_REQUEST
1335799055624: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799055640: Received UDP payload: 446
1335799055643: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799055643: mux: Inside Packet.SERVER_REPLY
1335799055676: Received UDP payload: 5075
1335799055677: mux: Inside mux Packet.CLIENT_REQUEST
1335799055677: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799055737: Received UDP payload: 642
1335799055739: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799055739: mux: Inside Packet.SERVER_REPLY
1335799055764: Received UDP payload: 5075
1335799055765: mux: Inside mux Packet.CLIENT_REQUEST
1335799055766: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799055769: Received UDP payload: 446
1335799055781: Received UDP payload: 446
1335799055813: Received UDP payload: 446
1335799055821: Received UDP payload: 446
1335799056040: Received UDP payload: 446
1335799056049: mux: Inside mux Packet.CLIENT_REQUEST
1335799056049: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799056051: Received UDP payload: 446
1335799056055: mux: Inside mux Packet.CLIENT_REQUEST
1335799056055: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799056080: Received UDP payload: 642
1335799056082: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799056082: mux: Inside Packet.SERVER_REPLY
1335799056153: Received UDP payload: 446
1335799056155: mux: Inside mux Packet.CLIENT_REQUEST
1335799056155: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799056161: Received UDP payload: 446
1335799056162: mux: Inside mux Packet.CLIENT_REQUEST
1335799056162: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799056223: Received UDP payload: 446
1335799056224: mux: Inside mux Packet.CLIENT_REQUEST
1335799056224: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799056537: Received UDP payload: 5784
1335799056539: mux: GOT CSM_Msg
1335799056634: Received UDP payload: 5784
1335799056639: mux: GOT CSM_Msg
1335799056747: Received UDP payload: 989
1335799056753: mux: GOT CSM_Msg
1335799056779: Received UDP payload: 989
1335799056785: mux: GOT CSM_Msg
1335799056808: Received UDP payload: 989
1335799056812: mux: GOT CSM_Msg
1335799056827: Received UDP payload: 989
1335799056833: mux: GOT CSM_Msg
1335799056851: Received UDP payload: 989
1335799056855: mux: GOT CSM_Msg
1335799056868: Received UDP payload: 989
1335799056877: mux: GOT CSM_Msg
1335799056895: Received UDP payload: 989
1335799056901: mux: GOT CSM_Msg
1335799056914: Received UDP payload: 989
1335799056931: mux: GOT CSM_Msg
1335799056938: Received UDP payload: 989
1335799056943: mux: GOT CSM_Msg
1335799056952: Received UDP payload: 989
1335799056957: mux: GOT CSM_Msg
1335799056982: Received UDP payload: 989
1335799056987: mux: GOT CSM_Msg
1335799056990: Received UDP payload: 989
1335799056996: mux: GOT CSM_Msg
1335799057016: Received UDP payload: 989
1335799057020: mux: GOT CSM_Msg
1335799057035: Received UDP payload: 989
1335799057039: mux: GOT CSM_Msg
1335799057132: Received UDP payload: 6831
1335799057135: mux: GOT CSM_Msg
1335799057144: Received UDP payload: 446
1335799057145: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799057145: mux: Inside Packet.SERVER_REPLY
1335799057148: Received UDP payload: 446
1335799057176: Received UDP payload: 989
1335799057178: mux: GOT CSM_Msg
1335799057197: Received UDP payload: 642
1335799057198: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799057198: mux: Inside Packet.SERVER_REPLY
1335799057201: Received UDP payload: 446
1335799057203: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799057203: mux: Inside Packet.SERVER_REPLY
1335799057220: Received UDP payload: 642
1335799057221: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799057221: mux: Inside Packet.SERVER_REPLY
1335799057229: Received UDP payload: 989
1335799057231: mux: GOT CSM_Msg
1335799057311: Received UDP payload: 5167
1335799057314: mux: GOT CSM_Msg
1335799057359: Received UDP payload: 642
1335799057360: mux: Inside Packet.SERVER_REPLY
1335799057361: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799057375: Received UDP payload: 642
1335799057376: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799057376: mux: Inside Packet.SERVER_REPLY
1335799057394: Received UDP payload: 989
1335799057396: mux: GOT CSM_Msg
1335799057482: Received UDP payload: 989
1335799057484: mux: GOT CSM_Msg
1335799057567: Received UDP payload: 4831
1335799057569: mux: GOT CSM_Msg
1335799057646: Received UDP payload: 989
1335799057648: mux: GOT CSM_Msg
1335799057655: Received UDP payload: 5167
1335799057657: mux: GOT CSM_Msg
1335799057770: Received UDP payload: 989
1335799057772: mux: GOT CSM_Msg
1335799057852: Received UDP payload: 5167
1335799057854: mux: GOT CSM_Msg
1335799057958: Received UDP payload: 5167
1335799057961: mux: GOT CSM_Msg
1335799058069: Received UDP payload: 989
1335799058071: mux: GOT CSM_Msg
1335799058083: Received UDP payload: 989
1335799058087: mux: GOT CSM_Msg
1335799058104: Received UDP payload: 989
1335799058108: mux: GOT CSM_Msg
1335799058163: Received UDP payload: 5167
1335799058166: mux: GOT CSM_Msg
1335799058194: Received UDP payload: 989
1335799058196: mux: GOT CSM_Msg
1335799058238: Received UDP payload: 5167
1335799058240: mux: GOT CSM_Msg
1335799058309: Received UDP payload: 989
1335799058311: mux: GOT CSM_Msg
1335799058356: Received UDP payload: 989
1335799058358: mux: GOT CSM_Msg
1335799058577: Received UDP payload: 5167
1335799058579: mux: GOT CSM_Msg
1335799058762: Received UDP payload: 989
1335799058767: mux: GOT CSM_Msg
1335799058845: Received UDP payload: 5167
1335799058849: mux: GOT CSM_Msg
1335799058900: Received UDP payload: 989
1335799058903: mux: GOT CSM_Msg
1335799058973: Received UDP payload: 5167
1335799058977: mux: GOT CSM_Msg
1335799059800: one more getTimedout: 2
1335799059803: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=16 takeCamGood=16 takeGoodSave=13 takeBad=0 takeTimedout=1 takePercent=81% getNum=16 getGood=6 getBad=6 getTimedout=2 getPercent=37%
1335799059804: inside buttonsEnableProgressTimeoutR. Perhaps no one is in that region. Try again later!
1335799059817: Inside _enableButtons
1335799059819: areButtonsEnabled --> true
1335799060319: Received UDP payload: 446
1335799060329: Received UDP payload: 5286
1335799060332: mux: GOT CSM_Msg
1335799060383: Received UDP payload: 5286
1335799060385: mux: GOT CSM_Msg
1335799060431: Received UDP payload: 5286
1335799060434: mux: GOT CSM_Msg
1335799060491: Received UDP payload: 5286
1335799060493: mux: GOT CSM_Msg
1335799060553: Received UDP payload: 5286
1335799060556: mux: GOT CSM_Msg
1335799060614: Received UDP payload: 5286
1335799060617: mux: GOT CSM_Msg
1335799060621: Received UDP payload: 446
1335799060675: Received UDP payload: 5286
1335799060677: mux: GOT CSM_Msg
1335799060679: Received UDP payload: 463
1335799060689: Received UDP payload: 446
1335799060694: Received UDP payload: 446
1335799060701: Received UDP payload: 446
1335799060705: Received UDP payload: 446
1335799060714: Received UDP payload: 446
1335799061035: Received UDP payload: 989
1335799061043: mux: GOT CSM_Msg
1335799061151: Received UDP payload: 6831
1335799061158: mux: GOT CSM_Msg
1335799061190: Received UDP payload: 989
1335799061197: mux: GOT CSM_Msg
1335799061230: Received UDP payload: 989
1335799061232: mux: GOT CSM_Msg
1335799061293: Received UDP payload: 989
1335799061295: mux: GOT CSM_Msg
1335799061305: Received UDP payload: 989
1335799061307: mux: GOT CSM_Msg
1335799061320: Received UDP payload: 989
1335799061322: mux: GOT CSM_Msg
1335799061344: Received UDP payload: 989
1335799061347: mux: GOT CSM_Msg
1335799061361: Received UDP payload: 989
1335799061363: mux: GOT CSM_Msg
1335799061382: Received UDP payload: 989
1335799061384: mux: GOT CSM_Msg
1335799061400: Received UDP payload: 989
1335799061402: mux: GOT CSM_Msg
1335799061418: Received UDP payload: 989
1335799061420: mux: GOT CSM_Msg
1335799061431: Received UDP payload: 989
1335799061433: mux: GOT CSM_Msg
1335799061464: Received UDP payload: 989
1335799061466: mux: GOT CSM_Msg
1335799061520: Received UDP payload: 989
1335799061522: mux: GOT CSM_Msg
1335799061541: Received UDP payload: 989
1335799061543: mux: GOT CSM_Msg
1335799061554: Received UDP payload: 989
1335799061556: mux: GOT CSM_Msg
1335799061913: Received UDP payload: 989
1335799061917: mux: GOT CSM_Msg
1335799061934: Received UDP payload: 989
1335799061938: mux: GOT CSM_Msg
1335799061950: Received UDP payload: 989
1335799061953: mux: GOT CSM_Msg
1335799061972: Received UDP payload: 989
1335799061975: mux: GOT CSM_Msg
1335799062004: Received UDP payload: 989
1335799062006: mux: GOT CSM_Msg
1335799062013: Received UDP payload: 446
1335799062028: Received UDP payload: 989
1335799062030: mux: GOT CSM_Msg
1335799062043: Received UDP payload: 989
1335799062044: mux: GOT CSM_Msg
1335799062139: Received UDP payload: 989
1335799062141: mux: GOT CSM_Msg
1335799062148: Received UDP payload: 989
1335799062150: mux: GOT CSM_Msg
1335799062202: areButtonsEnabled --> false
1335799062202: canPressButton = TRUE
1335799062202: disabling buttons ...
1335799062203: areButtonsEnabled --> false
1335799062203: took picture disableButtonsR
1335799062241: one more takeNum: 17
1335799062242: Clicked take picture button ..
1335799062242: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=17 takeCamGood=16 takeGoodSave=13 takeBad=0 takeTimedout=1 takePercent=76% getNum=16 getGood=6 getBad=6 getTimedout=2 getPercent=37%
1335799062263: Received UDP payload: 5177
1335799062265: mux: GOT CSM_Msg
1335799062292: Received UDP payload: 446
1335799062293: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799062293: mux: Inside Packet.SERVER_REPLY
1335799062311: Received UDP payload: 989
1335799062314: mux: GOT CSM_Msg
1335799062339: Received UDP payload: 989
1335799062342: mux: GOT CSM_Msg
1335799062345: Received UDP payload: 642
1335799062356: mux: Inside Packet.SERVER_REPLY
1335799062357: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799062432: Received UDP payload: 989
1335799062435: mux: GOT CSM_Msg
1335799062469: Received UDP payload: 989
1335799062471: mux: GOT CSM_Msg
1335799062496: Received UDP payload: 625
1335799062497: mux: Inside mux Packet.CLIENT_REQUEST
1335799062497: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799062516: Received UDP payload: 625
1335799062517: mux: Inside mux Packet.CLIENT_REQUEST
1335799062517: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799062532: Received UDP payload: 625
1335799062533: mux: Inside mux Packet.CLIENT_REQUEST
1335799062533: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799062559: Received UDP payload: 625
1335799062561: mux: Inside mux Packet.CLIENT_REQUEST
1335799062561: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799062784: Received UDP payload: 989
1335799062786: mux: GOT CSM_Msg
1335799062811: Received UDP payload: 642
1335799062813: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799062813: mux: Inside Packet.SERVER_REPLY
1335799062836: Received UDP payload: 989
1335799062838: mux: GOT CSM_Msg
1335799062875: Received UDP payload: 989
1335799062878: mux: GOT CSM_Msg
1335799063039: Received UDP payload: 989
1335799063041: mux: GOT CSM_Msg
1335799063114: Received UDP payload: 4565
1335799063117: mux: GOT CSM_Msg
1335799063150: Received UDP payload: 5066
1335799063152: mux: GOT CSM_Msg
1335799063158: Received UDP payload: 446
1335799063160: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799063160: mux: Inside Packet.SERVER_REPLY
1335799063200: Received UDP payload: 642
1335799063201: mux: Inside Packet.SERVER_REPLY
1335799063202: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799063235: Received UDP payload: 446
1335799063236: mux: Inside Packet.SERVER_REPLY
1335799063237: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799063255: Received UDP payload: 642
1335799063256: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799063256: mux: Inside Packet.SERVER_REPLY
1335799063280: Received UDP payload: 989
1335799063283: mux: GOT CSM_Msg
1335799063295: Received UDP payload: 989
1335799063297: mux: GOT CSM_Msg
1335799063428: Received UDP payload: 4565
1335799063430: mux: GOT CSM_Msg
1335799063503: Received UDP payload: 642
1335799063504: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799063504: mux: Inside Packet.SERVER_REPLY
1335799063518: Received UDP payload: 989
1335799063520: mux: GOT CSM_Msg
1335799063761: inside HandlePictureStorage onPictureTaken()
1335799063762: one more takeCamGood: 17
1335799063762: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=17 takeCamGood=17 takeGoodSave=13 takeBad=0 takeTimedout=1 takePercent=76% getNum=16 getGood=6 getBad=6 getTimedout=2 getPercent=37%
1335799063849: Received UDP payload: 5330
1335799063851: mux: Inside mux Packet.CLIENT_REQUEST
1335799063851: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799063906: Received UDP payload: 6307
1335799063908: mux: Inside mux Packet.CLIENT_REQUEST
1335799063908: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799064015: Received UDP payload: 6671
1335799064017: mux: GOT CSM_Msg
1335799064026: Picture successfully taken, ORIG BYTE LENGTH = 2630306
1335799064099: Received UDP payload: 446
1335799064100: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799064100: mux: Inside Packet.SERVER_REPLY
1335799064108: Received UDP payload: 989
1335799064110: mux: GOT CSM_Msg
1335799064118: Received UDP payload: 642
1335799064120: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799064120: mux: Inside Packet.SERVER_REPLY
1335799064238: Received UDP payload: 989
1335799064242: mux: GOT CSM_Msg
1335799064258: Received UDP payload: 989
1335799064261: mux: GOT CSM_Msg
1335799064294: Received UDP payload: 642
1335799064297: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799064297: mux: Inside Packet.SERVER_REPLY
1335799064330: Our new height x width: 306 x 408
1335799064330: Show photo from handle my camera take
1335799064331: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335799064331: change local requestCounter to 62
1335799064354: BYTE SIZE AFTER COMPRESSION: 5346
1335799064355: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001062 Client in region: 0 Client nodID: 5001
1335799064400: ----------------------------
1335799064400: inside sendRequestPacketRepeatingRunnable for requestCount = 5001062
1335799064401: I'm a nonleader sending my requesting photos packet to my leader
1335799064401: inside sendPacket(Packet p)
1335799064402: Sending UDP payload: 5993
1335799064405: --- Finished one round of sending REQUEST Packet ---------
1335799064456: Received UDP payload: 642
1335799064458: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799064458: mux: Inside Packet.SERVER_REPLY
1335799064705: ----------------------------
1335799064707: I'm a nonleader sending my requesting photos packet to my leader
1335799064707: inside sendRequestPacketRepeatingRunnable for requestCount = 5001062
1335799064708: inside sendPacket(Packet p)
1335799064711: Sending UDP payload: 5993
1335799064714: --- Finished one round of sending REQUEST Packet ---------
1335799064721: Received UDP payload: 4565
1335799064730: mux: GOT CSM_Msg
1335799064731: Received UDP payload: 642
1335799064744: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799064744: mux: Inside Packet.SERVER_REPLY
1335799064860: Received UDP payload: 989
1335799064867: mux: GOT CSM_Msg
1335799064895: Received UDP payload: 989
1335799064903: mux: GOT CSM_Msg
1335799064915: Received UDP payload: 989
1335799064938: mux: GOT CSM_Msg
1335799065022: ----------------------------
1335799065023: I'm a nonleader sending my requesting photos packet to my leader
1335799065023: inside sendRequestPacketRepeatingRunnable for requestCount = 5001062
1335799065024: inside sendPacket(Packet p)
1335799065027: Sending UDP payload: 5993
1335799065035: --- Finished one round of sending REQUEST Packet ---------
1335799065090: Received UDP payload: 4569
1335799065093: mux: Inside mux Packet.CLIENT_REQUEST
1335799065094: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799065170: Received UDP payload: 642
1335799065177: mux: Inside Packet.SERVER_REPLY
1335799065178: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799065226: Received UDP payload: 4565
1335799065233: mux: GOT CSM_Msg
1335799065313: Received UDP payload: 989
1335799065316: mux: GOT CSM_Msg
1335799065337: ----------------------------
1335799065338: I'm a nonleader sending my requesting photos packet to my leader
1335799065338: inside sendRequestPacketRepeatingRunnable for requestCount = 5001062
1335799065339: inside sendPacket(Packet p)
1335799065340: --- Finished one round of sending REQUEST Packet ---------
1335799065341: Sending UDP payload: 5993
1335799065347: Received UDP payload: 989
1335799065356: mux: GOT CSM_Msg
1335799065365: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335799065490: Received UDP payload: 4565
1335799065493: mux: GOT CSM_Msg
1335799065535: Received UDP payload: 446
1335799065652: Received UDP payload: 446
1335799065654: mux: Inside Packet.SERVER_REPLY
1335799065655: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799065680: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799065741: Received UDP payload: 642
1335799065742: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799065742: mux: Inside Packet.SERVER_REPLY
1335799065744: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335799065745: Inside _enableButtons
1335799065745: areButtonsEnabled --> true
1335799065745: disabling progressdialog due to successful new photo upload
1335799065746: inside finalLegAck: change requestCounter to 63
1335799065746: send final leg ack regardless of new or already-processed reply
1335799065747: Received UDP payload: 446
1335799065748: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001063 Client in region: (0,0) Client nodID: 5001
1335799065749: I'm a nonleader client sending my final_leg packet to my leader
1335799065749: inside sendPacket(Packet p)
1335799065750: Sending UDP payload: 446
1335799065750: new client_upload_photo_ack reply with replyCounter 500500017
1335799065751: nonleader upload new photo latency = 405
1335799065751: note down new reply by adding replyCounter=500500017 to HashMap processedReplies
1335799065752: = nonleader upload start 1335799065339 ~ stop 1335799065744
1335799065752: one more takeGoodSave: 14
1335799065754: SUCCESS Client now knows saving photo on its leader succeeded
1335799065754: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=17 takeCamGood=17 takeGoodSave=14 takeBad=0 takeTimedout=1 takePercent=82% getNum=16 getGood=6 getBad=6 getTimedout=2 getPercent=37%
1335799065814: Received UDP payload: 446
1335799065816: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799065816: mux: Inside Packet.SERVER_REPLY
1335799065820: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799065852: Received UDP payload: 446
1335799065853: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799065853: mux: Inside Packet.SERVER_REPLY
1335799065854: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799065862: Received UDP payload: 642
1335799065864: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799065864: mux: Inside Packet.SERVER_REPLY
1335799065877: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335799065877: Inside _enableButtons
1335799065877: areButtonsEnabled --> true
1335799065877: disabling progressdialog due to successful new photo upload
1335799065878: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001064 Client in region: (0,0) Client nodID: 5001
1335799065878: I'm a nonleader client sending my final_leg packet to my leader
1335799065878: inside finalLegAck: change requestCounter to 64
1335799065878: inside sendPacket(Packet p)
1335799065878: send final leg ack regardless of new or already-processed reply
1335799065879: Sending UDP payload: 446
1335799065880: cupa discarding repeated replyCounter=500500017, but still sent an ack back
1335799065887: Received UDP payload: 446
1335799065889: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799065889: mux: Inside Packet.SERVER_REPLY
1335799065896: Received UDP payload: 642
1335799065898: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799065898: mux: Inside Packet.SERVER_REPLY
1335799065902: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335799065902: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799065903: Inside _enableButtons
1335799065903: areButtonsEnabled --> true
1335799065903: disabling progressdialog due to successful new photo upload
1335799065903: inside finalLegAck: change requestCounter to 65
1335799065903: send final leg ack regardless of new or already-processed reply
1335799065904: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001065 Client in region: (0,0) Client nodID: 5001
1335799065904: I'm a nonleader client sending my final_leg packet to my leader
1335799065904: inside sendPacket(Packet p)
1335799065905: Sending UDP payload: 446
1335799065907: cupa discarding repeated replyCounter=500500017, but still sent an ack back
1335799065912: Received UDP payload: 642
1335799065914: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799065914: mux: Inside Packet.SERVER_REPLY
1335799065935: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335799065936: Inside _enableButtons
1335799065936: areButtonsEnabled --> true
1335799065936: disabling progressdialog due to successful new photo upload
1335799065936: inside finalLegAck: change requestCounter to 66
1335799065936: send final leg ack regardless of new or already-processed reply
1335799065937: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001066 Client in region: (0,0) Client nodID: 5001
1335799065937: I'm a nonleader client sending my final_leg packet to my leader
1335799065938: inside sendPacket(Packet p)
1335799065939: Sending UDP payload: 446
1335799065940: cupa discarding repeated replyCounter=500500017, but still sent an ack back
1335799066106: Received UDP payload: 989
1335799066108: mux: GOT CSM_Msg
1335799066114: Received UDP payload: 989
1335799066116: mux: GOT CSM_Msg
1335799066150: Received UDP payload: 446
1335799066151: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799066151: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799066151: mux: Inside Packet.SERVER_REPLY
1335799066162: Received UDP payload: 446
1335799066164: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799066164: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799066164: mux: Inside Packet.SERVER_REPLY
1335799066175: Received UDP payload: 989
1335799066177: mux: GOT CSM_Msg
1335799066312: Received UDP payload: 5249
1335799066314: mux: GOT CSM_Msg
1335799066325: Received UDP payload: 989
1335799066327: mux: GOT CSM_Msg
1335799066338: Received UDP payload: 989
1335799066340: mux: GOT CSM_Msg
1335799066363: Received UDP payload: 446
1335799066364: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799066364: mux: Inside Packet.SERVER_REPLY
1335799066365: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799066380: Received UDP payload: 989
1335799066382: mux: GOT CSM_Msg
1335799066407: Received UDP payload: 989
1335799066409: mux: GOT CSM_Msg
1335799066418: Received UDP payload: 989
1335799066421: mux: GOT CSM_Msg
1335799066456: Received UDP payload: 989
1335799066458: mux: GOT CSM_Msg
1335799066474: Received UDP payload: 989
1335799066477: mux: GOT CSM_Msg
1335799066488: Received UDP payload: 989
1335799066490: mux: GOT CSM_Msg
1335799066528: Received UDP payload: 989
1335799066530: mux: GOT CSM_Msg
1335799066547: Received UDP payload: 989
1335799066549: mux: GOT CSM_Msg
1335799066589: Received UDP payload: 989
1335799066591: mux: GOT CSM_Msg
1335799066611: Received UDP payload: 989
1335799066614: mux: GOT CSM_Msg
1335799066712: Received UDP payload: 6831
1335799066715: mux: GOT CSM_Msg
1335799066741: Received UDP payload: 989
1335799066743: mux: GOT CSM_Msg
1335799066832: Received UDP payload: 6831
1335799066834: mux: GOT CSM_Msg
1335799066939: Received UDP payload: 6831
1335799066948: mux: GOT CSM_Msg
1335799066956: Received UDP payload: 989
1335799066971: mux: GOT CSM_Msg
1335799066972: Received UDP payload: 989
1335799066990: Received UDP payload: 989
1335799066990: mux: GOT CSM_Msg
1335799067008: mux: GOT CSM_Msg
1335799067315: Received UDP payload: 642
1335799067317: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799067317: mux: Inside Packet.SERVER_REPLY
1335799067318: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799067318: disabling progressdialog due to successful new photo get
1335799067319: Inside _enableButtons
1335799067319: areButtonsEnabled --> true
1335799067319: inside finalLegAck: change requestCounter to 67
1335799067319: send final leg ack regardless of new or already-processed reply
1335799067320: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001067 Client in region: (0,0) Client nodID: 5001
1335799067320: I'm a nonleader client sending my final_leg packet to my leader
1335799067320: inside sendPacket(Packet p)
1335799067322: Sending UDP payload: 446
1335799067323: new client_show_remotephoto reply with replyCounter 500500020
1335799067323: note down new reply by adding replyCounter=500500020 to HashMap processedReplies
1335799067324: = nonleader download start 1335799065339 ~ stop 1335799067318
1335799067324: nonleader download remote photo latency = 1979
1335799067325: Can't get remote photo, because DSM Layer on originator leader timed out
1335799067329: one more getBad: 7
1335799067330: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=17 takeCamGood=17 takeGoodSave=14 takeBad=0 takeTimedout=1 takePercent=82% getNum=16 getGood=6 getBad=7 getTimedout=2 getPercent=37%
1335799067331: getBad++
1335799067418: Received UDP payload: 446
1335799067500: Received UDP payload: 446
1335799067502: mux: Inside mux Packet.CLIENT_REQUEST
1335799067502: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799067504: Received UDP payload: 446
1335799067507: mux: Inside mux Packet.CLIENT_REQUEST
1335799067507: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799067819: areButtonsEnabled --> false 
1335799067819: canPressButton = TRUE
1335799067820: areButtonsEnabled --> false
1335799067820: get picture disableButtonsR
1335799067852: one more getNum: 17
1335799067853: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=17 takeCamGood=17 takeGoodSave=14 takeBad=0 takeTimedout=1 takePercent=82% getNum=17 getGood=6 getBad=7 getTimedout=2 getPercent=35%
1335799067854: ** Client of state 3 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335799067854: change local requestCounter to 68
1335799067855: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001068 Client in region: 0 Client nodID: 5001
1335799067910: ----------------------------
1335799067911: I'm a nonleader sending my requesting photos packet to my leader
1335799067911: inside sendPacket(Packet p)
1335799067911: inside sendRequestPacketRepeatingRunnable for requestCount = 5001068
1335799067912: Sending UDP payload: 625
1335799067913: --- Finished one round of sending REQUEST Packet ---------
1335799068187: Received UDP payload: 6831
1335799068189: mux: GOT CSM_Msg
1335799068213: ----------------------------
1335799068213: inside sendRequestPacketRepeatingRunnable for requestCount = 5001068
1335799068214: I'm a nonleader sending my requesting photos packet to my leader
1335799068214: inside sendPacket(Packet p)
1335799068215: Sending UDP payload: 625
1335799068216: --- Finished one round of sending REQUEST Packet ---------
1335799068374: Received UDP payload: 6831
1335799068376: mux: GOT CSM_Msg
1335799068410: Received UDP payload: 642
1335799068411: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799068411: mux: Inside Packet.SERVER_REPLY
1335799068412: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799068412: Inside _enableButtons
1335799068412: disabling progressdialog due to successful new photo get
1335799068413: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001069 Client in region: (0,0) Client nodID: 5001
1335799068413: I'm a nonleader client sending my final_leg packet to my leader
1335799068413: areButtonsEnabled --> true
1335799068413: inside finalLegAck: change requestCounter to 69
1335799068413: send final leg ack regardless of new or already-processed reply
1335799068414: Sending UDP payload: 446
1335799068414: inside sendPacket(Packet p)
1335799068415: csn discarding repeated replyCounter=500500020, but still sent an ack back
1335799068519: ----------------------------
1335799068519: inside sendRequestPacketRepeatingRunnable for requestCount = 5001068
1335799068520: I'm a nonleader sending my requesting photos packet to my leader
1335799068520: inside sendPacket(Packet p)
1335799068521: --- Finished one round of sending REQUEST Packet ---------
1335799068521: Sending UDP payload: 625
1335799068637: Received UDP payload: 6831
1335799068639: mux: GOT CSM_Msg
1335799068822: ----------------------------
1335799068822: I'm a nonleader sending my requesting photos packet to my leader
1335799068822: inside sendRequestPacketRepeatingRunnable for requestCount = 5001068
1335799068823: Sending UDP payload: 625
1335799068823: inside sendPacket(Packet p)
1335799068824: --- Finished one round of sending REQUEST Packet ---------
1335799068856: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335799068889: Received UDP payload: 446
1335799068917: Received UDP payload: 625
1335799068919: mux: Inside mux Packet.CLIENT_REQUEST
1335799068919: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799068929: Received UDP payload: 625
1335799068931: mux: Inside mux Packet.CLIENT_REQUEST
1335799068931: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799069058: Received UDP payload: 4831
1335799069112: Received UDP payload: 446
1335799069113: mux: GOT CSM_Msg
1335799069113: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799069113: mux: Inside Packet.SERVER_REPLY
1335799069116: Received UDP payload: 989
1335799069118: mux: GOT CSM_Msg
1335799069131: Received UDP payload: 989
1335799069133: mux: GOT CSM_Msg
1335799069144: Received UDP payload: 989
1335799069146: mux: GOT CSM_Msg
1335799069222: Received UDP payload: 989
1335799069224: mux: GOT CSM_Msg
1335799069247: Received UDP payload: 989
1335799069249: mux: GOT CSM_Msg
1335799069258: Received UDP payload: 446
1335799069259: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799069259: mux: Inside Packet.SERVER_REPLY
1335799069296: Received UDP payload: 989
1335799069298: mux: GOT CSM_Msg
1335799069306: Received UDP payload: 989
1335799069308: mux: GOT CSM_Msg
1335799069520: Received UDP payload: 446
1335799069548: Received UDP payload: 989
1335799069550: mux: GOT CSM_Msg
1335799069556: Received UDP payload: 625
1335799069557: mux: Inside mux Packet.CLIENT_REQUEST
1335799069557: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799069567: Received UDP payload: 625
1335799069569: mux: Inside mux Packet.CLIENT_REQUEST
1335799069569: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799069582: Received UDP payload: 989
1335799069584: mux: GOT CSM_Msg
1335799069592: Received UDP payload: 989
1335799069594: mux: GOT CSM_Msg
1335799069613: Received UDP payload: 989
1335799069616: mux: GOT CSM_Msg
1335799069622: Received UDP payload: 989
1335799069624: mux: GOT CSM_Msg
1335799069653: Received UDP payload: 989
1335799069655: mux: GOT CSM_Msg
1335799069660: Received UDP payload: 642
1335799069661: mux: Inside Packet.SERVER_REPLY
1335799069662: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799069673: Received UDP payload: 989
1335799069676: mux: GOT CSM_Msg
1335799069687: Received UDP payload: 989
1335799069690: mux: GOT CSM_Msg
1335799069699: Received UDP payload: 642
1335799069701: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799069701: mux: Inside Packet.SERVER_REPLY
1335799069714: Received UDP payload: 989
1335799069717: mux: GOT CSM_Msg
1335799069723: Received UDP payload: 989
1335799069726: mux: GOT CSM_Msg
1335799069733: Received UDP payload: 989
1335799069735: mux: GOT CSM_Msg
1335799069743: Received UDP payload: 642
1335799069745: mux: Inside Packet.SERVER_REPLY
1335799069746: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799069757: Received UDP payload: 989
1335799069760: mux: GOT CSM_Msg
1335799069784: Received UDP payload: 989
1335799069786: mux: GOT CSM_Msg
1335799069794: Received UDP payload: 642
1335799069796: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799069796: mux: Inside Packet.SERVER_REPLY
1335799069809: Received UDP payload: 989
1335799069811: mux: GOT CSM_Msg
1335799069837: Received UDP payload: 989
1335799069855: mux: GOT CSM_Msg
1335799069864: Received UDP payload: 989
1335799069867: mux: GOT CSM_Msg
1335799069874: Received UDP payload: 989
1335799069877: mux: GOT CSM_Msg
1335799069907: Received UDP payload: 446
1335799069966: Received UDP payload: 5383
1335799069970: mux: GOT CSM_Msg
1335799070059: Received UDP payload: 989
1335799070062: mux: GOT CSM_Msg
1335799070075: Received UDP payload: 446
1335799070077: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799070077: mux: Inside Packet.SERVER_REPLY
1335799070342: Received UDP payload: 5616
1335799070352: mux: GOT CSM_Msg
1335799070415: Received UDP payload: 5616
1335799070417: mux: GOT CSM_Msg
1335799070555: Received UDP payload: 446
1335799070557: mux: Inside Packet.SERVER_REPLY
1335799070558: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799070783: Received UDP payload: 5616
1335799070788: mux: GOT CSM_Msg
1335799070898: Received UDP payload: 5616
1335799070902: mux: GOT CSM_Msg
1335799070971: Received UDP payload: 5616
1335799070974: mux: GOT CSM_Msg
1335799071053: Received UDP payload: 5616
1335799071055: mux: GOT CSM_Msg
1335799071064: Received UDP payload: 989
1335799071066: mux: GOT CSM_Msg
1335799071077: Received UDP payload: 989
1335799071080: mux: GOT CSM_Msg
1335799071098: Received UDP payload: 989
1335799071100: mux: GOT CSM_Msg
1335799071121: Received UDP payload: 989
1335799071124: mux: GOT CSM_Msg
1335799071135: Received UDP payload: 989
1335799071139: mux: GOT CSM_Msg
1335799071146: Received UDP payload: 989
1335799071149: mux: GOT CSM_Msg
1335799071155: Received UDP payload: 989
1335799071158: mux: GOT CSM_Msg
1335799071179: Received UDP payload: 989
1335799071184: mux: GOT CSM_Msg
1335799071208: Received UDP payload: 446
1335799071233: Received UDP payload: 989
1335799071235: mux: GOT CSM_Msg
1335799071245: Received UDP payload: 989
1335799071247: mux: GOT CSM_Msg
1335799071322: Received UDP payload: 989
1335799071325: mux: GOT CSM_Msg
1335799071374: Received UDP payload: 5383
1335799071377: mux: GOT CSM_Msg
1335799071459: Received UDP payload: 5383
1335799071462: mux: GOT CSM_Msg
1335799071668: Received UDP payload: 5383
1335799071677: mux: GOT CSM_Msg
1335799071749: Received UDP payload: 5383
1335799071751: mux: GOT CSM_Msg
1335799072012: Received UDP payload: 5383
1335799072015: mux: GOT CSM_Msg
1335799072520: Received UDP payload: 989
1335799072529: mux: GOT CSM_Msg
1335799072626: Received UDP payload: 5383
1335799072633: mux: GOT CSM_Msg
1335799072641: Received UDP payload: 446
1335799072644: mux: Inside Packet.SERVER_REPLY
1335799072645: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799072703: Received UDP payload: 5887
1335799072704: mux: Inside Packet.SERVER_REPLY
1335799072705: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799072754: Received UDP payload: 446
1335799072755: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799072755: mux: Inside Packet.SERVER_REPLY
1335799072887: Received UDP payload: 446
1335799072889: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799072889: mux: Inside Packet.SERVER_REPLY
1335799072897: Received UDP payload: 446
1335799072899: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799072899: mux: Inside Packet.SERVER_REPLY
1335799073127: Received UDP payload: 5036
1335799073129: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799073129: mux: Inside Packet.SERVER_REPLY
1335799073151: canPressButton = TRUE
1335799073152: areButtonsEnabled --> false
1335799073152: areButtonsEnabled --> false 
1335799073152: get picture disableButtonsR
1335799073178: one more getNum: 18
1335799073179: ** Client of state 3 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335799073179: change local requestCounter to 70
1335799073179: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=17 takeCamGood=17 takeGoodSave=14 takeBad=0 takeTimedout=1 takePercent=82% getNum=18 getGood=6 getBad=7 getTimedout=2 getPercent=33%
1335799073180: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001070 Client in region: 0 Client nodID: 5001
1335799073192: Received UDP payload: 5036
1335799073194: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799073194: mux: Inside Packet.SERVER_REPLY
1335799073199: Received UDP payload: 446
1335799073204: Received UDP payload: 446
1335799073216: Received UDP payload: 989
1335799073219: mux: GOT CSM_Msg
1335799073223: ----------------------------
1335799073224: I'm a nonleader sending my requesting photos packet to my leader
1335799073224: Received UDP payload: 989
1335799073224: inside sendRequestPacketRepeatingRunnable for requestCount = 5001070
1335799073228: inside sendPacket(Packet p)
1335799073228: mux: GOT CSM_Msg
1335799073229: Sending UDP payload: 625
1335799073230: --- Finished one round of sending REQUEST Packet ---------
1335799073238: Received UDP payload: 989
1335799073241: mux: GOT CSM_Msg
1335799073244: Received UDP payload: 989
1335799073247: mux: GOT CSM_Msg
1335799073265: Received UDP payload: 989
1335799073268: mux: GOT CSM_Msg
1335799073277: Received UDP payload: 989
1335799073279: mux: GOT CSM_Msg
1335799073333: Received UDP payload: 5383
1335799073337: mux: GOT CSM_Msg
1335799073357: Received UDP payload: 989
1335799073359: mux: GOT CSM_Msg
1335799073375: Received UDP payload: 989
1335799073377: mux: GOT CSM_Msg
1335799073386: Received UDP payload: 989
1335799073388: mux: GOT CSM_Msg
1335799073396: Received UDP payload: 989
1335799073398: mux: GOT CSM_Msg
1335799073410: Received UDP payload: 989
1335799073412: mux: GOT CSM_Msg
1335799073418: Received UDP payload: 989
1335799073420: mux: GOT CSM_Msg
1335799073432: Received UDP payload: 989
1335799073434: mux: GOT CSM_Msg
1335799073478: Received UDP payload: 989
1335799073480: mux: GOT CSM_Msg
1335799073485: Received UDP payload: 446
1335799073493: Received UDP payload: 989
1335799073496: mux: GOT CSM_Msg
1335799073503: Received UDP payload: 989
1335799073507: mux: GOT CSM_Msg
1335799073541: ----------------------------
1335799073541: inside sendRequestPacketRepeatingRunnable for requestCount = 5001070
1335799073542: I'm a nonleader sending my requesting photos packet to my leader
1335799073542: inside sendPacket(Packet p)
1335799073543: --- Finished one round of sending REQUEST Packet ---------
1335799073543: Sending UDP payload: 625
1335799073601: Received UDP payload: 5383
1335799073604: mux: GOT CSM_Msg
1335799073843: ----------------------------
1335799073844: I'm a nonleader sending my requesting photos packet to my leader
1335799073844: inside sendRequestPacketRepeatingRunnable for requestCount = 5001070
1335799073845: --- Finished one round of sending REQUEST Packet ---------
1335799073845: inside sendPacket(Packet p)
1335799073846: Sending UDP payload: 625
1335799074147: ----------------------------
1335799074147: I'm a nonleader sending my requesting photos packet to my leader
1335799074147: inside sendPacket(Packet p)
1335799074147: inside sendRequestPacketRepeatingRunnable for requestCount = 5001070
1335799074148: Sending UDP payload: 625
1335799074149: --- Finished one round of sending REQUEST Packet ---------
1335799074186: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335799074245: Received UDP payload: 6831
1335799074247: mux: GOT CSM_Msg
1335799074255: Received UDP payload: 989
1335799074257: mux: GOT CSM_Msg
1335799074361: Received UDP payload: 5383
1335799074363: mux: GOT CSM_Msg
1335799074446: Received UDP payload: 6831
1335799074448: mux: GOT CSM_Msg
1335799074565: Received UDP payload: 989
1335799074567: mux: GOT CSM_Msg
1335799074600: Received UDP payload: 642
1335799074602: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799074602: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799074602: mux: Inside Packet.SERVER_REPLY
1335799074603: Inside _enableButtons
1335799074603: areButtonsEnabled --> true
1335799074603: disabling progressdialog due to successful new photo get
1335799074603: send final leg ack regardless of new or already-processed reply
1335799074604: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001071 Client in region: (0,0) Client nodID: 5001
1335799074604: I'm a nonleader client sending my final_leg packet to my leader
1335799074604: inside finalLegAck: change requestCounter to 71
1335799074604: inside sendPacket(Packet p)
1335799074605: Sending UDP payload: 446
1335799074606: csn discarding repeated replyCounter=500500020, but still sent an ack back
1335799074723: Received UDP payload: 6831
1335799074725: mux: GOT CSM_Msg
1335799074737: Received UDP payload: 989
1335799074740: mux: GOT CSM_Msg
1335799074834: Received UDP payload: 6831
1335799074836: mux: GOT CSM_Msg
1335799074983: Received UDP payload: 6831
1335799074986: mux: GOT CSM_Msg
1335799075004: Received UDP payload: 989
1335799075006: mux: GOT CSM_Msg
1335799075225: Received UDP payload: 6831
1335799075227: mux: GOT CSM_Msg
1335799075307: Received UDP payload: 989
1335799075313: mux: GOT CSM_Msg
1335799075325: Received UDP payload: 642
1335799075329: mux: Inside Packet.SERVER_REPLY
1335799075330: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799075339: Received UDP payload: 446
1335799075352: Received UDP payload: 989
1335799075358: mux: GOT CSM_Msg
1335799075360: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799075361: Inside _enableButtons
1335799075361: areButtonsEnabled --> true
1335799075361: disabling progressdialog due to successful new photo get
1335799075362: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001072 Client in region: (0,0) Client nodID: 5001
1335799075362: I'm a nonleader client sending my final_leg packet to my leader
1335799075362: inside finalLegAck: change requestCounter to 72
1335799075362: send final leg ack regardless of new or already-processed reply
1335799075363: Sending UDP payload: 446
1335799075363: inside sendPacket(Packet p)
1335799075364: csn discarding repeated replyCounter=500500020, but still sent an ack back
1335799075366: Received UDP payload: 989
1335799075368: mux: GOT CSM_Msg
1335799075383: Received UDP payload: 989
1335799075385: mux: GOT CSM_Msg
1335799075615: Received UDP payload: 5439
1335799075618: mux: GOT CSM_Msg
1335799075624: Received UDP payload: 446
1335799075625: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799075625: mux: Inside Packet.SERVER_REPLY
1335799075649: Received UDP payload: 989
1335799075651: mux: GOT CSM_Msg
1335799075672: Received UDP payload: 989
1335799075674: mux: GOT CSM_Msg
1335799075680: Received UDP payload: 642
1335799075681: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799075681: mux: Inside Packet.SERVER_REPLY
1335799075697: Received UDP payload: 989
1335799075699: mux: GOT CSM_Msg
1335799075719: Received UDP payload: 989
1335799075721: mux: GOT CSM_Msg
1335799075771: Received UDP payload: 989
1335799075773: mux: GOT CSM_Msg
1335799075781: Received UDP payload: 642
1335799075782: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799075782: mux: Inside Packet.SERVER_REPLY
1335799075848: Received UDP payload: 989
1335799075850: mux: GOT CSM_Msg
1335799075892: Received UDP payload: 989
1335799075894: mux: GOT CSM_Msg
1335799075979: Received UDP payload: 989
1335799075982: mux: GOT CSM_Msg
1335799076041: Received UDP payload: 6378
1335799076043: mux: Inside mux Packet.CLIENT_REQUEST
1335799076043: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799076137: Received UDP payload: 642
1335799076139: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799076139: mux: Inside Packet.SERVER_REPLY
1335799076172: Received UDP payload: 446
1335799076174: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799076174: mux: Inside Packet.SERVER_REPLY
1335799076188: Received UDP payload: 989
1335799076191: mux: GOT CSM_Msg
1335799076207: Received UDP payload: 989
1335799076210: mux: GOT CSM_Msg
1335799076284: Received UDP payload: 989
1335799076287: mux: GOT CSM_Msg
1335799076311: Received UDP payload: 989
1335799076313: mux: GOT CSM_Msg
1335799076442: Received UDP payload: 989
1335799076449: mux: GOT CSM_Msg
1335799076467: Received UDP payload: 989
1335799076471: mux: GOT CSM_Msg
1335799076502: Received UDP payload: 989
1335799076507: mux: GOT CSM_Msg
1335799076531: Received UDP payload: 6825
1335799076533: mux: Inside mux Packet.CLIENT_REQUEST
1335799076533: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799076597: Received UDP payload: 989
1335799076599: mux: GOT CSM_Msg
1335799076613: Received UDP payload: 989
1335799076615: mux: GOT CSM_Msg
1335799076635: Received UDP payload: 989
1335799076637: mux: GOT CSM_Msg
1335799076700: Received UDP payload: 989
1335799076702: mux: GOT CSM_Msg
1335799076712: Received UDP payload: 989
1335799076714: mux: GOT CSM_Msg
1335799076756: Received UDP payload: 989
1335799076758: mux: GOT CSM_Msg
1335799076785: Received UDP payload: 989
1335799076787: mux: GOT CSM_Msg
1335799077218: Received UDP payload: 625
1335799077221: mux: Inside mux Packet.CLIENT_REQUEST
1335799077221: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799077419: Received UDP payload: 989
1335799077423: mux: GOT CSM_Msg
1335799077428: Received UDP payload: 446
1335799077452: Received UDP payload: 625
1335799077454: mux: Inside mux Packet.CLIENT_REQUEST
1335799077454: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799077471: Received UDP payload: 989
1335799077475: mux: GOT CSM_Msg
1335799077781: Received UDP payload: 989
1335799077789: mux: GOT CSM_Msg
1335799077820: Received UDP payload: 989
1335799077828: mux: GOT CSM_Msg
1335799077835: Received UDP payload: 989
1335799077843: mux: GOT CSM_Msg
1335799077855: Received UDP payload: 989
1335799077858: mux: GOT CSM_Msg
1335799077922: Received UDP payload: 6234
1335799077925: mux: GOT CSM_Msg
1335799077965: Received UDP payload: 989
1335799077967: mux: GOT CSM_Msg
1335799077987: Received UDP payload: 989
1335799077989: mux: GOT CSM_Msg
1335799078012: Received UDP payload: 989
1335799078014: mux: GOT CSM_Msg
1335799078037: Received UDP payload: 989
1335799078039: mux: GOT CSM_Msg
1335799078183: Received UDP payload: 6234
1335799078185: mux: GOT CSM_Msg
1335799078247: Received UDP payload: 989
1335799078249: mux: GOT CSM_Msg
1335799078257: Received UDP payload: 989
1335799078259: mux: GOT CSM_Msg
1335799078294: Received UDP payload: 989
1335799078296: mux: GOT CSM_Msg
1335799078319: Received UDP payload: 989
1335799078321: mux: GOT CSM_Msg
1335799078360: Received UDP payload: 989
1335799078362: mux: GOT CSM_Msg
1335799078405: Received UDP payload: 989
1335799078408: mux: GOT CSM_Msg
1335799078742: Received UDP payload: 989
1335799078745: mux: GOT CSM_Msg
1335799078748: Received UDP payload: 446
1335799078749: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799078749: mux: Inside Packet.SERVER_REPLY
1335799078755: Received UDP payload: 446
1335799078757: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799078757: mux: Inside Packet.SERVER_REPLY
1335799078765: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799078766: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799078834: Received UDP payload: 446
1335799078869: Received UDP payload: 446
1335799078871: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799078871: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799078871: mux: Inside Packet.SERVER_REPLY
1335799078903: Received UDP payload: 446
1335799078905: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799078905: mux: Inside Packet.SERVER_REPLY
1335799078907: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799078941: Received UDP payload: 989
1335799078950: mux: GOT CSM_Msg
1335799078971: Received UDP payload: 989
1335799078973: mux: GOT CSM_Msg
1335799079017: Received UDP payload: 989
1335799079018: mux: GOT CSM_Msg
1335799079122: Received UDP payload: 446
1335799079431: Received UDP payload: 446
1335799079588: Received UDP payload: 989
1335799079598: mux: GOT CSM_Msg
1335799079620: Received UDP payload: 989
1335799079628: mux: GOT CSM_Msg
1335799079638: Received UDP payload: 989
1335799079646: mux: GOT CSM_Msg
1335799079981: Received UDP payload: 989
1335799079988: mux: GOT CSM_Msg
1335799079993: Received UDP payload: 989
1335799080029: mux: GOT CSM_Msg
1335799080053: Received UDP payload: 989
1335799080056: mux: GOT CSM_Msg
1335799080073: Received UDP payload: 989
1335799080076: mux: GOT CSM_Msg
1335799080161: Received UDP payload: 4666
1335799080162: mux: Inside mux Packet.CLIENT_REQUEST
1335799080163: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799080230: Received UDP payload: 989
1335799080232: mux: GOT CSM_Msg
1335799080251: Received UDP payload: 989
1335799080253: mux: GOT CSM_Msg
1335799080289: Received UDP payload: 446
1335799080305: Received UDP payload: 989
1335799080307: mux: GOT CSM_Msg
1335799080316: Received UDP payload: 446
1335799080334: Received UDP payload: 989
1335799080336: mux: GOT CSM_Msg
1335799080374: Received UDP payload: 642
1335799080376: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799080376: mux: Inside Packet.SERVER_REPLY
1335799080377: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799080377: disabling progressdialog due to successful new photo get
1335799080378: Inside _enableButtons
1335799080379: areButtonsEnabled --> true
1335799080379: send final leg ack regardless of new or already-processed reply
1335799080380: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001073 Client in region: (0,0) Client nodID: 5001
1335799080380: inside finalLegAck: change requestCounter to 73
1335799080381: I'm a nonleader client sending my final_leg packet to my leader
1335799080381: inside sendPacket(Packet p)
1335799080383: Sending UDP payload: 446
1335799080384: new client_show_remotephoto reply with replyCounter 500500025
1335799080385: note down new reply by adding replyCounter=500500025 to HashMap processedReplies
1335799080386: = nonleader download start 1335799074147 ~ stop 1335799080377
1335799080386: nonleader download remote photo latency = 6230
1335799080388: Can't get remote photo, because DSM Layer on originator leader timed out
1335799080393: one more getBad: 8
1335799080395: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=17 takeCamGood=17 takeGoodSave=14 takeBad=0 takeTimedout=1 takePercent=82% getNum=18 getGood=6 getBad=8 getTimedout=2 getPercent=33%
1335799080396: getBad++
1335799080403: Received UDP payload: 642
1335799080405: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799080405: mux: Inside Packet.SERVER_REPLY
1335799080422: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799080422: disabling progressdialog due to successful new photo get
1335799080423: Inside _enableButtons
1335799080423: areButtonsEnabled --> true
1335799080424: inside finalLegAck: change requestCounter to 74
1335799080424: send final leg ack regardless of new or already-processed reply
1335799080425: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001074 Client in region: (0,0) Client nodID: 5001
1335799080426: I'm a nonleader client sending my final_leg packet to my leader
1335799080426: inside sendPacket(Packet p)
1335799080428: Sending UDP payload: 446
1335799080429: csn discarding repeated replyCounter=500500025, but still sent an ack back
1335799080479: Received UDP payload: 4666
1335799080481: mux: Inside mux Packet.CLIENT_REQUEST
1335799080481: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799080526: Received UDP payload: 642
1335799080529: mux: Inside Packet.SERVER_REPLY
1335799080530: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799080538: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799080539: Inside _enableButtons
1335799080539: areButtonsEnabled --> true
1335799080539: disabling progressdialog due to successful new photo get
1335799080539: inside finalLegAck: change requestCounter to 75
1335799080539: send final leg ack regardless of new or already-processed reply
1335799080542: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001075 Client in region: (0,0) Client nodID: 5001
1335799080542: I'm a nonleader client sending my final_leg packet to my leader
1335799080542: inside sendPacket(Packet p)
1335799080543: csn discarding repeated replyCounter=500500025, but still sent an ack back
1335799080544: Sending UDP payload: 446
1335799080552: Received UDP payload: 642
1335799080558: mux: Inside Packet.SERVER_REPLY
1335799080559: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799080570: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799080570: disabling progressdialog due to successful new photo get
1335799080571: Inside _enableButtons
1335799080571: areButtonsEnabled --> true
1335799080572: inside finalLegAck: change requestCounter to 76
1335799080572: send final leg ack regardless of new or already-processed reply
1335799080573: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001076 Client in region: (0,0) Client nodID: 5001
1335799080574: I'm a nonleader client sending my final_leg packet to my leader
1335799080574: inside sendPacket(Packet p)
1335799080575: csn discarding repeated replyCounter=500500025, but still sent an ack back
1335799080577: Sending UDP payload: 446
1335799081848: areButtonsEnabled --> false
1335799081848: canPressButton = TRUE
1335799081849: areButtonsEnabled --> false
1335799081849: disabling buttons ...
1335799081849: took picture disableButtonsR
1335799081864: one more takeNum: 18
1335799081865: Clicked take picture button ..
1335799081865: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=18 takeCamGood=17 takeGoodSave=14 takeBad=0 takeTimedout=1 takePercent=77% getNum=18 getGood=6 getBad=8 getTimedout=2 getPercent=33%
1335799082409: Received UDP payload: 5383
1335799082414: mux: GOT CSM_Msg
1335799082543: Received UDP payload: 446
1335799082592: Received UDP payload: 5383
1335799082596: mux: GOT CSM_Msg
1335799082648: Received UDP payload: 5383
1335799082650: mux: GOT CSM_Msg
1335799082730: Received UDP payload: 446
1335799082865: Received UDP payload: 5383
1335799082867: mux: GOT CSM_Msg
1335799083002: Received UDP payload: 5383
1335799083004: mux: GOT CSM_Msg
1335799083085: Received UDP payload: 5383
1335799083087: mux: GOT CSM_Msg
1335799083254: Received UDP payload: 6742
1335799083257: Received UDP payload: 446
1335799083258: mux: GOT CSM_Msg
1335799083259: inside HandlePictureStorage onPictureTaken()
1335799083259: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799083259: mux: Inside Packet.SERVER_REPLY
1335799083259: one more takeCamGood: 18
1335799083260: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=18 takeCamGood=18 takeGoodSave=14 takeBad=0 takeTimedout=1 takePercent=77% getNum=18 getGood=6 getBad=8 getTimedout=2 getPercent=33%
1335799083282: Received UDP payload: 989
1335799083284: mux: GOT CSM_Msg
1335799083297: Received UDP payload: 642
1335799083298: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799083298: mux: Inside Packet.SERVER_REPLY
1335799083300: Received UDP payload: 642
1335799083302: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799083302: mux: Inside Packet.SERVER_REPLY
1335799083396: Received UDP payload: 446
1335799083403: Received UDP payload: 446
1335799083423: Received UDP payload: 446
1335799083450: Received UDP payload: 446
1335799083451: mux: Inside mux Packet.CLIENT_REQUEST
1335799083452: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799083456: Received UDP payload: 446
1335799083457: mux: Inside mux Packet.CLIENT_REQUEST
1335799083457: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799083520: Picture successfully taken, ORIG BYTE LENGTH = 2432841
1335799083574: Received UDP payload: 989
1335799083577: mux: GOT CSM_Msg
1335799083614: Received UDP payload: 642
1335799083616: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799083616: mux: Inside Packet.SERVER_REPLY
1335799083630: Received UDP payload: 642
1335799083632: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799083632: mux: Inside Packet.SERVER_REPLY
1335799083651: Received UDP payload: 642
1335799083653: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799083653: mux: Inside Packet.SERVER_REPLY
1335799083698: Received UDP payload: 446
1335799083711: Received UDP payload: 446
1335799083713: mux: Inside mux Packet.CLIENT_REQUEST
1335799083713: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799083719: Received UDP payload: 446
1335799083720: mux: Inside mux Packet.CLIENT_REQUEST
1335799083720: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799083724: Received UDP payload: 446
1335799083725: mux: Inside mux Packet.CLIENT_REQUEST
1335799083725: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799083738: Our new height x width: 306 x 408
1335799083738: Show photo from handle my camera take
1335799083739: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335799083739: change local requestCounter to 77
1335799083754: Received UDP payload: 446
1335799083756: mux: Inside mux Packet.CLIENT_REQUEST
1335799083756: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799083757: BYTE SIZE AFTER COMPRESSION: 4575
1335799083758: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001077 Client in region: 0 Client nodID: 5001
1335799083767: Received UDP payload: 989
1335799083769: mux: GOT CSM_Msg
1335799083783: Received UDP payload: 446
1335799083784: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799083784: mux: Inside Packet.SERVER_REPLY
1335799083795: ----------------------------
1335799083796: I'm a nonleader sending my requesting photos packet to my leader
1335799083796: inside sendPacket(Packet p)
1335799083796: inside sendRequestPacketRepeatingRunnable for requestCount = 5001077
1335799083797: Sending UDP payload: 5222
1335799083799: Received UDP payload: 642
1335799083803: --- Finished one round of sending REQUEST Packet ---------
1335799083803: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799083803: mux: Inside Packet.SERVER_REPLY
1335799083811: Received UDP payload: 446
1335799083813: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799083813: mux: Inside Packet.SERVER_REPLY
1335799083820: Received UDP payload: 446
1335799083821: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799083821: mux: Inside Packet.SERVER_REPLY
1335799083916: Received UDP payload: 989
1335799083919: mux: GOT CSM_Msg
1335799083973: Received UDP payload: 989
1335799083976: mux: GOT CSM_Msg
1335799084032: Received UDP payload: 989
1335799084034: mux: GOT CSM_Msg
1335799084040: Received UDP payload: 989
1335799084043: mux: GOT CSM_Msg
1335799084064: Received UDP payload: 989
1335799084067: mux: GOT CSM_Msg
1335799084073: Received UDP payload: 989
1335799084076: mux: GOT CSM_Msg
1335799084089: Received UDP payload: 446
1335799084090: mux: Inside mux Packet.CLIENT_REQUEST
1335799084090: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799084113: ----------------------------
1335799084113: Received UDP payload: 989
1335799084117: mux: GOT CSM_Msg
1335799084118: I'm a nonleader sending my requesting photos packet to my leader
1335799084118: inside sendPacket(Packet p)
1335799084118: inside sendRequestPacketRepeatingRunnable for requestCount = 5001077
1335799084119: Sending UDP payload: 5222
1335799084121: --- Finished one round of sending REQUEST Packet ---------
1335799084199: Received UDP payload: 989
1335799084203: mux: GOT CSM_Msg
1335799084213: Received UDP payload: 642
1335799084215: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799084215: mux: Inside Packet.SERVER_REPLY
1335799084270: Received UDP payload: 642
1335799084272: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799084272: mux: Inside Packet.SERVER_REPLY
1335799084275: Received UDP payload: 446
1335799084286: Received UDP payload: 642
1335799084287: mux: Inside Packet.SERVER_REPLY
1335799084288: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799084382: Received UDP payload: 446
1335799084383: mux: Inside mux Packet.CLIENT_REQUEST
1335799084383: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799084390: Received UDP payload: 446
1335799084392: mux: Inside mux Packet.CLIENT_REQUEST
1335799084392: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799084400: Received UDP payload: 446
1335799084401: mux: Inside mux Packet.CLIENT_REQUEST
1335799084401: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799084430: ----------------------------
1335799084430: inside sendRequestPacketRepeatingRunnable for requestCount = 5001077
1335799084431: I'm a nonleader sending my requesting photos packet to my leader
1335799084431: inside sendPacket(Packet p)
1335799084432: Sending UDP payload: 5222
1335799084433: --- Finished one round of sending REQUEST Packet ---------
1335799084555: Received UDP payload: 989
1335799084557: mux: GOT CSM_Msg
1335799084570: Received UDP payload: 446
1335799084735: ----------------------------
1335799084735: I'm a nonleader sending my requesting photos packet to my leader
1335799084735: inside sendRequestPacketRepeatingRunnable for requestCount = 5001077
1335799084736: inside sendPacket(Packet p)
1335799084737: Sending UDP payload: 5222
1335799084739: --- Finished one round of sending REQUEST Packet ---------
1335799084770: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335799084880: Received UDP payload: 446
1335799085367: Received UDP payload: 625
1335799085369: mux: Inside mux Packet.CLIENT_REQUEST
1335799085369: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799085733: Received UDP payload: 6234
1335799085736: mux: GOT CSM_Msg
1335799085787: Received UDP payload: 625
1335799085789: mux: Inside mux Packet.CLIENT_REQUEST
1335799085789: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799085823: Received UDP payload: 6234
1335799085826: mux: GOT CSM_Msg
1335799085830: Received UDP payload: 446
1335799085920: Received UDP payload: 625
1335799085922: mux: Inside mux Packet.CLIENT_REQUEST
1335799085922: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799087035: Received UDP payload: 22335
1335799087644: Received UDP payload: 642
1335799087647: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799087647: mux: Inside Packet.SERVER_REPLY
1335799087683: Received UDP payload: 989
1335799087687: mux: GOT CSM_Msg
1335799087710: Received UDP payload: 989
1335799087713: mux: GOT CSM_Msg
1335799087761: Received UDP payload: 989
1335799087764: mux: GOT CSM_Msg
1335799087769: Received UDP payload: 446
1335799087864: one more takeTimedout: 2
1335799087867: inside buttonsEnableProgressUploadTimeoutR. Timed out saving the photo you took.
1335799087867: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=18 takeCamGood=18 takeGoodSave=14 takeBad=0 takeTimedout=2 takePercent=77% getNum=18 getGood=6 getBad=8 getTimedout=2 getPercent=33%
1335799087873: Inside _enableButtons
1335799087874: areButtonsEnabled --> true
1335799087877: Received UDP payload: 989
1335799087881: mux: GOT CSM_Msg
1335799087902: Received UDP payload: 989
1335799087907: mux: GOT CSM_Msg
1335799087945: Received UDP payload: 989
1335799087947: mux: GOT CSM_Msg
1335799088129: Received UDP payload: 989
1335799088131: mux: GOT CSM_Msg
1335799088155: Received UDP payload: 446
1335799088156: mux: Inside mux Packet.CLIENT_REQUEST
1335799088156: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799088164: Received UDP payload: 446
1335799088166: mux: Inside mux Packet.CLIENT_REQUEST
1335799088166: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799088303: Received UDP payload: 6234
1335799088305: mux: GOT CSM_Msg
1335799088311: Received UDP payload: 446
1335799088313: mux: Inside mux Packet.CLIENT_REQUEST
1335799088313: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799088333: Received UDP payload: 625
1335799088335: mux: Inside mux Packet.CLIENT_REQUEST
1335799088335: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799088440: Received UDP payload: 989
1335799088442: mux: GOT CSM_Msg
1335799088451: Received UDP payload: 989
1335799088453: mux: GOT CSM_Msg
1335799088456: Received UDP payload: 6234
1335799088458: mux: GOT CSM_Msg
1335799088543: Received UDP payload: 989
1335799088545: mux: GOT CSM_Msg
1335799088725: Received UDP payload: 989
1335799088727: mux: GOT CSM_Msg
1335799088770: Received UDP payload: 625
1335799088771: mux: Inside mux Packet.CLIENT_REQUEST
1335799088772: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799088817: Received UDP payload: 989
1335799088819: mux: GOT CSM_Msg
1335799089401: Received UDP payload: 625
1335799089411: mux: Inside mux Packet.CLIENT_REQUEST
1335799089412: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799089504: Received UDP payload: 625
1335799089508: mux: Inside mux Packet.CLIENT_REQUEST
1335799089509: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799089516: Received UDP payload: 625
1335799089520: mux: Inside mux Packet.CLIENT_REQUEST
1335799089521: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799089620: Received UDP payload: 989
1335799089627: mux: GOT CSM_Msg
1335799089642: Received UDP payload: 989
1335799089649: mux: GOT CSM_Msg
1335799089651: Received UDP payload: 446
1335799089659: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799089659: mux: Inside Packet.SERVER_REPLY
1335799089670: Received UDP payload: 989
1335799089678: mux: GOT CSM_Msg
1335799089722: Received UDP payload: 446
1335799089747: Received UDP payload: 446
1335799089751: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799089751: mux: Inside Packet.SERVER_REPLY
1335799089762: Received UDP payload: 446
1335799089767: mux: Inside Packet.SERVER_REPLY
1335799089768: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799089781: Received UDP payload: 989
1335799089793: Received UDP payload: 989
1335799089793: mux: GOT CSM_Msg
1335799089803: Received UDP payload: 989
1335799089803: mux: GOT CSM_Msg
1335799089823: mux: GOT CSM_Msg
1335799089824: Received UDP payload: 989
1335799089838: Received UDP payload: 989
1335799089838: mux: GOT CSM_Msg
1335799089840: mux: GOT CSM_Msg
1335799089842: Received UDP payload: 989
1335799089845: Received UDP payload: 989
1335799089845: mux: GOT CSM_Msg
1335799089847: mux: GOT CSM_Msg
1335799089861: Received UDP payload: 989
1335799089863: mux: GOT CSM_Msg
1335799089881: Received UDP payload: 989
1335799089884: mux: GOT CSM_Msg
1335799089941: Received UDP payload: 989
1335799089943: mux: GOT CSM_Msg
1335799090017: Received UDP payload: 989
1335799090022: mux: GOT CSM_Msg
1335799090104: Received UDP payload: 989
1335799090109: mux: GOT CSM_Msg
1335799090126: Received UDP payload: 989
1335799090129: mux: GOT CSM_Msg
1335799090277: Received UDP payload: 446
1335799090345: Received UDP payload: 989
1335799090349: mux: GOT CSM_Msg
1335799090397: Received UDP payload: 989
1335799090401: mux: GOT CSM_Msg
1335799090411: Received UDP payload: 989
1335799090415: mux: GOT CSM_Msg
1335799090426: Received UDP payload: 989
1335799090428: mux: GOT CSM_Msg
1335799090448: Received UDP payload: 989
1335799090449: mux: GOT CSM_Msg
1335799090462: Received UDP payload: 989
1335799090464: mux: GOT CSM_Msg
1335799090469: Received UDP payload: 989
1335799090471: mux: GOT CSM_Msg
1335799090486: Received UDP payload: 989
1335799090488: mux: GOT CSM_Msg
1335799090509: Received UDP payload: 989
1335799090511: mux: GOT CSM_Msg
1335799090523: Received UDP payload: 642
1335799090524: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799090524: mux: Inside Packet.SERVER_REPLY
1335799090536: Received UDP payload: 642
1335799090537: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799090537: mux: Inside Packet.SERVER_REPLY
1335799090552: Received UDP payload: 446
1335799090553: mux: Inside mux Packet.CLIENT_REQUEST
1335799090553: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799090601: Received UDP payload: 989
1335799090603: mux: GOT CSM_Msg
1335799090624: areButtonsEnabled --> false
1335799090624: areButtonsEnabled --> false 
1335799090624: canPressButton = TRUE
1335799090624: get picture disableButtonsR
1335799090629: Received UDP payload: 446
1335799090630: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799090630: mux: Inside Packet.SERVER_REPLY
1335799090651: one more getNum: 19
1335799090652: ** Client of state 3 in region 0 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335799090652: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=18 takeCamGood=18 takeGoodSave=14 takeBad=0 takeTimedout=2 takePercent=77% getNum=19 getGood=6 getBad=8 getTimedout=2 getPercent=31%
1335799090653: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001078 Client in region: 0 Client nodID: 5001
1335799090653: change local requestCounter to 78
1335799090664: Received UDP payload: 642
1335799090666: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799090666: mux: Inside Packet.SERVER_REPLY
1335799090689: Received UDP payload: 446
1335799090691: ----------------------------
1335799090691: mux: Inside mux Packet.CLIENT_REQUEST
1335799090691: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799090692: I'm a nonleader sending my requesting photos packet to my leader
1335799090692: inside sendPacket(Packet p)
1335799090692: inside sendRequestPacketRepeatingRunnable for requestCount = 5001078
1335799090693: Sending UDP payload: 625
1335799090694: --- Finished one round of sending REQUEST Packet ---------
1335799090711: Received UDP payload: 446
1335799090712: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799090712: mux: Inside Packet.SERVER_REPLY
1335799090751: Received UDP payload: 446
1335799090752: mux: Inside mux Packet.CLIENT_REQUEST
1335799090752: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799090833: Received UDP payload: 989
1335799090835: mux: GOT CSM_Msg
1335799090852: Received UDP payload: 989
1335799090854: mux: GOT CSM_Msg
1335799090864: Received UDP payload: 989
1335799090866: mux: GOT CSM_Msg
1335799090894: Received UDP payload: 989
1335799090896: mux: GOT CSM_Msg
1335799090932: Received UDP payload: 446
1335799090933: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799090933: mux: Inside Packet.SERVER_REPLY
1335799090943: Received UDP payload: 989
1335799090945: mux: GOT CSM_Msg
1335799090974: Received UDP payload: 6234
1335799090976: mux: GOT CSM_Msg
1335799091018: ----------------------------
1335799091018: inside sendRequestPacketRepeatingRunnable for requestCount = 5001078
1335799091019: I'm a nonleader sending my requesting photos packet to my leader
1335799091020: inside sendPacket(Packet p)
1335799091022: --- Finished one round of sending REQUEST Packet ---------
1335799091022: Sending UDP payload: 625
1335799091026: Received UDP payload: 446
1335799091028: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799091028: mux: Inside Packet.SERVER_REPLY
1335799091037: Received UDP payload: 446
1335799091040: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799091040: mux: Inside Packet.SERVER_REPLY
1335799091049: Received UDP payload: 989
1335799091068: mux: GOT CSM_Msg
1335799091156: Received UDP payload: 6234
1335799091158: mux: GOT CSM_Msg
1335799091174: Received UDP payload: 989
1335799091177: mux: GOT CSM_Msg
1335799091205: Received UDP payload: 989
1335799091209: mux: GOT CSM_Msg
1335799091295: Received UDP payload: 989
1335799091297: mux: GOT CSM_Msg
1335799091305: Received UDP payload: 989
1335799091309: mux: GOT CSM_Msg
1335799091326: ----------------------------
1335799091326: I'm a nonleader sending my requesting photos packet to my leader
1335799091326: inside sendRequestPacketRepeatingRunnable for requestCount = 5001078
1335799091327: Sending UDP payload: 625
1335799091327: inside sendPacket(Packet p)
1335799091328: --- Finished one round of sending REQUEST Packet ---------
1335799091339: Received UDP payload: 989
1335799091341: mux: GOT CSM_Msg
1335799091477: Received UDP payload: 6234
1335799091479: mux: GOT CSM_Msg
1335799091630: ----------------------------
1335799091631: inside sendRequestPacketRepeatingRunnable for requestCount = 5001078
1335799091632: I'm a nonleader sending my requesting photos packet to my leader
1335799091633: inside sendPacket(Packet p)
1335799091635: --- Finished one round of sending REQUEST Packet ---------
1335799091637: Sending UDP payload: 625
1335799091641: Received UDP payload: 6234
1335799091667: mux: GOT CSM_Msg
1335799091681: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335799091724: Received UDP payload: 6234
1335799091728: mux: GOT CSM_Msg
1335799092574: Received UDP payload: 989
1335799092584: mux: GOT CSM_Msg
1335799092643: Received UDP payload: 989
1335799092652: mux: GOT CSM_Msg
1335799092680: Received UDP payload: 446
1335799092745: Received UDP payload: 642
1335799092747: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799092747: mux: Inside Packet.SERVER_REPLY
1335799092755: Received UDP payload: 642
1335799092757: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799092757: mux: Inside Packet.SERVER_REPLY
1335799092765: Received UDP payload: 642
1335799092767: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799092767: mux: Inside Packet.SERVER_REPLY
1335799092773: Received UDP payload: 642
1335799092776: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799092776: mux: Inside Packet.SERVER_REPLY
1335799092876: Received UDP payload: 446
1335799092878: mux: Inside mux Packet.CLIENT_REQUEST
1335799092878: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799092986: Received UDP payload: 446
1335799092988: mux: Inside mux Packet.CLIENT_REQUEST
1335799092988: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799092990: Received UDP payload: 446
1335799092992: mux: Inside mux Packet.CLIENT_REQUEST
1335799092992: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799093070: Received UDP payload: 5206
1335799093073: mux: GOT CSM_Msg
1335799093081: Received UDP payload: 989
1335799093084: mux: GOT CSM_Msg
1335799093293: Received UDP payload: 5422
1335799093299: mux: GOT CSM_Msg
1335799093365: Received UDP payload: 989
1335799093367: mux: GOT CSM_Msg
1335799094243: Received UDP payload: 446
1335799094759: Received UDP payload: 6437
1335799094767: mux: GOT CSM_Msg
1335799095205: Received UDP payload: 44762
1335799095275: Received UDP payload: 446
1335799095439: Missed 3 HEARTBEATS from LEADER, going to JOINING.
1335799095439: VCoreDaemon.java inside stateTransition ..........
1335799095440: ..... VCoreDaemon.java targetState = JOINING (0,0)
1335799095440: removing leaderRequestRetryR because I'm doing a stateTransition
1335799095441: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335799095441: posting leaderRequestRetryR because I'm joining
1335799095441: sending LEADER_REQUEST
1335799095443: inside sendPacket(Packet p)
1335799095446: Sending UDP payload: 446
1335799095447: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335799095748: inside sendPacket(Packet p)
1335799095748: sending LEADER_REQUEST
1335799095749: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335799095750: Sending UDP payload: 446
1335799096049: sending LEADER_REQUEST
1335799096050: inside sendPacket(Packet p)
1335799096050: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335799096051: Sending UDP payload: 446
1335799096351: sending LEADER_REQUEST
1335799096352: inside sendPacket(Packet p)
1335799096352: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335799096356: Sending UDP payload: 446
1335799096442: ..... VCoreDaemon.java targetState = LEADER
1335799096442: VCoreDaemon.java inside stateTransition ..........
1335799096442: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335799096442: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335799096442: removing leaderRequestRetryR because I'm doing a stateTransition
1335799096443: trying to take leadership (0,0) to the cloud
1335799096652: one more getTimedout: 3
1335799096653: inside buttonsEnableProgressTimeoutR. Perhaps no one is in that region. Try again later!
1335799096653: reg=0 id=5001 state=1 regionWidth=20.0 hyst=0.0 takeNum=18 takeCamGood=18 takeGoodSave=14 takeBad=0 takeTimedout=2 takePercent=77% getNum=19 getGood=6 getBad=8 getTimedout=3 getPercent=31%
1335799096657: Inside _enableButtons
1335799096657: areButtonsEnabled --> true
1335799096868: Received UDP payload: 989
1335799096871: mux: GOT CSM_Msg
1335799097022: cloud rejected leadership request or request failed, wait to retry
1335799097253: Received UDP payload: 5694
1335799097256: mux: GOT CSM_Msg
1335799097261: Received UDP payload: 446
1335799097262: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799097262: mux: Inside Packet.SERVER_REPLY
1335799097347: Received UDP payload: 989
1335799097349: mux: GOT CSM_Msg
1335799097363: Received UDP payload: 642
1335799097364: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799097364: mux: Inside Packet.SERVER_REPLY
1335799097453: Received UDP payload: 446
1335799097454: removing leaderRequestRetryR because heard Packet.Heartbeat
1335799097455: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335799097455: ..... VCoreDaemon.java targetState = NONLEADER
1335799097455: VCoreDaemon.java inside stateTransition ..........
1335799097455: heard HEARTBEAT from 5005, now following
1335799097455: now NONLEADER (id=5001) following LEADER (id=5005) in (0,0)
1335799097455: removing leaderRequestRetryR because I'm doing a stateTransition
1335799097578: Received UDP payload: 642
1335799097579: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799097579: mux: Inside Packet.SERVER_REPLY
1335799097668: Received UDP payload: 989
1335799097670: mux: GOT CSM_Msg
1335799097732: Received UDP payload: 642
1335799097736: mux: Inside Packet.SERVER_REPLY
1335799097737: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799097753: Received UDP payload: 989
1335799097758: mux: GOT CSM_Msg
1335799097944: Received UDP payload: 642
1335799097950: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799097950: mux: Inside Packet.SERVER_REPLY
1335799097962: Received UDP payload: 989
1335799097975: mux: GOT CSM_Msg
1335799098072: Received UDP payload: 989
1335799098079: mux: GOT CSM_Msg
1335799098100: Received UDP payload: 989
1335799098110: mux: GOT CSM_Msg
1335799098132: Received UDP payload: 446
1335799098597: Received UDP payload: 989
1335799098607: mux: GOT CSM_Msg
1335799098620: Received UDP payload: 989
1335799098640: Received UDP payload: 989
1335799098640: mux: GOT CSM_Msg
1335799098656: mux: GOT CSM_Msg
1335799098657: Received UDP payload: 989
1335799098659: Received UDP payload: 989
1335799098659: mux: GOT CSM_Msg
1335799098662: mux: GOT CSM_Msg
1335799098709: Received UDP payload: 625
1335799098710: mux: Inside mux Packet.CLIENT_REQUEST
1335799098710: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799098841: Received UDP payload: 446
1335799099055: Received UDP payload: 446
1335799099131: Received UDP payload: 625
1335799099132: mux: Inside mux Packet.CLIENT_REQUEST
1335799099133: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799099254: Received UDP payload: 6862
1335799099256: mux: Inside mux Packet.CLIENT_REQUEST
1335799099256: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799099434: Received UDP payload: 625
1335799099436: mux: Inside mux Packet.CLIENT_REQUEST
1335799099436: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799099483: Received UDP payload: 6862
1335799099485: mux: Inside mux Packet.CLIENT_REQUEST
1335799099486: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799099576: Received UDP payload: 989
1335799099579: mux: GOT CSM_Msg
1335799099718: Received UDP payload: 625
1335799099721: mux: Inside mux Packet.CLIENT_REQUEST
1335799099721: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799099800: Received UDP payload: 6862
1335799099802: mux: Inside mux Packet.CLIENT_REQUEST
1335799099802: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799100005: areButtonsEnabled --> false
1335799100005: canPressButton = TRUE
1335799100006: areButtonsEnabled --> false
1335799100006: disabling buttons ...
1335799100006: took picture disableButtonsR
1335799100032: one more takeNum: 19
1335799100034: Clicked take picture button ..
1335799100034: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=19 takeCamGood=18 takeGoodSave=14 takeBad=0 takeTimedout=2 takePercent=73% getNum=19 getGood=6 getBad=8 getTimedout=3 getPercent=31%
1335799100459: Received UDP payload: 446
1335799100528: Received UDP payload: 989
1335799100530: mux: GOT CSM_Msg
1335799100533: Received UDP payload: 446
1335799100534: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799100534: mux: Inside Packet.SERVER_REPLY
1335799100778: Received UDP payload: 5422
1335799100780: mux: GOT CSM_Msg
1335799100857: Received UDP payload: 5075
1335799100858: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799100858: mux: Inside Packet.SERVER_REPLY
1335799100862: Received UDP payload: 446
1335799101005: Received UDP payload: 5075
1335799101006: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799101006: mux: Inside Packet.SERVER_REPLY
1335799101037: Received UDP payload: 446
1335799101039: Received UDP payload: 446
1335799101040: mux: Inside mux Packet.CLIENT_REQUEST
1335799101040: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799101041: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799101041: mux: Inside Packet.SERVER_REPLY
1335799101067: Received UDP payload: 446
1335799101068: mux: Inside mux Packet.CLIENT_REQUEST
1335799101068: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799101428: inside HandlePictureStorage onPictureTaken()
1335799101428: one more takeCamGood: 19
1335799101431: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=19 takeCamGood=19 takeGoodSave=14 takeBad=0 takeTimedout=2 takePercent=73% getNum=19 getGood=6 getBad=8 getTimedout=3 getPercent=31%
1335799101694: Picture successfully taken, ORIG BYTE LENGTH = 2244656
1335799102058: Our new height x width: 306 x 408
1335799102058: Show photo from handle my camera take
1335799102059: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335799102060: change local requestCounter to 79
1335799102082: BYTE SIZE AFTER COMPRESSION: 4503
1335799102083: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001079 Client in region: 0 Client nodID: 5001
1335799102123: ----------------------------
1335799102123: I'm a nonleader sending my requesting photos packet to my leader
1335799102123: inside sendRequestPacketRepeatingRunnable for requestCount = 5001079
1335799102124: inside sendPacket(Packet p)
1335799102125: Sending UDP payload: 5150
1335799102128: --- Finished one round of sending REQUEST Packet ---------
1335799102243: Received UDP payload: 446
1335799102245: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799102245: mux: Inside Packet.SERVER_REPLY
1335799102266: Received UDP payload: 989
1335799102268: mux: GOT CSM_Msg
1335799102315: Received UDP payload: 446
1335799102316: mux: Inside mux Packet.CLIENT_REQUEST
1335799102316: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799102429: ----------------------------
1335799102430: I'm a nonleader sending my requesting photos packet to my leader
1335799102430: inside sendPacket(Packet p)
1335799102430: inside sendRequestPacketRepeatingRunnable for requestCount = 5001079
1335799102431: Sending UDP payload: 5150
1335799102432: --- Finished one round of sending REQUEST Packet ---------
1335799102448: Received UDP payload: 642
1335799102450: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799102450: mux: Inside Packet.SERVER_REPLY
1335799102519: Received UDP payload: 446
1335799102521: mux: Inside mux Packet.CLIENT_REQUEST
1335799102521: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799102569: Received UDP payload: 446
1335799102570: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799102570: mux: Inside Packet.SERVER_REPLY
1335799102732: ----------------------------
1335799102732: I'm a nonleader sending my requesting photos packet to my leader
1335799102732: inside sendRequestPacketRepeatingRunnable for requestCount = 5001079
1335799102733: inside sendPacket(Packet p)
1335799102734: Sending UDP payload: 5150
1335799102737: --- Finished one round of sending REQUEST Packet ---------
1335799102776: Received UDP payload: 642
1335799102778: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799102778: mux: Inside Packet.SERVER_REPLY
1335799102807: Received UDP payload: 446
1335799102809: mux: Inside mux Packet.CLIENT_REQUEST
1335799102809: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799103037: ----------------------------
1335799103037: inside sendRequestPacketRepeatingRunnable for requestCount = 5001079
1335799103038: I'm a nonleader sending my requesting photos packet to my leader
1335799103038: inside sendPacket(Packet p)
1335799103039: Sending UDP payload: 5150
1335799103041: --- Finished one round of sending REQUEST Packet ---------
1335799103084: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335799103683: Received UDP payload: 446
1335799103834: Received UDP payload: 989
1335799103847: mux: GOT CSM_Msg
1335799103931: Received UDP payload: 446
1335799104095: Received UDP payload: 5439
1335799104103: mux: GOT CSM_Msg
1335799104316: Received UDP payload: 446
1335799104321: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799104321: mux: Inside Packet.SERVER_REPLY
1335799104323: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799104522: Received UDP payload: 989
1335799104526: mux: GOT CSM_Msg
1335799104852: Received UDP payload: 446
1335799105232: Received UDP payload: 989
1335799105241: mux: GOT CSM_Msg
1335799105355: Received UDP payload: 989
1335799105358: mux: GOT CSM_Msg
1335799105446: Received UDP payload: 6509
1335799105449: mux: GOT CSM_Msg
1335799105476: Received UDP payload: 989
1335799105479: mux: GOT CSM_Msg
1335799105591: Received UDP payload: 989
1335799105594: mux: GOT CSM_Msg
1335799105596: Received UDP payload: 446
1335799105613: Received UDP payload: 446
1335799105632: Received UDP payload: 989
1335799105636: mux: GOT CSM_Msg
1335799105650: Received UDP payload: 989
1335799105654: mux: GOT CSM_Msg
1335799105745: Received UDP payload: 989
1335799105748: mux: GOT CSM_Msg
1335799105839: Received UDP payload: 989
1335799105841: mux: GOT CSM_Msg
1335799105892: Received UDP payload: 446
1335799105895: mux: Inside Packet.SERVER_REPLY
1335799105896: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799105921: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799105927: Received UDP payload: 989
1335799105939: mux: GOT CSM_Msg
1335799105947: Received UDP payload: 989
1335799105955: mux: GOT CSM_Msg
1335799105965: Received UDP payload: 989
1335799105972: mux: GOT CSM_Msg
1335799106032: one more takeTimedout: 3
1335799106034: inside buttonsEnableProgressUploadTimeoutR. Timed out saving the photo you took.
1335799106034: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=19 takeCamGood=19 takeGoodSave=14 takeBad=0 takeTimedout=3 takePercent=73% getNum=19 getGood=6 getBad=8 getTimedout=3 getPercent=31%
1335799106038: Inside _enableButtons
1335799106039: areButtonsEnabled --> true
1335799106081: Received UDP payload: 4980
1335799106083: mux: GOT CSM_Msg
1335799106087: Received UDP payload: 446
1335799106090: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799106090: mux: Inside Packet.SERVER_REPLY
1335799106099: Received UDP payload: 446
1335799106102: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799106102: mux: Inside Packet.SERVER_REPLY
1335799106128: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799106128: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799106186: Received UDP payload: 989
1335799106188: mux: GOT CSM_Msg
1335799106208: Received UDP payload: 989
1335799106214: mux: GOT CSM_Msg
1335799106246: Received UDP payload: 989
1335799106248: mux: GOT CSM_Msg
1335799106372: Received UDP payload: 989
1335799106374: mux: GOT CSM_Msg
1335799106380: Received UDP payload: 642
1335799106382: mux: Inside Packet.SERVER_REPLY
1335799106383: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799106396: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335799106397: disabling progressdialog due to successful new photo upload
1335799106398: Inside _enableButtons
1335799106398: areButtonsEnabled --> true
1335799106399: send final leg ack regardless of new or already-processed reply
1335799106400: inside finalLegAck: change requestCounter to 80
1335799106401: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001080 Client in region: (0,0) Client nodID: 5001
1335799106401: I'm a nonleader client sending my final_leg packet to my leader
1335799106402: inside sendPacket(Packet p)
1335799106404: Sending UDP payload: 446
1335799106404: new client_upload_photo_ack reply with replyCounter 500500028
1335799106404: nonleader upload new photo latency = 3358
1335799106404: note down new reply by adding replyCounter=500500028 to HashMap processedReplies
1335799106405: = nonleader upload start 1335799103038 ~ stop 1335799106396
1335799106406: one more takeGoodSave: 15
1335799106407: SUCCESS Client now knows saving photo on its leader succeeded
1335799106407: reg=0 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=19 takeCamGood=19 takeGoodSave=15 takeBad=0 takeTimedout=3 takePercent=78% getNum=19 getGood=6 getBad=8 getTimedout=3 getPercent=31%
1335799106429: Received UDP payload: 446
1335799106433: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799106433: mux: Inside Packet.SERVER_REPLY
1335799106453: Received UDP payload: 642
1335799106456: mux: Inside Packet.SERVER_REPLY
1335799106457: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799106469: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799106470: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335799106470: disabling progressdialog due to successful new photo upload
1335799106471: Inside _enableButtons
1335799106471: areButtonsEnabled --> true
1335799106472: inside finalLegAck: change requestCounter to 81
1335799106472: send final leg ack regardless of new or already-processed reply
1335799106473: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001081 Client in region: (0,0) Client nodID: 5001
1335799106474: I'm a nonleader client sending my final_leg packet to my leader
1335799106474: inside sendPacket(Packet p)
1335799106475: cupa discarding repeated replyCounter=500500028, but still sent an ack back
1335799106476: Sending UDP payload: 446
1335799106479: Received UDP payload: 446
1335799106490: Received UDP payload: 642
1335799106494: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799106494: mux: Inside Packet.SERVER_REPLY
1335799106508: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335799106509: disabling progressdialog due to successful new photo upload
1335799106510: Inside _enableButtons
1335799106510: areButtonsEnabled --> true
1335799106510: inside finalLegAck: change requestCounter to 82
1335799106510: send final leg ack regardless of new or already-processed reply
1335799106511: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001082 Client in region: (0,0) Client nodID: 5001
1335799106511: I'm a nonleader client sending my final_leg packet to my leader
1335799106511: inside sendPacket(Packet p)
1335799106512: Sending UDP payload: 446
1335799106513: cupa discarding repeated replyCounter=500500028, but still sent an ack back
1335799106559: Received UDP payload: 989
1335799106561: mux: GOT CSM_Msg
1335799106698: Received UDP payload: 989
1335799106707: mux: GOT CSM_Msg
1335799106730: Received UDP payload: 6357
1335799106741: mux: GOT CSM_Msg
1335799106745: Received UDP payload: 989
1335799106752: mux: GOT CSM_Msg
1335799106766: Received UDP payload: 989
1335799106773: mux: GOT CSM_Msg
1335799106822: Received UDP payload: 989
1335799106824: mux: GOT CSM_Msg
1335799106880: Received UDP payload: 642
1335799106882: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335799106882: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799106882: mux: Inside Packet.SERVER_REPLY
1335799106883: Inside _enableButtons
1335799106883: areButtonsEnabled --> true
1335799106883: disabling progressdialog due to successful new photo upload
1335799106883: inside finalLegAck: change requestCounter to 83
1335799106883: send final leg ack regardless of new or already-processed reply
1335799106884: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001083 Client in region: (0,0) Client nodID: 5001
1335799106884: I'm a nonleader client sending my final_leg packet to my leader
1335799106884: inside sendPacket(Packet p)
1335799106885: Sending UDP payload: 446
1335799106886: cupa discarding repeated replyCounter=500500028, but still sent an ack back
1335799107002: Received UDP payload: 989
1335799107004: mux: GOT CSM_Msg
1335799107122: Received UDP payload: 989
1335799107124: mux: GOT CSM_Msg
1335799107129: Received UDP payload: 446
1335799107399: Received UDP payload: 6357
1335799107403: mux: GOT CSM_Msg
1335799107744: Received UDP payload: 6357
1335799107748: mux: GOT CSM_Msg
1335799107847: Received UDP payload: 6357
1335799107854: mux: GOT CSM_Msg
1335799107965: Received UDP payload: 6357
1335799107972: mux: GOT CSM_Msg
1335799108071: Received UDP payload: 6357
1335799108073: mux: GOT CSM_Msg
1335799108080: Received UDP payload: 989
1335799108082: mux: GOT CSM_Msg
1335799108425: Received UDP payload: 4980
1335799108427: mux: GOT CSM_Msg
1335799108857: Received UDP payload: 446
1335799109351: Received UDP payload: 6015
1335799109359: mux: GOT CSM_Msg
1335799109899: Received UDP payload: 989
1335799109906: mux: GOT CSM_Msg
1335799109991: Received UDP payload: 6357
1335799109993: mux: GOT CSM_Msg
1335799110093: Received UDP payload: 6357
1335799110095: mux: GOT CSM_Msg
1335799110184: moving from region (0,0), to (1,0)
1335799110185: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335799110185: ..... VCoreDaemon.java targetState = JOINING (1,0)
1335799110185: VCoreDaemon.java inside stateTransition ..........
1335799110185: posting leaderRequestRetryR because I'm joining
1335799110185: removing leaderRequestRetryR because I'm doing a stateTransition
1335799110188: inside sendPacket(Packet p)
1335799110188: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335799110188: sending LEADER_REQUEST
1335799110189: Sending UDP payload: 446
1335799110473: Received UDP payload: 6357
1335799110475: mux: GOT CSM_Msg
1335799110485: Received UDP payload: 989
1335799110488: mux: GOT CSM_Msg
1335799110489: inside sendPacket(Packet p)
1335799110489: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335799110489: sending LEADER_REQUEST
1335799110490: Sending UDP payload: 446
1335799110514: Received UDP payload: 989
1335799110519: mux: GOT CSM_Msg
1335799110548: Received UDP payload: 989
1335799110550: mux: GOT CSM_Msg
1335799110555: Received UDP payload: 446
1335799110583: Received UDP payload: 989
1335799110585: mux: GOT CSM_Msg
1335799110600: Received UDP payload: 989
1335799110603: mux: GOT CSM_Msg
1335799110680: Received UDP payload: 989
1335799110683: mux: GOT CSM_Msg
1335799110750: Received UDP payload: 989
1335799110757: mux: GOT CSM_Msg
1335799110771: Received UDP payload: 642
1335799110776: mux: Inside Packet.SERVER_REPLY
1335799110777: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799110788: Received UDP payload: 989
1335799110795: mux: GOT CSM_Msg
1335799110795: sending LEADER_REQUEST
1335799110796: inside sendPacket(Packet p)
1335799110796: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335799110798: Sending UDP payload: 446
1335799110809: Received UDP payload: 642
1335799110814: mux: Inside Packet.SERVER_REPLY
1335799110817: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799110818: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799110819: disabling progressdialog due to successful new photo get
1335799110820: Inside _enableButtons
1335799110820: areButtonsEnabled --> true
1335799110821: send final leg ack regardless of new or already-processed reply
1335799110822: inside finalLegAck: change requestCounter to 84
1335799110823: Received UDP payload: 642
1335799110827: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799110827: mux: Inside Packet.SERVER_REPLY
1335799110829: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001084 Client in region: (1,0) Client nodID: 5001
1335799110829: new client_show_remotephoto reply with replyCounter 500500030
1335799110831: note down new reply by adding replyCounter=500500030 to HashMap processedReplies
1335799110832: nonleader download remote photo latency = 7780
1335799110833: = nonleader download start 1335799103038 ~ stop 1335799110818
1335799110838: Can't get remote photo, because DSM Layer on originator leader timed out
1335799110847: one more getBad: 9
1335799110849: reg=1 id=5001 state=1 regionWidth=20.0 hyst=0.0 takeNum=19 takeCamGood=19 takeGoodSave=15 takeBad=0 takeTimedout=3 takePercent=78% getNum=19 getGood=6 getBad=9 getTimedout=3 getPercent=31%
1335799110850: getBad++
1335799110853: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799110853: disabling progressdialog due to successful new photo get
1335799110854: Inside _enableButtons
1335799110855: areButtonsEnabled --> true
1335799110855: send final leg ack regardless of new or already-processed reply
1335799110856: inside finalLegAck: change requestCounter to 85
1335799110857: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001085 Client in region: (1,0) Client nodID: 5001
1335799110858: csn discarding repeated replyCounter=500500030, but still sent an ack back
1335799110893: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799110894: Inside _enableButtons
1335799110894: disabling progressdialog due to successful new photo get
1335799110895: areButtonsEnabled --> true
1335799110896: send final leg ack regardless of new or already-processed reply
1335799110897: inside finalLegAck: change requestCounter to 86
1335799110898: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001086 Client in region: (1,0) Client nodID: 5001
1335799110900: csn discarding repeated replyCounter=500500030, but still sent an ack back
1335799110950: Received UDP payload: 642
1335799110964: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799110964: mux: Inside Packet.SERVER_REPLY
1335799110978: Received UDP payload: 989
1335799110992: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799110993: Inside _enableButtons
1335799110993: disabling progressdialog due to successful new photo get
1335799110994: areButtonsEnabled --> true
1335799110995: send final leg ack regardless of new or already-processed reply
1335799110996: inside finalLegAck: change requestCounter to 87
1335799110997: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001087 Client in region: (1,0) Client nodID: 5001
1335799110998: csn discarding repeated replyCounter=500500030, but still sent an ack back
1335799111001: mux: GOT CSM_Msg
1335799111002: Received UDP payload: 989
1335799111021: mux: GOT CSM_Msg
1335799111022: Received UDP payload: 989
1335799111028: mux: GOT CSM_Msg
1335799111085: Received UDP payload: 989
1335799111087: mux: GOT CSM_Msg
1335799111092: Received UDP payload: 989
1335799111094: mux: GOT CSM_Msg
1335799111097: inside sendPacket(Packet p)
1335799111097: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335799111097: sending LEADER_REQUEST
1335799111098: Sending UDP payload: 446
1335799111185: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335799111186: ..... VCoreDaemon.java targetState = LEADER
1335799111186: VCoreDaemon.java inside stateTransition ..........
1335799111186: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335799111186: removing leaderRequestRetryR because I'm doing a stateTransition
1335799111186: trying to take leadership (1,0) to the cloud
1335799111194: Received UDP payload: 989
1335799111196: mux: GOT CSM_Msg
1335799111209: Received UDP payload: 989
1335799111211: mux: GOT CSM_Msg
1335799111223: Received UDP payload: 989
1335799111225: mux: GOT CSM_Msg
1335799111285: Received UDP payload: 989
1335799111287: mux: GOT CSM_Msg
1335799111297: Received UDP payload: 989
1335799111302: mux: GOT CSM_Msg
1335799111310: Received UDP payload: 989
1335799111312: mux: GOT CSM_Msg
1335799111328: Received UDP payload: 989
1335799111330: mux: GOT CSM_Msg
1335799111353: Received UDP payload: 989
1335799111355: mux: GOT CSM_Msg
1335799111381: Received UDP payload: 989
1335799111383: mux: GOT CSM_Msg
1335799111416: Received UDP payload: 446
1335799111424: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799111424: mux: Inside Packet.SERVER_REPLY
1335799111448: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799111475: Received UDP payload: 446
1335799111477: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799111477: mux: Inside Packet.SERVER_REPLY
1335799111495: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799111497: Received UDP payload: 446
1335799111528: cloud rejected leadership request or request failed, wait to retry
1335799111546: Received UDP payload: 989
1335799111548: mux: GOT CSM_Msg
1335799111560: Received UDP payload: 446
1335799111562: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799111562: mux: Inside Packet.SERVER_REPLY
1335799111566: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335799111574: Received UDP payload: 989
1335799111577: mux: GOT CSM_Msg
1335799111630: Received UDP payload: 989
1335799111632: mux: GOT CSM_Msg
1335799111668: Received UDP payload: 989
1335799111671: mux: GOT CSM_Msg
1335799111878: Received UDP payload: 989
1335799111880: mux: GOT CSM_Msg
1335799111903: Received UDP payload: 989
1335799111906: mux: GOT CSM_Msg
1335799111966: Received UDP payload: 989
1335799111968: mux: GOT CSM_Msg
1335799112013: Received UDP payload: 989
1335799112015: mux: GOT CSM_Msg
1335799112031: Received UDP payload: 989
1335799112033: mux: GOT CSM_Msg
1335799112041: Received UDP payload: 989
1335799112043: mux: GOT CSM_Msg
1335799112059: Received UDP payload: 989
1335799112061: mux: GOT CSM_Msg
1335799112083: Received UDP payload: 989
1335799112086: mux: GOT CSM_Msg
1335799112186: Received UDP payload: 989
1335799112188: mux: GOT CSM_Msg
1335799112196: Received UDP payload: 989
1335799112199: mux: GOT CSM_Msg
1335799112218: Received UDP payload: 989
1335799112221: mux: GOT CSM_Msg
1335799112347: Received UDP payload: 989
1335799112350: mux: GOT CSM_Msg
1335799112373: Received UDP payload: 989
1335799112377: mux: GOT CSM_Msg
1335799112382: Received UDP payload: 989
1335799112384: mux: GOT CSM_Msg
1335799112402: Received UDP payload: 989
1335799112408: mux: GOT CSM_Msg
1335799112437: Received UDP payload: 989
1335799112439: mux: GOT CSM_Msg
1335799112527: Received UDP payload: 989
1335799112530: mux: GOT CSM_Msg
1335799112537: Received UDP payload: 989
1335799112540: mux: GOT CSM_Msg
1335799112552: Received UDP payload: 989
1335799112557: mux: GOT CSM_Msg
1335799112718: Received UDP payload: 989
1335799112721: mux: GOT CSM_Msg
1335799112731: Received UDP payload: 989
1335799112735: mux: GOT CSM_Msg
1335799112751: Received UDP payload: 446
1335799112754: ..... VCoreDaemon.java targetState = NONLEADER
1335799112754: VCoreDaemon.java inside stateTransition ..........
1335799112754: heard HEARTBEAT from 5006, now following
1335799112754: now NONLEADER (id=5001) following LEADER (id=5006) in (1,0)
1335799112754: removing leaderRequestRetryR because I'm doing a stateTransition
1335799112754: removing leaderRequestRetryR because heard Packet.Heartbeat
1335799112755: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335799112812: Received UDP payload: 4980
1335799112814: mux: GOT CSM_Msg
1335799112880: Received UDP payload: 989
1335799112882: mux: GOT CSM_Msg
1335799113006: Received UDP payload: 4980
1335799113008: mux: GOT CSM_Msg
1335799113863: Received UDP payload: 989
1335799113874: mux: GOT CSM_Msg
1335799113886: Received UDP payload: 989
1335799113893: mux: GOT CSM_Msg
1335799113907: Received UDP payload: 989
1335799113916: mux: GOT CSM_Msg
1335799113939: Received UDP payload: 989
1335799113947: mux: GOT CSM_Msg
1335799113969: Received UDP payload: 989
1335799113971: mux: GOT CSM_Msg
1335799114023: Received UDP payload: 989
1335799114026: mux: GOT CSM_Msg
1335799114033: Received UDP payload: 989
1335799114036: mux: GOT CSM_Msg
1335799114049: Received UDP payload: 989
1335799114055: mux: GOT CSM_Msg
1335799114077: Received UDP payload: 989
1335799114079: mux: GOT CSM_Msg
1335799114100: Received UDP payload: 989
1335799114103: mux: GOT CSM_Msg
1335799114130: Received UDP payload: 989
1335799114133: mux: GOT CSM_Msg
1335799114150: Received UDP payload: 989
1335799114152: mux: GOT CSM_Msg
1335799114215: Received UDP payload: 989
1335799114218: mux: GOT CSM_Msg
1335799114283: Received UDP payload: 989
1335799114286: mux: GOT CSM_Msg
1335799114292: Received UDP payload: 989
1335799114295: mux: GOT CSM_Msg
1335799114524: Received UDP payload: 989
1335799114527: mux: GOT CSM_Msg
1335799115038: Received UDP payload: 989
1335799115049: mux: GOT CSM_Msg
1335799115065: Received UDP payload: 989
1335799115072: mux: GOT CSM_Msg
1335799115093: Received UDP payload: 989
1335799115101: mux: GOT CSM_Msg
1335799115111: Received UDP payload: 989
1335799115114: mux: GOT CSM_Msg
1335799115178: Received UDP payload: 989
1335799115180: mux: GOT CSM_Msg
1335799115198: Received UDP payload: 989
1335799115200: mux: GOT CSM_Msg
1335799115244: Received UDP payload: 989
1335799115246: mux: GOT CSM_Msg
1335799115307: Received UDP payload: 989
1335799115309: mux: GOT CSM_Msg
1335799115320: Received UDP payload: 989
1335799115322: mux: GOT CSM_Msg
1335799115333: Received UDP payload: 989
1335799115335: mux: GOT CSM_Msg
1335799115345: Received UDP payload: 989
1335799115347: mux: GOT CSM_Msg
1335799115361: Received UDP payload: 989
1335799115363: mux: GOT CSM_Msg
1335799115370: Received UDP payload: 989
1335799115372: mux: GOT CSM_Msg
1335799115388: Received UDP payload: 989
1335799115390: mux: GOT CSM_Msg
1335799115403: Received UDP payload: 989
1335799115405: mux: GOT CSM_Msg
1335799115414: Received UDP payload: 989
1335799115416: mux: GOT CSM_Msg
1335799115428: Received UDP payload: 989
1335799115430: mux: GOT CSM_Msg
1335799115468: Received UDP payload: 989
1335799115470: mux: GOT CSM_Msg
1335799115558: Received UDP payload: 989
1335799115560: mux: GOT CSM_Msg
1335799115566: Received UDP payload: 446
1335799115819: Received UDP payload: 989
1335799115822: mux: GOT CSM_Msg
1335799115827: Received UDP payload: 989
1335799115829: mux: GOT CSM_Msg
1335799115847: Received UDP payload: 989
1335799115850: mux: GOT CSM_Msg
1335799115879: Received UDP payload: 989
1335799115881: mux: GOT CSM_Msg
1335799115891: Received UDP payload: 989
1335799115893: mux: GOT CSM_Msg
1335799115924: Received UDP payload: 989
1335799115926: mux: GOT CSM_Msg
1335799115936: Received UDP payload: 989
1335799115939: mux: GOT CSM_Msg
1335799115956: Received UDP payload: 989
1335799115959: mux: GOT CSM_Msg
1335799115971: Received UDP payload: 989
1335799115974: mux: GOT CSM_Msg
1335799115990: Received UDP payload: 989
1335799115993: mux: GOT CSM_Msg
1335799116002: Received UDP payload: 989
1335799116004: mux: GOT CSM_Msg
1335799116036: Received UDP payload: 989
1335799116038: mux: GOT CSM_Msg
1335799116051: Received UDP payload: 989
1335799116054: mux: GOT CSM_Msg
1335799116073: Received UDP payload: 989
1335799116076: mux: GOT CSM_Msg
1335799116090: Received UDP payload: 989
1335799116092: mux: GOT CSM_Msg
1335799116116: Received UDP payload: 989
1335799116118: mux: GOT CSM_Msg
1335799116138: Received UDP payload: 989
1335799116140: mux: GOT CSM_Msg
1335799116162: Received UDP payload: 989
1335799116167: mux: GOT CSM_Msg
1335799116173: Received UDP payload: 989
1335799116176: mux: GOT CSM_Msg
1335799116196: Received UDP payload: 989
1335799116198: mux: GOT CSM_Msg
1335799116214: Received UDP payload: 989
1335799116217: mux: GOT CSM_Msg
1335799116236: Received UDP payload: 989
1335799116238: mux: GOT CSM_Msg
1335799116253: Received UDP payload: 989
1335799116256: mux: GOT CSM_Msg
1335799116290: Received UDP payload: 989
1335799116293: mux: GOT CSM_Msg
1335799116323: Received UDP payload: 989
1335799116326: mux: GOT CSM_Msg
1335799116382: Received UDP payload: 989
1335799116384: mux: GOT CSM_Msg
1335799116400: Received UDP payload: 989
1335799116402: mux: GOT CSM_Msg
1335799116414: Received UDP payload: 989
1335799116416: mux: GOT CSM_Msg
1335799116471: Received UDP payload: 989
1335799116473: mux: GOT CSM_Msg
1335799116493: Received UDP payload: 989
1335799116496: mux: GOT CSM_Msg
1335799116536: Received UDP payload: 989
1335799116539: mux: GOT CSM_Msg
1335799116616: Received UDP payload: 989
1335799116618: mux: GOT CSM_Msg
1335799116631: Received UDP payload: 989
1335799116634: mux: GOT CSM_Msg
1335799116640: Received UDP payload: 989
1335799116642: mux: GOT CSM_Msg
1335799116708: Received UDP payload: 989
1335799116710: mux: GOT CSM_Msg
1335799116728: Received UDP payload: 989
1335799116729: mux: GOT CSM_Msg
1335799116928: Received UDP payload: 989
1335799116931: mux: GOT CSM_Msg
1335799116945: Received UDP payload: 989
1335799116948: mux: GOT CSM_Msg
1335799116960: Received UDP payload: 989
1335799116962: mux: GOT CSM_Msg
1335799117024: Received UDP payload: 989
1335799117027: mux: GOT CSM_Msg
1335799117043: Received UDP payload: 989
1335799117049: mux: GOT CSM_Msg
1335799117060: Received UDP payload: 989
1335799117062: mux: GOT CSM_Msg
1335799117106: Received UDP payload: 989
1335799117108: mux: GOT CSM_Msg
1335799117120: Received UDP payload: 989
1335799117123: mux: GOT CSM_Msg
1335799117164: Received UDP payload: 989
1335799117182: mux: GOT CSM_Msg
1335799117183: Received UDP payload: 989
1335799117191: Received UDP payload: 989
1335799117191: mux: GOT CSM_Msg
1335799117194: mux: GOT CSM_Msg
1335799117202: Received UDP payload: 989
1335799117210: mux: GOT CSM_Msg
1335799117218: Received UDP payload: 989
1335799117221: mux: GOT CSM_Msg
1335799117250: Received UDP payload: 989
1335799117254: mux: GOT CSM_Msg
1335799117280: Received UDP payload: 989
1335799117283: mux: GOT CSM_Msg
1335799117298: Received UDP payload: 989
1335799117300: mux: GOT CSM_Msg
1335799117320: Received UDP payload: 989
1335799117323: mux: GOT CSM_Msg
1335799117339: Received UDP payload: 989
1335799117341: mux: GOT CSM_Msg
1335799117354: Received UDP payload: 989
1335799117357: mux: GOT CSM_Msg
1335799117368: Received UDP payload: 989
1335799117370: mux: GOT CSM_Msg
1335799117377: Received UDP payload: 989
1335799117379: mux: GOT CSM_Msg
1335799117395: Received UDP payload: 989
1335799117397: mux: GOT CSM_Msg
1335799117415: Received UDP payload: 989
1335799117417: mux: GOT CSM_Msg
1335799117424: Received UDP payload: 989
1335799117426: mux: GOT CSM_Msg
1335799117433: Received UDP payload: 642
1335799117435: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799117435: mux: Inside Packet.SERVER_REPLY
1335799117444: Received UDP payload: 989
1335799117448: mux: GOT CSM_Msg
1335799117453: Received UDP payload: 642
1335799117455: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799117455: mux: Inside Packet.SERVER_REPLY
1335799117461: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799117461: Inside _enableButtons
1335799117461: disabling progressdialog due to successful new photo get
1335799117462: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001088 Client in region: (1,0) Client nodID: 5001
1335799117462: I'm a nonleader client sending my final_leg packet to my leader
1335799117462: areButtonsEnabled --> true
1335799117462: inside finalLegAck: change requestCounter to 88
1335799117462: send final leg ack regardless of new or already-processed reply
1335799117463: Sending UDP payload: 446
1335799117463: inside sendPacket(Packet p)
1335799117464: new client_show_remotephoto reply with replyCounter 500500032
1335799117464: note down new reply by adding replyCounter=500500032 to HashMap processedReplies
1335799117465: = nonleader download start 1335799103038 ~ stop 1335799117461
1335799117465: nonleader download remote photo latency = 14423
1335799117466: Can't get remote photo, because DSM Layer on originator leader timed out
1335799117469: one more getBad: 10
1335799117470: getBad++
1335799117470: reg=1 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=19 takeCamGood=19 takeGoodSave=15 takeBad=0 takeTimedout=3 takePercent=78% getNum=19 getGood=6 getBad=10 getTimedout=3 getPercent=31%
1335799117471: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799117471: Inside _enableButtons
1335799117471: areButtonsEnabled --> true
1335799117471: disabling progressdialog due to successful new photo get
1335799117471: send final leg ack regardless of new or already-processed reply
1335799117472: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001089 Client in region: (1,0) Client nodID: 5001
1335799117472: I'm a nonleader client sending my final_leg packet to my leader
1335799117472: inside finalLegAck: change requestCounter to 89
1335799117472: inside sendPacket(Packet p)
1335799117474: Sending UDP payload: 446
1335799117474: csn discarding repeated replyCounter=500500032, but still sent an ack back
1335799117512: Received UDP payload: 5030
1335799117514: mux: GOT CSM_Msg
1335799117516: Received UDP payload: 446
1335799117518: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799117518: mux: Inside Packet.SERVER_REPLY
1335799117534: Received UDP payload: 446
1335799117535: mux: Inside Packet.SERVER_REPLY
1335799117536: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799117559: Received UDP payload: 989
1335799117561: mux: GOT CSM_Msg
1335799117567: Received UDP payload: 642
1335799117568: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799117568: mux: Inside Packet.SERVER_REPLY
1335799117576: Received UDP payload: 642
1335799117578: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799117578: mux: Inside Packet.SERVER_REPLY
1335799117593: Received UDP payload: 642
1335799117594: mux: Inside Packet.SERVER_REPLY
1335799117595: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799117595: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799117596: Inside _enableButtons
1335799117596: areButtonsEnabled --> true
1335799117596: disabling progressdialog due to successful new photo get
1335799117597: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001090 Client in region: (1,0) Client nodID: 5001
1335799117597: I'm a nonleader client sending my final_leg packet to my leader
1335799117597: inside finalLegAck: change requestCounter to 90
1335799117597: send final leg ack regardless of new or already-processed reply
1335799117598: Sending UDP payload: 446
1335799117598: inside sendPacket(Packet p)
1335799117599: csn discarding repeated replyCounter=500500032, but still sent an ack back
1335799117612: Received UDP payload: 642
1335799117614: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335799117614: disabling progressdialog due to successful new photo get
1335799117614: mux: I have the photo requester id = 5001 about to display photo or receive upload ack
1335799117614: mux: Inside Packet.SERVER_REPLY
1335799117615: Inside _enableButtons
1335799117615: areButtonsEnabled --> true
1335799117615: send final leg ack regardless of new or already-processed reply
1335799117616: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5001091 Client in region: (1,0) Client nodID: 5001
1335799117616: I'm a nonleader client sending my final_leg packet to my leader
1335799117616: inside finalLegAck: change requestCounter to 91
1335799117619: Sending UDP payload: 446
1335799117619: inside sendPacket(Packet p)
1335799117620: csn discarding repeated replyCounter=500500032, but still sent an ack back
1335799117653: Received UDP payload: 642
1335799117655: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799117655: mux: Inside Packet.SERVER_REPLY
1335799117664: Received UDP payload: 989
1335799117666: mux: GOT CSM_Msg
1335799117701: Received UDP payload: 642
1335799117702: mux: Ignoring SERVER_REPLY since it's not for me  5001
1335799117702: mux: Inside Packet.SERVER_REPLY
1335799117770: Received UDP payload: 6944
1335799117772: mux: GOT CSM_Msg
1335799117784: Received UDP payload: 989
1335799117786: mux: GOT CSM_Msg
1335799117805: Received UDP payload: 989
1335799117807: mux: GOT CSM_Msg
1335799117842: Received UDP payload: 989
1335799117844: mux: GOT CSM_Msg
1335799117868: Received UDP payload: 989
1335799117870: mux: GOT CSM_Msg
1335799117910: Received UDP payload: 989
1335799117912: mux: GOT CSM_Msg
1335799117943: Received UDP payload: 6944
1335799117945: mux: GOT CSM_Msg
1335799118021: Received UDP payload: 989
1335799118023: mux: GOT CSM_Msg
1335799118165: Received UDP payload: 989
1335799118167: mux: GOT CSM_Msg
1335799118180: Received UDP payload: 989
1335799118182: mux: GOT CSM_Msg
1335799118283: Received UDP payload: 989
1335799118285: mux: GOT CSM_Msg
1335799118386: Received UDP payload: 446
1335799118594: Received UDP payload: 6015
1335799118598: mux: GOT CSM_Msg
1335799118986: Received UDP payload: 6944
1335799118994: mux: GOT CSM_Msg
1335799119095: Received UDP payload: 6015
1335799119097: mux: GOT CSM_Msg
1335799119259: areButtonsEnabled --> false
1335799119259: canPressButton = TRUE
1335799119259: disabling buttons ...
1335799119260: areButtonsEnabled --> false
1335799119260: took picture disableButtonsR
1335799119265: Received UDP payload: 6944
1335799119267: mux: GOT CSM_Msg
1335799119284: one more takeNum: 20
1335799119285: reg=1 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=20 takeCamGood=19 takeGoodSave=15 takeBad=0 takeTimedout=3 takePercent=75% getNum=19 getGood=6 getBad=10 getTimedout=3 getPercent=31%
1335799119286: Clicked take picture button ..
1335799119311: Received UDP payload: 6015
1335799119313: mux: GOT CSM_Msg
1335799119656: Received UDP payload: 6944
1335799119658: mux: GOT CSM_Msg
1335799119930: Received UDP payload: 6944
1335799119932: mux: GOT CSM_Msg
1335799120046: Received UDP payload: 6015
1335799120048: mux: GOT CSM_Msg
1335799120580: inside HandlePictureStorage onPictureTaken()
1335799120581: one more takeCamGood: 20
1335799120582: reg=1 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=20 takeCamGood=20 takeGoodSave=15 takeBad=0 takeTimedout=3 takePercent=75% getNum=19 getGood=6 getBad=10 getTimedout=3 getPercent=31%
1335799120824: Received UDP payload: 6015
1335799120827: mux: GOT CSM_Msg
1335799120846: Picture successfully taken, ORIG BYTE LENGTH = 2972723
1335799120927: Received UDP payload: 446
1335799121013: Received UDP payload: 6015
1335799121015: mux: GOT CSM_Msg
1335799121128: Our new height x width: 306 x 408
1335799121128: Show photo from handle my camera take
1335799121129: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335799121129: change local requestCounter to 92
1335799121143: BYTE SIZE AFTER COMPRESSION: 6103
1335799121144: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5001092 Client in region: 1 Client nodID: 5001
1335799121171: ----------------------------
1335799121172: I'm a nonleader sending my requesting photos packet to my leader
1335799121172: inside sendPacket(Packet p)
1335799121172: inside sendRequestPacketRepeatingRunnable for requestCount = 5001092
1335799121173: Sending UDP payload: 6750
1335799121176: --- Finished one round of sending REQUEST Packet ---------
1335799121258: Received UDP payload: 6015
1335799121260: mux: GOT CSM_Msg
1335799121477: ----------------------------
1335799121477: I'm a nonleader sending my requesting photos packet to my leader
1335799121477: inside sendPacket(Packet p)
1335799121477: inside sendRequestPacketRepeatingRunnable for requestCount = 5001092
1335799121478: Sending UDP payload: 6750
1335799121479: --- Finished one round of sending REQUEST Packet ---------
1335799121619: Received UDP payload: 6944
1335799121621: mux: GOT CSM_Msg
1335799121779: ----------------------------
1335799121780: I'm a nonleader sending my requesting photos packet to my leader
1335799121780: inside sendPacket(Packet p)
1335799121780: inside sendRequestPacketRepeatingRunnable for requestCount = 5001092
1335799121782: Sending UDP payload: 6750
1335799121783: --- Finished one round of sending REQUEST Packet ---------
1335799121909: Received UDP payload: 6015
1335799121913: mux: GOT CSM_Msg
1335799122083: ----------------------------
1335799122084: I'm a nonleader sending my requesting photos packet to my leader
1335799122084: inside sendRequestPacketRepeatingRunnable for requestCount = 5001092
1335799122085: inside sendPacket(Packet p)
1335799122086: Sending UDP payload: 6750
1335799122089: --- Finished one round of sending REQUEST Packet ---------
1335799122144: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335799122973: Received UDP payload: 6944
1335799122981: mux: GOT CSM_Msg
1335799123251: Received UDP payload: 6944
1335799123262: mux: GOT CSM_Msg
1335799123926: Received UDP payload: 6652
1335799123936: mux: GOT CSM_Msg
1335799124026: Received UDP payload: 989
1335799124028: mux: GOT CSM_Msg
1335799125286: one more takeTimedout: 4
1335799125290: reg=1 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=20 takeCamGood=20 takeGoodSave=15 takeBad=0 takeTimedout=4 takePercent=75% getNum=19 getGood=6 getBad=10 getTimedout=3 getPercent=31%
1335799125291: inside buttonsEnableProgressUploadTimeoutR. Timed out saving the photo you took.
1335799125312: Inside _enableButtons
1335799125314: areButtonsEnabled --> true
1335799125555: Received UDP payload: 446
1335799126009: Received UDP payload: 4489
1335799126011: mux: Inside mux Packet.CLIENT_REQUEST
1335799126011: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799126074: Received UDP payload: 625
1335799126076: mux: Inside mux Packet.CLIENT_REQUEST
1335799126076: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799126106: Received UDP payload: 625
1335799126108: mux: Inside mux Packet.CLIENT_REQUEST
1335799126108: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799127225: Received UDP payload: 6015
1335799127233: mux: GOT CSM_Msg
1335799127764: Received UDP payload: 5011
1335799127766: mux: Inside mux Packet.CLIENT_REQUEST
1335799127766: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799127874: Received UDP payload: 5011
1335799127876: mux: Inside mux Packet.CLIENT_REQUEST
1335799127876: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799128020: Received UDP payload: 5011
1335799128025: mux: Inside mux Packet.CLIENT_REQUEST
1335799128025: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335799128718: Received UDP payload: 4980
1335799128725: mux: GOT CSM_Msg
1335799128834: Received UDP payload: 6229
1335799128841: mux: GOT CSM_Msg
1335799129069: Received UDP payload: 4980
1335799129078: mux: GOT CSM_Msg
1335799129513: Received UDP payload: 4980
1335799129523: mux: GOT CSM_Msg
1335799129686: Received UDP payload: 989
1335799129688: Received UDP payload: 446
1335799129689: mux: GOT CSM_Msg
1335799129702: Received UDP payload: 446
1335799129708: Received UDP payload: 446
1335799129847: canPressButton = TRUE
1335799129848: areButtonsEnabled --> false
1335799129848: areButtonsEnabled --> false 
1335799129848: get picture disableButtonsR
1335799129864: one more getNum: 20
1335799129867: reg=1 id=5001 state=3 regionWidth=20.0 hyst=0.0 takeNum=20 takeCamGood=20 takeGoodSave=15 takeBad=0 takeTimedout=4 takePercent=75% getNum=20 getGood=6 getBad=10 getTimedout=3 getPercent=30%
1335799129868: ** Client of state 3 in region 1 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335799129869: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5001093 Client in region: 1 Client nodID: 5001
1335799129869: change local requestCounter to 93
1335799129901: ----------------------------
1335799129901: I'm a nonleader sending my requesting photos packet to my leader
1335799129901: inside sendPacket(Packet p)
1335799129901: inside sendRequestPacketRepeatingRunnable for requestCount = 5001093
1335799129902: Sending UDP payload: 625
1335799129904: --- Finished one round of sending REQUEST Packet ---------
1335799130204: ----------------------------
1335799130204: inside sendRequestPacketRepeatingRunnable for requestCount = 5001093
1335799130205: I'm a nonleader sending my requesting photos packet to my leader
1335799130205: inside sendPacket(Packet p)
1335799130206: Sending UDP payload: 625
1335799130208: --- Finished one round of sending REQUEST Packet ---------
1335799130454: Missed 3 HEARTBEATS from LEADER, going to JOINING.
1335799130454: VCoreDaemon.java inside stateTransition ..........
1335799130454: removing leaderRequestRetryR because I'm doing a stateTransition
1335799130455: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335799130455: ..... VCoreDaemon.java targetState = JOINING (1,0)
1335799130455: posting leaderRequestRetryR because I'm joining
1335799130456: inside sendPacket(Packet p)
1335799130456: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335799130456: sending LEADER_REQUEST
1335799130458: Sending UDP payload: 446
1335799130524: ----------------------------
1335799130525: --- Finished one round of sending REQUEST Packet ---------
1335799130525: inside sendRequestPacketRepeatingRunnable for requestCount = 5001093
1335799130579: Received UDP payload: 446
1335799130757: sending LEADER_REQUEST
1335799130758: inside sendPacket(Packet p)
1335799130758: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335799130759: Sending UDP payload: 446
1335799130827: --- Finished one round of sending REQUEST Packet ---------
1335799130827: ----------------------------
1335799130827: inside sendRequestPacketRepeatingRunnable for requestCount = 5001093
1335799130869: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
