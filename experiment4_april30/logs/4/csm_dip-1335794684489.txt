1335794684493: *** Opened log file for writing ***
1335794684493: Android build: SAMSUNG-SGH-I717
1335794684494: NET_NAME set to: eth0
1335794684494: starting Mux with id = -1
1335794684495: areButtonsEnabled --> true
1335794684496: *** Application started ***
1335794684496: HI I'm in ONRESUME()
1335794684500: SAMPLING_DISTANCE : 1, SAMPLING_DURATION : 1000
1335794684503: ************ GPS turned OFF *************
1335794684514: mux: Mux.java run() beginning -------------
1335794684534: mux: Mux.java's nodeId is5018
1335794684534: mux: starting vncDaemon ........
1335794684535: Started VCoreDaemon with parameters maxRx = 5 , maxRY= 1
1335794684541: VCoreDaemon.java onStart() ....
1335794684541: mux: vncDaemon started
1335794684542: ..... VCoreDaemon.java out of bounds
1335794684542: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335794684542: VCoreDaemon.java inside stateTransition ..........
1335794684542: region (-1, -1) out of bounds, dormant
1335794684542: removing leaderRequestRetryR because I'm doing a stateTransition
1335794684542: started, mId = 5018
1335795003047: Received UDP payload: 446
1335795007223: Received UDP payload: 446
1335795012239: Received UDP payload: 446
1335795017251: Received UDP payload: 446
1335795019572: Received UDP payload: 446
1335795020133: Received UDP payload: 446
1335795020432: Received UDP payload: 446
1335795021960: Received UDP payload: 446
1335795022251: Received UDP payload: 446
1335795026526: Received UDP payload: 446
1335795027251: Received UDP payload: 446
1335795031545: Received UDP payload: 446
1335795032265: Received UDP payload: 446
1335795036591: Received UDP payload: 446
1335795037273: Received UDP payload: 446
1335795040596: Received UDP payload: 446
1335795040877: Received UDP payload: 446
1335795041052: Received UDP payload: 446
1335795041358: Received UDP payload: 446
1335795041409: Received UDP payload: 446
1335795041464: Received UDP payload: 446
1335795041597: Received UDP payload: 446
1335795041632: Received UDP payload: 446
1335795041931: Received UDP payload: 446
1335795042998: Received UDP payload: 446
1335795043121: Received UDP payload: 446
1335795043755: Received UDP payload: 989
1335795043789: mux: GOT CSM_Msg
1335795044075: Received UDP payload: 446
1335795044079: Received UDP payload: 446
1335795044090: Received UDP payload: 446
1335795044282: Received UDP payload: 446
1335795044640: Received UDP payload: 446
1335795044755: Received UDP payload: 446
1335795045055: Received UDP payload: 446
1335795045814: Received UDP payload: 446
1335795045895: Received UDP payload: 446
1335795047279: Received UDP payload: 446
1335795047822: Received UDP payload: 446
1335795048000: Received UDP payload: 446
1335795049195: Received UDP payload: 446
1335795049558: Received UDP payload: 446
1335795049758: VCoreDaemon.java inside stateTransition ..........
1335795049758: moving from region (-1,-1), to (5,0)
1335795049758: removing leaderRequestRetryR because I'm doing a stateTransition
1335795049759: ..... VCoreDaemon.java targetState = JOINING (5,0)
1335795049759: posting leaderRequestRetryR because I'm joining
1335795049760: inside sendPacket(Packet p)
1335795049760: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795049760: sending LEADER_REQUEST
1335795049766: Sending UDP payload: 446
1335795049768: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335795049864: Received UDP payload: 446
1335795050061: inside sendPacket(Packet p)
1335795050061: sending LEADER_REQUEST
1335795050062: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795050068: Sending UDP payload: 446
1335795050363: inside sendPacket(Packet p)
1335795050363: sending LEADER_REQUEST
1335795050364: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795050369: Sending UDP payload: 446
1335795050545: Received UDP payload: 446
1335795050664: sending LEADER_REQUEST
1335795050665: inside sendPacket(Packet p)
1335795050665: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795050682: Sending UDP payload: 446
1335795050768: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335795050769: ..... VCoreDaemon.java targetState = LEADER
1335795050769: VCoreDaemon.java inside stateTransition ..........
1335795050769: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335795050769: removing leaderRequestRetryR because I'm doing a stateTransition
1335795050770: trying to take leadership (5,0) to the cloud
1335795051485: cloud accepted leadership request, no csm data included.
1335795051487: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1335795051488: *** CSM Layer starting with cache disabled ***
1335795051488: *** Starting CSM Layer ***
1335795051490: *** CSM Layer starting with forwarding disabled ***
1335795051527: DSMLayer starting
1335795051537: UserApp started.
1335795051538: UserApp for Camera Diploma initialized and waiting for requests.
1335795051589: Received UDP payload: 446
1335795051695: inside sendPacket(Packet p)
1335795051695: now fully up as LEADER (id=5018) of (5,0)
1335795051696: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335795051698: Sending UDP payload: 22318
1335795052270: Received UDP payload: 446
1335795052487: Received UDP payload: 989
1335795052496: forwarding disabled, not forwarding packets
1335795052496: mux: GOT CSM_Msg
1335795052514: Received UDP payload: 989
1335795052524: forwarding disabled, not forwarding packets
1335795052524: mux: GOT CSM_Msg
1335795052998: Received UDP payload: 446
1335795053472: Received UDP payload: 446
1335795054133: Received UDP payload: 989
1335795054152: mux: GOT CSM_Msg
1335795054153: forwarding disabled, not forwarding packets
1335795055042: inside sendPacket(Packet p)
1335795055047: Sending UDP payload: 446
1335795055110: Received UDP payload: 989
1335795055124: forwarding disabled, not forwarding packets
1335795055124: mux: GOT CSM_Msg
1335795055343: Received UDP payload: 446
1335795055527: Received UDP payload: 446
1335795055536: heard LEADER_REQUEST from node 5011, responding LEADER_REPLY
1335795055664: inside sendPacket(Packet p)
1335795055673: Sending UDP payload: 22335
1335795056029: Received UDP payload: 446
1335795056039: heard LEADER_REQUEST from node 5011, responding LEADER_REPLY
1335795056176: inside sendPacket(Packet p)
1335795056201: Sending UDP payload: 22335
1335795056554: Received UDP payload: 446
1335795056556: heard LEADER_REQUEST from node 5011, responding LEADER_REPLY
1335795056635: inside sendPacket(Packet p)
1335795056646: Sending UDP payload: 22335
1335795057137: Received UDP payload: 446
1335795057286: Received UDP payload: 446
1335795058088: Received UDP payload: 446
1335795058474: Received UDP payload: 446
1335795058607: areButtonsEnabled --> false
1335795058607: canPressButton = TRUE
1335795058608: areButtonsEnabled --> false
1335795058608: disabling buttons ...
1335795058608: took picture disableButtonsR
1335795058682: one more takeNum: 1
1335795058683: Clicked take picture button ..
1335795058683: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=0 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335795060043: inside sendPacket(Packet p)
1335795060060: Sending UDP payload: 446
1335795060135: Received UDP payload: 5229
1335795060160: mux: Inside mux Packet.CLIENT_REQUEST
1335795060165: inside HandlePictureStorage onPictureTaken()
1335795060165: one more takeCamGood: 1
1335795060166: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=0 takeBad=0 takeTimedout=0 takePercent=0% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335795060195: Received UDP payload: 446
1335795060199: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795060199: mux: Inside Packet.SERVER_REPLY
1335795060206: Received UDP payload: 989
1335795060211: forwarding disabled, not forwarding packets
1335795060211: mux: GOT CSM_Msg
1335795060242: Received UDP payload: 446
1335795060244: mux: Inside mux Packet.CLIENT_REQUEST
1335795060430: Picture successfully taken, ORIG BYTE LENGTH = 3271674
1335795060460: Received UDP payload: 446
1335795060636: Our new height x width: 306 x 408
1335795060637: Show photo from handle my camera take
1335795060638: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335795060638: change local requestCounter to 1
1335795060652: BYTE SIZE AFTER COMPRESSION: 3161
1335795060658: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5018001 Client in region: 5 Client nodID: 5018
1335795060700: ----------------------------
1335795060700: I'm a leader, my requesting photos packet going to mux directly
1335795060700: inside sendRequestPacketRepeatingRunnable for requestCount = 5018001
1335795060701: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795060701: mux: Inside mux Packet.CLIENT_REQUEST
1335795060702: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335795060702: got new request, requestCounter = 5018001
1335795060702: inside handleClientRequest. Originator leader of region 5
1335795060703: Dispatching Atom PROC_REQUEST 10:0 (5,0)->(5,0)
1335795060703: Make FirstLeg Ack regardless of new or already-processed requests
1335795060703: Note down new request by adding requestCounter=5018001 to HashMap processedRequests
1335795060703: Sending PROC_REQUEST 10:0 (5,0)->(5,0)
1335795060704: mux: I got a CSM packet at a leader 
1335795060704: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795060713: --- Finished one round of sending REQUEST Packet ---------
1335795060713: Sending UDP payload: 4172
1335795060720: inside handleDSMRequest. At requests's remote leader of region 5
1335795060720: removed replies before id 0 from sentReplies of size 0
1335795060723: Inside UPLOAD_PHOTO!!
1335795060729: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335795060729: my_gpinfo.isSuccess is now (should be true): true
1335795060732: Received PROC_REQUEST 10:0 (5,0)->(5,0), replying PROC_REPLY 10:0 (5,0)->(5,0)
1335795060733: Dispatching Atom PROC_REPLY 10:0 (5,0)->(5,0)
1335795060733: mux: I got a CSM packet at a leader 
1335795060740: Sending UDP payload: 989
1335795060742: Received PROC_REPLY 10:0 (5,0)->(5,0), handing to UserApp
1335795060742: inside handleDSMReply. Now back in originator leader of region 5
1335795060743: DSM layer: Going to and from remote region took latency = 40
1335795060743: DSM layer: orig leader sent packet at 1335795060702 ~ received reply from remote leader at 1335795060742
1335795060744: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795060744: change leader replyCounter to: 1
1335795060745: =======================
1335795060745: inside sendReplies of replyCount = 501800001
1335795060745: inside sendReplyRepeatingRunnable for replyCount = 501800001
1335795060745: reply packet contains the success info for UPLOAD_PHOTO
1335795060746: === Finished one round of sending REPLY Packet =======
1335795060746: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795060746: Leader about to send REPLY packet, number: 501800001 type: 16 Leader in region: (5,0) to Client nodID: 5018
1335795060751: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795060752: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335795060753: I'm a leader and I successfully saved my client's new photo
1335795060753: now showing in UI the new photo I just saved ... 
1335795060754: the photo length: 3161
1335795060794: end of server show photo aside %%%%%%%%%
1335795060796: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335795060797: Inside _enableButtons
1335795060797: disabling progressdialog due to successful new photo upload
1335795060798: areButtonsEnabled --> true
1335795060798: send final leg ack regardless of new or already-processed reply
1335795060799: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018002 Client in region: (5,0) Client nodID: 5018
1335795060799: I'm a leader client, my final_leg packet going to mux directly
1335795060799: inside finalLegAck: change requestCounter to 2
1335795060800: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800001
1335795060800: Yay the last leg succeeded. Removing reply runnables ...
1335795060800: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800001
1335795060800: got new request, requestCounter = 5018002
1335795060800: inside handleClientRequest. Originator leader of region 5
1335795060800: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795060800: mux: Inside mux Packet.CLIENT_REQUEST
1335795060801: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800001
1335795060801: do not send ack for received final_leg_ack
1335795060802: new client_upload_photo_ack reply with replyCounter 501800001
1335795060802: note down new reply by adding replyCounter=501800001 to HashMap processedReplies
1335795060803: = leader upload start 1335795060701 ~ stop 1335795060796
1335795060803: leader upload new photo latency = 95
1335795060804: one more takeGoodSave: 1
1335795060805: SUCCESS Client now knows saving photo on its leader succeeded
1335795060805: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=0 getGood=0 getBad=0 getTimedout=0 getPercent=-1%
1335795061165: Received UDP payload: 4759
1335795061167: mux: Inside mux Packet.CLIENT_REQUEST
1335795061295: Received UDP payload: 446
1335795061302: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795061302: mux: Inside Packet.SERVER_REPLY
1335795061307: Received UDP payload: 989
1335795061330: forwarding disabled, not forwarding packets
1335795061330: mux: GOT CSM_Msg
1335795061350: Received UDP payload: 446
1335795061353: mux: Inside mux Packet.CLIENT_REQUEST
1335795061641: Received UDP payload: 446
1335795061644: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795061644: mux: Inside Packet.SERVER_REPLY
1335795061760: Received UDP payload: 989
1335795061767: forwarding disabled, not forwarding packets
1335795061767: mux: GOT CSM_Msg
1335795061772: Received UDP payload: 642
1335795061777: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795061777: mux: Inside Packet.SERVER_REPLY
1335795061804: Received UDP payload: 446
1335795061809: mux: Inside mux Packet.CLIENT_REQUEST
1335795062423: Received UDP payload: 446
1335795063004: Received UDP payload: 446
1335795063541: Received UDP payload: 446
1335795065044: inside sendPacket(Packet p)
1335795065059: Sending UDP payload: 446
1335795065144: Received UDP payload: 989
1335795065148: forwarding disabled, not forwarding packets
1335795065148: mux: GOT CSM_Msg
1335795065341: Received UDP payload: 446
1335795066616: Received UDP payload: 446
1335795067289: Received UDP payload: 446
1335795067670: Received UDP payload: 625
1335795067678: mux: Inside mux Packet.CLIENT_REQUEST
1335795067728: Received UDP payload: 989
1335795067738: mux: GOT CSM_Msg
1335795067739: inside handleDSMRequest. At requests's remote leader of region 5
1335795067739: removed replies before id 0 from sentReplies of size 0
1335795067742: INSIDE SERVER_GET_PHOTO!!!
1335795067747: Received PROC_REQUEST 11:0 (2,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(2,0)
1335795067749: Received UDP payload: 446
1335795067755: Dispatching Atom PROC_REPLY 11:0 (5,0)->(2,0)
1335795067757: mux: I got a CSM packet at a leader 
1335795067765: Sending UDP payload: 4172
1335795067766: forwarding disabled, not forwarding packets
1335795067767: mux: Inside Packet.SERVER_REPLY
1335795067770: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795068005: Received UDP payload: 446
1335795068520: Received UDP payload: 989
1335795068534: mux: GOT CSM_Msg
1335795068536: removed replies before id 0 from sentReplies of size 1
1335795068552: Received DUPLICATE PROC_REQUEST 11:0 (2,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(2,0)
1335795068554: Dispatching Atom PROC_REPLY 11:0 (5,0)->(2,0)
1335795068555: mux: I got a CSM packet at a leader 
1335795068571: Sending UDP payload: 4172
1335795068581: forwarding disabled, not forwarding packets
1335795068604: Received UDP payload: 4957
1335795068607: mux: GOT CSM_Msg
1335795068608: forwarding disabled, not forwarding packets
1335795068616: Received UDP payload: 989
1335795068619: mux: GOT CSM_Msg
1335795068619: removed replies before id 0 from sentReplies of size 1
1335795068620: Received DUPLICATE PROC_REQUEST 11:0 (2,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(2,0)
1335795068621: Dispatching Atom PROC_REPLY 11:0 (5,0)->(2,0)
1335795068621: mux: I got a CSM packet at a leader 
1335795068622: Sending UDP payload: 4172
1335795068624: forwarding disabled, not forwarding packets
1335795068771: Received UDP payload: 989
1335795068775: forwarding disabled, not forwarding packets
1335795068775: mux: GOT CSM_Msg
1335795068828: Received UDP payload: 446
1335795069004: Received UDP payload: 3825
1335795069007: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795069007: mux: Inside Packet.SERVER_REPLY
1335795069047: Received UDP payload: 446
1335795069050: mux: Inside mux Packet.CLIENT_REQUEST
1335795069423: areButtonsEnabled --> false 
1335795069423: canPressButton = TRUE
1335795069423: get picture disableButtonsR
1335795069424: areButtonsEnabled --> false
1335795069454: one more getNum: 1
1335795069455: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=0 getBad=0 getTimedout=0 getPercent=0%
1335795069456: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795069456: change local requestCounter to 3
1335795069457: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018003 Client in region: 5 Client nodID: 5018
1335795069490: ----------------------------
1335795069491: inside sendRequestPacketRepeatingRunnable for requestCount = 5018003
1335795069492: I'm a leader, my requesting photos packet going to mux directly
1335795069492: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795069492: got new request, requestCounter = 5018003
1335795069492: inside handleClientRequest. Originator leader of region 5
1335795069492: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795069492: mux: Inside mux Packet.CLIENT_REQUEST
1335795069493: Sending to region: 5
1335795069494: Sending PROC_REQUEST 11:1 (5,0)->(5,0)
1335795069496: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(5,0)
1335795069497: Make FirstLeg Ack regardless of new or already-processed requests
1335795069497: Note down new request by adding requestCounter=5018003 to HashMap processedRequests
1335795069497: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795069498: mux: I got a CSM packet at a leader 
1335795069500: Sending UDP payload: 989
1335795069501: inside handleDSMRequest. At requests's remote leader of region 5
1335795069501: removed replies before id 1 from sentReplies of size 0
1335795069503:  1 self to self atomRequest
1335795069503: INSIDE SERVER_GET_PHOTO!!!
1335795069503: dst_region == src_region = 5
1335795069505: --- Finished one round of sending REQUEST Packet ---------
1335795069519: Received PROC_REQUEST 11:1 (5,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(5,0)
1335795069520: Dispatching Atom PROC_REPLY 11:1 (5,0)->(5,0)
1335795069520: mux: I got a CSM packet at a leader 
1335795069523: Sending UDP payload: 4172
1335795069532: DSM layer: Going to and from remote region took latency = 39
1335795069532: Received PROC_REPLY 11:1 (5,0)->(5,0), handing to UserApp
1335795069532: inside handleDSMReply. Now back in originator leader of region 5
1335795069534: DSM layer: orig leader sent packet at 1335795069493 ~ received reply from remote leader at 1335795069532
1335795069535: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795069535: change leader replyCounter to: 2
1335795069535: inside sendReplies of replyCount = 501800002
1335795069535: reply packet contains the newest photo/success info from the remote region
1335795069546: === Finished one round of sending REPLY Packet =======
1335795069546: =======================
1335795069546: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795069546: Leader about to send REPLY packet, number: 501800002 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795069546: inside sendReplyRepeatingRunnable for replyCount = 501800002
1335795069558: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795069567: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795069567: disabling progressdialog due to successful new photo get
1335795069568: Inside _enableButtons
1335795069568: areButtonsEnabled --> true
1335795069568: send final leg ack regardless of new or already-processed reply
1335795069569: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018004 Client in region: (5,0) Client nodID: 5018
1335795069569: I'm a leader client, my final_leg packet going to mux directly
1335795069569: inside finalLegAck: change requestCounter to 4
1335795069569: mux: Inside mux Packet.CLIENT_REQUEST
1335795069570: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800002
1335795069570: Yay the last leg succeeded. Removing reply runnables ...
1335795069570: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800002
1335795069570: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800002
1335795069570: do not send ack for received final_leg_ack
1335795069570: got new request, requestCounter = 5018004
1335795069570: inside handleClientRequest. Originator leader of region 5
1335795069570: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795069571: new client_show_remotephoto reply with replyCounter 501800002
1335795069571: note down new reply by adding replyCounter=501800002 to HashMap processedReplies
1335795069572: = leader download start 1335795069492 ~ stop 1335795069567
1335795069572: leader download remote photo latency = 75
1335795069573: one more getGood: 1
1335795069574: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=1 getGood=1 getBad=0 getTimedout=0 getPercent=100%
1335795069574: successful reply for client get photo
1335795069575: Success! Client getting photo from remote region, showing photo...
1335795069577: Remote photo's length: 3161
1335795069923: Received UDP payload: 625
1335795069937: mux: Inside mux Packet.CLIENT_REQUEST
1335795069969: Received UDP payload: 989
1335795069990: forwarding disabled, not forwarding packets
1335795069990: mux: GOT CSM_Msg
1335795070002: Received UDP payload: 446
1335795070008: mux: Inside Packet.SERVER_REPLY
1335795070010: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795070045: inside sendPacket(Packet p)
1335795070054: Sending UDP payload: 446
1335795070390: Received UDP payload: 446
1335795070846: Received UDP payload: 989
1335795070863: mux: GOT CSM_Msg
1335795070864: forwarding disabled, not forwarding packets
1335795070943: Received UDP payload: 989
1335795070945: mux: GOT CSM_Msg
1335795070946: forwarding disabled, not forwarding packets
1335795071600: Received UDP payload: 446
1335795071784: Received UDP payload: 5656
1335795071796: mux: Inside Packet.SERVER_REPLY
1335795071798: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795071819: Received UDP payload: 446
1335795071827: mux: Inside mux Packet.CLIENT_REQUEST
1335795072136: Received UDP payload: 989
1335795072141: forwarding disabled, not forwarding packets
1335795072141: mux: GOT CSM_Msg
1335795072287: Received UDP payload: 446
1335795072291: Received UDP payload: 6003
1335795072295: forwarding disabled, not forwarding packets
1335795072295: mux: GOT CSM_Msg
1335795073011: Received UDP payload: 446
1335795073203: Received UDP payload: 625
1335795073205: mux: Inside mux Packet.CLIENT_REQUEST
1335795073257: Received UDP payload: 989
1335795073269: forwarding disabled, not forwarding packets
1335795073269: mux: GOT CSM_Msg
1335795073274: canPressButton = TRUE
1335795073275: areButtonsEnabled --> false
1335795073275: areButtonsEnabled --> false 
1335795073275: get picture disableButtonsR
1335795073279: Received UDP payload: 446
1335795073281: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795073281: mux: Inside Packet.SERVER_REPLY
1335795073302: one more getNum: 2
1335795073303: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795073303: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=1 getBad=0 getTimedout=0 getPercent=50%
1335795073304: change local requestCounter to 5
1335795073308: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018005 Client in region: 5 Client nodID: 5018
1335795073340: ----------------------------
1335795073342: I'm a leader, my requesting photos packet going to mux directly
1335795073342: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795073342: got new request, requestCounter = 5018005
1335795073342: inside handleClientRequest. Originator leader of region 5
1335795073342: inside sendRequestPacketRepeatingRunnable for requestCount = 5018005
1335795073342: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795073342: mux: Inside mux Packet.CLIENT_REQUEST
1335795073344: Sending to region: 5
1335795073345: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(5,0)
1335795073345: Make FirstLeg Ack regardless of new or already-processed requests
1335795073345: Note down new request by adding requestCounter=5018005 to HashMap processedRequests
1335795073345: Sending PROC_REQUEST 11:2 (5,0)->(5,0)
1335795073345: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795073346: mux: I got a CSM packet at a leader 
1335795073350: Sending UDP payload: 989
1335795073351: --- Finished one round of sending REQUEST Packet ---------
1335795073353: removed replies before id 2 from sentReplies of size 0
1335795073354: inside handleDSMRequest. At requests's remote leader of region 5
1335795073355: INSIDE SERVER_GET_PHOTO!!!
1335795073368: dst_region == src_region = 5
1335795073369:  1 self to self atomRequest
1335795073370: Dispatching Atom PROC_REPLY 11:2 (5,0)->(5,0)
1335795073370: Received PROC_REQUEST 11:2 (5,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(5,0)
1335795073370: mux: I got a CSM packet at a leader 
1335795073372: Sending UDP payload: 4172
1335795073378: DSM layer: Going to and from remote region took latency = 34
1335795073378: Received PROC_REPLY 11:2 (5,0)->(5,0), handing to UserApp
1335795073378: inside handleDSMReply. Now back in originator leader of region 5
1335795073379: DSM layer: orig leader sent packet at 1335795073344 ~ received reply from remote leader at 1335795073378
1335795073380: =======================
1335795073380: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795073380: change leader replyCounter to: 3
1335795073380: inside sendReplies of replyCount = 501800003
1335795073380: reply packet contains the newest photo/success info from the remote region
1335795073381: === Finished one round of sending REPLY Packet =======
1335795073381: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795073381: Leader about to send REPLY packet, number: 501800003 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795073381: inside sendReplyRepeatingRunnable for replyCount = 501800003
1335795073402: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795073406: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795073406: disabling progressdialog due to successful new photo get
1335795073407: Inside _enableButtons
1335795073407: areButtonsEnabled --> true
1335795073407: send final leg ack regardless of new or already-processed reply
1335795073408: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018006 Client in region: (5,0) Client nodID: 5018
1335795073408: I'm a leader client, my final_leg packet going to mux directly
1335795073408: inside finalLegAck: change requestCounter to 6
1335795073409: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800003
1335795073409: Yay the last leg succeeded. Removing reply runnables ...
1335795073409: got new request, requestCounter = 5018006
1335795073409: inside handleClientRequest. Originator leader of region 5
1335795073409: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795073409: mux: Inside mux Packet.CLIENT_REQUEST
1335795073410: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800003
1335795073410: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800003
1335795073410: do not send ack for received final_leg_ack
1335795073411: new client_show_remotephoto reply with replyCounter 501800003
1335795073411: note down new reply by adding replyCounter=501800003 to HashMap processedReplies
1335795073412: = leader download start 1335795073342 ~ stop 1335795073406
1335795073412: leader download remote photo latency = 64
1335795073418: one more getGood: 2
1335795073419: Success! Client getting photo from remote region, showing photo...
1335795073419: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=2 getGood=2 getBad=0 getTimedout=0 getPercent=100%
1335795073419: successful reply for client get photo
1335795073420: Remote photo's length: 3161
1335795073527: Received UDP payload: 3777
1335795073529: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795073529: mux: Inside Packet.SERVER_REPLY
1335795073533: Received UDP payload: 446
1335795073545: Received UDP payload: 446
1335795073547: mux: Inside mux Packet.CLIENT_REQUEST
1335795075046: inside sendPacket(Packet p)
1335795075050: Sending UDP payload: 446
1335795075162: Received UDP payload: 463
1335795075188: Received UDP payload: 446
1335795075197: Received UDP payload: 446
1335795075384: Received UDP payload: 446
1335795075800: Received UDP payload: 989
1335795075816: mux: GOT CSM_Msg
1335795075817: forwarding disabled, not forwarding packets
1335795075956: Received UDP payload: 4489
1335795075969: forwarding disabled, not forwarding packets
1335795075969: mux: GOT CSM_Msg
1335795076591: Received UDP payload: 989
1335795076603: mux: GOT CSM_Msg
1335795076604: forwarding disabled, not forwarding packets
1335795076747: Received UDP payload: 989
1335795076760: mux: GOT CSM_Msg
1335795076761: forwarding disabled, not forwarding packets
1335795076857: Received UDP payload: 4489
1335795076869: forwarding disabled, not forwarding packets
1335795076869: mux: GOT CSM_Msg
1335795076993: Received UDP payload: 4489
1335795077007: mux: GOT CSM_Msg
1335795077008: forwarding disabled, not forwarding packets
1335795077018: Received UDP payload: 989
1335795077041: mux: GOT CSM_Msg
1335795077042: forwarding disabled, not forwarding packets
1335795077082: Received UDP payload: 4489
1335795077085: forwarding disabled, not forwarding packets
1335795077085: mux: GOT CSM_Msg
1335795077117: Received UDP payload: 446
1335795077136: Received UDP payload: 989
1335795077138: mux: GOT CSM_Msg
1335795077139: INSIDE SERVER_GET_PHOTO!!!
1335795077139: inside handleDSMRequest. At requests's remote leader of region 5
1335795077139: removed replies before id 0 from sentReplies of size 0
1335795077141: Dispatching Atom PROC_REPLY 11:0 (5,0)->(4,0)
1335795077141: Received PROC_REQUEST 11:0 (4,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(4,0)
1335795077142: mux: I got a CSM packet at a leader 
1335795077144: Sending UDP payload: 4172
1335795077145: forwarding disabled, not forwarding packets
1335795077363: Received UDP payload: 446
1335795077633: Received UDP payload: 989
1335795077636: forwarding disabled, not forwarding packets
1335795077636: mux: GOT CSM_Msg
1335795078155: Received UDP payload: 4989
1335795078162: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795078162: mux: Inside mux Packet.CLIENT_REQUEST
1335795078163: got new request, requestCounter = 5011001
1335795078163: inside handleClientRequest. Originator leader of region 5
1335795078164: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335795078165: Sending PROC_REQUEST 10:3 (5,0)->(5,0)
1335795078176: Dispatching Atom PROC_REQUEST 10:3 (5,0)->(5,0)
1335795078177: Make FirstLeg Ack regardless of new or already-processed requests
1335795078177: Note down new request by adding requestCounter=5011001 to HashMap processedRequests
1335795078178: The leader sending a First Leg ack to originator client (which id = 5011)
1335795078178: inside sendPacket(Packet p)
1335795078179: mux: I got a CSM packet at a leader 
1335795078186: Sending UDP payload: 5353
1335795078202: inside handleDSMRequest. At requests's remote leader of region 5
1335795078202: removed replies before id 3 from sentReplies of size 0
1335795078203: Inside UPLOAD_PHOTO!!
1335795078204: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335795078204: my_gpinfo.isSuccess is now (should be true): true
1335795078210: Received PROC_REQUEST 10:3 (5,0)->(5,0), replying PROC_REPLY 10:3 (5,0)->(5,0)
1335795078211: Dispatching Atom PROC_REPLY 10:3 (5,0)->(5,0)
1335795078212: Sending UDP payload: 446
1335795078215: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335795078217: I'm a leader and I successfully saved my client's new photo
1335795078217: now showing in UI the new photo I just saved ... 
1335795078217: the photo length: 4342
1335795078218: mux: I got a CSM packet at a leader 
1335795078220: Sending UDP payload: 989
1335795078221: Received PROC_REPLY 10:3 (5,0)->(5,0), handing to UserApp
1335795078221: inside handleDSMReply. Now back in originator leader of region 5
1335795078222: DSM layer: Going to and from remote region took latency = 57
1335795078222: DSM layer: orig leader sent packet at 1335795078164 ~ received reply from remote leader at 1335795078221
1335795078222: Originator Region=5's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795078223: =======================
1335795078223: Leader about to send REPLY packet, number: 501800004 type: 16 Leader in region: (5,0) to Client nodID: 5011
1335795078223: change leader replyCounter to: 4
1335795078223: inside sendReplies of replyCount = 501800004
1335795078223: inside sendReplyRepeatingRunnable for replyCount = 501800004
1335795078223: reply packet contains the success info for UPLOAD_PHOTO
1335795078224: === Finished one round of sending REPLY Packet =======
1335795078224: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335795078224: inside sendPacket(Packet p)
1335795078265: Sending UDP payload: 642
1335795078271: end of server show photo aside %%%%%%%%%
1335795078366: Received UDP payload: 446
1335795078370: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795078370: mux: Inside mux Packet.CLIENT_REQUEST
1335795078371: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800004
1335795078371: Yay the last leg succeeded. Removing reply runnables ...
1335795078371: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800004
1335795078371: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800004
1335795078371: do not send ack for received final_leg_ack
1335795078371: got new request, requestCounter = 5011002
1335795078371: inside handleClientRequest. Originator leader of region 5
1335795078373: Received UDP payload: 463
1335795078484: Received UDP payload: 4989
1335795078487: Make FirstLeg Ack regardless of new or already-processed requests
1335795078487: Note down new request by adding requestCounter=5011001 to HashMap processedRequests
1335795078487: The leader sending a First Leg ack to originator client (which id = 5011)
1335795078487: discarding repeated requestCounter=5011001, but still send an ack back
1335795078487: inside handleClientRequest. Originator leader of region 5
1335795078487: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795078487: mux: Inside mux Packet.CLIENT_REQUEST
1335795078488: inside sendPacket(Packet p)
1335795078493: Sending UDP payload: 446
1335795078528: Received UDP payload: 446
1335795078862: Received UDP payload: 446
1335795079411: Received UDP payload: 989
1335795079426: mux: GOT CSM_Msg
1335795079427: forwarding disabled, not forwarding packets
1335795079487: Received UDP payload: 446
1335795080046: inside sendPacket(Packet p)
1335795080050: Sending UDP payload: 446
1335795080204: Received UDP payload: 989
1335795080207: forwarding disabled, not forwarding packets
1335795080207: mux: GOT CSM_Msg
1335795080309: Received UDP payload: 989
1335795080321: mux: GOT CSM_Msg
1335795080322: forwarding disabled, not forwarding packets
1335795080514: Received UDP payload: 989
1335795080525: forwarding disabled, not forwarding packets
1335795080525: mux: GOT CSM_Msg
1335795080607: Received UDP payload: 989
1335795080617: mux: GOT CSM_Msg
1335795080618: forwarding disabled, not forwarding packets
1335795080693: Received UDP payload: 989
1335795080704: forwarding disabled, not forwarding packets
1335795080704: mux: GOT CSM_Msg
1335795080808: Received UDP payload: 989
1335795080821: forwarding disabled, not forwarding packets
1335795080821: mux: GOT CSM_Msg
1335795080907: Received UDP payload: 989
1335795080917: forwarding disabled, not forwarding packets
1335795080917: mux: GOT CSM_Msg
1335795081037: Received UDP payload: 989
1335795081041: forwarding disabled, not forwarding packets
1335795081041: mux: GOT CSM_Msg
1335795081114: Received UDP payload: 989
1335795081117: mux: GOT CSM_Msg
1335795081118: forwarding disabled, not forwarding packets
1335795081158: canPressButton = TRUE
1335795081161: areButtonsEnabled --> false 
1335795081162: areButtonsEnabled --> false
1335795081162: get picture disableButtonsR
1335795081199: one more getNum: 3
1335795081201: Received UDP payload: 989
1335795081202: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=2 getBad=0 getTimedout=0 getPercent=66%
1335795081205: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795081205: forwarding disabled, not forwarding packets
1335795081205: mux: GOT CSM_Msg
1335795081206: change local requestCounter to 7
1335795081214: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018007 Client in region: 5 Client nodID: 5018
1335795081287: ----------------------------
1335795081290: inside sendRequestPacketRepeatingRunnable for requestCount = 5018007
1335795081291: I'm a leader, my requesting photos packet going to mux directly
1335795081292: --- Finished one round of sending REQUEST Packet ---------
1335795081292: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795081292: mux: Inside mux Packet.CLIENT_REQUEST
1335795081293: got new request, requestCounter = 5018007
1335795081293: inside handleClientRequest. Originator leader of region 5
1335795081294: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795081302: Sending to region: 4
1335795081304: Sending PROC_REQUEST 11:0 (5,0)->(4,0)
1335795081308: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(4,0)
1335795081309: Note down new request by adding requestCounter=5018007 to HashMap processedRequests
1335795081312: Received UDP payload: 989
1335795081323: Make FirstLeg Ack regardless of new or already-processed requests
1335795081323: mux: I got a CSM packet at a leader 
1335795081323: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795081338: Sending UDP payload: 989
1335795081346: forwarding disabled, not forwarding packets
1335795081347: forwarding disabled, not forwarding packets
1335795081347: mux: GOT CSM_Msg
1335795081348: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795081477: Received UDP payload: 446
1335795081489: Received UDP payload: 4957
1335795081494: mux: GOT CSM_Msg
1335795081495: Received PROC_REPLY 11:0 (4,0)->(5,0), handing to UserApp
1335795081496: DSM layer: Going to and from remote region took latency = 192
1335795081496: DSM layer: orig leader sent packet at 1335795081303 ~ received reply from remote leader at 1335795081495
1335795081496: inside handleDSMReply. Now back in originator leader of region 5
1335795081498: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795081499: change leader replyCounter to: 5
1335795081499: inside sendReplies of replyCount = 501800005
1335795081499: reply packet contains the newest photo/success info from the remote region
1335795081500: =======================
1335795081501: inside sendReplyRepeatingRunnable for replyCount = 501800005
1335795081502: Leader about to send REPLY packet, number: 501800005 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795081503: === Finished one round of sending REPLY Packet =======
1335795081503: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795081508: Received UDP payload: 989
1335795081514: mux: GOT CSM_Msg
1335795081515: forwarding disabled, not forwarding packets
1335795081525: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795081526: Inside _enableButtons
1335795081526: areButtonsEnabled --> true
1335795081526: disabling progressdialog due to successful new photo get
1335795081527: inside finalLegAck: change requestCounter to 8
1335795081527: send final leg ack regardless of new or already-processed reply
1335795081528: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018008 Client in region: (5,0) Client nodID: 5018
1335795081528: I'm a leader client, my final_leg packet going to mux directly
1335795081528: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795081528: mux: Inside mux Packet.CLIENT_REQUEST
1335795081529: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800005
1335795081529: Yay the last leg succeeded. Removing reply runnables ...
1335795081529: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800005
1335795081529: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800005
1335795081529: do not send ack for received final_leg_ack
1335795081529: got new request, requestCounter = 5018008
1335795081529: inside handleClientRequest. Originator leader of region 5
1335795081530: new client_show_remotephoto reply with replyCounter 501800005
1335795081530: note down new reply by adding replyCounter=501800005 to HashMap processedReplies
1335795081531: = leader download start 1335795081292 ~ stop 1335795081525
1335795081531: leader download remote photo latency = 233
1335795081533: one more getGood: 3
1335795081534: Remote photo's length: 3946
1335795081534: Success! Client getting photo from remote region, showing photo...
1335795081534: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=3 getGood=3 getBad=0 getTimedout=0 getPercent=100%
1335795081534: successful reply for client get photo
1335795081669: Received UDP payload: 446
1335795082135: Received UDP payload: 446
1335795082404: Received UDP payload: 446
1335795083291: Received UDP payload: 446
1335795083947: Received UDP payload: 446
1335795083966: Received UDP payload: 989
1335795083985: mux: GOT CSM_Msg
1335795083986: forwarding disabled, not forwarding packets
1335795084029: Received UDP payload: 989
1335795084047: forwarding disabled, not forwarding packets
1335795084047: mux: GOT CSM_Msg
1335795084213: Received UDP payload: 989
1335795084215: mux: GOT CSM_Msg
1335795084216: forwarding disabled, not forwarding packets
1335795084333: Received UDP payload: 989
1335795084335: mux: GOT CSM_Msg
1335795084336: forwarding disabled, not forwarding packets
1335795084461: Received UDP payload: 446
1335795084463: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795084463: mux: Inside Packet.SERVER_REPLY
1335795084476: Received UDP payload: 989
1335795084480: forwarding disabled, not forwarding packets
1335795084480: mux: GOT CSM_Msg
1335795084486: Received UDP payload: 989
1335795084489: mux: GOT CSM_Msg
1335795084490: forwarding disabled, not forwarding packets
1335795084493: Received UDP payload: 642
1335795084495: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795084495: mux: Inside Packet.SERVER_REPLY
1335795084518: Received UDP payload: 446
1335795084520: mux: Inside mux Packet.CLIENT_REQUEST
1335795084548: Received UDP payload: 989
1335795084551: mux: GOT CSM_Msg
1335795084552: forwarding disabled, not forwarding packets
1335795084659: Received UDP payload: 989
1335795084670: forwarding disabled, not forwarding packets
1335795084670: mux: GOT CSM_Msg
1335795084800: Received UDP payload: 989
1335795084803: forwarding disabled, not forwarding packets
1335795084803: mux: GOT CSM_Msg
1335795085044: Received UDP payload: 989
1335795085047: inside sendPacket(Packet p)
1335795085056: Sending UDP payload: 446
1335795085056: mux: GOT CSM_Msg
1335795085057: forwarding disabled, not forwarding packets
1335795085166: Received UDP payload: 989
1335795085174: forwarding disabled, not forwarding packets
1335795085174: mux: GOT CSM_Msg
1335795086452: Received UDP payload: 5781
1335795086463: mux: Inside mux Packet.CLIENT_REQUEST
1335795086641: Received UDP payload: 446
1335795086886: Received UDP payload: 5781
1335795086887: mux: Inside mux Packet.CLIENT_REQUEST
1335795087034: canPressButton = TRUE
1335795087035: areButtonsEnabled --> false
1335795087035: areButtonsEnabled --> false 
1335795087035: get picture disableButtonsR
1335795087063: one more getNum: 4
1335795087063: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=3 getBad=0 getTimedout=0 getPercent=75%
1335795087064: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795087064: change local requestCounter to 9
1335795087068: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018009 Client in region: 5 Client nodID: 5018
1335795087130: ----------------------------
1335795087131: I'm a leader, my requesting photos packet going to mux directly
1335795087131: inside handleClientRequest. Originator leader of region 5
1335795087131: inside sendRequestPacketRepeatingRunnable for requestCount = 5018009
1335795087131: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795087131: mux: Inside mux Packet.CLIENT_REQUEST
1335795087132: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795087132: got new request, requestCounter = 5018009
1335795087134: Sending to region: 5
1335795087135: Sending PROC_REQUEST 11:4 (5,0)->(5,0)
1335795087136: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(5,0)
1335795087136: Make FirstLeg Ack regardless of new or already-processed requests
1335795087136: Note down new request by adding requestCounter=5018009 to HashMap processedRequests
1335795087136: mux: I got a CSM packet at a leader 
1335795087136: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795087141: --- Finished one round of sending REQUEST Packet ---------
1335795087141: Sending UDP payload: 989
1335795087149: removed replies before id 4 from sentReplies of size 0
1335795087150: INSIDE SERVER_GET_PHOTO!!!
1335795087150: inside handleDSMRequest. At requests's remote leader of region 5
1335795087152: dst_region == src_region = 5
1335795087153:  1 self to self atomRequest
1335795087154: Dispatching Atom PROC_REPLY 11:4 (5,0)->(5,0)
1335795087154: Received PROC_REQUEST 11:4 (5,0)->(5,0), replying PROC_REPLY 11:4 (5,0)->(5,0)
1335795087155: mux: I got a CSM packet at a leader 
1335795087170: Sending UDP payload: 5353
1335795087176: DSM layer: Going to and from remote region took latency = 42
1335795087176: DSM layer: orig leader sent packet at 1335795087134 ~ received reply from remote leader at 1335795087176
1335795087176: Received PROC_REPLY 11:4 (5,0)->(5,0), handing to UserApp
1335795087176: inside handleDSMReply. Now back in originator leader of region 5
1335795087177: =======================
1335795087177: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795087177: change leader replyCounter to: 6
1335795087177: inside sendReplies of replyCount = 501800006
1335795087177: inside sendReplyRepeatingRunnable for replyCount = 501800006
1335795087177: reply packet contains the newest photo/success info from the remote region
1335795087178: === Finished one round of sending REPLY Packet =======
1335795087178: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795087178: Leader about to send REPLY packet, number: 501800006 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795087187: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795087195: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795087196: Inside _enableButtons
1335795087196: areButtonsEnabled --> true
1335795087196: disabling progressdialog due to successful new photo get
1335795087196: send final leg ack regardless of new or already-processed reply
1335795087197: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018010 Client in region: (5,0) Client nodID: 5018
1335795087197: I'm a leader client, my final_leg packet going to mux directly
1335795087197: inside finalLegAck: change requestCounter to 10
1335795087198: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800006
1335795087198: Yay the last leg succeeded. Removing reply runnables ...
1335795087198: got new request, requestCounter = 5018010
1335795087198: inside handleClientRequest. Originator leader of region 5
1335795087198: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795087198: mux: Inside mux Packet.CLIENT_REQUEST
1335795087199: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800006
1335795087199: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800006
1335795087199: do not send ack for received final_leg_ack
1335795087201: = leader download start 1335795087131 ~ stop 1335795087195
1335795087201: leader download remote photo latency = 64
1335795087201: new client_show_remotephoto reply with replyCounter 501800006
1335795087201: note down new reply by adding replyCounter=501800006 to HashMap processedReplies
1335795087203: one more getGood: 4
1335795087203: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=4 getGood=4 getBad=0 getTimedout=0 getPercent=100%
1335795087204: Remote photo's length: 4342
1335795087204: Success! Client getting photo from remote region, showing photo...
1335795087204: successful reply for client get photo
1335795087592: Received UDP payload: 7045
1335795087597: mux: Inside mux Packet.CLIENT_REQUEST
1335795087917: Received UDP payload: 7045
1335795087919: mux: Inside mux Packet.CLIENT_REQUEST
1335795088433: Received UDP payload: 989
1335795088448: mux: GOT CSM_Msg
1335795088449: forwarding disabled, not forwarding packets
1335795088509: Received UDP payload: 446
1335795088723: Received UDP payload: 446
1335795088726: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795088726: mux: Inside Packet.SERVER_REPLY
1335795088733: Received UDP payload: 989
1335795088739: forwarding disabled, not forwarding packets
1335795088739: mux: GOT CSM_Msg
1335795088758: Received UDP payload: 446
1335795088777: Received UDP payload: 642
1335795088781: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795088781: mux: Inside Packet.SERVER_REPLY
1335795088789: Received UDP payload: 446
1335795088793: mux: Inside Packet.SERVER_REPLY
1335795088794: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795088805: Received UDP payload: 642
1335795088809: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795088809: mux: Inside Packet.SERVER_REPLY
1335795088828: Received UDP payload: 446
1335795088834: mux: Inside mux Packet.CLIENT_REQUEST
1335795088844: Received UDP payload: 446
1335795088848: mux: Inside mux Packet.CLIENT_REQUEST
1335795088895: Received UDP payload: 642
1335795088901: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795088901: mux: Inside Packet.SERVER_REPLY
1335795088935: Received UDP payload: 446
1335795088938: mux: Inside Packet.SERVER_REPLY
1335795088939: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795088954: Received UDP payload: 446
1335795088957: mux: Inside mux Packet.CLIENT_REQUEST
1335795088968: Received UDP payload: 625
1335795088974: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795088974: mux: Inside mux Packet.CLIENT_REQUEST
1335795088975: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795088975: got new request, requestCounter = 5011003
1335795088975: inside handleClientRequest. Originator leader of region 5
1335795088978: Sending to region: 3
1335795088980: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795088980: Sending PROC_REQUEST 11:0 (5,0)->(3,0)
1335795088981: Make FirstLeg Ack regardless of new or already-processed requests
1335795088981: Note down new request by adding requestCounter=5011003 to HashMap processedRequests
1335795088981: The leader sending a First Leg ack to originator client (which id = 5011)
1335795088981: inside sendPacket(Packet p)
1335795088982: mux: I got a CSM packet at a leader 
1335795089005: Sending UDP payload: 989
1335795089009: forwarding disabled, not forwarding packets
1335795089012: Sending UDP payload: 446
1335795089603: Received UDP payload: 989
1335795089617: mux: GOT CSM_Msg
1335795089617: removed replies before id 0 from sentReplies of size 0
1335795089618: inside handleDSMRequest. At requests's remote leader of region 5
1335795089631: INSIDE SERVER_GET_PHOTO!!!
1335795089648: Received PROC_REQUEST 11:0 (1,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(1,0)
1335795089654: Received UDP payload: 446
1335795089662: Dispatching Atom PROC_REPLY 11:0 (5,0)->(1,0)
1335795089662: mux: I got a CSM packet at a leader 
1335795089665: Sending UDP payload: 5353
1335795089670: forwarding disabled, not forwarding packets
1335795089706: Received UDP payload: 989
1335795089708: mux: GOT CSM_Msg
1335795089709: Received DUPLICATE PROC_REQUEST 11:0 (1,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(1,0)
1335795089709: removed replies before id 0 from sentReplies of size 1
1335795089710: Dispatching Atom PROC_REPLY 11:0 (5,0)->(1,0)
1335795089710: mux: I got a CSM packet at a leader 
1335795089711: Sending UDP payload: 5353
1335795089713: forwarding disabled, not forwarding packets
1335795089775: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795089775: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795089775: mux: I got a CSM packet at a leader 
1335795089777: Sending UDP payload: 989
1335795089778: forwarding disabled, not forwarding packets
1335795089876: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795089876: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795089877: mux: I got a CSM packet at a leader 
1335795089878: Sending UDP payload: 989
1335795089878: forwarding disabled, not forwarding packets
1335795089916: Received UDP payload: 446
1335795089976: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795089977: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795089977: mux: I got a CSM packet at a leader 
1335795089979: Sending UDP payload: 989
1335795089979: forwarding disabled, not forwarding packets
1335795090047: inside sendPacket(Packet p)
1335795090048: Sending UDP payload: 446
1335795090078: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090078: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090079: mux: I got a CSM packet at a leader 
1335795090080: Sending UDP payload: 989
1335795090081: forwarding disabled, not forwarding packets
1335795090179: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090179: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090180: mux: I got a CSM packet at a leader 
1335795090181: Sending UDP payload: 989
1335795090182: forwarding disabled, not forwarding packets
1335795090262: Received UDP payload: 446
1335795090280: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090281: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090281: mux: I got a CSM packet at a leader 
1335795090284: Sending UDP payload: 989
1335795090287: forwarding disabled, not forwarding packets
1335795090382: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090383: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090383: mux: I got a CSM packet at a leader 
1335795090386: Sending UDP payload: 989
1335795090388: forwarding disabled, not forwarding packets
1335795090484: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090485: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090485: mux: I got a CSM packet at a leader 
1335795090488: Sending UDP payload: 989
1335795090490: forwarding disabled, not forwarding packets
1335795090497: Received UDP payload: 446
1335795090586: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090586: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090587: mux: I got a CSM packet at a leader 
1335795090590: Sending UDP payload: 989
1335795090592: forwarding disabled, not forwarding packets
1335795090688: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090688: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090689: mux: I got a CSM packet at a leader 
1335795090693: Sending UDP payload: 989
1335795090694: forwarding disabled, not forwarding packets
1335795090790: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090790: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090791: mux: I got a CSM packet at a leader 
1335795090794: Sending UDP payload: 989
1335795090795: forwarding disabled, not forwarding packets
1335795090892: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090895: Received UDP payload: 989
1335795090903: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795090903: mux: I got a CSM packet at a leader 
1335795090918: Sending UDP payload: 989
1335795090919: forwarding disabled, not forwarding packets
1335795090920: forwarding disabled, not forwarding packets
1335795090920: mux: GOT CSM_Msg
1335795091006: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(3,0)
1335795091006: Retrying PROC_REQUEST 11:0 (5,0)->(3,0)
1335795091007: mux: I got a CSM packet at a leader 
1335795091011: Sending UDP payload: 989
1335795091013: forwarding disabled, not forwarding packets
1335795091102: Received UDP payload: 7409
1335795091108: DSM Layer: Request timed out, send failure PROC_REPLY 11:0 (3,0)->(5,0)
1335795091108: Dispatching Atom PROC_REPLY 11:0 (3,0)->(5,0)
1335795091111: mux: I got a CSM packet at a leader 
1335795091114: Sending UDP payload: 989
1335795091116: Received PROC_REPLY 11:0 (3,0)->(5,0), handing to UserApp
1335795091117: DSM layer timed out, don't log dsm layer latency stuff.
1335795091117: inside handleDSMReply. Now back in originator leader of region 5
1335795091119: Originator Region=5's Leader (for Client=5011) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795091120: change leader replyCounter to: 7
1335795091120: reply packet contains the newest photo/success info from the remote region
1335795091121: =======================
1335795091121: inside sendReplies of replyCount = 501800007
1335795091121: mux: GOT CSM_Msg
1335795091122: inside sendReplyRepeatingRunnable for replyCount = 501800007
1335795091123: Received DUPLICATE PROC_REPLY 11:0 (3,0)->(5,0)
1335795091124: I (the leader) was not the originator client (which id = 5011) so I use UDP to send packet back to my nonleader
1335795091124: Leader about to send REPLY packet, number: 501800007 type: 15 Leader in region: (5,0) to Client nodID: 5011
1335795091125: === Finished one round of sending REPLY Packet =======
1335795091125: inside sendPacket(Packet p)
1335795091127: Sending UDP payload: 642
1335795091323: Received UDP payload: 446
1335795091326: inside handleClientRequest. Originator leader of region 5
1335795091326: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795091326: mux: Inside mux Packet.CLIENT_REQUEST
1335795091327: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800007
1335795091327: Yay the last leg succeeded. Removing reply runnables ...
1335795091327: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800007
1335795091327: got new request, requestCounter = 5011004
1335795091328: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800007
1335795091328: do not send ack for received final_leg_ack
1335795091641: Received UDP payload: 446
1335795091732: Received UDP payload: 989
1335795091743: forwarding disabled, not forwarding packets
1335795091743: mux: GOT CSM_Msg
1335795091813: Received UDP payload: 446
1335795091831: Received UDP payload: 446
1335795091841: Received UDP payload: 989
1335795091844: mux: GOT CSM_Msg
1335795091845: forwarding disabled, not forwarding packets
1335795091873: canPressButton = TRUE
1335795091874: areButtonsEnabled --> false
1335795091874: areButtonsEnabled --> false 
1335795091874: get picture disableButtonsR
1335795091891: Received UDP payload: 989
1335795091894: forwarding disabled, not forwarding packets
1335795091894: mux: GOT CSM_Msg
1335795091909: one more getNum: 5
1335795091910: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335795091910: change local requestCounter to 11
1335795091910: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=0 getTimedout=0 getPercent=80%
1335795091927: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018011 Client in region: 5 Client nodID: 5018
1335795091928: Received UDP payload: 989
1335795091931: forwarding disabled, not forwarding packets
1335795091931: mux: GOT CSM_Msg
1335795091961: ----------------------------
1335795091961: I'm a leader, my requesting photos packet going to mux directly
1335795091961: inside sendRequestPacketRepeatingRunnable for requestCount = 5018011
1335795091962: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795091962: got new request, requestCounter = 5018011
1335795091962: inside handleClientRequest. Originator leader of region 5
1335795091962: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795091962: mux: Inside mux Packet.CLIENT_REQUEST
1335795091963: Sending PROC_REQUEST 11:0 (5,0)->(2,0)
1335795091963: Sending to region: 2
1335795091964: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795091964: Make FirstLeg Ack regardless of new or already-processed requests
1335795091964: Note down new request by adding requestCounter=5018011 to HashMap processedRequests
1335795091965: mux: I got a CSM packet at a leader 
1335795091965: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795091967: Sending UDP payload: 989
1335795091968: --- Finished one round of sending REQUEST Packet ---------
1335795091968: forwarding disabled, not forwarding packets
1335795092004: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795092046: Received UDP payload: 989
1335795092049: forwarding disabled, not forwarding packets
1335795092049: mux: GOT CSM_Msg
1335795092263: Received UDP payload: 7409
1335795092272: Received DUPLICATE PROC_REPLY 11:0 (3,0)->(5,0)
1335795092272: mux: GOT CSM_Msg
1335795092721: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795092722: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795092723: mux: I got a CSM packet at a leader 
1335795092725: Sending UDP payload: 989
1335795092726: forwarding disabled, not forwarding packets
1335795092823: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795092823: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795092824: mux: I got a CSM packet at a leader 
1335795092825: Sending UDP payload: 989
1335795092825: forwarding disabled, not forwarding packets
1335795092848: Received UDP payload: 446
1335795092853: mux: Inside mux Packet.CLIENT_REQUEST
1335795092924: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795092924: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795092925: mux: I got a CSM packet at a leader 
1335795092926: Sending UDP payload: 989
1335795092926: forwarding disabled, not forwarding packets
1335795092960: Received UDP payload: 446
1335795092962: mux: Inside mux Packet.CLIENT_REQUEST
1335795093025: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093025: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093026: Received UDP payload: 5006
1335795093027: mux: I got a CSM packet at a leader 
1335795093029: Sending UDP payload: 989
1335795093029: forwarding disabled, not forwarding packets
1335795093030: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795093030: mux: Inside Packet.SERVER_REPLY
1335795093052: Received UDP payload: 446
1335795093054: mux: Inside mux Packet.CLIENT_REQUEST
1335795093126: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093126: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093127: mux: I got a CSM packet at a leader 
1335795093128: Sending UDP payload: 989
1335795093129: forwarding disabled, not forwarding packets
1335795093212: Received UDP payload: 989
1335795093220: forwarding disabled, not forwarding packets
1335795093220: mux: GOT CSM_Msg
1335795093227: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093228: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093228: mux: I got a CSM packet at a leader 
1335795093233: Sending UDP payload: 989
1335795093234: forwarding disabled, not forwarding packets
1335795093253: Received UDP payload: 446
1335795093255: mux: Inside mux Packet.CLIENT_REQUEST
1335795093328: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093329: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093329: mux: I got a CSM packet at a leader 
1335795093331: Sending UDP payload: 989
1335795093331: forwarding disabled, not forwarding packets
1335795093372: Received UDP payload: 989
1335795093375: forwarding disabled, not forwarding packets
1335795093375: mux: GOT CSM_Msg
1335795093430: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093430: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093430: mux: I got a CSM packet at a leader 
1335795093431: Sending UDP payload: 989
1335795093432: forwarding disabled, not forwarding packets
1335795093461: Received UDP payload: 989
1335795093464: forwarding disabled, not forwarding packets
1335795093464: mux: GOT CSM_Msg
1335795093507: Received UDP payload: 989
1335795093511: forwarding disabled, not forwarding packets
1335795093511: mux: GOT CSM_Msg
1335795093522: Received UDP payload: 989
1335795093525: forwarding disabled, not forwarding packets
1335795093525: mux: GOT CSM_Msg
1335795093531: Received UDP payload: 989
1335795093534: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093534: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093535: mux: I got a CSM packet at a leader 
1335795093536: Sending UDP payload: 989
1335795093536: forwarding disabled, not forwarding packets
1335795093537: forwarding disabled, not forwarding packets
1335795093537: mux: GOT CSM_Msg
1335795093548: Received UDP payload: 989
1335795093551: forwarding disabled, not forwarding packets
1335795093551: mux: GOT CSM_Msg
1335795093566: Received UDP payload: 989
1335795093570: forwarding disabled, not forwarding packets
1335795093570: mux: GOT CSM_Msg
1335795093585: Received UDP payload: 989
1335795093588: forwarding disabled, not forwarding packets
1335795093588: mux: GOT CSM_Msg
1335795093600: Received UDP payload: 989
1335795093602: forwarding disabled, not forwarding packets
1335795093602: mux: GOT CSM_Msg
1335795093616: Received UDP payload: 989
1335795093620: forwarding disabled, not forwarding packets
1335795093620: mux: GOT CSM_Msg
1335795093636: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093636: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093636: mux: I got a CSM packet at a leader 
1335795093638: Sending UDP payload: 989
1335795093638: forwarding disabled, not forwarding packets
1335795093737: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093737: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093737: mux: I got a CSM packet at a leader 
1335795093739: Sending UDP payload: 989
1335795093739: forwarding disabled, not forwarding packets
1335795093791: Received UDP payload: 989
1335795093793: forwarding disabled, not forwarding packets
1335795093793: mux: GOT CSM_Msg
1335795093838: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093838: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093838: mux: I got a CSM packet at a leader 
1335795093840: Sending UDP payload: 989
1335795093840: forwarding disabled, not forwarding packets
1335795093939: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093939: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795093940: mux: I got a CSM packet at a leader 
1335795093941: Sending UDP payload: 989
1335795093942: forwarding disabled, not forwarding packets
1335795094041: Retrying PROC_REQUEST 11:0 (5,0)->(2,0)
1335795094042: Dispatching Atom PROC_REQUEST 11:0 (5,0)->(2,0)
1335795094042: mux: I got a CSM packet at a leader 
1335795094045: Sending UDP payload: 989
1335795094048: forwarding disabled, not forwarding packets
1335795094143: DSM Layer: Request timed out, send failure PROC_REPLY 11:0 (2,0)->(5,0)
1335795094144: Dispatching Atom PROC_REPLY 11:0 (2,0)->(5,0)
1335795094145: mux: I got a CSM packet at a leader 
1335795094147: Sending UDP payload: 989
1335795094151: Received PROC_REPLY 11:0 (2,0)->(5,0), handing to UserApp
1335795094153: DSM layer timed out, don't log dsm layer latency stuff.
1335795094153: inside handleDSMReply. Now back in originator leader of region 5
1335795094177: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795094177: change leader replyCounter to: 8
1335795094178: inside sendReplies of replyCount = 501800008
1335795094178: reply packet contains the newest photo/success info from the remote region
1335795094181: =======================
1335795094181: inside sendReplyRepeatingRunnable for replyCount = 501800008
1335795094182: Leader about to send REPLY packet, number: 501800008 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795094183: === Finished one round of sending REPLY Packet =======
1335795094183: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795094206: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795094207: Inside _enableButtons
1335795094207: areButtonsEnabled --> true
1335795094207: disabling progressdialog due to successful new photo get
1335795094208: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018012 Client in region: (5,0) Client nodID: 5018
1335795094208: I'm a leader client, my final_leg packet going to mux directly
1335795094208: inside finalLegAck: change requestCounter to 12
1335795094208: send final leg ack regardless of new or already-processed reply
1335795094209: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800008
1335795094209: Yay the last leg succeeded. Removing reply runnables ...
1335795094209: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800008
1335795094209: got new request, requestCounter = 5018012
1335795094209: inside handleClientRequest. Originator leader of region 5
1335795094209: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795094209: mux: Inside mux Packet.CLIENT_REQUEST
1335795094210: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800008
1335795094210: do not send ack for received final_leg_ack
1335795094210: leader download remote photo latency = 2244
1335795094210: new client_show_remotephoto reply with replyCounter 501800008
1335795094210: note down new reply by adding replyCounter=501800008 to HashMap processedReplies
1335795094211: = leader download start 1335795091962 ~ stop 1335795094206
1335795094213: Can't get remote photo, because DSM Layer on originator leader timed out
1335795094219: one more getBad: 1
1335795094220: getBad++
1335795094220: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=5 getGood=4 getBad=1 getTimedout=0 getPercent=80%
1335795094401: Received UDP payload: 989
1335795094404: forwarding disabled, not forwarding packets
1335795094404: mux: GOT CSM_Msg
1335795094513: Received UDP payload: 989
1335795094515: forwarding disabled, not forwarding packets
1335795094515: mux: GOT CSM_Msg
1335795094717: Received UDP payload: 989
1335795094720: forwarding disabled, not forwarding packets
1335795094720: mux: GOT CSM_Msg
1335795095048: inside sendPacket(Packet p)
1335795095049: Sending UDP payload: 446
1335795095132: Received UDP payload: 446
1335795095141: Received UDP payload: 989
1335795095144: mux: GOT CSM_Msg
1335795095145: forwarding disabled, not forwarding packets
1335795095168: Received UDP payload: 989
1335795095171: forwarding disabled, not forwarding packets
1335795095171: mux: GOT CSM_Msg
1335795095196: Received UDP payload: 989
1335795095200: forwarding disabled, not forwarding packets
1335795095200: mux: GOT CSM_Msg
1335795095218: Received UDP payload: 989
1335795095222: forwarding disabled, not forwarding packets
1335795095222: mux: GOT CSM_Msg
1335795095359: Received UDP payload: 7120
1335795095362: mux: Inside mux Packet.CLIENT_REQUEST
1335795095458: Received UDP payload: 7120
1335795095460: mux: Inside mux Packet.CLIENT_REQUEST
1335795095642: Received UDP payload: 7120
1335795095645: mux: Inside mux Packet.CLIENT_REQUEST
1335795096289: Received UDP payload: 4211
1335795096303: mux: GOT CSM_Msg
1335795096304: Received DUPLICATE PROC_REPLY 11:0 (2,0)->(5,0)
1335795096705: Received UDP payload: 4211
1335795096720: mux: GOT CSM_Msg
1335795096722: Received DUPLICATE PROC_REPLY 11:0 (2,0)->(5,0)
1335795097366: Received UDP payload: 4211
1335795097377: mux: GOT CSM_Msg
1335795097379: Received DUPLICATE PROC_REPLY 11:0 (2,0)->(5,0)
1335795097581: Received UDP payload: 4211
1335795097591: mux: GOT CSM_Msg
1335795097592: Received DUPLICATE PROC_REPLY 11:0 (2,0)->(5,0)
1335795097847: Received UDP payload: 446
1335795097887: Received UDP payload: 7409
1335795097890: mux: GOT CSM_Msg
1335795097891: Received DUPLICATE PROC_REPLY 11:0 (3,0)->(5,0)
1335795097901: Received UDP payload: 989
1335795097905: mux: GOT CSM_Msg
1335795097906: forwarding disabled, not forwarding packets
1335795097937: Received UDP payload: 989
1335795097943: forwarding disabled, not forwarding packets
1335795097943: mux: GOT CSM_Msg
1335795097949: Received UDP payload: 989
1335795097952: forwarding disabled, not forwarding packets
1335795097952: mux: GOT CSM_Msg
1335795097987: Received UDP payload: 989
1335795097991: forwarding disabled, not forwarding packets
1335795097991: mux: GOT CSM_Msg
1335795098002: Received UDP payload: 989
1335795098011: forwarding disabled, not forwarding packets
1335795098011: mux: GOT CSM_Msg
1335795098053: Received UDP payload: 989
1335795098060: forwarding disabled, not forwarding packets
1335795098060: mux: GOT CSM_Msg
1335795098088: Received UDP payload: 989
1335795098094: forwarding disabled, not forwarding packets
1335795098094: mux: GOT CSM_Msg
1335795098100: Received UDP payload: 989
1335795098104: mux: GOT CSM_Msg
1335795098105: forwarding disabled, not forwarding packets
1335795098116: Received UDP payload: 989
1335795098120: forwarding disabled, not forwarding packets
1335795098120: mux: GOT CSM_Msg
1335795098128: Received UDP payload: 989
1335795098131: forwarding disabled, not forwarding packets
1335795098131: mux: GOT CSM_Msg
1335795098148: Received UDP payload: 446
1335795098158: Received UDP payload: 989
1335795098162: forwarding disabled, not forwarding packets
1335795098162: mux: GOT CSM_Msg
1335795098171: Received UDP payload: 989
1335795098174: forwarding disabled, not forwarding packets
1335795098174: mux: GOT CSM_Msg
1335795098312: Received UDP payload: 446
1335795098314: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795098314: mux: Inside Packet.SERVER_REPLY
1335795098338: Received UDP payload: 989
1335795098343: forwarding disabled, not forwarding packets
1335795098343: mux: GOT CSM_Msg
1335795098351: Received UDP payload: 642
1335795098354: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795098354: mux: Inside Packet.SERVER_REPLY
1335795098392: Received UDP payload: 642
1335795098395: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795098395: mux: Inside Packet.SERVER_REPLY
1335795098437: Received UDP payload: 642
1335795098440: mux: Inside Packet.SERVER_REPLY
1335795098441: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795098462: Received UDP payload: 642
1335795098467: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795098467: mux: Inside Packet.SERVER_REPLY
1335795098497: Received UDP payload: 446
1335795098501: mux: Inside mux Packet.CLIENT_REQUEST
1335795098517: Received UDP payload: 446
1335795098520: mux: Inside mux Packet.CLIENT_REQUEST
1335795098695: Received UDP payload: 989
1335795098721: Received UDP payload: 989
1335795098721: mux: GOT CSM_Msg
1335795098722: forwarding disabled, not forwarding packets
1335795098739: mux: GOT CSM_Msg
1335795098740: Received UDP payload: 989
1335795098740: forwarding disabled, not forwarding packets
1335795098752: mux: GOT CSM_Msg
1335795098753: forwarding disabled, not forwarding packets
1335795098824: Received UDP payload: 989
1335795098834: mux: GOT CSM_Msg
1335795098835: forwarding disabled, not forwarding packets
1335795098841: Received UDP payload: 989
1335795098857: forwarding disabled, not forwarding packets
1335795098857: mux: GOT CSM_Msg
1335795098875: Received UDP payload: 989
1335795098882: forwarding disabled, not forwarding packets
1335795098882: mux: GOT CSM_Msg
1335795098903: Received UDP payload: 989
1335795098909: forwarding disabled, not forwarding packets
1335795098909: mux: GOT CSM_Msg
1335795098940: Received UDP payload: 989
1335795098945: forwarding disabled, not forwarding packets
1335795098945: mux: GOT CSM_Msg
1335795098946: Received UDP payload: 989
1335795098951: forwarding disabled, not forwarding packets
1335795098951: mux: GOT CSM_Msg
1335795099607: Received UDP payload: 446
1335795100046: Received UDP payload: 989
1335795100049: inside sendPacket(Packet p)
1335795100096: Received UDP payload: 989
1335795100102: Sending UDP payload: 446
1335795100106: forwarding disabled, not forwarding packets
1335795100106: mux: GOT CSM_Msg
1335795100106: mux: GOT CSM_Msg
1335795100107: forwarding disabled, not forwarding packets
1335795100119: Received UDP payload: 989
1335795100122: forwarding disabled, not forwarding packets
1335795100122: mux: GOT CSM_Msg
1335795100154: Received UDP payload: 4211
1335795100157: forwarding disabled, not forwarding packets
1335795100157: mux: GOT CSM_Msg
1335795100172: Received UDP payload: 989
1335795100175: forwarding disabled, not forwarding packets
1335795100175: mux: GOT CSM_Msg
1335795100567: Received UDP payload: 5172
1335795100570: forwarding disabled, not forwarding packets
1335795100570: mux: GOT CSM_Msg
1335795101194: Received UDP payload: 5172
1335795101203: forwarding disabled, not forwarding packets
1335795101203: mux: GOT CSM_Msg
1335795101295: Received UDP payload: 5172
1335795101305: forwarding disabled, not forwarding packets
1335795101305: mux: GOT CSM_Msg
1335795101551: Received UDP payload: 5172
1335795101560: mux: GOT CSM_Msg
1335795101561: forwarding disabled, not forwarding packets
1335795101629: Received UDP payload: 5172
1335795101637: mux: GOT CSM_Msg
1335795101638: forwarding disabled, not forwarding packets
1335795101816: Received UDP payload: 5172
1335795101827: forwarding disabled, not forwarding packets
1335795101827: mux: GOT CSM_Msg
1335795102096: Received UDP payload: 5172
1335795102109: mux: GOT CSM_Msg
1335795102110: forwarding disabled, not forwarding packets
1335795102217: Received UDP payload: 5172
1335795102226: forwarding disabled, not forwarding packets
1335795102226: mux: GOT CSM_Msg
1335795102383: Received UDP payload: 5172
1335795102395: forwarding disabled, not forwarding packets
1335795102395: mux: GOT CSM_Msg
1335795102396: Received UDP payload: 446
1335795102947: Received UDP payload: 5258
1335795102956: forwarding disabled, not forwarding packets
1335795102956: mux: GOT CSM_Msg
1335795103015: Received UDP payload: 5258
1335795103025: forwarding disabled, not forwarding packets
1335795103025: mux: GOT CSM_Msg
1335795103168: Received UDP payload: 5258
1335795103173: forwarding disabled, not forwarding packets
1335795103173: mux: GOT CSM_Msg
1335795103746: Received UDP payload: 5172
1335795103749: forwarding disabled, not forwarding packets
1335795103749: mux: GOT CSM_Msg
1335795103856: Received UDP payload: 446
1335795103865: Received UDP payload: 5172
1335795103868: forwarding disabled, not forwarding packets
1335795103868: mux: GOT CSM_Msg
1335795104062: Received UDP payload: 5172
1335795104065: forwarding disabled, not forwarding packets
1335795104065: mux: GOT CSM_Msg
1335795104275: Received UDP payload: 5172
1335795104291: mux: GOT CSM_Msg
1335795104292: forwarding disabled, not forwarding packets
1335795104381: Received UDP payload: 5172
1335795104384: forwarding disabled, not forwarding packets
1335795104384: mux: GOT CSM_Msg
1335795104406: moving from region (5,0), to (4,0)
1335795104407: VCoreDaemon.java inside stateTransition ..........
1335795104407: change state to HANDING_OFF with parameter my previous/old region = (5,0) before helping to elect new leader in it. (btw, newRegion (4,0))
1335795104407: removing leaderRequestRetryR because I'm doing a stateTransition
1335795104408: ..... VCoreDaemon.java targetState = HANDING_OFF
1335795104408: HANDING OFF setting leaderRegion = (5,0)
1335795104408: Trying to hand off leadership
1335795104409: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335795104409: broadcasting LEADER_ELECT to old (5,0)
1335795104410: inside sendPacket(Packet p)
1335795104411: Sending UDP payload: 463
1335795104469: Received UDP payload: 446
1335795104471: inside LEADER_NOMINATE mState = 4 vnp.dstRegion = (5,0) leaderRegion = (5,0)
1335795104471: received LEADER_NOMINATE from 5011, saving as candidate
1335795104563: Received UDP payload: 5172
1335795104566: mux: GOT CSM_Msg
1335795104613: Received UDP payload: 446
1335795105050: inside sendPacket(Packet p)
1335795105054: Sending UDP payload: 446
1335795105389: Received UDP payload: 5172
1335795105400: mux: GOT CSM_Msg
1335795105413: INSIDE ELECT CANDIDATE
1335795105413: PICKING CANDIDATE
1335795105414: DSMLayer stopped
1335795105414: UserApp stopped.
1335795105509: Received UDP payload: 5172
1335795105518: mux: GOT CSM_Msg
1335795105590: Received UDP payload: 5172
1335795105610: mux: GOT CSM_Msg
1335795105611: Received UDP payload: 446
1335795105687: Received UDP payload: 5082
1335795105698: mux: GOT CSM_Msg
1335795105713: Received UDP payload: 989
1335795105743: mux: GOT CSM_Msg
1335795105923: inside sendPacket(Packet p)
1335795105923: sending LEADER_CONFIRM to node 5011
1335795105931: Sending UDP payload: 43752
1335795106938: DSMLayer stopped
1335795106939: serializing DSMLayer to JSON
1335795106979: Received UDP payload: 989
1335795106988: mux: GOT CSM_Msg
1335795107091: Received UDP payload: 5082
1335795107094: mux: GOT CSM_Msg
1335795107625: Received UDP payload: 446
1335795107677: Received UDP payload: 989
1335795107681: mux: GOT CSM_Msg
1335795107796: Received UDP payload: 989
1335795107798: mux: GOT CSM_Msg
1335795107852: Received UDP payload: 625
1335795107856: mux: Inside mux Packet.CLIENT_REQUEST
1335795107870: Received UDP payload: 989
1335795107875: Received UDP payload: 446
1335795107875: mux: GOT CSM_Msg
1335795107876: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795107876: mux: Inside Packet.SERVER_REPLY
1335795108044: Received UDP payload: 3864
1335795108046: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795108046: mux: Inside Packet.SERVER_REPLY
1335795108561: Received UDP payload: 446
1335795108564: mux: Inside mux Packet.CLIENT_REQUEST
1335795109319: Received UDP payload: 5258
1335795109340: mux: GOT CSM_Msg
1335795109350: Received UDP payload: 446
1335795109366: Received UDP payload: 446
1335795109385: Received UDP payload: 989
1335795109403: mux: GOT CSM_Msg
1335795109407: Received UDP payload: 989
1335795109432: Received UDP payload: 989
1335795109432: mux: GOT CSM_Msg
1335795109451: mux: GOT CSM_Msg
1335795109460: Received UDP payload: 989
1335795109468: mux: GOT CSM_Msg
1335795109481: Received UDP payload: 989
1335795109503: mux: GOT CSM_Msg
1335795109505: Received UDP payload: 989
1335795109525: mux: GOT CSM_Msg
1335795109526: Received UDP payload: 989
1335795109547: mux: GOT CSM_Msg
1335795109548: Received UDP payload: 989
1335795109568: mux: GOT CSM_Msg
1335795109570: Received UDP payload: 989
1335795109588: mux: GOT CSM_Msg
1335795109595: Received UDP payload: 989
1335795109612: Received UDP payload: 989
1335795109612: mux: GOT CSM_Msg
1335795109614: mux: GOT CSM_Msg
1335795109618: Received UDP payload: 989
1335795109625: mux: GOT CSM_Msg
1335795109634: Received UDP payload: 989
1335795109637: mux: GOT CSM_Msg
1335795109655: Received UDP payload: 989
1335795109657: mux: GOT CSM_Msg
1335795109664: Received UDP payload: 989
1335795109666: mux: GOT CSM_Msg
1335795109686: Received UDP payload: 446
1335795109716: Received UDP payload: 446
1335795110462: no LEADER_CONFIRM_ACK, uploaded state to cloud in 2193ms, json 70392 bytes
1335795110476: VCoreDaemon.java inside stateTransition ..........
1335795110477: ..... VCoreDaemon.java targetState = JOINING (4,0)
1335795110477: removing leaderRequestRetryR because I'm doing a stateTransition
1335795110478: posting leaderRequestRetryR because I'm joining
1335795110479: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335795110480: inside sendPacket(Packet p)
1335795110480: sending LEADER_REQUEST
1335795110495: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795110518: Sending UDP payload: 446
1335795110796: sending LEADER_REQUEST
1335795110797: inside sendPacket(Packet p)
1335795110797: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795110800: Sending UDP payload: 446
1335795111098: inside sendPacket(Packet p)
1335795111098: sending LEADER_REQUEST
1335795111099: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795111102: Sending UDP payload: 446
1335795111179: Received UDP payload: 3599
1335795111185: mux: Inside mux Packet.CLIENT_REQUEST
1335795111399: sending LEADER_REQUEST
1335795111400: inside sendPacket(Packet p)
1335795111400: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795111403: Sending UDP payload: 446
1335795111457: Received UDP payload: 446
1335795111479: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335795111480: VCoreDaemon.java inside stateTransition ..........
1335795111480: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335795111480: removing leaderRequestRetryR because I'm doing a stateTransition
1335795111481: ..... VCoreDaemon.java targetState = LEADER
1335795111481: trying to take leadership (4,0) to the cloud
1335795111615: cloud rejected leadership request or request failed, wait to retry
1335795111653: Received UDP payload: 989
1335795111670: mux: GOT CSM_Msg
1335795111764: Received UDP payload: 446
1335795112048: Received UDP payload: 3599
1335795112051: mux: Inside mux Packet.CLIENT_REQUEST
1335795112062: Received UDP payload: 446
1335795112171: Received UDP payload: 3599
1335795112174: mux: Inside mux Packet.CLIENT_REQUEST
1335795112366: Received UDP payload: 446
1335795114502: Received UDP payload: 446
1335795114639: Received UDP payload: 446
1335795116180: Received UDP payload: 989
1335795116189: mux: GOT CSM_Msg
1335795116219: Received UDP payload: 989
1335795116228: mux: GOT CSM_Msg
1335795116232: Received UDP payload: 989
1335795116244: mux: GOT CSM_Msg
1335795116251: Received UDP payload: 989
1335795116292: mux: GOT CSM_Msg
1335795116293: Received UDP payload: 989
1335795116314: Received UDP payload: 989
1335795116314: mux: GOT CSM_Msg
1335795116328: mux: GOT CSM_Msg
1335795116351: Received UDP payload: 989
1335795116362: mux: GOT CSM_Msg
1335795116387: Received UDP payload: 989
1335795116390: mux: GOT CSM_Msg
1335795116444: Received UDP payload: 989
1335795116446: mux: GOT CSM_Msg
1335795116498: Received UDP payload: 989
1335795116501: mux: GOT CSM_Msg
1335795116548: Received UDP payload: 446
1335795116684: Received UDP payload: 989
1335795116690: mux: GOT CSM_Msg
1335795116717: Received UDP payload: 446
1335795116720: removing leaderRequestRetryR because heard Packet.Heartbeat
1335795116721: ..... VCoreDaemon.java targetState = NONLEADER
1335795116721: DSMLayer stopped
1335795116721: VCoreDaemon.java inside stateTransition ..........
1335795116721: heard HEARTBEAT from 5010, now following
1335795116721: removing leaderRequestRetryR because I'm doing a stateTransition
1335795116722: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335795116722: now NONLEADER (id=5018) following LEADER (id=5010) in (4,0)
1335795116771: Received UDP payload: 989
1335795116775: mux: GOT CSM_Msg
1335795116805: Received UDP payload: 989
1335795116809: mux: GOT CSM_Msg
1335795116988: Received UDP payload: 989
1335795116992: mux: GOT CSM_Msg
1335795117082: Received UDP payload: 989
1335795117087: mux: GOT CSM_Msg
1335795117201: Received UDP payload: 446
1335795117503: Received UDP payload: 446
1335795117805: Received UDP payload: 446
1335795117853: Received UDP payload: 7484
1335795117873: mux: GOT CSM_Msg
1335795118075: Received UDP payload: 7484
1335795118085: mux: GOT CSM_Msg
1335795118110: Received UDP payload: 446
1335795118534: Received UDP payload: 446
1335795119029: Received UDP payload: 7484
1335795119043: mux: GOT CSM_Msg
1335795120175: Received UDP payload: 7484
1335795120181: mux: GOT CSM_Msg
1335795120529: Received UDP payload: 446
1335795120618: Received UDP payload: 446
1335795120641: Received UDP payload: 463
1335795120697: Received UDP payload: 446
1335795120832: Received UDP payload: 446
1335795120993: canPressButton = TRUE
1335795120994: areButtonsEnabled --> false
1335795120994: areButtonsEnabled --> false 
1335795120994: get picture disableButtonsR
1335795121021: one more getNum: 6
1335795121022: ** Client of state 3 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795121022: reg=4 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=4 getBad=1 getTimedout=0 getPercent=66%
1335795121023: change local requestCounter to 13
1335795121028: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018013 Client in region: 4 Client nodID: 5018
1335795121058: ----------------------------
1335795121058: inside sendRequestPacketRepeatingRunnable for requestCount = 5018013
1335795121060: I'm a nonleader sending my requesting photos packet to my leader
1335795121060: inside sendPacket(Packet p)
1335795121064: Sending UDP payload: 625
1335795121066: --- Finished one round of sending REQUEST Packet ---------
1335795121243: Received UDP payload: 446
1335795121366: ----------------------------
1335795121367: I'm a nonleader sending my requesting photos packet to my leader
1335795121367: inside sendPacket(Packet p)
1335795121367: inside sendRequestPacketRepeatingRunnable for requestCount = 5018013
1335795121368: Sending UDP payload: 625
1335795121387: --- Finished one round of sending REQUEST Packet ---------
1335795121438: Received UDP payload: 446
1335795121688: ----------------------------
1335795121688: inside sendRequestPacketRepeatingRunnable for requestCount = 5018013
1335795121689: I'm a nonleader sending my requesting photos packet to my leader
1335795121689: inside sendPacket(Packet p)
1335795121692: Sending UDP payload: 625
1335795121693: --- Finished one round of sending REQUEST Packet ---------
1335795121994: ----------------------------
1335795121994: I'm a nonleader sending my requesting photos packet to my leader
1335795121994: inside sendRequestPacketRepeatingRunnable for requestCount = 5018013
1335795121995: inside sendPacket(Packet p)
1335795121996: Sending UDP payload: 625
1335795121997: --- Finished one round of sending REQUEST Packet ---------
1335795122034: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335795122613: Received UDP payload: 446
1335795123614: Received UDP payload: 446
1335795123621: mux: Inside Packet.SERVER_REPLY
1335795123622: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795123625: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795123716: Received UDP payload: 446
1335795123919: Received UDP payload: 446
1335795123920: mux: Inside Packet.SERVER_REPLY
1335795123921: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795123922: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795124027: Received UDP payload: 446
1335795124258: Received UDP payload: 446
1335795124262: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795124262: mux: Inside Packet.SERVER_REPLY
1335795124263: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795124625: Received UDP payload: 446
1335795125115: Received UDP payload: 6782
1335795125127: mux: Inside Packet.SERVER_REPLY
1335795125128: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795125129: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795125130: disabling progressdialog due to successful new photo get
1335795125131: Inside _enableButtons
1335795125132: areButtonsEnabled --> true
1335795125133: send final leg ack regardless of new or already-processed reply
1335795125134: inside finalLegAck: change requestCounter to 14
1335795125135: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018014 Client in region: (4,0) Client nodID: 5018
1335795125136: I'm a nonleader client sending my final_leg packet to my leader
1335795125137: inside sendPacket(Packet p)
1335795125140: Sending UDP payload: 446
1335795125143: new client_show_remotephoto reply with replyCounter 501000011
1335795125144: note down new reply by adding replyCounter=501000011 to HashMap processedReplies
1335795125146: nonleader download remote photo latency = 3134
1335795125147: = nonleader download start 1335795121995 ~ stop 1335795125129
1335795125154: one more getGood: 5
1335795125157: reg=4 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=6 getGood=5 getBad=1 getTimedout=0 getPercent=83%
1335795125158: successful reply for client get photo
1335795125159: Success! Client getting photo from remote region, showing photo...
1335795125161: Remote photo's length: 6118
1335795125272: Received UDP payload: 446
1335795125822: Received UDP payload: 3911
1335795125824: mux: Inside mux Packet.CLIENT_REQUEST
1335795125824: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795125960: Received UDP payload: 989
1335795125963: mux: GOT CSM_Msg
1335795125987: Received UDP payload: 642
1335795125990: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795125990: mux: Inside Packet.SERVER_REPLY
1335795126001: Received UDP payload: 446
1335795126003: mux: Inside mux Packet.CLIENT_REQUEST
1335795126003: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795126557: Received UDP payload: 989
1335795126568: mux: GOT CSM_Msg
1335795126579: Received UDP payload: 446
1335795126936: Received UDP payload: 989
1335795126944: mux: GOT CSM_Msg
1335795127425: Received UDP payload: 446
1335795127700: Received UDP payload: 12145
1335795127721: Received UDP payload: 446
1335795127728: Received UDP payload: 446
1335795127756: Received UDP payload: 463
1335795128038: Received UDP payload: 446
1335795129581: Received UDP payload: 989
1335795129588: mux: GOT CSM_Msg
1335795129629: Received UDP payload: 446
1335795130439: canPressButton = TRUE
1335795130441: areButtonsEnabled --> false 
1335795130441: get picture disableButtonsR
1335795130442: areButtonsEnabled --> false
1335795130480: one more getNum: 7
1335795130481: ** Client of state 3 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795130481: change local requestCounter to 15
1335795130481: reg=4 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=5 getBad=1 getTimedout=0 getPercent=71%
1335795130482: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018015 Client in region: 4 Client nodID: 5018
1335795130516: ----------------------------
1335795130517: I'm a nonleader sending my requesting photos packet to my leader
1335795130517: inside sendRequestPacketRepeatingRunnable for requestCount = 5018015
1335795130518: inside sendPacket(Packet p)
1335795130519: Sending UDP payload: 625
1335795130520: --- Finished one round of sending REQUEST Packet ---------
1335795130821: ----------------------------
1335795130822: I'm a nonleader sending my requesting photos packet to my leader
1335795130822: inside sendPacket(Packet p)
1335795130822: inside sendRequestPacketRepeatingRunnable for requestCount = 5018015
1335795130825: Sending UDP payload: 625
1335795130827: --- Finished one round of sending REQUEST Packet ---------
1335795130859: Received UDP payload: 989
1335795130861: mux: GOT CSM_Msg
1335795130968: Received UDP payload: 989
1335795130970: mux: GOT CSM_Msg
1335795130975: Received UDP payload: 6667
1335795130977: mux: GOT CSM_Msg
1335795131061: Received UDP payload: 6667
1335795131064: mux: GOT CSM_Msg
1335795131128: ----------------------------
1335795131128: I'm a nonleader sending my requesting photos packet to my leader
1335795131128: inside sendPacket(Packet p)
1335795131128: inside sendRequestPacketRepeatingRunnable for requestCount = 5018015
1335795131129: Sending UDP payload: 625
1335795131134: --- Finished one round of sending REQUEST Packet ---------
1335795131195: Received UDP payload: 989
1335795131197: mux: GOT CSM_Msg
1335795131368: Received UDP payload: 4080
1335795131370: mux: Inside mux Packet.CLIENT_REQUEST
1335795131371: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795131380: Received UDP payload: 446
1335795131382: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795131382: mux: Inside Packet.SERVER_REPLY
1335795131388: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795131454: Received UDP payload: 4444
1335795131457: mux: GOT CSM_Msg
1335795131483: Received UDP payload: 446
1335795131512: Received UDP payload: 989
1335795131514: mux: GOT CSM_Msg
1335795131520: Received UDP payload: 642
1335795131523: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795131523: mux: Inside Packet.SERVER_REPLY
1335795131542: Received UDP payload: 446
1335795131544: mux: Inside mux Packet.CLIENT_REQUEST
1335795131544: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795131604: Received UDP payload: 446
1335795131925: Received UDP payload: 989
1335795131938: mux: GOT CSM_Msg
1335795132134: Received UDP payload: 989
1335795132137: mux: GOT CSM_Msg
1335795132177: Received UDP payload: 989
1335795132180: mux: GOT CSM_Msg
1335795132324: Received UDP payload: 989
1335795132327: mux: GOT CSM_Msg
1335795132399: Received UDP payload: 463
1335795132401: heard LEADER_ELECT from node 5010, responding LEADER_NOMINATE
1335795132402: Sending UDP payload: 446
1335795132402: inside sendPacket(Packet p)
1335795132433: Received UDP payload: 446
1335795132435: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795132435: mux: Inside Packet.SERVER_REPLY
1335795132545: Received UDP payload: 446
1335795132631: Received UDP payload: 446
1335795132898: Received UDP payload: 446
1335795133191: Received UDP payload: 446
1335795133263: Received UDP payload: 989
1335795133275: mux: GOT CSM_Msg
1335795133284: Received UDP payload: 446
1335795133290: mux: Inside Packet.SERVER_REPLY
1335795133291: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795133525: Received UDP payload: 446
1335795133969: Received UDP payload: 446
1335795134010: Received UDP payload: 989
1335795134022: mux: GOT CSM_Msg
1335795134109: Received UDP payload: 989
1335795134113: mux: GOT CSM_Msg
1335795134335: Received UDP payload: 989
1335795134338: mux: GOT CSM_Msg
1335795134673: Received UDP payload: 989
1335795134676: mux: GOT CSM_Msg
1335795134779: Received UDP payload: 989
1335795134785: mux: GOT CSM_Msg
1335795134786: Received UDP payload: 446
1335795134944: Received UDP payload: 989
1335795134948: mux: GOT CSM_Msg
1335795135047: Received UDP payload: 989
1335795135052: mux: GOT CSM_Msg
1335795135078: Received UDP payload: 446
1335795135152: Received UDP payload: 989
1335795135168: mux: GOT CSM_Msg
1335795135237: Received UDP payload: 989
1335795135239: mux: GOT CSM_Msg
1335795135259: Received UDP payload: 446
1335795135319: Received UDP payload: 446
1335795135349: Received UDP payload: 989
1335795135354: mux: GOT CSM_Msg
1335795135363: Received UDP payload: 642
1335795135365: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795135365: mux: Inside Packet.SERVER_REPLY
1335795135379: Received UDP payload: 446
1335795135623: Received UDP payload: 446
1335795135669: Received UDP payload: 642
1335795135671: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795135671: mux: Inside Packet.SERVER_REPLY
1335795135682: Received UDP payload: 446
1335795135921: Received UDP payload: 446
1335795136237: Received UDP payload: 642
1335795136240: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795136240: mux: Inside Packet.SERVER_REPLY
1335795136265: Received UDP payload: 642
1335795136267: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795136267: mux: Inside Packet.SERVER_REPLY
1335795136481: one more getTimedout: 1
1335795136483: inside buttonsEnableProgressTimeoutR. Perhaps no one is in that region. Try again later!
1335795136483: reg=4 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=7 getGood=5 getBad=1 getTimedout=1 getPercent=71%
1335795136489: Inside _enableButtons
1335795136490: areButtonsEnabled --> true
1335795136512: Received UDP payload: 446
1335795137573: Received UDP payload: 446
1335795137753: Received UDP payload: 446
1335795138807: Received UDP payload: 446
1335795138809: mux: Inside mux Packet.CLIENT_REQUEST
1335795138809: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795138822: Received UDP payload: 446
1335795138824: mux: Inside mux Packet.CLIENT_REQUEST
1335795138824: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795138950: Received UDP payload: 446
1335795138952: mux: Inside mux Packet.CLIENT_REQUEST
1335795138953: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795138956: Received UDP payload: 446
1335795138959: mux: Inside mux Packet.CLIENT_REQUEST
1335795138959: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795140193: Received UDP payload: 446
1335795140617: Received UDP payload: 446
1335795140992: Received UDP payload: 4584
1335795140999: mux: Inside mux Packet.CLIENT_REQUEST
1335795140999: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795141153: Received UDP payload: 4584
1335795141174: mux: Inside mux Packet.CLIENT_REQUEST
1335795141174: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795141671: Received UDP payload: 446
1335795141933: Received UDP payload: 463
1335795141969: Received UDP payload: 446
1335795141977: Received UDP payload: 446
1335795142554: Received UDP payload: 446
1335795142677: Received UDP payload: 989
1335795142693: mux: GOT CSM_Msg
1335795143990: Received UDP payload: 625
1335795143995: mux: Inside mux Packet.CLIENT_REQUEST
1335795143996: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795144392: Received UDP payload: 625
1335795144398: mux: Inside mux Packet.CLIENT_REQUEST
1335795144398: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795144594: Received UDP payload: 625
1335795144598: mux: Inside mux Packet.CLIENT_REQUEST
1335795144599: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795144789: Received UDP payload: 446
1335795144804: Received UDP payload: 446
1335795144813: Received UDP payload: 446
1335795144826: Received UDP payload: 446
1335795144899: Received UDP payload: 625
1335795144906: mux: Inside mux Packet.CLIENT_REQUEST
1335795144907: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795145139: Received UDP payload: 446
1335795145286: Received UDP payload: 4948
1335795145295: mux: GOT CSM_Msg
1335795145309: Received UDP payload: 446
1335795145317: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795145317: mux: Inside Packet.SERVER_REPLY
1335795145328: Received UDP payload: 989
1335795145339: mux: GOT CSM_Msg
1335795145345: Received UDP payload: 642
1335795145348: mux: Inside Packet.SERVER_REPLY
1335795145349: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795145353: Received UDP payload: 446
1335795145354: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795145354: mux: Inside Packet.SERVER_REPLY
1335795145377: Received UDP payload: 446
1335795145379: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795145379: mux: Inside Packet.SERVER_REPLY
1335795145393: Received UDP payload: 446
1335795145394: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795145394: mux: Inside Packet.SERVER_REPLY
1335795145411: Received UDP payload: 463
1335795145492: Received UDP payload: 4536
1335795145494: mux: Inside mux Packet.CLIENT_REQUEST
1335795145494: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795145520: Received UDP payload: 642
1335795145521: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795145521: mux: Inside Packet.SERVER_REPLY
1335795145526: Received UDP payload: 642
1335795145528: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795145528: mux: Inside Packet.SERVER_REPLY
1335795145539: Received UDP payload: 642
1335795145541: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795145541: mux: Inside Packet.SERVER_REPLY
1335795145544: Received UDP payload: 446
1335795145568: Received UDP payload: 446
1335795145726: Received UDP payload: 446
1335795146406: canPressButton = TRUE
1335795146408: areButtonsEnabled --> false 
1335795146409: areButtonsEnabled --> false
1335795146409: get picture disableButtonsR
1335795146412: Received UDP payload: 4536
1335795146418: mux: Inside mux Packet.CLIENT_REQUEST
1335795146418: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795146455: one more getNum: 8
1335795146456: ** Client of state 3 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335795146456: change local requestCounter to 16
1335795146456: reg=4 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=5 getBad=1 getTimedout=1 getPercent=62%
1335795146460: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018016 Client in region: 4 Client nodID: 5018
1335795146491: ----------------------------
1335795146491: I'm a nonleader sending my requesting photos packet to my leader
1335795146491: inside sendPacket(Packet p)
1335795146491: inside sendRequestPacketRepeatingRunnable for requestCount = 5018016
1335795146496: Sending UDP payload: 625
1335795146497: --- Finished one round of sending REQUEST Packet ---------
1335795146760: Received UDP payload: 446
1335795146797: ----------------------------
1335795146797: I'm a nonleader sending my requesting photos packet to my leader
1335795146797: inside sendRequestPacketRepeatingRunnable for requestCount = 5018016
1335795146798: --- Finished one round of sending REQUEST Packet ---------
1335795146798: inside sendPacket(Packet p)
1335795146801: Sending UDP payload: 625
1335795147060: Received UDP payload: 446
1335795147098: ----------------------------
1335795147099: I'm a nonleader sending my requesting photos packet to my leader
1335795147099: inside sendPacket(Packet p)
1335795147099: inside sendRequestPacketRepeatingRunnable for requestCount = 5018016
1335795147102: Sending UDP payload: 625
1335795147103: --- Finished one round of sending REQUEST Packet ---------
1335795147403: ----------------------------
1335795147403: inside sendRequestPacketRepeatingRunnable for requestCount = 5018016
1335795147404: I'm a nonleader sending my requesting photos packet to my leader
1335795147404: inside sendPacket(Packet p)
1335795147405: --- Finished one round of sending REQUEST Packet ---------
1335795147405: Sending UDP payload: 625
1335795147460: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335795148026: Received UDP payload: 446
1335795148047: Received UDP payload: 989
1335795148062: mux: GOT CSM_Msg
1335795148114: Received UDP payload: 989
1335795148117: Received UDP payload: 989
1335795148118: mux: GOT CSM_Msg
1335795148120: mux: GOT CSM_Msg
1335795148231: Received UDP payload: 989
1335795148234: mux: GOT CSM_Msg
1335795148269: Received UDP payload: 989
1335795148271: mux: GOT CSM_Msg
1335795148409: Received UDP payload: 989
1335795148412: mux: GOT CSM_Msg
1335795149427: Received UDP payload: 989
1335795149438: mux: GOT CSM_Msg
1335795149565: Received UDP payload: 989
1335795149568: mux: GOT CSM_Msg
1335795149590: Received UDP payload: 989
1335795149593: mux: GOT CSM_Msg
1335795149601: Received UDP payload: 989
1335795149605: mux: GOT CSM_Msg
1335795149711: Received UDP payload: 989
1335795149715: mux: GOT CSM_Msg
1335795149726: Received UDP payload: 989
1335795149731: mux: GOT CSM_Msg
1335795149739: Received UDP payload: 989
1335795149743: mux: GOT CSM_Msg
1335795149765: Received UDP payload: 989
1335795149768: mux: GOT CSM_Msg
1335795149807: Received UDP payload: 642
1335795149810: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795149810: mux: Inside Packet.SERVER_REPLY
1335795149812: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795149812: Inside _enableButtons
1335795149812: disabling progressdialog due to successful new photo get
1335795149813: areButtonsEnabled --> true
1335795149813: inside finalLegAck: change requestCounter to 17
1335795149813: send final leg ack regardless of new or already-processed reply
1335795149814: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018017 Client in region: (4,0) Client nodID: 5018
1335795149814: I'm a nonleader client sending my final_leg packet to my leader
1335795149815: inside sendPacket(Packet p)
1335795149816: Sending UDP payload: 446
1335795149818: new client_show_remotephoto reply with replyCounter 501100001
1335795149818: note down new reply by adding replyCounter=501100001 to HashMap processedReplies
1335795149819: nonleader download remote photo latency = 2408
1335795149821: = nonleader download start 1335795147404 ~ stop 1335795149812
1335795149822: Can't get remote photo, because DSM Layer on originator leader timed out
1335795149827: one more getBad: 2
1335795149829: getBad++
1335795149829: reg=4 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=8 getGood=5 getBad=2 getTimedout=1 getPercent=62%
1335795149904: Received UDP payload: 642
1335795149913: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795149913: mux: Inside Packet.SERVER_REPLY
1335795149918: Received UDP payload: 642
1335795149921: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795149921: mux: Inside Packet.SERVER_REPLY
1335795149931: Received UDP payload: 642
1335795149933: mux: Inside Packet.SERVER_REPLY
1335795149934: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795149977: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795149977: disabling progressdialog due to successful new photo get
1335795149978: Inside _enableButtons
1335795149978: areButtonsEnabled --> true
1335795149978: inside finalLegAck: change requestCounter to 18
1335795149978: send final leg ack regardless of new or already-processed reply
1335795149979: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018018 Client in region: (4,0) Client nodID: 5018
1335795149980: I'm a nonleader client sending my final_leg packet to my leader
1335795149980: inside sendPacket(Packet p)
1335795149981: Sending UDP payload: 446
1335795149982: csn discarding repeated replyCounter=501100001, but still sent an ack back
1335795149983: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795149984: Inside _enableButtons
1335795149984: areButtonsEnabled --> true
1335795149984: disabling progressdialog due to successful new photo get
1335795149984: send final leg ack regardless of new or already-processed reply
1335795149985: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018019 Client in region: (4,0) Client nodID: 5018
1335795149985: inside finalLegAck: change requestCounter to 19
1335795149986: I'm a nonleader client sending my final_leg packet to my leader
1335795149986: inside sendPacket(Packet p)
1335795149987: Sending UDP payload: 446
1335795149992: csn discarding repeated replyCounter=501100001, but still sent an ack back
1335795149994: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795149995: disabling progressdialog due to successful new photo get
1335795149996: Inside _enableButtons
1335795149996: areButtonsEnabled --> true
1335795149997: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018020 Client in region: (4,0) Client nodID: 5018
1335795149997: inside finalLegAck: change requestCounter to 20
1335795149997: send final leg ack regardless of new or already-processed reply
1335795149998: I'm a nonleader client sending my final_leg packet to my leader
1335795149998: inside sendPacket(Packet p)
1335795150000: Sending UDP payload: 446
1335795150001: csn discarding repeated replyCounter=501100001, but still sent an ack back
1335795150020: Received UDP payload: 446
1335795150309: Received UDP payload: 446
1335795150488: ..... VCoreDaemon.java targetState = JOINING (4,0)
1335795150488: Missed 3 HEARTBEATS from LEADER, going to JOINING.
1335795150488: VCoreDaemon.java inside stateTransition ..........
1335795150488: removing leaderRequestRetryR because I'm doing a stateTransition
1335795150489: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335795150489: inside sendPacket(Packet p)
1335795150489: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795150489: posting leaderRequestRetryR because I'm joining
1335795150489: sending LEADER_REQUEST
1335795150494: Sending UDP payload: 446
1335795150651: Received UDP payload: 446
1335795150803: inside sendPacket(Packet p)
1335795150803: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795150803: sending LEADER_REQUEST
1335795150805: Sending UDP payload: 446
1335795151104: inside sendPacket(Packet p)
1335795151104: sending LEADER_REQUEST
1335795151105: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795151106: Sending UDP payload: 446
1335795151136: Received UDP payload: 23312
1335795151144: removing leaderRequestRetryR because heard Packet.Leader_reply
1335795151145: VCoreDaemon.java inside stateTransition ..........
1335795151145: heard LEADER_REPLY from 5011
1335795151146: ..... VCoreDaemon.java targetState = NONLEADER
1335795151146: removing leaderRequestRetryR because I'm doing a stateTransition
1335795151147: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335795151147: now NONLEADER (id=5018) following LEADER (id=5011) in (4,0)
1335795151297: Received UDP payload: 446
1335795151446: Received UDP payload: 989
1335795151450: mux: GOT CSM_Msg
1335795151468: Received UDP payload: 989
1335795151470: mux: GOT CSM_Msg
1335795151952: Received UDP payload: 989
1335795151971: mux: GOT CSM_Msg
1335795151981: Received UDP payload: 989
1335795151997: mux: GOT CSM_Msg
1335795151998: Received UDP payload: 989
1335795152006: mux: GOT CSM_Msg
1335795152019: Received UDP payload: 989
1335795152022: Received UDP payload: 989
1335795152022: mux: GOT CSM_Msg
1335795152024: mux: GOT CSM_Msg
1335795152113: Received UDP payload: 989
1335795152115: mux: GOT CSM_Msg
1335795152214: Received UDP payload: 989
1335795152217: mux: GOT CSM_Msg
1335795152316: Received UDP payload: 989
1335795152320: mux: GOT CSM_Msg
1335795152720: Received UDP payload: 625
1335795152723: mux: Inside mux Packet.CLIENT_REQUEST
1335795152723: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795152985: Received UDP payload: 446
1335795153009: Received UDP payload: 989
1335795153022: mux: GOT CSM_Msg
1335795153037: Received UDP payload: 989
1335795153049: mux: GOT CSM_Msg
1335795153060: Received UDP payload: 989
1335795153068: mux: GOT CSM_Msg
1335795153076: Received UDP payload: 989
1335795153099: mux: GOT CSM_Msg
1335795153152: Received UDP payload: 989
1335795153154: mux: GOT CSM_Msg
1335795153278: Received UDP payload: 625
1335795153280: mux: Inside mux Packet.CLIENT_REQUEST
1335795153280: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795153378: Received UDP payload: 989
1335795153380: mux: GOT CSM_Msg
1335795153458: Received UDP payload: 989
1335795153461: mux: GOT CSM_Msg
1335795153551: Received UDP payload: 989
1335795153553: mux: GOT CSM_Msg
1335795153643: Received UDP payload: 989
1335795153645: mux: GOT CSM_Msg
1335795153866: Received UDP payload: 989
1335795153874: mux: GOT CSM_Msg
1335795153957: Received UDP payload: 989
1335795153971: mux: GOT CSM_Msg
1335795154003: Received UDP payload: 989
1335795154012: mux: GOT CSM_Msg
1335795154058: Received UDP payload: 989
1335795154067: mux: GOT CSM_Msg
1335795154261: Received UDP payload: 989
1335795154271: mux: GOT CSM_Msg
1335795155367: Received UDP payload: 446
1335795155508: canPressButton = TRUE
1335795155509: areButtonsEnabled --> false 
1335795155510: get picture disableButtonsR
1335795155511: areButtonsEnabled --> false
1335795155541: one more getNum: 9
1335795155544: ** Client of state 3 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335795155544: change local requestCounter to 21
1335795155544: reg=4 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=5 getBad=2 getTimedout=1 getPercent=55%
1335795155545: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018021 Client in region: 4 Client nodID: 5018
1335795155572: Received UDP payload: 446
1335795155581: ----------------------------
1335795155582: I'm a nonleader sending my requesting photos packet to my leader
1335795155582: inside sendPacket(Packet p)
1335795155582: inside sendRequestPacketRepeatingRunnable for requestCount = 5018021
1335795155583: Sending UDP payload: 625
1335795155584: --- Finished one round of sending REQUEST Packet ---------
1335795155657: Received UDP payload: 989
1335795155660: mux: GOT CSM_Msg
1335795155672: Received UDP payload: 446
1335795155673: mux: Inside Packet.SERVER_REPLY
1335795155674: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795155685: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795155694: Received UDP payload: 446
1335795155967: Received UDP payload: 446
1335795156048: Received UDP payload: 446
1335795156059: Received UDP payload: 7484
1335795156062: mux: GOT CSM_Msg
1335795156185: Received UDP payload: 7137
1335795156187: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795156187: mux: Inside Packet.SERVER_REPLY
1335795156224: Received UDP payload: 625
1335795156226: mux: Inside mux Packet.CLIENT_REQUEST
1335795156226: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795156305: Received UDP payload: 5481
1335795156307: mux: Inside mux Packet.CLIENT_REQUEST
1335795156307: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795156355: Received UDP payload: 446
1335795156464: Received UDP payload: 625
1335795156466: mux: Inside mux Packet.CLIENT_REQUEST
1335795156467: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795156505: Received UDP payload: 7137
1335795156508: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795156508: mux: Inside Packet.SERVER_REPLY
1335795156590: Received UDP payload: 5845
1335795156593: mux: GOT CSM_Msg
1335795156858: Received UDP payload: 5481
1335795156860: mux: Inside mux Packet.CLIENT_REQUEST
1335795156860: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795156883: Received UDP payload: 989
1335795156886: mux: GOT CSM_Msg
1335795156897: Received UDP payload: 642
1335795156899: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795156899: mux: Inside Packet.SERVER_REPLY
1335795156947: Received UDP payload: 446
1335795156980: Received UDP payload: 5481
1335795156981: mux: Inside mux Packet.CLIENT_REQUEST
1335795156981: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795156996: Received UDP payload: 446
1335795156998: mux: Inside mux Packet.CLIENT_REQUEST
1335795156998: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795157134: Received UDP payload: 625
1335795157136: mux: Inside mux Packet.CLIENT_REQUEST
1335795157136: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795157191: Received UDP payload: 7137
1335795157192: mux: Inside Packet.SERVER_REPLY
1335795157193: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795157315: Received UDP payload: 5481
1335795157316: mux: Inside mux Packet.CLIENT_REQUEST
1335795157316: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795157528: Received UDP payload: 642
1335795157530: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795157530: mux: Inside Packet.SERVER_REPLY
1335795157538: Received UDP payload: 446
1335795157549: Received UDP payload: 446
1335795157552: mux: Inside mux Packet.CLIENT_REQUEST
1335795157552: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795157553: Received UDP payload: 446
1335795157556: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795157556: mux: Inside Packet.SERVER_REPLY
1335795158423: Received UDP payload: 15341
1335795158749: Received UDP payload: 446
1335795158913: Received UDP payload: 446
1335795158935: Received UDP payload: 4211
1335795158965: mux: GOT CSM_Msg
1335795159214: Received UDP payload: 446
1335795159318: Received UDP payload: 4211
1335795159322: mux: GOT CSM_Msg
1335795159463: Received UDP payload: 989
1335795159466: mux: GOT CSM_Msg
1335795159495: Received UDP payload: 446
1335795159558: Received UDP payload: 4211
1335795159566: mux: GOT CSM_Msg
1335795159656: Received UDP payload: 4211
1335795159663: mux: GOT CSM_Msg
1335795159749: Received UDP payload: 4211
1335795159752: mux: GOT CSM_Msg
1335795159968: Received UDP payload: 4211
1335795159972: mux: GOT CSM_Msg
1335795160172: Received UDP payload: 625
1335795160174: mux: Inside mux Packet.CLIENT_REQUEST
1335795160174: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795160253: Received UDP payload: 989
1335795160256: mux: GOT CSM_Msg
1335795160288: Received UDP payload: 446
1335795160291: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795160291: mux: Inside Packet.SERVER_REPLY
1335795160600: Received UDP payload: 625
1335795160602: mux: Inside mux Packet.CLIENT_REQUEST
1335795160602: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795160814: Received UDP payload: 625
1335795160816: mux: Inside mux Packet.CLIENT_REQUEST
1335795160816: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795161026: Received UDP payload: 446
1335795161088: Received UDP payload: 625
1335795161095: mux: Inside mux Packet.CLIENT_REQUEST
1335795161095: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795161542: one more getTimedout: 2
1335795161545: Received UDP payload: 446
1335795161547: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795161547: mux: Inside Packet.SERVER_REPLY
1335795161549: reg=4 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=9 getGood=5 getBad=2 getTimedout=2 getPercent=55%
1335795161550: inside buttonsEnableProgressTimeoutR. Perhaps no one is in that region. Try again later!
1335795161556: Inside _enableButtons
1335795161557: areButtonsEnabled --> true
1335795161569: Received UDP payload: 446
1335795161571: mux: Inside Packet.SERVER_REPLY
1335795161572: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795161588: Received UDP payload: 989
1335795161593: mux: GOT CSM_Msg
1335795161623: Received UDP payload: 989
1335795161628: mux: GOT CSM_Msg
1335795161637: Received UDP payload: 989
1335795161642: mux: GOT CSM_Msg
1335795161684: Received UDP payload: 989
1335795161690: mux: GOT CSM_Msg
1335795161707: Received UDP payload: 989
1335795161713: mux: GOT CSM_Msg
1335795161727: Received UDP payload: 989
1335795161732: mux: GOT CSM_Msg
1335795161774: Received UDP payload: 989
1335795161790: mux: GOT CSM_Msg
1335795161791: Received UDP payload: 989
1335795161795: mux: GOT CSM_Msg
1335795161814: Received UDP payload: 446
1335795161858: Received UDP payload: 989
1335795161862: mux: GOT CSM_Msg
1335795161935: Received UDP payload: 989
1335795161945: mux: GOT CSM_Msg
1335795162046: Received UDP payload: 989
1335795162048: mux: GOT CSM_Msg
1335795162133: Received UDP payload: 446
1335795162148: Received UDP payload: 989
1335795162151: mux: GOT CSM_Msg
1335795162235: Received UDP payload: 989
1335795162237: mux: GOT CSM_Msg
1335795162345: Received UDP payload: 989
1335795162347: mux: GOT CSM_Msg
1335795162355: Received UDP payload: 642
1335795162357: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795162357: mux: Inside Packet.SERVER_REPLY
1335795162407: Received UDP payload: 446
1335795162408: mux: Inside mux Packet.CLIENT_REQUEST
1335795162408: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795163598: Received UDP payload: 446
1335795164108: Received UDP payload: 989
1335795164111: mux: GOT CSM_Msg
1335795164136: Received UDP payload: 989
1335795164140: mux: GOT CSM_Msg
1335795164145: Received UDP payload: 989
1335795164148: mux: GOT CSM_Msg
1335795164155: Received UDP payload: 989
1335795164159: mux: GOT CSM_Msg
1335795164231: Received UDP payload: 989
1335795164234: mux: GOT CSM_Msg
1335795164247: Received UDP payload: 989
1335795164252: mux: GOT CSM_Msg
1335795164272: Received UDP payload: 989
1335795164277: mux: GOT CSM_Msg
1335795165416: Received UDP payload: 446
1335795165535: Received UDP payload: 446
1335795165728: Received UDP payload: 989
1335795165737: mux: GOT CSM_Msg
1335795165782: Received UDP payload: 989
1335795165792: mux: GOT CSM_Msg
1335795165841: Received UDP payload: 989
1335795165843: mux: GOT CSM_Msg
1335795165860: Received UDP payload: 989
1335795165863: mux: GOT CSM_Msg
1335795165893: Received UDP payload: 989
1335795165896: mux: GOT CSM_Msg
1335795165926: Received UDP payload: 989
1335795165929: mux: GOT CSM_Msg
1335795165935: Received UDP payload: 446
1335795166114: Received UDP payload: 446
1335795166147: Received UDP payload: 4461
1335795166150: mux: GOT CSM_Msg
1335795166226: Received UDP payload: 4461
1335795166229: mux: GOT CSM_Msg
1335795166807: Received UDP payload: 989
1335795166814: mux: GOT CSM_Msg
1335795166823: Received UDP payload: 989
1335795166844: mux: GOT CSM_Msg
1335795166938: Received UDP payload: 625
1335795166939: mux: Inside mux Packet.CLIENT_REQUEST
1335795166939: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795166955: Received UDP payload: 989
1335795166957: mux: GOT CSM_Msg
1335795166980: Received UDP payload: 446
1335795166981: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795166981: mux: Inside Packet.SERVER_REPLY
1335795167139: Received UDP payload: 989
1335795167142: mux: GOT CSM_Msg
1335795167504: Received UDP payload: 4461
1335795167512: mux: GOT CSM_Msg
1335795167571: Received UDP payload: 4461
1335795167579: mux: GOT CSM_Msg
1335795167689: Received UDP payload: 989
1335795167695: mux: GOT CSM_Msg
1335795167704: Received UDP payload: 989
1335795167711: mux: GOT CSM_Msg
1335795167730: Received UDP payload: 446
1335795167780: Received UDP payload: 989
1335795167782: mux: GOT CSM_Msg
1335795167790: Received UDP payload: 989
1335795167792: mux: GOT CSM_Msg
1335795167898: Received UDP payload: 989
1335795167900: mux: GOT CSM_Msg
1335795168022: Received UDP payload: 989
1335795168024: mux: GOT CSM_Msg
1335795168087: Received UDP payload: 989
1335795168090: mux: GOT CSM_Msg
1335795168104: Received UDP payload: 989
1335795168106: mux: GOT CSM_Msg
1335795168180: Received UDP payload: 989
1335795168182: mux: GOT CSM_Msg
1335795168352: Received UDP payload: 989
1335795168354: mux: GOT CSM_Msg
1335795168448: Received UDP payload: 989
1335795168452: mux: GOT CSM_Msg
1335795168490: Received UDP payload: 989
1335795168495: mux: GOT CSM_Msg
1335795168609: Received UDP payload: 989
1335795168613: mux: GOT CSM_Msg
1335795168767: Received UDP payload: 5553
1335795168771: mux: GOT CSM_Msg
1335795168780: Received UDP payload: 446
1335795168782: mux: Inside Packet.SERVER_REPLY
1335795168783: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795168856: Received UDP payload: 989
1335795168861: mux: GOT CSM_Msg
1335795168884: Received UDP payload: 989
1335795168888: mux: GOT CSM_Msg
1335795168893: Received UDP payload: 642
1335795168896: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795168896: mux: Inside Packet.SERVER_REPLY
1335795168988: Received UDP payload: 446
1335795168990: mux: Inside mux Packet.CLIENT_REQUEST
1335795168990: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795169063: Received UDP payload: 446
1335795169065: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795169065: mux: Inside Packet.SERVER_REPLY
1335795169078: Received UDP payload: 642
1335795169080: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795169080: mux: Inside Packet.SERVER_REPLY
1335795169119: Received UDP payload: 446
1335795169121: mux: Inside mux Packet.CLIENT_REQUEST
1335795169121: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795169126: Received UDP payload: 446
1335795169127: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795169127: mux: Inside Packet.SERVER_REPLY
1335795169231: Received UDP payload: 642
1335795169233: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795169233: mux: Inside Packet.SERVER_REPLY
1335795169245: Received UDP payload: 446
1335795169246: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795169246: mux: Inside Packet.SERVER_REPLY
1335795169260: Received UDP payload: 642
1335795169262: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795169262: mux: Inside Packet.SERVER_REPLY
1335795169267: Received UDP payload: 446
1335795169268: mux: Inside mux Packet.CLIENT_REQUEST
1335795169269: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795169288: Received UDP payload: 446
1335795169290: mux: Inside mux Packet.CLIENT_REQUEST
1335795169290: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795169307: Received UDP payload: 989
1335795169310: mux: GOT CSM_Msg
1335795169319: Received UDP payload: 989
1335795169322: mux: GOT CSM_Msg
1335795169342: Received UDP payload: 989
1335795169344: mux: GOT CSM_Msg
1335795169355: Received UDP payload: 642
1335795169357: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795169357: mux: Inside Packet.SERVER_REPLY
1335795169408: Received UDP payload: 446
1335795169410: mux: Inside mux Packet.CLIENT_REQUEST
1335795169410: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795169438: Received UDP payload: 446
1335795169550: Received UDP payload: 989
1335795169558: mux: GOT CSM_Msg
1335795170041: Received UDP payload: 446
1335795170157: Received UDP payload: 5553
1335795170163: mux: GOT CSM_Msg
1335795170229: Received UDP payload: 5553
1335795170231: mux: GOT CSM_Msg
1335795170240: Received UDP payload: 989
1335795170242: mux: GOT CSM_Msg
1335795170380: Received UDP payload: 5553
1335795170382: mux: GOT CSM_Msg
1335795170510: Received UDP payload: 463
1335795170534: Received UDP payload: 446
1335795170548: Received UDP payload: 989
1335795170550: mux: GOT CSM_Msg
1335795170664: Received UDP payload: 989
1335795170666: mux: GOT CSM_Msg
1335795170745: Received UDP payload: 5553
1335795170749: mux: GOT CSM_Msg
1335795170953: Received UDP payload: 446
1335795171021: Received UDP payload: 4579
1335795171030: mux: GOT CSM_Msg
1335795171104: Received UDP payload: 4579
1335795171106: mux: GOT CSM_Msg
1335795171188: Received UDP payload: 4579
1335795171191: mux: GOT CSM_Msg
1335795171304: canPressButton = TRUE
1335795171305: areButtonsEnabled --> false
1335795171305: areButtonsEnabled --> false 
1335795171305: get picture disableButtonsR
1335795171331: one more getNum: 10
1335795171332: ** Client of state 3 in region 4 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795171332: reg=4 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=5 getBad=2 getTimedout=2 getPercent=50%
1335795171333: change local requestCounter to 22
1335795171339: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018022 Client in region: 4 Client nodID: 5018
1335795171370: ----------------------------
1335795171371: I'm a nonleader sending my requesting photos packet to my leader
1335795171371: inside sendPacket(Packet p)
1335795171371: inside sendRequestPacketRepeatingRunnable for requestCount = 5018022
1335795171376: Sending UDP payload: 625
1335795171377: --- Finished one round of sending REQUEST Packet ---------
1335795171485: Received UDP payload: 446
1335795171487: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795171487: mux: Inside Packet.SERVER_REPLY
1335795171500: Received UDP payload: 989
1335795171502: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795171502: mux: GOT CSM_Msg
1335795171769: Received UDP payload: 4175
1335795171772: mux: GOT CSM_Msg
1335795171782: Received UDP payload: 989
1335795171785: mux: GOT CSM_Msg
1335795172176: Received UDP payload: 989
1335795172181: mux: GOT CSM_Msg
1335795172189: Received UDP payload: 446
1335795172222: Received UDP payload: 989
1335795172229: mux: GOT CSM_Msg
1335795172279: Received UDP payload: 989
1335795172281: mux: GOT CSM_Msg
1335795172290: Received UDP payload: 989
1335795172292: mux: GOT CSM_Msg
1335795172392: Received UDP payload: 989
1335795172394: mux: GOT CSM_Msg
1335795172426: Received UDP payload: 989
1335795172428: mux: GOT CSM_Msg
1335795172484: Received UDP payload: 989
1335795172486: mux: GOT CSM_Msg
1335795172499: Received UDP payload: 989
1335795172501: mux: GOT CSM_Msg
1335795172584: Received UDP payload: 446
1335795172595: Received UDP payload: 989
1335795172597: mux: GOT CSM_Msg
1335795172613: Received UDP payload: 989
1335795172615: mux: GOT CSM_Msg
1335795172697: Received UDP payload: 989
1335795172699: mux: GOT CSM_Msg
1335795172813: Received UDP payload: 989
1335795172815: mux: GOT CSM_Msg
1335795172884: Received UDP payload: 446
1335795172891: Received UDP payload: 989
1335795172893: mux: GOT CSM_Msg
1335795172902: Received UDP payload: 989
1335795172904: mux: GOT CSM_Msg
1335795172994: Received UDP payload: 989
1335795172996: mux: GOT CSM_Msg
1335795173095: Received UDP payload: 989
1335795173097: mux: GOT CSM_Msg
1335795173109: Received UDP payload: 989
1335795173112: mux: GOT CSM_Msg
1335795173197: Received UDP payload: 989
1335795173199: mux: GOT CSM_Msg
1335795173303: Received UDP payload: 989
1335795173305: mux: GOT CSM_Msg
1335795173417: Received UDP payload: 989
1335795173424: mux: GOT CSM_Msg
1335795173430: Received UDP payload: 989
1335795173438: mux: GOT CSM_Msg
1335795173498: Received UDP payload: 446
1335795173518: Received UDP payload: 989
1335795173521: mux: GOT CSM_Msg
1335795173542: Received UDP payload: 989
1335795173544: mux: GOT CSM_Msg
1335795173596: Received UDP payload: 446
1335795173618: Received UDP payload: 989
1335795173620: mux: GOT CSM_Msg
1335795173910: Received UDP payload: 642
1335795173912: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795173912: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795173912: mux: Inside Packet.SERVER_REPLY
1335795173913: Inside _enableButtons
1335795173913: areButtonsEnabled --> true
1335795173913: disabling progressdialog due to successful new photo get
1335795173913: send final leg ack regardless of new or already-processed reply
1335795173914: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018023 Client in region: (4,0) Client nodID: 5018
1335795173914: I'm a nonleader client sending my final_leg packet to my leader
1335795173914: inside finalLegAck: change requestCounter to 23
1335795173914: inside sendPacket(Packet p)
1335795173915: Sending UDP payload: 446
1335795173916: new client_show_remotephoto reply with replyCounter 501100005
1335795173916: nonleader download remote photo latency = 2541
1335795173916: note down new reply by adding replyCounter=501100005 to HashMap processedReplies
1335795173917: = nonleader download start 1335795171371 ~ stop 1335795173912
1335795173917: Can't get remote photo, because DSM Layer on originator leader timed out
1335795173920: one more getBad: 3
1335795173921: reg=4 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=10 getGood=5 getBad=3 getTimedout=2 getPercent=50%
1335795173922: getBad++
1335795173991: Received UDP payload: 446
1335795174206: Received UDP payload: 446
1335795174841: Received UDP payload: 989
1335795174848: mux: GOT CSM_Msg
1335795174938: Received UDP payload: 4175
1335795174944: mux: GOT CSM_Msg
1335795175337: Received UDP payload: 5553
1335795175346: mux: GOT CSM_Msg
1335795175417: Received UDP payload: 446
1335795175534: Received UDP payload: 446
1335795175784: Received UDP payload: 5553
1335795175791: mux: GOT CSM_Msg
1335795175880: Received UDP payload: 5553
1335795175887: mux: GOT CSM_Msg
1335795175909: Received UDP payload: 446
1335795177435: Received UDP payload: 625
1335795177440: mux: Inside mux Packet.CLIENT_REQUEST
1335795177440: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795177743: Received UDP payload: 625
1335795177745: mux: Inside mux Packet.CLIENT_REQUEST
1335795177745: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795178052: Received UDP payload: 625
1335795178055: mux: Inside mux Packet.CLIENT_REQUEST
1335795178055: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795178210: Received UDP payload: 446
1335795178219: Received UDP payload: 989
1335795178223: mux: GOT CSM_Msg
1335795178286: Received UDP payload: 446
1335795178288: mux: Inside Packet.SERVER_REPLY
1335795178289: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795178297: Received UDP payload: 446
1335795178299: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795178299: mux: Inside Packet.SERVER_REPLY
1335795178308: Received UDP payload: 989
1335795178312: mux: GOT CSM_Msg
1335795178395: Received UDP payload: 989
1335795178398: mux: GOT CSM_Msg
1335795178421: Received UDP payload: 989
1335795178425: mux: GOT CSM_Msg
1335795178485: Received UDP payload: 446
1335795178523: Received UDP payload: 989
1335795178526: mux: GOT CSM_Msg
1335795178596: Received UDP payload: 446
1335795179045: Received UDP payload: 989
1335795179054: mux: GOT CSM_Msg
1335795180014: Received UDP payload: 989
1335795180053: mux: GOT CSM_Msg
1335795180081: Received UDP payload: 989
1335795180083: Received UDP payload: 989
1335795180083: mux: GOT CSM_Msg
1335795180091: Received UDP payload: 5553
1335795180091: mux: GOT CSM_Msg
1335795180103: Received UDP payload: 989
1335795180103: mux: GOT CSM_Msg
1335795180105: mux: GOT CSM_Msg
1335795180135: Received UDP payload: 989
1335795180137: mux: GOT CSM_Msg
1335795180226: Received UDP payload: 5553
1335795180228: mux: GOT CSM_Msg
1335795180433: Received UDP payload: 446
1335795180615: Received UDP payload: 989
1335795180623: mux: GOT CSM_Msg
1335795180657: Received UDP payload: 989
1335795180665: mux: GOT CSM_Msg
1335795180697: Received UDP payload: 989
1335795180706: mux: GOT CSM_Msg
1335795180732: Received UDP payload: 989
1335795180745: mux: GOT CSM_Msg
1335795180774: Received UDP payload: 642
1335795180780: mux: Inside Packet.SERVER_REPLY
1335795180781: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795180792: Received UDP payload: 642
1335795180797: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795180797: mux: Inside Packet.SERVER_REPLY
1335795180803: Received UDP payload: 642
1335795180815: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795180815: mux: Inside Packet.SERVER_REPLY
1335795180816: Received UDP payload: 446
1335795180822: mux: Inside mux Packet.CLIENT_REQUEST
1335795180822: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795180834: Received UDP payload: 446
1335795180843: mux: Inside mux Packet.CLIENT_REQUEST
1335795180843: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795181350: Received UDP payload: 989
1335795181358: mux: GOT CSM_Msg
1335795181563: Received UDP payload: 989
1335795181570: mux: GOT CSM_Msg
1335795181643: Received UDP payload: 989
1335795181651: mux: GOT CSM_Msg
1335795181755: Received UDP payload: 446
1335795181775: Received UDP payload: 989
1335795181783: mux: GOT CSM_Msg
1335795181893: Received UDP payload: 989
1335795181901: mux: GOT CSM_Msg
1335795181971: Received UDP payload: 989
1335795181978: mux: GOT CSM_Msg
1335795182078: Received UDP payload: 989
1335795182085: mux: GOT CSM_Msg
1335795182187: Received UDP payload: 989
1335795182194: mux: GOT CSM_Msg
1335795182263: Received UDP payload: 989
1335795182270: mux: GOT CSM_Msg
1335795182364: Received UDP payload: 989
1335795182371: mux: GOT CSM_Msg
1335795182578: Received UDP payload: 5553
1335795182584: mux: GOT CSM_Msg
1335795182594: Received UDP payload: 989
1335795182601: mux: GOT CSM_Msg
1335795182667: Received UDP payload: 446
1335795182680: Received UDP payload: 989
1335795182686: mux: GOT CSM_Msg
1335795182835: Received UDP payload: 989
1335795182843: mux: GOT CSM_Msg
1335795182983: Received UDP payload: 446
1335795183555: Received UDP payload: 446
1335795183607: Received UDP payload: 446
1335795183971: Received UDP payload: 446
1335795184306: Received UDP payload: 5553
1335795184313: mux: GOT CSM_Msg
1335795184548: Received UDP payload: 446
1335795185496: Received UDP payload: 446
1335795185639: Received UDP payload: 446
1335795186403: Received UDP payload: 989
1335795186411: mux: GOT CSM_Msg
1335795186637: Received UDP payload: 5553
1335795186640: mux: GOT CSM_Msg
1335795186831: Received UDP payload: 446
1335795186920: Received UDP payload: 989
1335795186923: mux: GOT CSM_Msg
1335795186988: Received UDP payload: 989
1335795186991: mux: GOT CSM_Msg
1335795187032: Received UDP payload: 989
1335795187042: mux: GOT CSM_Msg
1335795187048: Received UDP payload: 989
1335795187055: mux: GOT CSM_Msg
1335795187191: Received UDP payload: 989
1335795187195: mux: GOT CSM_Msg
1335795187264: Received UDP payload: 989
1335795187268: mux: GOT CSM_Msg
1335795187287: Received UDP payload: 5848
1335795187289: mux: Inside mux Packet.CLIENT_REQUEST
1335795187290: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795187380: Received UDP payload: 5848
1335795187383: mux: Inside mux Packet.CLIENT_REQUEST
1335795187383: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795188549: Received UDP payload: 446
1335795188723: Received UDP payload: 989
1335795188733: mux: GOT CSM_Msg
1335795188747: Received UDP payload: 989
1335795188755: mux: GOT CSM_Msg
1335795188760: Received UDP payload: 989
1335795188782: Received UDP payload: 989
1335795188782: mux: GOT CSM_Msg
1335795188785: mux: GOT CSM_Msg
1335795188833: Received UDP payload: 989
1335795188835: mux: GOT CSM_Msg
1335795188934: Received UDP payload: 989
1335795188936: mux: GOT CSM_Msg
1335795188943: Received UDP payload: 446
1335795189124: Received UDP payload: 446
1335795189256: Received UDP payload: 6212
1335795189258: mux: GOT CSM_Msg
1335795189272: Received UDP payload: 446
1335795189273: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795189273: mux: Inside Packet.SERVER_REPLY
1335795189285: Received UDP payload: 989
1335795189287: mux: GOT CSM_Msg
1335795189292: Received UDP payload: 642
1335795189293: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795189293: mux: Inside Packet.SERVER_REPLY
1335795189332: Received UDP payload: 446
1335795189333: mux: Inside mux Packet.CLIENT_REQUEST
1335795189333: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795189374: Received UDP payload: 446
1335795189376: mux: Inside Packet.SERVER_REPLY
1335795189377: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795189383: Received UDP payload: 642
1335795189385: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795189385: mux: Inside Packet.SERVER_REPLY
1335795189391: Received UDP payload: 642
1335795189393: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795189393: mux: Inside Packet.SERVER_REPLY
1335795189403: Received UDP payload: 642
1335795189404: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795189404: mux: Inside Packet.SERVER_REPLY
1335795189709: Received UDP payload: 989
1335795189716: mux: GOT CSM_Msg
1335795189797: Received UDP payload: 5553
1335795189799: mux: GOT CSM_Msg
1335795190118: Received UDP payload: 446
1335795190137: Received UDP payload: 446
1335795190158: Received UDP payload: 446
1335795190171: Received UDP payload: 446
1335795190427: Received UDP payload: 446
1335795190447: Received UDP payload: 989
1335795190454: mux: GOT CSM_Msg
1335795190655: Received UDP payload: 446
1335795190842: Received UDP payload: 5553
1335795190851: mux: GOT CSM_Msg
1335795191326: Received UDP payload: 989
1335795191334: mux: GOT CSM_Msg
1335795191366: Received UDP payload: 446
1335795191376: Received UDP payload: 989
1335795191387: mux: GOT CSM_Msg
1335795191560: ..... VCoreDaemon.java targetState = JOINING (5,0)
1335795191560: VCoreDaemon.java inside stateTransition ..........
1335795191560: moving from region (4,0), to (5,0)
1335795191560: removing leaderRequestRetryR because I'm doing a stateTransition
1335795191561: inside sendPacket(Packet p)
1335795191561: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795191561: posting leaderRequestRetryR because I'm joining
1335795191561: sending LEADER_REQUEST
1335795191566: Sending UDP payload: 446
1335795191567: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335795191701: Received UDP payload: 5553
1335795191703: mux: GOT CSM_Msg
1335795191740: Received UDP payload: 446
1335795191861: sending LEADER_REQUEST
1335795191862: inside sendPacket(Packet p)
1335795191862: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795191863: Sending UDP payload: 446
1335795191996: Received UDP payload: 446
1335795192162: sending LEADER_REQUEST
1335795192163: inside sendPacket(Packet p)
1335795192163: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795192166: Sending UDP payload: 446
1335795192231: Received UDP payload: 989
1335795192237: mux: GOT CSM_Msg
1335795192464: inside sendPacket(Packet p)
1335795192464: sending LEADER_REQUEST
1335795192465: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795192469: Sending UDP payload: 446
1335795192566: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335795192567: VCoreDaemon.java inside stateTransition ..........
1335795192567: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335795192567: removing leaderRequestRetryR because I'm doing a stateTransition
1335795192568: ..... VCoreDaemon.java targetState = LEADER
1335795192568: trying to take leadership (5,0) to the cloud
1335795192821: Received UDP payload: 989
1335795192829: mux: GOT CSM_Msg
1335795192950: Received UDP payload: 4444
1335795192957: mux: GOT CSM_Msg
1335795192991: Received UDP payload: 989
1335795192997: mux: GOT CSM_Msg
1335795193025: Received UDP payload: 446
1335795193125: Received UDP payload: 4444
1335795193128: mux: GOT CSM_Msg
1335795193143: cloud rejected leadership request or request failed, wait to retry
1335795193251: Received UDP payload: 989
1335795193253: mux: GOT CSM_Msg
1335795193367: Received UDP payload: 989
1335795193370: mux: GOT CSM_Msg
1335795193432: Received UDP payload: 989
1335795193436: mux: GOT CSM_Msg
1335795193655: Received UDP payload: 989
1335795193659: mux: GOT CSM_Msg
1335795193739: Received UDP payload: 989
1335795193746: mux: GOT CSM_Msg
1335795193999: Received UDP payload: 989
1335795194002: mux: GOT CSM_Msg
1335795194067: Received UDP payload: 989
1335795194070: mux: GOT CSM_Msg
1335795195881: Received UDP payload: 446
1335795195886: removing leaderRequestRetryR because heard Packet.Heartbeat
1335795195887: VCoreDaemon.java inside stateTransition ..........
1335795195887: heard HEARTBEAT from 5013, now following
1335795195888: ..... VCoreDaemon.java targetState = NONLEADER
1335795195888: removing leaderRequestRetryR because I'm doing a stateTransition
1335795195889: now NONLEADER (id=5018) following LEADER (id=5013) in (5,0)
1335795195899: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335795196186: Received UDP payload: 989
1335795196190: mux: GOT CSM_Msg
1335795196296: Received UDP payload: 446
1335795196303: Received UDP payload: 989
1335795196307: mux: GOT CSM_Msg
1335795196678: Received UDP payload: 4441
1335795196685: mux: GOT CSM_Msg
1335795196880: Received UDP payload: 989
1335795196886: mux: GOT CSM_Msg
1335795196896: Received UDP payload: 446
1335795196982: Received UDP payload: 989
1335795196989: mux: GOT CSM_Msg
1335795197102: Received UDP payload: 989
1335795197104: mux: GOT CSM_Msg
1335795197436: Received UDP payload: 989
1335795197443: mux: GOT CSM_Msg
1335795197604: Received UDP payload: 989
1335795197611: mux: GOT CSM_Msg
1335795197616: Received UDP payload: 989
1335795197624: mux: GOT CSM_Msg
1335795197637: Received UDP payload: 6212
1335795197645: mux: GOT CSM_Msg
1335795197646: Received UDP payload: 989
1335795197662: mux: GOT CSM_Msg
1335795198537: Received UDP payload: 4444
1335795198545: mux: GOT CSM_Msg
1335795198735: Received UDP payload: 989
1335795198742: mux: GOT CSM_Msg
1335795199304: areButtonsEnabled --> false 
1335795199304: canPressButton = TRUE
1335795199305: areButtonsEnabled --> false
1335795199305: get picture disableButtonsR
1335795199321: one more getNum: 11
1335795199322: ** Client of state 3 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795199322: change local requestCounter to 24
1335795199322: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=5 getBad=3 getTimedout=2 getPercent=45%
1335795199325: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018024 Client in region: 5 Client nodID: 5018
1335795199360: ----------------------------
1335795199360: I'm a nonleader sending my requesting photos packet to my leader
1335795199360: inside sendRequestPacketRepeatingRunnable for requestCount = 5018024
1335795199361: inside sendPacket(Packet p)
1335795199363: Sending UDP payload: 625
1335795199364: --- Finished one round of sending REQUEST Packet ---------
1335795199495: Received UDP payload: 446
1335795199497: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795199497: mux: Inside Packet.SERVER_REPLY
1335795199498: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795199577: Received UDP payload: 4579
1335795199597: mux: GOT CSM_Msg
1335795199777: Received UDP payload: 4232
1335795199784: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795199784: mux: Inside Packet.SERVER_REPLY
1335795199785: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795199785: Inside _enableButtons
1335795199785: disabling progressdialog due to successful new photo get
1335795199788: areButtonsEnabled --> true
1335795199788: send final leg ack regardless of new or already-processed reply
1335795199794: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018025 Client in region: (5,0) Client nodID: 5018
1335795199794: inside finalLegAck: change requestCounter to 25
1335795199795: I'm a nonleader client sending my final_leg packet to my leader
1335795199795: inside sendPacket(Packet p)
1335795199802: Sending UDP payload: 446
1335795199803: new client_show_remotephoto reply with replyCounter 501300006
1335795199803: note down new reply by adding replyCounter=501300006 to HashMap processedReplies
1335795199804: = nonleader download start 1335795199361 ~ stop 1335795199785
1335795199804: nonleader download remote photo latency = 424
1335795199812: one more getGood: 6
1335795199814: Success! Client getting photo from remote region, showing photo...
1335795199814: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=1 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=6 getBad=3 getTimedout=2 getPercent=54%
1335795199814: successful reply for client get photo
1335795199815: Remote photo's length: 3568
1335795199921: Received UDP payload: 4232
1335795199925: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795199925: mux: Inside Packet.SERVER_REPLY
1335795199957: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795199957: Inside _enableButtons
1335795199957: disabling progressdialog due to successful new photo get
1335795199958: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018026 Client in region: (5,0) Client nodID: 5018
1335795199958: I'm a nonleader client sending my final_leg packet to my leader
1335795199958: areButtonsEnabled --> true
1335795199958: inside finalLegAck: change requestCounter to 26
1335795199958: send final leg ack regardless of new or already-processed reply
1335795199959: inside sendPacket(Packet p)
1335795199964: csn discarding repeated replyCounter=501300006, but still sent an ack back
1335795199965: Sending UDP payload: 446
1335795200421: Received UDP payload: 446
1335795200559: Received UDP payload: 625
1335795200563: mux: Inside mux Packet.CLIENT_REQUEST
1335795200563: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795200590: Received UDP payload: 446
1335795200595: mux: Inside Packet.SERVER_REPLY
1335795200596: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795200654: Received UDP payload: 446
1335795201339: Received UDP payload: 989
1335795201353: mux: GOT CSM_Msg
1335795201474: Received UDP payload: 989
1335795201478: mux: GOT CSM_Msg
1335795201543: Received UDP payload: 989
1335795201547: mux: GOT CSM_Msg
1335795201642: Received UDP payload: 989
1335795201646: mux: GOT CSM_Msg
1335795201712: Received UDP payload: 446
1335795201726: Received UDP payload: 446
1335795201791: Received UDP payload: 5020
1335795201795: mux: GOT CSM_Msg
1335795201847: Received UDP payload: 989
1335795201851: mux: GOT CSM_Msg
1335795201876: Received UDP payload: 446
1335795202167: Received UDP payload: 989
1335795202174: mux: GOT CSM_Msg
1335795202193: Received UDP payload: 989
1335795202208: mux: GOT CSM_Msg
1335795202288: Received UDP payload: 989
1335795202290: mux: GOT CSM_Msg
1335795202394: Received UDP payload: 989
1335795202398: mux: GOT CSM_Msg
1335795202459: Received UDP payload: 4441
1335795202461: mux: GOT CSM_Msg
1335795202492: Received UDP payload: 989
1335795202494: mux: GOT CSM_Msg
1335795202532: canPressButton = TRUE
1335795202533: areButtonsEnabled --> false
1335795202533: areButtonsEnabled --> false
1335795202533: disabling buttons ...
1335795202533: took picture disableButtonsR
1335795202548: one more takeNum: 2
1335795202549: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=1 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=11 getGood=6 getBad=3 getTimedout=2 getPercent=54%
1335795202550: Clicked take picture button ..
1335795202601: Received UDP payload: 446
1335795202684: Received UDP payload: 989
1335795202686: mux: GOT CSM_Msg
1335795202793: Received UDP payload: 642
1335795202795: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795202795: mux: Inside Packet.SERVER_REPLY
1335795202884: Received UDP payload: 446
1335795202885: mux: Inside mux Packet.CLIENT_REQUEST
1335795202885: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795203619: Received UDP payload: 5553
1335795203621: mux: GOT CSM_Msg
1335795203629: Received UDP payload: 446
1335795203635: Received UDP payload: 989
1335795203637: mux: GOT CSM_Msg
1335795203664: Received UDP payload: 989
1335795203667: mux: GOT CSM_Msg
1335795203687: Received UDP payload: 989
1335795203690: mux: GOT CSM_Msg
1335795203699: Received UDP payload: 989
1335795203701: mux: GOT CSM_Msg
1335795203727: Received UDP payload: 989
1335795203729: mux: GOT CSM_Msg
1335795203738: Received UDP payload: 989
1335795203741: mux: GOT CSM_Msg
1335795203798: Received UDP payload: 5323
1335795203801: mux: GOT CSM_Msg
1335795203809: Received UDP payload: 989
1335795203813: mux: GOT CSM_Msg
1335795203893: Received UDP payload: 989
1335795203901: mux: GOT CSM_Msg
1335795203928: inside HandlePictureStorage onPictureTaken()
1335795203929: one more takeCamGood: 2
1335795203930: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=1 takeBad=0 takeTimedout=0 takePercent=50% getNum=11 getGood=6 getBad=3 getTimedout=2 getPercent=54%
1335795203964: Received UDP payload: 989
1335795203973: mux: GOT CSM_Msg
1335795204020: Received UDP payload: 989
1335795204026: mux: GOT CSM_Msg
1335795204034: Received UDP payload: 989
1335795204040: mux: GOT CSM_Msg
1335795204043: Received UDP payload: 989
1335795204049: mux: GOT CSM_Msg
1335795204200: Picture successfully taken, ORIG BYTE LENGTH = 3272880
1335795204453: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335795204453: Our new height x width: 306 x 408
1335795204453: Show photo from handle my camera take
1335795204454: change local requestCounter to 27
1335795204470: BYTE SIZE AFTER COMPRESSION: 3635
1335795204474: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5018027 Client in region: 5 Client nodID: 5018
1335795204502: ----------------------------
1335795204503: I'm a nonleader sending my requesting photos packet to my leader
1335795204503: inside sendPacket(Packet p)
1335795204503: inside sendRequestPacketRepeatingRunnable for requestCount = 5018027
1335795204508: Sending UDP payload: 4282
1335795204509: --- Finished one round of sending REQUEST Packet ---------
1335795204557: Received UDP payload: 5323
1335795204562: mux: GOT CSM_Msg
1335795204785: Received UDP payload: 446
1335795204786: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795204786: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795204786: mux: Inside Packet.SERVER_REPLY
1335795204817: Received UDP payload: 642
1335795204818: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795204818: mux: Inside Packet.SERVER_REPLY
1335795204820: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335795204820: Inside _enableButtons
1335795204820: disabling progressdialog due to successful new photo upload
1335795204821: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018028 Client in region: (5,0) Client nodID: 5018
1335795204821: I'm a nonleader client sending my final_leg packet to my leader
1335795204821: areButtonsEnabled --> true
1335795204821: inside finalLegAck: change requestCounter to 28
1335795204821: send final leg ack regardless of new or already-processed reply
1335795204822: inside sendPacket(Packet p)
1335795204823: Sending UDP payload: 446
1335795204824: = nonleader upload start 1335795204503 ~ stop 1335795204820
1335795204824: new client_upload_photo_ack reply with replyCounter 501300008
1335795204824: nonleader upload new photo latency = 317
1335795204824: note down new reply by adding replyCounter=501300008 to HashMap processedReplies
1335795204825: one more takeGoodSave: 2
1335795204826: SUCCESS Client now knows saving photo on its leader succeeded
1335795204826: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=2 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=6 getBad=3 getTimedout=2 getPercent=54%
1335795204840: Received UDP payload: 989
1335795204843: mux: GOT CSM_Msg
1335795204855: Received UDP payload: 989
1335795204857: mux: GOT CSM_Msg
1335795204867: Received UDP payload: 989
1335795204869: mux: GOT CSM_Msg
1335795204970: Received UDP payload: 5323
1335795204972: mux: GOT CSM_Msg
1335795205627: Received UDP payload: 446
1335795207600: Received UDP payload: 446
1335795207702: canPressButton = TRUE
1335795207704: areButtonsEnabled --> false
1335795207704: disabling buttons ...
1335795207705: took picture disableButtonsR
1335795207706: areButtonsEnabled --> false
1335795207731: Received UDP payload: 446
1335795207751: one more takeNum: 3
1335795207752: Clicked take picture button ..
1335795207752: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=2 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=11 getGood=6 getBad=3 getTimedout=2 getPercent=54%
1335795208087: Received UDP payload: 5553
1335795208096: mux: GOT CSM_Msg
1335795209130: inside HandlePictureStorage onPictureTaken()
1335795209130: one more takeCamGood: 3
1335795209131: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=2 takeBad=0 takeTimedout=0 takePercent=66% getNum=11 getGood=6 getBad=3 getTimedout=2 getPercent=54%
1335795209292: Received UDP payload: 5553
1335795209305: mux: GOT CSM_Msg
1335795209380: Received UDP payload: 5553
1335795209386: mux: GOT CSM_Msg
1335795209393: Picture successfully taken, ORIG BYTE LENGTH = 3017944
1335795209574: Our new height x width: 306 x 408
1335795209575: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335795209575: Show photo from handle my camera take
1335795209575: change local requestCounter to 29
1335795209588: BYTE SIZE AFTER COMPRESSION: 3555
1335795209624: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5018029 Client in region: 5 Client nodID: 5018
1335795209682: ----------------------------
1335795209683: I'm a nonleader sending my requesting photos packet to my leader
1335795209683: inside sendPacket(Packet p)
1335795209683: inside sendRequestPacketRepeatingRunnable for requestCount = 5018029
1335795209688: Sending UDP payload: 4202
1335795209689: --- Finished one round of sending REQUEST Packet ---------
1335795209714: Received UDP payload: 989
1335795209721: mux: GOT CSM_Msg
1335795209739: Received UDP payload: 5553
1335795209741: mux: GOT CSM_Msg
1335795209922: Received UDP payload: 4566
1335795209924: mux: GOT CSM_Msg
1335795209934: Received UDP payload: 446
1335795209935: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795209935: mux: Inside Packet.SERVER_REPLY
1335795209937: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795210020: Received UDP payload: 642
1335795210021: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795210021: mux: Inside Packet.SERVER_REPLY
1335795210022: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335795210022: Inside _enableButtons
1335795210022: areButtonsEnabled --> true
1335795210022: disabling progressdialog due to successful new photo upload
1335795210022: send final leg ack regardless of new or already-processed reply
1335795210023: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018030 Client in region: (5,0) Client nodID: 5018
1335795210023: I'm a nonleader client sending my final_leg packet to my leader
1335795210023: inside finalLegAck: change requestCounter to 30
1335795210023: inside sendPacket(Packet p)
1335795210024: Sending UDP payload: 446
1335795210025: = nonleader upload start 1335795209683 ~ stop 1335795210022
1335795210025: new client_upload_photo_ack reply with replyCounter 501300009
1335795210025: nonleader upload new photo latency = 339
1335795210025: note down new reply by adding replyCounter=501300009 to HashMap processedReplies
1335795210026: one more takeGoodSave: 3
1335795210027: SUCCESS Client now knows saving photo on its leader succeeded
1335795210027: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=11 getGood=6 getBad=3 getTimedout=2 getPercent=54%
1335795210605: Received UDP payload: 446
1335795211599: Received UDP payload: 446
1335795211773: Received UDP payload: 446
1335795212023: Received UDP payload: 446
1335795212231: Received UDP payload: 6635
1335795212238: mux: Inside mux Packet.CLIENT_REQUEST
1335795212238: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795212336: Received UDP payload: 625
1335795212338: mux: Inside mux Packet.CLIENT_REQUEST
1335795212338: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795212415: Received UDP payload: 446
1335795212416: mux: Inside Packet.SERVER_REPLY
1335795212417: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795212437: Received UDP payload: 989
1335795212441: mux: GOT CSM_Msg
1335795212472: Received UDP payload: 642
1335795212474: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795212474: mux: Inside Packet.SERVER_REPLY
1335795212487: Received UDP payload: 642
1335795212489: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795212489: mux: Inside Packet.SERVER_REPLY
1335795212495: Received UDP payload: 625
1335795212497: mux: Inside mux Packet.CLIENT_REQUEST
1335795212497: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795212531: Received UDP payload: 446
1335795212533: mux: Inside mux Packet.CLIENT_REQUEST
1335795212533: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795212605: Received UDP payload: 989
1335795212608: mux: GOT CSM_Msg
1335795212626: Received UDP payload: 446
1335795212628: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795212628: mux: Inside Packet.SERVER_REPLY
1335795212730: Received UDP payload: 446
1335795213168: Received UDP payload: 989
1335795213176: mux: GOT CSM_Msg
1335795213297: Received UDP payload: 6999
1335795213304: mux: GOT CSM_Msg
1335795213328: Received UDP payload: 989
1335795213335: mux: GOT CSM_Msg
1335795213417: Received UDP payload: 989
1335795213425: mux: GOT CSM_Msg
1335795213646: Received UDP payload: 6999
1335795213648: mux: GOT CSM_Msg
1335795213682: Received UDP payload: 989
1335795213684: mux: GOT CSM_Msg
1335795213712: Received UDP payload: 989
1335795213714: mux: GOT CSM_Msg
1335795213858: Received UDP payload: 989
1335795213862: mux: GOT CSM_Msg
1335795213989: canPressButton = TRUE
1335795213990: areButtonsEnabled --> false
1335795213990: areButtonsEnabled --> false 
1335795213990: get picture disableButtonsR
1335795214016: one more getNum: 12
1335795214017: ** Client of state 3 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795214017: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=6 getBad=3 getTimedout=2 getPercent=50%
1335795214018: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018031 Client in region: 5 Client nodID: 5018
1335795214018: change local requestCounter to 31
1335795214052: ----------------------------
1335795214053: I'm a nonleader sending my requesting photos packet to my leader
1335795214053: inside sendPacket(Packet p)
1335795214053: inside sendRequestPacketRepeatingRunnable for requestCount = 5018031
1335795214054: Sending UDP payload: 625
1335795214055: --- Finished one round of sending REQUEST Packet ---------
1335795214224: Received UDP payload: 6652
1335795214225: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795214225: mux: Inside Packet.SERVER_REPLY
1335795214355: ----------------------------
1335795214356: I'm a nonleader sending my requesting photos packet to my leader
1335795214356: inside sendPacket(Packet p)
1335795214356: inside sendRequestPacketRepeatingRunnable for requestCount = 5018031
1335795214358: Sending UDP payload: 625
1335795214361: --- Finished one round of sending REQUEST Packet ---------
1335795214662: ----------------------------
1335795214662: inside sendRequestPacketRepeatingRunnable for requestCount = 5018031
1335795214663: I'm a nonleader sending my requesting photos packet to my leader
1335795214663: inside sendPacket(Packet p)
1335795214664: Sending UDP payload: 625
1335795214665: --- Finished one round of sending REQUEST Packet ---------
1335795214965: ----------------------------
1335795214965: inside sendRequestPacketRepeatingRunnable for requestCount = 5018031
1335795214966: I'm a nonleader sending my requesting photos packet to my leader
1335795214966: inside sendPacket(Packet p)
1335795214967: Sending UDP payload: 625
1335795214968: --- Finished one round of sending REQUEST Packet ---------
1335795215019: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335795215199: Received UDP payload: 6652
1335795215201: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795215201: mux: Inside Packet.SERVER_REPLY
1335795215706: Received UDP payload: 625
1335795215707: mux: Inside mux Packet.CLIENT_REQUEST
1335795215707: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795215918: Received UDP payload: 446
1335795216006: Received UDP payload: 625
1335795216007: mux: Inside mux Packet.CLIENT_REQUEST
1335795216007: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795216152: Received UDP payload: 989
1335795216154: mux: GOT CSM_Msg
1335795216388: Received UDP payload: 625
1335795216394: mux: Inside mux Packet.CLIENT_REQUEST
1335795216394: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795216397: Received UDP payload: 446
1335795216407: mux: Inside Packet.SERVER_REPLY
1335795216408: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795216444: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795216761: Received UDP payload: 446
1335795217018: Received UDP payload: 446
1335795217135: Received UDP payload: 463
1335795217421: Received UDP payload: 5553
1335795217425: mux: GOT CSM_Msg
1335795217657: Received UDP payload: 6999
1335795217670: mux: GOT CSM_Msg
1335795217724: Received UDP payload: 989
1335795217733: mux: GOT CSM_Msg
1335795217782: Received UDP payload: 625
1335795217783: mux: Inside mux Packet.CLIENT_REQUEST
1335795217784: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795217847: Received UDP payload: 446
1335795217849: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795217849: mux: Inside Packet.SERVER_REPLY
1335795217909: Received UDP payload: 446
1335795217910: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795217910: mux: Inside Packet.SERVER_REPLY
1335795217916: Received UDP payload: 446
1335795217917: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795217917: mux: Inside Packet.SERVER_REPLY
1335795217930: Received UDP payload: 989
1335795217932: mux: GOT CSM_Msg
1335795217953: Received UDP payload: 989
1335795217955: mux: GOT CSM_Msg
1335795218010: Received UDP payload: 446
1335795218012: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795218012: mux: Inside Packet.SERVER_REPLY
1335795218039: Received UDP payload: 989
1335795218041: mux: GOT CSM_Msg
1335795218099: Received UDP payload: 625
1335795218100: mux: Inside mux Packet.CLIENT_REQUEST
1335795218100: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795218336: Received UDP payload: 989
1335795218339: mux: GOT CSM_Msg
1335795218369: Received UDP payload: 989
1335795218371: mux: GOT CSM_Msg
1335795218405: Received UDP payload: 625
1335795218407: mux: Inside mux Packet.CLIENT_REQUEST
1335795218407: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795218427: Received UDP payload: 989
1335795218430: mux: GOT CSM_Msg
1335795218450: Received UDP payload: 642
1335795218451: mux: Inside Packet.SERVER_REPLY
1335795218452: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795218465: Received UDP payload: 446
1335795218481: Received UDP payload: 446
1335795218482: mux: Inside mux Packet.CLIENT_REQUEST
1335795218482: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795218535: Received UDP payload: 446
1335795218537: mux: Inside mux Packet.CLIENT_REQUEST
1335795218537: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795218571: Received UDP payload: 642
1335795218572: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795218572: mux: Inside Packet.SERVER_REPLY
1335795218628: Received UDP payload: 446
1335795218630: mux: Inside mux Packet.CLIENT_REQUEST
1335795218630: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795219196: Received UDP payload: 446
1335795219203: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795219203: mux: Inside Packet.SERVER_REPLY
1335795219204: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795219251: Received UDP payload: 4219
1335795219253: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795219253: disabling progressdialog due to successful new photo get
1335795219253: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795219253: mux: Inside Packet.SERVER_REPLY
1335795219254: Inside _enableButtons
1335795219254: areButtonsEnabled --> true
1335795219254: inside finalLegAck: change requestCounter to 32
1335795219254: send final leg ack regardless of new or already-processed reply
1335795219255: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018032 Client in region: (5,0) Client nodID: 5018
1335795219255: I'm a nonleader client sending my final_leg packet to my leader
1335795219255: inside sendPacket(Packet p)
1335795219256: Received UDP payload: 446
1335795219256: Sending UDP payload: 446
1335795219258: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795219258: mux: Inside Packet.SERVER_REPLY
1335795219258: new client_show_remotephoto reply with replyCounter 501300010
1335795219259: note down new reply by adding replyCounter=501300010 to HashMap processedReplies
1335795219260: = nonleader download start 1335795214966 ~ stop 1335795219253
1335795219260: nonleader download remote photo latency = 4287
1335795219261: one more getGood: 7
1335795219262: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=12 getGood=7 getBad=3 getTimedout=2 getPercent=58%
1335795219262: successful reply for client get photo
1335795219263: Remote photo's length: 3555
1335795219263: Success! Client getting photo from remote region, showing photo...
1335795219321: Received UDP payload: 4219
1335795219323: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795219323: mux: Inside Packet.SERVER_REPLY
1335795219326: Received UDP payload: 446
1335795219336: Received UDP payload: 463
1335795219338: heard LEADER_ELECT from node 5013, responding LEADER_NOMINATE
1335795219338: inside sendPacket(Packet p)
1335795219339: Sending UDP payload: 446
1335795219353: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795219354: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795219354: Inside _enableButtons
1335795219354: disabling progressdialog due to successful new photo get
1335795219355: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018033 Client in region: (5,0) Client nodID: 5018
1335795219355: areButtonsEnabled --> true
1335795219355: inside finalLegAck: change requestCounter to 33
1335795219355: send final leg ack regardless of new or already-processed reply
1335795219356: I'm a nonleader client sending my final_leg packet to my leader
1335795219356: inside sendPacket(Packet p)
1335795219357: Sending UDP payload: 446
1335795219359: csn discarding repeated replyCounter=501300010, but still sent an ack back
1335795220050: Received UDP payload: 5553
1335795220057: mux: GOT CSM_Msg
1335795220225: Received UDP payload: 3994
1335795220231: mux: Inside mux Packet.CLIENT_REQUEST
1335795220231: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795220283: Received UDP payload: 5553
1335795220291: mux: GOT CSM_Msg
1335795220454: Received UDP payload: 5553
1335795220461: mux: GOT CSM_Msg
1335795220476: Received UDP payload: 446
1335795220486: Received UDP payload: 989
1335795220500: mux: GOT CSM_Msg
1335795220501: Received UDP payload: 989
1335795220508: mux: GOT CSM_Msg
1335795220538: Received UDP payload: 989
1335795220540: mux: GOT CSM_Msg
1335795220549: Received UDP payload: 989
1335795220551: mux: GOT CSM_Msg
1335795220560: Received UDP payload: 3994
1335795220562: mux: Inside mux Packet.CLIENT_REQUEST
1335795220562: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795220575: Received UDP payload: 989
1335795220577: mux: GOT CSM_Msg
1335795220608: Received UDP payload: 989
1335795220610: mux: GOT CSM_Msg
1335795220622: Received UDP payload: 989
1335795220624: mux: GOT CSM_Msg
1335795220664: Received UDP payload: 989
1335795220666: mux: GOT CSM_Msg
1335795220687: Received UDP payload: 989
1335795220689: mux: GOT CSM_Msg
1335795220695: Received UDP payload: 989
1335795220697: mux: GOT CSM_Msg
1335795220709: Received UDP payload: 989
1335795220711: mux: GOT CSM_Msg
1335795220725: Received UDP payload: 989
1335795220727: mux: GOT CSM_Msg
1335795220739: Received UDP payload: 989
1335795220741: mux: GOT CSM_Msg
1335795220766: Received UDP payload: 989
1335795220768: mux: GOT CSM_Msg
1335795220772: Received UDP payload: 446
1335795220797: Received UDP payload: 446
1335795220869: Received UDP payload: 446
1335795221965: Received UDP payload: 625
1335795221970: mux: Inside mux Packet.CLIENT_REQUEST
1335795221971: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795222023: Received UDP payload: 989
1335795222031: mux: GOT CSM_Msg
1335795222054: Received UDP payload: 446
1335795222055: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795222055: mux: Inside Packet.SERVER_REPLY
1335795222497: Received UDP payload: 446
1335795222711: Received UDP payload: 22722
1335795222720: Received UDP payload: 446
1335795222772: Received UDP payload: 446
1335795222866: Received UDP payload: 446
1335795222875: Received UDP payload: 989
1335795222887: mux: GOT CSM_Msg
1335795222900: Received UDP payload: 989
1335795222907: mux: GOT CSM_Msg
1335795222934: Received UDP payload: 463
1335795222950: Received UDP payload: 989
1335795222952: mux: GOT CSM_Msg
1335795223041: Received UDP payload: 989
1335795223044: mux: GOT CSM_Msg
1335795223073: Received UDP payload: 446
1335795223158: Received UDP payload: 989
1335795223160: mux: GOT CSM_Msg
1335795223248: Received UDP payload: 989
1335795223251: mux: GOT CSM_Msg
1335795223352: Received UDP payload: 989
1335795223355: mux: GOT CSM_Msg
1335795223399: Received UDP payload: 446
1335795223445: Received UDP payload: 989
1335795223448: mux: GOT CSM_Msg
1335795223560: Received UDP payload: 989
1335795223564: mux: GOT CSM_Msg
1335795223567: Received UDP payload: 463
1335795223579: Received UDP payload: 446
1335795223591: Received UDP payload: 446
1335795225324: Received UDP payload: 15295
1335795225329: ignoring leader_reply that's not for me
1335795226349: Received UDP payload: 446
1335795226497: Received UDP payload: 446
1335795226643: Received UDP payload: 446
1335795226658: Received UDP payload: 446
1335795226772: Received UDP payload: 446
1335795227077: Received UDP payload: 446
1335795227259: Received UDP payload: 446
1335795227450: Received UDP payload: 446
1335795227990: Received UDP payload: 625
1335795227995: mux: Inside mux Packet.CLIENT_REQUEST
1335795227995: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795228290: Received UDP payload: 625
1335795228294: mux: Inside mux Packet.CLIENT_REQUEST
1335795228294: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795228623: Received UDP payload: 625
1335795228626: mux: Inside mux Packet.CLIENT_REQUEST
1335795228627: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795228910: Received UDP payload: 625
1335795228914: mux: Inside mux Packet.CLIENT_REQUEST
1335795228914: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795228995: Received UDP payload: 446
1335795229300: Received UDP payload: 446
1335795229412: canPressButton = TRUE
1335795229413: areButtonsEnabled --> false
1335795229413: areButtonsEnabled --> false 
1335795229413: get picture disableButtonsR
1335795229431: one more getNum: 13
1335795229431: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=7 getBad=3 getTimedout=2 getPercent=53%
1335795229432: ** Client of state 3 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795229432: change local requestCounter to 34
1335795229433: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018034 Client in region: 5 Client nodID: 5018
1335795229467: ----------------------------
1335795229467: inside sendRequestPacketRepeatingRunnable for requestCount = 5018034
1335795229468: I'm a nonleader sending my requesting photos packet to my leader
1335795229468: inside sendPacket(Packet p)
1335795229469: Sending UDP payload: 625
1335795229470: --- Finished one round of sending REQUEST Packet ---------
1335795229625: Received UDP payload: 446
1335795229773: ----------------------------
1335795229774: I'm a nonleader sending my requesting photos packet to my leader
1335795229774: inside sendRequestPacketRepeatingRunnable for requestCount = 5018034
1335795229779: inside sendPacket(Packet p)
1335795229781: Sending UDP payload: 625
1335795229783: --- Finished one round of sending REQUEST Packet ---------
1335795229906: Received UDP payload: 446
1335795230048: Received UDP payload: 625
1335795230049: mux: Inside mux Packet.CLIENT_REQUEST
1335795230049: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795230084: ----------------------------
1335795230084: I'm a nonleader sending my requesting photos packet to my leader
1335795230084: inside sendPacket(Packet p)
1335795230084: inside sendRequestPacketRepeatingRunnable for requestCount = 5018034
1335795230085: Sending UDP payload: 625
1335795230086: --- Finished one round of sending REQUEST Packet ---------
1335795230298: Received UDP payload: 3785
1335795230299: mux: Inside mux Packet.CLIENT_REQUEST
1335795230299: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795230344: Received UDP payload: 625
1335795230346: mux: Inside mux Packet.CLIENT_REQUEST
1335795230346: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795230386: ----------------------------
1335795230386: inside sendRequestPacketRepeatingRunnable for requestCount = 5018034
1335795230387: I'm a nonleader sending my requesting photos packet to my leader
1335795230387: inside sendPacket(Packet p)
1335795230388: --- Finished one round of sending REQUEST Packet ---------
1335795230388: Sending UDP payload: 625
1335795230433: inside sendRequestPacketTimeoutR, stops Client sending requestPackets
1335795230615: Received UDP payload: 3785
1335795230617: mux: Inside mux Packet.CLIENT_REQUEST
1335795230617: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795230658: Received UDP payload: 625
1335795230661: mux: Inside mux Packet.CLIENT_REQUEST
1335795230661: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795230959: Received UDP payload: 625
1335795230964: mux: Inside mux Packet.CLIENT_REQUEST
1335795230965: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795231735: Received UDP payload: 6756
1335795231740: mux: Inside mux Packet.CLIENT_REQUEST
1335795231741: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795231938: Received UDP payload: 625
1335795231943: mux: Inside mux Packet.CLIENT_REQUEST
1335795231944: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795232244: Received UDP payload: 625
1335795232252: mux: Inside mux Packet.CLIENT_REQUEST
1335795232252: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795232477: Received UDP payload: 446
1335795232551: Received UDP payload: 625
1335795232559: mux: Inside mux Packet.CLIENT_REQUEST
1335795232560: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795232860: Received UDP payload: 625
1335795232862: mux: Inside mux Packet.CLIENT_REQUEST
1335795232862: mux: Nonleader does nothing for Packet.CLIENT_REQUEST
1335795233908: Received UDP payload: 446
1335795234003: Received UDP payload: 446
1335795234054: Received UDP payload: 4304
1335795234062: mux: GOT CSM_Msg
1335795234078: Received UDP payload: 989
1335795234087: mux: GOT CSM_Msg
1335795234209: Received UDP payload: 446
1335795234513: Received UDP payload: 446
1335795235218: Received UDP payload: 989
1335795235225: mux: GOT CSM_Msg
1335795235431: one more getTimedout: 3
1335795235434: reg=5 id=5018 state=3 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=13 getGood=7 getBad=3 getTimedout=3 getPercent=53%
1335795235435: inside buttonsEnableProgressTimeoutR. Perhaps no one is in that region. Try again later!
1335795235441: Inside _enableButtons
1335795235442: areButtonsEnabled --> true
1335795235509: Missed 3 HEARTBEATS from LEADER, going to JOINING.
1335795235510: ..... VCoreDaemon.java targetState = JOINING (5,0)
1335795235510: VCoreDaemon.java inside stateTransition ..........
1335795235510: removing leaderRequestRetryR because I'm doing a stateTransition
1335795235511: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335795235511: inside sendPacket(Packet p)
1335795235511: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795235511: posting leaderRequestRetryR because I'm joining
1335795235511: sending LEADER_REQUEST
1335795235514: Sending UDP payload: 446
1335795235812: sending LEADER_REQUEST
1335795235813: inside sendPacket(Packet p)
1335795235813: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795235817: Sending UDP payload: 446
1335795235950: Received UDP payload: 446
1335795236114: inside sendPacket(Packet p)
1335795236114: sending LEADER_REQUEST
1335795236115: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795236120: Sending UDP payload: 446
1335795236248: Received UDP payload: 446
1335795236416: sending LEADER_REQUEST
1335795236421: inside sendPacket(Packet p)
1335795236424: Sending UDP payload: 446
1335795236426: posting another leaderRequestRetryR after leaderRequestRetryPeriod
1335795236496: Received UDP payload: 989
1335795236498: mux: GOT CSM_Msg
1335795236511: ..... VCoreDaemon.java targetState = LEADER
1335795236511: VCoreDaemon.java inside stateTransition ..........
1335795236511: inside leaderRequestTimeoutR and my state was JOINING, so I'll try to stateTransition to LEADER
1335795236511: inside leaderRequestTimeoutR beacuse I didn't hear a leader_reply and I'm removing leaderRequestRetryR because leader_request timed out
1335795236511: removing leaderRequestRetryR because I'm doing a stateTransition
1335795236512: trying to take leadership (5,0) to the cloud
1335795236572: Received UDP payload: 446
1335795236850: Received UDP payload: 446
1335795237222: Received UDP payload: 989
1335795237241: mux: GOT CSM_Msg
1335795237325: Received UDP payload: 989
1335795237329: mux: GOT CSM_Msg
1335795237425: Received UDP payload: 989
1335795237430: mux: GOT CSM_Msg
1335795237498: Received UDP payload: 446
1335795237524: Received UDP payload: 989
1335795237536: mux: GOT CSM_Msg
1335795237625: Received UDP payload: 989
1335795237627: mux: GOT CSM_Msg
1335795237710: cloud accepted leadership request, returned csm bytes size 106573
1335795237713: ..... VCoreDaemon.java targetState = LEADER and create new DSMLayer !!!! :D:D:D:D:D
1335795237714: *** Starting CSM Layer ***
1335795237715: *** CSM Layer starting with cache disabled ***
1335795237715: *** CSM Layer starting with forwarding disabled ***
1335795237727: Received UDP payload: 989
1335795237732: mux: GOT CSM_Msg
1335795237832: Received UDP payload: 989
1335795237848: mux: GOT CSM_Msg
1335795237932: Received UDP payload: 989
1335795237936: mux: GOT CSM_Msg
1335795237998: Received UDP payload: 446
1335795238031: Received UDP payload: 989
1335795238035: mux: GOT CSM_Msg
1335795238342: Received UDP payload: 446
1335795238422: Received UDP payload: 989
1335795238425: mux: GOT CSM_Msg
1335795238454: Received UDP payload: 989
1335795238456: mux: GOT CSM_Msg
1335795238481: Received UDP payload: 989
1335795238483: mux: GOT CSM_Msg
1335795238498: Received UDP payload: 989
1335795238500: mux: GOT CSM_Msg
1335795238538: Received UDP payload: 989
1335795238541: mux: GOT CSM_Msg
1335795238581: Received UDP payload: 446
1335795238650: Received UDP payload: 989
1335795238651: mux: GOT CSM_Msg
1335795240050: DSMLayer starting
1335795240059: UserApp started.
1335795240060: loaded csm data from cloud
1335795240102: inside sendPacket(Packet p)
1335795240113: Sending UDP payload: 35456
1335795240117: ..... VCoreDaemon.java stateTransition ends xxxxxxxxxxxx
1335795240117: now fully up as LEADER (id=5018) of (5,0)
1335795240519: inside sendPacket(Packet p)
1335795240520: Sending UDP payload: 446
1335795242370: Received UDP payload: 446
1335795242449: Received UDP payload: 446
1335795242698: Received UDP payload: 446
1335795242719: Received UDP payload: 446
1335795242758: Received UDP payload: 446
1335795242830: areButtonsEnabled --> false 
1335795242830: canPressButton = TRUE
1335795242831: areButtonsEnabled --> false
1335795242831: get picture disableButtonsR
1335795242848: one more getNum: 14
1335795242849: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=14 getGood=7 getBad=3 getTimedout=3 getPercent=50%
1335795242850: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795242850: change local requestCounter to 35
1335795242852: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018035 Client in region: 5 Client nodID: 5018
1335795242906: ----------------------------
1335795242907: inside sendRequestPacketRepeatingRunnable for requestCount = 5018035
1335795242908: --- Finished one round of sending REQUEST Packet ---------
1335795242908: I'm a leader, my requesting photos packet going to mux directly
1335795242908: mux: Inside mux Packet.CLIENT_REQUEST
1335795242909: got new request, requestCounter = 5018035
1335795242909: inside handleClientRequest. Originator leader of region 5
1335795242909: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795242910: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795242914: Sending to region: 5
1335795242916: Dispatching Atom PROC_REQUEST 11:11 (5,0)->(5,0)
1335795242916: Sending PROC_REQUEST 11:11 (5,0)->(5,0)
1335795242917: Make FirstLeg Ack regardless of new or already-processed requests
1335795242917: Note down new request by adding requestCounter=5018035 to HashMap processedRequests
1335795242917: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795242918: mux: I got a CSM packet at a leader 
1335795242924: Sending UDP payload: 989
1335795242926: inside handleDSMRequest. At requests's remote leader of region 5
1335795242926: removed replies before id 11 from sentReplies of size 0
1335795242928: INSIDE SERVER_GET_PHOTO!!!
1335795242940:  1 self to self atomRequest
1335795242940: dst_region == src_region = 5
1335795242944: Received PROC_REQUEST 11:11 (5,0)->(5,0), replying PROC_REPLY 11:11 (5,0)->(5,0)
1335795242945: Dispatching Atom PROC_REPLY 11:11 (5,0)->(5,0)
1335795242946: mux: I got a CSM packet at a leader 
1335795242951: Sending UDP payload: 4566
1335795242952: Received PROC_REPLY 11:11 (5,0)->(5,0), handing to UserApp
1335795242953: DSM layer: Going to and from remote region took latency = 38
1335795242953: inside handleDSMReply. Now back in originator leader of region 5
1335795242954: DSM layer: orig leader sent packet at 1335795242915 ~ received reply from remote leader at 1335795242953
1335795242955: Received UDP payload: 446
1335795242960: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795242960: change leader replyCounter to: 1
1335795242960: reply packet contains the newest photo/success info from the remote region
1335795242961: =======================
1335795242961: inside sendReplies of replyCount = 501800001
1335795242961: inside sendReplyRepeatingRunnable for replyCount = 501800001
1335795242962: Leader about to send REPLY packet, number: 501800001 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795242963: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795242965: === Finished one round of sending REPLY Packet =======
1335795242979: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795242984: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795242984: Inside _enableButtons
1335795242984: disabling progressdialog due to successful new photo get
1335795242985: areButtonsEnabled --> true
1335795242985: inside finalLegAck: change requestCounter to 36
1335795242985: send final leg ack regardless of new or already-processed reply
1335795242986: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018036 Client in region: (5,0) Client nodID: 5018
1335795242986: I'm a leader client, my final_leg packet going to mux directly
1335795242986: got new request, requestCounter = 5018036
1335795242986: inside handleClientRequest. Originator leader of region 5
1335795242986: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795242986: mux: Inside mux Packet.CLIENT_REQUEST
1335795242987: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800001
1335795242987: Yay the last leg succeeded. Removing reply runnables ...
1335795242987: csn discarding repeated replyCounter=501800001, but still sent an ack back
1335795242987: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800001
1335795242987: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800001
1335795242987: do not send ack for received final_leg_ack
1335795243055: Received UDP payload: 446
1335795243306: canPressButton = TRUE
1335795243307: areButtonsEnabled --> false
1335795243307: areButtonsEnabled --> false 
1335795243307: get picture disableButtonsR
1335795243329: one more getNum: 15
1335795243329: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=15 getGood=7 getBad=3 getTimedout=3 getPercent=46%
1335795243330: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795243330: change local requestCounter to 37
1335795243331: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018037 Client in region: 5 Client nodID: 5018
1335795243358: Received UDP payload: 446
1335795243365: ----------------------------
1335795243365: inside sendRequestPacketRepeatingRunnable for requestCount = 5018037
1335795243366: I'm a leader, my requesting photos packet going to mux directly
1335795243366: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795243366: mux: Inside mux Packet.CLIENT_REQUEST
1335795243367: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795243367: got new request, requestCounter = 5018037
1335795243367: inside handleClientRequest. Originator leader of region 5
1335795243368: Sending PROC_REQUEST 11:12 (5,0)->(5,0)
1335795243368: Sending to region: 5
1335795243369: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(5,0)
1335795243369: Make FirstLeg Ack regardless of new or already-processed requests
1335795243369: Note down new request by adding requestCounter=5018037 to HashMap processedRequests
1335795243370: mux: I got a CSM packet at a leader 
1335795243370: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795243371: --- Finished one round of sending REQUEST Packet ---------
1335795243373: Sending UDP payload: 989
1335795243374: inside handleDSMRequest. At requests's remote leader of region 5
1335795243374: removed replies before id 12 from sentReplies of size 0
1335795243375: INSIDE SERVER_GET_PHOTO!!!
1335795243376: dst_region == src_region = 5
1335795243377:  1 self to self atomRequest
1335795243380: Received PROC_REQUEST 11:12 (5,0)->(5,0), replying PROC_REPLY 11:12 (5,0)->(5,0)
1335795243382: Dispatching Atom PROC_REPLY 11:12 (5,0)->(5,0)
1335795243383: mux: I got a CSM packet at a leader 
1335795243384: Sending UDP payload: 4566
1335795243387: DSM layer: Going to and from remote region took latency = 19
1335795243387: DSM layer: orig leader sent packet at 1335795243368 ~ received reply from remote leader at 1335795243387
1335795243387: Received PROC_REPLY 11:12 (5,0)->(5,0), handing to UserApp
1335795243387: inside handleDSMReply. Now back in originator leader of region 5
1335795243389: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795243390: change leader replyCounter to: 2
1335795243391: =======================
1335795243391: inside sendReplies of replyCount = 501800002
1335795243391: inside sendReplyRepeatingRunnable for replyCount = 501800002
1335795243391: reply packet contains the newest photo/success info from the remote region
1335795243392: === Finished one round of sending REPLY Packet =======
1335795243392: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795243392: Leader about to send REPLY packet, number: 501800002 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795243405: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795243410: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795243410: Inside _enableButtons
1335795243410: disabling progressdialog due to successful new photo get
1335795243411: areButtonsEnabled --> true
1335795243411: inside finalLegAck: change requestCounter to 38
1335795243411: send final leg ack regardless of new or already-processed reply
1335795243412: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018038 Client in region: (5,0) Client nodID: 5018
1335795243412: I'm a leader client, my final_leg packet going to mux directly
1335795243413: csn discarding repeated replyCounter=501800002, but still sent an ack back
1335795243417: got new request, requestCounter = 5018038
1335795243417: inside handleClientRequest. Originator leader of region 5
1335795243417: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795243417: mux: Inside mux Packet.CLIENT_REQUEST
1335795243418: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800002
1335795243418: Yay the last leg succeeded. Removing reply runnables ...
1335795243418: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800002
1335795243418: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800002
1335795243418: do not send ack for received final_leg_ack
1335795243657: Received UDP payload: 446
1335795244052: Received UDP payload: 446
1335795245520: inside sendPacket(Packet p)
1335795245531: Sending UDP payload: 446
1335795246642: Received UDP payload: 446
1335795246952: Received UDP payload: 446
1335795247247: Received UDP payload: 446
1335795247450: Received UDP payload: 446
1335795247669: Received UDP payload: 446
1335795248645: Received UDP payload: 989
1335795248657: forwarding disabled, not forwarding packets
1335795248657: mux: GOT CSM_Msg
1335795249356: Received UDP payload: 446
1335795249549: Received UDP payload: 989
1335795249556: forwarding disabled, not forwarding packets
1335795249556: mux: GOT CSM_Msg
1335795249762: Received UDP payload: 989
1335795249769: forwarding disabled, not forwarding packets
1335795249769: mux: GOT CSM_Msg
1335795249835: Received UDP payload: 989
1335795249842: mux: GOT CSM_Msg
1335795249843: forwarding disabled, not forwarding packets
1335795249954: Received UDP payload: 446
1335795249958: heard LEADER_REQUEST from node 5004, responding LEADER_REPLY
1335795249998: Received UDP payload: 5112
1335795250004: forwarding disabled, not forwarding packets
1335795250004: mux: GOT CSM_Msg
1335795250150: inside sendPacket(Packet p)
1335795250208: Received UDP payload: 446
1335795250226: Sending UDP payload: 35473
1335795250240: heard LEADER_REQUEST from node 5004, responding LEADER_REPLY
1335795250272: inside sendPacket(Packet p)
1335795250273: Sending UDP payload: 35473
1335795250533: inside sendPacket(Packet p)
1335795250534: Sending UDP payload: 446
1335795250554: Received UDP payload: 446
1335795250555: heard LEADER_REQUEST from node 5004, responding LEADER_REPLY
1335795250599: inside sendPacket(Packet p)
1335795250603: Sending UDP payload: 35473
1335795250778: Received UDP payload: 446
1335795250923: Received UDP payload: 446
1335795250925: heard LEADER_REQUEST from node 5004, responding LEADER_REPLY
1335795250964: inside sendPacket(Packet p)
1335795250968: Sending UDP payload: 35473
1335795252609: Received UDP payload: 989
1335795252629: mux: GOT CSM_Msg
1335795252630: forwarding disabled, not forwarding packets
1335795252631: Received UDP payload: 446
1335795252639: Received UDP payload: 989
1335795252650: forwarding disabled, not forwarding packets
1335795252650: mux: GOT CSM_Msg
1335795252659: Received UDP payload: 989
1335795252662: forwarding disabled, not forwarding packets
1335795252662: mux: GOT CSM_Msg
1335795252717: Received UDP payload: 989
1335795252719: forwarding disabled, not forwarding packets
1335795252719: mux: GOT CSM_Msg
1335795252739: Received UDP payload: 989
1335795252741: forwarding disabled, not forwarding packets
1335795252741: mux: GOT CSM_Msg
1335795252842: canPressButton = TRUE
1335795252843: areButtonsEnabled --> false
1335795252843: areButtonsEnabled --> false 
1335795252843: get picture disableButtonsR
1335795252875: one more getNum: 16
1335795252877: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=16 getGood=7 getBad=3 getTimedout=3 getPercent=43%
1335795252878: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335795252878: change local requestCounter to 39
1335795252879: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018039 Client in region: 5 Client nodID: 5018
1335795252917: ----------------------------
1335795252918: --- Finished one round of sending REQUEST Packet ---------
1335795252918: I'm a leader, my requesting photos packet going to mux directly
1335795252918: inside sendRequestPacketRepeatingRunnable for requestCount = 5018039
1335795252919: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795252919: got new request, requestCounter = 5018039
1335795252919: inside handleClientRequest. Originator leader of region 5
1335795252919: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795252919: mux: Inside mux Packet.CLIENT_REQUEST
1335795252920: Sending to region: 3
1335795252921: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(3,0)
1335795252921: Make FirstLeg Ack regardless of new or already-processed requests
1335795252921: Note down new request by adding requestCounter=5018039 to HashMap processedRequests
1335795252921: Sending PROC_REQUEST 11:2 (5,0)->(3,0)
1335795252921: mux: I got a CSM packet at a leader 
1335795252921: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795252935: Sending UDP payload: 989
1335795252936: forwarding disabled, not forwarding packets
1335795252967: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795252988: Received UDP payload: 989
1335795252991: Received PROC_REPLY 11:2 (3,0)->(5,0), handing to UserApp
1335795252991: mux: GOT CSM_Msg
1335795252992: DSM layer: Going to and from remote region took latency = 72
1335795252992: DSM layer: orig leader sent packet at 1335795252920 ~ received reply from remote leader at 1335795252992
1335795252992: inside handleDSMReply. Now back in originator leader of region 5
1335795252993: =======================
1335795252993: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795252993: change leader replyCounter to: 3
1335795252993: inside sendReplies of replyCount = 501800003
1335795252993: inside sendReplyRepeatingRunnable for replyCount = 501800003
1335795252993: reply packet contains the newest photo/success info from the remote region
1335795252994: === Finished one round of sending REPLY Packet =======
1335795252994: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795252994: Leader about to send REPLY packet, number: 501800003 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795253022: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795253022: Inside _enableButtons
1335795253022: disabling progressdialog due to successful new photo get
1335795253023: areButtonsEnabled --> true
1335795253023: inside finalLegAck: change requestCounter to 40
1335795253023: send final leg ack regardless of new or already-processed reply
1335795253024: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018040 Client in region: (5,0) Client nodID: 5018
1335795253024: I'm a leader client, my final_leg packet going to mux directly
1335795253024: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800003
1335795253024: csn discarding repeated replyCounter=501800003, but still sent an ack back
1335795253024: got new request, requestCounter = 5018040
1335795253024: inside handleClientRequest. Originator leader of region 5
1335795253024: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795253024: mux: Inside mux Packet.CLIENT_REQUEST
1335795253025: Yay the last leg succeeded. Removing reply runnables ...
1335795253025: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800003
1335795253025: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800003
1335795253025: do not send ack for received final_leg_ack
1335795253873: Received UDP payload: 446
1335795253997: Received UDP payload: 446
1335795254553: areButtonsEnabled --> false
1335795254553: areButtonsEnabled --> false 
1335795254553: canPressButton = TRUE
1335795254553: get picture disableButtonsR
1335795254592: one more getNum: 17
1335795254592: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=7 getBad=3 getTimedout=3 getPercent=41%
1335795254593: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335795254593: change local requestCounter to 41
1335795254594: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018041 Client in region: 5 Client nodID: 5018
1335795254643: ----------------------------
1335795254644: I'm a leader, my requesting photos packet going to mux directly
1335795254644: inside sendRequestPacketRepeatingRunnable for requestCount = 5018041
1335795254645: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795254645: got new request, requestCounter = 5018041
1335795254645: inside handleClientRequest. Originator leader of region 5
1335795254645: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795254645: mux: Inside mux Packet.CLIENT_REQUEST
1335795254648: Sending to region: 3
1335795254649: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(3,0)
1335795254649: Make FirstLeg Ack regardless of new or already-processed requests
1335795254649: Note down new request by adding requestCounter=5018041 to HashMap processedRequests
1335795254649: Sending PROC_REQUEST 11:3 (5,0)->(3,0)
1335795254650: mux: I got a CSM packet at a leader 
1335795254650: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795254653: --- Finished one round of sending REQUEST Packet ---------
1335795254666: Sending UDP payload: 989
1335795254676: forwarding disabled, not forwarding packets
1335795254694: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795254805: Received UDP payload: 989
1335795254810: mux: GOT CSM_Msg
1335795254811: DSM layer: Going to and from remote region took latency = 163
1335795254811: DSM layer: orig leader sent packet at 1335795254648 ~ received reply from remote leader at 1335795254811
1335795254811: Received PROC_REPLY 11:3 (3,0)->(5,0), handing to UserApp
1335795254811: inside handleDSMReply. Now back in originator leader of region 5
1335795254812: =======================
1335795254812: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795254812: change leader replyCounter to: 4
1335795254812: inside sendReplies of replyCount = 501800004
1335795254812: inside sendReplyRepeatingRunnable for replyCount = 501800004
1335795254812: reply packet contains the newest photo/success info from the remote region
1335795254813: === Finished one round of sending REPLY Packet =======
1335795254813: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795254813: Leader about to send REPLY packet, number: 501800004 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795254814: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795254815: Inside _enableButtons
1335795254815: areButtonsEnabled --> true
1335795254815: disabling progressdialog due to successful new photo get
1335795254815: send final leg ack regardless of new or already-processed reply
1335795254816: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018042 Client in region: (5,0) Client nodID: 5018
1335795254816: I'm a leader client, my final_leg packet going to mux directly
1335795254816: inside finalLegAck: change requestCounter to 42
1335795254816: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795254816: mux: Inside mux Packet.CLIENT_REQUEST
1335795254817: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800004
1335795254817: Yay the last leg succeeded. Removing reply runnables ...
1335795254817: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800004
1335795254817: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800004
1335795254817: do not send ack for received final_leg_ack
1335795254817: got new request, requestCounter = 5018042
1335795254817: inside handleClientRequest. Originator leader of region 5
1335795254820: = leader download start 1335795254645 ~ stop 1335795254814
1335795254820: leader download remote photo latency = 169
1335795254820: new client_show_remotephoto reply with replyCounter 501800004
1335795254820: note down new reply by adding replyCounter=501800004 to HashMap processedReplies
1335795254822: one more getGood: 8
1335795254823: PHOTO DATA is NULL, because region doesn't have a photo yet
1335795254823: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=17 getGood=8 getBad=3 getTimedout=3 getPercent=47%
1335795254823: successful reply for client get photo
1335795255534: inside sendPacket(Packet p)
1335795255537: Sending UDP payload: 446
1335795255737: Received UDP payload: 446
1335795257470: Received UDP payload: 446
1335795257938: Received UDP payload: 446
1335795258264: Received UDP payload: 4205
1335795258266: forwarding disabled, not forwarding packets
1335795258266: mux: GOT CSM_Msg
1335795258273: Received UDP payload: 446
1335795258275: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795258275: mux: Inside Packet.SERVER_REPLY
1335795258306: Received UDP payload: 642
1335795258308: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795258308: mux: Inside Packet.SERVER_REPLY
1335795258331: Received UDP payload: 446
1335795258333: mux: Inside mux Packet.CLIENT_REQUEST
1335795258637: areButtonsEnabled --> false 
1335795258637: canPressButton = TRUE
1335795258637: get picture disableButtonsR
1335795258638: areButtonsEnabled --> false
1335795258672: one more getNum: 18
1335795258674: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335795258674: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=3 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=100% getNum=18 getGood=8 getBad=3 getTimedout=3 getPercent=44%
1335795258675: change local requestCounter to 43
1335795258677: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018043 Client in region: 5 Client nodID: 5018
1335795258716: ----------------------------
1335795258717: I'm a leader, my requesting photos packet going to mux directly
1335795258717: inside sendRequestPacketRepeatingRunnable for requestCount = 5018043
1335795258717: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795258717: mux: Inside mux Packet.CLIENT_REQUEST
1335795258718: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795258718: got new request, requestCounter = 5018043
1335795258718: inside handleClientRequest. Originator leader of region 5
1335795258719: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(2,0)
1335795258719: Note down new request by adding requestCounter=5018043 to HashMap processedRequests
1335795258719: Sending PROC_REQUEST 11:2 (5,0)->(2,0)
1335795258719: Sending to region: 2
1335795258720: Make FirstLeg Ack regardless of new or already-processed requests
1335795258720: mux: I got a CSM packet at a leader 
1335795258720: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795258722: Sending UDP payload: 989
1335795258723: --- Finished one round of sending REQUEST Packet ---------
1335795258723: forwarding disabled, not forwarding packets
1335795258762: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795258841: Received UDP payload: 5553
1335795258843: mux: GOT CSM_Msg
1335795258844: DSM layer: Going to and from remote region took latency = 125
1335795258844: DSM layer: orig leader sent packet at 1335795258719 ~ received reply from remote leader at 1335795258844
1335795258844: Received PROC_REPLY 11:2 (2,0)->(5,0), handing to UserApp
1335795258844: inside handleDSMReply. Now back in originator leader of region 5
1335795258845: =======================
1335795258845: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795258845: change leader replyCounter to: 5
1335795258845: inside sendReplies of replyCount = 501800005
1335795258845: inside sendReplyRepeatingRunnable for replyCount = 501800005
1335795258845: reply packet contains the newest photo/success info from the remote region
1335795258847: === Finished one round of sending REPLY Packet =======
1335795258847: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795258847: Leader about to send REPLY packet, number: 501800005 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795258855: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795258855: Inside _enableButtons
1335795258855: disabling progressdialog due to successful new photo get
1335795258856: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018044 Client in region: (5,0) Client nodID: 5018
1335795258856: areButtonsEnabled --> true
1335795258856: inside finalLegAck: change requestCounter to 44
1335795258856: send final leg ack regardless of new or already-processed reply
1335795258857: I'm a leader client, my final_leg packet going to mux directly
1335795258857: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800005
1335795258857: Yay the last leg succeeded. Removing reply runnables ...
1335795258857: got new request, requestCounter = 5018044
1335795258857: inside handleClientRequest. Originator leader of region 5
1335795258857: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795258857: mux: Inside mux Packet.CLIENT_REQUEST
1335795258858: csn discarding repeated replyCounter=501800005, but still sent an ack back
1335795258858: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800005
1335795258858: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800005
1335795258858: do not send ack for received final_leg_ack
1335795258990: Received UDP payload: 4871
1335795258991: got new request, requestCounter = 5004026
1335795258991: inside handleClientRequest. Originator leader of region 5
1335795258991: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795258991: mux: Inside mux Packet.CLIENT_REQUEST
1335795258992: Dispatching Atom PROC_REQUEST 10:13 (5,0)->(5,0)
1335795258992: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335795258992: Make FirstLeg Ack regardless of new or already-processed requests
1335795258992: Note down new request by adding requestCounter=5004026 to HashMap processedRequests
1335795258992: Sending PROC_REQUEST 10:13 (5,0)->(5,0)
1335795258992: The leader sending a First Leg ack to originator client (which id = 5004)
1335795258993: inside sendPacket(Packet p)
1335795258993: mux: I got a CSM packet at a leader 
1335795258994: Sending UDP payload: 5235
1335795258998: inside handleDSMRequest. At requests's remote leader of region 5
1335795258998: removed replies before id 13 from sentReplies of size 0
1335795258999: Inside UPLOAD_PHOTO!!
1335795259002: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335795259002: my_gpinfo.isSuccess is now (should be true): true
1335795259003: Received PROC_REQUEST 10:13 (5,0)->(5,0), replying PROC_REPLY 10:13 (5,0)->(5,0)
1335795259004: Dispatching Atom PROC_REPLY 10:13 (5,0)->(5,0)
1335795259004: Sending UDP payload: 446
1335795259006: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335795259007: I'm a leader and I successfully saved my client's new photo
1335795259007: now showing in UI the new photo I just saved ... 
1335795259008: the photo length: 4224
1335795259053: mux: I got a CSM packet at a leader 
1335795259054: Sending UDP payload: 989
1335795259055: DSM layer: Going to and from remote region took latency = 63
1335795259055: Received PROC_REPLY 10:13 (5,0)->(5,0), handing to UserApp
1335795259055: inside handleDSMReply. Now back in originator leader of region 5
1335795259056: DSM layer: orig leader sent packet at 1335795258992 ~ received reply from remote leader at 1335795259055
1335795259056: Originator Region=5's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795259056: change leader replyCounter to: 6
1335795259056: reply packet contains the success info for UPLOAD_PHOTO
1335795259057: =======================
1335795259057: Leader about to send REPLY packet, number: 501800006 type: 16 Leader in region: (5,0) to Client nodID: 5004
1335795259057: inside sendReplies of replyCount = 501800006
1335795259057: inside sendReplyRepeatingRunnable for replyCount = 501800006
1335795259058: === Finished one round of sending REPLY Packet =======
1335795259058: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795259058: inside sendPacket(Packet p)
1335795259062: Sending UDP payload: 642
1335795259068: end of server show photo aside %%%%%%%%%
1335795259235: Received UDP payload: 989
1335795259237: forwarding disabled, not forwarding packets
1335795259237: mux: GOT CSM_Msg
1335795259358: =======================
1335795259358: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795259358: Leader about to send REPLY packet, number: 501800006 type: 16 Leader in region: (5,0) to Client nodID: 5004
1335795259358: inside sendReplyRepeatingRunnable for replyCount = 501800006
1335795259359: === Finished one round of sending REPLY Packet =======
1335795259359: inside sendPacket(Packet p)
1335795259360: Sending UDP payload: 642
1335795259408: Received UDP payload: 446
1335795259410: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800006
1335795259410: Yay the last leg succeeded. Removing reply runnables ...
1335795259410: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800006
1335795259410: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800006
1335795259410: do not send ack for received final_leg_ack
1335795259410: got new request, requestCounter = 5004027
1335795259410: inside handleClientRequest. Originator leader of region 5
1335795259410: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795259410: mux: Inside mux Packet.CLIENT_REQUEST
1335795259694: Received UDP payload: 446
1335795259992: Received UDP payload: 446
1335795260295: Received UDP payload: 446
1335795260515: Received UDP payload: 12043
1335795260535: inside sendPacket(Packet p)
1335795260541: Sending UDP payload: 446
1335795260598: Received UDP payload: 446
1335795260749: Received UDP payload: 446
1335795260821: Received UDP payload: 625
1335795260826: mux: Inside mux Packet.CLIENT_REQUEST
1335795260827: inside handleClientRequest. Originator leader of region 5
1335795260827: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795260828: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795260828: got new request, requestCounter = 5004028
1335795260835: Sending to region: 5
1335795260838: Sending PROC_REQUEST 11:14 (5,0)->(5,0)
1335795260839: Dispatching Atom PROC_REQUEST 11:14 (5,0)->(5,0)
1335795260839: Note down new request by adding requestCounter=5004028 to HashMap processedRequests
1335795260840: Make FirstLeg Ack regardless of new or already-processed requests
1335795260840: The leader sending a First Leg ack to originator client (which id = 5004)
1335795260841: inside sendPacket(Packet p)
1335795260850: mux: I got a CSM packet at a leader 
1335795260856: Sending UDP payload: 989
1335795260869: removed replies before id 14 from sentReplies of size 0
1335795260871: inside handleDSMRequest. At requests's remote leader of region 5
1335795260873: INSIDE SERVER_GET_PHOTO!!!
1335795260885:  1 self to self atomRequest
1335795260885: dst_region == src_region = 5
1335795260886: Received PROC_REQUEST 11:14 (5,0)->(5,0), replying PROC_REPLY 11:14 (5,0)->(5,0)
1335795260887: Dispatching Atom PROC_REPLY 11:14 (5,0)->(5,0)
1335795260888: Sending UDP payload: 446
1335795260888: mux: I got a CSM packet at a leader 
1335795260890: Sending UDP payload: 5235
1335795260901: DSM layer: Going to and from remote region took latency = 65
1335795260901: DSM layer: orig leader sent packet at 1335795260836 ~ received reply from remote leader at 1335795260901
1335795260901: Received PROC_REPLY 11:14 (5,0)->(5,0), handing to UserApp
1335795260901: inside handleDSMReply. Now back in originator leader of region 5
1335795260902: Originator Region=5's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795260902: change leader replyCounter to: 7
1335795260903: =======================
1335795260903: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795260903: Leader about to send REPLY packet, number: 501800007 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795260903: inside sendPacket(Packet p)
1335795260903: inside sendReplies of replyCount = 501800007
1335795260903: inside sendReplyRepeatingRunnable for replyCount = 501800007
1335795260903: reply packet contains the newest photo/success info from the remote region
1335795260904: === Finished one round of sending REPLY Packet =======
1335795260905: Sending UDP payload: 4888
1335795261203: =======================
1335795261203: inside sendReplyRepeatingRunnable for replyCount = 501800007
1335795261204: === Finished one round of sending REPLY Packet =======
1335795261204: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795261204: Leader about to send REPLY packet, number: 501800007 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795261204: inside sendPacket(Packet p)
1335795261206: Sending UDP payload: 4888
1335795261504: =======================
1335795261505: === Finished one round of sending REPLY Packet =======
1335795261505: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795261505: Leader about to send REPLY packet, number: 501800007 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795261505: inside sendPacket(Packet p)
1335795261505: inside sendReplyRepeatingRunnable for replyCount = 501800007
1335795261506: Sending UDP payload: 4888
1335795261606: canPressButton = TRUE
1335795261607: areButtonsEnabled --> false
1335795261607: areButtonsEnabled --> false
1335795261607: disabling buttons ...
1335795261607: took picture disableButtonsR
1335795261635: one more takeNum: 4
1335795261637: Clicked take picture button ..
1335795261637: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=3 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=8 getBad=3 getTimedout=3 getPercent=44%
1335795261806: =======================
1335795261806: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795261806: Leader about to send REPLY packet, number: 501800007 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795261806: inside sendPacket(Packet p)
1335795261806: inside sendReplyRepeatingRunnable for replyCount = 501800007
1335795261807: === Finished one round of sending REPLY Packet =======
1335795261808: Sending UDP payload: 4888
1335795261904: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800007
1335795261904: inside sendReplyTimeoutR
1335795261921: Received UDP payload: 989
1335795261923: forwarding disabled, not forwarding packets
1335795261923: mux: GOT CSM_Msg
1335795262088: Received UDP payload: 446
1335795262089: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795262089: mux: Inside mux Packet.CLIENT_REQUEST
1335795262090: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800007
1335795262090: got new request, requestCounter = 5004029
1335795262090: inside handleClientRequest. Originator leader of region 5
1335795262091: Yay the last leg succeeded. Removing reply runnables ...
1335795262091: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501800007
1335795262092: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800007
1335795262092: do not send ack for received final_leg_ack
1335795262125: Received UDP payload: 446
1335795262126: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795262126: mux: Inside mux Packet.CLIENT_REQUEST
1335795262127: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800007
1335795262127: Yay the last leg succeeded. Removing reply runnables ...
1335795262127: do not send ack for received final_leg_ack
1335795262127: got new request, requestCounter = 5004030
1335795262127: inside handleClientRequest. Originator leader of region 5
1335795262127: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501800007
1335795262127: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501800007
1335795262475: Received UDP payload: 446
1335795262651: Received UDP payload: 989
1335795262654: forwarding disabled, not forwarding packets
1335795262654: mux: GOT CSM_Msg
1335795262680: Received UDP payload: 446
1335795262699: Received UDP payload: 446
1335795262922: Received UDP payload: 989
1335795262924: Received UDP payload: 989
1335795262927: forwarding disabled, not forwarding packets
1335795262927: forwarding disabled, not forwarding packets
1335795262927: inside HandlePictureStorage onPictureTaken()
1335795262927: mux: GOT CSM_Msg
1335795262927: mux: GOT CSM_Msg
1335795262928: one more takeCamGood: 4
1335795262929: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=18 getGood=8 getBad=3 getTimedout=3 getPercent=44%
1335795262989: Received UDP payload: 989
1335795262996: forwarding disabled, not forwarding packets
1335795262996: mux: GOT CSM_Msg
1335795263137: Received UDP payload: 989
1335795263141: forwarding disabled, not forwarding packets
1335795263141: mux: GOT CSM_Msg
1335795263167: Received UDP payload: 446
1335795263190: Picture successfully taken, ORIG BYTE LENGTH = 2822969
1335795263305: Received UDP payload: 989
1335795263310: forwarding disabled, not forwarding packets
1335795263310: mux: GOT CSM_Msg
1335795263409: Received UDP payload: 989
1335795263414: forwarding disabled, not forwarding packets
1335795263414: mux: GOT CSM_Msg
1335795263500: Received UDP payload: 989
1335795263504: mux: GOT CSM_Msg
1335795263505: forwarding disabled, not forwarding packets
1335795263593: Received UDP payload: 989
1335795263597: mux: GOT CSM_Msg
1335795263598: forwarding disabled, not forwarding packets
1335795263625: Our new height x width: 306 x 408
1335795263626: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335795263626: Show photo from handle my camera take
1335795263626: change local requestCounter to 45
1335795263628: Received UDP payload: 446
1335795263642: BYTE SIZE AFTER COMPRESSION: 3249
1335795263648: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5018045 Client in region: 5 Client nodID: 5018
1335795263686: ----------------------------
1335795263686: I'm a leader, my requesting photos packet going to mux directly
1335795263686: inside sendRequestPacketRepeatingRunnable for requestCount = 5018045
1335795263686: mux: Inside mux Packet.CLIENT_REQUEST
1335795263687: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335795263687: Sending PROC_REQUEST 10:15 (5,0)->(5,0)
1335795263687: got new request, requestCounter = 5018045
1335795263687: inside handleClientRequest. Originator leader of region 5
1335795263687: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795263688: Dispatching Atom PROC_REQUEST 10:15 (5,0)->(5,0)
1335795263688: Make FirstLeg Ack regardless of new or already-processed requests
1335795263688: Note down new request by adding requestCounter=5018045 to HashMap processedRequests
1335795263688: mux: I got a CSM packet at a leader 
1335795263688: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795263693: Sending UDP payload: 4260
1335795263694: --- Finished one round of sending REQUEST Packet ---------
1335795263700: inside handleDSMRequest. At requests's remote leader of region 5
1335795263700: removed replies before id 15 from sentReplies of size 0
1335795263702: Inside UPLOAD_PHOTO!!
1335795263705: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335795263705: my_gpinfo.isSuccess is now (should be true): true
1335795263706: Dispatching Atom PROC_REPLY 10:15 (5,0)->(5,0)
1335795263706: Received PROC_REQUEST 10:15 (5,0)->(5,0), replying PROC_REPLY 10:15 (5,0)->(5,0)
1335795263707: mux: I got a CSM packet at a leader 
1335795263708: Sending UDP payload: 989
1335795263717: DSM layer: Going to and from remote region took latency = 30
1335795263717: DSM layer: orig leader sent packet at 1335795263687 ~ received reply from remote leader at 1335795263717
1335795263717: Received PROC_REPLY 10:15 (5,0)->(5,0), handing to UserApp
1335795263717: inside handleDSMReply. Now back in originator leader of region 5
1335795263718: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795263718: change leader replyCounter to: 8
1335795263718: inside sendReplies of replyCount = 501800008
1335795263718: reply packet contains the success info for UPLOAD_PHOTO
1335795263719: === Finished one round of sending REPLY Packet =======
1335795263719: =======================
1335795263719: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795263719: Leader about to send REPLY packet, number: 501800008 type: 16 Leader in region: (5,0) to Client nodID: 5018
1335795263719: inside sendReplyRepeatingRunnable for replyCount = 501800008
1335795263726: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795263727: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335795263728: I'm a leader and I successfully saved my client's new photo
1335795263728: now showing in UI the new photo I just saved ... 
1335795263729: the photo length: 3249
1335795263767: end of server show photo aside %%%%%%%%%
1335795263769: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335795263769: disabling progressdialog due to successful new photo upload
1335795263770: Inside _enableButtons
1335795263770: areButtonsEnabled --> true
1335795263770: send final leg ack regardless of new or already-processed reply
1335795263771: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018046 Client in region: (5,0) Client nodID: 5018
1335795263771: inside finalLegAck: change requestCounter to 46
1335795263772: I'm a leader client, my final_leg packet going to mux directly
1335795263772: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800008
1335795263772: Yay the last leg succeeded. Removing reply runnables ...
1335795263772: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800008
1335795263772: got new request, requestCounter = 5018046
1335795263772: inside handleClientRequest. Originator leader of region 5
1335795263772: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795263772: mux: Inside mux Packet.CLIENT_REQUEST
1335795263773: cupa discarding repeated replyCounter=501800008, but still sent an ack back
1335795263773: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800008
1335795263773: do not send ack for received final_leg_ack
1335795264530: Received UDP payload: 5112
1335795264533: forwarding disabled, not forwarding packets
1335795264533: mux: GOT CSM_Msg
1335795264610: Received UDP payload: 989
1335795264613: forwarding disabled, not forwarding packets
1335795264613: mux: GOT CSM_Msg
1335795264619: Received UDP payload: 989
1335795264622: forwarding disabled, not forwarding packets
1335795264622: mux: GOT CSM_Msg
1335795264637: Received UDP payload: 989
1335795264640: mux: GOT CSM_Msg
1335795264641: forwarding disabled, not forwarding packets
1335795264649: Received UDP payload: 989
1335795264651: mux: GOT CSM_Msg
1335795264652: forwarding disabled, not forwarding packets
1335795264709: Received UDP payload: 5112
1335795264714: forwarding disabled, not forwarding packets
1335795264714: mux: GOT CSM_Msg
1335795264782: Received UDP payload: 5112
1335795264786: forwarding disabled, not forwarding packets
1335795264786: mux: GOT CSM_Msg
1335795264856: Received UDP payload: 5112
1335795264864: forwarding disabled, not forwarding packets
1335795264864: mux: GOT CSM_Msg
1335795265537: inside sendPacket(Packet p)
1335795265540: Sending UDP payload: 446
1335795265852: Received UDP payload: 446
1335795266887: Received UDP payload: 989
1335795266894: mux: GOT CSM_Msg
1335795266895: inside handleDSMRequest. At requests's remote leader of region 5
1335795266895: removed replies before id 0 from sentReplies of size 0
1335795266897: INSIDE SERVER_GET_PHOTO!!!
1335795266911: Received PROC_REQUEST 11:0 (3,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(3,0)
1335795266912: Dispatching Atom PROC_REPLY 11:0 (5,0)->(3,0)
1335795266913: mux: I got a CSM packet at a leader 
1335795266917: Sending UDP payload: 4260
1335795266931: forwarding disabled, not forwarding packets
1335795267492: Received UDP payload: 446
1335795267624: Received UDP payload: 989
1335795267632: mux: GOT CSM_Msg
1335795267633: removed replies before id 0 from sentReplies of size 1
1335795267635: Received DUPLICATE PROC_REQUEST 11:0 (3,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(3,0)
1335795267636: Dispatching Atom PROC_REPLY 11:0 (5,0)->(3,0)
1335795267636: mux: I got a CSM packet at a leader 
1335795267652: Sending UDP payload: 4260
1335795267655: forwarding disabled, not forwarding packets
1335795267735: Received UDP payload: 989
1335795267737: forwarding disabled, not forwarding packets
1335795267737: mux: GOT CSM_Msg
1335795267750: Received UDP payload: 446
1335795268110: Received UDP payload: 989
1335795268112: mux: GOT CSM_Msg
1335795268112: removed replies before id 0 from sentReplies of size 1
1335795268113: Dispatching Atom PROC_REPLY 11:0 (5,0)->(3,0)
1335795268113: Received DUPLICATE PROC_REQUEST 11:0 (3,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(3,0)
1335795268113: mux: I got a CSM packet at a leader 
1335795268114: Sending UDP payload: 4260
1335795268115: forwarding disabled, not forwarding packets
1335795268523: Received UDP payload: 989
1335795268533: forwarding disabled, not forwarding packets
1335795268533: mux: GOT CSM_Msg
1335795269015: Received UDP payload: 446
1335795269853: Received UDP payload: 989
1335795269861: mux: GOT CSM_Msg
1335795269862: forwarding disabled, not forwarding packets
1335795269875: Received UDP payload: 446
1335795269946: Received UDP payload: 4304
1335795269949: forwarding disabled, not forwarding packets
1335795269949: mux: GOT CSM_Msg
1335795270154: Received UDP payload: 446
1335795270462: Received UDP payload: 446
1335795270479: Received UDP payload: 625
1335795270484: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795270484: mux: Inside mux Packet.CLIENT_REQUEST
1335795270485: got new request, requestCounter = 5004031
1335795270485: inside handleClientRequest. Originator leader of region 5
1335795270486: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795270487: Sending to region: 3
1335795270488: Sending PROC_REQUEST 11:4 (5,0)->(3,0)
1335795270498: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(3,0)
1335795270499: Note down new request by adding requestCounter=5004031 to HashMap processedRequests
1335795270501: Make FirstLeg Ack regardless of new or already-processed requests
1335795270501: The leader sending a First Leg ack to originator client (which id = 5004)
1335795270502: inside sendPacket(Packet p)
1335795270502: mux: I got a CSM packet at a leader 
1335795270507: Sending UDP payload: 989
1335795270517: forwarding disabled, not forwarding packets
1335795270520: Sending UDP payload: 446
1335795270543: inside sendPacket(Packet p)
1335795270546: Sending UDP payload: 446
1335795270676: Received UDP payload: 6780
1335795270679: mux: GOT CSM_Msg
1335795270680: DSM layer: Going to and from remote region took latency = 192
1335795270680: DSM layer: orig leader sent packet at 1335795270488 ~ received reply from remote leader at 1335795270680
1335795270680: Received PROC_REPLY 11:4 (3,0)->(5,0), handing to UserApp
1335795270680: inside handleDSMReply. Now back in originator leader of region 5
1335795270681: Originator Region=5's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795270681: change leader replyCounter to: 9
1335795270682: =======================
1335795270682: Leader about to send REPLY packet, number: 501800009 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795270682: inside sendReplies of replyCount = 501800009
1335795270682: inside sendReplyRepeatingRunnable for replyCount = 501800009
1335795270682: reply packet contains the newest photo/success info from the remote region
1335795270683: === Finished one round of sending REPLY Packet =======
1335795270683: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795270683: inside sendPacket(Packet p)
1335795270685: Sending UDP payload: 6433
1335795270786: areButtonsEnabled --> false 
1335795270786: canPressButton = TRUE
1335795270786: get picture disableButtonsR
1335795270787: areButtonsEnabled --> false
1335795270812: one more getNum: 19
1335795270813: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795270813: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=19 getGood=8 getBad=3 getTimedout=3 getPercent=42%
1335795270814: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018047 Client in region: 5 Client nodID: 5018
1335795270814: change local requestCounter to 47
1335795270822: Received UDP payload: 625
1335795270823: Make FirstLeg Ack regardless of new or already-processed requests
1335795270823: Note down new request by adding requestCounter=5004031 to HashMap processedRequests
1335795270823: The leader sending a First Leg ack to originator client (which id = 5004)
1335795270823: discarding repeated requestCounter=5004031, but still send an ack back
1335795270823: inside handleClientRequest. Originator leader of region 5
1335795270823: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795270823: mux: Inside mux Packet.CLIENT_REQUEST
1335795270824: Sending UDP payload: 446
1335795270824: inside sendPacket(Packet p)
1335795270849: ----------------------------
1335795270850: I'm a leader, my requesting photos packet going to mux directly
1335795270850: got new request, requestCounter = 5018047
1335795270850: inside handleClientRequest. Originator leader of region 5
1335795270850: inside sendRequestPacketRepeatingRunnable for requestCount = 5018047
1335795270850: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795270850: mux: Inside mux Packet.CLIENT_REQUEST
1335795270851: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795270851: Sending to region: 4
1335795270852: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(4,0)
1335795270852: Make FirstLeg Ack regardless of new or already-processed requests
1335795270852: Note down new request by adding requestCounter=5018047 to HashMap processedRequests
1335795270852: Sending PROC_REQUEST 11:2 (5,0)->(4,0)
1335795270853: mux: I got a CSM packet at a leader 
1335795270853: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795270855: Sending UDP payload: 989
1335795270855: forwarding disabled, not forwarding packets
1335795270856: --- Finished one round of sending REQUEST Packet ---------
1335795270896: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795270983: =======================
1335795270983: inside sendReplyRepeatingRunnable for replyCount = 501800009
1335795270984: === Finished one round of sending REPLY Packet =======
1335795270984: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795270984: Leader about to send REPLY packet, number: 501800009 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795270984: inside sendPacket(Packet p)
1335795270985: Sending UDP payload: 6433
1335795271285: =======================
1335795271285: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795271285: Leader about to send REPLY packet, number: 501800009 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795271285: inside sendReplyRepeatingRunnable for replyCount = 501800009
1335795271286: === Finished one round of sending REPLY Packet =======
1335795271286: inside sendPacket(Packet p)
1335795271287: Sending UDP payload: 6433
1335795271426: Received UDP payload: 4982
1335795271428: mux: Inside mux Packet.CLIENT_REQUEST
1335795271508: Received UDP payload: 5346
1335795271511: forwarding disabled, not forwarding packets
1335795271511: mux: GOT CSM_Msg
1335795271521: Received UDP payload: 446
1335795271522: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795271522: mux: Inside Packet.SERVER_REPLY
1335795271532: Received UDP payload: 989
1335795271534: forwarding disabled, not forwarding packets
1335795271534: mux: GOT CSM_Msg
1335795271549: Received UDP payload: 642
1335795271551: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795271551: mux: Inside Packet.SERVER_REPLY
1335795271564: Received UDP payload: 446
1335795271565: mux: Inside mux Packet.CLIENT_REQUEST
1335795271586: =======================
1335795271587: === Finished one round of sending REPLY Packet =======
1335795271587: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795271587: Leader about to send REPLY packet, number: 501800009 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795271587: inside sendPacket(Packet p)
1335795271587: inside sendReplyRepeatingRunnable for replyCount = 501800009
1335795271588: Sending UDP payload: 6433
1335795271613: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(4,0)
1335795271613: Retrying PROC_REQUEST 11:2 (5,0)->(4,0)
1335795271613: mux: I got a CSM packet at a leader 
1335795271615: Sending UDP payload: 989
1335795271615: forwarding disabled, not forwarding packets
1335795271684: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800009
1335795271684: inside sendReplyTimeoutR
1335795271713: Retrying PROC_REQUEST 11:2 (5,0)->(4,0)
1335795271714: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(4,0)
1335795271714: mux: I got a CSM packet at a leader 
1335795271715: Sending UDP payload: 989
1335795271716: forwarding disabled, not forwarding packets
1335795271730: Received UDP payload: 4982
1335795271732: mux: Inside mux Packet.CLIENT_REQUEST
1335795271813: Received UDP payload: 642
1335795271814: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795271814: mux: Inside Packet.SERVER_REPLY
1335795271815: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(4,0)
1335795271815: Retrying PROC_REQUEST 11:2 (5,0)->(4,0)
1335795271815: mux: I got a CSM packet at a leader 
1335795271817: Sending UDP payload: 989
1335795271818: forwarding disabled, not forwarding packets
1335795271859: Received UDP payload: 446
1335795271861: mux: Inside mux Packet.CLIENT_REQUEST
1335795271916: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(4,0)
1335795271916: Retrying PROC_REQUEST 11:2 (5,0)->(4,0)
1335795271916: mux: I got a CSM packet at a leader 
1335795271918: Sending UDP payload: 989
1335795271919: forwarding disabled, not forwarding packets
1335795271927: Received UDP payload: 4304
1335795271929: DSM layer: Going to and from remote region took latency = 1078
1335795271929: Received PROC_REPLY 11:2 (4,0)->(5,0), handing to UserApp
1335795271929: inside handleDSMReply. Now back in originator leader of region 5
1335795271929: mux: GOT CSM_Msg
1335795271930: DSM layer: orig leader sent packet at 1335795270851 ~ received reply from remote leader at 1335795271929
1335795271930: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795271930: change leader replyCounter to: 10
1335795271930: inside sendReplies of replyCount = 501800010
1335795271930: reply packet contains the newest photo/success info from the remote region
1335795271931: =======================
1335795271931: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795271931: Leader about to send REPLY packet, number: 501800010 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795271931: inside sendReplyRepeatingRunnable for replyCount = 501800010
1335795271932: === Finished one round of sending REPLY Packet =======
1335795271940: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795271940: Inside _enableButtons
1335795271940: areButtonsEnabled --> true
1335795271940: disabling progressdialog due to successful new photo get
1335795271941: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018048 Client in region: (5,0) Client nodID: 5018
1335795271941: I'm a leader client, my final_leg packet going to mux directly
1335795271941: inside finalLegAck: change requestCounter to 48
1335795271941: send final leg ack regardless of new or already-processed reply
1335795271942: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800010
1335795271942: Yay the last leg succeeded. Removing reply runnables ...
1335795271942: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800010
1335795271942: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800010
1335795271942: do not send ack for received final_leg_ack
1335795271942: got new request, requestCounter = 5018048
1335795271942: inside handleClientRequest. Originator leader of region 5
1335795271942: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795271942: mux: Inside mux Packet.CLIENT_REQUEST
1335795271943: leader download remote photo latency = 1090
1335795271943: new client_show_remotephoto reply with replyCounter 501800010
1335795271943: note down new reply by adding replyCounter=501800010 to HashMap processedReplies
1335795271944: = leader download start 1335795270850 ~ stop 1335795271940
1335795271944: one more getGood: 9
1335795271945: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=19 getGood=9 getBad=3 getTimedout=3 getPercent=47%
1335795271946: Remote photo's length: 3293
1335795271946: Success! Client getting photo from remote region, showing photo...
1335795271946: successful reply for client get photo
1335795272123: Received UDP payload: 4304
1335795272129: mux: GOT CSM_Msg
1335795272130: Received DUPLICATE PROC_REPLY 11:2 (4,0)->(5,0)
1335795272133: Received UDP payload: 642
1335795272143: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795272143: mux: Inside Packet.SERVER_REPLY
1335795272163: Received UDP payload: 446
1335795272164: mux: Inside mux Packet.CLIENT_REQUEST
1335795272379: Received UDP payload: 4304
1335795272386: mux: GOT CSM_Msg
1335795272388: Received DUPLICATE PROC_REPLY 11:2 (4,0)->(5,0)
1335795272468: Received UDP payload: 446
1335795273000: Received UDP payload: 446
1335795273540: Received UDP payload: 989
1335795273550: mux: GOT CSM_Msg
1335795273551: forwarding disabled, not forwarding packets
1335795274141: Received UDP payload: 446
1335795274279: Received UDP payload: 989
1335795274286: forwarding disabled, not forwarding packets
1335795274286: mux: GOT CSM_Msg
1335795274457: Received UDP payload: 989
1335795274468: forwarding disabled, not forwarding packets
1335795274468: mux: GOT CSM_Msg
1335795274480: Received UDP payload: 989
1335795274487: forwarding disabled, not forwarding packets
1335795274487: mux: GOT CSM_Msg
1335795274540: Received UDP payload: 4109
1335795274542: forwarding disabled, not forwarding packets
1335795274542: mux: GOT CSM_Msg
1335795274623: Received UDP payload: 989
1335795274625: forwarding disabled, not forwarding packets
1335795274625: mux: GOT CSM_Msg
1335795274636: Received UDP payload: 4109
1335795274638: forwarding disabled, not forwarding packets
1335795274638: mux: GOT CSM_Msg
1335795274712: Received UDP payload: 989
1335795274714: forwarding disabled, not forwarding packets
1335795274714: mux: GOT CSM_Msg
1335795274788: Received UDP payload: 989
1335795274792: mux: GOT CSM_Msg
1335795274793: forwarding disabled, not forwarding packets
1335795274857: Received UDP payload: 4109
1335795274859: forwarding disabled, not forwarding packets
1335795274859: mux: GOT CSM_Msg
1335795274960: Received UDP payload: 4109
1335795274962: forwarding disabled, not forwarding packets
1335795274962: mux: GOT CSM_Msg
1335795275015: Received UDP payload: 4109
1335795275017: forwarding disabled, not forwarding packets
1335795275017: mux: GOT CSM_Msg
1335795275281: Received UDP payload: 989
1335795275285: forwarding disabled, not forwarding packets
1335795275285: mux: GOT CSM_Msg
1335795275543: inside sendPacket(Packet p)
1335795275562: Sending UDP payload: 446
1335795275813: Received UDP payload: 446
1335795276009: Received UDP payload: 989
1335795276011: forwarding disabled, not forwarding packets
1335795276011: mux: GOT CSM_Msg
1335795276081: Received UDP payload: 625
1335795276082: mux: Inside mux Packet.CLIENT_REQUEST
1335795276090: Received UDP payload: 989
1335795276092: forwarding disabled, not forwarding packets
1335795276092: mux: GOT CSM_Msg
1335795276099: Received UDP payload: 989
1335795276101: forwarding disabled, not forwarding packets
1335795276101: mux: GOT CSM_Msg
1335795276106: Received UDP payload: 446
1335795276108: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795276108: mux: Inside Packet.SERVER_REPLY
1335795276219: Received UDP payload: 989
1335795276225: forwarding disabled, not forwarding packets
1335795276225: mux: GOT CSM_Msg
1335795276246: Received UDP payload: 6780
1335795276254: mux: GOT CSM_Msg
1335795276255: forwarding disabled, not forwarding packets
1335795276287: Received UDP payload: 989
1335795276294: forwarding disabled, not forwarding packets
1335795276294: mux: GOT CSM_Msg
1335795276390: Received UDP payload: 989
1335795276393: forwarding disabled, not forwarding packets
1335795276393: mux: GOT CSM_Msg
1335795276507: Received UDP payload: 989
1335795276510: forwarding disabled, not forwarding packets
1335795276510: mux: GOT CSM_Msg
1335795276536: canPressButton = TRUE
1335795276537: areButtonsEnabled --> false
1335795276537: areButtonsEnabled --> false 
1335795276537: get picture disableButtonsR
1335795276563: one more getNum: 20
1335795276564: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795276564: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=20 getGood=9 getBad=3 getTimedout=3 getPercent=45%
1335795276565: change local requestCounter to 49
1335795276568: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018049 Client in region: 5 Client nodID: 5018
1335795276600: Received UDP payload: 989
1335795276602: forwarding disabled, not forwarding packets
1335795276602: mux: GOT CSM_Msg
1335795276603: ----------------------------
1335795276604: I'm a leader, my requesting photos packet going to mux directly
1335795276604: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795276604: got new request, requestCounter = 5018049
1335795276604: inside handleClientRequest. Originator leader of region 5
1335795276604: inside sendRequestPacketRepeatingRunnable for requestCount = 5018049
1335795276604: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795276604: mux: Inside mux Packet.CLIENT_REQUEST
1335795276606: Sending PROC_REQUEST 11:16 (5,0)->(5,0)
1335795276606: Sending to region: 5
1335795276607: Dispatching Atom PROC_REQUEST 11:16 (5,0)->(5,0)
1335795276607: Make FirstLeg Ack regardless of new or already-processed requests
1335795276607: Note down new request by adding requestCounter=5018049 to HashMap processedRequests
1335795276607: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795276608: mux: I got a CSM packet at a leader 
1335795276611: Sending UDP payload: 989
1335795276616: --- Finished one round of sending REQUEST Packet ---------
1335795276619: removed replies before id 16 from sentReplies of size 0
1335795276620: INSIDE SERVER_GET_PHOTO!!!
1335795276620: inside handleDSMRequest. At requests's remote leader of region 5
1335795276626:  1 self to self atomRequest
1335795276626: dst_region == src_region = 5
1335795276627: Dispatching Atom PROC_REPLY 11:16 (5,0)->(5,0)
1335795276627: Received PROC_REQUEST 11:16 (5,0)->(5,0), replying PROC_REPLY 11:16 (5,0)->(5,0)
1335795276627: mux: I got a CSM packet at a leader 
1335795276628: Sending UDP payload: 4260
1335795276639: Received PROC_REPLY 11:16 (5,0)->(5,0), handing to UserApp
1335795276640: DSM layer: Going to and from remote region took latency = 34
1335795276640: inside handleDSMReply. Now back in originator leader of region 5
1335795276646: DSM layer: orig leader sent packet at 1335795276606 ~ received reply from remote leader at 1335795276640
1335795276646: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795276647: === Finished one round of sending REPLY Packet =======
1335795276647: =======================
1335795276647: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795276647: Leader about to send REPLY packet, number: 501800011 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795276647: change leader replyCounter to: 11
1335795276647: inside sendReplies of replyCount = 501800011
1335795276647: inside sendReplyRepeatingRunnable for replyCount = 501800011
1335795276647: reply packet contains the newest photo/success info from the remote region
1335795276665: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795276673: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795276673: Inside _enableButtons
1335795276673: disabling progressdialog due to successful new photo get
1335795276674: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018050 Client in region: (5,0) Client nodID: 5018
1335795276674: I'm a leader client, my final_leg packet going to mux directly
1335795276674: areButtonsEnabled --> true
1335795276674: inside finalLegAck: change requestCounter to 50
1335795276674: send final leg ack regardless of new or already-processed reply
1335795276675: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800011
1335795276675: Yay the last leg succeeded. Removing reply runnables ...
1335795276675: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800011
1335795276675: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800011
1335795276675: do not send ack for received final_leg_ack
1335795276675: got new request, requestCounter = 5018050
1335795276675: inside handleClientRequest. Originator leader of region 5
1335795276675: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795276675: mux: Inside mux Packet.CLIENT_REQUEST
1335795276676: leader download remote photo latency = 69
1335795276676: new client_show_remotephoto reply with replyCounter 501800011
1335795276676: note down new reply by adding replyCounter=501800011 to HashMap processedReplies
1335795276677: = leader download start 1335795276604 ~ stop 1335795276673
1335795276678: one more getGood: 10
1335795276679: Remote photo's length: 3249
1335795276679: Success! Client getting photo from remote region, showing photo...
1335795276679: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=20 getGood=10 getBad=3 getTimedout=3 getPercent=50%
1335795276679: successful reply for client get photo
1335795276728: Received UDP payload: 6780
1335795276737: forwarding disabled, not forwarding packets
1335795276737: mux: GOT CSM_Msg
1335795276738: Received UDP payload: 989
1335795276747: forwarding disabled, not forwarding packets
1335795276747: mux: GOT CSM_Msg
1335795276799: Received UDP payload: 989
1335795276801: forwarding disabled, not forwarding packets
1335795276801: mux: GOT CSM_Msg
1335795276948: Received UDP payload: 989
1335795276954: forwarding disabled, not forwarding packets
1335795276954: mux: GOT CSM_Msg
1335795277023: Received UDP payload: 989
1335795277025: mux: GOT CSM_Msg
1335795277026: forwarding disabled, not forwarding packets
1335795277104: Received UDP payload: 989
1335795277108: mux: GOT CSM_Msg
1335795277109: forwarding disabled, not forwarding packets
1335795277116: Received UDP payload: 989
1335795277133: forwarding disabled, not forwarding packets
1335795277133: mux: GOT CSM_Msg
1335795277155: Received UDP payload: 6780
1335795277170: forwarding disabled, not forwarding packets
1335795277170: mux: GOT CSM_Msg
1335795277211: Received UDP payload: 989
1335795277214: mux: GOT CSM_Msg
1335795277215: forwarding disabled, not forwarding packets
1335795277252: Received UDP payload: 6780
1335795277255: forwarding disabled, not forwarding packets
1335795277255: mux: GOT CSM_Msg
1335795277312: Received UDP payload: 989
1335795277314: forwarding disabled, not forwarding packets
1335795277314: mux: GOT CSM_Msg
1335795277419: Received UDP payload: 989
1335795277421: forwarding disabled, not forwarding packets
1335795277421: mux: GOT CSM_Msg
1335795277459: Received UDP payload: 6780
1335795277462: forwarding disabled, not forwarding packets
1335795277462: mux: GOT CSM_Msg
1335795277480: Received UDP payload: 446
1335795277513: Received UDP payload: 989
1335795277515: mux: GOT CSM_Msg
1335795277516: forwarding disabled, not forwarding packets
1335795277618: Received UDP payload: 989
1335795277623: forwarding disabled, not forwarding packets
1335795277623: mux: GOT CSM_Msg
1335795277713: Received UDP payload: 989
1335795277717: forwarding disabled, not forwarding packets
1335795277717: mux: GOT CSM_Msg
1335795277812: Received UDP payload: 989
1335795277816: forwarding disabled, not forwarding packets
1335795277816: mux: GOT CSM_Msg
1335795277823: Received UDP payload: 446
1335795277921: Received UDP payload: 989
1335795277926: forwarding disabled, not forwarding packets
1335795277926: mux: GOT CSM_Msg
1335795278030: Received UDP payload: 989
1335795278036: forwarding disabled, not forwarding packets
1335795278036: mux: GOT CSM_Msg
1335795278129: Received UDP payload: 989
1335795278133: forwarding disabled, not forwarding packets
1335795278133: mux: GOT CSM_Msg
1335795278226: Received UDP payload: 989
1335795278237: mux: GOT CSM_Msg
1335795278238: forwarding disabled, not forwarding packets
1335795278245: Received UDP payload: 642
1335795278251: mux: Inside Packet.SERVER_REPLY
1335795278252: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795278531: Received UDP payload: 642
1335795278533: mux: Inside Packet.SERVER_REPLY
1335795278534: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795278550: Received UDP payload: 446
1335795278552: mux: Inside mux Packet.CLIENT_REQUEST
1335795278671: Received UDP payload: 6780
1335795278676: forwarding disabled, not forwarding packets
1335795278676: mux: GOT CSM_Msg
1335795278816: Received UDP payload: 6780
1335795278820: mux: GOT CSM_Msg
1335795278821: forwarding disabled, not forwarding packets
1335795278824: Received UDP payload: 3966
1335795278826: mux: Inside mux Packet.CLIENT_REQUEST
1335795279110: Received UDP payload: 3966
1335795279114: mux: Inside mux Packet.CLIENT_REQUEST
1335795279448: Received UDP payload: 625
1335795279452: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795279452: mux: Inside mux Packet.CLIENT_REQUEST
1335795279453: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795279453: got new request, requestCounter = 5004032
1335795279453: inside handleClientRequest. Originator leader of region 5
1335795279470: Sending to region: 2
1335795279472: Sending PROC_REQUEST 11:3 (5,0)->(2,0)
1335795279473: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795279474: Make FirstLeg Ack regardless of new or already-processed requests
1335795279474: Note down new request by adding requestCounter=5004032 to HashMap processedRequests
1335795279474: The leader sending a First Leg ack to originator client (which id = 5004)
1335795279475: inside sendPacket(Packet p)
1335795279475: mux: I got a CSM packet at a leader 
1335795279514: Sending UDP payload: 989
1335795279516: forwarding disabled, not forwarding packets
1335795279530: Sending UDP payload: 446
1335795279760: Received UDP payload: 625
1335795279764: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795279764: mux: Inside mux Packet.CLIENT_REQUEST
1335795279765: discarding repeated requestCounter=5004032, but still send an ack back
1335795279765: inside handleClientRequest. Originator leader of region 5
1335795279766: Make FirstLeg Ack regardless of new or already-processed requests
1335795279766: Note down new request by adding requestCounter=5004032 to HashMap processedRequests
1335795279766: The leader sending a First Leg ack to originator client (which id = 5004)
1335795279767: inside sendPacket(Packet p)
1335795279770: Sending UDP payload: 446
1335795280063: Received UDP payload: 625
1335795280067: mux: Inside mux Packet.CLIENT_REQUEST
1335795280068: discarding repeated requestCounter=5004032, but still send an ack back
1335795280068: inside handleClientRequest. Originator leader of region 5
1335795280068: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795280069: Note down new request by adding requestCounter=5004032 to HashMap processedRequests
1335795280070: Make FirstLeg Ack regardless of new or already-processed requests
1335795280070: The leader sending a First Leg ack to originator client (which id = 5004)
1335795280070: inside sendPacket(Packet p)
1335795280073: Sending UDP payload: 446
1335795280183: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280184: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280185: mux: I got a CSM packet at a leader 
1335795280188: Sending UDP payload: 989
1335795280190: forwarding disabled, not forwarding packets
1335795280286: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280287: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280287: mux: I got a CSM packet at a leader 
1335795280291: Sending UDP payload: 989
1335795280298: forwarding disabled, not forwarding packets
1335795280366: Received UDP payload: 625
1335795280372: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795280372: mux: Inside mux Packet.CLIENT_REQUEST
1335795280373: discarding repeated requestCounter=5004032, but still send an ack back
1335795280373: inside handleClientRequest. Originator leader of region 5
1335795280374: Make FirstLeg Ack regardless of new or already-processed requests
1335795280374: Note down new request by adding requestCounter=5004032 to HashMap processedRequests
1335795280374: The leader sending a First Leg ack to originator client (which id = 5004)
1335795280374: inside sendPacket(Packet p)
1335795280377: Sending UDP payload: 446
1335795280388: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280389: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280391: mux: I got a CSM packet at a leader 
1335795280394: Sending UDP payload: 989
1335795280396: forwarding disabled, not forwarding packets
1335795280491: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280492: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280493: mux: I got a CSM packet at a leader 
1335795280496: Sending UDP payload: 989
1335795280498: forwarding disabled, not forwarding packets
1335795280545: inside sendPacket(Packet p)
1335795280548: Sending UDP payload: 446
1335795280592: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280593: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280593: mux: I got a CSM packet at a leader 
1335795280594: Sending UDP payload: 989
1335795280594: forwarding disabled, not forwarding packets
1335795280693: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280694: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280694: mux: I got a CSM packet at a leader 
1335795280695: Sending UDP payload: 989
1335795280696: forwarding disabled, not forwarding packets
1335795280735: Received UDP payload: 446
1335795280795: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280795: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280796: mux: I got a CSM packet at a leader 
1335795280797: Sending UDP payload: 989
1335795280797: forwarding disabled, not forwarding packets
1335795280896: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280896: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280897: mux: I got a CSM packet at a leader 
1335795280898: Sending UDP payload: 989
1335795280899: forwarding disabled, not forwarding packets
1335795280997: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280998: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795280998: mux: I got a CSM packet at a leader 
1335795280999: Sending UDP payload: 989
1335795281000: forwarding disabled, not forwarding packets
1335795281100: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795281100: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795281101: mux: I got a CSM packet at a leader 
1335795281102: Sending UDP payload: 989
1335795281103: forwarding disabled, not forwarding packets
1335795281202: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795281203: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795281204: mux: I got a CSM packet at a leader 
1335795281206: Sending UDP payload: 989
1335795281207: forwarding disabled, not forwarding packets
1335795281242: Received UDP payload: 989
1335795281252: mux: GOT CSM_Msg
1335795281252: removed replies before id 1 from sentReplies of size 1
1335795281254: Received DUPLICATE PROC_REQUEST 11:1 (4,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(4,0)
1335795281256: Dispatching Atom PROC_REPLY 11:1 (5,0)->(4,0)
1335795281257: mux: I got a CSM packet at a leader 
1335795281262: Sending UDP payload: 6667
1335795281262: forwarding disabled, not forwarding packets
1335795281304: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795281305: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795281305: mux: I got a CSM packet at a leader 
1335795281306: Sending UDP payload: 989
1335795281306: forwarding disabled, not forwarding packets
1335795281405: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795281405: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795281406: mux: I got a CSM packet at a leader 
1335795281407: Sending UDP payload: 989
1335795281407: forwarding disabled, not forwarding packets
1335795281506: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(2,0)
1335795281506: Retrying PROC_REQUEST 11:3 (5,0)->(2,0)
1335795281507: mux: I got a CSM packet at a leader 
1335795281508: Sending UDP payload: 989
1335795281512: forwarding disabled, not forwarding packets
1335795281541: Received UDP payload: 6320
1335795281542: mux: Inside Packet.SERVER_REPLY
1335795281543: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795281551: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795281552: disabling progressdialog due to successful new photo get
1335795281553: Inside _enableButtons
1335795281554: areButtonsEnabled --> true
1335795281555: inside finalLegAck: change requestCounter to 51
1335795281555: send final leg ack regardless of new or already-processed reply
1335795281556: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018051 Client in region: (5,0) Client nodID: 5018
1335795281557: I'm a leader client, my final_leg packet going to mux directly
1335795281558: got new request, requestCounter = 5018051
1335795281558: inside handleClientRequest. Originator leader of region 5
1335795281558: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795281558: mux: Inside mux Packet.CLIENT_REQUEST
1335795281559: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300009
1335795281559: Yay the last leg succeeded. Removing reply runnables ...
1335795281559: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501300009
1335795281560: do not send ack for received final_leg_ack
1335795281560: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501300009
1335795281561: csn discarding repeated replyCounter=501300009, but still sent an ack back
1335795281607: DSM Layer: Request timed out, send failure PROC_REPLY 11:3 (2,0)->(5,0)
1335795281608: Dispatching Atom PROC_REPLY 11:3 (2,0)->(5,0)
1335795281608: mux: I got a CSM packet at a leader 
1335795281611: Sending UDP payload: 989
1335795281614: Received PROC_REPLY 11:3 (2,0)->(5,0), handing to UserApp
1335795281615: DSM layer timed out, don't log dsm layer latency stuff.
1335795281615: inside handleDSMReply. Now back in originator leader of region 5
1335795281617: Originator Region=5's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795281617: change leader replyCounter to: 12
1335795281617: reply packet contains the newest photo/success info from the remote region
1335795281618: inside sendReplies of replyCount = 501800012
1335795281619: =======================
1335795281619: Leader about to send REPLY packet, number: 501800012 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795281619: inside sendReplyRepeatingRunnable for replyCount = 501800012
1335795281620: === Finished one round of sending REPLY Packet =======
1335795281620: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795281620: inside sendPacket(Packet p)
1335795281622: Sending UDP payload: 642
1335795281658: Received UDP payload: 446
1335795281661: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800012
1335795281661: Yay the last leg succeeded. Removing reply runnables ...
1335795281661: got new request, requestCounter = 5004033
1335795281661: inside handleClientRequest. Originator leader of region 5
1335795281661: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795281661: mux: Inside mux Packet.CLIENT_REQUEST
1335795281662: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800012
1335795281662: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800012
1335795281662: do not send ack for received final_leg_ack
1335795281822: Received UDP payload: 6320
1335795281823: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795281823: mux: Inside Packet.SERVER_REPLY
1335795281824: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795281824: Inside _enableButtons
1335795281824: areButtonsEnabled --> true
1335795281824: disabling progressdialog due to successful new photo get
1335795281825: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018052 Client in region: (5,0) Client nodID: 5018
1335795281825: inside finalLegAck: change requestCounter to 52
1335795281825: send final leg ack regardless of new or already-processed reply
1335795281826: I'm a leader client, my final_leg packet going to mux directly
1335795281826: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300009
1335795281826: Yay the last leg succeeded. Removing reply runnables ...
1335795281826: csn discarding repeated replyCounter=501300009, but still sent an ack back
1335795281826: got new request, requestCounter = 5018052
1335795281826: inside handleClientRequest. Originator leader of region 5
1335795281826: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795281826: mux: Inside mux Packet.CLIENT_REQUEST
1335795281827: do not send ack for received final_leg_ack
1335795281827: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501300009
1335795281827: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501300009
1335795282133: Received UDP payload: 6320
1335795282135: mux: I have the photo requester id = 5018 about to display photo or receive upload ack
1335795282135: mux: Inside Packet.SERVER_REPLY
1335795282145: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795282146: Inside _enableButtons
1335795282146: areButtonsEnabled --> true
1335795282146: disabling progressdialog due to successful new photo get
1335795282146: send final leg ack regardless of new or already-processed reply
1335795282147: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018053 Client in region: (5,0) Client nodID: 5018
1335795282147: inside finalLegAck: change requestCounter to 53
1335795282148: I'm a leader client, my final_leg packet going to mux directly
1335795282148: csn discarding repeated replyCounter=501300009, but still sent an ack back
1335795282148: got new request, requestCounter = 5018053
1335795282148: inside handleClientRequest. Originator leader of region 5
1335795282148: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795282148: mux: Inside mux Packet.CLIENT_REQUEST
1335795282149: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501300009
1335795282149: Yay the last leg succeeded. Removing reply runnables ...
1335795282149: do not send ack for received final_leg_ack
1335795282149: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501300009
1335795282149: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501300009
1335795282226: Received UDP payload: 625
1335795282228: mux: Inside mux Packet.CLIENT_REQUEST
1335795282319: Received UDP payload: 989
1335795282323: forwarding disabled, not forwarding packets
1335795282323: mux: GOT CSM_Msg
1335795282326: Received UDP payload: 6780
1335795282328: forwarding disabled, not forwarding packets
1335795282328: mux: GOT CSM_Msg
1335795282336: Received UDP payload: 446
1335795282337: mux: Inside Packet.SERVER_REPLY
1335795282338: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795282362: canPressButton = TRUE
1335795282363: areButtonsEnabled --> false
1335795282363: areButtonsEnabled --> false 
1335795282363: get picture disableButtonsR
1335795282389: one more getNum: 21
1335795282390: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=21 getGood=10 getBad=3 getTimedout=3 getPercent=47%
1335795282391: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 1 **
1335795282391: change local requestCounter to 54
1335795282395: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018054 Client in region: 5 Client nodID: 5018
1335795282427: ----------------------------
1335795282427: inside sendRequestPacketRepeatingRunnable for requestCount = 5018054
1335795282428: I'm a leader, my requesting photos packet going to mux directly
1335795282428: got new request, requestCounter = 5018054
1335795282428: inside handleClientRequest. Originator leader of region 5
1335795282428: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795282428: mux: Inside mux Packet.CLIENT_REQUEST
1335795282429: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795282429: Sending to region: 1
1335795282430: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(1,0)
1335795282430: Make FirstLeg Ack regardless of new or already-processed requests
1335795282430: Note down new request by adding requestCounter=5018054 to HashMap processedRequests
1335795282430: Sending PROC_REQUEST 11:1 (5,0)->(1,0)
1335795282430: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795282436: mux: I got a CSM packet at a leader 
1335795282437: Sending UDP payload: 989
1335795282439: forwarding disabled, not forwarding packets
1335795282441: --- Finished one round of sending REQUEST Packet ---------
1335795282511: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795282517: Received UDP payload: 989
1335795282522: mux: GOT CSM_Msg
1335795282523: DSM layer: Going to and from remote region took latency = 94
1335795282523: DSM layer: orig leader sent packet at 1335795282429 ~ received reply from remote leader at 1335795282523
1335795282523: Received PROC_REPLY 11:1 (1,0)->(5,0), handing to UserApp
1335795282523: inside handleDSMReply. Now back in originator leader of region 5
1335795282525: =======================
1335795282525: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795282525: Leader about to send REPLY packet, number: 501800013 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795282525: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795282525: change leader replyCounter to: 13
1335795282525: inside sendReplies of replyCount = 501800013
1335795282525: inside sendReplyRepeatingRunnable for replyCount = 501800013
1335795282525: reply packet contains the newest photo/success info from the remote region
1335795282526: === Finished one round of sending REPLY Packet =======
1335795282529: Received UDP payload: 446
1335795282576: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795282577: Inside _enableButtons
1335795282577: areButtonsEnabled --> true
1335795282577: disabling progressdialog due to successful new photo get
1335795282577: inside finalLegAck: change requestCounter to 55
1335795282577: send final leg ack regardless of new or already-processed reply
1335795282578: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018055 Client in region: (5,0) Client nodID: 5018
1335795282578: I'm a leader client, my final_leg packet going to mux directly
1335795282578: inside handleClientRequest. Originator leader of region 5
1335795282578: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795282578: mux: Inside mux Packet.CLIENT_REQUEST
1335795282579: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800013
1335795282579: Yay the last leg succeeded. Removing reply runnables ...
1335795282579: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800013
1335795282579: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800013
1335795282579: do not send ack for received final_leg_ack
1335795282579: got new request, requestCounter = 5018055
1335795282584: new client_show_remotephoto reply with replyCounter 501800013
1335795282584: note down new reply by adding replyCounter=501800013 to HashMap processedReplies
1335795282585: = leader download start 1335795282428 ~ stop 1335795282576
1335795282585: leader download remote photo latency = 148
1335795282588: one more getGood: 11
1335795282589: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=21 getGood=11 getBad=3 getTimedout=3 getPercent=52%
1335795282589: successful reply for client get photo
1335795282590: PHOTO DATA is NULL, because region doesn't have a photo yet
1335795282754: Received UDP payload: 6780
1335795282756: forwarding disabled, not forwarding packets
1335795282756: mux: GOT CSM_Msg
1335795283050: Received UDP payload: 989
1335795283054: mux: GOT CSM_Msg
1335795283055: forwarding disabled, not forwarding packets
1335795283256: Received UDP payload: 989
1335795283266: mux: GOT CSM_Msg
1335795283267: forwarding disabled, not forwarding packets
1335795283268: Received UDP payload: 989
1335795283286: forwarding disabled, not forwarding packets
1335795283286: mux: GOT CSM_Msg
1335795283355: Received UDP payload: 989
1335795283365: forwarding disabled, not forwarding packets
1335795283365: mux: GOT CSM_Msg
1335795283422: Received UDP payload: 6780
1335795283432: forwarding disabled, not forwarding packets
1335795283432: mux: GOT CSM_Msg
1335795283464: Received UDP payload: 989
1335795283478: forwarding disabled, not forwarding packets
1335795283478: mux: GOT CSM_Msg
1335795283564: Received UDP payload: 989
1335795283568: mux: GOT CSM_Msg
1335795283569: forwarding disabled, not forwarding packets
1335795283705: Received UDP payload: 446
1335795283855: Received UDP payload: 6780
1335795283863: mux: GOT CSM_Msg
1335795283864: forwarding disabled, not forwarding packets
1335795283882: Received UDP payload: 989
1335795283889: forwarding disabled, not forwarding packets
1335795283889: mux: GOT CSM_Msg
1335795284240: Received UDP payload: 6433
1335795284245: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795284245: mux: Inside Packet.SERVER_REPLY
1335795284405: Received UDP payload: 989
1335795284412: forwarding disabled, not forwarding packets
1335795284412: mux: GOT CSM_Msg
1335795284602: Received UDP payload: 6433
1335795284606: mux: Inside Packet.SERVER_REPLY
1335795284607: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795284735: Received UDP payload: 6780
1335795284743: forwarding disabled, not forwarding packets
1335795284743: mux: GOT CSM_Msg
1335795285474: Received UDP payload: 446
1335795285530: areButtonsEnabled --> false
1335795285530: areButtonsEnabled --> false 
1335795285530: canPressButton = TRUE
1335795285530: get picture disableButtonsR
1335795285545: inside sendPacket(Packet p)
1335795285548: Sending UDP payload: 446
1335795285554: one more getNum: 22
1335795285556: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335795285556: change local requestCounter to 56
1335795285556: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=22 getGood=11 getBad=3 getTimedout=3 getPercent=50%
1335795285558: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018056 Client in region: 5 Client nodID: 5018
1335795285590: ----------------------------
1335795285590: I'm a leader, my requesting photos packet going to mux directly
1335795285590: inside sendRequestPacketRepeatingRunnable for requestCount = 5018056
1335795285591: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795285591: got new request, requestCounter = 5018056
1335795285591: inside handleClientRequest. Originator leader of region 5
1335795285591: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795285591: mux: Inside mux Packet.CLIENT_REQUEST
1335795285592: Sending PROC_REQUEST 11:5 (5,0)->(3,0)
1335795285592: Sending to region: 3
1335795285593: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795285593: Make FirstLeg Ack regardless of new or already-processed requests
1335795285593: Note down new request by adding requestCounter=5018056 to HashMap processedRequests
1335795285593: mux: I got a CSM packet at a leader 
1335795285593: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795285596: Sending UDP payload: 989
1335795285597: --- Finished one round of sending REQUEST Packet ---------
1335795285597: forwarding disabled, not forwarding packets
1335795285627: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795285887: Received UDP payload: 446
1335795286060: Received UDP payload: 4330
1335795286065: forwarding disabled, not forwarding packets
1335795286065: mux: GOT CSM_Msg
1335795286082: Received UDP payload: 446
1335795286085: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795286085: mux: Inside Packet.SERVER_REPLY
1335795286100: Received UDP payload: 989
1335795286107: forwarding disabled, not forwarding packets
1335795286107: mux: GOT CSM_Msg
1335795286351: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286351: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286351: mux: I got a CSM packet at a leader 
1335795286355: Sending UDP payload: 989
1335795286356: forwarding disabled, not forwarding packets
1335795286452: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286452: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286453: mux: I got a CSM packet at a leader 
1335795286456: Sending UDP payload: 989
1335795286456: forwarding disabled, not forwarding packets
1335795286459: Received UDP payload: 625
1335795286464: mux: Inside mux Packet.CLIENT_REQUEST
1335795286465: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795286465: got new request, requestCounter = 5004034
1335795286465: inside handleClientRequest. Originator leader of region 5
1335795286465: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795286466: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795286466: Sending PROC_REQUEST 11:1 (5,0)->(0,0)
1335795286466: Sending to region: 0
1335795286467: Make FirstLeg Ack regardless of new or already-processed requests
1335795286467: Note down new request by adding requestCounter=5004034 to HashMap processedRequests
1335795286467: The leader sending a First Leg ack to originator client (which id = 5004)
1335795286467: inside sendPacket(Packet p)
1335795286467: mux: I got a CSM packet at a leader 
1335795286468: Sending UDP payload: 989
1335795286470: forwarding disabled, not forwarding packets
1335795286472: Sending UDP payload: 446
1335795286553: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286554: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286554: mux: I got a CSM packet at a leader 
1335795286557: Sending UDP payload: 989
1335795286558: forwarding disabled, not forwarding packets
1335795286655: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286655: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286655: mux: I got a CSM packet at a leader 
1335795286658: Sending UDP payload: 989
1335795286659: forwarding disabled, not forwarding packets
1335795286756: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286756: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286757: mux: I got a CSM packet at a leader 
1335795286758: Sending UDP payload: 989
1335795286764: Received UDP payload: 625
1335795286765: forwarding disabled, not forwarding packets
1335795286766: Make FirstLeg Ack regardless of new or already-processed requests
1335795286766: Note down new request by adding requestCounter=5004034 to HashMap processedRequests
1335795286766: The leader sending a First Leg ack to originator client (which id = 5004)
1335795286766: discarding repeated requestCounter=5004034, but still send an ack back
1335795286766: inside handleClientRequest. Originator leader of region 5
1335795286766: inside sendPacket(Packet p)
1335795286766: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795286766: mux: Inside mux Packet.CLIENT_REQUEST
1335795286767: Sending UDP payload: 446
1335795286857: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286857: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286858: mux: I got a CSM packet at a leader 
1335795286859: Sending UDP payload: 989
1335795286859: forwarding disabled, not forwarding packets
1335795286958: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286959: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795286959: mux: I got a CSM packet at a leader 
1335795286960: Sending UDP payload: 989
1335795286961: forwarding disabled, not forwarding packets
1335795287059: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287061: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287061: mux: I got a CSM packet at a leader 
1335795287063: Sending UDP payload: 989
1335795287063: forwarding disabled, not forwarding packets
1335795287162: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287162: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287163: mux: I got a CSM packet at a leader 
1335795287164: Sending UDP payload: 989
1335795287164: forwarding disabled, not forwarding packets
1335795287263: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287263: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287264: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287264: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287264: mux: I got a CSM packet at a leader 
1335795287266: Sending UDP payload: 989
1335795287266: forwarding disabled, not forwarding packets
1335795287266: mux: I got a CSM packet at a leader 
1335795287267: Sending UDP payload: 989
1335795287268: forwarding disabled, not forwarding packets
1335795287365: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287366: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287366: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287367: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287367: mux: I got a CSM packet at a leader 
1335795287370: Sending UDP payload: 989
1335795287372: forwarding disabled, not forwarding packets
1335795287373: mux: I got a CSM packet at a leader 
1335795287375: Sending UDP payload: 989
1335795287377: forwarding disabled, not forwarding packets
1335795287471: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287471: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287472: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287472: mux: I got a CSM packet at a leader 
1335795287474: Sending UDP payload: 989
1335795287478: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287478: Received UDP payload: 446
1335795287481: forwarding disabled, not forwarding packets
1335795287481: mux: I got a CSM packet at a leader 
1335795287484: Sending UDP payload: 989
1335795287489: forwarding disabled, not forwarding packets
1335795287579: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287580: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287580: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287580: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287581: mux: I got a CSM packet at a leader 
1335795287582: Sending UDP payload: 989
1335795287582: forwarding disabled, not forwarding packets
1335795287583: mux: I got a CSM packet at a leader 
1335795287584: Sending UDP payload: 989
1335795287589: forwarding disabled, not forwarding packets
1335795287681: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287681: Retrying PROC_REQUEST 11:5 (5,0)->(3,0)
1335795287682: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287682: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287682: mux: I got a CSM packet at a leader 
1335795287683: Sending UDP payload: 989
1335795287684: forwarding disabled, not forwarding packets
1335795287684: mux: I got a CSM packet at a leader 
1335795287685: Sending UDP payload: 989
1335795287686: forwarding disabled, not forwarding packets
1335795287783: DSM Layer: Request timed out, send failure PROC_REPLY 11:5 (3,0)->(5,0)
1335795287783: Dispatching Atom PROC_REPLY 11:5 (3,0)->(5,0)
1335795287783: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287784: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287784: mux: I got a CSM packet at a leader 
1335795287785: Sending UDP payload: 989
1335795287786: DSM layer timed out, don't log dsm layer latency stuff.
1335795287786: Received PROC_REPLY 11:5 (3,0)->(5,0), handing to UserApp
1335795287786: inside handleDSMReply. Now back in originator leader of region 5
1335795287787: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795287787: change leader replyCounter to: 14
1335795287787: inside sendReplies of replyCount = 501800014
1335795287787: mux: I got a CSM packet at a leader 
1335795287787: reply packet contains the newest photo/success info from the remote region
1335795287788: Sending UDP payload: 989
1335795287789: === Finished one round of sending REPLY Packet =======
1335795287789: =======================
1335795287789: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795287789: Leader about to send REPLY packet, number: 501800014 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795287789: inside sendReplyRepeatingRunnable for replyCount = 501800014
1335795287790: forwarding disabled, not forwarding packets
1335795287791: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795287792: Inside _enableButtons
1335795287792: areButtonsEnabled --> true
1335795287792: disabling progressdialog due to successful new photo get
1335795287792: send final leg ack regardless of new or already-processed reply
1335795287793: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018057 Client in region: (5,0) Client nodID: 5018
1335795287793: I'm a leader client, my final_leg packet going to mux directly
1335795287793: inside finalLegAck: change requestCounter to 57
1335795287793: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795287793: mux: Inside mux Packet.CLIENT_REQUEST
1335795287794: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800014
1335795287794: Yay the last leg succeeded. Removing reply runnables ...
1335795287794: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800014
1335795287794: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800014
1335795287794: do not send ack for received final_leg_ack
1335795287794: got new request, requestCounter = 5018057
1335795287794: inside handleClientRequest. Originator leader of region 5
1335795287795: leader download remote photo latency = 2200
1335795287795: new client_show_remotephoto reply with replyCounter 501800014
1335795287795: note down new reply by adding replyCounter=501800014 to HashMap processedReplies
1335795287796: = leader download start 1335795285591 ~ stop 1335795287791
1335795287796: Can't get remote photo, because DSM Layer on originator leader timed out
1335795287799: one more getBad: 4
1335795287800: getBad++
1335795287800: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=4 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=75% getNum=22 getGood=11 getBad=4 getTimedout=3 getPercent=50%
1335795287885: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287885: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287886: mux: I got a CSM packet at a leader 
1335795287887: Sending UDP payload: 989
1335795287887: forwarding disabled, not forwarding packets
1335795287986: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287986: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795287987: mux: I got a CSM packet at a leader 
1335795287988: Sending UDP payload: 989
1335795287988: forwarding disabled, not forwarding packets
1335795288087: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795288087: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795288088: mux: I got a CSM packet at a leader 
1335795288089: Sending UDP payload: 989
1335795288089: forwarding disabled, not forwarding packets
1335795288188: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795288189: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795288189: mux: I got a CSM packet at a leader 
1335795288190: Sending UDP payload: 989
1335795288191: forwarding disabled, not forwarding packets
1335795288289: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795288290: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795288290: mux: I got a CSM packet at a leader 
1335795288291: Sending UDP payload: 989
1335795288292: forwarding disabled, not forwarding packets
1335795288391: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795288391: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795288391: mux: I got a CSM packet at a leader 
1335795288392: Sending UDP payload: 989
1335795288393: forwarding disabled, not forwarding packets
1335795288451: Received UDP payload: 625
1335795288452: mux: Inside mux Packet.CLIENT_REQUEST
1335795288492: Dispatching Atom PROC_REQUEST 11:1 (5,0)->(0,0)
1335795288492: Retrying PROC_REQUEST 11:1 (5,0)->(0,0)
1335795288492: mux: I got a CSM packet at a leader 
1335795288494: Sending UDP payload: 989
1335795288494: forwarding disabled, not forwarding packets
1335795288593: DSM Layer: Request timed out, send failure PROC_REPLY 11:1 (0,0)->(5,0)
1335795288593: Dispatching Atom PROC_REPLY 11:1 (0,0)->(5,0)
1335795288593: mux: I got a CSM packet at a leader 
1335795288594: Sending UDP payload: 989
1335795288595: DSM layer timed out, don't log dsm layer latency stuff.
1335795288595: Received PROC_REPLY 11:1 (0,0)->(5,0), handing to UserApp
1335795288595: inside handleDSMReply. Now back in originator leader of region 5
1335795288596: Originator Region=5's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795288596: change leader replyCounter to: 15
1335795288597: === Finished one round of sending REPLY Packet =======
1335795288597: =======================
1335795288597: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795288597: Leader about to send REPLY packet, number: 501800015 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795288597: inside sendPacket(Packet p)
1335795288597: inside sendReplies of replyCount = 501800015
1335795288597: inside sendReplyRepeatingRunnable for replyCount = 501800015
1335795288597: reply packet contains the newest photo/success info from the remote region
1335795288601: Sending UDP payload: 642
1335795288645: Received UDP payload: 446
1335795288647: got new request, requestCounter = 5004035
1335795288647: inside handleClientRequest. Originator leader of region 5
1335795288647: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795288647: mux: Inside mux Packet.CLIENT_REQUEST
1335795288648: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800015
1335795288648: Yay the last leg succeeded. Removing reply runnables ...
1335795288648: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800015
1335795288648: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800015
1335795288648: do not send ack for received final_leg_ack
1335795288825: Received UDP payload: 625
1335795288831: mux: Inside mux Packet.CLIENT_REQUEST
1335795289910: Received UDP payload: 5930
1335795289917: mux: GOT CSM_Msg
1335795289919: Received DUPLICATE PROC_REPLY 11:5 (3,0)->(5,0)
1335795290288: Received UDP payload: 642
1335795290292: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795290292: mux: Inside Packet.SERVER_REPLY
1335795290303: Received UDP payload: 446
1335795290304: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795290304: mux: Inside Packet.SERVER_REPLY
1335795290323: Received UDP payload: 642
1335795290324: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795290324: mux: Inside Packet.SERVER_REPLY
1335795290344: Received UDP payload: 989
1335795290346: forwarding disabled, not forwarding packets
1335795290346: mux: GOT CSM_Msg
1335795290351: Received UDP payload: 446
1335795290352: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795290352: mux: Inside Packet.SERVER_REPLY
1335795290396: Received UDP payload: 642
1335795290397: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795290397: mux: Inside Packet.SERVER_REPLY
1335795290405: Received UDP payload: 446
1335795290406: mux: Inside mux Packet.CLIENT_REQUEST
1335795290452: Received UDP payload: 446
1335795290453: mux: Inside mux Packet.CLIENT_REQUEST
1335795290497: Received UDP payload: 446
1335795290498: mux: Inside mux Packet.CLIENT_REQUEST
1335795290532: Received UDP payload: 625
1335795290534: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795290534: got new request, requestCounter = 5004036
1335795290534: inside handleClientRequest. Originator leader of region 5
1335795290534: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795290534: mux: Inside mux Packet.CLIENT_REQUEST
1335795290535: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(4,0)
1335795290535: Sending PROC_REQUEST 11:3 (5,0)->(4,0)
1335795290535: Sending to region: 4
1335795290536: Make FirstLeg Ack regardless of new or already-processed requests
1335795290536: Note down new request by adding requestCounter=5004036 to HashMap processedRequests
1335795290536: The leader sending a First Leg ack to originator client (which id = 5004)
1335795290536: inside sendPacket(Packet p)
1335795290536: mux: I got a CSM packet at a leader 
1335795290537: Sending UDP payload: 989
1335795290538: forwarding disabled, not forwarding packets
1335795290541: Received UDP payload: 642
1335795290541: Sending UDP payload: 446
1335795290555: inside sendPacket(Packet p)
1335795290570: Sending UDP payload: 446
1335795290572: mux: Inside Packet.SERVER_REPLY
1335795290573: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795290591: Received UDP payload: 446
1335795290592: mux: Inside mux Packet.CLIENT_REQUEST
1335795290681: Received UDP payload: 5346
1335795290683: mux: GOT CSM_Msg
1335795290684: DSM layer: Going to and from remote region took latency = 149
1335795290684: DSM layer: orig leader sent packet at 1335795290535 ~ received reply from remote leader at 1335795290684
1335795290684: Received PROC_REPLY 11:3 (4,0)->(5,0), handing to UserApp
1335795290684: inside handleDSMReply. Now back in originator leader of region 5
1335795290685: =======================
1335795290685: Originator Region=5's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795290685: change leader replyCounter to: 16
1335795290685: inside sendReplies of replyCount = 501800016
1335795290685: reply packet contains the newest photo/success info from the remote region
1335795290686: === Finished one round of sending REPLY Packet =======
1335795290686: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795290686: Leader about to send REPLY packet, number: 501800016 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795290686: inside sendPacket(Packet p)
1335795290686: inside sendReplyRepeatingRunnable for replyCount = 501800016
1335795290687: Sending UDP payload: 4999
1335795290801: Received UDP payload: 446
1335795290845: Received UDP payload: 446
1335795290850: mux: Inside mux Packet.CLIENT_REQUEST
1335795290851: inside handleClientRequest. Originator leader of region 5
1335795290851: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795290852: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800016
1335795290852: Yay the last leg succeeded. Removing reply runnables ...
1335795290852: got new request, requestCounter = 5004037
1335795290853: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800016
1335795290853: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800016
1335795290854: do not send ack for received final_leg_ack
1335795290989: Received UDP payload: 4906
1335795290991: forwarding disabled, not forwarding packets
1335795290991: mux: GOT CSM_Msg
1335795291010: Received UDP payload: 446
1335795291385: Received UDP payload: 625
1335795291387: mux: Inside mux Packet.CLIENT_REQUEST
1335795291429: areButtonsEnabled --> false
1335795291429: canPressButton = TRUE
1335795291429: disabling buttons ...
1335795291430: areButtonsEnabled --> false
1335795291430: took picture disableButtonsR
1335795291431: Received UDP payload: 989
1335795291433: forwarding disabled, not forwarding packets
1335795291433: mux: GOT CSM_Msg
1335795291455: Received UDP payload: 446
1335795291456: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795291456: mux: Inside Packet.SERVER_REPLY
1335795291458: one more takeNum: 5
1335795291458: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=4 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=60% getNum=22 getGood=11 getBad=4 getTimedout=3 getPercent=50%
1335795291459: Clicked take picture button ..
1335795291517: Received UDP payload: 5346
1335795291521: forwarding disabled, not forwarding packets
1335795291521: mux: GOT CSM_Msg
1335795291570: Received UDP payload: 4999
1335795291573: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795291573: mux: Inside Packet.SERVER_REPLY
1335795291597: Received UDP payload: 446
1335795291598: mux: Inside mux Packet.CLIENT_REQUEST
1335795291879: Received UDP payload: 4330
1335795291881: mux: GOT CSM_Msg
1335795291882: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(5,0)
1335795292209: Received UDP payload: 4330
1335795292211: mux: GOT CSM_Msg
1335795292212: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(5,0)
1335795292304: Received UDP payload: 4330
1335795292308: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(5,0)
1335795292308: mux: GOT CSM_Msg
1335795292420: Received UDP payload: 4330
1335795292422: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(5,0)
1335795292422: mux: GOT CSM_Msg
1335795292639: Received UDP payload: 4330
1335795292642: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(5,0)
1335795292642: mux: GOT CSM_Msg
1335795292817: Received UDP payload: 4330
1335795292820: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(5,0)
1335795292820: Received UDP payload: 989
1335795292820: mux: GOT CSM_Msg
1335795292822: forwarding disabled, not forwarding packets
1335795292822: mux: GOT CSM_Msg
1335795292823: inside HandlePictureStorage onPictureTaken()
1335795292823: one more takeCamGood: 5
1335795292824: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=3 takeBad=0 takeTimedout=0 takePercent=60% getNum=22 getGood=11 getBad=4 getTimedout=3 getPercent=50%
1335795292868: Received UDP payload: 4330
1335795292876: forwarding disabled, not forwarding packets
1335795292876: mux: GOT CSM_Msg
1335795292925: Received UDP payload: 4330
1335795292928: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(5,0)
1335795292928: mux: GOT CSM_Msg
1335795292962: Received UDP payload: 989
1335795292964: forwarding disabled, not forwarding packets
1335795292964: mux: GOT CSM_Msg
1335795293087: Picture successfully taken, ORIG BYTE LENGTH = 2612142
1335795293121: Received UDP payload: 4330
1335795293123: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(5,0)
1335795293123: mux: GOT CSM_Msg
1335795293192: Received UDP payload: 4330
1335795293194: mux: GOT CSM_Msg
1335795293195: Received DUPLICATE PROC_REPLY 11:3 (2,0)->(5,0)
1335795293203: Received UDP payload: 446
1335795293213: Received UDP payload: 446
1335795293233: Received UDP payload: 989
1335795293235: forwarding disabled, not forwarding packets
1335795293235: mux: GOT CSM_Msg
1335795293263: Received UDP payload: 446
1335795293264: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795293264: mux: Inside Packet.SERVER_REPLY
1335795293273: Received UDP payload: 446
1335795293274: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795293274: mux: Inside Packet.SERVER_REPLY
1335795293279: Received UDP payload: 446
1335795293280: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795293280: mux: Inside Packet.SERVER_REPLY
1335795293317: Our new height x width: 306 x 408
1335795293317: Show photo from handle my camera take
1335795293318: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335795293318: change local requestCounter to 58
1335795293330: Received UDP payload: 989
1335795293332: forwarding disabled, not forwarding packets
1335795293332: mux: GOT CSM_Msg
1335795293337: BYTE SIZE AFTER COMPRESSION: 3031
1335795293344: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5018058 Client in region: 5 Client nodID: 5018
1335795293361: Received UDP payload: 989
1335795293363: mux: GOT CSM_Msg
1335795293364: forwarding disabled, not forwarding packets
1335795293380: Received UDP payload: 989
1335795293383: forwarding disabled, not forwarding packets
1335795293383: mux: GOT CSM_Msg
1335795293384: ----------------------------
1335795293384: inside sendRequestPacketRepeatingRunnable for requestCount = 5018058
1335795293385: I'm a leader, my requesting photos packet going to mux directly
1335795293385: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335795293385: got new request, requestCounter = 5018058
1335795293385: inside handleClientRequest. Originator leader of region 5
1335795293385: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795293385: mux: Inside mux Packet.CLIENT_REQUEST
1335795293386: Dispatching Atom PROC_REQUEST 10:17 (5,0)->(5,0)
1335795293386: Make FirstLeg Ack regardless of new or already-processed requests
1335795293386: Note down new request by adding requestCounter=5018058 to HashMap processedRequests
1335795293386: Sending PROC_REQUEST 10:17 (5,0)->(5,0)
1335795293387: mux: I got a CSM packet at a leader 
1335795293387: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795293393: --- Finished one round of sending REQUEST Packet ---------
1335795293393: Sending UDP payload: 4042
1335795293396: Received UDP payload: 989
1335795293399: inside handleDSMRequest. At requests's remote leader of region 5
1335795293399: removed replies before id 17 from sentReplies of size 0
1335795293401: Inside UPLOAD_PHOTO!!
1335795293410: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335795293410: my_gpinfo.isSuccess is now (should be true): true
1335795293411: Dispatching Atom PROC_REPLY 10:17 (5,0)->(5,0)
1335795293411: Received PROC_REQUEST 10:17 (5,0)->(5,0), replying PROC_REPLY 10:17 (5,0)->(5,0)
1335795293411: forwarding disabled, not forwarding packets
1335795293411: mux: GOT CSM_Msg
1335795293412: mux: I got a CSM packet at a leader 
1335795293413: Sending UDP payload: 989
1335795293419: Received PROC_REPLY 10:17 (5,0)->(5,0), handing to UserApp
1335795293420: DSM layer: Going to and from remote region took latency = 35
1335795293420: DSM layer: orig leader sent packet at 1335795293385 ~ received reply from remote leader at 1335795293420
1335795293420: inside handleDSMReply. Now back in originator leader of region 5
1335795293421: =======================
1335795293421: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795293421: change leader replyCounter to: 17
1335795293421: inside sendReplies of replyCount = 501800017
1335795293421: inside sendReplyRepeatingRunnable for replyCount = 501800017
1335795293421: reply packet contains the success info for UPLOAD_PHOTO
1335795293422: === Finished one round of sending REPLY Packet =======
1335795293422: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795293422: Leader about to send REPLY packet, number: 501800017 type: 16 Leader in region: (5,0) to Client nodID: 5018
1335795293423: Received UDP payload: 989
1335795293429: forwarding disabled, not forwarding packets
1335795293429: mux: GOT CSM_Msg
1335795293433: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795293435: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335795293436: I'm a leader and I successfully saved my client's new photo
1335795293436: now showing in UI the new photo I just saved ... 
1335795293437: the photo length: 3031
1335795293481: end of server show photo aside %%%%%%%%%
1335795293483: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335795293483: Inside _enableButtons
1335795293483: disabling progressdialog due to successful new photo upload
1335795293484: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018059 Client in region: (5,0) Client nodID: 5018
1335795293484: areButtonsEnabled --> true
1335795293484: inside finalLegAck: change requestCounter to 59
1335795293484: send final leg ack regardless of new or already-processed reply
1335795293485: I'm a leader client, my final_leg packet going to mux directly
1335795293485: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795293485: mux: Inside mux Packet.CLIENT_REQUEST
1335795293486: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800017
1335795293486: Yay the last leg succeeded. Removing reply runnables ...
1335795293486: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800017
1335795293486: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800017
1335795293486: do not send ack for received final_leg_ack
1335795293486: got new request, requestCounter = 5018059
1335795293486: inside handleClientRequest. Originator leader of region 5
1335795293487: = leader upload start 1335795293385 ~ stop 1335795293483
1335795293487: leader upload new photo latency = 98
1335795293487: new client_upload_photo_ack reply with replyCounter 501800017
1335795293487: note down new reply by adding replyCounter=501800017 to HashMap processedReplies
1335795293490: one more takeGoodSave: 4
1335795293491: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=22 getGood=11 getBad=4 getTimedout=3 getPercent=50%
1335795293492: SUCCESS Client now knows saving photo on its leader succeeded
1335795293538: Received UDP payload: 989
1335795293548: forwarding disabled, not forwarding packets
1335795293548: mux: GOT CSM_Msg
1335795293597: Received UDP payload: 989
1335795293599: forwarding disabled, not forwarding packets
1335795293599: mux: GOT CSM_Msg
1335795293700: Received UDP payload: 989
1335795293702: forwarding disabled, not forwarding packets
1335795293702: mux: GOT CSM_Msg
1335795294249: Received UDP payload: 625
1335795294252: mux: Inside mux Packet.CLIENT_REQUEST
1335795294366: Received UDP payload: 989
1335795294371: forwarding disabled, not forwarding packets
1335795294371: mux: GOT CSM_Msg
1335795294380: Received UDP payload: 446
1335795294383: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795294383: mux: Inside Packet.SERVER_REPLY
1335795294466: Received UDP payload: 5346
1335795294471: forwarding disabled, not forwarding packets
1335795294471: mux: GOT CSM_Msg
1335795294668: Received UDP payload: 4999
1335795294671: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795294671: mux: Inside Packet.SERVER_REPLY
1335795294691: Received UDP payload: 446
1335795294695: mux: Inside mux Packet.CLIENT_REQUEST
1335795294763: Received UDP payload: 4999
1335795294765: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795294765: mux: Inside Packet.SERVER_REPLY
1335795294781: Received UDP payload: 446
1335795294783: mux: Inside mux Packet.CLIENT_REQUEST
1335795295555: inside sendPacket(Packet p)
1335795295599: Sending UDP payload: 446
1335795295620: Received UDP payload: 446
1335795295862: Received UDP payload: 6264
1335795295864: forwarding disabled, not forwarding packets
1335795295864: mux: GOT CSM_Msg
1335795295895: Received UDP payload: 446
1335795295896: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795295896: mux: Inside Packet.SERVER_REPLY
1335795295908: Received UDP payload: 989
1335795295910: mux: GOT CSM_Msg
1335795295911: forwarding disabled, not forwarding packets
1335795296245: canPressButton = TRUE
1335795296246: areButtonsEnabled --> false
1335795296246: areButtonsEnabled --> false 
1335795296246: get picture disableButtonsR
1335795296273: one more getNum: 23
1335795296274: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335795296274: change local requestCounter to 60
1335795296274: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=23 getGood=11 getBad=4 getTimedout=3 getPercent=47%
1335795296276: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018060 Client in region: 5 Client nodID: 5018
1335795296309: ----------------------------
1335795296309: I'm a leader, my requesting photos packet going to mux directly
1335795296309: inside sendRequestPacketRepeatingRunnable for requestCount = 5018060
1335795296310: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795296310: got new request, requestCounter = 5018060
1335795296310: inside handleClientRequest. Originator leader of region 5
1335795296310: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795296310: mux: Inside mux Packet.CLIENT_REQUEST
1335795296312: Sending to region: 3
1335795296313: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795296313: Sending PROC_REQUEST 11:6 (5,0)->(3,0)
1335795296314: Make FirstLeg Ack regardless of new or already-processed requests
1335795296314: Note down new request by adding requestCounter=5018060 to HashMap processedRequests
1335795296314: mux: I got a CSM packet at a leader 
1335795296314: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795296317: Sending UDP payload: 989
1335795296318: --- Finished one round of sending REQUEST Packet ---------
1335795296319: forwarding disabled, not forwarding packets
1335795296361: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795296681: Received UDP payload: 642
1335795296683: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795296683: mux: Inside Packet.SERVER_REPLY
1335795296916: Received UDP payload: 446
1335795296918: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795296918: mux: Inside Packet.SERVER_REPLY
1335795296970: Received UDP payload: 642
1335795296972: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795296972: mux: Inside Packet.SERVER_REPLY
1335795296996: Received UDP payload: 642
1335795296998: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795296998: mux: Inside Packet.SERVER_REPLY
1335795297052: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297052: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297053: mux: I got a CSM packet at a leader 
1335795297054: Sending UDP payload: 989
1335795297054: forwarding disabled, not forwarding packets
1335795297153: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297153: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297154: mux: I got a CSM packet at a leader 
1335795297155: Sending UDP payload: 989
1335795297156: forwarding disabled, not forwarding packets
1335795297254: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297255: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297255: mux: I got a CSM packet at a leader 
1335795297256: Sending UDP payload: 989
1335795297257: forwarding disabled, not forwarding packets
1335795297355: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297356: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297356: mux: I got a CSM packet at a leader 
1335795297357: Sending UDP payload: 989
1335795297358: forwarding disabled, not forwarding packets
1335795297456: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297457: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297457: mux: I got a CSM packet at a leader 
1335795297458: Sending UDP payload: 989
1335795297459: forwarding disabled, not forwarding packets
1335795297485: Received UDP payload: 446
1335795297558: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297558: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297558: mux: I got a CSM packet at a leader 
1335795297559: Sending UDP payload: 989
1335795297560: forwarding disabled, not forwarding packets
1335795297659: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297659: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297659: mux: I got a CSM packet at a leader 
1335795297660: Sending UDP payload: 989
1335795297661: forwarding disabled, not forwarding packets
1335795297760: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297760: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297761: mux: I got a CSM packet at a leader 
1335795297763: Sending UDP payload: 989
1335795297764: forwarding disabled, not forwarding packets
1335795297862: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297862: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297863: mux: I got a CSM packet at a leader 
1335795297870: Sending UDP payload: 989
1335795297876: forwarding disabled, not forwarding packets
1335795297963: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297963: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795297963: mux: I got a CSM packet at a leader 
1335795297964: Sending UDP payload: 989
1335795297965: forwarding disabled, not forwarding packets
1335795298064: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795298064: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795298064: mux: I got a CSM packet at a leader 
1335795298066: Sending UDP payload: 989
1335795298066: forwarding disabled, not forwarding packets
1335795298165: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795298165: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795298165: mux: I got a CSM packet at a leader 
1335795298167: Sending UDP payload: 989
1335795298167: forwarding disabled, not forwarding packets
1335795298224: Received UDP payload: 446
1335795298225: mux: Inside mux Packet.CLIENT_REQUEST
1335795298266: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795298266: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795298266: mux: I got a CSM packet at a leader 
1335795298267: Sending UDP payload: 989
1335795298268: forwarding disabled, not forwarding packets
1335795298366: Retrying PROC_REQUEST 11:6 (5,0)->(3,0)
1335795298367: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(3,0)
1335795298367: mux: I got a CSM packet at a leader 
1335795298368: Sending UDP payload: 989
1335795298369: forwarding disabled, not forwarding packets
1335795298467: DSM Layer: Request timed out, send failure PROC_REPLY 11:6 (3,0)->(5,0)
1335795298468: Dispatching Atom PROC_REPLY 11:6 (3,0)->(5,0)
1335795298468: mux: I got a CSM packet at a leader 
1335795298470: Sending UDP payload: 989
1335795298471: DSM layer timed out, don't log dsm layer latency stuff.
1335795298471: Received PROC_REPLY 11:6 (3,0)->(5,0), handing to UserApp
1335795298471: inside handleDSMReply. Now back in originator leader of region 5
1335795298472: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795298472: change leader replyCounter to: 18
1335795298472: inside sendReplies of replyCount = 501800018
1335795298472: reply packet contains the newest photo/success info from the remote region
1335795298473: === Finished one round of sending REPLY Packet =======
1335795298473: =======================
1335795298473: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795298473: Leader about to send REPLY packet, number: 501800018 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795298473: inside sendReplyRepeatingRunnable for replyCount = 501800018
1335795298498: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795298499: disabling progressdialog due to successful new photo get
1335795298500: Inside _enableButtons
1335795298501: areButtonsEnabled --> true
1335795298501: send final leg ack regardless of new or already-processed reply
1335795298502: inside finalLegAck: change requestCounter to 61
1335795298503: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018061 Client in region: (5,0) Client nodID: 5018
1335795298503: I'm a leader client, my final_leg packet going to mux directly
1335795298504: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800018
1335795298504: got new request, requestCounter = 5018061
1335795298504: inside handleClientRequest. Originator leader of region 5
1335795298504: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795298504: mux: Inside mux Packet.CLIENT_REQUEST
1335795298504: new client_show_remotephoto reply with replyCounter 501800018
1335795298505: Yay the last leg succeeded. Removing reply runnables ...
1335795298505: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800018
1335795298505: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800018
1335795298505: do not send ack for received final_leg_ack
1335795298505: leader download remote photo latency = 2188
1335795298505: note down new reply by adding replyCounter=501800018 to HashMap processedReplies
1335795298506: = leader download start 1335795296310 ~ stop 1335795298498
1335795298508: Can't get remote photo, because DSM Layer on originator leader timed out
1335795298513: one more getBad: 5
1335795298515: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=23 getGood=11 getBad=5 getTimedout=3 getPercent=47%
1335795298516: getBad++
1335795299294: Received UDP payload: 989
1335795299305: forwarding disabled, not forwarding packets
1335795299305: mux: GOT CSM_Msg
1335795299643: Received UDP payload: 446
1335795299731: Received UDP payload: 989
1335795299739: forwarding disabled, not forwarding packets
1335795299739: mux: GOT CSM_Msg
1335795299851: Received UDP payload: 625
1335795299855: mux: Inside mux Packet.CLIENT_REQUEST
1335795299881: Received UDP payload: 989
1335795299887: mux: GOT CSM_Msg
1335795299888: forwarding disabled, not forwarding packets
1335795299893: Received UDP payload: 989
1335795299900: forwarding disabled, not forwarding packets
1335795299900: mux: GOT CSM_Msg
1335795299910: Received UDP payload: 446
1335795299915: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795299915: mux: Inside Packet.SERVER_REPLY
1335795299957: Received UDP payload: 446
1335795300021: Received UDP payload: 989
1335795300023: forwarding disabled, not forwarding packets
1335795300023: mux: GOT CSM_Msg
1335795300061: Received UDP payload: 989
1335795300063: forwarding disabled, not forwarding packets
1335795300063: mux: GOT CSM_Msg
1335795300164: Received UDP payload: 989
1335795300166: forwarding disabled, not forwarding packets
1335795300166: mux: GOT CSM_Msg
1335795300245: Received UDP payload: 446
1335795300267: Received UDP payload: 989
1335795300268: mux: GOT CSM_Msg
1335795300269: forwarding disabled, not forwarding packets
1335795300401: Received UDP payload: 989
1335795300403: forwarding disabled, not forwarding packets
1335795300403: mux: GOT CSM_Msg
1335795300470: Received UDP payload: 989
1335795300473: forwarding disabled, not forwarding packets
1335795300473: mux: GOT CSM_Msg
1335795300480: Received UDP payload: 446
1335795300556: inside sendPacket(Packet p)
1335795300557: Sending UDP payload: 446
1335795300586: Received UDP payload: 989
1335795300591: forwarding disabled, not forwarding packets
1335795300591: mux: GOT CSM_Msg
1335795300616: Received UDP payload: 625
1335795300619: inside handleClientRequest. Originator leader of region 5
1335795300619: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795300619: mux: Inside mux Packet.CLIENT_REQUEST
1335795300620: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795300620: got new request, requestCounter = 5004038
1335795300621: Sending PROC_REQUEST 11:2 (5,0)->(1,0)
1335795300621: Sending to region: 1
1335795300622: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(1,0)
1335795300622: Make FirstLeg Ack regardless of new or already-processed requests
1335795300622: Note down new request by adding requestCounter=5004038 to HashMap processedRequests
1335795300623: The leader sending a First Leg ack to originator client (which id = 5004)
1335795300623: inside sendPacket(Packet p)
1335795300623: mux: I got a CSM packet at a leader 
1335795300625: Sending UDP payload: 989
1335795300629: forwarding disabled, not forwarding packets
1335795300631: Sending UDP payload: 446
1335795300747: Received UDP payload: 6264
1335795300753: mux: GOT CSM_Msg
1335795300754: Received PROC_REPLY 11:2 (1,0)->(5,0), handing to UserApp
1335795300754: inside handleDSMReply. Now back in originator leader of region 5
1335795300755: DSM layer: Going to and from remote region took latency = 133
1335795300755: DSM layer: orig leader sent packet at 1335795300621 ~ received reply from remote leader at 1335795300754
1335795300756: Originator Region=5's Leader (for Client=5004) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795300756: change leader replyCounter to: 19
1335795300757: =======================
1335795300757: inside sendReplies of replyCount = 501800019
1335795300757: inside sendReplyRepeatingRunnable for replyCount = 501800019
1335795300757: reply packet contains the newest photo/success info from the remote region
1335795300758: === Finished one round of sending REPLY Packet =======
1335795300758: I (the leader) was not the originator client (which id = 5004) so I use UDP to send packet back to my nonleader
1335795300758: Leader about to send REPLY packet, number: 501800019 type: 15 Leader in region: (5,0) to Client nodID: 5004
1335795300758: inside sendPacket(Packet p)
1335795300766: Sending UDP payload: 5917
1335795300896: Received UDP payload: 446
1335795300898: inside handleClientRequest. Originator leader of region 5
1335795300898: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795300898: mux: Inside mux Packet.CLIENT_REQUEST
1335795300899: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800019
1335795300899: Yay the last leg succeeded. Removing reply runnables ...
1335795300899: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800019
1335795300899: got new request, requestCounter = 5004039
1335795300900: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800019
1335795300900: do not send ack for received final_leg_ack
1335795301077: Received UDP payload: 989
1335795301084: forwarding disabled, not forwarding packets
1335795301084: mux: GOT CSM_Msg
1335795301091: Received UDP payload: 989
1335795301105: mux: GOT CSM_Msg
1335795301106: Received UDP payload: 989
1335795301106: forwarding disabled, not forwarding packets
1335795301113: mux: GOT CSM_Msg
1335795301114: forwarding disabled, not forwarding packets
1335795301175: Received UDP payload: 446
1335795301197: Received UDP payload: 989
1335795301203: forwarding disabled, not forwarding packets
1335795301203: mux: GOT CSM_Msg
1335795301384: Received UDP payload: 3577
1335795301388: mux: Inside mux Packet.CLIENT_REQUEST
1335795301700: Received UDP payload: 989
1335795301707: mux: GOT CSM_Msg
1335795301708: forwarding disabled, not forwarding packets
1335795301734: Received UDP payload: 989
1335795301762: mux: GOT CSM_Msg
1335795301763: forwarding disabled, not forwarding packets
1335795301782: Received UDP payload: 989
1335795301789: forwarding disabled, not forwarding packets
1335795301789: mux: GOT CSM_Msg
1335795301795: Received UDP payload: 989
1335795301811: forwarding disabled, not forwarding packets
1335795301811: mux: GOT CSM_Msg
1335795301812: Received UDP payload: 989
1335795301813: mux: GOT CSM_Msg
1335795301814: forwarding disabled, not forwarding packets
1335795301827: Received UDP payload: 989
1335795301830: forwarding disabled, not forwarding packets
1335795301830: mux: GOT CSM_Msg
1335795301857: Received UDP payload: 989
1335795301859: forwarding disabled, not forwarding packets
1335795301859: mux: GOT CSM_Msg
1335795301875: Received UDP payload: 989
1335795301877: mux: GOT CSM_Msg
1335795301878: forwarding disabled, not forwarding packets
1335795301886: Received UDP payload: 989
1335795301891: forwarding disabled, not forwarding packets
1335795301891: mux: GOT CSM_Msg
1335795301898: Received UDP payload: 989
1335795301900: forwarding disabled, not forwarding packets
1335795301900: mux: GOT CSM_Msg
1335795301907: Received UDP payload: 989
1335795301910: forwarding disabled, not forwarding packets
1335795301910: mux: GOT CSM_Msg
1335795301925: Received UDP payload: 989
1335795301927: forwarding disabled, not forwarding packets
1335795301927: mux: GOT CSM_Msg
1335795302028: Received UDP payload: 989
1335795302037: forwarding disabled, not forwarding packets
1335795302037: mux: GOT CSM_Msg
1335795302045: Received UDP payload: 642
1335795302046: mux: Inside Packet.SERVER_REPLY
1335795302047: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795302058: Received UDP payload: 446
1335795302060: mux: Inside mux Packet.CLIENT_REQUEST
1335795302241: Received UDP payload: 989
1335795302243: forwarding disabled, not forwarding packets
1335795302243: mux: GOT CSM_Msg
1335795302274: Received UDP payload: 989
1335795302276: forwarding disabled, not forwarding packets
1335795302276: mux: GOT CSM_Msg
1335795302290: Received UDP payload: 989
1335795302292: mux: GOT CSM_Msg
1335795302293: forwarding disabled, not forwarding packets
1335795302329: Received UDP payload: 989
1335795302331: forwarding disabled, not forwarding packets
1335795302331: mux: GOT CSM_Msg
1335795302342: Received UDP payload: 989
1335795302344: forwarding disabled, not forwarding packets
1335795302344: mux: GOT CSM_Msg
1335795302401: Received UDP payload: 642
1335795302402: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795302402: mux: Inside Packet.SERVER_REPLY
1335795302424: Received UDP payload: 446
1335795302425: mux: Inside mux Packet.CLIENT_REQUEST
1335795302443: Received UDP payload: 642
1335795302444: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795302444: mux: Inside Packet.SERVER_REPLY
1335795302473: Received UDP payload: 446
1335795302474: mux: Inside mux Packet.CLIENT_REQUEST
1335795302481: Received UDP payload: 446
1335795302483: mux: Inside mux Packet.CLIENT_REQUEST
1335795302489: Received UDP payload: 642
1335795302490: mux: Inside Packet.SERVER_REPLY
1335795302491: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795302528: Received UDP payload: 989
1335795302531: forwarding disabled, not forwarding packets
1335795302531: mux: GOT CSM_Msg
1335795302579: Received UDP payload: 4330
1335795302581: mux: GOT CSM_Msg
1335795302582: forwarding disabled, not forwarding packets
1335795302628: Received UDP payload: 446
1335795302630: mux: Inside mux Packet.CLIENT_REQUEST
1335795302667: Received UDP payload: 446
1335795302669: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795302669: mux: Inside Packet.SERVER_REPLY
1335795302694: Received UDP payload: 989
1335795302696: forwarding disabled, not forwarding packets
1335795302696: mux: GOT CSM_Msg
1335795302708: Received UDP payload: 642
1335795302710: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795302710: mux: Inside Packet.SERVER_REPLY
1335795302739: Received UDP payload: 446
1335795302740: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795302740: mux: Inside Packet.SERVER_REPLY
1335795302784: Received UDP payload: 642
1335795302786: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795302786: mux: Inside Packet.SERVER_REPLY
1335795302790: Received UDP payload: 642
1335795302792: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795302792: mux: Inside Packet.SERVER_REPLY
1335795302804: Received UDP payload: 446
1335795302806: mux: Inside mux Packet.CLIENT_REQUEST
1335795302819: Received UDP payload: 446
1335795302820: mux: Inside Packet.SERVER_REPLY
1335795302821: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795302830: Received UDP payload: 446
1335795302923: Received UDP payload: 446
1335795304202: canPressButton = TRUE
1335795304203: areButtonsEnabled --> false
1335795304203: areButtonsEnabled --> false 
1335795304203: get picture disableButtonsR
1335795304247: one more getNum: 24
1335795304250: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=24 getGood=11 getBad=5 getTimedout=3 getPercent=45%
1335795304251: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795304252: change local requestCounter to 62
1335795304264: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018062 Client in region: 5 Client nodID: 5018
1335795304299: ----------------------------
1335795304299: inside sendRequestPacketRepeatingRunnable for requestCount = 5018062
1335795304300: I'm a leader, my requesting photos packet going to mux directly
1335795304300: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795304300: got new request, requestCounter = 5018062
1335795304300: inside handleClientRequest. Originator leader of region 5
1335795304300: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795304300: mux: Inside mux Packet.CLIENT_REQUEST
1335795304303: Sending to region: 5
1335795304304: Dispatching Atom PROC_REQUEST 11:18 (5,0)->(5,0)
1335795304304: Make FirstLeg Ack regardless of new or already-processed requests
1335795304304: Note down new request by adding requestCounter=5018062 to HashMap processedRequests
1335795304304: Sending PROC_REQUEST 11:18 (5,0)->(5,0)
1335795304304: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795304305: mux: I got a CSM packet at a leader 
1335795304309: --- Finished one round of sending REQUEST Packet ---------
1335795304309: Sending UDP payload: 989
1335795304316: removed replies before id 18 from sentReplies of size 0
1335795304317: INSIDE SERVER_GET_PHOTO!!!
1335795304317: inside handleDSMRequest. At requests's remote leader of region 5
1335795304319: dst_region == src_region = 5
1335795304320:  1 self to self atomRequest
1335795304320: Received PROC_REQUEST 11:18 (5,0)->(5,0), replying PROC_REPLY 11:18 (5,0)->(5,0)
1335795304321: Dispatching Atom PROC_REPLY 11:18 (5,0)->(5,0)
1335795304321: mux: I got a CSM packet at a leader 
1335795304339: Sending UDP payload: 4042
1335795304341: DSM layer: Going to and from remote region took latency = 38
1335795304341: DSM layer: orig leader sent packet at 1335795304303 ~ received reply from remote leader at 1335795304341
1335795304341: Received PROC_REPLY 11:18 (5,0)->(5,0), handing to UserApp
1335795304341: inside handleDSMReply. Now back in originator leader of region 5
1335795304342: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795304342: change leader replyCounter to: 20
1335795304342: inside sendReplies of replyCount = 501800020
1335795304342: reply packet contains the newest photo/success info from the remote region
1335795304345: === Finished one round of sending REPLY Packet =======
1335795304345: =======================
1335795304345: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795304345: Leader about to send REPLY packet, number: 501800020 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795304345: inside sendReplyRepeatingRunnable for replyCount = 501800020
1335795304354: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795304362: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795304363: Inside _enableButtons
1335795304363: areButtonsEnabled --> true
1335795304363: disabling progressdialog due to successful new photo get
1335795304363: inside finalLegAck: change requestCounter to 63
1335795304363: send final leg ack regardless of new or already-processed reply
1335795304364: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018063 Client in region: (5,0) Client nodID: 5018
1335795304364: I'm a leader client, my final_leg packet going to mux directly
1335795304365: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800020
1335795304365: Yay the last leg succeeded. Removing reply runnables ...
1335795304365: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800020
1335795304365: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800020
1335795304365: got new request, requestCounter = 5018063
1335795304365: inside handleClientRequest. Originator leader of region 5
1335795304365: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795304365: mux: Inside mux Packet.CLIENT_REQUEST
1335795304366: do not send ack for received final_leg_ack
1335795304366: leader download remote photo latency = 62
1335795304366: new client_show_remotephoto reply with replyCounter 501800020
1335795304366: note down new reply by adding replyCounter=501800020 to HashMap processedReplies
1335795304367: = leader download start 1335795304300 ~ stop 1335795304362
1335795304368: one more getGood: 12
1335795304369: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=24 getGood=12 getBad=5 getTimedout=3 getPercent=50%
1335795304369: successful reply for client get photo
1335795304370: Remote photo's length: 3031
1335795304370: Success! Client getting photo from remote region, showing photo...
1335795304901: Received UDP payload: 7182
1335795304907: forwarding disabled, not forwarding packets
1335795304907: mux: GOT CSM_Msg
1335795305483: Received UDP payload: 446
1335795305507: Received UDP payload: 446
1335795305557: inside sendPacket(Packet p)
1335795305608: Sending UDP payload: 446
1335795306392: Received UDP payload: 989
1335795306400: mux: GOT CSM_Msg
1335795306401: removed replies before id 0 from sentReplies of size 1
1335795306404: Received DUPLICATE PROC_REQUEST 11:0 (1,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(1,0)
1335795306405: Dispatching Atom PROC_REPLY 11:0 (5,0)->(1,0)
1335795306406: mux: I got a CSM packet at a leader 
1335795306425: Sending UDP payload: 5353
1335795306440: forwarding disabled, not forwarding packets
1335795307030: Received UDP payload: 7182
1335795307039: mux: GOT CSM_Msg
1335795307040: Received DUPLICATE PROC_REPLY 11:6 (3,0)->(5,0)
1335795307230: Received UDP payload: 989
1335795307236: mux: GOT CSM_Msg
1335795307237: removed replies before id 0 from sentReplies of size 1
1335795307238: Received DUPLICATE PROC_REQUEST 11:0 (1,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(1,0)
1335795307243: Dispatching Atom PROC_REPLY 11:0 (5,0)->(1,0)
1335795307243: mux: I got a CSM packet at a leader 
1335795307245: Sending UDP payload: 5353
1335795307248: forwarding disabled, not forwarding packets
1335795307295: Received UDP payload: 989
1335795307299: mux: GOT CSM_Msg
1335795307300: Received DUPLICATE PROC_REQUEST 11:0 (1,0)->(5,0), replying PROC_REPLY 11:0 (5,0)->(1,0)
1335795307300: removed replies before id 0 from sentReplies of size 1
1335795307301: Dispatching Atom PROC_REPLY 11:0 (5,0)->(1,0)
1335795307301: mux: I got a CSM packet at a leader 
1335795307304: Sending UDP payload: 5353
1335795307308: forwarding disabled, not forwarding packets
1335795307716: Received UDP payload: 463
1335795307845: Received UDP payload: 446
1335795307949: canPressButton = TRUE
1335795307950: areButtonsEnabled --> false
1335795307950: areButtonsEnabled --> false 
1335795307950: get picture disableButtonsR
1335795307976: one more getNum: 25
1335795307977: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795307977: change local requestCounter to 64
1335795307977: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=25 getGood=12 getBad=5 getTimedout=3 getPercent=48%
1335795307981: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018064 Client in region: 5 Client nodID: 5018
1335795308012: ----------------------------
1335795308013: I'm a leader, my requesting photos packet going to mux directly
1335795308013: inside sendRequestPacketRepeatingRunnable for requestCount = 5018064
1335795308014: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795308014: got new request, requestCounter = 5018064
1335795308014: inside handleClientRequest. Originator leader of region 5
1335795308014: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795308014: mux: Inside mux Packet.CLIENT_REQUEST
1335795308016: Sending to region: 4
1335795308018: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(4,0)
1335795308018: Note down new request by adding requestCounter=5018064 to HashMap processedRequests
1335795308018: Sending PROC_REQUEST 11:4 (5,0)->(4,0)
1335795308019: Make FirstLeg Ack regardless of new or already-processed requests
1335795308019: mux: I got a CSM packet at a leader 
1335795308019: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795308020: Sending UDP payload: 989
1335795308021: --- Finished one round of sending REQUEST Packet ---------
1335795308021: forwarding disabled, not forwarding packets
1335795308045: Received UDP payload: 446
1335795308061: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795308122: Received UDP payload: 5006
1335795308124: mux: Inside Packet.SERVER_REPLY
1335795308125: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795308143: Received UDP payload: 446
1335795308144: mux: Inside mux Packet.CLIENT_REQUEST
1335795308753: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(4,0)
1335795308753: Retrying PROC_REQUEST 11:4 (5,0)->(4,0)
1335795308754: mux: I got a CSM packet at a leader 
1335795308755: Sending UDP payload: 989
1335795308757: forwarding disabled, not forwarding packets
1335795308854: Retrying PROC_REQUEST 11:4 (5,0)->(4,0)
1335795308855: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(4,0)
1335795308855: mux: I got a CSM packet at a leader 
1335795308857: Sending UDP payload: 989
1335795308858: forwarding disabled, not forwarding packets
1335795308950: Received UDP payload: 5346
1335795308953: Received PROC_REPLY 11:4 (4,0)->(5,0), handing to UserApp
1335795308953: inside handleDSMReply. Now back in originator leader of region 5
1335795308953: mux: GOT CSM_Msg
1335795308954: DSM layer: Going to and from remote region took latency = 937
1335795308954: DSM layer: orig leader sent packet at 1335795308016 ~ received reply from remote leader at 1335795308953
1335795308955: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795308955: change leader replyCounter to: 21
1335795308955: inside sendReplies of replyCount = 501800021
1335795308955: reply packet contains the newest photo/success info from the remote region
1335795308956: === Finished one round of sending REPLY Packet =======
1335795308956: =======================
1335795308956: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795308956: Leader about to send REPLY packet, number: 501800021 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795308956: inside sendReplyRepeatingRunnable for replyCount = 501800021
1335795308957: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795308957: disabling progressdialog due to successful new photo get
1335795308958: Inside _enableButtons
1335795308958: areButtonsEnabled --> true
1335795308960: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018065 Client in region: (5,0) Client nodID: 5018
1335795308960: inside finalLegAck: change requestCounter to 65
1335795308960: send final leg ack regardless of new or already-processed reply
1335795308961: I'm a leader client, my final_leg packet going to mux directly
1335795308961: inside handleClientRequest. Originator leader of region 5
1335795308961: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795308961: mux: Inside mux Packet.CLIENT_REQUEST
1335795308962: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800021
1335795308962: Yay the last leg succeeded. Removing reply runnables ...
1335795308962: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800021
1335795308962: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800021
1335795308962: do not send ack for received final_leg_ack
1335795308962: got new request, requestCounter = 5018065
1335795308963: leader download remote photo latency = 943
1335795308963: new client_show_remotephoto reply with replyCounter 501800021
1335795308963: note down new reply by adding replyCounter=501800021 to HashMap processedReplies
1335795308964: = leader download start 1335795308014 ~ stop 1335795308957
1335795308965: one more getGood: 13
1335795308968: Success! Client getting photo from remote region, showing photo...
1335795308968: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=25 getGood=13 getBad=5 getTimedout=3 getPercent=52%
1335795308968: successful reply for client get photo
1335795308969: Remote photo's length: 4335
1335795309022: Received UDP payload: 5346
1335795309025: Received DUPLICATE PROC_REPLY 11:4 (4,0)->(5,0)
1335795309025: mux: GOT CSM_Msg
1335795309338: Received UDP payload: 5346
1335795309341: Received DUPLICATE PROC_REPLY 11:4 (4,0)->(5,0)
1335795309341: mux: GOT CSM_Msg
1335795309350: Received UDP payload: 5653
1335795309351: mux: Inside mux Packet.CLIENT_REQUEST
1335795310049: Received UDP payload: 3899
1335795310054: mux: Inside mux Packet.CLIENT_REQUEST
1335795310468: Received UDP payload: 446
1335795310475: Received UDP payload: 446
1335795310482: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795310482: mux: Inside Packet.SERVER_REPLY
1335795310494: Received UDP payload: 989
1335795310510: forwarding disabled, not forwarding packets
1335795310510: mux: GOT CSM_Msg
1335795310511: Received UDP payload: 642
1335795310516: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795310516: mux: Inside Packet.SERVER_REPLY
1335795310540: Received UDP payload: 446
1335795310544: mux: Inside mux Packet.CLIENT_REQUEST
1335795310557: inside sendPacket(Packet p)
1335795310562: Sending UDP payload: 446
1335795311084: canPressButton = TRUE
1335795311085: areButtonsEnabled --> false
1335795311085: areButtonsEnabled --> false 
1335795311085: get picture disableButtonsR
1335795311098: one more getNum: 26
1335795311099: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=26 getGood=13 getBad=5 getTimedout=3 getPercent=50%
1335795311100: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795311100: change local requestCounter to 66
1335795311101: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018066 Client in region: 5 Client nodID: 5018
1335795311131: ----------------------------
1335795311131: inside sendRequestPacketRepeatingRunnable for requestCount = 5018066
1335795311132: I'm a leader, my requesting photos packet going to mux directly
1335795311132: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795311132: got new request, requestCounter = 5018066
1335795311132: inside handleClientRequest. Originator leader of region 5
1335795311132: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795311132: mux: Inside mux Packet.CLIENT_REQUEST
1335795311133: Sending PROC_REQUEST 11:5 (5,0)->(4,0)
1335795311133: Sending to region: 4
1335795311134: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(4,0)
1335795311134: Make FirstLeg Ack regardless of new or already-processed requests
1335795311134: Note down new request by adding requestCounter=5018066 to HashMap processedRequests
1335795311134: mux: I got a CSM packet at a leader 
1335795311134: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795311136: Sending UDP payload: 989
1335795311137: --- Finished one round of sending REQUEST Packet ---------
1335795311137: forwarding disabled, not forwarding packets
1335795311174: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795311278: Received UDP payload: 6017
1335795311280: Received PROC_REPLY 11:5 (4,0)->(5,0), handing to UserApp
1335795311280: mux: GOT CSM_Msg
1335795311281: DSM layer: Going to and from remote region took latency = 148
1335795311281: DSM layer: orig leader sent packet at 1335795311133 ~ received reply from remote leader at 1335795311281
1335795311281: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795311281: inside handleDSMReply. Now back in originator leader of region 5
1335795311282: =======================
1335795311282: change leader replyCounter to: 22
1335795311282: inside sendReplies of replyCount = 501800022
1335795311282: inside sendReplyRepeatingRunnable for replyCount = 501800022
1335795311282: reply packet contains the newest photo/success info from the remote region
1335795311283: === Finished one round of sending REPLY Packet =======
1335795311283: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795311283: Leader about to send REPLY packet, number: 501800022 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795311284: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795311284: disabling progressdialog due to successful new photo get
1335795311285: Inside _enableButtons
1335795311285: areButtonsEnabled --> true
1335795311285: inside finalLegAck: change requestCounter to 67
1335795311285: send final leg ack regardless of new or already-processed reply
1335795311286: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018067 Client in region: (5,0) Client nodID: 5018
1335795311286: I'm a leader client, my final_leg packet going to mux directly
1335795311286: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800022
1335795311286: Yay the last leg succeeded. Removing reply runnables ...
1335795311286: got new request, requestCounter = 5018067
1335795311286: inside handleClientRequest. Originator leader of region 5
1335795311286: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795311286: mux: Inside mux Packet.CLIENT_REQUEST
1335795311287: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800022
1335795311287: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800022
1335795311287: do not send ack for received final_leg_ack
1335795311287: new client_show_remotephoto reply with replyCounter 501800022
1335795311287: note down new reply by adding replyCounter=501800022 to HashMap processedReplies
1335795311288: = leader download start 1335795311132 ~ stop 1335795311284
1335795311288: leader download remote photo latency = 152
1335795311290: one more getGood: 14
1335795311291: Success! Client getting photo from remote region, showing photo...
1335795311291: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=26 getGood=14 getBad=5 getTimedout=3 getPercent=53%
1335795311291: successful reply for client get photo
1335795311293: Remote photo's length: 5006
1335795311537: Received UDP payload: 7106
1335795311549: mux: Inside mux Packet.CLIENT_REQUEST
1335795311757: Received UDP payload: 7106
1335795311759: mux: Inside mux Packet.CLIENT_REQUEST
1335795312558: Received UDP payload: 446
1335795313447: Received UDP payload: 446
1335795314316: Received UDP payload: 446
1335795314324: Received UDP payload: 625
1335795314329: mux: Inside mux Packet.CLIENT_REQUEST
1335795314362: Received UDP payload: 446
1335795314391: Received UDP payload: 989
1335795314395: forwarding disabled, not forwarding packets
1335795314395: mux: GOT CSM_Msg
1335795314400: Received UDP payload: 446
1335795314401: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795314401: mux: Inside Packet.SERVER_REPLY
1335795314438: canPressButton = TRUE
1335795314439: areButtonsEnabled --> false
1335795314439: areButtonsEnabled --> false 
1335795314439: get picture disableButtonsR
1335795314466: one more getNum: 27
1335795314466: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=27 getGood=14 getBad=5 getTimedout=3 getPercent=51%
1335795314467: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795314467: change local requestCounter to 68
1335795314474: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018068 Client in region: 5 Client nodID: 5018
1335795314512: ----------------------------
1335795314512: I'm a leader, my requesting photos packet going to mux directly
1335795314512: inside sendRequestPacketRepeatingRunnable for requestCount = 5018068
1335795314513: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795314513: got new request, requestCounter = 5018068
1335795314513: inside handleClientRequest. Originator leader of region 5
1335795314513: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795314513: mux: Inside mux Packet.CLIENT_REQUEST
1335795314515: Sending PROC_REQUEST 11:19 (5,0)->(5,0)
1335795314515: Sending to region: 5
1335795314516: Dispatching Atom PROC_REQUEST 11:19 (5,0)->(5,0)
1335795314516: Make FirstLeg Ack regardless of new or already-processed requests
1335795314516: Note down new request by adding requestCounter=5018068 to HashMap processedRequests
1335795314516: mux: I got a CSM packet at a leader 
1335795314516: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795314521: --- Finished one round of sending REQUEST Packet ---------
1335795314521: Sending UDP payload: 989
1335795314536: INSIDE SERVER_GET_PHOTO!!!
1335795314536: inside handleDSMRequest. At requests's remote leader of region 5
1335795314536: removed replies before id 19 from sentReplies of size 0
1335795314544: dst_region == src_region = 5
1335795314545:  1 self to self atomRequest
1335795314545: Received PROC_REQUEST 11:19 (5,0)->(5,0), replying PROC_REPLY 11:19 (5,0)->(5,0)
1335795314546: Dispatching Atom PROC_REPLY 11:19 (5,0)->(5,0)
1335795314546: mux: I got a CSM packet at a leader 
1335795314576: Sending UDP payload: 4042
1335795314578: Received PROC_REPLY 11:19 (5,0)->(5,0), handing to UserApp
1335795314579: DSM layer: Going to and from remote region took latency = 63
1335795314579: DSM layer: orig leader sent packet at 1335795314515 ~ received reply from remote leader at 1335795314578
1335795314579: inside handleDSMReply. Now back in originator leader of region 5
1335795314580: =======================
1335795314580: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795314580: change leader replyCounter to: 23
1335795314580: inside sendReplies of replyCount = 501800023
1335795314580: reply packet contains the newest photo/success info from the remote region
1335795314581: === Finished one round of sending REPLY Packet =======
1335795314581: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795314581: Leader about to send REPLY packet, number: 501800023 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795314581: inside sendReplyRepeatingRunnable for replyCount = 501800023
1335795314606: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795314610: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795314610: disabling progressdialog due to successful new photo get
1335795314611: Inside _enableButtons
1335795314611: areButtonsEnabled --> true
1335795314611: inside finalLegAck: change requestCounter to 69
1335795314611: send final leg ack regardless of new or already-processed reply
1335795314612: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018069 Client in region: (5,0) Client nodID: 5018
1335795314612: I'm a leader client, my final_leg packet going to mux directly
1335795314612: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800023
1335795314612: Yay the last leg succeeded. Removing reply runnables ...
1335795314612: got new request, requestCounter = 5018069
1335795314612: inside handleClientRequest. Originator leader of region 5
1335795314612: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795314612: mux: Inside mux Packet.CLIENT_REQUEST
1335795314613: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800023
1335795314613: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800023
1335795314613: do not send ack for received final_leg_ack
1335795314613: new client_show_remotephoto reply with replyCounter 501800023
1335795314613: note down new reply by adding replyCounter=501800023 to HashMap processedReplies
1335795314614: = leader download start 1335795314513 ~ stop 1335795314610
1335795314614: leader download remote photo latency = 97
1335795314625: one more getGood: 15
1335795314626: Remote photo's length: 3031
1335795314626: Success! Client getting photo from remote region, showing photo...
1335795314626: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=27 getGood=15 getBad=5 getTimedout=3 getPercent=55%
1335795314626: successful reply for client get photo
1335795315251: Received UDP payload: 989
1335795315260: mux: GOT CSM_Msg
1335795315261: forwarding disabled, not forwarding packets
1335795315298: Received UDP payload: 989
1335795315307: forwarding disabled, not forwarding packets
1335795315307: mux: GOT CSM_Msg
1335795315395: Received UDP payload: 989
1335795315398: forwarding disabled, not forwarding packets
1335795315398: mux: GOT CSM_Msg
1335795315485: Received UDP payload: 989
1335795315487: forwarding disabled, not forwarding packets
1335795315487: mux: GOT CSM_Msg
1335795315560: inside sendPacket(Packet p)
1335795315561: Sending UDP payload: 446
1335795315602: Received UDP payload: 989
1335795315606: mux: GOT CSM_Msg
1335795315607: forwarding disabled, not forwarding packets
1335795316562: Received UDP payload: 989
1335795316569: forwarding disabled, not forwarding packets
1335795316569: mux: GOT CSM_Msg
1335795316744: Received UDP payload: 989
1335795316753: forwarding disabled, not forwarding packets
1335795316753: mux: GOT CSM_Msg
1335795316758: Received UDP payload: 989
1335795316765: forwarding disabled, not forwarding packets
1335795316765: mux: GOT CSM_Msg
1335795316786: Received UDP payload: 989
1335795316793: forwarding disabled, not forwarding packets
1335795316793: mux: GOT CSM_Msg
1335795316805: Received UDP payload: 989
1335795316807: forwarding disabled, not forwarding packets
1335795316807: mux: GOT CSM_Msg
1335795316842: Received UDP payload: 989
1335795316845: forwarding disabled, not forwarding packets
1335795316845: mux: GOT CSM_Msg
1335795316856: Received UDP payload: 989
1335795316858: forwarding disabled, not forwarding packets
1335795316858: mux: GOT CSM_Msg
1335795316867: Received UDP payload: 989
1335795316870: forwarding disabled, not forwarding packets
1335795316870: mux: GOT CSM_Msg
1335795316907: Received UDP payload: 989
1335795316909: forwarding disabled, not forwarding packets
1335795316909: mux: GOT CSM_Msg
1335795316919: Received UDP payload: 642
1335795316920: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795316920: mux: Inside Packet.SERVER_REPLY
1335795316934: Received UDP payload: 989
1335795316936: forwarding disabled, not forwarding packets
1335795316936: mux: GOT CSM_Msg
1335795316947: Received UDP payload: 642
1335795316948: mux: Inside Packet.SERVER_REPLY
1335795316949: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795316962: Received UDP payload: 446
1335795316963: mux: Inside mux Packet.CLIENT_REQUEST
1335795317296: Received UDP payload: 989
1335795317298: forwarding disabled, not forwarding packets
1335795317298: mux: GOT CSM_Msg
1335795317356: Received UDP payload: 989
1335795317359: forwarding disabled, not forwarding packets
1335795317359: mux: GOT CSM_Msg
1335795317434: Received UDP payload: 989
1335795317437: mux: GOT CSM_Msg
1335795317438: forwarding disabled, not forwarding packets
1335795317465: Received UDP payload: 989
1335795317468: mux: GOT CSM_Msg
1335795317469: forwarding disabled, not forwarding packets
1335795317476: Received UDP payload: 989
1335795317480: forwarding disabled, not forwarding packets
1335795317480: mux: GOT CSM_Msg
1335795317490: Received UDP payload: 989
1335795317492: mux: GOT CSM_Msg
1335795317493: forwarding disabled, not forwarding packets
1335795317504: Received UDP payload: 989
1335795317507: forwarding disabled, not forwarding packets
1335795317507: mux: GOT CSM_Msg
1335795317515: Received UDP payload: 989
1335795317517: forwarding disabled, not forwarding packets
1335795317517: mux: GOT CSM_Msg
1335795317518: canPressButton = TRUE
1335795317519: areButtonsEnabled --> false 
1335795317519: get picture disableButtonsR
1335795317520: areButtonsEnabled --> false
1335795317527: Received UDP payload: 989
1335795317530: forwarding disabled, not forwarding packets
1335795317530: mux: GOT CSM_Msg
1335795317538: Received UDP payload: 989
1335795317538: one more getNum: 28
1335795317541: forwarding disabled, not forwarding packets
1335795317541: mux: GOT CSM_Msg
1335795317541: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=28 getGood=15 getBad=5 getTimedout=3 getPercent=53%
1335795317542: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795317542: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018070 Client in region: 5 Client nodID: 5018
1335795317542: change local requestCounter to 70
1335795317574: ----------------------------
1335795317574: inside sendRequestPacketRepeatingRunnable for requestCount = 5018070
1335795317575: I'm a leader, my requesting photos packet going to mux directly
1335795317575: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795317575: got new request, requestCounter = 5018070
1335795317575: inside handleClientRequest. Originator leader of region 5
1335795317575: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795317575: mux: Inside mux Packet.CLIENT_REQUEST
1335795317576: Sending PROC_REQUEST 11:6 (5,0)->(4,0)
1335795317576: Sending to region: 4
1335795317577: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(4,0)
1335795317577: Make FirstLeg Ack regardless of new or already-processed requests
1335795317577: Note down new request by adding requestCounter=5018070 to HashMap processedRequests
1335795317577: mux: I got a CSM packet at a leader 
1335795317577: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795317578: Received UDP payload: 989
1335795317580: Sending UDP payload: 989
1335795317582: forwarding disabled, not forwarding packets
1335795317582: forwarding disabled, not forwarding packets
1335795317582: mux: GOT CSM_Msg
1335795317583: --- Finished one round of sending REQUEST Packet ---------
1335795317591: Received UDP payload: 989
1335795317593: forwarding disabled, not forwarding packets
1335795317593: mux: GOT CSM_Msg
1335795317604: Received UDP payload: 989
1335795317606: forwarding disabled, not forwarding packets
1335795317606: mux: GOT CSM_Msg
1335795317620: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795317625: Received UDP payload: 446
1335795317706: Received UDP payload: 989
1335795317708: forwarding disabled, not forwarding packets
1335795317708: mux: GOT CSM_Msg
1335795317763: Received UDP payload: 989
1335795317765: forwarding disabled, not forwarding packets
1335795317765: mux: GOT CSM_Msg
1335795317778: Received UDP payload: 989
1335795317780: forwarding disabled, not forwarding packets
1335795317780: mux: GOT CSM_Msg
1335795317856: Received UDP payload: 989
1335795317858: forwarding disabled, not forwarding packets
1335795317858: mux: GOT CSM_Msg
1335795317879: Received UDP payload: 989
1335795317883: forwarding disabled, not forwarding packets
1335795317883: mux: GOT CSM_Msg
1335795317965: Received UDP payload: 989
1335795317967: forwarding disabled, not forwarding packets
1335795317967: mux: GOT CSM_Msg
1335795318061: Received UDP payload: 989
1335795318064: forwarding disabled, not forwarding packets
1335795318064: mux: GOT CSM_Msg
1335795318257: Received UDP payload: 989
1335795318260: mux: GOT CSM_Msg
1335795318261: forwarding disabled, not forwarding packets
1335795318330: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(4,0)
1335795318330: Retrying PROC_REQUEST 11:6 (5,0)->(4,0)
1335795318330: mux: I got a CSM packet at a leader 
1335795318331: Sending UDP payload: 989
1335795318332: forwarding disabled, not forwarding packets
1335795318390: Received UDP payload: 989
1335795318393: forwarding disabled, not forwarding packets
1335795318393: mux: GOT CSM_Msg
1335795318431: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(4,0)
1335795318431: Retrying PROC_REQUEST 11:6 (5,0)->(4,0)
1335795318431: mux: I got a CSM packet at a leader 
1335795318432: Sending UDP payload: 989
1335795318433: forwarding disabled, not forwarding packets
1335795318531: Retrying PROC_REQUEST 11:6 (5,0)->(4,0)
1335795318532: Dispatching Atom PROC_REQUEST 11:6 (5,0)->(4,0)
1335795318532: mux: I got a CSM packet at a leader 
1335795318533: Sending UDP payload: 989
1335795318535: forwarding disabled, not forwarding packets
1335795318561: Received UDP payload: 6017
1335795318563: mux: GOT CSM_Msg
1335795318564: DSM layer: Going to and from remote region took latency = 988
1335795318564: DSM layer: orig leader sent packet at 1335795317576 ~ received reply from remote leader at 1335795318564
1335795318564: Received PROC_REPLY 11:6 (4,0)->(5,0), handing to UserApp
1335795318564: inside handleDSMReply. Now back in originator leader of region 5
1335795318565: =======================
1335795318565: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795318565: change leader replyCounter to: 24
1335795318565: inside sendReplies of replyCount = 501800024
1335795318565: reply packet contains the newest photo/success info from the remote region
1335795318566: === Finished one round of sending REPLY Packet =======
1335795318566: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795318566: Leader about to send REPLY packet, number: 501800024 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795318566: inside sendReplyRepeatingRunnable for replyCount = 501800024
1335795318567: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795318567: disabling progressdialog due to successful new photo get
1335795318568: Inside _enableButtons
1335795318568: areButtonsEnabled --> true
1335795318568: inside finalLegAck: change requestCounter to 71
1335795318568: send final leg ack regardless of new or already-processed reply
1335795318569: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018071 Client in region: (5,0) Client nodID: 5018
1335795318569: I'm a leader client, my final_leg packet going to mux directly
1335795318570: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800024
1335795318570: Yay the last leg succeeded. Removing reply runnables ...
1335795318570: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800024
1335795318570: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800024
1335795318570: got new request, requestCounter = 5018071
1335795318570: inside handleClientRequest. Originator leader of region 5
1335795318570: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795318570: mux: Inside mux Packet.CLIENT_REQUEST
1335795318571: do not send ack for received final_leg_ack
1335795318571: new client_show_remotephoto reply with replyCounter 501800024
1335795318571: note down new reply by adding replyCounter=501800024 to HashMap processedReplies
1335795318572: = leader download start 1335795317575 ~ stop 1335795318567
1335795318572: leader download remote photo latency = 992
1335795318573: one more getGood: 16
1335795318574: Remote photo's length: 5006
1335795318574: Success! Client getting photo from remote region, showing photo...
1335795318574: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=28 getGood=16 getBad=5 getTimedout=3 getPercent=57%
1335795318574: successful reply for client get photo
1335795318619: Received UDP payload: 989
1335795318639: Received UDP payload: 989
1335795318639: forwarding disabled, not forwarding packets
1335795318639: mux: GOT CSM_Msg
1335795318642: Received UDP payload: 989
1335795318642: forwarding disabled, not forwarding packets
1335795318642: mux: GOT CSM_Msg
1335795318644: forwarding disabled, not forwarding packets
1335795318644: mux: GOT CSM_Msg
1335795318646: Received UDP payload: 989
1335795318648: forwarding disabled, not forwarding packets
1335795318648: mux: GOT CSM_Msg
1335795318934: Received UDP payload: 989
1335795318936: mux: GOT CSM_Msg
1335795318937: forwarding disabled, not forwarding packets
1335795319206: Received UDP payload: 5112
1335795319218: mux: GOT CSM_Msg
1335795319220: Received DUPLICATE PROC_REPLY 11:1 (0,0)->(5,0)
1335795320047: Received UDP payload: 446
1335795320056: Received UDP payload: 446
1335795320064: Received UDP payload: 446
1335795320078: Received UDP payload: 446
1335795320561: inside sendPacket(Packet p)
1335795320580: Received UDP payload: 5112
1335795320610: Sending UDP payload: 446
1335795320626: Received DUPLICATE PROC_REPLY 11:1 (0,0)->(5,0)
1335795320626: mux: GOT CSM_Msg
1335795320653: Received UDP payload: 446
1335795320949: Received UDP payload: 6264
1335795320951: forwarding disabled, not forwarding packets
1335795320951: mux: GOT CSM_Msg
1335795321055: Received UDP payload: 446
1335795321100: Received UDP payload: 446
1335795321322: Received UDP payload: 446
1335795321356: Received UDP payload: 446
1335795321487: Received UDP payload: 6017
1335795321496: mux: GOT CSM_Msg
1335795321497: Received DUPLICATE PROC_REPLY 11:6 (4,0)->(5,0)
1335795321795: Received UDP payload: 19224
1335795322840: Received UDP payload: 446
1335795323214: areButtonsEnabled --> false 
1335795323214: canPressButton = TRUE
1335795323215: areButtonsEnabled --> false
1335795323215: get picture disableButtonsR
1335795323237: one more getNum: 29
1335795323238: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=29 getGood=16 getBad=5 getTimedout=3 getPercent=55%
1335795323239: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335795323239: change local requestCounter to 72
1335795323243: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018072 Client in region: 5 Client nodID: 5018
1335795323274: ----------------------------
1335795323274: I'm a leader, my requesting photos packet going to mux directly
1335795323274: inside sendRequestPacketRepeatingRunnable for requestCount = 5018072
1335795323275: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795323275: got new request, requestCounter = 5018072
1335795323275: inside handleClientRequest. Originator leader of region 5
1335795323275: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795323275: mux: Inside mux Packet.CLIENT_REQUEST
1335795323277: Sending to region: 2
1335795323278: Sending PROC_REQUEST 11:4 (5,0)->(2,0)
1335795323279: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795323279: Make FirstLeg Ack regardless of new or already-processed requests
1335795323279: Note down new request by adding requestCounter=5018072 to HashMap processedRequests
1335795323279: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795323280: mux: I got a CSM packet at a leader 
1335795323282: Sending UDP payload: 989
1335795323283: --- Finished one round of sending REQUEST Packet ---------
1335795323286: forwarding disabled, not forwarding packets
1335795323320: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795323350: Received UDP payload: 6264
1335795323352: mux: GOT CSM_Msg
1335795323353: forwarding disabled, not forwarding packets
1335795324062: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324062: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324063: mux: I got a CSM packet at a leader 
1335795324064: Sending UDP payload: 989
1335795324065: forwarding disabled, not forwarding packets
1335795324073: Received UDP payload: 6264
1335795324076: forwarding disabled, not forwarding packets
1335795324076: mux: GOT CSM_Msg
1335795324163: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324163: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324164: mux: I got a CSM packet at a leader 
1335795324165: Sending UDP payload: 989
1335795324166: forwarding disabled, not forwarding packets
1335795324179: Received UDP payload: 6264
1335795324182: forwarding disabled, not forwarding packets
1335795324182: mux: GOT CSM_Msg
1335795324264: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324264: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324265: mux: I got a CSM packet at a leader 
1335795324266: Sending UDP payload: 989
1335795324267: forwarding disabled, not forwarding packets
1335795324365: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324366: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324366: mux: I got a CSM packet at a leader 
1335795324368: Sending UDP payload: 989
1335795324369: forwarding disabled, not forwarding packets
1335795324467: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324467: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324468: mux: I got a CSM packet at a leader 
1335795324470: Sending UDP payload: 989
1335795324472: forwarding disabled, not forwarding packets
1335795324568: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324569: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324569: mux: I got a CSM packet at a leader 
1335795324572: Sending UDP payload: 989
1335795324573: forwarding disabled, not forwarding packets
1335795324622: Received UDP payload: 6264
1335795324626: forwarding disabled, not forwarding packets
1335795324626: mux: GOT CSM_Msg
1335795324670: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324671: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324671: mux: I got a CSM packet at a leader 
1335795324674: Sending UDP payload: 989
1335795324689: forwarding disabled, not forwarding packets
1335795324750: Received UDP payload: 446
1335795324771: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324772: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324772: mux: I got a CSM packet at a leader 
1335795324773: Sending UDP payload: 989
1335795324773: forwarding disabled, not forwarding packets
1335795324872: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324872: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324873: mux: I got a CSM packet at a leader 
1335795324874: Sending UDP payload: 989
1335795324874: forwarding disabled, not forwarding packets
1335795324973: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324973: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795324974: mux: I got a CSM packet at a leader 
1335795324975: Sending UDP payload: 989
1335795324975: forwarding disabled, not forwarding packets
1335795325052: Received UDP payload: 446
1335795325062: Received UDP payload: 446
1335795325072: Received UDP payload: 446
1335795325073: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795325074: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795325074: mux: I got a CSM packet at a leader 
1335795325076: Sending UDP payload: 989
1335795325077: forwarding disabled, not forwarding packets
1335795325174: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795325174: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795325174: mux: I got a CSM packet at a leader 
1335795325176: Sending UDP payload: 989
1335795325176: forwarding disabled, not forwarding packets
1335795325275: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795325275: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795325275: mux: I got a CSM packet at a leader 
1335795325277: Sending UDP payload: 989
1335795325278: forwarding disabled, not forwarding packets
1335795325362: Received UDP payload: 446
1335795325376: Retrying PROC_REQUEST 11:4 (5,0)->(2,0)
1335795325377: Dispatching Atom PROC_REQUEST 11:4 (5,0)->(2,0)
1335795325377: mux: I got a CSM packet at a leader 
1335795325378: Sending UDP payload: 989
1335795325379: forwarding disabled, not forwarding packets
1335795325477: DSM Layer: Request timed out, send failure PROC_REPLY 11:4 (2,0)->(5,0)
1335795325478: Dispatching Atom PROC_REPLY 11:4 (2,0)->(5,0)
1335795325478: mux: I got a CSM packet at a leader 
1335795325480: Sending UDP payload: 989
1335795325482: DSM layer timed out, don't log dsm layer latency stuff.
1335795325482: Received PROC_REPLY 11:4 (2,0)->(5,0), handing to UserApp
1335795325482: inside handleDSMReply. Now back in originator leader of region 5
1335795325483: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795325483: change leader replyCounter to: 25
1335795325483: reply packet contains the newest photo/success info from the remote region
1335795325484: =======================
1335795325484: Leader about to send REPLY packet, number: 501800025 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795325484: inside sendReplies of replyCount = 501800025
1335795325484: inside sendReplyRepeatingRunnable for replyCount = 501800025
1335795325485: === Finished one round of sending REPLY Packet =======
1335795325485: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795325486: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795325487: Inside _enableButtons
1335795325487: areButtonsEnabled --> true
1335795325487: disabling progressdialog due to successful new photo get
1335795325488: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018073 Client in region: (5,0) Client nodID: 5018
1335795325488: inside finalLegAck: change requestCounter to 73
1335795325488: send final leg ack regardless of new or already-processed reply
1335795325489: I'm a leader client, my final_leg packet going to mux directly
1335795325489: mux: Inside mux Packet.CLIENT_REQUEST
1335795325490: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800025
1335795325490: Yay the last leg succeeded. Removing reply runnables ...
1335795325490: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800025
1335795325490: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800025
1335795325490: do not send ack for received final_leg_ack
1335795325490: got new request, requestCounter = 5018073
1335795325490: inside handleClientRequest. Originator leader of region 5
1335795325490: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795325491: leader download remote photo latency = 2211
1335795325491: new client_show_remotephoto reply with replyCounter 501800025
1335795325491: note down new reply by adding replyCounter=501800025 to HashMap processedReplies
1335795325492: = leader download start 1335795323275 ~ stop 1335795325486
1335795325493: Can't get remote photo, because DSM Layer on originator leader timed out
1335795325498: one more getBad: 6
1335795325499: getBad++
1335795325499: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=29 getGood=16 getBad=6 getTimedout=3 getPercent=55%
1335795325501: Received UDP payload: 446
1335795325579: inside sendPacket(Packet p)
1335795325581: Sending UDP payload: 446
1335795325853: Received UDP payload: 446
1335795326027: Received UDP payload: 6264
1335795326029: forwarding disabled, not forwarding packets
1335795326029: mux: GOT CSM_Msg
1335795326109: Received UDP payload: 6264
1335795326111: forwarding disabled, not forwarding packets
1335795326111: mux: GOT CSM_Msg
1335795326286: Received UDP payload: 6264
1335795326289: mux: GOT CSM_Msg
1335795326290: forwarding disabled, not forwarding packets
1335795326369: Received UDP payload: 6264
1335795326371: mux: GOT CSM_Msg
1335795326372: forwarding disabled, not forwarding packets
1335795326461: Received UDP payload: 6264
1335795326464: forwarding disabled, not forwarding packets
1335795326464: mux: GOT CSM_Msg
1335795326544: Received UDP payload: 6264
1335795326547: forwarding disabled, not forwarding packets
1335795326547: mux: GOT CSM_Msg
1335795326647: Received UDP payload: 6264
1335795326649: mux: GOT CSM_Msg
1335795326650: forwarding disabled, not forwarding packets
1335795326791: Received UDP payload: 6264
1335795326798: forwarding disabled, not forwarding packets
1335795326798: mux: GOT CSM_Msg
1335795326806: Received UDP payload: 446
1335795326817: Received UDP payload: 446
1335795327088: Received UDP payload: 446
1335795327115: Received UDP payload: 989
1335795327118: forwarding disabled, not forwarding packets
1335795327118: mux: GOT CSM_Msg
1335795327120: Received UDP payload: 446
1335795327322: Received UDP payload: 6264
1335795327325: forwarding disabled, not forwarding packets
1335795327325: mux: GOT CSM_Msg
1335795327384: Received UDP payload: 989
1335795327387: forwarding disabled, not forwarding packets
1335795327387: mux: GOT CSM_Msg
1335795327398: Received UDP payload: 989
1335795327402: forwarding disabled, not forwarding packets
1335795327402: mux: GOT CSM_Msg
1335795327572: Received UDP payload: 446
1335795327705: Received UDP payload: 6264
1335795327712: forwarding disabled, not forwarding packets
1335795327712: mux: GOT CSM_Msg
1335795328122: Received UDP payload: 989
1335795328128: forwarding disabled, not forwarding packets
1335795328128: mux: GOT CSM_Msg
1335795328748: Received UDP payload: 989
1335795328754: forwarding disabled, not forwarding packets
1335795328754: mux: GOT CSM_Msg
1335795328762: Received UDP payload: 989
1335795328769: forwarding disabled, not forwarding packets
1335795328769: mux: GOT CSM_Msg
1335795328802: Received UDP payload: 989
1335795328804: forwarding disabled, not forwarding packets
1335795328804: mux: GOT CSM_Msg
1335795328830: Received UDP payload: 989
1335795328832: forwarding disabled, not forwarding packets
1335795328832: mux: GOT CSM_Msg
1335795328844: Received UDP payload: 989
1335795328846: forwarding disabled, not forwarding packets
1335795328846: mux: GOT CSM_Msg
1335795328855: Received UDP payload: 989
1335795328857: forwarding disabled, not forwarding packets
1335795328857: mux: GOT CSM_Msg
1335795328871: Received UDP payload: 989
1335795328873: forwarding disabled, not forwarding packets
1335795328873: mux: GOT CSM_Msg
1335795328993: Received UDP payload: 989
1335795329005: mux: GOT CSM_Msg
1335795329006: forwarding disabled, not forwarding packets
1335795329027: Received UDP payload: 989
1335795329030: forwarding disabled, not forwarding packets
1335795329030: mux: GOT CSM_Msg
1335795329037: Received UDP payload: 446
1335795329078: Received UDP payload: 6264
1335795329080: forwarding disabled, not forwarding packets
1335795329080: mux: GOT CSM_Msg
1335795329105: Received UDP payload: 989
1335795329107: forwarding disabled, not forwarding packets
1335795329107: mux: GOT CSM_Msg
1335795329308: Received UDP payload: 6264
1335795329310: forwarding disabled, not forwarding packets
1335795329310: mux: GOT CSM_Msg
1335795329442: Received UDP payload: 6264
1335795329444: forwarding disabled, not forwarding packets
1335795329444: mux: GOT CSM_Msg
1335795329538: Received UDP payload: 6264
1335795329540: forwarding disabled, not forwarding packets
1335795329540: mux: GOT CSM_Msg
1335795330040: Received UDP payload: 5112
1335795330050: forwarding disabled, not forwarding packets
1335795330050: mux: GOT CSM_Msg
1335795330161: areButtonsEnabled --> false 
1335795330161: canPressButton = TRUE
1335795330162: areButtonsEnabled --> false
1335795330162: get picture disableButtonsR
1335795330175: one more getNum: 30
1335795330176: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=30 getGood=16 getBad=6 getTimedout=3 getPercent=53%
1335795330177: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335795330177: change local requestCounter to 74
1335795330179: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018074 Client in region: 5 Client nodID: 5018
1335795330209: ----------------------------
1335795330210: I'm a leader, my requesting photos packet going to mux directly
1335795330210: inside handleClientRequest. Originator leader of region 5
1335795330210: inside sendRequestPacketRepeatingRunnable for requestCount = 5018074
1335795330210: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795330210: mux: Inside mux Packet.CLIENT_REQUEST
1335795330211: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795330211: got new request, requestCounter = 5018074
1335795330212: Sending to region: 0
1335795330214: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795330214: Make FirstLeg Ack regardless of new or already-processed requests
1335795330214: Note down new request by adding requestCounter=5018074 to HashMap processedRequests
1335795330214: Sending PROC_REQUEST 11:2 (5,0)->(0,0)
1335795330214: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795330215: mux: I got a CSM packet at a leader 
1335795330219: --- Finished one round of sending REQUEST Packet ---------
1335795330225: Sending UDP payload: 989
1335795330227: forwarding disabled, not forwarding packets
1335795330279: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795330541: Received UDP payload: 446
1335795330580: inside sendPacket(Packet p)
1335795330582: Sending UDP payload: 446
1335795331008: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331008: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331008: mux: I got a CSM packet at a leader 
1335795331010: Sending UDP payload: 989
1335795331010: forwarding disabled, not forwarding packets
1335795331017: Received UDP payload: 446
1335795331066: Received UDP payload: 625
1335795331067: mux: Inside mux Packet.CLIENT_REQUEST
1335795331081: Received UDP payload: 625
1335795331083: mux: Inside mux Packet.CLIENT_REQUEST
1335795331109: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331109: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331110: mux: I got a CSM packet at a leader 
1335795331111: Sending UDP payload: 989
1335795331111: forwarding disabled, not forwarding packets
1335795331126: Received UDP payload: 989
1335795331128: forwarding disabled, not forwarding packets
1335795331128: mux: GOT CSM_Msg
1335795331138: Received UDP payload: 446
1335795331139: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795331139: mux: Inside Packet.SERVER_REPLY
1335795331210: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331210: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331210: mux: I got a CSM packet at a leader 
1335795331212: Sending UDP payload: 989
1335795331212: forwarding disabled, not forwarding packets
1335795331289: Received UDP payload: 6264
1335795331291: forwarding disabled, not forwarding packets
1335795331291: mux: GOT CSM_Msg
1335795331312: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331312: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331313: mux: I got a CSM packet at a leader 
1335795331314: Sending UDP payload: 989
1335795331314: forwarding disabled, not forwarding packets
1335795331413: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331413: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331413: mux: I got a CSM packet at a leader 
1335795331415: Sending UDP payload: 989
1335795331415: forwarding disabled, not forwarding packets
1335795331508: Received UDP payload: 5112
1335795331513: mux: GOT CSM_Msg
1335795331514: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331514: forwarding disabled, not forwarding packets
1335795331515: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331515: mux: I got a CSM packet at a leader 
1335795331518: Sending UDP payload: 989
1335795331518: forwarding disabled, not forwarding packets
1335795331619: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331619: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331619: mux: I got a CSM packet at a leader 
1335795331621: Sending UDP payload: 989
1335795331621: forwarding disabled, not forwarding packets
1335795331720: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331720: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331721: mux: I got a CSM packet at a leader 
1335795331722: Sending UDP payload: 989
1335795331723: forwarding disabled, not forwarding packets
1335795331821: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331822: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331822: mux: I got a CSM packet at a leader 
1335795331823: Sending UDP payload: 989
1335795331827: forwarding disabled, not forwarding packets
1335795331922: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331923: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795331923: mux: I got a CSM packet at a leader 
1335795331924: Sending UDP payload: 989
1335795331925: forwarding disabled, not forwarding packets
1335795332022: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795332023: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795332023: mux: I got a CSM packet at a leader 
1335795332024: Sending UDP payload: 989
1335795332028: forwarding disabled, not forwarding packets
1335795332124: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795332124: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795332124: mux: I got a CSM packet at a leader 
1335795332126: Sending UDP payload: 989
1335795332127: forwarding disabled, not forwarding packets
1335795332225: Retrying PROC_REQUEST 11:2 (5,0)->(0,0)
1335795332226: Dispatching Atom PROC_REQUEST 11:2 (5,0)->(0,0)
1335795332226: mux: I got a CSM packet at a leader 
1335795332228: Sending UDP payload: 989
1335795332233: forwarding disabled, not forwarding packets
1335795332243: Received UDP payload: 446
1335795332314: Received UDP payload: 3941
1335795332316: mux: GOT CSM_Msg
1335795332317: forwarding disabled, not forwarding packets
1335795332328: DSM Layer: Request timed out, send failure PROC_REPLY 11:2 (0,0)->(5,0)
1335795332328: Dispatching Atom PROC_REPLY 11:2 (0,0)->(5,0)
1335795332329: mux: I got a CSM packet at a leader 
1335795332330: Sending UDP payload: 989
1335795332333: DSM layer timed out, don't log dsm layer latency stuff.
1335795332333: Received PROC_REPLY 11:2 (0,0)->(5,0), handing to UserApp
1335795332333: inside handleDSMReply. Now back in originator leader of region 5
1335795332334: =======================
1335795332334: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795332334: change leader replyCounter to: 26
1335795332334: inside sendReplies of replyCount = 501800026
1335795332334: inside sendReplyRepeatingRunnable for replyCount = 501800026
1335795332334: reply packet contains the newest photo/success info from the remote region
1335795332335: === Finished one round of sending REPLY Packet =======
1335795332335: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795332335: Leader about to send REPLY packet, number: 501800026 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795332336: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795332336: Inside _enableButtons
1335795332336: disabling progressdialog due to successful new photo get
1335795332337: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018075 Client in region: (5,0) Client nodID: 5018
1335795332337: I'm a leader client, my final_leg packet going to mux directly
1335795332337: areButtonsEnabled --> true
1335795332337: inside finalLegAck: change requestCounter to 75
1335795332337: send final leg ack regardless of new or already-processed reply
1335795332338: inside handleClientRequest. Originator leader of region 5
1335795332338: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795332338: mux: Inside mux Packet.CLIENT_REQUEST
1335795332339: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800026
1335795332339: Yay the last leg succeeded. Removing reply runnables ...
1335795332339: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800026
1335795332339: got new request, requestCounter = 5018075
1335795332340: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800026
1335795332340: do not send ack for received final_leg_ack
1335795332340: new client_show_remotephoto reply with replyCounter 501800026
1335795332341: = leader download start 1335795330210 ~ stop 1335795332336
1335795332341: leader download remote photo latency = 2126
1335795332341: note down new reply by adding replyCounter=501800026 to HashMap processedReplies
1335795332342: Can't get remote photo, because DSM Layer on originator leader timed out
1335795332345: one more getBad: 7
1335795332346: getBad++
1335795332346: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=30 getGood=16 getBad=7 getTimedout=3 getPercent=53%
1335795332426: Received UDP payload: 989
1335795332428: forwarding disabled, not forwarding packets
1335795332428: mux: GOT CSM_Msg
1335795332651: Received UDP payload: 446
1335795332922: Received UDP payload: 3731
1335795332927: mux: Inside mux Packet.CLIENT_REQUEST
1335795333129: Received UDP payload: 463
1335795333138: Received UDP payload: 446
1335795333463: Received UDP payload: 3731
1335795333465: mux: Inside mux Packet.CLIENT_REQUEST
1335795333624: Received UDP payload: 989
1335795333634: forwarding disabled, not forwarding packets
1335795333634: mux: GOT CSM_Msg
1335795334014: Received UDP payload: 3941
1335795334021: mux: GOT CSM_Msg
1335795334022: forwarding disabled, not forwarding packets
1335795335224: Received UDP payload: 5917
1335795335229: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795335229: mux: Inside Packet.SERVER_REPLY
1335795335424: Received UDP payload: 446
1335795335428: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795335428: mux: Inside Packet.SERVER_REPLY
1335795335504: Received UDP payload: 989
1335795335510: mux: GOT CSM_Msg
1335795335511: forwarding disabled, not forwarding packets
1335795335514: Received UDP payload: 642
1335795335519: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795335519: mux: Inside Packet.SERVER_REPLY
1335795335581: inside sendPacket(Packet p)
1335795335584: Sending UDP payload: 446
1335795335638: Received UDP payload: 446
1335795335646: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1335795335750: inside sendPacket(Packet p)
1335795335762: Sending UDP payload: 34692
1335795336330: Received UDP payload: 5917
1335795336332: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795336332: mux: Inside Packet.SERVER_REPLY
1335795336416: Received UDP payload: 642
1335795336418: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795336418: mux: Inside Packet.SERVER_REPLY
1335795336444: Received UDP payload: 463
1335795336449: Received UDP payload: 446
1335795337024: Received UDP payload: 4502
1335795337028: mux: Inside mux Packet.CLIENT_REQUEST
1335795337100: Received UDP payload: 4502
1335795337104: mux: Inside mux Packet.CLIENT_REQUEST
1335795337160: Received UDP payload: 4502
1335795337164: mux: Inside mux Packet.CLIENT_REQUEST
1335795337978: Received UDP payload: 5112
1335795337985: mux: GOT CSM_Msg
1335795337986: forwarding disabled, not forwarding packets
1335795338019: Received UDP payload: 989
1335795338034: forwarding disabled, not forwarding packets
1335795338034: mux: GOT CSM_Msg
1335795338059: Received UDP payload: 5112
1335795338067: mux: GOT CSM_Msg
1335795338068: forwarding disabled, not forwarding packets
1335795338080: Received UDP payload: 989
1335795338088: forwarding disabled, not forwarding packets
1335795338088: mux: GOT CSM_Msg
1335795338153: Received UDP payload: 989
1335795338160: forwarding disabled, not forwarding packets
1335795338160: mux: GOT CSM_Msg
1335795338282: Received UDP payload: 989
1335795338284: forwarding disabled, not forwarding packets
1335795338284: mux: GOT CSM_Msg
1335795338293: Received UDP payload: 989
1335795338295: forwarding disabled, not forwarding packets
1335795338295: mux: GOT CSM_Msg
1335795338304: Received UDP payload: 989
1335795338307: forwarding disabled, not forwarding packets
1335795338307: mux: GOT CSM_Msg
1335795338384: Received UDP payload: 989
1335795338386: forwarding disabled, not forwarding packets
1335795338386: mux: GOT CSM_Msg
1335795338409: Received UDP payload: 989
1335795338411: mux: GOT CSM_Msg
1335795338412: forwarding disabled, not forwarding packets
1335795338481: Received UDP payload: 5112
1335795338484: forwarding disabled, not forwarding packets
1335795338484: mux: GOT CSM_Msg
1335795338572: Received UDP payload: 5112
1335795338574: forwarding disabled, not forwarding packets
1335795338574: mux: GOT CSM_Msg
1335795338590: Received UDP payload: 989
1335795338592: forwarding disabled, not forwarding packets
1335795338592: mux: GOT CSM_Msg
1335795338608: Received UDP payload: 989
1335795338610: forwarding disabled, not forwarding packets
1335795338610: mux: GOT CSM_Msg
1335795338650: Received UDP payload: 989
1335795338652: forwarding disabled, not forwarding packets
1335795338652: mux: GOT CSM_Msg
1335795339249: Received UDP payload: 5112
1335795339251: forwarding disabled, not forwarding packets
1335795339251: mux: GOT CSM_Msg
1335795339643: Received UDP payload: 4983
1335795339648: mux: Inside mux Packet.CLIENT_REQUEST
1335795339672: canPressButton = TRUE
1335795339673: areButtonsEnabled --> false
1335795339673: areButtonsEnabled --> false 
1335795339673: get picture disableButtonsR
1335795339699: one more getNum: 31
1335795339700: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795339700: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=31 getGood=16 getBad=7 getTimedout=3 getPercent=51%
1335795339701: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018076 Client in region: 5 Client nodID: 5018
1335795339701: change local requestCounter to 76
1335795339732: ----------------------------
1335795339732: I'm a leader, my requesting photos packet going to mux directly
1335795339732: inside sendRequestPacketRepeatingRunnable for requestCount = 5018076
1335795339733: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795339733: got new request, requestCounter = 5018076
1335795339733: inside handleClientRequest. Originator leader of region 5
1335795339733: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795339733: mux: Inside mux Packet.CLIENT_REQUEST
1335795339734: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795339734: Sending PROC_REQUEST 11:7 (5,0)->(4,0)
1335795339734: Sending to region: 4
1335795339735: Make FirstLeg Ack regardless of new or already-processed requests
1335795339735: Note down new request by adding requestCounter=5018076 to HashMap processedRequests
1335795339735: mux: I got a CSM packet at a leader 
1335795339735: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795339738: Sending UDP payload: 989
1335795339739: --- Finished one round of sending REQUEST Packet ---------
1335795339739: forwarding disabled, not forwarding packets
1335795339781: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795339825: Received UDP payload: 5112
1335795339827: forwarding disabled, not forwarding packets
1335795339827: mux: GOT CSM_Msg
1335795339984: Received UDP payload: 4983
1335795339986: mux: Inside mux Packet.CLIENT_REQUEST
1335795340110: Received UDP payload: 5112
1335795340113: forwarding disabled, not forwarding packets
1335795340113: mux: GOT CSM_Msg
1335795340190: Received UDP payload: 446
1335795340228: Received UDP payload: 446
1335795340267: Received UDP payload: 4983
1335795340270: mux: Inside mux Packet.CLIENT_REQUEST
1335795340380: Received UDP payload: 5214
1335795340382: mux: GOT CSM_Msg
1335795340383: forwarding disabled, not forwarding packets
1335795340408: Received UDP payload: 446
1335795340418: Received UDP payload: 446
1335795340424: Received UDP payload: 446
1335795340524: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795340524: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795340524: mux: I got a CSM packet at a leader 
1335795340525: Sending UDP payload: 989
1335795340526: forwarding disabled, not forwarding packets
1335795340581: inside sendPacket(Packet p)
1335795340582: Sending UDP payload: 446
1335795340625: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795340625: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795340625: mux: I got a CSM packet at a leader 
1335795340627: Sending UDP payload: 989
1335795340627: forwarding disabled, not forwarding packets
1335795340726: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795340726: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795340726: mux: I got a CSM packet at a leader 
1335795340728: Sending UDP payload: 989
1335795340728: forwarding disabled, not forwarding packets
1335795340762: Received UDP payload: 625
1335795340763: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795340763: mux: Inside mux Packet.CLIENT_REQUEST
1335795340764: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795340764: Sending to region: 3
1335795340764: got new request, requestCounter = 5013045
1335795340764: inside handleClientRequest. Originator leader of region 5
1335795340765: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795340765: Make FirstLeg Ack regardless of new or already-processed requests
1335795340765: Note down new request by adding requestCounter=5013045 to HashMap processedRequests
1335795340765: Sending PROC_REQUEST 11:7 (5,0)->(3,0)
1335795340765: The leader sending a First Leg ack to originator client (which id = 5013)
1335795340766: inside sendPacket(Packet p)
1335795340766: mux: I got a CSM packet at a leader 
1335795340767: Sending UDP payload: 989
1335795340768: forwarding disabled, not forwarding packets
1335795340769: Sending UDP payload: 446
1335795340799: Received UDP payload: 446
1335795340809: Received UDP payload: 446
1335795340827: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795340827: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795340828: mux: I got a CSM packet at a leader 
1335795340829: Sending UDP payload: 989
1335795340829: forwarding disabled, not forwarding packets
1335795340928: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795340928: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795340929: mux: I got a CSM packet at a leader 
1335795340930: Sending UDP payload: 989
1335795340932: forwarding disabled, not forwarding packets
1335795341030: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341031: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341033: mux: I got a CSM packet at a leader 
1335795341038: Sending UDP payload: 989
1335795341043: forwarding disabled, not forwarding packets
1335795341139: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341139: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341140: mux: I got a CSM packet at a leader 
1335795341141: Sending UDP payload: 989
1335795341142: forwarding disabled, not forwarding packets
1335795341240: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341240: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341241: mux: I got a CSM packet at a leader 
1335795341242: Sending UDP payload: 989
1335795341243: forwarding disabled, not forwarding packets
1335795341341: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341341: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341341: mux: I got a CSM packet at a leader 
1335795341343: Sending UDP payload: 989
1335795341343: forwarding disabled, not forwarding packets
1335795341442: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341442: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341442: mux: I got a CSM packet at a leader 
1335795341443: Sending UDP payload: 989
1335795341444: forwarding disabled, not forwarding packets
1335795341543: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795341543: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341543: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795341543: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341544: mux: I got a CSM packet at a leader 
1335795341545: Sending UDP payload: 989
1335795341545: forwarding disabled, not forwarding packets
1335795341545: mux: I got a CSM packet at a leader 
1335795341546: Sending UDP payload: 989
1335795341547: forwarding disabled, not forwarding packets
1335795341644: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341644: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341645: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795341645: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795341646: mux: I got a CSM packet at a leader 
1335795341647: Sending UDP payload: 989
1335795341648: forwarding disabled, not forwarding packets
1335795341648: mux: I got a CSM packet at a leader 
1335795341651: Sending UDP payload: 989
1335795341656: forwarding disabled, not forwarding packets
1335795341746: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341746: Retrying PROC_REQUEST 11:7 (5,0)->(4,0)
1335795341747: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795341747: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795341747: mux: I got a CSM packet at a leader 
1335795341750: Sending UDP payload: 989
1335795341752: forwarding disabled, not forwarding packets
1335795341752: mux: I got a CSM packet at a leader 
1335795341754: Sending UDP payload: 989
1335795341756: forwarding disabled, not forwarding packets
1335795341848: DSM Layer: Request timed out, send failure PROC_REPLY 11:7 (4,0)->(5,0)
1335795341848: Dispatching Atom PROC_REPLY 11:7 (4,0)->(5,0)
1335795341849: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795341849: mux: I got a CSM packet at a leader 
1335795341850: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795341852: Sending UDP payload: 989
1335795341853: Received PROC_REPLY 11:7 (4,0)->(5,0), handing to UserApp
1335795341853: inside handleDSMReply. Now back in originator leader of region 5
1335795341854: DSM layer timed out, don't log dsm layer latency stuff.
1335795341855: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795341855: change leader replyCounter to: 27
1335795341855: inside sendReplies of replyCount = 501800027
1335795341855: reply packet contains the newest photo/success info from the remote region
1335795341856: =======================
1335795341856: Leader about to send REPLY packet, number: 501800027 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795341856: inside sendReplyRepeatingRunnable for replyCount = 501800027
1335795341856: mux: I got a CSM packet at a leader 
1335795341857: === Finished one round of sending REPLY Packet =======
1335795341857: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795341858: Sending UDP payload: 989
1335795341859: forwarding disabled, not forwarding packets
1335795341872: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795341873: Inside _enableButtons
1335795341873: disabling progressdialog due to successful new photo get
1335795341874: areButtonsEnabled --> true
1335795341874: send final leg ack regardless of new or already-processed reply
1335795341875: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018077 Client in region: (5,0) Client nodID: 5018
1335795341875: inside finalLegAck: change requestCounter to 77
1335795341876: I'm a leader client, my final_leg packet going to mux directly
1335795341876: inside handleClientRequest. Originator leader of region 5
1335795341876: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795341876: mux: Inside mux Packet.CLIENT_REQUEST
1335795341876: new client_show_remotephoto reply with replyCounter 501800027
1335795341876: note down new reply by adding replyCounter=501800027 to HashMap processedReplies
1335795341877: = leader download start 1335795339732 ~ stop 1335795341872
1335795341877: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800027
1335795341877: Yay the last leg succeeded. Removing reply runnables ...
1335795341877: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800027
1335795341877: got new request, requestCounter = 5018077
1335795341877: leader download remote photo latency = 2140
1335795341878: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800027
1335795341878: do not send ack for received final_leg_ack
1335795341879: Can't get remote photo, because DSM Layer on originator leader timed out
1335795341883: one more getBad: 8
1335795341885: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=31 getGood=16 getBad=8 getTimedout=3 getPercent=51%
1335795341886: getBad++
1335795341951: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795341951: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795341951: mux: I got a CSM packet at a leader 
1335795341953: Sending UDP payload: 989
1335795341954: forwarding disabled, not forwarding packets
1335795342052: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342052: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342053: mux: I got a CSM packet at a leader 
1335795342055: Sending UDP payload: 989
1335795342056: forwarding disabled, not forwarding packets
1335795342152: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342153: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342155: mux: I got a CSM packet at a leader 
1335795342158: Sending UDP payload: 989
1335795342160: forwarding disabled, not forwarding packets
1335795342193: Received UDP payload: 625
1335795342198: mux: Inside mux Packet.CLIENT_REQUEST
1335795342199: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795342200: inside handleClientRequest. Originator leader of region 5
1335795342201: Note down new request by adding requestCounter=5013045 to HashMap processedRequests
1335795342201: discarding repeated requestCounter=5013045, but still send an ack back
1335795342202: Make FirstLeg Ack regardless of new or already-processed requests
1335795342202: The leader sending a First Leg ack to originator client (which id = 5013)
1335795342203: Received UDP payload: 625
1335795342203: inside sendPacket(Packet p)
1335795342218: Sending UDP payload: 446
1335795342219: Make FirstLeg Ack regardless of new or already-processed requests
1335795342219: Note down new request by adding requestCounter=5013045 to HashMap processedRequests
1335795342219: The leader sending a First Leg ack to originator client (which id = 5013)
1335795342219: discarding repeated requestCounter=5013045, but still send an ack back
1335795342219: inside handleClientRequest. Originator leader of region 5
1335795342219: inside sendPacket(Packet p)
1335795342219: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795342219: mux: Inside mux Packet.CLIENT_REQUEST
1335795342220: Sending UDP payload: 446
1335795342223: Received UDP payload: 625
1335795342225: Make FirstLeg Ack regardless of new or already-processed requests
1335795342225: Note down new request by adding requestCounter=5013045 to HashMap processedRequests
1335795342225: The leader sending a First Leg ack to originator client (which id = 5013)
1335795342225: discarding repeated requestCounter=5013045, but still send an ack back
1335795342225: inside handleClientRequest. Originator leader of region 5
1335795342225: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795342225: mux: Inside mux Packet.CLIENT_REQUEST
1335795342226: inside sendPacket(Packet p)
1335795342229: Sending UDP payload: 446
1335795342255: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342255: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342256: mux: I got a CSM packet at a leader 
1335795342257: Sending UDP payload: 989
1335795342257: forwarding disabled, not forwarding packets
1335795342356: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342356: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342357: mux: I got a CSM packet at a leader 
1335795342359: Sending UDP payload: 989
1335795342359: forwarding disabled, not forwarding packets
1335795342457: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342458: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342458: mux: I got a CSM packet at a leader 
1335795342459: Sending UDP payload: 989
1335795342460: forwarding disabled, not forwarding packets
1335795342558: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342559: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342561: mux: I got a CSM packet at a leader 
1335795342563: Sending UDP payload: 989
1335795342565: forwarding disabled, not forwarding packets
1335795342660: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342661: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342662: mux: I got a CSM packet at a leader 
1335795342666: Sending UDP payload: 989
1335795342668: forwarding disabled, not forwarding packets
1335795342763: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342763: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342764: mux: I got a CSM packet at a leader 
1335795342767: Sending UDP payload: 989
1335795342768: forwarding disabled, not forwarding packets
1335795342865: Dispatching Atom PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342865: Retrying PROC_REQUEST 11:7 (5,0)->(3,0)
1335795342866: mux: I got a CSM packet at a leader 
1335795342869: Sending UDP payload: 989
1335795342870: forwarding disabled, not forwarding packets
1335795342967: DSM Layer: Request timed out, send failure PROC_REPLY 11:7 (3,0)->(5,0)
1335795342967: Dispatching Atom PROC_REPLY 11:7 (3,0)->(5,0)
1335795342968: mux: I got a CSM packet at a leader 
1335795342972: Sending UDP payload: 989
1335795342974: DSM layer timed out, don't log dsm layer latency stuff.
1335795342974: Received PROC_REPLY 11:7 (3,0)->(5,0), handing to UserApp
1335795342974: inside handleDSMReply. Now back in originator leader of region 5
1335795342976: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795342976: change leader replyCounter to: 28
1335795342977: =======================
1335795342977: inside sendReplies of replyCount = 501800028
1335795342977: reply packet contains the newest photo/success info from the remote region
1335795342978: inside sendReplyRepeatingRunnable for replyCount = 501800028
1335795342979: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335795342979: Leader about to send REPLY packet, number: 501800028 type: 15 Leader in region: (5,0) to Client nodID: 5013
1335795342980: inside sendPacket(Packet p)
1335795342981: === Finished one round of sending REPLY Packet =======
1335795342984: Sending UDP payload: 642
1335795342995: Received UDP payload: 625
1335795342997: mux: Inside mux Packet.CLIENT_REQUEST
1335795343267: Received UDP payload: 625
1335795343272: mux: Inside mux Packet.CLIENT_REQUEST
1335795343282: =======================
1335795343283: Leader about to send REPLY packet, number: 501800028 type: 15 Leader in region: (5,0) to Client nodID: 5013
1335795343283: inside sendReplyRepeatingRunnable for replyCount = 501800028
1335795343284: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335795343284: inside sendPacket(Packet p)
1335795343285: === Finished one round of sending REPLY Packet =======
1335795343290: Sending UDP payload: 642
1335795343582: Received UDP payload: 625
1335795343586: =======================
1335795343586: mux: Inside mux Packet.CLIENT_REQUEST
1335795343587: Leader about to send REPLY packet, number: 501800028 type: 15 Leader in region: (5,0) to Client nodID: 5013
1335795343587: inside sendReplyRepeatingRunnable for replyCount = 501800028
1335795343588: === Finished one round of sending REPLY Packet =======
1335795343588: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335795343588: inside sendPacket(Packet p)
1335795343593: Sending UDP payload: 642
1335795343647: Received UDP payload: 446
1335795343861: Received UDP payload: 625
1335795343863: mux: Inside mux Packet.CLIENT_REQUEST
1335795343889: =======================
1335795343889: inside sendReplyRepeatingRunnable for replyCount = 501800028
1335795343890: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335795343890: Leader about to send REPLY packet, number: 501800028 type: 15 Leader in region: (5,0) to Client nodID: 5013
1335795343891: === Finished one round of sending REPLY Packet =======
1335795343891: inside sendPacket(Packet p)
1335795343894: Sending UDP payload: 642
1335795343955: Received UDP payload: 446
1335795343982: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800028
1335795343982: inside sendReplyTimeoutR
1335795344199: Received UDP payload: 446
1335795344258: Received UDP payload: 446
1335795344564: Received UDP payload: 446
1335795344568: mux: Inside mux Packet.CLIENT_REQUEST
1335795344570: inside handleClientRequest. Originator leader of region 5
1335795344570: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795344571: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800028
1335795344571: got new request, requestCounter = 5013046
1335795344572: Yay the last leg succeeded. Removing reply runnables ...
1335795344572: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800028
1335795344572: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501800028
1335795344573: do not send ack for received final_leg_ack
1335795344587: Received UDP payload: 446
1335795344598: Received UDP payload: 446
1335795344602: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795344602: mux: Inside mux Packet.CLIENT_REQUEST
1335795344603: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800028
1335795344603: got new request, requestCounter = 5013047
1335795344603: inside handleClientRequest. Originator leader of region 5
1335795344604: Yay the last leg succeeded. Removing reply runnables ...
1335795344604: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501800028
1335795344605: do not send ack for received final_leg_ack
1335795344605: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501800028
1335795344625: Received UDP payload: 446
1335795344626: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795344626: mux: Inside mux Packet.CLIENT_REQUEST
1335795344627: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800028
1335795344627: Yay the last leg succeeded. Removing reply runnables ...
1335795344627: do not send ack for received final_leg_ack
1335795344627: got new request, requestCounter = 5013048
1335795344627: inside handleClientRequest. Originator leader of region 5
1335795344627: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501800028
1335795344627: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501800028
1335795345582: inside sendPacket(Packet p)
1335795345583: Sending UDP payload: 446
1335795346276: Received UDP payload: 3941
1335795346285: forwarding disabled, not forwarding packets
1335795346285: mux: GOT CSM_Msg
1335795346632: Received UDP payload: 446
1335795346747: Received UDP payload: 3941
1335795346755: forwarding disabled, not forwarding packets
1335795346755: mux: GOT CSM_Msg
1335795346838: Received UDP payload: 3941
1335795346869: forwarding disabled, not forwarding packets
1335795346869: mux: GOT CSM_Msg
1335795347053: Received UDP payload: 446
1335795347283: Received UDP payload: 446
1335795347312: Received UDP payload: 3941
1335795347316: mux: GOT CSM_Msg
1335795347317: forwarding disabled, not forwarding packets
1335795347673: Received UDP payload: 3941
1335795347680: mux: GOT CSM_Msg
1335795347681: forwarding disabled, not forwarding packets
1335795347760: Received UDP payload: 3941
1335795347767: forwarding disabled, not forwarding packets
1335795347767: mux: GOT CSM_Msg
1335795348449: Received UDP payload: 625
1335795348453: mux: Inside mux Packet.CLIENT_REQUEST
1335795348596: Received UDP payload: 989
1335795348603: forwarding disabled, not forwarding packets
1335795348603: mux: GOT CSM_Msg
1335795348667: Received UDP payload: 446
1335795348724: Received UDP payload: 446
1335795348728: mux: Inside Packet.SERVER_REPLY
1335795348729: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795348774: Received UDP payload: 642
1335795348778: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795348778: mux: Inside Packet.SERVER_REPLY
1335795348783: Received UDP payload: 446
1335795348784: mux: Inside Packet.SERVER_REPLY
1335795348785: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795348819: Received UDP payload: 446
1335795348820: mux: Inside mux Packet.CLIENT_REQUEST
1335795349372: Received UDP payload: 642
1335795349378: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795349378: mux: Inside Packet.SERVER_REPLY
1335795349390: Received UDP payload: 642
1335795349395: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795349395: mux: Inside Packet.SERVER_REPLY
1335795349408: Received UDP payload: 446
1335795349412: mux: Inside mux Packet.CLIENT_REQUEST
1335795350095: Received UDP payload: 446
1335795350188: areButtonsEnabled --> false 
1335795350188: canPressButton = TRUE
1335795350188: get picture disableButtonsR
1335795350189: areButtonsEnabled --> false
1335795350202: one more getNum: 32
1335795350203: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795350203: change local requestCounter to 78
1335795350203: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=32 getGood=16 getBad=8 getTimedout=3 getPercent=50%
1335795350207: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018078 Client in region: 5 Client nodID: 5018
1335795350215: Received UDP payload: 5608
1335795350218: forwarding disabled, not forwarding packets
1335795350218: mux: GOT CSM_Msg
1335795350230: Received UDP payload: 989
1335795350232: forwarding disabled, not forwarding packets
1335795350232: mux: GOT CSM_Msg
1335795350245: ----------------------------
1335795350245: I'm a leader, my requesting photos packet going to mux directly
1335795350245: inside sendRequestPacketRepeatingRunnable for requestCount = 5018078
1335795350246: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795350246: got new request, requestCounter = 5018078
1335795350246: inside handleClientRequest. Originator leader of region 5
1335795350246: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795350246: mux: Inside mux Packet.CLIENT_REQUEST
1335795350248: Sending to region: 4
1335795350249: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(4,0)
1335795350249: Note down new request by adding requestCounter=5018078 to HashMap processedRequests
1335795350249: Sending PROC_REQUEST 11:8 (5,0)->(4,0)
1335795350250: Make FirstLeg Ack regardless of new or already-processed requests
1335795350250: mux: I got a CSM packet at a leader 
1335795350250: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795350254: --- Finished one round of sending REQUEST Packet ---------
1335795350254: Sending UDP payload: 989
1335795350260: forwarding disabled, not forwarding packets
1335795350305: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795350582: inside sendPacket(Packet p)
1335795350583: Sending UDP payload: 446
1335795350673: Received UDP payload: 446
1335795350713: Received UDP payload: 446
1335795350761: Received UDP payload: 989
1335795350771: Received UDP payload: 989
1335795350771: forwarding disabled, not forwarding packets
1335795350771: mux: GOT CSM_Msg
1335795350785: forwarding disabled, not forwarding packets
1335795350785: mux: GOT CSM_Msg
1335795350792: Received UDP payload: 989
1335795350795: forwarding disabled, not forwarding packets
1335795350795: mux: GOT CSM_Msg
1335795350805: Received UDP payload: 989
1335795350808: mux: GOT CSM_Msg
1335795350809: forwarding disabled, not forwarding packets
1335795350825: Received UDP payload: 989
1335795350828: forwarding disabled, not forwarding packets
1335795350828: mux: GOT CSM_Msg
1335795350840: Received UDP payload: 989
1335795350844: forwarding disabled, not forwarding packets
1335795350844: mux: GOT CSM_Msg
1335795350853: Received UDP payload: 989
1335795350856: forwarding disabled, not forwarding packets
1335795350856: mux: GOT CSM_Msg
1335795350866: Received UDP payload: 989
1335795350871: forwarding disabled, not forwarding packets
1335795350871: mux: GOT CSM_Msg
1335795350875: Received UDP payload: 989
1335795350879: forwarding disabled, not forwarding packets
1335795350879: mux: GOT CSM_Msg
1335795350899: Received UDP payload: 989
1335795350902: forwarding disabled, not forwarding packets
1335795350902: mux: GOT CSM_Msg
1335795350946: Received UDP payload: 4162
1335795350949: forwarding disabled, not forwarding packets
1335795350949: mux: GOT CSM_Msg
1335795350955: Received UDP payload: 989
1335795350959: forwarding disabled, not forwarding packets
1335795350959: mux: GOT CSM_Msg
1335795350967: Received UDP payload: 989
1335795350969: mux: GOT CSM_Msg
1335795350970: forwarding disabled, not forwarding packets
1335795350978: Received UDP payload: 989
1335795350981: forwarding disabled, not forwarding packets
1335795350981: mux: GOT CSM_Msg
1335795350988: Received UDP payload: 989
1335795350992: forwarding disabled, not forwarding packets
1335795350992: mux: GOT CSM_Msg
1335795350998: Received UDP payload: 642
1335795351000: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795351000: mux: Inside Packet.SERVER_REPLY
1335795351013: Received UDP payload: 446
1335795351015: mux: Inside mux Packet.CLIENT_REQUEST
1335795351022: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(4,0)
1335795351022: Retrying PROC_REQUEST 11:8 (5,0)->(4,0)
1335795351022: mux: I got a CSM packet at a leader 
1335795351024: Sending UDP payload: 989
1335795351024: forwarding disabled, not forwarding packets
1335795351031: Received UDP payload: 642
1335795351034: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795351034: mux: Inside Packet.SERVER_REPLY
1335795351061: Received UDP payload: 446
1335795351062: mux: Inside mux Packet.CLIENT_REQUEST
1335795351123: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(4,0)
1335795351123: Retrying PROC_REQUEST 11:8 (5,0)->(4,0)
1335795351124: mux: I got a CSM packet at a leader 
1335795351125: Sending UDP payload: 989
1335795351126: forwarding disabled, not forwarding packets
1335795351225: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(4,0)
1335795351225: Retrying PROC_REQUEST 11:8 (5,0)->(4,0)
1335795351226: mux: I got a CSM packet at a leader 
1335795351228: Sending UDP payload: 989
1335795351228: forwarding disabled, not forwarding packets
1335795351246: Received UDP payload: 6017
1335795351251: mux: GOT CSM_Msg
1335795351253: DSM layer: Going to and from remote region took latency = 1005
1335795351253: Received PROC_REPLY 11:8 (4,0)->(5,0), handing to UserApp
1335795351253: inside handleDSMReply. Now back in originator leader of region 5
1335795351254: DSM layer: orig leader sent packet at 1335795350248 ~ received reply from remote leader at 1335795351253
1335795351255: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795351255: change leader replyCounter to: 29
1335795351255: inside sendReplies of replyCount = 501800029
1335795351255: reply packet contains the newest photo/success info from the remote region
1335795351256: =======================
1335795351256: inside sendReplyRepeatingRunnable for replyCount = 501800029
1335795351257: === Finished one round of sending REPLY Packet =======
1335795351257: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795351257: Leader about to send REPLY packet, number: 501800029 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795351274: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795351275: Inside _enableButtons
1335795351275: areButtonsEnabled --> true
1335795351275: disabling progressdialog due to successful new photo get
1335795351276: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018079 Client in region: (5,0) Client nodID: 5018
1335795351276: inside finalLegAck: change requestCounter to 79
1335795351276: send final leg ack regardless of new or already-processed reply
1335795351277: I'm a leader client, my final_leg packet going to mux directly
1335795351277: mux: Inside mux Packet.CLIENT_REQUEST
1335795351277: new client_show_remotephoto reply with replyCounter 501800029
1335795351278: inside handleClientRequest. Originator leader of region 5
1335795351278: leader download remote photo latency = 1029
1335795351278: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795351278: note down new reply by adding replyCounter=501800029 to HashMap processedReplies
1335795351279: = leader download start 1335795350245 ~ stop 1335795351274
1335795351279: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800029
1335795351279: Yay the last leg succeeded. Removing reply runnables ...
1335795351279: got new request, requestCounter = 5018079
1335795351280: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800029
1335795351280: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800029
1335795351280: do not send ack for received final_leg_ack
1335795351281: one more getGood: 17
1335795351283: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=32 getGood=17 getBad=8 getTimedout=3 getPercent=53%
1335795351285: Success! Client getting photo from remote region, showing photo...
1335795351285: successful reply for client get photo
1335795351286: Remote photo's length: 5006
1335795351346: Received UDP payload: 6017
1335795351349: mux: GOT CSM_Msg
1335795351350: Received DUPLICATE PROC_REPLY 11:8 (4,0)->(5,0)
1335795352124: Received UDP payload: 625
1335795352130: mux: Inside mux Packet.CLIENT_REQUEST
1335795352180: Received UDP payload: 446
1335795352247: Received UDP payload: 446
1335795352252: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795352252: mux: Inside Packet.SERVER_REPLY
1335795352787: Received UDP payload: 989
1335795352798: mux: GOT CSM_Msg
1335795352799: forwarding disabled, not forwarding packets
1335795352806: Received UDP payload: 989
1335795352832: Received UDP payload: 989
1335795352832: forwarding disabled, not forwarding packets
1335795352832: mux: GOT CSM_Msg
1335795352834: Received UDP payload: 989
1335795352834: forwarding disabled, not forwarding packets
1335795352834: mux: GOT CSM_Msg
1335795352836: forwarding disabled, not forwarding packets
1335795352836: mux: GOT CSM_Msg
1335795352841: Received UDP payload: 989
1335795352844: forwarding disabled, not forwarding packets
1335795352844: mux: GOT CSM_Msg
1335795352894: Received UDP payload: 989
1335795352896: forwarding disabled, not forwarding packets
1335795352896: mux: GOT CSM_Msg
1335795352905: Received UDP payload: 989
1335795352907: mux: GOT CSM_Msg
1335795352908: forwarding disabled, not forwarding packets
1335795352938: Received UDP payload: 989
1335795352940: forwarding disabled, not forwarding packets
1335795352940: mux: GOT CSM_Msg
1335795352956: Received UDP payload: 989
1335795352958: forwarding disabled, not forwarding packets
1335795352958: mux: GOT CSM_Msg
1335795352974: Received UDP payload: 989
1335795352976: forwarding disabled, not forwarding packets
1335795352976: mux: GOT CSM_Msg
1335795352989: Received UDP payload: 989
1335795352991: forwarding disabled, not forwarding packets
1335795352991: mux: GOT CSM_Msg
1335795353002: Received UDP payload: 989
1335795353004: forwarding disabled, not forwarding packets
1335795353004: mux: GOT CSM_Msg
1335795353019: Received UDP payload: 989
1335795353021: forwarding disabled, not forwarding packets
1335795353021: mux: GOT CSM_Msg
1335795353036: Received UDP payload: 5608
1335795353038: forwarding disabled, not forwarding packets
1335795353038: mux: GOT CSM_Msg
1335795353115: Received UDP payload: 989
1335795353117: forwarding disabled, not forwarding packets
1335795353117: mux: GOT CSM_Msg
1335795353136: Received UDP payload: 989
1335795353138: forwarding disabled, not forwarding packets
1335795353138: mux: GOT CSM_Msg
1335795353165: Received UDP payload: 989
1335795353167: forwarding disabled, not forwarding packets
1335795353167: mux: GOT CSM_Msg
1335795353245: Received UDP payload: 989
1335795353247: mux: GOT CSM_Msg
1335795353248: forwarding disabled, not forwarding packets
1335795353261: Received UDP payload: 446
1335795353288: Received UDP payload: 989
1335795353290: mux: GOT CSM_Msg
1335795353290: removed replies before id 1 from sentReplies of size 0
1335795353291: INSIDE SERVER_GET_PHOTO!!!
1335795353291: inside handleDSMRequest. At requests's remote leader of region 5
1335795353294: Received PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795353295: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795353295: mux: I got a CSM packet at a leader 
1335795353296: Sending UDP payload: 4042
1335795353297: forwarding disabled, not forwarding packets
1335795353305: Received UDP payload: 446
1335795353325: Received UDP payload: 989
1335795353327: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795353327: mux: GOT CSM_Msg
1335795353327: removed replies before id 1 from sentReplies of size 1
1335795353328: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795353328: mux: I got a CSM packet at a leader 
1335795353329: Sending UDP payload: 4042
1335795353329: forwarding disabled, not forwarding packets
1335795353344: Received UDP payload: 989
1335795353346: forwarding disabled, not forwarding packets
1335795353346: mux: GOT CSM_Msg
1335795353368: Received UDP payload: 989
1335795353370: mux: GOT CSM_Msg
1335795353371: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795353371: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795353371: mux: I got a CSM packet at a leader 
1335795353371: removed replies before id 1 from sentReplies of size 1
1335795353372: Sending UDP payload: 4042
1335795353373: forwarding disabled, not forwarding packets
1335795353383: Received UDP payload: 989
1335795353385: mux: GOT CSM_Msg
1335795353386: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795353386: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795353386: mux: I got a CSM packet at a leader 
1335795353386: removed replies before id 1 from sentReplies of size 1
1335795353387: Sending UDP payload: 4042
1335795353388: forwarding disabled, not forwarding packets
1335795353414: Received UDP payload: 989
1335795353416: forwarding disabled, not forwarding packets
1335795353416: mux: GOT CSM_Msg
1335795353569: Received UDP payload: 989
1335795353571: mux: GOT CSM_Msg
1335795353571: removed replies before id 1 from sentReplies of size 1
1335795353572: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795353572: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795353572: mux: I got a CSM packet at a leader 
1335795353573: Sending UDP payload: 4042
1335795353574: forwarding disabled, not forwarding packets
1335795353582: Received UDP payload: 989
1335795353584: forwarding disabled, not forwarding packets
1335795353584: mux: GOT CSM_Msg
1335795353638: Received UDP payload: 446
1335795354218: Received UDP payload: 625
1335795354224: mux: Inside mux Packet.CLIENT_REQUEST
1335795354238: Received UDP payload: 989
1335795354245: forwarding disabled, not forwarding packets
1335795354245: mux: GOT CSM_Msg
1335795354251: Received UDP payload: 446
1335795354266: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795354266: mux: Inside Packet.SERVER_REPLY
1335795354353: Received UDP payload: 3815
1335795354354: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795354354: mux: Inside Packet.SERVER_REPLY
1335795354418: Received UDP payload: 446
1335795354420: mux: Inside mux Packet.CLIENT_REQUEST
1335795354903: Received UDP payload: 989
1335795354912: forwarding disabled, not forwarding packets
1335795354912: mux: GOT CSM_Msg
1335795354920: Received UDP payload: 989
1335795354942: forwarding disabled, not forwarding packets
1335795354942: mux: GOT CSM_Msg
1335795354943: Received UDP payload: 989
1335795354953: Received UDP payload: 989
1335795354953: forwarding disabled, not forwarding packets
1335795354953: mux: GOT CSM_Msg
1335795354955: forwarding disabled, not forwarding packets
1335795354955: mux: GOT CSM_Msg
1335795354997: Received UDP payload: 989
1335795354999: forwarding disabled, not forwarding packets
1335795354999: mux: GOT CSM_Msg
1335795355021: Received UDP payload: 989
1335795355023: forwarding disabled, not forwarding packets
1335795355023: mux: GOT CSM_Msg
1335795355050: Received UDP payload: 5608
1335795355052: forwarding disabled, not forwarding packets
1335795355052: mux: GOT CSM_Msg
1335795355112: Received UDP payload: 989
1335795355114: forwarding disabled, not forwarding packets
1335795355114: mux: GOT CSM_Msg
1335795355124: Received UDP payload: 989
1335795355126: forwarding disabled, not forwarding packets
1335795355126: mux: GOT CSM_Msg
1335795355177: Received UDP payload: 642
1335795355178: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795355178: mux: Inside Packet.SERVER_REPLY
1335795355193: Received UDP payload: 642
1335795355194: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795355194: mux: Inside Packet.SERVER_REPLY
1335795355242: Received UDP payload: 642
1335795355243: mux: Inside Packet.SERVER_REPLY
1335795355244: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795355261: Received UDP payload: 989
1335795355263: mux: GOT CSM_Msg
1335795355263: removed replies before id 1 from sentReplies of size 1
1335795355264: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795355264: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795355264: mux: I got a CSM packet at a leader 
1335795355265: Sending UDP payload: 4042
1335795355266: forwarding disabled, not forwarding packets
1335795355305: Received UDP payload: 446
1335795355306: mux: Inside mux Packet.CLIENT_REQUEST
1335795355479: Received UDP payload: 446
1335795355537: Received UDP payload: 989
1335795355541: forwarding disabled, not forwarding packets
1335795355541: mux: GOT CSM_Msg
1335795355582: inside sendPacket(Packet p)
1335795355584: Sending UDP payload: 446
1335795355804: Received UDP payload: 446
1335795355808: mux: Inside mux Packet.CLIENT_REQUEST
1335795355828: Received UDP payload: 446
1335795355833: mux: Inside mux Packet.CLIENT_REQUEST
1335795355834: Received UDP payload: 446
1335795355854: Received UDP payload: 625
1335795355861: mux: Inside mux Packet.CLIENT_REQUEST
1335795355866: Received UDP payload: 625
1335795355867: mux: Inside mux Packet.CLIENT_REQUEST
1335795355878: Received UDP payload: 625
1335795355879: mux: Inside mux Packet.CLIENT_REQUEST
1335795355884: Received UDP payload: 625
1335795355885: mux: Inside mux Packet.CLIENT_REQUEST
1335795355894: Received UDP payload: 446
1335795355920: Received UDP payload: 446
1335795355945: Received UDP payload: 446
1335795355949: Received UDP payload: 446
1335795356284: Received UDP payload: 989
1335795356285: mux: GOT CSM_Msg
1335795356286: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795356286: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795356286: mux: I got a CSM packet at a leader 
1335795356286: removed replies before id 1 from sentReplies of size 1
1335795356287: Sending UDP payload: 4042
1335795356288: forwarding disabled, not forwarding packets
1335795356299: Received UDP payload: 989
1335795356301: mux: GOT CSM_Msg
1335795356301: removed replies before id 1 from sentReplies of size 1
1335795356302: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795356302: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795356302: mux: I got a CSM packet at a leader 
1335795356303: Sending UDP payload: 4042
1335795356304: forwarding disabled, not forwarding packets
1335795356314: Received UDP payload: 989
1335795356317: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795356317: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795356317: mux: GOT CSM_Msg
1335795356317: removed replies before id 1 from sentReplies of size 1
1335795356318: mux: I got a CSM packet at a leader 
1335795356319: Sending UDP payload: 4042
1335795356320: forwarding disabled, not forwarding packets
1335795356351: Received UDP payload: 989
1335795356353: mux: GOT CSM_Msg
1335795356353: removed replies before id 1 from sentReplies of size 1
1335795356354: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795356354: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795356354: mux: I got a CSM packet at a leader 
1335795356355: Sending UDP payload: 4042
1335795356356: forwarding disabled, not forwarding packets
1335795357026: Received UDP payload: 5608
1335795357028: forwarding disabled, not forwarding packets
1335795357028: mux: GOT CSM_Msg
1335795357333: Received UDP payload: 5608
1335795357354: forwarding disabled, not forwarding packets
1335795357354: mux: GOT CSM_Msg
1335795357390: Received UDP payload: 625
1335795357392: mux: Inside mux Packet.CLIENT_REQUEST
1335795357404: Received UDP payload: 446
1335795357418: areButtonsEnabled --> false
1335795357418: areButtonsEnabled --> false 
1335795357418: canPressButton = TRUE
1335795357418: get picture disableButtonsR
1335795357458: one more getNum: 33
1335795357459: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=33 getGood=17 getBad=8 getTimedout=3 getPercent=51%
1335795357460: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795357460: change local requestCounter to 80
1335795357465: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018080 Client in region: 5 Client nodID: 5018
1335795357497: ----------------------------
1335795357498: I'm a leader, my requesting photos packet going to mux directly
1335795357498: inside handleClientRequest. Originator leader of region 5
1335795357498: inside sendRequestPacketRepeatingRunnable for requestCount = 5018080
1335795357498: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795357498: mux: Inside mux Packet.CLIENT_REQUEST
1335795357499: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795357499: got new request, requestCounter = 5018080
1335795357501: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(4,0)
1335795357501: Sending PROC_REQUEST 11:9 (5,0)->(4,0)
1335795357501: Sending to region: 4
1335795357502: Make FirstLeg Ack regardless of new or already-processed requests
1335795357502: Note down new request by adding requestCounter=5018080 to HashMap processedRequests
1335795357502: mux: I got a CSM packet at a leader 
1335795357502: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795357507: Sending UDP payload: 989
1335795357508: --- Finished one round of sending REQUEST Packet ---------
1335795357516: forwarding disabled, not forwarding packets
1335795357552: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795357641: Received UDP payload: 4140
1335795357645: mux: GOT CSM_Msg
1335795357646: DSM layer: Going to and from remote region took latency = 145
1335795357646: DSM layer: orig leader sent packet at 1335795357501 ~ received reply from remote leader at 1335795357646
1335795357646: Received PROC_REPLY 11:9 (4,0)->(5,0), handing to UserApp
1335795357646: inside handleDSMReply. Now back in originator leader of region 5
1335795357647: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795357647: change leader replyCounter to: 30
1335795357647: inside sendReplies of replyCount = 501800030
1335795357647: reply packet contains the newest photo/success info from the remote region
1335795357648: =======================
1335795357648: Leader about to send REPLY packet, number: 501800030 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795357648: inside sendReplyRepeatingRunnable for replyCount = 501800030
1335795357649: === Finished one round of sending REPLY Packet =======
1335795357649: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795357651: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795357651: disabling progressdialog due to successful new photo get
1335795357652: Inside _enableButtons
1335795357652: areButtonsEnabled --> true
1335795357652: inside finalLegAck: change requestCounter to 81
1335795357652: send final leg ack regardless of new or already-processed reply
1335795357653: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018081 Client in region: (5,0) Client nodID: 5018
1335795357653: I'm a leader client, my final_leg packet going to mux directly
1335795357653: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800030
1335795357653: got new request, requestCounter = 5018081
1335795357653: inside handleClientRequest. Originator leader of region 5
1335795357653: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795357653: mux: Inside mux Packet.CLIENT_REQUEST
1335795357654: Yay the last leg succeeded. Removing reply runnables ...
1335795357654: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800030
1335795357654: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800030
1335795357654: do not send ack for received final_leg_ack
1335795357657: new client_show_remotephoto reply with replyCounter 501800030
1335795357657: note down new reply by adding replyCounter=501800030 to HashMap processedReplies
1335795357658: = leader download start 1335795357498 ~ stop 1335795357651
1335795357658: leader download remote photo latency = 153
1335795357659: one more getGood: 18
1335795357660: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=33 getGood=18 getBad=8 getTimedout=3 getPercent=54%
1335795357660: successful reply for client get photo
1335795357661: Remote photo's length: 3129
1335795357661: Success! Client getting photo from remote region, showing photo...
1335795357909: Received UDP payload: 625
1335795357914: mux: Inside mux Packet.CLIENT_REQUEST
1335795358128: Received UDP payload: 446
1335795358146: Received UDP payload: 625
1335795358152: mux: Inside mux Packet.CLIENT_REQUEST
1335795358262: Received UDP payload: 989
1335795358281: mux: GOT CSM_Msg
1335795358282: removed replies before id 1 from sentReplies of size 0
1335795358283: inside handleDSMRequest. At requests's remote leader of region 5
1335795358294: INSIDE SERVER_GET_PHOTO!!!
1335795358334: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795358334: Received PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795358334: mux: I got a CSM packet at a leader 
1335795358346: Sending UDP payload: 4042
1335795358347: forwarding disabled, not forwarding packets
1335795358459: Received UDP payload: 989
1335795358461: mux: GOT CSM_Msg
1335795358461: removed replies before id 1 from sentReplies of size 1
1335795358462: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795358462: Received DUPLICATE PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795358462: mux: I got a CSM packet at a leader 
1335795358463: Sending UDP payload: 4042
1335795358465: forwarding disabled, not forwarding packets
1335795358560: Received UDP payload: 989
1335795358562: Received DUPLICATE PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795358562: mux: GOT CSM_Msg
1335795358562: removed replies before id 1 from sentReplies of size 1
1335795358563: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795358563: mux: I got a CSM packet at a leader 
1335795358564: Sending UDP payload: 4042
1335795358565: forwarding disabled, not forwarding packets
1335795358618: Received UDP payload: 989
1335795358620: Received DUPLICATE PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795358620: mux: GOT CSM_Msg
1335795358620: removed replies before id 1 from sentReplies of size 1
1335795358621: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795358621: mux: I got a CSM packet at a leader 
1335795358622: Sending UDP payload: 4042
1335795358623: forwarding disabled, not forwarding packets
1335795358638: Received UDP payload: 446
1335795358980: Received UDP payload: 989
1335795358984: mux: GOT CSM_Msg
1335795358984: removed replies before id 1 from sentReplies of size 1
1335795358986: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795358986: Received DUPLICATE PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795358987: mux: I got a CSM packet at a leader 
1335795358989: Sending UDP payload: 4042
1335795358991: forwarding disabled, not forwarding packets
1335795359010: Received UDP payload: 989
1335795359014: mux: GOT CSM_Msg
1335795359015: removed replies before id 1 from sentReplies of size 1
1335795359016: Received DUPLICATE PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795359017: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795359017: mux: I got a CSM packet at a leader 
1335795359020: Sending UDP payload: 4042
1335795359024: Received UDP payload: 989
1335795359028: forwarding disabled, not forwarding packets
1335795359028: mux: GOT CSM_Msg
1335795359028: removed replies before id 1 from sentReplies of size 1
1335795359036: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795359036: Received DUPLICATE PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795359037: mux: I got a CSM packet at a leader 
1335795359049: Sending UDP payload: 4042
1335795359052: forwarding disabled, not forwarding packets
1335795359219: Received UDP payload: 989
1335795359223: mux: GOT CSM_Msg
1335795359223: removed replies before id 1 from sentReplies of size 1
1335795359224: Received DUPLICATE PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795359225: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795359225: mux: I got a CSM packet at a leader 
1335795359227: Sending UDP payload: 4042
1335795359230: forwarding disabled, not forwarding packets
1335795359244: Received UDP payload: 989
1335795359249: mux: GOT CSM_Msg
1335795359250: removed replies before id 1 from sentReplies of size 1
1335795359251: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795359251: Received DUPLICATE PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795359251: mux: I got a CSM packet at a leader 
1335795359254: Sending UDP payload: 4042
1335795359256: forwarding disabled, not forwarding packets
1335795359281: Received UDP payload: 989
1335795359285: mux: GOT CSM_Msg
1335795359285: removed replies before id 1 from sentReplies of size 1
1335795359286: Received DUPLICATE PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795359287: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795359287: mux: I got a CSM packet at a leader 
1335795359290: Sending UDP payload: 4042
1335795359291: forwarding disabled, not forwarding packets
1335795359655: Received UDP payload: 989
1335795359664: mux: GOT CSM_Msg
1335795359664: removed replies before id 1 from sentReplies of size 1
1335795359667: Received DUPLICATE PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795359668: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795359670: mux: I got a CSM packet at a leader 
1335795359673: Sending UDP payload: 4042
1335795359677: Received UDP payload: 989
1335795359694: Received UDP payload: 989
1335795359695: forwarding disabled, not forwarding packets
1335795359696: mux: GOT CSM_Msg
1335795359696: removed replies before id 1 from sentReplies of size 1
1335795359698: Received DUPLICATE PROC_REQUEST 11:1 (3,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(3,0)
1335795359709: Dispatching Atom PROC_REPLY 11:1 (5,0)->(3,0)
1335795359711: mux: I got a CSM packet at a leader 
1335795359722: Sending UDP payload: 4042
1335795359724: forwarding disabled, not forwarding packets
1335795359731: forwarding disabled, not forwarding packets
1335795359731: mux: GOT CSM_Msg
1335795360117: leader to cloud hearbeat...
1335795360678: Received UDP payload: 446
1335795361100: Received UDP payload: 446
1335795361123: Received UDP payload: 446
1335795361333: Received UDP payload: 989
1335795361340: mux: GOT CSM_Msg
1335795361341: forwarding disabled, not forwarding packets
1335795361438: Received UDP payload: 989
1335795361445: mux: GOT CSM_Msg
1335795361446: removed replies before id 1 from sentReplies of size 1
1335795361447: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795361448: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795361448: mux: I got a CSM packet at a leader 
1335795361452: Sending UDP payload: 4042
1335795361467: forwarding disabled, not forwarding packets
1335795361468: Received UDP payload: 989
1335795361473: mux: GOT CSM_Msg
1335795361474: Received DUPLICATE PROC_REQUEST 11:1 (0,0)->(5,0), replying PROC_REPLY 11:1 (5,0)->(0,0)
1335795361474: removed replies before id 1 from sentReplies of size 1
1335795361475: Dispatching Atom PROC_REPLY 11:1 (5,0)->(0,0)
1335795361475: mux: I got a CSM packet at a leader 
1335795361476: Sending UDP payload: 4042
1335795361481: forwarding disabled, not forwarding packets
1335795361963: inside sendPacket(Packet p)
1335795361973: Sending UDP payload: 446
1335795362170: Received UDP payload: 989
1335795362174: forwarding disabled, not forwarding packets
1335795362174: mux: GOT CSM_Msg
1335795362248: Received UDP payload: 989
1335795362253: forwarding disabled, not forwarding packets
1335795362253: mux: GOT CSM_Msg
1335795362327: Received UDP payload: 989
1335795362331: mux: GOT CSM_Msg
1335795362332: forwarding disabled, not forwarding packets
1335795362438: Received UDP payload: 989
1335795362442: mux: GOT CSM_Msg
1335795362443: forwarding disabled, not forwarding packets
1335795362605: Received UDP payload: 5214
1335795362612: mux: GOT CSM_Msg
1335795362613: Received DUPLICATE PROC_REPLY 11:2 (0,0)->(5,0)
1335795362637: Received UDP payload: 989
1335795362644: forwarding disabled, not forwarding packets
1335795362644: mux: GOT CSM_Msg
1335795362675: Received UDP payload: 463
1335795362690: Received UDP payload: 446
1335795362736: Received UDP payload: 989
1335795362740: mux: GOT CSM_Msg
1335795362741: forwarding disabled, not forwarding packets
1335795362839: Received UDP payload: 989
1335795362842: mux: GOT CSM_Msg
1335795362843: forwarding disabled, not forwarding packets
1335795362942: Received UDP payload: 989
1335795362946: forwarding disabled, not forwarding packets
1335795362946: mux: GOT CSM_Msg
1335795363139: Received UDP payload: 989
1335795363143: forwarding disabled, not forwarding packets
1335795363143: mux: GOT CSM_Msg
1335795363249: Received UDP payload: 989
1335795363253: forwarding disabled, not forwarding packets
1335795363253: mux: GOT CSM_Msg
1335795363347: Received UDP payload: 989
1335795363355: forwarding disabled, not forwarding packets
1335795363355: mux: GOT CSM_Msg
1335795363447: Received UDP payload: 989
1335795363456: forwarding disabled, not forwarding packets
1335795363456: mux: GOT CSM_Msg
1335795363638: Received UDP payload: 446
1335795363784: Received UDP payload: 446
1335795363921: Received UDP payload: 625
1335795363925: mux: Inside mux Packet.CLIENT_REQUEST
1335795363980: Received UDP payload: 989
1335795363987: forwarding disabled, not forwarding packets
1335795363987: mux: GOT CSM_Msg
1335795363989: Received UDP payload: 446
1335795363993: mux: Inside Packet.SERVER_REPLY
1335795363994: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795364443: Received UDP payload: 446
1335795364457: Received UDP payload: 446
1335795364471: Received UDP payload: 989
1335795364476: forwarding disabled, not forwarding packets
1335795364476: mux: GOT CSM_Msg
1335795364656: Received UDP payload: 446
1335795364660: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795364660: mux: Inside Packet.SERVER_REPLY
1335795364670: Received UDP payload: 989
1335795364678: forwarding disabled, not forwarding packets
1335795364678: mux: GOT CSM_Msg
1335795364683: Received UDP payload: 642
1335795364692: mux: Inside Packet.SERVER_REPLY
1335795364693: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795364712: Received UDP payload: 446
1335795364714: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795364714: mux: Inside Packet.SERVER_REPLY
1335795364754: Received UDP payload: 989
1335795364756: forwarding disabled, not forwarding packets
1335795364756: mux: GOT CSM_Msg
1335795364859: Received UDP payload: 989
1335795364861: forwarding disabled, not forwarding packets
1335795364861: mux: GOT CSM_Msg
1335795364930: Received UDP payload: 642
1335795364931: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795364931: mux: Inside Packet.SERVER_REPLY
1335795364951: Received UDP payload: 989
1335795364953: forwarding disabled, not forwarding packets
1335795364953: mux: GOT CSM_Msg
1335795364961: Received UDP payload: 446
1335795364962: mux: Inside mux Packet.CLIENT_REQUEST
1335795365056: Received UDP payload: 989
1335795365059: forwarding disabled, not forwarding packets
1335795365059: mux: GOT CSM_Msg
1335795365172: Received UDP payload: 989
1335795365174: forwarding disabled, not forwarding packets
1335795365174: mux: GOT CSM_Msg
1335795365365: Received UDP payload: 989
1335795365372: forwarding disabled, not forwarding packets
1335795365372: mux: GOT CSM_Msg
1335795365461: Received UDP payload: 989
1335795365467: forwarding disabled, not forwarding packets
1335795365467: mux: GOT CSM_Msg
1335795365559: Received UDP payload: 989
1335795365566: forwarding disabled, not forwarding packets
1335795365566: mux: GOT CSM_Msg
1335795365698: Received UDP payload: 989
1335795365705: forwarding disabled, not forwarding packets
1335795365705: mux: GOT CSM_Msg
1335795365761: Received UDP payload: 446
1335795365809: Received UDP payload: 989
1335795365815: mux: GOT CSM_Msg
1335795365816: forwarding disabled, not forwarding packets
1335795365903: Received UDP payload: 989
1335795365907: forwarding disabled, not forwarding packets
1335795365907: mux: GOT CSM_Msg
1335795366020: Received UDP payload: 989
1335795366022: forwarding disabled, not forwarding packets
1335795366022: mux: GOT CSM_Msg
1335795366090: Received UDP payload: 446
1335795366092: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1335795366112: Received UDP payload: 989
1335795366114: mux: GOT CSM_Msg
1335795366115: forwarding disabled, not forwarding packets
1335795366126: Received UDP payload: 642
1335795366128: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795366128: mux: Inside Packet.SERVER_REPLY
1335795366164: inside sendPacket(Packet p)
1335795366165: Sending UDP payload: 32142
1335795366217: areButtonsEnabled --> false 
1335795366217: canPressButton = TRUE
1335795366217: get picture disableButtonsR
1335795366218: areButtonsEnabled --> false
1335795366244: one more getNum: 34
1335795366245: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 2 **
1335795366245: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=34 getGood=18 getBad=8 getTimedout=3 getPercent=52%
1335795366246: change local requestCounter to 82
1335795366250: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018082 Client in region: 5 Client nodID: 5018
1335795366277: Received UDP payload: 989
1335795366280: forwarding disabled, not forwarding packets
1335795366280: mux: GOT CSM_Msg
1335795366282: ----------------------------
1335795366283: I'm a leader, my requesting photos packet going to mux directly
1335795366283: got new request, requestCounter = 5018082
1335795366283: inside handleClientRequest. Originator leader of region 5
1335795366283: inside sendRequestPacketRepeatingRunnable for requestCount = 5018082
1335795366283: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795366283: mux: Inside mux Packet.CLIENT_REQUEST
1335795366284: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795366284: Sending PROC_REQUEST 11:5 (5,0)->(2,0)
1335795366284: Sending to region: 2
1335795366285: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795366285: Make FirstLeg Ack regardless of new or already-processed requests
1335795366285: Note down new request by adding requestCounter=5018082 to HashMap processedRequests
1335795366285: mux: I got a CSM packet at a leader 
1335795366285: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795366287: Sending UDP payload: 989
1335795366290: --- Finished one round of sending REQUEST Packet ---------
1335795366290: forwarding disabled, not forwarding packets
1335795366328: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795366424: Received UDP payload: 446
1335795366426: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1335795366454: inside sendPacket(Packet p)
1335795366455: Sending UDP payload: 32426
1335795366973: inside sendPacket(Packet p)
1335795366975: Sending UDP payload: 446
1335795367008: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367008: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367008: mux: I got a CSM packet at a leader 
1335795367010: Sending UDP payload: 989
1335795367010: forwarding disabled, not forwarding packets
1335795367109: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367109: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367111: mux: I got a CSM packet at a leader 
1335795367113: Sending UDP payload: 989
1335795367119: forwarding disabled, not forwarding packets
1335795367210: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367210: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367210: mux: I got a CSM packet at a leader 
1335795367211: Sending UDP payload: 989
1335795367212: forwarding disabled, not forwarding packets
1335795367221: Received UDP payload: 446
1335795367225: heard LEADER_REQUEST from node 5013, responding LEADER_REPLY
1335795367241: inside sendPacket(Packet p)
1335795367242: Sending UDP payload: 32426
1335795367311: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367312: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367312: mux: I got a CSM packet at a leader 
1335795367313: Sending UDP payload: 989
1335795367314: forwarding disabled, not forwarding packets
1335795367413: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367414: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367414: mux: I got a CSM packet at a leader 
1335795367415: Sending UDP payload: 989
1335795367416: forwarding disabled, not forwarding packets
1335795367515: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367516: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367516: mux: I got a CSM packet at a leader 
1335795367517: Sending UDP payload: 989
1335795367517: forwarding disabled, not forwarding packets
1335795367617: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367618: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367618: mux: I got a CSM packet at a leader 
1335795367620: Sending UDP payload: 989
1335795367620: forwarding disabled, not forwarding packets
1335795367710: Received UDP payload: 989
1335795367714: mux: GOT CSM_Msg
1335795367715: inside handleDSMRequest. At requests's remote leader of region 5
1335795367715: removed replies before id 2 from sentReplies of size 0
1335795367716: INSIDE SERVER_GET_PHOTO!!!
1335795367719: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367719: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367721: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795367721: Received PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795367722: mux: I got a CSM packet at a leader 
1335795367724: Sending UDP payload: 989
1335795367725: forwarding disabled, not forwarding packets
1335795367725: mux: I got a CSM packet at a leader 
1335795367728: Sending UDP payload: 4042
1335795367730: forwarding disabled, not forwarding packets
1335795367820: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367820: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367829: mux: I got a CSM packet at a leader 
1335795367830: Received UDP payload: 446
1335795367831: Sending UDP payload: 989
1335795367834: forwarding disabled, not forwarding packets
1335795367921: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367922: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795367925: mux: I got a CSM packet at a leader 
1335795367926: Sending UDP payload: 989
1335795367927: forwarding disabled, not forwarding packets
1335795368023: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795368023: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795368027: mux: I got a CSM packet at a leader 
1335795368030: Sending UDP payload: 989
1335795368031: forwarding disabled, not forwarding packets
1335795368081: Received UDP payload: 446
1335795368124: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795368125: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795368125: mux: I got a CSM packet at a leader 
1335795368129: Sending UDP payload: 989
1335795368130: forwarding disabled, not forwarding packets
1335795368226: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795368227: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795368227: mux: I got a CSM packet at a leader 
1335795368231: Sending UDP payload: 989
1335795368232: forwarding disabled, not forwarding packets
1335795368328: Retrying PROC_REQUEST 11:5 (5,0)->(2,0)
1335795368329: Dispatching Atom PROC_REQUEST 11:5 (5,0)->(2,0)
1335795368329: mux: I got a CSM packet at a leader 
1335795368333: Sending UDP payload: 989
1335795368335: forwarding disabled, not forwarding packets
1335795368393: Received UDP payload: 446
1335795368430: DSM Layer: Request timed out, send failure PROC_REPLY 11:5 (2,0)->(5,0)
1335795368432: Dispatching Atom PROC_REPLY 11:5 (2,0)->(5,0)
1335795368432: mux: I got a CSM packet at a leader 
1335795368433: Sending UDP payload: 989
1335795368434: DSM layer timed out, don't log dsm layer latency stuff.
1335795368434: Received PROC_REPLY 11:5 (2,0)->(5,0), handing to UserApp
1335795368434: inside handleDSMReply. Now back in originator leader of region 5
1335795368435: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795368435: change leader replyCounter to: 31
1335795368436: =======================
1335795368436: inside sendReplies of replyCount = 501800031
1335795368436: inside sendReplyRepeatingRunnable for replyCount = 501800031
1335795368436: reply packet contains the newest photo/success info from the remote region
1335795368437: === Finished one round of sending REPLY Packet =======
1335795368437: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795368437: Leader about to send REPLY packet, number: 501800031 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795368451: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795368453: Received UDP payload: 989
1335795368456: Inside _enableButtons
1335795368456: disabling progressdialog due to successful new photo get
1335795368457: areButtonsEnabled --> true
1335795368457: mux: GOT CSM_Msg
1335795368458: removed replies before id 2 from sentReplies of size 1
1335795368460: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795368460: inside finalLegAck: change requestCounter to 83
1335795368460: send final leg ack regardless of new or already-processed reply
1335795368461: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018083 Client in region: (5,0) Client nodID: 5018
1335795368461: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795368461: I'm a leader client, my final_leg packet going to mux directly
1335795368462: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795368462: mux: Inside mux Packet.CLIENT_REQUEST
1335795368462: new client_show_remotephoto reply with replyCounter 501800031
1335795368462: note down new reply by adding replyCounter=501800031 to HashMap processedReplies
1335795368463: = leader download start 1335795366283 ~ stop 1335795368451
1335795368463: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800031
1335795368463: got new request, requestCounter = 5018083
1335795368463: inside handleClientRequest. Originator leader of region 5
1335795368463: leader download remote photo latency = 2168
1335795368464: Yay the last leg succeeded. Removing reply runnables ...
1335795368464: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800031
1335795368465: Can't get remote photo, because DSM Layer on originator leader timed out
1335795368465: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800031
1335795368465: do not send ack for received final_leg_ack
1335795368466: mux: I got a CSM packet at a leader 
1335795368469: Sending UDP payload: 4042
1335795368469: one more getBad: 9
1335795368470: forwarding disabled, not forwarding packets
1335795368470: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=34 getGood=18 getBad=9 getTimedout=3 getPercent=52%
1335795368471: getBad++
1335795368528: Received UDP payload: 989
1335795368535: mux: GOT CSM_Msg
1335795368535: removed replies before id 2 from sentReplies of size 1
1335795368537: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795368537: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795368538: mux: I got a CSM packet at a leader 
1335795368550: Sending UDP payload: 4042
1335795368551: forwarding disabled, not forwarding packets
1335795368646: Received UDP payload: 989
1335795368649: mux: GOT CSM_Msg
1335795368649: removed replies before id 2 from sentReplies of size 1
1335795368650: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795368650: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795368650: mux: I got a CSM packet at a leader 
1335795368652: Sending UDP payload: 4042
1335795368653: forwarding disabled, not forwarding packets
1335795368663: Received UDP payload: 446
1335795368806: Received UDP payload: 446
1335795368845: Received UDP payload: 989
1335795368847: mux: GOT CSM_Msg
1335795368847: removed replies before id 2 from sentReplies of size 1
1335795368849: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795368850: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795368850: mux: I got a CSM packet at a leader 
1335795368851: Sending UDP payload: 4042
1335795368852: forwarding disabled, not forwarding packets
1335795368951: Received UDP payload: 989
1335795368954: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795368954: mux: GOT CSM_Msg
1335795368954: removed replies before id 2 from sentReplies of size 1
1335795368955: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795368955: mux: I got a CSM packet at a leader 
1335795368956: Sending UDP payload: 4042
1335795368957: forwarding disabled, not forwarding packets
1335795368983: Received UDP payload: 989
1335795368985: mux: GOT CSM_Msg
1335795368985: removed replies before id 2 from sentReplies of size 1
1335795368987: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795368988: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795368988: mux: I got a CSM packet at a leader 
1335795368989: Sending UDP payload: 4042
1335795368990: forwarding disabled, not forwarding packets
1335795369062: Received UDP payload: 989
1335795369065: mux: GOT CSM_Msg
1335795369066: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795369066: removed replies before id 2 from sentReplies of size 1
1335795369067: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795369067: mux: I got a CSM packet at a leader 
1335795369080: Sending UDP payload: 4042
1335795369080: forwarding disabled, not forwarding packets
1335795369144: Received UDP payload: 989
1335795369146: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795369146: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795369146: mux: GOT CSM_Msg
1335795369146: removed replies before id 2 from sentReplies of size 1
1335795369147: mux: I got a CSM packet at a leader 
1335795369148: Sending UDP payload: 4042
1335795369148: forwarding disabled, not forwarding packets
1335795369249: Received UDP payload: 989
1335795369251: mux: GOT CSM_Msg
1335795369251: removed replies before id 2 from sentReplies of size 1
1335795369252: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795369252: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795369252: mux: I got a CSM packet at a leader 
1335795369253: Sending UDP payload: 4042
1335795369254: forwarding disabled, not forwarding packets
1335795369367: Received UDP payload: 989
1335795369369: mux: GOT CSM_Msg
1335795369369: removed replies before id 2 from sentReplies of size 1
1335795369370: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795369370: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795369370: mux: I got a CSM packet at a leader 
1335795369371: Sending UDP payload: 4042
1335795369372: forwarding disabled, not forwarding packets
1335795369590: Received UDP payload: 989
1335795369592: mux: GOT CSM_Msg
1335795369592: removed replies before id 2 from sentReplies of size 1
1335795369593: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795369593: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795369593: mux: I got a CSM packet at a leader 
1335795369594: Sending UDP payload: 4042
1335795369610: forwarding disabled, not forwarding packets
1335795369747: Received UDP payload: 989
1335795369754: mux: GOT CSM_Msg
1335795369755: removed replies before id 2 from sentReplies of size 1
1335795369756: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795369757: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795369758: mux: I got a CSM packet at a leader 
1335795369772: Sending UDP payload: 4042
1335795369773: forwarding disabled, not forwarding packets
1335795369874: Received UDP payload: 989
1335795369882: mux: GOT CSM_Msg
1335795369883: removed replies before id 2 from sentReplies of size 1
1335795369885: Received DUPLICATE PROC_REQUEST 11:2 (4,0)->(5,0), replying PROC_REPLY 11:2 (5,0)->(4,0)
1335795369886: Dispatching Atom PROC_REPLY 11:2 (5,0)->(4,0)
1335795369886: mux: I got a CSM packet at a leader 
1335795369900: Sending UDP payload: 4042
1335795369901: forwarding disabled, not forwarding packets
1335795369909: Received UDP payload: 989
1335795369916: forwarding disabled, not forwarding packets
1335795369916: mux: GOT CSM_Msg
1335795371193: Received UDP payload: 625
1335795371198: mux: Inside mux Packet.CLIENT_REQUEST
1335795371199: inside handleClientRequest. Originator leader of region 5
1335795371199: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795371200: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795371200: got new request, requestCounter = 5013001
1335795371202: Sending to region: 3
1335795371203: Sending PROC_REQUEST 11:8 (5,0)->(3,0)
1335795371204: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795371205: Make FirstLeg Ack regardless of new or already-processed requests
1335795371205: Note down new request by adding requestCounter=5013001 to HashMap processedRequests
1335795371206: The leader sending a First Leg ack to originator client (which id = 5013)
1335795371206: inside sendPacket(Packet p)
1335795371207: mux: I got a CSM packet at a leader 
1335795371227: Sending UDP payload: 989
1335795371228: forwarding disabled, not forwarding packets
1335795371231: Sending UDP payload: 446
1335795371752: Received UDP payload: 625
1335795371754: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795371754: mux: Inside mux Packet.CLIENT_REQUEST
1335795371755: Make FirstLeg Ack regardless of new or already-processed requests
1335795371755: Note down new request by adding requestCounter=5013001 to HashMap processedRequests
1335795371755: discarding repeated requestCounter=5013001, but still send an ack back
1335795371755: inside handleClientRequest. Originator leader of region 5
1335795371756: The leader sending a First Leg ack to originator client (which id = 5013)
1335795371756: inside sendPacket(Packet p)
1335795371757: Sending UDP payload: 446
1335795371960: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795371960: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795371961: mux: I got a CSM packet at a leader 
1335795371965: Sending UDP payload: 989
1335795371966: forwarding disabled, not forwarding packets
1335795371973: inside sendPacket(Packet p)
1335795371976: Sending UDP payload: 446
1335795372033: Received UDP payload: 625
1335795372035: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795372035: mux: Inside mux Packet.CLIENT_REQUEST
1335795372036: Make FirstLeg Ack regardless of new or already-processed requests
1335795372036: Note down new request by adding requestCounter=5013001 to HashMap processedRequests
1335795372036: The leader sending a First Leg ack to originator client (which id = 5013)
1335795372036: discarding repeated requestCounter=5013001, but still send an ack back
1335795372036: inside handleClientRequest. Originator leader of region 5
1335795372036: inside sendPacket(Packet p)
1335795372037: Sending UDP payload: 446
1335795372062: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372062: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372063: mux: I got a CSM packet at a leader 
1335795372064: Sending UDP payload: 989
1335795372064: forwarding disabled, not forwarding packets
1335795372112: Received UDP payload: 625
1335795372114: mux: Inside mux Packet.CLIENT_REQUEST
1335795372165: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372166: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372166: Received UDP payload: 989
1335795372168: Received UDP payload: 446
1335795372171: mux: I got a CSM packet at a leader 
1335795372172: Sending UDP payload: 989
1335795372173: forwarding disabled, not forwarding packets
1335795372173: forwarding disabled, not forwarding packets
1335795372173: mux: GOT CSM_Msg
1335795372173: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795372173: mux: Inside Packet.SERVER_REPLY
1335795372266: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372266: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372267: mux: I got a CSM packet at a leader 
1335795372268: Sending UDP payload: 989
1335795372268: forwarding disabled, not forwarding packets
1335795372367: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372367: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372368: mux: I got a CSM packet at a leader 
1335795372369: Sending UDP payload: 989
1335795372369: forwarding disabled, not forwarding packets
1335795372468: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372468: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372468: mux: I got a CSM packet at a leader 
1335795372469: Sending UDP payload: 989
1335795372470: forwarding disabled, not forwarding packets
1335795372569: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372569: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372569: mux: I got a CSM packet at a leader 
1335795372570: Sending UDP payload: 989
1335795372571: forwarding disabled, not forwarding packets
1335795372670: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372670: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372671: mux: I got a CSM packet at a leader 
1335795372672: Sending UDP payload: 989
1335795372672: forwarding disabled, not forwarding packets
1335795372771: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372771: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372772: mux: I got a CSM packet at a leader 
1335795372773: Sending UDP payload: 989
1335795372774: forwarding disabled, not forwarding packets
1335795372872: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372872: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372873: mux: I got a CSM packet at a leader 
1335795372874: Sending UDP payload: 989
1335795372875: forwarding disabled, not forwarding packets
1335795372973: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372974: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795372974: mux: I got a CSM packet at a leader 
1335795372975: Sending UDP payload: 989
1335795372976: forwarding disabled, not forwarding packets
1335795373024: Received UDP payload: 989
1335795373027: forwarding disabled, not forwarding packets
1335795373027: mux: GOT CSM_Msg
1335795373053: Received UDP payload: 989
1335795373055: forwarding disabled, not forwarding packets
1335795373055: mux: GOT CSM_Msg
1335795373074: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795373075: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795373075: mux: I got a CSM packet at a leader 
1335795373077: Sending UDP payload: 989
1335795373078: forwarding disabled, not forwarding packets
1335795373176: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795373176: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795373177: mux: I got a CSM packet at a leader 
1335795373179: Sending UDP payload: 989
1335795373182: forwarding disabled, not forwarding packets
1335795373193: Received UDP payload: 446
1335795373279: Retrying PROC_REQUEST 11:8 (5,0)->(3,0)
1335795373280: Dispatching Atom PROC_REQUEST 11:8 (5,0)->(3,0)
1335795373282: mux: I got a CSM packet at a leader 
1335795373286: Sending UDP payload: 989
1335795373289: forwarding disabled, not forwarding packets
1335795373313: Received UDP payload: 989
1335795373322: mux: GOT CSM_Msg
1335795373323: forwarding disabled, not forwarding packets
1335795373389: DSM Layer: Request timed out, send failure PROC_REPLY 11:8 (3,0)->(5,0)
1335795373389: Dispatching Atom PROC_REPLY 11:8 (3,0)->(5,0)
1335795373392: mux: I got a CSM packet at a leader 
1335795373393: Sending UDP payload: 989
1335795373394: DSM layer timed out, don't log dsm layer latency stuff.
1335795373394: Received PROC_REPLY 11:8 (3,0)->(5,0), handing to UserApp
1335795373394: inside handleDSMReply. Now back in originator leader of region 5
1335795373395: Originator Region=5's Leader (for Client=5013) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795373395: change leader replyCounter to: 32
1335795373396: =======================
1335795373396: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335795373396: Leader about to send REPLY packet, number: 501800032 type: 15 Leader in region: (5,0) to Client nodID: 5013
1335795373396: inside sendReplies of replyCount = 501800032
1335795373396: inside sendReplyRepeatingRunnable for replyCount = 501800032
1335795373396: reply packet contains the newest photo/success info from the remote region
1335795373397: === Finished one round of sending REPLY Packet =======
1335795373397: inside sendPacket(Packet p)
1335795373398: Sending UDP payload: 642
1335795373419: Received UDP payload: 989
1335795373423: forwarding disabled, not forwarding packets
1335795373423: mux: GOT CSM_Msg
1335795373520: Received UDP payload: 989
1335795373523: forwarding disabled, not forwarding packets
1335795373523: mux: GOT CSM_Msg
1335795373619: Received UDP payload: 989
1335795373621: mux: GOT CSM_Msg
1335795373622: forwarding disabled, not forwarding packets
1335795373646: Received UDP payload: 446
1335795373697: =======================
1335795373697: inside sendReplyRepeatingRunnable for replyCount = 501800032
1335795373698: === Finished one round of sending REPLY Packet =======
1335795373698: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335795373698: Leader about to send REPLY packet, number: 501800032 type: 15 Leader in region: (5,0) to Client nodID: 5013
1335795373698: inside sendPacket(Packet p)
1335795373699: Sending UDP payload: 642
1335795373847: Received UDP payload: 989
1335795373850: forwarding disabled, not forwarding packets
1335795373850: mux: GOT CSM_Msg
1335795373923: Received UDP payload: 989
1335795373932: forwarding disabled, not forwarding packets
1335795373932: mux: GOT CSM_Msg
1335795373999: =======================
1335795373999: Leader about to send REPLY packet, number: 501800032 type: 15 Leader in region: (5,0) to Client nodID: 5013
1335795373999: inside sendReplyRepeatingRunnable for replyCount = 501800032
1335795374000: === Finished one round of sending REPLY Packet =======
1335795374000: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335795374000: inside sendPacket(Packet p)
1335795374002: Sending UDP payload: 642
1335795374075: Received UDP payload: 989
1335795374077: forwarding disabled, not forwarding packets
1335795374077: mux: GOT CSM_Msg
1335795374300: =======================
1335795374301: === Finished one round of sending REPLY Packet =======
1335795374301: I (the leader) was not the originator client (which id = 5013) so I use UDP to send packet back to my nonleader
1335795374301: Leader about to send REPLY packet, number: 501800032 type: 15 Leader in region: (5,0) to Client nodID: 5013
1335795374301: inside sendPacket(Packet p)
1335795374301: inside sendReplyRepeatingRunnable for replyCount = 501800032
1335795374303: Sending UDP payload: 642
1335795374396: Received UDP payload: 989
1335795374399: inside sendReplyTimeoutR
1335795374400: mux: GOT CSM_Msg
1335795374401: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800032
1335795374401: forwarding disabled, not forwarding packets
1335795374410: Received UDP payload: 642
1335795374412: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795374412: mux: Inside Packet.SERVER_REPLY
1335795374499: Received UDP payload: 446
1335795374501: mux: Inside mux Packet.CLIENT_REQUEST
1335795374606: Received UDP payload: 989
1335795374609: forwarding disabled, not forwarding packets
1335795374609: mux: GOT CSM_Msg
1335795375322: Received UDP payload: 989
1335795375330: forwarding disabled, not forwarding packets
1335795375330: mux: GOT CSM_Msg
1335795375411: Received UDP payload: 989
1335795375417: forwarding disabled, not forwarding packets
1335795375417: mux: GOT CSM_Msg
1335795375617: Received UDP payload: 989
1335795375624: forwarding disabled, not forwarding packets
1335795375624: mux: GOT CSM_Msg
1335795375715: Received UDP payload: 989
1335795375722: forwarding disabled, not forwarding packets
1335795375722: mux: GOT CSM_Msg
1335795375830: Received UDP payload: 989
1335795375837: forwarding disabled, not forwarding packets
1335795375837: mux: GOT CSM_Msg
1335795376023: Received UDP payload: 989
1335795376029: mux: GOT CSM_Msg
1335795376030: forwarding disabled, not forwarding packets
1335795376133: Received UDP payload: 989
1335795376140: forwarding disabled, not forwarding packets
1335795376140: mux: GOT CSM_Msg
1335795376240: Received UDP payload: 989
1335795376246: forwarding disabled, not forwarding packets
1335795376246: mux: GOT CSM_Msg
1335795376333: Received UDP payload: 989
1335795376341: forwarding disabled, not forwarding packets
1335795376341: mux: GOT CSM_Msg
1335795376436: Received UDP payload: 989
1335795376443: forwarding disabled, not forwarding packets
1335795376443: mux: GOT CSM_Msg
1335795376528: Received UDP payload: 989
1335795376534: forwarding disabled, not forwarding packets
1335795376534: mux: GOT CSM_Msg
1335795376974: inside sendPacket(Packet p)
1335795376977: Sending UDP payload: 446
1335795377663: Received UDP payload: 989
1335795377671: forwarding disabled, not forwarding packets
1335795377671: mux: GOT CSM_Msg
1335795377784: Received UDP payload: 446
1335795377790: Received UDP payload: 446
1335795377794: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795377794: mux: Inside mux Packet.CLIENT_REQUEST
1335795377795: got new request, requestCounter = 5013002
1335795377795: inside handleClientRequest. Originator leader of region 5
1335795377796: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800032
1335795377796: Yay the last leg succeeded. Removing reply runnables ...
1335795377796: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501800032
1335795377797: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800032
1335795377797: do not send ack for received final_leg_ack
1335795377816: Received UDP payload: 446
1335795377821: inside handleClientRequest. Originator leader of region 5
1335795377821: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795377821: mux: Inside mux Packet.CLIENT_REQUEST
1335795377822: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800032
1335795377822: Yay the last leg succeeded. Removing reply runnables ...
1335795377822: got new request, requestCounter = 5013003
1335795377823: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501800032
1335795377823: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501800032
1335795377824: do not send ack for received final_leg_ack
1335795377838: Received UDP payload: 446
1335795377844: got new request, requestCounter = 5013004
1335795377844: inside handleClientRequest. Originator leader of region 5
1335795377844: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795377844: mux: Inside mux Packet.CLIENT_REQUEST
1335795377845: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800032
1335795377845: Yay the last leg succeeded. Removing reply runnables ...
1335795377845: do not send ack for received final_leg_ack
1335795377845: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501800032
1335795377845: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501800032
1335795377846: Received UDP payload: 446
1335795377847: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800032
1335795377847: Yay the last leg succeeded. Removing reply runnables ...
1335795377847: got new request, requestCounter = 5013005
1335795377847: inside handleClientRequest. Originator leader of region 5
1335795377847: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795377847: mux: Inside mux Packet.CLIENT_REQUEST
1335795377848: do not send ack for received final_leg_ack
1335795377848: the key's associated reply_REPEATING_ RMap runnable ALREADY deleted for replyCount 501800032
1335795377848: the key's associated reply_TIMEOUT_RMap runnable ALREADY deleted for replyCount 501800032
1335795378400: Received UDP payload: 989
1335795378403: mux: GOT CSM_Msg
1335795378404: forwarding disabled, not forwarding packets
1335795378495: Received UDP payload: 989
1335795378500: forwarding disabled, not forwarding packets
1335795378500: mux: GOT CSM_Msg
1335795378609: Received UDP payload: 989
1335795378617: forwarding disabled, not forwarding packets
1335795378617: mux: GOT CSM_Msg
1335795378658: Received UDP payload: 446
1335795378685: Received UDP payload: 989
1335795378687: forwarding disabled, not forwarding packets
1335795378687: mux: GOT CSM_Msg
1335795378779: Received UDP payload: 989
1335795378783: mux: GOT CSM_Msg
1335795378784: forwarding disabled, not forwarding packets
1335795378876: Received UDP payload: 989
1335795378880: forwarding disabled, not forwarding packets
1335795378880: mux: GOT CSM_Msg
1335795378912: Received UDP payload: 446
1335795379010: Received UDP payload: 989
1335795379014: forwarding disabled, not forwarding packets
1335795379014: mux: GOT CSM_Msg
1335795379181: Received UDP payload: 989
1335795379185: forwarding disabled, not forwarding packets
1335795379185: mux: GOT CSM_Msg
1335795379397: Received UDP payload: 989
1335795379404: forwarding disabled, not forwarding packets
1335795379404: mux: GOT CSM_Msg
1335795379533: Received UDP payload: 989
1335795379540: forwarding disabled, not forwarding packets
1335795379540: mux: GOT CSM_Msg
1335795379615: Received UDP payload: 989
1335795379622: forwarding disabled, not forwarding packets
1335795379622: mux: GOT CSM_Msg
1335795379695: Received UDP payload: 989
1335795379697: forwarding disabled, not forwarding packets
1335795379697: mux: GOT CSM_Msg
1335795380687: canPressButton = TRUE
1335795380688: areButtonsEnabled --> false
1335795380688: areButtonsEnabled --> false 
1335795380688: get picture disableButtonsR
1335795380745: one more getNum: 35
1335795380745: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=35 getGood=18 getBad=9 getTimedout=3 getPercent=51%
1335795380746: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335795380746: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018084 Client in region: 5 Client nodID: 5018
1335795380746: change local requestCounter to 84
1335795380785: ----------------------------
1335795380785: inside sendRequestPacketRepeatingRunnable for requestCount = 5018084
1335795380786: I'm a leader, my requesting photos packet going to mux directly
1335795380786: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795380786: got new request, requestCounter = 5018084
1335795380786: inside handleClientRequest. Originator leader of region 5
1335795380786: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795380786: mux: Inside mux Packet.CLIENT_REQUEST
1335795380787: Sending PROC_REQUEST 11:9 (5,0)->(3,0)
1335795380787: Sending to region: 3
1335795380788: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795380788: Make FirstLeg Ack regardless of new or already-processed requests
1335795380788: Note down new request by adding requestCounter=5018084 to HashMap processedRequests
1335795380788: mux: I got a CSM packet at a leader 
1335795380788: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795380790: Sending UDP payload: 989
1335795380791: --- Finished one round of sending REQUEST Packet ---------
1335795380791: forwarding disabled, not forwarding packets
1335795380824: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795381537: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795381538: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795381538: mux: I got a CSM packet at a leader 
1335795381539: Sending UDP payload: 989
1335795381540: forwarding disabled, not forwarding packets
1335795381638: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795381638: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795381639: mux: I got a CSM packet at a leader 
1335795381640: Sending UDP payload: 989
1335795381640: forwarding disabled, not forwarding packets
1335795381739: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795381739: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795381740: mux: I got a CSM packet at a leader 
1335795381741: Sending UDP payload: 989
1335795381741: forwarding disabled, not forwarding packets
1335795381840: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795381840: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795381840: mux: I got a CSM packet at a leader 
1335795381841: Sending UDP payload: 989
1335795381842: forwarding disabled, not forwarding packets
1335795381941: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795381941: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795381941: mux: I got a CSM packet at a leader 
1335795381942: Sending UDP payload: 989
1335795381943: forwarding disabled, not forwarding packets
1335795381978: inside sendPacket(Packet p)
1335795381979: Sending UDP payload: 446
1335795382042: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382042: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382043: mux: I got a CSM packet at a leader 
1335795382044: Sending UDP payload: 989
1335795382044: forwarding disabled, not forwarding packets
1335795382143: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382143: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382143: mux: I got a CSM packet at a leader 
1335795382145: Sending UDP payload: 989
1335795382145: forwarding disabled, not forwarding packets
1335795382244: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382244: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382245: mux: I got a CSM packet at a leader 
1335795382246: Sending UDP payload: 989
1335795382247: forwarding disabled, not forwarding packets
1335795382345: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382345: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382346: mux: I got a CSM packet at a leader 
1335795382347: Sending UDP payload: 989
1335795382348: forwarding disabled, not forwarding packets
1335795382446: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382447: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382447: mux: I got a CSM packet at a leader 
1335795382448: Sending UDP payload: 989
1335795382449: forwarding disabled, not forwarding packets
1335795382547: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382548: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382548: mux: I got a CSM packet at a leader 
1335795382549: Sending UDP payload: 989
1335795382552: forwarding disabled, not forwarding packets
1335795382648: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382649: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382649: mux: I got a CSM packet at a leader 
1335795382650: Sending UDP payload: 989
1335795382652: forwarding disabled, not forwarding packets
1335795382751: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382752: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382753: mux: I got a CSM packet at a leader 
1335795382757: Sending UDP payload: 989
1335795382758: forwarding disabled, not forwarding packets
1335795382793: Received UDP payload: 446
1335795382854: Dispatching Atom PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382854: Retrying PROC_REQUEST 11:9 (5,0)->(3,0)
1335795382855: mux: I got a CSM packet at a leader 
1335795382858: Sending UDP payload: 989
1335795382860: forwarding disabled, not forwarding packets
1335795382954: DSM Layer: Request timed out, send failure PROC_REPLY 11:9 (3,0)->(5,0)
1335795382955: Dispatching Atom PROC_REPLY 11:9 (3,0)->(5,0)
1335795382955: mux: I got a CSM packet at a leader 
1335795382957: Sending UDP payload: 989
1335795382958: DSM layer timed out, don't log dsm layer latency stuff.
1335795382958: Received PROC_REPLY 11:9 (3,0)->(5,0), handing to UserApp
1335795382958: inside handleDSMReply. Now back in originator leader of region 5
1335795382959: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795382959: change leader replyCounter to: 33
1335795382960: =======================
1335795382960: inside sendReplies of replyCount = 501800033
1335795382960: inside sendReplyRepeatingRunnable for replyCount = 501800033
1335795382960: reply packet contains the newest photo/success info from the remote region
1335795382961: === Finished one round of sending REPLY Packet =======
1335795382961: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795382961: Leader about to send REPLY packet, number: 501800033 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795382980: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795382981: disabling progressdialog due to successful new photo get
1335795382982: Inside _enableButtons
1335795382982: areButtonsEnabled --> true
1335795382983: send final leg ack regardless of new or already-processed reply
1335795382984: inside finalLegAck: change requestCounter to 85
1335795382985: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018085 Client in region: (5,0) Client nodID: 5018
1335795382985: I'm a leader client, my final_leg packet going to mux directly
1335795382986: got new request, requestCounter = 5018085
1335795382986: inside handleClientRequest. Originator leader of region 5
1335795382986: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795382986: mux: Inside mux Packet.CLIENT_REQUEST
1335795382986: new client_show_remotephoto reply with replyCounter 501800033
1335795382987: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800033
1335795382987: Yay the last leg succeeded. Removing reply runnables ...
1335795382987: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800033
1335795382987: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800033
1335795382987: do not send ack for received final_leg_ack
1335795382987: note down new reply by adding replyCounter=501800033 to HashMap processedReplies
1335795382988: = leader download start 1335795380786 ~ stop 1335795382980
1335795382988: leader download remote photo latency = 2194
1335795382990: Can't get remote photo, because DSM Layer on originator leader timed out
1335795382996: one more getBad: 10
1335795382998: getBad++
1335795382998: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=35 getGood=18 getBad=10 getTimedout=3 getPercent=51%
1335795383482: Received UDP payload: 5608
1335795383487: mux: GOT CSM_Msg
1335795383491: forwarding disabled, not forwarding packets
1335795383791: Received UDP payload: 5608
1335795383799: forwarding disabled, not forwarding packets
1335795383799: mux: GOT CSM_Msg
1335795383862: Received UDP payload: 5608
1335795383864: mux: GOT CSM_Msg
1335795383865: forwarding disabled, not forwarding packets
1335795384088: Received UDP payload: 5608
1335795384091: forwarding disabled, not forwarding packets
1335795384091: mux: GOT CSM_Msg
1335795384984: Received UDP payload: 5608
1335795384993: mux: GOT CSM_Msg
1335795384994: forwarding disabled, not forwarding packets
1335795385116: Received UDP payload: 5608
1335795385124: forwarding disabled, not forwarding packets
1335795385124: mux: GOT CSM_Msg
1335795385404: Received UDP payload: 5608
1335795385410: mux: GOT CSM_Msg
1335795385411: forwarding disabled, not forwarding packets
1335795385560: Received UDP payload: 5608
1335795385567: forwarding disabled, not forwarding packets
1335795385567: mux: GOT CSM_Msg
1335795385778: Received UDP payload: 446
1335795385791: Received UDP payload: 446
1335795385801: Received UDP payload: 5608
1335795385809: forwarding disabled, not forwarding packets
1335795385809: mux: GOT CSM_Msg
1335795385836: Received UDP payload: 446
1335795386129: Received UDP payload: 6376
1335795386137: forwarding disabled, not forwarding packets
1335795386137: mux: GOT CSM_Msg
1335795386152: Received UDP payload: 989
1335795386158: mux: GOT CSM_Msg
1335795386159: forwarding disabled, not forwarding packets
1335795386271: Received UDP payload: 5608
1335795386274: forwarding disabled, not forwarding packets
1335795386274: mux: GOT CSM_Msg
1335795386377: Received UDP payload: 5608
1335795386380: forwarding disabled, not forwarding packets
1335795386380: mux: GOT CSM_Msg
1335795386591: Received UDP payload: 5608
1335795386596: forwarding disabled, not forwarding packets
1335795386596: mux: GOT CSM_Msg
1335795386600: Received UDP payload: 446
1335795386978: inside sendPacket(Packet p)
1335795386980: Sending UDP payload: 446
1335795387784: Received UDP payload: 446
1335795388642: Received UDP payload: 446
1335795389211: Received UDP payload: 5608
1335795389218: forwarding disabled, not forwarding packets
1335795389218: mux: GOT CSM_Msg
1335795389331: Received UDP payload: 5608
1335795389337: mux: GOT CSM_Msg
1335795389338: forwarding disabled, not forwarding packets
1335795389740: Received UDP payload: 5608
1335795389747: forwarding disabled, not forwarding packets
1335795389747: mux: GOT CSM_Msg
1335795389830: Received UDP payload: 5608
1335795389837: mux: GOT CSM_Msg
1335795389838: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795389927: Received UDP payload: 5608
1335795389935: mux: GOT CSM_Msg
1335795389936: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795390010: Received UDP payload: 5608
1335795390018: mux: GOT CSM_Msg
1335795390019: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795390138: Received UDP payload: 5608
1335795390141: mux: GOT CSM_Msg
1335795390142: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795390210: Received UDP payload: 5608
1335795390213: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795390213: mux: GOT CSM_Msg
1335795390301: Received UDP payload: 5608
1335795390304: mux: GOT CSM_Msg
1335795390305: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795390381: Received UDP payload: 5608
1335795390384: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795390384: mux: GOT CSM_Msg
1335795390556: Received UDP payload: 5608
1335795390559: mux: GOT CSM_Msg
1335795390560: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795390620: Received UDP payload: 5608
1335795390628: mux: GOT CSM_Msg
1335795390629: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795390714: Received UDP payload: 5608
1335795390725: mux: GOT CSM_Msg
1335795390726: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795390794: Received UDP payload: 5608
1335795390801: mux: GOT CSM_Msg
1335795390802: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795390891: Received UDP payload: 5608
1335795390893: Received UDP payload: 446
1335795390894: Received DUPLICATE PROC_REPLY 11:8 (3,0)->(5,0)
1335795390894: mux: GOT CSM_Msg
1335795390982: Received UDP payload: 5608
1335795390989: mux: GOT CSM_Msg
1335795390990: Received DUPLICATE PROC_REPLY 11:9 (3,0)->(5,0)
1335795391105: Received UDP payload: 5608
1335795391112: mux: GOT CSM_Msg
1335795391113: Received DUPLICATE PROC_REPLY 11:9 (3,0)->(5,0)
1335795391519: Received UDP payload: 989
1335795391527: forwarding disabled, not forwarding packets
1335795391527: mux: GOT CSM_Msg
1335795391608: Received UDP payload: 5608
1335795391615: mux: GOT CSM_Msg
1335795391616: Received DUPLICATE PROC_REPLY 11:9 (3,0)->(5,0)
1335795391979: inside sendPacket(Packet p)
1335795391982: Sending UDP payload: 446
1335795392195: Received UDP payload: 5608
1335795392202: mux: GOT CSM_Msg
1335795392204: Received DUPLICATE PROC_REPLY 11:9 (3,0)->(5,0)
1335795392299: Received UDP payload: 989
1335795392306: forwarding disabled, not forwarding packets
1335795392306: mux: GOT CSM_Msg
1335795392329: Received UDP payload: 5608
1335795392336: mux: GOT CSM_Msg
1335795392337: Received DUPLICATE PROC_REPLY 11:9 (3,0)->(5,0)
1335795392408: Received UDP payload: 989
1335795392415: mux: GOT CSM_Msg
1335795392416: forwarding disabled, not forwarding packets
1335795392487: Received UDP payload: 989
1335795392494: forwarding disabled, not forwarding packets
1335795392494: mux: GOT CSM_Msg
1335795392506: Received UDP payload: 5608
1335795392513: mux: GOT CSM_Msg
1335795392514: Received DUPLICATE PROC_REPLY 11:9 (3,0)->(5,0)
1335795392589: Received UDP payload: 989
1335795392596: forwarding disabled, not forwarding packets
1335795392596: mux: GOT CSM_Msg
1335795392616: Received UDP payload: 5608
1335795392623: mux: GOT CSM_Msg
1335795392624: Received DUPLICATE PROC_REPLY 11:9 (3,0)->(5,0)
1335795392699: Received UDP payload: 5608
1335795392705: mux: GOT CSM_Msg
1335795392707: Received DUPLICATE PROC_REPLY 11:9 (3,0)->(5,0)
1335795392768: Received UDP payload: 5608
1335795392774: mux: GOT CSM_Msg
1335795392775: Received DUPLICATE PROC_REPLY 11:9 (3,0)->(5,0)
1335795392786: Received UDP payload: 989
1335795392792: forwarding disabled, not forwarding packets
1335795392792: mux: GOT CSM_Msg
1335795392842: Received UDP payload: 989
1335795392844: forwarding disabled, not forwarding packets
1335795392844: mux: GOT CSM_Msg
1335795392851: Received UDP payload: 446
1335795392882: Received UDP payload: 989
1335795392884: forwarding disabled, not forwarding packets
1335795392884: mux: GOT CSM_Msg
1335795392903: Received UDP payload: 5608
1335795392904: mux: GOT CSM_Msg
1335795392905: Received DUPLICATE PROC_REPLY 11:9 (3,0)->(5,0)
1335795392916: Received UDP payload: 446
1335795392926: Received UDP payload: 989
1335795392943: Received UDP payload: 446
1335795392943: forwarding disabled, not forwarding packets
1335795392943: mux: GOT CSM_Msg
1335795392944: Received UDP payload: 989
1335795392946: forwarding disabled, not forwarding packets
1335795392946: mux: GOT CSM_Msg
1335795392958: Received UDP payload: 989
1335795392960: forwarding disabled, not forwarding packets
1335795392960: mux: GOT CSM_Msg
1335795392968: Received UDP payload: 989
1335795392970: forwarding disabled, not forwarding packets
1335795392970: mux: GOT CSM_Msg
1335795393011: Received UDP payload: 989
1335795393017: forwarding disabled, not forwarding packets
1335795393017: mux: GOT CSM_Msg
1335795393048: Received UDP payload: 989
1335795393050: forwarding disabled, not forwarding packets
1335795393050: mux: GOT CSM_Msg
1335795393061: Received UDP payload: 989
1335795393063: forwarding disabled, not forwarding packets
1335795393063: mux: GOT CSM_Msg
1335795393097: Received UDP payload: 989
1335795393099: forwarding disabled, not forwarding packets
1335795393099: mux: GOT CSM_Msg
1335795393231: Received UDP payload: 989
1335795393233: forwarding disabled, not forwarding packets
1335795393233: mux: GOT CSM_Msg
1335795393265: Received UDP payload: 989
1335795393267: forwarding disabled, not forwarding packets
1335795393267: mux: GOT CSM_Msg
1335795393276: Received UDP payload: 989
1335795393280: forwarding disabled, not forwarding packets
1335795393280: mux: GOT CSM_Msg
1335795393444: Received UDP payload: 6376
1335795393447: forwarding disabled, not forwarding packets
1335795393447: mux: GOT CSM_Msg
1335795393453: Received UDP payload: 989
1335795393455: forwarding disabled, not forwarding packets
1335795393455: mux: GOT CSM_Msg
1335795393491: Received UDP payload: 989
1335795393493: forwarding disabled, not forwarding packets
1335795393493: mux: GOT CSM_Msg
1335795393523: Received UDP payload: 989
1335795393526: forwarding disabled, not forwarding packets
1335795393526: mux: GOT CSM_Msg
1335795393580: Received UDP payload: 6376
1335795393582: forwarding disabled, not forwarding packets
1335795393582: mux: GOT CSM_Msg
1335795393699: Received UDP payload: 6376
1335795393702: forwarding disabled, not forwarding packets
1335795393702: mux: GOT CSM_Msg
1335795393775: Received UDP payload: 6376
1335795393778: forwarding disabled, not forwarding packets
1335795393778: mux: GOT CSM_Msg
1335795393929: Received UDP payload: 989
1335795393931: forwarding disabled, not forwarding packets
1335795393931: mux: GOT CSM_Msg
1335795393968: Received UDP payload: 446
1335795394045: Received UDP payload: 6376
1335795394052: forwarding disabled, not forwarding packets
1335795394052: mux: GOT CSM_Msg
1335795394683: Received UDP payload: 989
1335795394691: forwarding disabled, not forwarding packets
1335795394691: mux: GOT CSM_Msg
1335795394704: Received UDP payload: 989
1335795394720: forwarding disabled, not forwarding packets
1335795394720: mux: GOT CSM_Msg
1335795394721: Received UDP payload: 989
1335795394728: forwarding disabled, not forwarding packets
1335795394728: mux: GOT CSM_Msg
1335795394790: Received UDP payload: 989
1335795394792: forwarding disabled, not forwarding packets
1335795394792: mux: GOT CSM_Msg
1335795394801: Received UDP payload: 989
1335795394804: forwarding disabled, not forwarding packets
1335795394804: mux: GOT CSM_Msg
1335795396654: Received UDP payload: 446
1335795396981: inside sendPacket(Packet p)
1335795397018: Sending UDP payload: 446
1335795397792: Received UDP payload: 446
1335795397935: Received UDP payload: 989
1335795397947: forwarding disabled, not forwarding packets
1335795397947: mux: GOT CSM_Msg
1335795397957: Received UDP payload: 989
1335795397975: forwarding disabled, not forwarding packets
1335795397975: mux: GOT CSM_Msg
1335795398180: Received UDP payload: 989
1335795398182: forwarding disabled, not forwarding packets
1335795398182: mux: GOT CSM_Msg
1335795398192: Received UDP payload: 989
1335795398195: forwarding disabled, not forwarding packets
1335795398195: mux: GOT CSM_Msg
1335795398227: Received UDP payload: 989
1335795398229: forwarding disabled, not forwarding packets
1335795398229: mux: GOT CSM_Msg
1335795398473: Received UDP payload: 6376
1335795398475: forwarding disabled, not forwarding packets
1335795398475: mux: GOT CSM_Msg
1335795398540: Received UDP payload: 989
1335795398542: forwarding disabled, not forwarding packets
1335795398542: mux: GOT CSM_Msg
1335795398569: Received UDP payload: 989
1335795398573: forwarding disabled, not forwarding packets
1335795398573: mux: GOT CSM_Msg
1335795398666: Received UDP payload: 446
1335795398913: Received UDP payload: 989
1335795398921: forwarding disabled, not forwarding packets
1335795398921: mux: GOT CSM_Msg
1335795398978: Received UDP payload: 989
1335795398987: forwarding disabled, not forwarding packets
1335795398987: mux: GOT CSM_Msg
1335795399102: Received UDP payload: 6376
1335795399109: forwarding disabled, not forwarding packets
1335795399109: mux: GOT CSM_Msg
1335795399288: Received UDP payload: 6376
1335795399296: forwarding disabled, not forwarding packets
1335795399296: mux: GOT CSM_Msg
1335795399314: Received UDP payload: 989
1335795399325: forwarding disabled, not forwarding packets
1335795399325: mux: GOT CSM_Msg
1335795399333: Received UDP payload: 989
1335795399351: forwarding disabled, not forwarding packets
1335795399351: mux: GOT CSM_Msg
1335795399379: Received UDP payload: 989
1335795399381: mux: GOT CSM_Msg
1335795399382: forwarding disabled, not forwarding packets
1335795399400: Received UDP payload: 642
1335795399401: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795399401: mux: Inside Packet.SERVER_REPLY
1335795399461: Received UDP payload: 642
1335795399462: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795399462: mux: Inside Packet.SERVER_REPLY
1335795399475: Received UDP payload: 642
1335795399477: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795399477: mux: Inside Packet.SERVER_REPLY
1335795399584: Received UDP payload: 642
1335795399586: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795399586: mux: Inside Packet.SERVER_REPLY
1335795399967: Received UDP payload: 6233
1335795399972: forwarding disabled, not forwarding packets
1335795399972: mux: GOT CSM_Msg
1335795399977: Received UDP payload: 446
1335795400103: Received UDP payload: 6233
1335795400107: forwarding disabled, not forwarding packets
1335795400107: mux: GOT CSM_Msg
1335795400174: Received UDP payload: 6233
1335795400178: forwarding disabled, not forwarding packets
1335795400178: mux: GOT CSM_Msg
1335795400270: Received UDP payload: 6233
1335795400274: forwarding disabled, not forwarding packets
1335795400274: mux: GOT CSM_Msg
1335795400489: Received UDP payload: 6233
1335795400495: mux: GOT CSM_Msg
1335795400496: forwarding disabled, not forwarding packets
1335795401278: Received UDP payload: 446
1335795401412: Received UDP payload: 446
1335795401880: Received UDP payload: 446
1335795401884: mux: Inside mux Packet.CLIENT_REQUEST
1335795401902: Received UDP payload: 446
1335795401906: mux: Inside mux Packet.CLIENT_REQUEST
1335795401909: Received UDP payload: 446
1335795401913: mux: Inside mux Packet.CLIENT_REQUEST
1335795401933: Received UDP payload: 446
1335795401937: mux: Inside mux Packet.CLIENT_REQUEST
1335795401981: inside sendPacket(Packet p)
1335795401982: Sending UDP payload: 446
1335795402700: Received UDP payload: 6233
1335795402707: mux: GOT CSM_Msg
1335795402708: forwarding disabled, not forwarding packets
1335795402794: Received UDP payload: 446
1335795402947: Received UDP payload: 6233
1335795402956: mux: GOT CSM_Msg
1335795402957: forwarding disabled, not forwarding packets
1335795403026: Received UDP payload: 6233
1335795403032: mux: GOT CSM_Msg
1335795403033: forwarding disabled, not forwarding packets
1335795403099: Received UDP payload: 6233
1335795403106: mux: GOT CSM_Msg
1335795403107: forwarding disabled, not forwarding packets
1335795403197: Received UDP payload: 6233
1335795403204: mux: GOT CSM_Msg
1335795403205: forwarding disabled, not forwarding packets
1335795403290: Received UDP payload: 6233
1335795403292: forwarding disabled, not forwarding packets
1335795403292: mux: GOT CSM_Msg
1335795403372: Received UDP payload: 6233
1335795403376: mux: GOT CSM_Msg
1335795403377: forwarding disabled, not forwarding packets
1335795403664: Received UDP payload: 446
1335795404095: Received UDP payload: 446
1335795405556: Received UDP payload: 463
1335795405563: Received UDP payload: 446
1335795405726: Received UDP payload: 446
1335795405772: Received UDP payload: 446
1335795405808: Received UDP payload: 446
1335795406654: Received UDP payload: 446
1335795406664: Received UDP payload: 446
1335795406670: Received UDP payload: 446
1335795406982: inside sendPacket(Packet p)
1335795406992: Sending UDP payload: 446
1335795407786: Received UDP payload: 446
1335795408222: canPressButton = TRUE
1335795408223: areButtonsEnabled --> false 
1335795408224: get picture disableButtonsR
1335795408225: areButtonsEnabled --> false
1335795408258: one more getNum: 36
1335795408260: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=36 getGood=18 getBad=10 getTimedout=3 getPercent=50%
1335795408262: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 3 **
1335795408263: change local requestCounter to 86
1335795408272: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018086 Client in region: 5 Client nodID: 5018
1335795408276: Received UDP payload: 446
1335795408291: Received UDP payload: 625
1335795408306: mux: Inside mux Packet.CLIENT_REQUEST
1335795408307: Received UDP payload: 625
1335795408312: mux: Inside mux Packet.CLIENT_REQUEST
1335795408327: Received UDP payload: 625
1335795408331: Received UDP payload: 625
1335795408331: mux: Inside mux Packet.CLIENT_REQUEST
1335795408335: mux: Inside mux Packet.CLIENT_REQUEST
1335795408336: ----------------------------
1335795408336: inside sendRequestPacketRepeatingRunnable for requestCount = 5018086
1335795408337: I'm a leader, my requesting photos packet going to mux directly
1335795408337: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795408337: got new request, requestCounter = 5018086
1335795408337: inside handleClientRequest. Originator leader of region 5
1335795408337: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795408337: mux: Inside mux Packet.CLIENT_REQUEST
1335795408339: --- Finished one round of sending REQUEST Packet ---------
1335795408339: Sending to region: 3
1335795408340: Sending PROC_REQUEST 11:10 (5,0)->(3,0)
1335795408341: Dispatching Atom PROC_REQUEST 11:10 (5,0)->(3,0)
1335795408342: Make FirstLeg Ack regardless of new or already-processed requests
1335795408342: Note down new request by adding requestCounter=5018086 to HashMap processedRequests
1335795408343: mux: I got a CSM packet at a leader 
1335795408343: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795408362: Sending UDP payload: 989
1335795408362: forwarding disabled, not forwarding packets
1335795408376: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795408639: Received UDP payload: 446
1335795409051: Dispatching Atom PROC_REQUEST 11:10 (5,0)->(3,0)
1335795409051: Retrying PROC_REQUEST 11:10 (5,0)->(3,0)
1335795409051: mux: I got a CSM packet at a leader 
1335795409068: Sending UDP payload: 989
1335795409079: forwarding disabled, not forwarding packets
1335795409152: Retrying PROC_REQUEST 11:10 (5,0)->(3,0)
1335795409153: Dispatching Atom PROC_REQUEST 11:10 (5,0)->(3,0)
1335795409153: mux: I got a CSM packet at a leader 
1335795409154: Sending UDP payload: 989
1335795409157: forwarding disabled, not forwarding packets
1335795409253: Retrying PROC_REQUEST 11:10 (5,0)->(3,0)
1335795409254: Dispatching Atom PROC_REQUEST 11:10 (5,0)->(3,0)
1335795409254: mux: I got a CSM packet at a leader 
1335795409255: Sending UDP payload: 989
1335795409255: forwarding disabled, not forwarding packets
1335795409354: Retrying PROC_REQUEST 11:10 (5,0)->(3,0)
1335795409355: Dispatching Atom PROC_REQUEST 11:10 (5,0)->(3,0)
1335795409355: mux: I got a CSM packet at a leader 
1335795409356: Sending UDP payload: 989
1335795409356: forwarding disabled, not forwarding packets
1335795409359: Received UDP payload: 5608
1335795409363: DSM layer: Going to and from remote region took latency = 1023
1335795409363: Received PROC_REPLY 11:10 (3,0)->(5,0), handing to UserApp
1335795409363: inside handleDSMReply. Now back in originator leader of region 5
1335795409363: mux: GOT CSM_Msg
1335795409364: DSM layer: orig leader sent packet at 1335795408340 ~ received reply from remote leader at 1335795409363
1335795409365: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795409365: change leader replyCounter to: 34
1335795409366: === Finished one round of sending REPLY Packet =======
1335795409366: =======================
1335795409366: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795409366: Leader about to send REPLY packet, number: 501800034 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795409366: inside sendReplies of replyCount = 501800034
1335795409366: inside sendReplyRepeatingRunnable for replyCount = 501800034
1335795409366: reply packet contains the newest photo/success info from the remote region
1335795409375: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795409376: Inside _enableButtons
1335795409376: areButtonsEnabled --> true
1335795409376: disabling progressdialog due to successful new photo get
1335795409377: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018087 Client in region: (5,0) Client nodID: 5018
1335795409377: I'm a leader client, my final_leg packet going to mux directly
1335795409377: inside finalLegAck: change requestCounter to 87
1335795409377: send final leg ack regardless of new or already-processed reply
1335795409378: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800034
1335795409378: Yay the last leg succeeded. Removing reply runnables ...
1335795409378: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800034
1335795409378: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800034
1335795409378: do not send ack for received final_leg_ack
1335795409378: got new request, requestCounter = 5018087
1335795409378: inside handleClientRequest. Originator leader of region 5
1335795409378: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795409378: mux: Inside mux Packet.CLIENT_REQUEST
1335795409381: new client_show_remotephoto reply with replyCounter 501800034
1335795409381: note down new reply by adding replyCounter=501800034 to HashMap processedReplies
1335795409382: = leader download start 1335795408337 ~ stop 1335795409375
1335795409382: leader download remote photo latency = 1038
1335795409385: one more getGood: 19
1335795409386: Remote photo's length: 4597
1335795409386: Success! Client getting photo from remote region, showing photo...
1335795409386: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=36 getGood=19 getBad=10 getTimedout=3 getPercent=52%
1335795409386: successful reply for client get photo
1335795409733: Received UDP payload: 463
1335795409756: Received UDP payload: 446
1335795410479: Received UDP payload: 446
1335795411991: Received UDP payload: 989
1335795411997: inside sendPacket(Packet p)
1335795412044: Sending UDP payload: 446
1335795412045: forwarding disabled, not forwarding packets
1335795412045: mux: GOT CSM_Msg
1335795412262: canPressButton = TRUE
1335795412263: areButtonsEnabled --> false
1335795412263: areButtonsEnabled --> false 
1335795412263: get picture disableButtonsR
1335795412290: one more getNum: 37
1335795412290: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=37 getGood=19 getBad=10 getTimedout=3 getPercent=51%
1335795412291: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795412291: change local requestCounter to 88
1335795412295: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018088 Client in region: 5 Client nodID: 5018
1335795412325: ----------------------------
1335795412325: I'm a leader, my requesting photos packet going to mux directly
1335795412325: inside sendRequestPacketRepeatingRunnable for requestCount = 5018088
1335795412326: inside handleClientRequest. Originator leader of region 5
1335795412326: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795412326: mux: Inside mux Packet.CLIENT_REQUEST
1335795412327: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795412327: got new request, requestCounter = 5018088
1335795412329: Sending PROC_REQUEST 11:20 (5,0)->(5,0)
1335795412329: Sending to region: 5
1335795412330: Dispatching Atom PROC_REQUEST 11:20 (5,0)->(5,0)
1335795412330: Make FirstLeg Ack regardless of new or already-processed requests
1335795412330: Note down new request by adding requestCounter=5018088 to HashMap processedRequests
1335795412330: mux: I got a CSM packet at a leader 
1335795412330: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795412333: Sending UDP payload: 989
1335795412334: --- Finished one round of sending REQUEST Packet ---------
1335795412338: inside handleDSMRequest. At requests's remote leader of region 5
1335795412338: removed replies before id 20 from sentReplies of size 0
1335795412339: INSIDE SERVER_GET_PHOTO!!!
1335795412347: dst_region == src_region = 5
1335795412348:  1 self to self atomRequest
1335795412348: Received PROC_REQUEST 11:20 (5,0)->(5,0), replying PROC_REPLY 11:20 (5,0)->(5,0)
1335795412355: Dispatching Atom PROC_REPLY 11:20 (5,0)->(5,0)
1335795412356: mux: I got a CSM packet at a leader 
1335795412357: Sending UDP payload: 4042
1335795412371: DSM layer: Going to and from remote region took latency = 42
1335795412371: DSM layer: orig leader sent packet at 1335795412329 ~ received reply from remote leader at 1335795412371
1335795412371: Received PROC_REPLY 11:20 (5,0)->(5,0), handing to UserApp
1335795412371: inside handleDSMReply. Now back in originator leader of region 5
1335795412372: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795412372: change leader replyCounter to: 35
1335795412372: inside sendReplies of replyCount = 501800035
1335795412372: reply packet contains the newest photo/success info from the remote region
1335795412373: === Finished one round of sending REPLY Packet =======
1335795412373: =======================
1335795412373: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795412373: Leader about to send REPLY packet, number: 501800035 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795412373: inside sendReplyRepeatingRunnable for replyCount = 501800035
1335795412387: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795412394: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795412395: Inside _enableButtons
1335795412395: areButtonsEnabled --> true
1335795412395: disabling progressdialog due to successful new photo get
1335795412395: send final leg ack regardless of new or already-processed reply
1335795412396: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018089 Client in region: (5,0) Client nodID: 5018
1335795412396: I'm a leader client, my final_leg packet going to mux directly
1335795412396: inside finalLegAck: change requestCounter to 89
1335795412397: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800035
1335795412397: Yay the last leg succeeded. Removing reply runnables ...
1335795412397: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800035
1335795412397: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800035
1335795412397: do not send ack for received final_leg_ack
1335795412397: got new request, requestCounter = 5018089
1335795412397: inside handleClientRequest. Originator leader of region 5
1335795412397: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795412397: mux: Inside mux Packet.CLIENT_REQUEST
1335795412398: leader download remote photo latency = 68
1335795412398: new client_show_remotephoto reply with replyCounter 501800035
1335795412398: note down new reply by adding replyCounter=501800035 to HashMap processedReplies
1335795412399: = leader download start 1335795412326 ~ stop 1335795412394
1335795412401: one more getGood: 20
1335795412406: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=37 getGood=20 getBad=10 getTimedout=3 getPercent=54%
1335795412409: Remote photo's length: 3031
1335795412409: Success! Client getting photo from remote region, showing photo...
1335795412409: successful reply for client get photo
1335795412675: Received UDP payload: 989
1335795412683: forwarding disabled, not forwarding packets
1335795412683: mux: GOT CSM_Msg
1335795412724: Received UDP payload: 4126
1335795412726: forwarding disabled, not forwarding packets
1335795412726: mux: GOT CSM_Msg
1335795413641: Received UDP payload: 446
1335795414130: areButtonsEnabled --> false
1335795414130: areButtonsEnabled --> false 
1335795414130: canPressButton = TRUE
1335795414130: get picture disableButtonsR
1335795414144: one more getNum: 38
1335795414145: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795414145: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=38 getGood=20 getBad=10 getTimedout=3 getPercent=52%
1335795414146: change local requestCounter to 90
1335795414150: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018090 Client in region: 5 Client nodID: 5018
1335795414182: ----------------------------
1335795414182: I'm a leader, my requesting photos packet going to mux directly
1335795414182: inside sendRequestPacketRepeatingRunnable for requestCount = 5018090
1335795414183: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795414183: got new request, requestCounter = 5018090
1335795414183: inside handleClientRequest. Originator leader of region 5
1335795414183: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795414183: mux: Inside mux Packet.CLIENT_REQUEST
1335795414185: Sending to region: 5
1335795414186: Sending PROC_REQUEST 11:21 (5,0)->(5,0)
1335795414187: Dispatching Atom PROC_REQUEST 11:21 (5,0)->(5,0)
1335795414187: Make FirstLeg Ack regardless of new or already-processed requests
1335795414187: Note down new request by adding requestCounter=5018090 to HashMap processedRequests
1335795414187: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795414188: mux: I got a CSM packet at a leader 
1335795414192: Sending UDP payload: 989
1335795414193: --- Finished one round of sending REQUEST Packet ---------
1335795414200: inside handleDSMRequest. At requests's remote leader of region 5
1335795414200: removed replies before id 21 from sentReplies of size 0
1335795414201: INSIDE SERVER_GET_PHOTO!!!
1335795414203: dst_region == src_region = 5
1335795414204:  1 self to self atomRequest
1335795414205: Dispatching Atom PROC_REPLY 11:21 (5,0)->(5,0)
1335795414205: Received PROC_REQUEST 11:21 (5,0)->(5,0), replying PROC_REPLY 11:21 (5,0)->(5,0)
1335795414206: mux: I got a CSM packet at a leader 
1335795414207: Sending UDP payload: 4042
1335795414223: Received PROC_REPLY 11:21 (5,0)->(5,0), handing to UserApp
1335795414224: DSM layer: Going to and from remote region took latency = 39
1335795414224: DSM layer: orig leader sent packet at 1335795414185 ~ received reply from remote leader at 1335795414224
1335795414224: inside handleDSMReply. Now back in originator leader of region 5
1335795414225: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795414225: change leader replyCounter to: 36
1335795414225: inside sendReplies of replyCount = 501800036
1335795414225: reply packet contains the newest photo/success info from the remote region
1335795414226: === Finished one round of sending REPLY Packet =======
1335795414226: =======================
1335795414226: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795414226: Leader about to send REPLY packet, number: 501800036 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795414226: inside sendReplyRepeatingRunnable for replyCount = 501800036
1335795414235: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795414239: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795414239: Inside _enableButtons
1335795414239: disabling progressdialog due to successful new photo get
1335795414240: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018091 Client in region: (5,0) Client nodID: 5018
1335795414240: areButtonsEnabled --> true
1335795414240: inside finalLegAck: change requestCounter to 91
1335795414240: send final leg ack regardless of new or already-processed reply
1335795414241: I'm a leader client, my final_leg packet going to mux directly
1335795414241: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800036
1335795414241: Yay the last leg succeeded. Removing reply runnables ...
1335795414241: got new request, requestCounter = 5018091
1335795414241: inside handleClientRequest. Originator leader of region 5
1335795414241: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795414241: mux: Inside mux Packet.CLIENT_REQUEST
1335795414242: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800036
1335795414242: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800036
1335795414242: do not send ack for received final_leg_ack
1335795414245: new client_show_remotephoto reply with replyCounter 501800036
1335795414245: note down new reply by adding replyCounter=501800036 to HashMap processedReplies
1335795414246: = leader download start 1335795414183 ~ stop 1335795414239
1335795414246: leader download remote photo latency = 56
1335795414247: one more getGood: 21
1335795414248: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=38 getGood=21 getBad=10 getTimedout=3 getPercent=55%
1335795414248: successful reply for client get photo
1335795414249: Remote photo's length: 3031
1335795414249: Success! Client getting photo from remote region, showing photo...
1335795415027: Received UDP payload: 989
1335795415035: mux: GOT CSM_Msg
1335795415036: inside handleDSMRequest. At requests's remote leader of region 5
1335795415036: removed replies before id 3 from sentReplies of size 0
1335795415038: INSIDE SERVER_GET_PHOTO!!!
1335795415042: Received PROC_REQUEST 11:3 (4,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(4,0)
1335795415059: Dispatching Atom PROC_REPLY 11:3 (5,0)->(4,0)
1335795415060: mux: I got a CSM packet at a leader 
1335795415064: Sending UDP payload: 4042
1335795415066: forwarding disabled, not forwarding packets
1335795415146: Received UDP payload: 625
1335795415147: mux: Inside mux Packet.CLIENT_REQUEST
1335795415475: Received UDP payload: 446
1335795415484: Received UDP payload: 625
1335795415485: mux: Inside mux Packet.CLIENT_REQUEST
1335795415752: Received UDP payload: 446
1335795415762: Received UDP payload: 625
1335795415766: mux: Inside mux Packet.CLIENT_REQUEST
1335795415784: Received UDP payload: 989
1335795415792: mux: GOT CSM_Msg
1335795415793: removed replies before id 3 from sentReplies of size 1
1335795415795: Received DUPLICATE PROC_REQUEST 11:3 (4,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(4,0)
1335795415796: Dispatching Atom PROC_REPLY 11:3 (5,0)->(4,0)
1335795415796: mux: I got a CSM packet at a leader 
1335795415805: Sending UDP payload: 4042
1335795415811: forwarding disabled, not forwarding packets
1335795415837: Received UDP payload: 989
1335795415839: mux: GOT CSM_Msg
1335795415839: removed replies before id 3 from sentReplies of size 1
1335795415840: Dispatching Atom PROC_REPLY 11:3 (5,0)->(4,0)
1335795415840: Received DUPLICATE PROC_REQUEST 11:3 (4,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(4,0)
1335795415840: mux: I got a CSM packet at a leader 
1335795415841: Sending UDP payload: 4042
1335795415842: forwarding disabled, not forwarding packets
1335795415963: Received UDP payload: 989
1335795415966: mux: GOT CSM_Msg
1335795415966: removed replies before id 3 from sentReplies of size 1
1335795415967: Dispatching Atom PROC_REPLY 11:3 (5,0)->(4,0)
1335795415967: Received DUPLICATE PROC_REQUEST 11:3 (4,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(4,0)
1335795415967: mux: I got a CSM packet at a leader 
1335795415969: Sending UDP payload: 4042
1335795415970: forwarding disabled, not forwarding packets
1335795416076: Received UDP payload: 989
1335795416079: mux: GOT CSM_Msg
1335795416079: removed replies before id 3 from sentReplies of size 1
1335795416080: Dispatching Atom PROC_REPLY 11:3 (5,0)->(4,0)
1335795416080: Received DUPLICATE PROC_REQUEST 11:3 (4,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(4,0)
1335795416081: mux: I got a CSM packet at a leader 
1335795416082: Sending UDP payload: 4042
1335795416083: forwarding disabled, not forwarding packets
1335795416113: Received UDP payload: 625
1335795416114: mux: Inside mux Packet.CLIENT_REQUEST
1335795416191: Received UDP payload: 989
1335795416193: mux: GOT CSM_Msg
1335795416193: removed replies before id 3 from sentReplies of size 1
1335795416194: Dispatching Atom PROC_REPLY 11:3 (5,0)->(4,0)
1335795416194: Received DUPLICATE PROC_REQUEST 11:3 (4,0)->(5,0), replying PROC_REPLY 11:3 (5,0)->(4,0)
1335795416194: mux: I got a CSM packet at a leader 
1335795416195: Sending UDP payload: 4042
1335795416196: forwarding disabled, not forwarding packets
1335795416588: areButtonsEnabled --> false 
1335795416588: canPressButton = TRUE
1335795416588: get picture disableButtonsR
1335795416589: areButtonsEnabled --> false
1335795416613: one more getNum: 39
1335795416614: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795416614: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=39 getGood=21 getBad=10 getTimedout=3 getPercent=53%
1335795416615: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018092 Client in region: 5 Client nodID: 5018
1335795416615: change local requestCounter to 92
1335795416644: ----------------------------
1335795416645: I'm a leader, my requesting photos packet going to mux directly
1335795416645: inside sendRequestPacketRepeatingRunnable for requestCount = 5018092
1335795416646: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795416646: got new request, requestCounter = 5018092
1335795416646: inside handleClientRequest. Originator leader of region 5
1335795416646: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795416646: mux: Inside mux Packet.CLIENT_REQUEST
1335795416647: Dispatching Atom PROC_REQUEST 11:10 (5,0)->(4,0)
1335795416647: Sending PROC_REQUEST 11:10 (5,0)->(4,0)
1335795416647: Sending to region: 4
1335795416648: Make FirstLeg Ack regardless of new or already-processed requests
1335795416648: Note down new request by adding requestCounter=5018092 to HashMap processedRequests
1335795416648: mux: I got a CSM packet at a leader 
1335795416648: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795416650: Sending UDP payload: 989
1335795416650: forwarding disabled, not forwarding packets
1335795416651: --- Finished one round of sending REQUEST Packet ---------
1335795416682: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795416779: Received UDP payload: 4126
1335795416782: DSM layer: Going to and from remote region took latency = 135
1335795416782: DSM layer: orig leader sent packet at 1335795416647 ~ received reply from remote leader at 1335795416782
1335795416782: Received PROC_REPLY 11:10 (4,0)->(5,0), handing to UserApp
1335795416782: inside handleDSMReply. Now back in originator leader of region 5
1335795416782: mux: GOT CSM_Msg
1335795416783: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795416783: change leader replyCounter to: 37
1335795416783: inside sendReplies of replyCount = 501800037
1335795416783: reply packet contains the newest photo/success info from the remote region
1335795416784: === Finished one round of sending REPLY Packet =======
1335795416784: =======================
1335795416784: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795416784: Leader about to send REPLY packet, number: 501800037 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795416784: inside sendReplyRepeatingRunnable for replyCount = 501800037
1335795416786: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795416786: Inside _enableButtons
1335795416786: disabling progressdialog due to successful new photo get
1335795416787: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018093 Client in region: (5,0) Client nodID: 5018
1335795416787: areButtonsEnabled --> true
1335795416787: inside finalLegAck: change requestCounter to 93
1335795416787: send final leg ack regardless of new or already-processed reply
1335795416789: I'm a leader client, my final_leg packet going to mux directly
1335795416790: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800037
1335795416790: Yay the last leg succeeded. Removing reply runnables ...
1335795416790: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800037
1335795416790: got new request, requestCounter = 5018093
1335795416790: inside handleClientRequest. Originator leader of region 5
1335795416790: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795416790: mux: Inside mux Packet.CLIENT_REQUEST
1335795416793: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800037
1335795416793: do not send ack for received final_leg_ack
1335795416794: leader download remote photo latency = 141
1335795416794: new client_show_remotephoto reply with replyCounter 501800037
1335795416794: note down new reply by adding replyCounter=501800037 to HashMap processedReplies
1335795416795: = leader download start 1335795416645 ~ stop 1335795416786
1335795416795: one more getGood: 22
1335795416796: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=39 getGood=22 getBad=10 getTimedout=3 getPercent=56%
1335795416796: successful reply for client get photo
1335795416797: Remote photo's length: 3115
1335795416797: Success! Client getting photo from remote region, showing photo...
1335795416999: inside sendPacket(Packet p)
1335795417000: Sending UDP payload: 446
1335795418647: Received UDP payload: 446
1335795419283: Received UDP payload: 625
1335795419286: mux: Inside mux Packet.CLIENT_REQUEST
1335795419314: Received UDP payload: 989
1335795419334: mux: GOT CSM_Msg
1335795419335: forwarding disabled, not forwarding packets
1335795419336: Received UDP payload: 446
1335795419343: mux: Inside Packet.SERVER_REPLY
1335795419344: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795419489: Received UDP payload: 6449
1335795419492: forwarding disabled, not forwarding packets
1335795419492: mux: GOT CSM_Msg
1335795419531: Received UDP payload: 5303
1335795419533: mux: Inside mux Packet.CLIENT_REQUEST
1335795419590: Received UDP payload: 6102
1335795419591: mux: Inside Packet.SERVER_REPLY
1335795419592: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795419628: Received UDP payload: 446
1335795419629: mux: Inside mux Packet.CLIENT_REQUEST
1335795419693: canPressButton = TRUE
1335795419695: areButtonsEnabled --> false 
1335795419695: get picture disableButtonsR
1335795419696: areButtonsEnabled --> false
1335795419710: one more getNum: 40
1335795419712: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=40 getGood=22 getBad=10 getTimedout=3 getPercent=55%
1335795419713: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795419714: change local requestCounter to 94
1335795419715: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018094 Client in region: 5 Client nodID: 5018
1335795419776: ----------------------------
1335795419777: inside sendRequestPacketRepeatingRunnable for requestCount = 5018094
1335795419778: I'm a leader, my requesting photos packet going to mux directly
1335795419779: inside handleClientRequest. Originator leader of region 5
1335795419779: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795419779: mux: Inside mux Packet.CLIENT_REQUEST
1335795419780: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795419780: got new request, requestCounter = 5018094
1335795419781: Received UDP payload: 989
1335795419782: --- Finished one round of sending REQUEST Packet ---------
1335795419783: Sending to region: 4
1335795419784: Sending PROC_REQUEST 11:11 (5,0)->(4,0)
1335795419786: Dispatching Atom PROC_REQUEST 11:11 (5,0)->(4,0)
1335795419786: Note down new request by adding requestCounter=5018094 to HashMap processedRequests
1335795419787: Make FirstLeg Ack regardless of new or already-processed requests
1335795419787: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795419789: mux: I got a CSM packet at a leader 
1335795419799: Sending UDP payload: 989
1335795419800: forwarding disabled, not forwarding packets
1335795419801: forwarding disabled, not forwarding packets
1335795419801: mux: GOT CSM_Msg
1335795419824: Received UDP payload: 642
1335795419826: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795419826: mux: Inside Packet.SERVER_REPLY
1335795419838: Received UDP payload: 446
1335795419839: mux: Inside mux Packet.CLIENT_REQUEST
1335795419842: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795419979: Received UDP payload: 5667
1335795419982: mux: GOT CSM_Msg
1335795419983: DSM layer: Going to and from remote region took latency = 199
1335795419983: Received PROC_REPLY 11:11 (4,0)->(5,0), handing to UserApp
1335795419983: inside handleDSMReply. Now back in originator leader of region 5
1335795419984: DSM layer: orig leader sent packet at 1335795419784 ~ received reply from remote leader at 1335795419983
1335795419985: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795419985: change leader replyCounter to: 38
1335795419986: =======================
1335795419986: inside sendReplies of replyCount = 501800038
1335795419986: reply packet contains the newest photo/success info from the remote region
1335795419987: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795419987: Leader about to send REPLY packet, number: 501800038 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795419987: inside sendReplyRepeatingRunnable for replyCount = 501800038
1335795419988: === Finished one round of sending REPLY Packet =======
1335795419988: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795419989: Inside _enableButtons
1335795419989: areButtonsEnabled --> true
1335795419989: disabling progressdialog due to successful new photo get
1335795419990: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018095 Client in region: (5,0) Client nodID: 5018
1335795419990: I'm a leader client, my final_leg packet going to mux directly
1335795419990: inside finalLegAck: change requestCounter to 95
1335795419990: send final leg ack regardless of new or already-processed reply
1335795419991: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800038
1335795419991: Yay the last leg succeeded. Removing reply runnables ...
1335795419991: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800038
1335795419991: got new request, requestCounter = 5018095
1335795419991: inside handleClientRequest. Originator leader of region 5
1335795419991: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795419991: mux: Inside mux Packet.CLIENT_REQUEST
1335795419992: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800038
1335795419992: do not send ack for received final_leg_ack
1335795419992: new client_show_remotephoto reply with replyCounter 501800038
1335795419992: note down new reply by adding replyCounter=501800038 to HashMap processedReplies
1335795419993: = leader download start 1335795419778 ~ stop 1335795419988
1335795419993: leader download remote photo latency = 210
1335795419994: one more getGood: 23
1335795419995: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=5 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=80% getNum=40 getGood=23 getBad=10 getTimedout=3 getPercent=57%
1335795419995: successful reply for client get photo
1335795419996: Remote photo's length: 4656
1335795419996: Success! Client getting photo from remote region, showing photo...
1335795420494: Received UDP payload: 446
1335795420833: Received UDP payload: 446
1335795420852: Received UDP payload: 446
1335795422000: inside sendPacket(Packet p)
1335795422001: Sending UDP payload: 446
1335795422039: canPressButton = TRUE
1335795422040: areButtonsEnabled --> false
1335795422040: areButtonsEnabled --> false
1335795422040: disabling buttons ...
1335795422040: took picture disableButtonsR
1335795422054: one more takeNum: 6
1335795422055: Clicked take picture button ..
1335795422055: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=5 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=66% getNum=40 getGood=23 getBad=10 getTimedout=3 getPercent=57%
1335795423418: inside HandlePictureStorage onPictureTaken()
1335795423419: one more takeCamGood: 6
1335795423419: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=4 takeBad=0 takeTimedout=0 takePercent=66% getNum=40 getGood=23 getBad=10 getTimedout=3 getPercent=57%
1335795423650: Received UDP payload: 446
1335795423681: Picture successfully taken, ORIG BYTE LENGTH = 3171147
1335795423904: Our new height x width: 306 x 408
1335795423905: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335795423905: Show photo from handle my camera take
1335795423905: change local requestCounter to 96
1335795423919: BYTE SIZE AFTER COMPRESSION: 3517
1335795423924: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5018096 Client in region: 5 Client nodID: 5018
1335795423951: ----------------------------
1335795423951: inside sendRequestPacketRepeatingRunnable for requestCount = 5018096
1335795423952: I'm a leader, my requesting photos packet going to mux directly
1335795423952: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335795423952: got new request, requestCounter = 5018096
1335795423952: inside handleClientRequest. Originator leader of region 5
1335795423952: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795423952: mux: Inside mux Packet.CLIENT_REQUEST
1335795423953: Dispatching Atom PROC_REQUEST 10:22 (5,0)->(5,0)
1335795423953: Make FirstLeg Ack regardless of new or already-processed requests
1335795423953: Note down new request by adding requestCounter=5018096 to HashMap processedRequests
1335795423953: Sending PROC_REQUEST 10:22 (5,0)->(5,0)
1335795423953: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795423954: mux: I got a CSM packet at a leader 
1335795423961: Sending UDP payload: 4528
1335795423962: --- Finished one round of sending REQUEST Packet ---------
1335795423970: inside handleDSMRequest. At requests's remote leader of region 5
1335795423970: removed replies before id 22 from sentReplies of size 0
1335795423972: Inside UPLOAD_PHOTO!!
1335795423981: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335795423981: my_gpinfo.isSuccess is now (should be true): true
1335795423982: Received PROC_REQUEST 10:22 (5,0)->(5,0), replying PROC_REPLY 10:22 (5,0)->(5,0)
1335795423983: Dispatching Atom PROC_REPLY 10:22 (5,0)->(5,0)
1335795423983: mux: I got a CSM packet at a leader 
1335795423984: Sending UDP payload: 989
1335795423989: Received PROC_REPLY 10:22 (5,0)->(5,0), handing to UserApp
1335795423990: DSM layer: Going to and from remote region took latency = 38
1335795423990: DSM layer: orig leader sent packet at 1335795423952 ~ received reply from remote leader at 1335795423990
1335795423990: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795423990: inside handleDSMReply. Now back in originator leader of region 5
1335795423991: === Finished one round of sending REPLY Packet =======
1335795423991: =======================
1335795423991: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795423991: Leader about to send REPLY packet, number: 501800039 type: 16 Leader in region: (5,0) to Client nodID: 5018
1335795423991: change leader replyCounter to: 39
1335795423991: inside sendReplies of replyCount = 501800039
1335795423991: inside sendReplyRepeatingRunnable for replyCount = 501800039
1335795423991: reply packet contains the success info for UPLOAD_PHOTO
1335795423996: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795423997: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335795423998: I'm a leader and I successfully saved my client's new photo
1335795423998: now showing in UI the new photo I just saved ... 
1335795423998: the photo length: 3517
1335795424039: end of server show photo aside %%%%%%%%%
1335795424040: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335795424041: Inside _enableButtons
1335795424041: areButtonsEnabled --> true
1335795424041: disabling progressdialog due to successful new photo upload
1335795424041: inside finalLegAck: change requestCounter to 97
1335795424041: send final leg ack regardless of new or already-processed reply
1335795424042: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018097 Client in region: (5,0) Client nodID: 5018
1335795424042: I'm a leader client, my final_leg packet going to mux directly
1335795424042: inside handleClientRequest. Originator leader of region 5
1335795424042: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795424042: mux: Inside mux Packet.CLIENT_REQUEST
1335795424043: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800039
1335795424043: Yay the last leg succeeded. Removing reply runnables ...
1335795424043: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800039
1335795424043: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800039
1335795424043: do not send ack for received final_leg_ack
1335795424043: got new request, requestCounter = 5018097
1335795424043: new client_upload_photo_ack reply with replyCounter 501800039
1335795424044: = leader upload start 1335795423952 ~ stop 1335795424040
1335795424044: leader upload new photo latency = 88
1335795424044: note down new reply by adding replyCounter=501800039 to HashMap processedReplies
1335795424047: one more takeGoodSave: 5
1335795424048: SUCCESS Client now knows saving photo on its leader succeeded
1335795424048: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=6 takeCamGood=6 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=83% getNum=40 getGood=23 getBad=10 getTimedout=3 getPercent=57%
1335795424388: Received UDP payload: 989
1335795424394: forwarding disabled, not forwarding packets
1335795424394: mux: GOT CSM_Msg
1335795424510: Received UDP payload: 5667
1335795424512: forwarding disabled, not forwarding packets
1335795424512: mux: GOT CSM_Msg
1335795424891: Received UDP payload: 6969
1335795424897: mux: Inside mux Packet.CLIENT_REQUEST
1335795425042: Received UDP payload: 446
1335795425046: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795425046: mux: Inside Packet.SERVER_REPLY
1335795425295: Received UDP payload: 642
1335795425301: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795425301: mux: Inside Packet.SERVER_REPLY
1335795425306: Received UDP payload: 642
1335795425312: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795425312: mux: Inside Packet.SERVER_REPLY
1335795425524: Received UDP payload: 446
1335795425527: mux: Inside mux Packet.CLIENT_REQUEST
1335795425553: Received UDP payload: 446
1335795425555: mux: Inside mux Packet.CLIENT_REQUEST
1335795425917: Received UDP payload: 446
1335795426121: Received UDP payload: 446
1335795426310: canPressButton = TRUE
1335795426311: areButtonsEnabled --> false
1335795426312: disabling buttons ...
1335795426312: took picture disableButtonsR
1335795426313: areButtonsEnabled --> false
1335795426355: one more takeNum: 7
1335795426356: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=6 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=71% getNum=40 getGood=23 getBad=10 getTimedout=3 getPercent=57%
1335795426357: Clicked take picture button ..
1335795427000: inside sendPacket(Packet p)
1335795427004: Sending UDP payload: 446
1335795427684: inside HandlePictureStorage onPictureTaken()
1335795427684: one more takeCamGood: 7
1335795427685: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=5 takeBad=0 takeTimedout=0 takePercent=71% getNum=40 getGood=23 getBad=10 getTimedout=3 getPercent=57%
1335795427947: Picture successfully taken, ORIG BYTE LENGTH = 2634402
1335795428044: Received UDP payload: 446
1335795428166: Our new height x width: 306 x 408
1335795428166: Show photo from handle my camera take
1335795428167: ** Client making NEWly TAKEN photo PACKET to send to leader **
1335795428167: change local requestCounter to 98
1335795428188: BYTE SIZE AFTER COMPRESSION: 3492
1335795428195: Client about to send CLIENT_UPLOAD_PHOTO packet, REQUEST: 5018098 Client in region: 5 Client nodID: 5018
1335795428230: ----------------------------
1335795428231: I'm a leader, my requesting photos packet going to mux directly
1335795428231: inside sendRequestPacketRepeatingRunnable for requestCount = 5018098
1335795428232: got new request, requestCounter = 5018098
1335795428232: inside handleClientRequest. Originator leader of region 5
1335795428232: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795428232: mux: Inside mux Packet.CLIENT_REQUEST
1335795428233: Dispatching Atom PROC_REQUEST 10:23 (5,0)->(5,0)
1335795428233: Leader received CLIENT_UPLOAD_PHOTO, so send atom packet to myself (remote region = me)
1335795428233: Note down new request by adding requestCounter=5018098 to HashMap processedRequests
1335795428233: Sending PROC_REQUEST 10:23 (5,0)->(5,0)
1335795428234: Make FirstLeg Ack regardless of new or already-processed requests
1335795428234: mux: I got a CSM packet at a leader 
1335795428234: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795428239: --- Finished one round of sending REQUEST Packet ---------
1335795428249: Sending UDP payload: 4503
1335795428252: inside handleDSMRequest. At requests's remote leader of region 5
1335795428252: removed replies before id 23 from sentReplies of size 0
1335795428255: Inside UPLOAD_PHOTO!!
1335795428263: Region leader successfully uploaded a new photo taken by a client in region. Region leader now display the new photo on its screen (through StatusActivity)
1335795428263: my_gpinfo.isSuccess is now (should be true): true
1335795428265: Dispatching Atom PROC_REPLY 10:23 (5,0)->(5,0)
1335795428265: Received PROC_REQUEST 10:23 (5,0)->(5,0), replying PROC_REPLY 10:23 (5,0)->(5,0)
1335795428265: mux: I got a CSM packet at a leader 
1335795428275: Sending UDP payload: 989
1335795428276: Received PROC_REPLY 10:23 (5,0)->(5,0), handing to UserApp
1335795428276: inside handleDSMReply. Now back in originator leader of region 5
1335795428277: DSM layer: Going to and from remote region took latency = 43
1335795428277: DSM layer: orig leader sent packet at 1335795428233 ~ received reply from remote leader at 1335795428276
1335795428278: =======================
1335795428278: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795428278: change leader replyCounter to: 40
1335795428278: inside sendReplies of replyCount = 501800040
1335795428278: inside sendReplyRepeatingRunnable for replyCount = 501800040
1335795428278: reply packet contains the success info for UPLOAD_PHOTO
1335795428279: === Finished one round of sending REPLY Packet =======
1335795428279: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795428279: Leader about to send REPLY packet, number: 501800040 type: 16 Leader in region: (5,0) to Client nodID: 5018
1335795428281: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795428283: %%%%%%%% aside: Leader got Packet.SERVER_SHOW_NEWPHOTO. I'm a leader showing my nonleader/myself client's new photo
1335795428284: I'm a leader and I successfully saved my client's new photo
1335795428285: now showing in UI the new photo I just saved ... 
1335795428285: the photo length: 3492
1335795428333: end of server show photo aside %%%%%%%%%
1335795428335: Client received Packet.CLIENT_UPLOAD_PHOTO_ACK
1335795428335: disabling progressdialog due to successful new photo upload
1335795428336: Inside _enableButtons
1335795428336: areButtonsEnabled --> true
1335795428336: inside finalLegAck: change requestCounter to 99
1335795428336: send final leg ack regardless of new or already-processed reply
1335795428337: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018099 Client in region: (5,0) Client nodID: 5018
1335795428337: I'm a leader client, my final_leg packet going to mux directly
1335795428337: mux: Inside mux Packet.CLIENT_REQUEST
1335795428338: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800040
1335795428338: Yay the last leg succeeded. Removing reply runnables ...
1335795428338: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800040
1335795428338: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800040
1335795428338: got new request, requestCounter = 5018099
1335795428338: inside handleClientRequest. Originator leader of region 5
1335795428338: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795428339: do not send ack for received final_leg_ack
1335795428339: new client_upload_photo_ack reply with replyCounter 501800040
1335795428339: note down new reply by adding replyCounter=501800040 to HashMap processedReplies
1335795428340: = leader upload start 1335795428231 ~ stop 1335795428335
1335795428340: leader upload new photo latency = 104
1335795428341: one more takeGoodSave: 6
1335795428342: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=40 getGood=23 getBad=10 getTimedout=3 getPercent=57%
1335795428343: SUCCESS Client now knows saving photo on its leader succeeded
1335795428638: Received UDP payload: 446
1335795428669: Received UDP payload: 446
1335795429584: Received UDP payload: 446
1335795429601: areButtonsEnabled --> false 
1335795429601: canPressButton = TRUE
1335795429601: get picture disableButtonsR
1335795429602: areButtonsEnabled --> false
1335795429619: one more getNum: 41
1335795429620: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 5 **
1335795429620: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=41 getGood=23 getBad=10 getTimedout=3 getPercent=56%
1335795429621: change local requestCounter to 100
1335795429622: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018100 Client in region: 5 Client nodID: 5018
1335795429653: ----------------------------
1335795429653: I'm a leader, my requesting photos packet going to mux directly
1335795429653: inside sendRequestPacketRepeatingRunnable for requestCount = 5018100
1335795429654: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795429654: got new request, requestCounter = 5018100
1335795429654: inside handleClientRequest. Originator leader of region 5
1335795429654: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795429654: mux: Inside mux Packet.CLIENT_REQUEST
1335795429655: Dispatching Atom PROC_REQUEST 11:24 (5,0)->(5,0)
1335795429655: Sending PROC_REQUEST 11:24 (5,0)->(5,0)
1335795429655: Sending to region: 5
1335795429656: Make FirstLeg Ack regardless of new or already-processed requests
1335795429656: Note down new request by adding requestCounter=5018100 to HashMap processedRequests
1335795429656: mux: I got a CSM packet at a leader 
1335795429656: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795429659: Sending UDP payload: 989
1335795429659: removed replies before id 24 from sentReplies of size 0
1335795429660: INSIDE SERVER_GET_PHOTO!!!
1335795429660: inside handleDSMRequest. At requests's remote leader of region 5
1335795429661:  1 self to self atomRequest
1335795429661: dst_region == src_region = 5
1335795429662: Dispatching Atom PROC_REPLY 11:24 (5,0)->(5,0)
1335795429662: Received PROC_REQUEST 11:24 (5,0)->(5,0), replying PROC_REPLY 11:24 (5,0)->(5,0)
1335795429663: mux: I got a CSM packet at a leader 
1335795429664: --- Finished one round of sending REQUEST Packet ---------
1335795429664: Sending UDP payload: 4503
1335795429670: Received PROC_REPLY 11:24 (5,0)->(5,0), handing to UserApp
1335795429671: DSM layer: Going to and from remote region took latency = 16
1335795429671: DSM layer: orig leader sent packet at 1335795429655 ~ received reply from remote leader at 1335795429671
1335795429671: inside handleDSMReply. Now back in originator leader of region 5
1335795429672: =======================
1335795429672: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795429672: change leader replyCounter to: 41
1335795429672: inside sendReplies of replyCount = 501800041
1335795429672: inside sendReplyRepeatingRunnable for replyCount = 501800041
1335795429672: reply packet contains the newest photo/success info from the remote region
1335795429673: === Finished one round of sending REPLY Packet =======
1335795429673: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795429673: Leader about to send REPLY packet, number: 501800041 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795429698: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795429701: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795429701: Inside _enableButtons
1335795429701: areButtonsEnabled --> true
1335795429701: disabling progressdialog due to successful new photo get
1335795429702: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018101 Client in region: (5,0) Client nodID: 5018
1335795429702: I'm a leader client, my final_leg packet going to mux directly
1335795429702: inside finalLegAck: change requestCounter to 101
1335795429702: send final leg ack regardless of new or already-processed reply
1335795429703: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800041
1335795429703: Yay the last leg succeeded. Removing reply runnables ...
1335795429703: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800041
1335795429703: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800041
1335795429703: do not send ack for received final_leg_ack
1335795429703: got new request, requestCounter = 5018101
1335795429703: inside handleClientRequest. Originator leader of region 5
1335795429703: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795429703: mux: Inside mux Packet.CLIENT_REQUEST
1335795429704: = leader download start 1335795429654 ~ stop 1335795429701
1335795429704: leader download remote photo latency = 47
1335795429704: new client_show_remotephoto reply with replyCounter 501800041
1335795429704: note down new reply by adding replyCounter=501800041 to HashMap processedReplies
1335795429706: one more getGood: 24
1335795429706: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=41 getGood=24 getBad=10 getTimedout=3 getPercent=58%
1335795429707: Remote photo's length: 3492
1335795429707: Success! Client getting photo from remote region, showing photo...
1335795429707: successful reply for client get photo
1335795429976: Received UDP payload: 625
1335795429983: mux: Inside mux Packet.CLIENT_REQUEST
1335795430028: Received UDP payload: 989
1335795430032: forwarding disabled, not forwarding packets
1335795430032: mux: GOT CSM_Msg
1335795430039: Received UDP payload: 446
1335795430041: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795430041: mux: Inside Packet.SERVER_REPLY
1335795430526: Received UDP payload: 446
1335795430742: Received UDP payload: 446
1335795430768: Received UDP payload: 989
1335795430781: forwarding disabled, not forwarding packets
1335795430781: mux: GOT CSM_Msg
1335795430889: Received UDP payload: 989
1335795430898: forwarding disabled, not forwarding packets
1335795430898: mux: GOT CSM_Msg
1335795431106: Received UDP payload: 989
1335795431114: mux: GOT CSM_Msg
1335795431115: forwarding disabled, not forwarding packets
1335795431152: Received UDP payload: 625
1335795431159: mux: Inside mux Packet.CLIENT_REQUEST
1335795431186: Received UDP payload: 989
1335795431188: forwarding disabled, not forwarding packets
1335795431188: mux: GOT CSM_Msg
1335795431296: Received UDP payload: 989
1335795431298: forwarding disabled, not forwarding packets
1335795431298: mux: GOT CSM_Msg
1335795431391: Received UDP payload: 989
1335795431393: forwarding disabled, not forwarding packets
1335795431393: mux: GOT CSM_Msg
1335795431501: Received UDP payload: 989
1335795431503: forwarding disabled, not forwarding packets
1335795431503: mux: GOT CSM_Msg
1335795431602: Received UDP payload: 989
1335795431604: forwarding disabled, not forwarding packets
1335795431604: mux: GOT CSM_Msg
1335795431716: Received UDP payload: 989
1335795431718: forwarding disabled, not forwarding packets
1335795431718: mux: GOT CSM_Msg
1335795431752: Received UDP payload: 625
1335795431755: mux: Inside mux Packet.CLIENT_REQUEST
1335795431814: Received UDP payload: 989
1335795431816: forwarding disabled, not forwarding packets
1335795431816: mux: GOT CSM_Msg
1335795431887: Received UDP payload: 625
1335795431888: mux: Inside mux Packet.CLIENT_REQUEST
1335795431997: Received UDP payload: 989
1335795432000: forwarding disabled, not forwarding packets
1335795432000: mux: GOT CSM_Msg
1335795432001: inside sendPacket(Packet p)
1335795432007: Sending UDP payload: 446
1335795432060: Received UDP payload: 625
1335795432062: mux: Inside mux Packet.CLIENT_REQUEST
1335795432077: Received UDP payload: 989
1335795432080: forwarding disabled, not forwarding packets
1335795432080: mux: GOT CSM_Msg
1335795432139: Received UDP payload: 989
1335795432142: forwarding disabled, not forwarding packets
1335795432142: mux: GOT CSM_Msg
1335795432147: Received UDP payload: 446
1335795432148: mux: Inside Packet.SERVER_REPLY
1335795432149: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795432179: Received UDP payload: 446
1335795432180: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795432180: mux: Inside Packet.SERVER_REPLY
1335795432202: Received UDP payload: 989
1335795432205: forwarding disabled, not forwarding packets
1335795432205: mux: GOT CSM_Msg
1335795432300: Received UDP payload: 7333
1335795432303: forwarding disabled, not forwarding packets
1335795432303: mux: GOT CSM_Msg
1335795432339: Received UDP payload: 989
1335795432341: forwarding disabled, not forwarding packets
1335795432341: mux: GOT CSM_Msg
1335795432412: Received UDP payload: 446
1335795432414: mux: Inside Packet.SERVER_REPLY
1335795432415: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795432435: Received UDP payload: 642
1335795432439: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795432439: mux: Inside Packet.SERVER_REPLY
1335795432592: Received UDP payload: 7333
1335795432602: mux: GOT CSM_Msg
1335795432603: forwarding disabled, not forwarding packets
1335795432623: Received UDP payload: 989
1335795432631: mux: GOT CSM_Msg
1335795432632: forwarding disabled, not forwarding packets
1335795432667: Received UDP payload: 989
1335795432688: Received UDP payload: 989
1335795432688: forwarding disabled, not forwarding packets
1335795432688: mux: GOT CSM_Msg
1335795432690: forwarding disabled, not forwarding packets
1335795432690: mux: GOT CSM_Msg
1335795432709: Received UDP payload: 989
1335795432711: forwarding disabled, not forwarding packets
1335795432711: mux: GOT CSM_Msg
1335795432786: Received UDP payload: 989
1335795432788: forwarding disabled, not forwarding packets
1335795432788: mux: GOT CSM_Msg
1335795432933: Received UDP payload: 5886
1335795432934: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795432934: mux: Inside Packet.SERVER_REPLY
1335795432963: Received UDP payload: 446
1335795432964: mux: Inside mux Packet.CLIENT_REQUEST
1335795433607: Received UDP payload: 446
1335795434749: areButtonsEnabled --> false 
1335795434749: canPressButton = TRUE
1335795434750: areButtonsEnabled --> false
1335795434750: get picture disableButtonsR
1335795434789: one more getNum: 42
1335795434790: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=42 getGood=24 getBad=10 getTimedout=3 getPercent=57%
1335795434791: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 0 **
1335795434791: change local requestCounter to 102
1335795434793: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018102 Client in region: 5 Client nodID: 5018
1335795434825: ----------------------------
1335795434825: I'm a leader, my requesting photos packet going to mux directly
1335795434825: inside sendRequestPacketRepeatingRunnable for requestCount = 5018102
1335795434826: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795434826: got new request, requestCounter = 5018102
1335795434826: inside handleClientRequest. Originator leader of region 5
1335795434826: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795434826: mux: Inside mux Packet.CLIENT_REQUEST
1335795434828: Sending to region: 0
1335795434829: Sending PROC_REQUEST 11:3 (5,0)->(0,0)
1335795434830: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795434830: Make FirstLeg Ack regardless of new or already-processed requests
1335795434830: Note down new request by adding requestCounter=5018102 to HashMap processedRequests
1335795434830: mux: I got a CSM packet at a leader 
1335795434830: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795434832: Sending UDP payload: 989
1335795434833: --- Finished one round of sending REQUEST Packet ---------
1335795434835: forwarding disabled, not forwarding packets
1335795434876: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795435570: Received UDP payload: 446
1335795435626: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795435626: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795435628: mux: I got a CSM packet at a leader 
1335795435629: Sending UDP payload: 989
1335795435629: forwarding disabled, not forwarding packets
1335795435726: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795435727: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795435727: mux: I got a CSM packet at a leader 
1335795435728: Sending UDP payload: 989
1335795435730: forwarding disabled, not forwarding packets
1335795435827: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795435828: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795435828: mux: I got a CSM packet at a leader 
1335795435829: Sending UDP payload: 989
1335795435830: forwarding disabled, not forwarding packets
1335795435928: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795435928: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795435929: mux: I got a CSM packet at a leader 
1335795435930: Sending UDP payload: 989
1335795435931: forwarding disabled, not forwarding packets
1335795436029: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436029: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436030: mux: I got a CSM packet at a leader 
1335795436031: Sending UDP payload: 989
1335795436031: forwarding disabled, not forwarding packets
1335795436130: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436131: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436131: mux: I got a CSM packet at a leader 
1335795436134: Sending UDP payload: 989
1335795436136: forwarding disabled, not forwarding packets
1335795436199: Received UDP payload: 446
1335795436232: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436232: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436233: mux: I got a CSM packet at a leader 
1335795436243: Sending UDP payload: 989
1335795436244: forwarding disabled, not forwarding packets
1335795436333: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436334: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436340: mux: I got a CSM packet at a leader 
1335795436344: Sending UDP payload: 989
1335795436345: forwarding disabled, not forwarding packets
1335795436436: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436436: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436437: mux: I got a CSM packet at a leader 
1335795436440: Sending UDP payload: 989
1335795436441: forwarding disabled, not forwarding packets
1335795436537: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436537: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436537: mux: I got a CSM packet at a leader 
1335795436538: Sending UDP payload: 989
1335795436539: forwarding disabled, not forwarding packets
1335795436638: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436638: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436639: mux: I got a CSM packet at a leader 
1335795436641: Sending UDP payload: 989
1335795436643: forwarding disabled, not forwarding packets
1335795436739: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436740: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436740: mux: I got a CSM packet at a leader 
1335795436741: Sending UDP payload: 989
1335795436742: forwarding disabled, not forwarding packets
1335795436840: Retrying PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436841: Dispatching Atom PROC_REQUEST 11:3 (5,0)->(0,0)
1335795436841: mux: I got a CSM packet at a leader 
1335795436843: Sending UDP payload: 989
1335795436850: forwarding disabled, not forwarding packets
1335795436942: DSM Layer: Request timed out, send failure PROC_REPLY 11:3 (0,0)->(5,0)
1335795436942: Dispatching Atom PROC_REPLY 11:3 (0,0)->(5,0)
1335795436943: mux: I got a CSM packet at a leader 
1335795436945: Sending UDP payload: 989
1335795436947: Received PROC_REPLY 11:3 (0,0)->(5,0), handing to UserApp
1335795436947: inside handleDSMReply. Now back in originator leader of region 5
1335795436948: DSM layer timed out, don't log dsm layer latency stuff.
1335795436949: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795436950: change leader replyCounter to: 42
1335795436950: reply packet contains the newest photo/success info from the remote region
1335795436951: inside sendReplies of replyCount = 501800042
1335795436952: =======================
1335795436952: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795436952: Leader about to send REPLY packet, number: 501800042 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795436952: inside sendReplyRepeatingRunnable for replyCount = 501800042
1335795436953: === Finished one round of sending REPLY Packet =======
1335795436966: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795436967: disabling progressdialog due to successful new photo get
1335795436968: Inside _enableButtons
1335795436968: areButtonsEnabled --> true
1335795436968: send final leg ack regardless of new or already-processed reply
1335795436969: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018103 Client in region: (5,0) Client nodID: 5018
1335795436969: inside finalLegAck: change requestCounter to 103
1335795436970: I'm a leader client, my final_leg packet going to mux directly
1335795436970: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795436970: mux: Inside mux Packet.CLIENT_REQUEST
1335795436970: new client_show_remotephoto reply with replyCounter 501800042
1335795436971: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800042
1335795436971: got new request, requestCounter = 5018103
1335795436971: inside handleClientRequest. Originator leader of region 5
1335795436971: leader download remote photo latency = 2140
1335795436971: note down new reply by adding replyCounter=501800042 to HashMap processedReplies
1335795436972: = leader download start 1335795434826 ~ stop 1335795436966
1335795436972: Yay the last leg succeeded. Removing reply runnables ...
1335795436972: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800042
1335795436973: Can't get remote photo, because DSM Layer on originator leader timed out
1335795436973: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800042
1335795436973: do not send ack for received final_leg_ack
1335795436979: one more getBad: 11
1335795436980: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=42 getGood=24 getBad=11 getTimedout=3 getPercent=57%
1335795436981: getBad++
1335795437001: inside sendPacket(Packet p)
1335795437005: Sending UDP payload: 446
1335795437301: Received UDP payload: 5214
1335795437307: mux: GOT CSM_Msg
1335795437308: Received DUPLICATE PROC_REPLY 11:3 (0,0)->(5,0)
1335795437500: Received UDP payload: 5214
1335795437506: mux: GOT CSM_Msg
1335795437507: Received DUPLICATE PROC_REPLY 11:3 (0,0)->(5,0)
1335795437704: Received UDP payload: 625
1335795437709: mux: Inside mux Packet.CLIENT_REQUEST
1335795437766: Received UDP payload: 463
1335795437783: Received UDP payload: 446
1335795437789: Received UDP payload: 446
1335795438045: Received UDP payload: 625
1335795438051: mux: Inside mux Packet.CLIENT_REQUEST
1335795438318: Received UDP payload: 625
1335795438322: mux: Inside mux Packet.CLIENT_REQUEST
1335795438418: Received UDP payload: 625
1335795438422: mux: Inside mux Packet.CLIENT_REQUEST
1335795438626: Received UDP payload: 446
1335795438632: Received UDP payload: 625
1335795438635: mux: Inside mux Packet.CLIENT_REQUEST
1335795438644: Received UDP payload: 989
1335795438656: mux: GOT CSM_Msg
1335795438657: forwarding disabled, not forwarding packets
1335795438663: Received UDP payload: 446
1335795438667: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795438667: mux: Inside Packet.SERVER_REPLY
1335795438686: Received UDP payload: 446
1335795438984: canPressButton = TRUE
1335795438985: areButtonsEnabled --> false
1335795438985: areButtonsEnabled --> false 
1335795438985: get picture disableButtonsR
1335795439015: one more getNum: 43
1335795439016: ** Client of state 2 in region 5 making GET photo PACKET to send to the leader. Requesting for region: 4 **
1335795439016: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=43 getGood=24 getBad=11 getTimedout=3 getPercent=55%
1335795439017: Client about to send CLIENT_DOWNLOAD_PHOTO packet, REQUEST: 5018104 Client in region: 5 Client nodID: 5018
1335795439017: change local requestCounter to 104
1335795439080: ----------------------------
1335795439080: I'm a leader, my requesting photos packet going to mux directly
1335795439080: inside sendRequestPacketRepeatingRunnable for requestCount = 5018104
1335795439081: Leader received CLIENT_DOWNLOAD_PHOTO, figure out where (remote region) to forward packet
1335795439081: got new request, requestCounter = 5018104
1335795439081: inside handleClientRequest. Originator leader of region 5
1335795439081: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795439081: mux: Inside mux Packet.CLIENT_REQUEST
1335795439082: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795439082: Sending PROC_REQUEST 11:12 (5,0)->(4,0)
1335795439082: Sending to region: 4
1335795439083: Make FirstLeg Ack regardless of new or already-processed requests
1335795439083: Note down new request by adding requestCounter=5018104 to HashMap processedRequests
1335795439083: mux: I got a CSM packet at a leader 
1335795439083: sending a First Leg ack to myself, becaues I (the leader) was also the originator client (id = 5018)
1335795439084: Sending UDP payload: 989
1335795439085: --- Finished one round of sending REQUEST Packet ---------
1335795439085: forwarding disabled, not forwarding packets
1335795439103: Received UDP payload: 19612
1335795439126: Client received Packet.SERVER_FIRST_LEG_ACK. Yay the first leg succeeded, removing all request runnables
1335795439142: Received UDP payload: 463
1335795439232: Received UDP payload: 989
1335795439234: forwarding disabled, not forwarding packets
1335795439234: mux: GOT CSM_Msg
1335795439328: Received UDP payload: 989
1335795439331: forwarding disabled, not forwarding packets
1335795439331: mux: GOT CSM_Msg
1335795439418: Received UDP payload: 989
1335795439420: mux: GOT CSM_Msg
1335795439421: forwarding disabled, not forwarding packets
1335795439854: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795439854: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795439854: mux: I got a CSM packet at a leader 
1335795439856: Sending UDP payload: 989
1335795439856: forwarding disabled, not forwarding packets
1335795439955: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795439955: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795439956: mux: I got a CSM packet at a leader 
1335795439957: Sending UDP payload: 989
1335795439958: forwarding disabled, not forwarding packets
1335795440036: Received UDP payload: 6233
1335795440038: forwarding disabled, not forwarding packets
1335795440038: mux: GOT CSM_Msg
1335795440056: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440056: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440057: mux: I got a CSM packet at a leader 
1335795440058: Sending UDP payload: 989
1335795440058: forwarding disabled, not forwarding packets
1335795440125: Received UDP payload: 446
1335795440157: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440157: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440157: mux: I got a CSM packet at a leader 
1335795440158: Sending UDP payload: 989
1335795440159: forwarding disabled, not forwarding packets
1335795440234: Received UDP payload: 989
1335795440236: forwarding disabled, not forwarding packets
1335795440236: mux: GOT CSM_Msg
1335795440258: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440258: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440258: mux: I got a CSM packet at a leader 
1335795440259: Sending UDP payload: 989
1335795440260: forwarding disabled, not forwarding packets
1335795440274: Received UDP payload: 989
1335795440276: forwarding disabled, not forwarding packets
1335795440276: mux: GOT CSM_Msg
1335795440359: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440359: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440359: mux: I got a CSM packet at a leader 
1335795440363: Sending UDP payload: 989
1335795440364: forwarding disabled, not forwarding packets
1335795440431: Received UDP payload: 446
1335795440460: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440461: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440461: mux: I got a CSM packet at a leader 
1335795440464: Sending UDP payload: 989
1335795440472: forwarding disabled, not forwarding packets
1335795440561: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440562: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440562: mux: I got a CSM packet at a leader 
1335795440568: Sending UDP payload: 989
1335795440568: forwarding disabled, not forwarding packets
1335795440663: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440664: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440664: mux: I got a CSM packet at a leader 
1335795440666: Sending UDP payload: 989
1335795440667: forwarding disabled, not forwarding packets
1335795440743: Received UDP payload: 446
1335795440765: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440766: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440766: mux: I got a CSM packet at a leader 
1335795440768: Sending UDP payload: 989
1335795440768: forwarding disabled, not forwarding packets
1335795440868: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440868: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440869: mux: I got a CSM packet at a leader 
1335795440870: Sending UDP payload: 989
1335795440871: forwarding disabled, not forwarding packets
1335795440970: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440971: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795440971: mux: I got a CSM packet at a leader 
1335795440977: Sending UDP payload: 989
1335795440978: forwarding disabled, not forwarding packets
1335795441072: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795441073: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795441073: mux: I got a CSM packet at a leader 
1335795441076: Sending UDP payload: 989
1335795441078: forwarding disabled, not forwarding packets
1335795441174: Retrying PROC_REQUEST 11:12 (5,0)->(4,0)
1335795441175: Dispatching Atom PROC_REQUEST 11:12 (5,0)->(4,0)
1335795441176: mux: I got a CSM packet at a leader 
1335795441179: Sending UDP payload: 989
1335795441180: forwarding disabled, not forwarding packets
1335795441276: DSM Layer: Request timed out, send failure PROC_REPLY 11:12 (4,0)->(5,0)
1335795441277: Dispatching Atom PROC_REPLY 11:12 (4,0)->(5,0)
1335795441277: mux: I got a CSM packet at a leader 
1335795441279: Sending UDP payload: 989
1335795441280: Received PROC_REPLY 11:12 (4,0)->(5,0), handing to UserApp
1335795441282: DSM layer timed out, don't log dsm layer latency stuff.
1335795441282: inside handleDSMReply. Now back in originator leader of region 5
1335795441285: Originator Region=5's Leader (for Client=5018) processes remote region's dsm atom reply and will send Packet reply to Originator Client
1335795441285: change leader replyCounter to: 43
1335795441285: inside sendReplies of replyCount = 501800043
1335795441285: reply packet contains the newest photo/success info from the remote region
1335795441286: =======================
1335795441286: inside sendReplyRepeatingRunnable for replyCount = 501800043
1335795441287: Leader about to send REPLY packet, number: 501800043 type: 15 Leader in region: (5,0) to Client nodID: 5018
1335795441288: === Finished one round of sending REPLY Packet =======
1335795441288: I (the leader) was also the originator client (id = 5018) so I hand the packet to my mux directly, without UDP
1335795441300: Client received Packet.CLIENT_SHOW_REMOTEPHOTOS. Client requested for a photo in a remote region and this is the reply
1335795441301: Inside _enableButtons
1335795441301: disabling progressdialog due to successful new photo get
1335795441302: areButtonsEnabled --> true
1335795441303: inside finalLegAck: change requestCounter to 105
1335795441303: send final leg ack regardless of new or already-processed reply
1335795441304: Client about to send CLIENT_FINAL_LEG_ACK packet, REQUEST: 5018105 Client in region: (5,0) Client nodID: 5018
1335795441305: I'm a leader client, my final_leg packet going to mux directly
1335795441306: inside handleClientRequest. Originator leader of region 5
1335795441306: mux: I'm the leader of requesting client, about to process Packet.CLIENT_REQUEST in userApp
1335795441306: mux: Inside mux Packet.CLIENT_REQUEST
1335795441307: Leader received CLIENT_FINAL_LEG_ACK with replyCounter of 501800043
1335795441307: Yay the last leg succeeded. Removing reply runnables ...
1335795441307: got new request, requestCounter = 5018105
1335795441307: new client_show_remotephoto reply with replyCounter 501800043
1335795441307: note down new reply by adding replyCounter=501800043 to HashMap processedReplies
1335795441308: = leader download start 1335795439081 ~ stop 1335795441300
1335795441308: deleting the key's associated reply_REPEATING_RMap runnable for replyCount 501800043
1335795441308: deleting the key's associated reply_TIMEOUT_RMap runnable for replyCount 501800043
1335795441308: do not send ack for received final_leg_ack
1335795441308: leader download remote photo latency = 2219
1335795441312: Can't get remote photo, because DSM Layer on originator leader timed out
1335795441316: one more getBad: 12
1335795441317: reg=5 id=5018 state=2 regionWidth=20.0 hyst=0.0 takeNum=7 takeCamGood=7 takeGoodSave=6 takeBad=0 takeTimedout=0 takePercent=85% getNum=43 getGood=24 getBad=12 getTimedout=3 getPercent=55%
1335795441318: getBad++
1335795442004: inside sendPacket(Packet p)
1335795442007: Sending UDP payload: 446
1335795443326: Received UDP payload: 989
1335795443341: mux: GOT CSM_Msg
1335795443342: forwarding disabled, not forwarding packets
1335795443567: Received UDP payload: 5886
1335795443572: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795443572: mux: Inside Packet.SERVER_REPLY
1335795443872: Received UDP payload: 5886
1335795443877: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795443877: mux: Inside Packet.SERVER_REPLY
1335795444338: Received UDP payload: 446
1335795444615: Received UDP payload: 19595
1335795444623: ignoring leader_reply that's not for me
1335795445768: Received UDP payload: 5886
1335795445773: mux: Ignoring SERVER_REPLY since it's not for me  5018
1335795445773: mux: Inside Packet.SERVER_REPLY
1335795445788: Received UDP payload: 446
1335795445798: Received UDP payload: 446
1335795445811: mux: Inside mux Packet.CLIENT_REQUEST
1335795445976: Received UDP payload: 446
1335795447004: inside sendPacket(Packet p)
1335795447012: Sending UDP payload: 446
1335795447167: Received UDP payload: 446
1335795447727: Received UDP payload: 446
1335795451550: please input some width
1335795451628: Received UDP payload: 446
1335795451697: HI I'm in ONPAUSE()
1335795451949: Received UDP payload: 446
1335795452005: inside sendPacket(Packet p)
1335795452006: Sending UDP payload: 446
1335795452245: Received UDP payload: 19612
1335795452723: Received UDP payload: 446
1335795452965: inside onDestroy()
